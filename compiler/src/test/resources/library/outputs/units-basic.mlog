set SYS_MESSAGE null
set _initial_flag null
set _unit_type null
set _x null
set _y null
ubind null
jump 9 notEqual @unit null
set __tmp0 null
jump 21 always 0 0
set __fn0__first_unit @unit
sensor __tmp4 @unit @controlled
jump 15 notEqual __tmp4 0
ucontrol flag null 0 0 0 0
set __tmp0 @unit
jump 21 always 0 0
sensor __tmp7 __fn0__first_unit @dead
jump 18 notEqual __tmp7 1
set __fn0__first_unit @unit
ubind null
jump 10 notEqual __fn0__first_unit @unit
set __tmp0 null
print __tmp0
print "\n"
ubind null
jump 27 notEqual @unit null
set __tmp12 null
jump 54 always 0 0
set __fn1__first_unit @unit
set __fn1__best_unit null
set __fn1__best_distance 10000000000
sensor __tmp16 @unit @controlled
jump 41 notEqual __tmp16 0
sensor __tmp19 @unit @x
op sub __tmp20 __tmp19 null
sensor __tmp21 @unit @y
op sub __tmp22 __tmp21 null
op len __fn1__distance __tmp20 __tmp22
jump 44 greaterThanEq __fn1__distance __fn1__best_distance
set __fn1__best_distance __fn1__distance
set __fn1__best_unit @unit
jump 44 always 0 0
sensor __tmp27 __fn1__first_unit @dead
jump 44 notEqual __tmp27 1
set __fn1__first_unit @unit
ubind null
jump 30 notEqual __fn1__first_unit @unit
jump 49 notEqual __fn1__best_unit null
set __tmp12 null
jump 54 always 0 0
sensor __tmp34 __fn1__best_unit @controlled
jump 23 notEqual __tmp34 0
ubind __fn1__best_unit
ucontrol flag null 0 0 0 0
set __tmp12 __fn1__best_unit
print __tmp12
print "\n"
ubind null
jump 64 notEqual @unit null
jump 56 equal SYS_MESSAGE false
print "No unit of type "
print null
print " found."
printflush SYS_MESSAGE
jump 56 always 0 0
sensor __tmp41 @unit @controlled
jump 72 equal __tmp41 0
jump 56 equal SYS_MESSAGE false
print "Looking for a free "
print null
print "..."
printflush SYS_MESSAGE
jump 56 always 0 0
ucontrol flag null 0 0 0 0
set __tmp37 @unit
print __tmp37
print "\n"
end
print "Compiled by Mindcode - github.com/cardillan/mindcode"
