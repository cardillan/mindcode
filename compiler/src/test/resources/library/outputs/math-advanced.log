Number of reported ambiguities: 46
Active optimizations:
    case-expression-optimization = advanced,
    case-switching = advanced,
    data-flow-optimization = advanced,
    dead-code-elimination = advanced,
    expression-optimization = advanced,
    function-inlining = advanced,
    if-expression-optimization = advanced,
    jump-normalization = advanced,
    jump-optimization = advanced,
    jump-straightening = advanced,
    jump-threading = advanced,
    loop-hoisting = advanced,
    loop-optimization = advanced,
    loop-unrolling = advanced,
    print-merging = advanced,
    return-optimization = advanced,
    single-step-elimination = advanced,
    stack-optimization = advanced,
    temp-variables-elimination = advanced,
    unreachable-code-elimination = advanced

   396 instructions before optimizations.
    16 instructions eliminated by Temp Variables Elimination.
    22 instructions eliminated by Dead Code Elimination (3 iterations).
     3 instructions eliminated by Jump Normalization (4 iterations).
     2 instructions eliminated by Jump Optimization (4 iterations).
     8 instructions eliminated by Single Step Elimination (2 passes, 6 iterations).
     3 instructions eliminated by If Expression Optimization (3 iterations).
   143 instructions eliminated by Data Flow Optimization (2 passes, 9 iterations).
     8 instructions added by Function Inlining (4 iterations).
     4 function calls inlined by Function Inlining.
     7 instructions eliminated by Unreachable Code Elimination.
   193 instructions eliminated by Print Merging.
     7 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 779):
  * Function Inlining: inline function sign                      cost    14, benefit       14.0, efficiency        1.0 (-3 instructions)
    Function Inlining: inline function call at line 14           cost     5, benefit        3.5, efficiency        0.7
    Function Inlining: inline function call at line 15           cost     5, benefit        3.5, efficiency        0.7
    Function Inlining: inline function call at line 16           cost     5, benefit        3.5, efficiency        0.7
    Function Inlining: inline function call at line 17           cost     5, benefit        3.5, efficiency        0.7

Final code before resolving virtual instructions:

    0:  op add __fn39__result null 0
    1:  print "T:distance forward\nE:5\nA:5\nT:distance backward\nE:5\nA:5\nT:round(1.5)\nE:2\nA:2\nT:round(1.7)\nE:2\nA:2\nT:round(2.1)\nE:2\nA:2\nT:round(2.5)\nE:3\nA:3\nT:round(-3.5)\nE:-3\nA:-3\nT:frac(3.5)\nE:0.5\nA:0.5\nT:frac(-1.5)\nE:-0.5\nA:-0.5\nT:sign(0)\nE:0\nA:0\nT:sign(1e-7)\nE:0\nA:0\nT:sign(1e-5)\nE:1\nA:1\nT:sign(-5)\nE:-1\nA:-1\nT:signExact(0)\nE:0\nA:0\nT:signExact(1e-7)\nE:1\nA:1\nT:signExact(-1e-7)\nE:-1\nA:-1\nT:isZero(0)\nE:1\nA:1\nT:isZero(1e-50)\nE:0\nA:0\nT:isZero(-1e-50)\nE:0\nA:0\nT:isZero(0.01,0.01)\nE:0\nA:0\nT:nullToZero(null)\nE:0\nA:"
    2:  print __fn39__result
    3:  op add __fn41__result 1 0
    4:  print "\nT:nullToZero(1)\nE:1\nA:"
    5:  print __fn41__result
    6:  print "\n"
