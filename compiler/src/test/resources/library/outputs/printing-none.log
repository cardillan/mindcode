
Final code before resolving virtual instructions:

    0:  assertflush
    1:  set :fn3:number null
    2:  setaddr :fn3*retaddr *label8
    3:  call *label3 :fn3*retval
        label *label8
    4:  assertprints "0" "printNumber(null)"
    5:  assertflush
    6:  set :fn3:number 1
    7:  setaddr :fn3*retaddr *label9
    8:  call *label3 :fn3*retval
        label *label9
    9:  assertprints "1" "printNumber(1)"
   10:  assertflush
   11:  set :fn3:number 1.5
   12:  setaddr :fn3*retaddr *label10
   13:  call *label3 :fn3*retval
        label *label10
   14:  assertprints "1" "printNumber(1.5)"
   15:  assertflush
   16:  set :fn3:number -1.5
   17:  setaddr :fn3*retaddr *label11
   18:  call *label3 :fn3*retval
        label *label11
   19:  assertprints "-1" "printNumber(-1.5)"
   20:  assertflush
   21:  set :fn3:number 1234567
   22:  setaddr :fn3*retaddr *label12
   23:  call *label3 :fn3*retval
        label *label12
   24:  assertprints "1,234,567" "printNumber(1234567)"
   25:  assertflush
   26:  set :fn3:number -1234567
   27:  setaddr :fn3*retaddr *label13
   28:  call *label3 :fn3*retval
        label *label13
   29:  assertprints "-1,234,567" "printNumber(-1234567)"
   30:  assertflush
   31:  set :fn3:number 9009099
   32:  setaddr :fn3*retaddr *label14
   33:  call *label3 :fn3*retval
        label *label14
   34:  assertprints "9,009,099" "printNumber(9009099)"
   35:  assertflush
   36:  set :fn4:number 0b1001
   37:  set :fn4:digits 0
   38:  setaddr :fn4*retaddr *label15
   39:  call *label4 :fn4*retval
        label *label15
   40:  assertprints "0b1001" "printBinaryNumber(0b1001, 0)"
   41:  assertflush
   42:  set :fn4:number 0b1010
   43:  set :fn4:digits 6
   44:  setaddr :fn4*retaddr *label16
   45:  call *label4 :fn4*retval
        label *label16
   46:  assertprints "0b001010" "printBinaryNumber(0b1010, 6)"
   47:  assertflush
   48:  set :fn5:number 0xABCDEF
   49:  set :fn5:digits 0
   50:  setaddr :fn5*retaddr *label17
   51:  call *label5 :fn5*retval
        label *label17
   52:  assertprints "0xABCDEF" "printHexNumber(0xABCDEF, 0)"
   53:  assertflush
   54:  set :fn5:number 0x1234567890
   55:  set :fn5:digits 0
   56:  setaddr :fn5*retaddr *label18
   57:  call *label5 :fn5*retval
        label *label18
   58:  assertprints "0x1234567890" "printHexNumber(0x1234567890, 0)"
   59:  assertflush
   60:  set :fn5:number 0xAABBCC
   61:  set :fn5:digits 8
   62:  setaddr :fn5*retaddr *label19
   63:  call *label5 :fn5*retval
        label *label19
   64:  assertprints "0x00AABBCC" "printHexNumber(0xAABBCC, 8)"
   65:  assertflush
   66:  set :fn6:n null
   67:  setaddr :fn6*retaddr *label20
   68:  call *label6 :fn6*retval
        label *label20
   69:  assertprints "null" "printExactFast(null)"
   70:  assertflush
   71:  set :fn6:n 0
   72:  setaddr :fn6*retaddr *label21
   73:  call *label6 :fn6*retval
        label *label21
   74:  assertprints "0" "printExactFast(0)"
   75:  assertflush
   76:  set :fn6:n 1
   77:  setaddr :fn6*retaddr *label22
   78:  call *label6 :fn6*retval
        label *label22
   79:  assertprints "1" "printExactFast(1)"
   80:  assertflush
   81:  set :fn6:n 1.0000001
   82:  setaddr :fn6*retaddr *label23
   83:  call *label6 :fn6*retval
        label *label23
   84:  assertprints "1.000000100000000" "printExactFast(1.0000001)"
   85:  assertflush
   86:  set :fn6:n 3.00000007
   87:  setaddr :fn6*retaddr *label24
   88:  call *label6 :fn6*retval
        label *label24
   89:  assertprints "3.000000070000000" "printExactFast(3.00000007)"
   90:  assertflush
   91:  set :fn6:n 3E50
   92:  setaddr :fn6*retaddr *label25
   93:  call *label6 :fn6*retval
        label *label25
   94:  assertprints "3E50" "printExactFast(3e50)"
   95:  assertflush
   96:  set :fn6:n 1.0123456789
   97:  setaddr :fn6*retaddr *label26
   98:  call *label6 :fn6*retval
        label *label26
   99:  assertprints "1.0123456789" "printExactFast(1.0123456789)"
  100:  assertflush
  101:  set :fn6:n 10000001E13
  102:  setaddr :fn6*retaddr *label27
  103:  call *label6 :fn6*retval
        label *label27
  104:  assertprints "1.000000099999999E20" "printExactFast(1.0000001e20)"
  105:  assertflush
  106:  set :fn6:n 12345E-54
  107:  setaddr :fn6*retaddr *label28
  108:  call *label6 :fn6*retval
        label *label28
  109:  assertprints "1.2345000000000002E-50" "printExactFast(1.2345e-50)"
  110:  assertflush
  111:  set :fn6:n -12345E-54
  112:  setaddr :fn6*retaddr *label29
  113:  call *label6 :fn6*retval
        label *label29
  114:  assertprints "-1.2345000000000002E-50" "printExactFast(-1.2345e-50)"
  115:  assertflush
  116:  set :fn7:n null
  117:  setaddr :fn7*retaddr *label30
  118:  call *label7 :fn7*retval
        label *label30
  119:  assertprints "null" "printExactSlow(null)"
  120:  assertflush
  121:  set :fn7:n 0
  122:  setaddr :fn7*retaddr *label31
  123:  call *label7 :fn7*retval
        label *label31
  124:  assertprints "0" "printExactSlow(0)"
  125:  assertflush
  126:  set :fn7:n 1
  127:  setaddr :fn7*retaddr *label32
  128:  call *label7 :fn7*retval
        label *label32
  129:  assertprints "1.000000000000000" "printExactSlow(1)"
  130:  assertflush
  131:  set :fn7:n 1.0000001
  132:  setaddr :fn7*retaddr *label33
  133:  call *label7 :fn7*retval
        label *label33
  134:  assertprints "1.000000100000000" "printExactSlow(1.0000001)"
  135:  assertflush
  136:  set :fn7:n 3.00000007
  137:  setaddr :fn7*retaddr *label34
  138:  call *label7 :fn7*retval
        label *label34
  139:  assertprints "3.000000070000000" "printExactSlow(3.00000007)"
  140:  assertflush
  141:  set :fn7:n 3E50
  142:  setaddr :fn7*retaddr *label35
  143:  call *label7 :fn7*retval
        label *label35
  144:  assertprints "3.000000000000000E50" "printExactSlow(3e50)"
  145:  assertflush
  146:  set :fn7:n 1.0123456789
  147:  setaddr :fn7*retaddr *label36
  148:  call *label7 :fn7*retval
        label *label36
  149:  assertprints "1.012345678900000" "printExactSlow(1.0123456789)"
  150:  assertflush
  151:  set :fn7:n 10000001E13
  152:  setaddr :fn7*retaddr *label37
  153:  call *label7 :fn7*retval
        label *label37
  154:  assertprints "1.000000099999999E20" "printExactSlow(1.0000001e20)"
  155:  assertflush
  156:  set :fn7:n 12345E-54
  157:  setaddr :fn7*retaddr *label38
  158:  call *label7 :fn7*retval
        label *label38
  159:  assertprints "1.234500000000000E-50" "printExactSlow(1.2345e-50)"
  160:  assertflush
  161:  set :fn7:n -12345E-54
  162:  setaddr :fn7*retaddr *label39
  163:  call *label7 :fn7*retval
        label *label39
  164:  assertprints "-1.234500000000000E-50" "printExactSlow(-1.2345e-50)"
  165:  stop
  166:  end
        label *label3
  167:  print "{2}"
  168:  set :fn32:number :fn3:number
  169:  op abs *tmp81 :fn32:number 0
  170:  op floor *tmp82 *tmp81 0
  171:  set :fn32:n *tmp82
  172:  op lessThan *tmp83 :fn32:number 0
  173:  jump *label102 equal *tmp83 false
  174:  format "-{2}"
  175:  set *tmp84 "-{2}"
  176:  jump *label103 always 0 0
        label *label102
  177:  set *tmp84 null
        label *label103
        label *label104
  178:  op greaterThan *tmp85 :fn32:n 999
  179:  jump *label106 equal *tmp85 false
  180:  op mod *tmp86 :fn32:n 1000
  181:  set :fn32:mod *tmp86
  182:  op lessThan *tmp87 :fn32:mod 10
  183:  jump *label107 equal *tmp87 false
  184:  set *tmp88 "{2},00{1}"
  185:  jump *label108 always 0 0
        label *label107
  186:  op lessThan *tmp89 :fn32:mod 100
  187:  jump *label109 equal *tmp89 false
  188:  set *tmp90 "{2},0{1}"
  189:  jump *label110 always 0 0
        label *label109
  190:  set *tmp90 "{2},{1}"
        label *label110
  191:  set *tmp88 *tmp90
        label *label108
  192:  format *tmp88
  193:  format :fn32:mod
  194:  op idiv :fn32:n :fn32:n 1000
        label *label105
  195:  jump *label104 always 0 0
        label *label106
  196:  format :fn32:n
        label *label101
        label *label100
  197:  return :fn3*retaddr
  198:  end
        label *label4
  199:  print "{2}"
  200:  set :fn33:number :fn4:number
  201:  set :fn33:digits :fn4:digits
  202:  op floor *tmp91 :fn33:number 0
  203:  set :fn33:n *tmp91
        label *label113
  204:  op and *tmp92 :fn33:n 1
  205:  format "{2}{1}"
  206:  format *tmp92
  207:  op shr :fn33:n :fn33:n 1
  208:  op sub :fn33:digits :fn33:digits 1
        label *label114
  209:  op greaterThan *tmp93 :fn33:n 0
  210:  jump *label113 notEqual *tmp93 false
        label *label115
        label *label116
  211:  op greaterThan *tmp94 :fn33:digits 0
  212:  jump *label118 equal *tmp94 false
  213:  format "{2}0"
  214:  set *tmp95 :fn33:digits
  215:  op sub :fn33:digits :fn33:digits 1
        label *label117
  216:  jump *label116 always 0 0
        label *label118
  217:  format "0b"
        label *label112
        label *label111
  218:  return :fn4*retaddr
  219:  end
        label *label5
  220:  print "{2}"
  221:  set :fn34:number :fn5:number
  222:  set :fn34:digits :fn5:digits
  223:  op floor *tmp96 :fn34:number 0
  224:  set :fn34:n *tmp96
        label *label121
  225:  op mod *tmp97 :fn34:n 16
  226:  set :fn34:digit *tmp97
  227:  set *tmp99 :fn34:digit
  228:  jump *label127 lessThan *tmp99 0
  229:  jump *label126 lessThanEq *tmp99 9
        label *label127
  230:  jump *label125 always 0 0
        label *label126
  231:  format "{2}{1}"
  232:  format :fn34:digit
  233:  set *tmp98 :fn34:digit
  234:  jump *label124 always 0 0
        label *label125
  235:  jump *label129 equal *tmp99 10
  236:  jump *label128 always 0 0
        label *label129
  237:  format "{2}A"
  238:  set *tmp98 "{2}A"
  239:  jump *label124 always 0 0
        label *label128
  240:  jump *label131 equal *tmp99 11
  241:  jump *label130 always 0 0
        label *label131
  242:  format "{2}B"
  243:  set *tmp98 "{2}B"
  244:  jump *label124 always 0 0
        label *label130
  245:  jump *label133 equal *tmp99 12
  246:  jump *label132 always 0 0
        label *label133
  247:  format "{2}C"
  248:  set *tmp98 "{2}C"
  249:  jump *label124 always 0 0
        label *label132
  250:  jump *label135 equal *tmp99 13
  251:  jump *label134 always 0 0
        label *label135
  252:  format "{2}D"
  253:  set *tmp98 "{2}D"
  254:  jump *label124 always 0 0
        label *label134
  255:  jump *label137 equal *tmp99 14
  256:  jump *label136 always 0 0
        label *label137
  257:  format "{2}E"
  258:  set *tmp98 "{2}E"
  259:  jump *label124 always 0 0
        label *label136
  260:  jump *label139 equal *tmp99 15
  261:  jump *label138 always 0 0
        label *label139
  262:  format "{2}F"
  263:  set *tmp98 "{2}F"
  264:  jump *label124 always 0 0
        label *label138
  265:  set *tmp98 null
        label *label124
  266:  op shr :fn34:n :fn34:n 4
  267:  op sub :fn34:digits :fn34:digits 1
        label *label122
  268:  op greaterThan *tmp100 :fn34:n 0
  269:  jump *label121 notEqual *tmp100 false
        label *label123
        label *label140
  270:  op greaterThan *tmp101 :fn34:digits 0
  271:  jump *label142 equal *tmp101 false
  272:  format "{2}0"
  273:  set *tmp102 :fn34:digits
  274:  op sub :fn34:digits :fn34:digits 1
        label *label141
  275:  jump *label140 always 0 0
        label *label142
  276:  format "0x"
        label *label120
        label *label119
  277:  return :fn5*retaddr
  278:  end
        label *label6
  279:  set :fn35:x :fn6:n
  280:  op abs *tmp104 :fn35:x 0
  281:  op lessThanEq *tmp105 *tmp104 0
  282:  set *tmp103 *tmp105
        label *label144
  283:  jump *label145 equal *tmp103 false
  284:  print :fn6:n
  285:  set *tmp106 :fn6:n
  286:  jump *label146 always 0 0
        label *label145
  287:  op lessThan *tmp107 :fn6:n 0
  288:  jump *label147 equal *tmp107 false
  289:  print "-"
  290:  op abs *tmp109 :fn6:n 0
  291:  set :fn6:n *tmp109
  292:  set *tmp108 :fn6:n
  293:  jump *label148 always 0 0
        label *label147
  294:  set *tmp108 null
        label *label148
  295:  op log10 *tmp110 :fn6:n 0
  296:  op floor *tmp111 *tmp110 0
  297:  set :fn6:exp *tmp111
  298:  op sub *tmp112 0 :fn6:exp
  299:  op pow *tmp113 10 *tmp112
  300:  op mul *tmp114 :fn6:n *tmp113
  301:  set :fn6:base *tmp114
  302:  set :fn36:x :fn6:base
  303:  op add *tmp116 :fn36:x 0.5
  304:  op floor *tmp117 *tmp116 0
  305:  set *tmp115 *tmp117
        label *label149
  306:  op sub *tmp118 :fn6:base *tmp115
  307:  op abs *tmp119 *tmp118 0
  308:  set :fn6:cmp *tmp119
  309:  op lessThanEq *tmp120 :fn6:cmp 0
  310:  jump *label150 equal *tmp120 false
  311:  print :fn6:base
  312:  set *tmp121 :fn6:base
  313:  jump *label151 always 0 0
        label *label150
  314:  op greaterThan *tmp122 :fn6:cmp 0.00001
  315:  jump *label152 equal *tmp122 false
  316:  print :fn6:base
  317:  set *tmp123 :fn6:base
  318:  jump *label153 always 0 0
        label *label152
  319:  op floor *tmp124 :fn6:base 0
  320:  print *tmp124
  321:  print "."
  322:  set :fn6:digit 1
        label *label154
  323:  jump *label156 greaterThan :fn6:digit 3
  324:  set :fn37:x :fn6:base
  325:  op mod *tmp126 :fn37:x 1
  326:  set *tmp125 *tmp126
        label *label157
  327:  op mul *tmp127 *tmp125 100000
  328:  set :fn6:base *tmp127
  329:  op floor *tmp128 :fn6:base 0
  330:  set :fn6:t *tmp128
  331:  op lessThan *tmp129 :fn6:t 10
  332:  jump *label158 equal *tmp129 false
  333:  print "0000"
  334:  set *tmp130 "0000"
  335:  jump *label159 always 0 0
        label *label158
  336:  op lessThan *tmp131 :fn6:t 100
  337:  jump *label160 equal *tmp131 false
  338:  print "000"
  339:  set *tmp132 "000"
  340:  jump *label161 always 0 0
        label *label160
  341:  op lessThan *tmp133 :fn6:t 1000
  342:  jump *label162 equal *tmp133 false
  343:  print "00"
  344:  set *tmp134 "00"
  345:  jump *label163 always 0 0
        label *label162
  346:  op lessThan *tmp135 :fn6:t 10000
  347:  jump *label164 equal *tmp135 false
  348:  print "0"
  349:  set *tmp136 "0"
  350:  jump *label165 always 0 0
        label *label164
  351:  set *tmp136 null
        label *label165
  352:  set *tmp134 *tmp136
        label *label163
  353:  set *tmp132 *tmp134
        label *label161
  354:  set *tmp130 *tmp132
        label *label159
  355:  print :fn6:t
        label *label155
  356:  op add :fn6:digit :fn6:digit 1
  357:  jump *label154 always 0 0
        label *label156
  358:  set *tmp123 null
        label *label153
  359:  set *tmp121 *tmp123
        label *label151
  360:  op notEqual *tmp137 :fn6:exp 0
  361:  jump *label166 equal *tmp137 false
  362:  print "E"
  363:  print :fn6:exp
  364:  set *tmp138 :fn6:exp
  365:  jump *label167 always 0 0
        label *label166
  366:  set *tmp138 null
        label *label167
  367:  set *tmp106 *tmp138
        label *label146
        label *label143
  368:  return :fn6*retaddr
  369:  end
        label *label7
  370:  set :fn38:x :fn7:n
  371:  op abs *tmp140 :fn38:x 0
  372:  op lessThanEq *tmp141 *tmp140 0
  373:  set *tmp139 *tmp141
        label *label169
  374:  jump *label170 equal *tmp139 false
  375:  print :fn7:n
  376:  set *tmp142 :fn7:n
  377:  jump *label171 always 0 0
        label *label170
  378:  op lessThan *tmp143 :fn7:n 0
  379:  jump *label172 equal *tmp143 false
  380:  print "-"
  381:  op abs *tmp145 :fn7:n 0
  382:  set :fn7:n *tmp145
  383:  set *tmp144 :fn7:n
  384:  jump *label173 always 0 0
        label *label172
  385:  set *tmp144 null
        label *label173
  386:  op log10 *tmp146 :fn7:n 0
  387:  op floor *tmp147 *tmp146 0
  388:  set :fn7:exp *tmp147
  389:  op sub *tmp148 0 :fn7:exp
  390:  op pow *tmp149 10 *tmp148
  391:  op mul *tmp150 :fn7:n *tmp149
  392:  set :fn7:base *tmp150
  393:  op floor *tmp151 :fn7:base 0
  394:  print *tmp151
  395:  print "."
  396:  set :fn7:digit 1
        label *label174
  397:  jump *label176 greaterThan :fn7:digit 15
  398:  set :fn39:x :fn7:base
  399:  op mod *tmp153 :fn39:x 1
  400:  set *tmp152 *tmp153
        label *label177
  401:  op mul *tmp154 *tmp152 10
  402:  set :fn7:base *tmp154
  403:  op floor *tmp155 :fn7:base 0
  404:  print *tmp155
        label *label175
  405:  op add :fn7:digit :fn7:digit 1
  406:  jump *label174 always 0 0
        label *label176
  407:  op notEqual *tmp156 :fn7:exp 0
  408:  jump *label178 equal *tmp156 false
  409:  print "E"
  410:  print :fn7:exp
  411:  set *tmp157 :fn7:exp
  412:  jump *label179 always 0 0
        label *label178
  413:  set *tmp157 null
        label *label179
  414:  set *tmp142 *tmp157
        label *label171
        label *label168
  415:  return :fn7*retaddr
  416:  end


stop instruction encountered, dumping variable values:
*tmp100: 0.0
*tmp101: 0.0
*tmp102: 1.0
*tmp103: 0.0
*tmp104: 1.2345E-50
*tmp105: 0.0
*tmp106: -50.0
*tmp107: 1.0
*tmp108: 1.2345E-50
*tmp109: 1.2345E-50
*tmp110: -49.90850890573205
*tmp111: -50.0
*tmp112: 50.0
*tmp113: 1.0E50
*tmp114: 1.2345000000000002
*tmp115: 1.0
*tmp116: 1.7345000000000002
*tmp117: 1.0
*tmp118: 0.23450000000000015
*tmp119: 0.23450000000000015
*tmp120: 0.0
*tmp121: 1.2345000000000002
*tmp122: 1.0
*tmp123: 1.2345000000000002
*tmp124: 1.0
*tmp125: 0.9999983634211276
*tmp126: 0.9999983634211276
*tmp127: 99999.83634211276
*tmp128: 99999.0
*tmp129: 0.0
*tmp130: null
*tmp131: 0.0
*tmp132: null
*tmp133: 0.0
*tmp134: null
*tmp135: 0.0
*tmp136: null
*tmp137: 1.0
*tmp138: -50.0
*tmp139: 0.0
*tmp140: 1.2345E-50
*tmp141: 0.0
*tmp142: -50.0
*tmp143: 1.0
*tmp144: 1.2345E-50
*tmp145: 1.2345E-50
*tmp146: -49.90850890573205
*tmp147: -50.0
*tmp148: 50.0
*tmp149: 1.0E50
*tmp150: 1.2345000000000002
*tmp151: 1.0
*tmp152: 0.015276668818842154
*tmp153: 0.015276668818842154
*tmp154: 0.15276668818842154
*tmp155: 0.0
*tmp156: 1.0
*tmp157: -50.0
*tmp81: 9009099.0
*tmp82: 9009099.0
*tmp83: 0.0
*tmp84: null
*tmp85: 0.0
*tmp86: 9.0
*tmp87: 1.0
*tmp88: {2},00{1}
*tmp89: 1.0
*tmp90: {2},0{1}
*tmp91: 10.0
*tmp92: 1.0
*tmp93: 0.0
*tmp94: 0.0
*tmp95: 1.0
*tmp96: 1.1189196E7
*tmp97: 10.0
*tmp98: {2}A
*tmp99: 10.0
:fn3*retaddr: 34.0
:fn32:mod: 9.0
:fn32:n: 9.0
:fn32:number: 9009099.0
:fn33:digits: 0.0
:fn33:n: 0.0
:fn33:number: 10.0
:fn34:digit: 10.0
:fn34:digits: 0.0
:fn34:n: 0.0
:fn34:number: 1.1189196E7
:fn35:x: -1.2345E-50
:fn36:x: 1.2345000000000002
:fn37:x: 999.9999983634211
:fn38:x: -1.2345E-50
:fn39:x: 0.015276668818842154
:fn3:number: 9009099.0
:fn4*retaddr: 46.0
:fn4:digits: 6.0
:fn4:number: 10.0
:fn5*retaddr: 64.0
:fn5:digits: 8.0
:fn5:number: 1.1189196E7
:fn6*retaddr: 114.0
:fn6:base: 1.2345000000000002
:fn6:cmp: 0.23450000000000015
:fn6:digit: 4.0
:fn6:exp: -50.0
:fn6:n: 1.2345E-50
:fn6:t: 99999.0
:fn7*retaddr: 164.0
:fn7:base: 0.15276668818842154
:fn7:digit: 16.0
:fn7:exp: -50.0
:fn7:n: 1.2345E-50
@counter: 166.0