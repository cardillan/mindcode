assertflush
set :printNumber:number null
set :printNumber*retaddr 4
jump 167 always 0 0
assertprints "0" "printNumber(null)"
assertflush
set :printNumber:number 1
set :printNumber*retaddr 9
jump 167 always 0 0
assertprints "1" "printNumber(1)"
assertflush
set :printNumber:number 1.5
set :printNumber*retaddr 14
jump 167 always 0 0
assertprints "1" "printNumber(1.5)"
assertflush
set :printNumber:number -1.5
set :printNumber*retaddr 19
jump 167 always 0 0
assertprints "-1" "printNumber(-1.5)"
assertflush
set :printNumber:number 1234567
set :printNumber*retaddr 24
jump 167 always 0 0
assertprints "1,234,567" "printNumber(1234567)"
assertflush
set :printNumber:number -1234567
set :printNumber*retaddr 29
jump 167 always 0 0
assertprints "-1,234,567" "printNumber(-1234567)"
assertflush
set :printNumber:number 9009099
set :printNumber*retaddr 34
jump 167 always 0 0
assertprints "9,009,099" "printNumber(9009099)"
assertflush
set :printBinaryNumber:number 0b1001
set :printBinaryNumber:digits 0
set :printBinaryNumber*retaddr 40
jump 199 always 0 0
assertprints "0b1001" "printBinaryNumber(0b1001, 0)"
assertflush
set :printBinaryNumber:number 0b1010
set :printBinaryNumber:digits 6
set :printBinaryNumber*retaddr 46
jump 199 always 0 0
assertprints "0b001010" "printBinaryNumber(0b1010, 6)"
assertflush
set :printHexNumber:number 0xABCDEF
set :printHexNumber:digits 0
set :printHexNumber*retaddr 52
jump 220 always 0 0
assertprints "0xABCDEF" "printHexNumber(0xABCDEF, 0)"
assertflush
set :printHexNumber:number 0x1234567890
set :printHexNumber:digits 0
set :printHexNumber*retaddr 58
jump 220 always 0 0
assertprints "0x1234567890" "printHexNumber(0x1234567890, 0)"
assertflush
set :printHexNumber:number 0xAABBCC
set :printHexNumber:digits 8
set :printHexNumber*retaddr 64
jump 220 always 0 0
assertprints "0x00AABBCC" "printHexNumber(0xAABBCC, 8)"
assertflush
set :printExactFast:n null
set :printExactFast*retaddr 69
jump 279 always 0 0
assertprints "null" "printExactFast(null)"
assertflush
set :printExactFast:n 0
set :printExactFast*retaddr 74
jump 279 always 0 0
assertprints "0" "printExactFast(0)"
assertflush
set :printExactFast:n 1
set :printExactFast*retaddr 79
jump 279 always 0 0
assertprints "1" "printExactFast(1)"
assertflush
set :printExactFast:n 1.0000001
set :printExactFast*retaddr 84
jump 279 always 0 0
assertprints "1.000000100000000" "printExactFast(1.0000001)"
assertflush
set :printExactFast:n 3.00000007
set :printExactFast*retaddr 89
jump 279 always 0 0
assertprints "3.000000070000000" "printExactFast(3.00000007)"
assertflush
set :printExactFast:n 3E50
set :printExactFast*retaddr 94
jump 279 always 0 0
assertprints "3E50" "printExactFast(3e50)"
assertflush
set :printExactFast:n 1.0123456789
set :printExactFast*retaddr 99
jump 279 always 0 0
assertprints "1.0123456789" "printExactFast(1.0123456789)"
assertflush
set :printExactFast:n 10000001E13
set :printExactFast*retaddr 104
jump 279 always 0 0
assertprints "1.000000099999999E20" "printExactFast(1.0000001e20)"
assertflush
set :printExactFast:n 12345E-54
set :printExactFast*retaddr 109
jump 279 always 0 0
assertprints "1.2345000000000002E-50" "printExactFast(1.2345e-50)"
assertflush
set :printExactFast:n -12345E-54
set :printExactFast*retaddr 114
jump 279 always 0 0
assertprints "-1.2345000000000002E-50" "printExactFast(-1.2345e-50)"
assertflush
set :printExactSlow:n null
set :printExactSlow*retaddr 119
jump 370 always 0 0
assertprints "null" "printExactSlow(null)"
assertflush
set :printExactSlow:n 0
set :printExactSlow*retaddr 124
jump 370 always 0 0
assertprints "0" "printExactSlow(0)"
assertflush
set :printExactSlow:n 1
set :printExactSlow*retaddr 129
jump 370 always 0 0
assertprints "1.000000000000000" "printExactSlow(1)"
assertflush
set :printExactSlow:n 1.0000001
set :printExactSlow*retaddr 134
jump 370 always 0 0
assertprints "1.000000100000000" "printExactSlow(1.0000001)"
assertflush
set :printExactSlow:n 3.00000007
set :printExactSlow*retaddr 139
jump 370 always 0 0
assertprints "3.000000070000000" "printExactSlow(3.00000007)"
assertflush
set :printExactSlow:n 3E50
set :printExactSlow*retaddr 144
jump 370 always 0 0
assertprints "3.000000000000000E50" "printExactSlow(3e50)"
assertflush
set :printExactSlow:n 1.0123456789
set :printExactSlow*retaddr 149
jump 370 always 0 0
assertprints "1.012345678900000" "printExactSlow(1.0123456789)"
assertflush
set :printExactSlow:n 10000001E13
set :printExactSlow*retaddr 154
jump 370 always 0 0
assertprints "1.000000099999999E20" "printExactSlow(1.0000001e20)"
assertflush
set :printExactSlow:n 12345E-54
set :printExactSlow*retaddr 159
jump 370 always 0 0
assertprints "1.234500000000000E-50" "printExactSlow(1.2345e-50)"
assertflush
set :printExactSlow:n -12345E-54
set :printExactSlow*retaddr 164
jump 370 always 0 0
assertprints "-1.234500000000000E-50" "printExactSlow(-1.2345e-50)"
stop
end
print "{2}"
set :formatNumber:number :printNumber:number
op abs *tmp0 :formatNumber:number 0
op floor *tmp1 *tmp0 0
set :formatNumber:n *tmp1
op lessThan *tmp2 :formatNumber:number 0
jump 177 equal *tmp2 false
format "-{2}"
set *tmp3 "-{2}"
jump 178 always 0 0
set *tmp3 null
op greaterThan *tmp4 :formatNumber:n 999
jump 196 equal *tmp4 false
op mod *tmp5 :formatNumber:n 1000
set :formatNumber:mod *tmp5
op lessThan *tmp6 :formatNumber:mod 10
jump 186 equal *tmp6 false
set *tmp7 "{2},00{1}"
jump 192 always 0 0
op lessThan *tmp8 :formatNumber:mod 100
jump 190 equal *tmp8 false
set *tmp9 "{2},0{1}"
jump 191 always 0 0
set *tmp9 "{2},{1}"
set *tmp7 *tmp9
format *tmp7
format :formatNumber:mod
op idiv :formatNumber:n :formatNumber:n 1000
jump 178 always 0 0
format :formatNumber:n
set @counter :printNumber*retaddr
end
print "{2}"
set :formatBinaryNumber:number :printBinaryNumber:number
set :formatBinaryNumber:digits :printBinaryNumber:digits
op floor *tmp10 :formatBinaryNumber:number 0
set :formatBinaryNumber:n *tmp10
op and *tmp11 :formatBinaryNumber:n 1
format "{2}{1}"
format *tmp11
op shr :formatBinaryNumber:n :formatBinaryNumber:n 1
op sub :formatBinaryNumber:digits :formatBinaryNumber:digits 1
op greaterThan *tmp12 :formatBinaryNumber:n 0
jump 204 notEqual *tmp12 false
op greaterThan *tmp13 :formatBinaryNumber:digits 0
jump 217 equal *tmp13 false
format "{2}0"
set *tmp14 :formatBinaryNumber:digits
op sub :formatBinaryNumber:digits :formatBinaryNumber:digits 1
jump 211 always 0 0
format "0b"
set @counter :printBinaryNumber*retaddr
end
print "{2}"
set :formatHexNumber:number :printHexNumber:number
set :formatHexNumber:digits :printHexNumber:digits
op floor *tmp15 :formatHexNumber:number 0
set :formatHexNumber:n *tmp15
op mod *tmp16 :formatHexNumber:n 16
set :formatHexNumber:digit *tmp16
set *tmp18 :formatHexNumber:digit
jump 230 lessThan *tmp18 0
jump 231 lessThanEq *tmp18 9
jump 235 always 0 0
format "{2}{1}"
format :formatHexNumber:digit
set *tmp17 :formatHexNumber:digit
jump 266 always 0 0
jump 237 equal *tmp18 10
jump 240 always 0 0
format "{2}A"
set *tmp17 "{2}A"
jump 266 always 0 0
jump 242 equal *tmp18 11
jump 245 always 0 0
format "{2}B"
set *tmp17 "{2}B"
jump 266 always 0 0
jump 247 equal *tmp18 12
jump 250 always 0 0
format "{2}C"
set *tmp17 "{2}C"
jump 266 always 0 0
jump 252 equal *tmp18 13
jump 255 always 0 0
format "{2}D"
set *tmp17 "{2}D"
jump 266 always 0 0
jump 257 equal *tmp18 14
jump 260 always 0 0
format "{2}E"
set *tmp17 "{2}E"
jump 266 always 0 0
jump 262 equal *tmp18 15
jump 265 always 0 0
format "{2}F"
set *tmp17 "{2}F"
jump 266 always 0 0
set *tmp17 null
op shr :formatHexNumber:n :formatHexNumber:n 4
op sub :formatHexNumber:digits :formatHexNumber:digits 1
op greaterThan *tmp19 :formatHexNumber:n 0
jump 225 notEqual *tmp19 false
op greaterThan *tmp20 :formatHexNumber:digits 0
jump 276 equal *tmp20 false
format "{2}0"
set *tmp21 :formatHexNumber:digits
op sub :formatHexNumber:digits :formatHexNumber:digits 1
jump 270 always 0 0
format "0x"
set @counter :printHexNumber*retaddr
end
set :isZero:x :printExactFast:n
op abs *tmp23 :isZero:x 0
op lessThanEq *tmp24 *tmp23 0
set *tmp22 *tmp24
jump 287 equal *tmp22 false
print :printExactFast:n
set *tmp25 :printExactFast:n
jump 368 always 0 0
op lessThan *tmp26 :printExactFast:n 0
jump 294 equal *tmp26 false
print "-"
op abs *tmp28 :printExactFast:n 0
set :printExactFast:n *tmp28
set *tmp27 :printExactFast:n
jump 295 always 0 0
set *tmp27 null
op log10 *tmp29 :printExactFast:n 0
op floor *tmp30 *tmp29 0
set :printExactFast:exp *tmp30
op sub *tmp31 0 :printExactFast:exp
op pow *tmp32 10 *tmp31
op mul *tmp33 :printExactFast:n *tmp32
set :printExactFast:base *tmp33
set :round:x :printExactFast:base
op add *tmp35 :round:x 0.5
op floor *tmp36 *tmp35 0
set *tmp34 *tmp36
op sub *tmp37 :printExactFast:base *tmp34
op abs *tmp38 *tmp37 0
set :printExactFast:cmp *tmp38
op lessThanEq *tmp39 :printExactFast:cmp 0
jump 314 equal *tmp39 false
print :printExactFast:base
set *tmp40 :printExactFast:base
jump 360 always 0 0
op greaterThan *tmp41 :printExactFast:cmp 0.00001
jump 319 equal *tmp41 false
print :printExactFast:base
set *tmp42 :printExactFast:base
jump 359 always 0 0
op floor *tmp43 :printExactFast:base 0
print *tmp43
print "."
set :printExactFast:digit 1
jump 358 greaterThan :printExactFast:digit 3
set :frac:x :printExactFast:base
op mod *tmp45 :frac:x 1
set *tmp44 *tmp45
op mul *tmp46 *tmp44 100000
set :printExactFast:base *tmp46
op floor *tmp47 :printExactFast:base 0
set :printExactFast:t *tmp47
op lessThan *tmp48 :printExactFast:t 10
jump 336 equal *tmp48 false
print "0000"
set *tmp49 "0000"
jump 355 always 0 0
op lessThan *tmp50 :printExactFast:t 100
jump 341 equal *tmp50 false
print "000"
set *tmp51 "000"
jump 354 always 0 0
op lessThan *tmp52 :printExactFast:t 1000
jump 346 equal *tmp52 false
print "00"
set *tmp53 "00"
jump 353 always 0 0
op lessThan *tmp54 :printExactFast:t 10000
jump 351 equal *tmp54 false
print "0"
set *tmp55 "0"
jump 352 always 0 0
set *tmp55 null
set *tmp53 *tmp55
set *tmp51 *tmp53
set *tmp49 *tmp51
print :printExactFast:t
op add :printExactFast:digit :printExactFast:digit 1
jump 323 always 0 0
set *tmp42 null
set *tmp40 *tmp42
op notEqual *tmp56 :printExactFast:exp 0
jump 366 equal *tmp56 false
print "E"
print :printExactFast:exp
set *tmp57 :printExactFast:exp
jump 367 always 0 0
set *tmp57 null
set *tmp25 *tmp57
set @counter :printExactFast*retaddr
end
set :isZero.1:x :printExactSlow:n
op abs *tmp59 :isZero.1:x 0
op lessThanEq *tmp60 *tmp59 0
set *tmp58 *tmp60
jump 378 equal *tmp58 false
print :printExactSlow:n
set *tmp61 :printExactSlow:n
jump 415 always 0 0
op lessThan *tmp62 :printExactSlow:n 0
jump 385 equal *tmp62 false
print "-"
op abs *tmp64 :printExactSlow:n 0
set :printExactSlow:n *tmp64
set *tmp63 :printExactSlow:n
jump 386 always 0 0
set *tmp63 null
op log10 *tmp65 :printExactSlow:n 0
op floor *tmp66 *tmp65 0
set :printExactSlow:exp *tmp66
op sub *tmp67 0 :printExactSlow:exp
op pow *tmp68 10 *tmp67
op mul *tmp69 :printExactSlow:n *tmp68
set :printExactSlow:base *tmp69
op floor *tmp70 :printExactSlow:base 0
print *tmp70
print "."
set :printExactSlow:digit 1
jump 407 greaterThan :printExactSlow:digit 15
set :frac.1:x :printExactSlow:base
op mod *tmp72 :frac.1:x 1
set *tmp71 *tmp72
op mul *tmp73 *tmp71 10
set :printExactSlow:base *tmp73
op floor *tmp74 :printExactSlow:base 0
print *tmp74
op add :printExactSlow:digit :printExactSlow:digit 1
jump 397 always 0 0
op notEqual *tmp75 :printExactSlow:exp 0
jump 413 equal *tmp75 false
print "E"
print :printExactSlow:exp
set *tmp76 :printExactSlow:exp
jump 414 always 0 0
set *tmp76 null
set *tmp61 *tmp76
set @counter :printExactSlow*retaddr
end
print "Compiled by Mindcode - github.com/cardillan/mindcode"
