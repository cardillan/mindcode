   135 instructions before optimizations.
    18 instructions eliminated by Temp Variables Elimination.
     1 instructions eliminated by Case Expression Optimization.
     8 instructions eliminated by Dead Code Elimination (3 iterations).
     4 instructions eliminated by Jump Optimization (3 iterations).
     3 instructions eliminated by Single Step Elimination (2 passes, 5 iterations).
     6 instructions eliminated by Data Flow Optimization (2 passes, 6 iterations).
     2 instructions added by Loop Optimization (2 iterations).
     5 loops improved by Loop Optimization.
     5 instructions eliminated by Jump Straightening (3 iterations).
    92 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 902):
  * Loop Optimization: replicate condition at line 56            cost     1, benefit       25.0, efficiency       25.0 (-5 instructions)

Final code before resolving virtual instructions:

set FREQ 100
set DISPLAY null
set MEMORY null
set SWITCH null
set MESSAGE null
label __label28
print "Item/Liquid/Energy Level Display"
set n @links
jump __label5 lessThanEq n 0
label __label29
op sub n n 1
getlink block n
print "\nFound: "
print block
sensor __tmp7 block @type
jump __label7 notEqual __tmp7 @large-logic-display
set DISPLAY block
jump __label6 always 0 0
label __label7
jump __label9 notEqual __tmp7 @message
set MESSAGE block
jump __label6 always 0 0
label __label9
jump __label11 notEqual __tmp7 @switch
set SWITCH block
jump __label6 always 0 0
label __label11
jump __label13 notEqual __tmp7 @memory-bank
set MEMORY block
jump __label6 always 0 0
label __label13
jump __label15 notEqual __tmp7 @memory-cell
set MEMORY block
label __label15
label __label6
jump __label29 greaterThan n 0
label __label5
print "\nMessage: "
print MESSAGE
print "\nSwitch: "
print SWITCH
print "\nMemory: "
print MEMORY
print "\nDisplay: "
print DISPLAY
op equal __tmp9 MEMORY null
op equal __tmp10 DISPLAY null
op or __tmp11 __tmp9 __tmp10
jump __label17 equal __tmp11 false
print "\nNo memory or display."
label __label17
printflush MESSAGE
jump __label28 notEqual __tmp11 false
read CURRENT_INDEX MEMORY 1
read R0 MEMORY 3
read G0 MEMORY 4
read B0 MEMORY 5
read R1 MEMORY 6
read G1 MEMORY 7
read B1 MEMORY 8
draw stroke 1 0 0 0 0 0
sensor __tmp20 SWITCH @enabled
jump __label21 notEqual __tmp20 0
label __label32
set start @time
print "Item/Liquid/Energy Level Display"
draw clear 0 0 80 0 0 0
draw color R0 G0 B0 255 0 0
draw rect 10 10 156 156 0 0
read head MEMORY CURRENT_INDEX
read last MEMORY head
print "\nIndex: "
print head
print "\nValue: "
print last
draw color R1 G1 B1 255 0 0
set x 159
label __label30
op sub head head 1
read value MEMORY head
op sub x1 x 5
draw line x last x1 value 0 0
set x x1
set last value
jump __label30 greaterThan x1 10
draw color 255 255 255 255 0 0
draw lineRect 10 10 156 156 0 0
op sub __tmp29 @time start
print "\nTime: "
print __tmp29
op div __tmp30 @time FREQ
op ceil __tmp31 __tmp30 0
op mul wait FREQ __tmp31
set loops 0
jump __label27 greaterThanEq @time wait
label __label31
op add loops loops 1
jump __label31 lessThan @time wait
label __label27
drawflush DISPLAY
print "\nWait loops: "
print loops
printflush MESSAGE
sensor __tmp20 SWITCH @enabled
jump __label32 equal __tmp20 0
label __label21
control enabled switch1 0 0 0 0
