   620 instructions before optimizations.
    53 instructions eliminated by Temp Variables Elimination.
    60 instructions eliminated by Dead Code Elimination (10 iterations).
     1 instructions eliminated by Jump Normalization (4 iterations).
    17 instructions eliminated by Jump Optimization (4 iterations).
    27 instructions eliminated by Single Step Elimination (3 passes, 7 iterations).
     3 instructions eliminated by Expression Optimization (3 iterations).
     3 instructions eliminated by If Expression Optimization (3 iterations).
    92 instructions eliminated by Data Flow Optimization (8 passes, 27 iterations).
   505 instructions added by Function Inlining (10 iterations).
    17 function calls inlined by Function Inlining.
    33 instructions updated by PropagateJumpTargets.
     5 instructions eliminated by Unreachable Code Elimination.
   864 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 547):
  * Function Inlining: inline function kilo                      cost     5, benefit      218.8, efficiency       43.8 (-5 instructions)
    Function Inlining: inline function update_fuel               cost    13, benefit      337.5, efficiency       26.0
    Function Inlining: inline function check_radar               cost    23, benefit      175.0, efficiency        7.6
    Function Inlining: inline function calc_charge_req           cost    69, benefit      503.9, efficiency        7.3
    Function Inlining: inline function start_reactor             cost   519, benefit      687.5, efficiency        1.3
    Function Inlining: inline function call at line 69           cost    24, benefit       87.5, efficiency        3.6
    Function Inlining: inline function call at line 73           cost    14, benefit      100.0, efficiency        7.1
    Function Inlining: inline function call at line 74           cost    14, benefit      100.0, efficiency        7.1
    Function Inlining: inline function call at line 75           cost    14, benefit      100.0, efficiency        7.1
    Function Inlining: inline function call at line 76           cost    14, benefit      100.0, efficiency        7.1
    Function Inlining: inline function call at line 77           cost    14, benefit      100.0, efficiency        7.1
    Function Inlining: inline function call at line 80           cost   130, benefit      137.5, efficiency        1.1
    Function Inlining: inline function call at line 82           cost     7, benefit      112.5, efficiency       16.1
    Function Inlining: inline function call at line 84           cost   130, benefit      137.5, efficiency        1.1
    Function Inlining: inline function call at line 86           cost     7, benefit      112.5, efficiency       16.1
    Function Inlining: inline function call at line 88           cost    24, benefit       87.5, efficiency        3.6
    Function Inlining: inline function call at line 89           cost   130, benefit      137.5, efficiency        1.1
    Function Inlining: inline function call at line 91           cost   130, benefit      137.5, efficiency        1.1
    Function Inlining: inline function call at line 93           cost   130, benefit      137.5, efficiency        1.1
    Function Inlining: inline function call at line 96           cost     7, benefit      112.5, efficiency       16.1
    Function Inlining: inline function call at line 102          cost     3, benefit       87.5, efficiency       29.2
    Function Inlining: inline function call at line 103          cost     3, benefit       87.5, efficiency       29.2
    Function Inlining: inline function call at line 105          cost     3, benefit       43.8, efficiency       14.6
    Function Inlining: inline function call at line 173          cost    14, benefit        3.9, efficiency        0.3

Pass 1: speed optimization selection (cost limit 552):
  * Function Inlining: inline function update_fuel               cost    13, benefit      337.5, efficiency       26.0 (-1 instructions)
    Function Inlining: inline function check_radar               cost    23, benefit      175.0, efficiency        7.6
    Function Inlining: inline function calc_charge_req           cost    69, benefit      503.9, efficiency        7.3
    Function Inlining: inline function start_reactor             cost   519, benefit      687.5, efficiency        1.3
    Function Inlining: inline function call at line 69           cost    24, benefit       87.5, efficiency        3.6
    Function Inlining: inline function call at line 73           cost    14, benefit      100.0, efficiency        7.1
    Function Inlining: inline function call at line 74           cost    14, benefit      100.0, efficiency        7.1
    Function Inlining: inline function call at line 75           cost    14, benefit      100.0, efficiency        7.1
    Function Inlining: inline function call at line 76           cost    14, benefit      100.0, efficiency        7.1
    Function Inlining: inline function call at line 77           cost    14, benefit      100.0, efficiency        7.1
    Function Inlining: inline function call at line 80           cost   130, benefit      137.5, efficiency        1.1
    Function Inlining: inline function call at line 82           cost     7, benefit      112.5, efficiency       16.1
    Function Inlining: inline function call at line 84           cost   130, benefit      137.5, efficiency        1.1
    Function Inlining: inline function call at line 86           cost     7, benefit      112.5, efficiency       16.1
    Function Inlining: inline function call at line 88           cost    24, benefit       87.5, efficiency        3.6
    Function Inlining: inline function call at line 89           cost   130, benefit      137.5, efficiency        1.1
    Function Inlining: inline function call at line 91           cost   130, benefit      137.5, efficiency        1.1
    Function Inlining: inline function call at line 93           cost   130, benefit      137.5, efficiency        1.1
    Function Inlining: inline function call at line 96           cost     7, benefit      112.5, efficiency       16.1
    Function Inlining: inline function call at line 173          cost    14, benefit        3.9, efficiency        0.3

Pass 1: speed optimization selection (cost limit 553):
  * Function Inlining: inline function check_radar               cost    23, benefit      175.0, efficiency        7.6 (+4 instructions)
    Function Inlining: inline function calc_charge_req           cost    69, benefit      503.9, efficiency        7.3
    Function Inlining: inline function start_reactor             cost   519, benefit      687.5, efficiency        1.3
    Function Inlining: inline function call at line 69           cost    24, benefit       87.5, efficiency        3.6
    Function Inlining: inline function call at line 73           cost    14, benefit      100.0, efficiency        7.1
    Function Inlining: inline function call at line 74           cost    14, benefit      100.0, efficiency        7.1
    Function Inlining: inline function call at line 75           cost    14, benefit      100.0, efficiency        7.1
    Function Inlining: inline function call at line 76           cost    14, benefit      100.0, efficiency        7.1
    Function Inlining: inline function call at line 77           cost    14, benefit      100.0, efficiency        7.1
    Function Inlining: inline function call at line 80           cost   130, benefit      137.5, efficiency        1.1
    Function Inlining: inline function call at line 84           cost   130, benefit      137.5, efficiency        1.1
    Function Inlining: inline function call at line 88           cost    24, benefit       87.5, efficiency        3.6
    Function Inlining: inline function call at line 89           cost   130, benefit      137.5, efficiency        1.1
    Function Inlining: inline function call at line 91           cost   130, benefit      137.5, efficiency        1.1
    Function Inlining: inline function call at line 93           cost   130, benefit      137.5, efficiency        1.1
    Function Inlining: inline function call at line 173          cost    14, benefit        3.9, efficiency        0.3

Pass 1: speed optimization selection (cost limit 549):
  * Function Inlining: inline function calc_charge_req           cost    69, benefit      503.9, efficiency        7.3 (+43 instructions)
    Function Inlining: inline function start_reactor             cost   519, benefit      687.5, efficiency        1.3
    Function Inlining: inline function call at line 73           cost    14, benefit      100.0, efficiency        7.1
    Function Inlining: inline function call at line 74           cost    14, benefit      100.0, efficiency        7.1
    Function Inlining: inline function call at line 75           cost    14, benefit      100.0, efficiency        7.1
    Function Inlining: inline function call at line 76           cost    14, benefit      100.0, efficiency        7.1
    Function Inlining: inline function call at line 77           cost    14, benefit      100.0, efficiency        7.1
    Function Inlining: inline function call at line 80           cost   130, benefit      137.5, efficiency        1.1
    Function Inlining: inline function call at line 84           cost   130, benefit      137.5, efficiency        1.1
    Function Inlining: inline function call at line 89           cost   130, benefit      137.5, efficiency        1.1
    Function Inlining: inline function call at line 91           cost   130, benefit      137.5, efficiency        1.1
    Function Inlining: inline function call at line 93           cost   130, benefit      137.5, efficiency        1.1
    Function Inlining: inline function call at line 173          cost    14, benefit        3.9, efficiency        0.3

Pass 1: speed optimization selection (cost limit 506):
  ! Function Inlining: inline function start_reactor             cost   559, benefit      687.5, efficiency        1.2
  * Function Inlining: inline function call at line 80           cost   140, benefit      137.5, efficiency        1.0 (+131 instructions)
    Function Inlining: inline function call at line 84           cost   140, benefit      137.5, efficiency        1.0
    Function Inlining: inline function call at line 89           cost   140, benefit      137.5, efficiency        1.0
    Function Inlining: inline function call at line 91           cost   140, benefit      137.5, efficiency        1.0
    Function Inlining: inline function call at line 93           cost   140, benefit      137.5, efficiency        1.0

Pass 1: speed optimization selection (cost limit 375):
  ! Function Inlining: inline function start_reactor             cost   419, benefit      550.0, efficiency        1.3
  * Function Inlining: inline function call at line 84           cost   140, benefit      137.5, efficiency        1.0 (+132 instructions)
    Function Inlining: inline function call at line 89           cost   140, benefit      137.5, efficiency        1.0
    Function Inlining: inline function call at line 91           cost   140, benefit      137.5, efficiency        1.0
    Function Inlining: inline function call at line 93           cost   140, benefit      137.5, efficiency        1.0

Pass 1: speed optimization selection (cost limit 243):
  ! Function Inlining: inline function start_reactor             cost   279, benefit      412.5, efficiency        1.5
  * Function Inlining: inline function call at line 89           cost   140, benefit      137.5, efficiency        1.0 (+132 instructions)
    Function Inlining: inline function call at line 91           cost   140, benefit      137.5, efficiency        1.0
    Function Inlining: inline function call at line 93           cost   140, benefit      137.5, efficiency        1.0

Pass 1: speed optimization selection (cost limit 111):
  ! Function Inlining: inline function start_reactor             cost   139, benefit      275.0, efficiency        2.0
  ! Function Inlining: inline function call at line 91           cost   140, benefit      137.5, efficiency        1.0
  ! Function Inlining: inline function call at line 93           cost   140, benefit      137.5, efficiency        1.0

Pass 2: speed optimization selection (cost limit 130):
  ! Function Inlining: inline function start_reactor             cost   138, benefit      275.0, efficiency        2.0
  ! Function Inlining: inline function call at line 91           cost   139, benefit      137.5, efficiency        1.0
  ! Function Inlining: inline function call at line 93           cost   139, benefit      137.5, efficiency        1.0

Pass 3: speed optimization selection (cost limit 130):
  ! Function Inlining: inline function start_reactor             cost   138, benefit      275.0, efficiency        2.0
  ! Function Inlining: inline function call at line 91           cost   139, benefit      137.5, efficiency        1.0
  ! Function Inlining: inline function call at line 93           cost   139, benefit      137.5, efficiency        1.0

Final code before resolving virtual instructions:

printflush message1
set PWR_REQ 23000
set FLOW_REQ 2000
set PWR_ABANDON 2000
set PWR_ABORT 5000
set PWR_RESERVE 0.6
set FLOW_ABORT -500
set FUEL_REQ 10
set FUEL_TOT_REQ 45
set FUEL_TOT_ABORT 15
set CRYO_REQ 3
set CRYO_REQ_EA 2
set CRYO_ABORT 1
set fuel_1 false
set fuel_2 false
set fuel_3 false
set fuel_4 false
set fuel_5 false
sensor __tmp0 node1 @powerNetIn
sensor __tmp1 node1 @powerNetOut
op sub __tmp2 __tmp0 __tmp1
op floor surplus __tmp2 0
jump __label5 lessThanEq surplus 10000
op sub __tmp5 @tick 3600
jump __label6 always 0 0
label __label5
set __tmp5 @tick
label __label6
set t_startup1 __tmp5
set t_startup2 __tmp5
set t_startup3 __tmp5
set t_startup4 __tmp5
set t_startup5 __tmp5
set REACTORS_DESIRED 5
set AVG_SURPLUS 500
label __label7
set CONTAINER vault1
set NODE node1
radar enemy any any health cyclone1 1 __fn2_enemy_found
jump __label129 equal __fn2_enemy_found null
control enabled projector1 true 0 0 0
control enabled projector2 true 0 0 0
control config unloader1 @scrap 0 0 0
control config unloader2 @blast-compound 0 0 0
control config unloader3 @scrap 0 0 0
control config unloader4 @blast-compound 0 0 0
control config unloader5 @scrap 0 0 0
control config unloader6 @blast-compound 0 0 0
control config unloader7 @scrap 0 0 0
control enabled reactor1 false 0 0 0
control enabled reactor2 false 0 0 0
control enabled reactor3 false 0 0 0
control enabled reactor4 false 0 0 0
control enabled reactor5 false 0 0 0
set __fn2retval true
jump __label131 always 0 0
label __label129
control enabled projector1 false 0 0 0
control enabled projector2 false 0 0 0
set __fn2retval false
label __label131
op notEqual __tmp9 switch1 null
sensor __tmp10 switch1 @enabled
op equal __tmp11 __tmp10 false
op land __tmp12 __tmp9 __tmp11
jump __label13 equal __tmp12 false
print "User has disabled emergency switch"
print "\n"
set __tmp8 true
jump __label12 always 0 0
label __label13
set __tmp8 false
label __label12
op or emerg_shutdown __fn2retval __tmp8
op sub __tmp103 @tick t_startup1
op idiv __fn3_secs __tmp103 60
op greaterThan __tmp105 __fn3_secs 30
sensor __tmp106 reactor1 @enabled
op equal __tmp107 __tmp106 false
op or __tmp108 __tmp105 __tmp107
jump __label137 equal __tmp108 false
set __fn3retval 0
jump __label139 always 0 0
label __label137
op sub __fn3_time_left 30 __fn3_secs
op mul __tmp111 __fn3_time_left __fn3_time_left
op idiv __fn3_charge_req __tmp111 0.04
set __fn3retval __fn3_charge_req
label __label139
set START_POWER_REQ __fn3retval
op sub __tmp103 @tick t_startup2
op idiv __fn3_secs __tmp103 60
op greaterThan __tmp105 __fn3_secs 30
sensor __tmp106 reactor2 @enabled
op equal __tmp107 __tmp106 false
op or __tmp108 __tmp105 __tmp107
jump __label141 equal __tmp108 false
set __fn3retval 0
jump __label143 always 0 0
label __label141
op sub __fn3_time_left 30 __fn3_secs
op mul __tmp111 __fn3_time_left __fn3_time_left
op idiv __fn3_charge_req __tmp111 0.04
set __fn3retval __fn3_charge_req
label __label143
op add START_POWER_REQ START_POWER_REQ __fn3retval
op sub __tmp103 @tick t_startup3
op idiv __fn3_secs __tmp103 60
op greaterThan __tmp105 __fn3_secs 30
sensor __tmp106 reactor3 @enabled
op equal __tmp107 __tmp106 false
op or __tmp108 __tmp105 __tmp107
jump __label145 equal __tmp108 false
set __fn3retval 0
jump __label147 always 0 0
label __label145
op sub __fn3_time_left 30 __fn3_secs
op mul __tmp111 __fn3_time_left __fn3_time_left
op idiv __fn3_charge_req __tmp111 0.04
set __fn3retval __fn3_charge_req
label __label147
op add START_POWER_REQ START_POWER_REQ __fn3retval
op sub __tmp103 @tick t_startup4
op idiv __fn3_secs __tmp103 60
op greaterThan __tmp105 __fn3_secs 30
sensor __tmp106 reactor4 @enabled
op equal __tmp107 __tmp106 false
op or __tmp108 __tmp105 __tmp107
jump __label149 equal __tmp108 false
set __fn3retval 0
jump __label151 always 0 0
label __label149
op sub __fn3_time_left 30 __fn3_secs
op mul __tmp111 __fn3_time_left __fn3_time_left
op idiv __fn3_charge_req __tmp111 0.04
set __fn3retval __fn3_charge_req
label __label151
op add START_POWER_REQ START_POWER_REQ __fn3retval
op sub __tmp103 @tick t_startup5
op idiv __fn3_secs __tmp103 60
op greaterThan __tmp105 __fn3_secs 30
sensor __tmp106 reactor5 @enabled
op equal __tmp107 __tmp106 false
op or __tmp108 __tmp105 __tmp107
jump __label153 equal __tmp108 false
set __fn3retval 0
jump __label155 always 0 0
label __label153
op sub __fn3_time_left 30 __fn3_secs
op mul __tmp111 __fn3_time_left __fn3_time_left
op idiv __fn3_charge_req __tmp111 0.04
set __fn3retval __fn3_charge_req
label __label155
op add START_POWER_REQ START_POWER_REQ __fn3retval
set RET_T_STARTUP t_startup1
op sub __tmp114 @tick t_startup1
op idiv __fn4_secs __tmp114 60
sensor __fn4_fuel reactor1 @blast-compound
set __fn4_supply_fuel true
sensor __fn4_fuel_stored vault1 @blast-compound
sensor __fn4_cryo reactor1 @cryofluid
sensor __tmp119 node1 @powerNetStored
op floor __fn4_charge __tmp119 0
sensor __tmp121 node1 @powerNetIn
sensor __tmp122 node1 @powerNetOut
op sub __tmp123 __tmp121 __tmp122
op floor __fn4_surplus __tmp123 0
op mul __tmp125 AVG_SURPLUS 0.8
op mul __tmp126 __fn4_surplus 0.2
op add AVG_SURPLUS __tmp125 __tmp126
sensor __fn4_enabled reactor1 @enabled
print "#"
print 1
print " - "
jump __label161 equal emerg_shutdown false
control enabled reactor1 false 0 0 0
print "emergency mode\n"
set __fn4_supply_fuel false
jump __label194 always 0 0
label __label161
jump __label180 equal __fn4_enabled false
jump __label162 greaterThanEq REACTORS_DESIRED 1
control enabled reactor1 false 0 0 0
print "STOP unwanted\n"
jump __label193 always 0 0
label __label162
op greaterThan __tmp133 1 1
op mul __tmp134 15 1
op lessThan __tmp135 __fn4_fuel_stored 15
op land __tmp136 false __tmp135
jump __label163 equal __tmp136 false
control enabled reactor1 false 0 0 0
print "STOP system fuel low\n"
jump __label193 always 0 0
label __label163
jump __label164 greaterThan __fn4_fuel 1
control enabled reactor1 false 0 0 0
print "STOP fuel low\n"
jump __label193 always 0 0
label __label164
jump __label165 greaterThan __fn4_cryo 1
control enabled reactor1 false 0 0 0
print "STOP out of cryo\n"
jump __label193 always 0 0
label __label165
jump __label172 greaterThanEq __fn4_secs 30
op sub __tmp103 @tick t_startup1
op idiv __fn3_secs __tmp103 60
op greaterThan __tmp105 __fn3_secs 30
sensor __tmp106 reactor1 @enabled
op equal __tmp107 __tmp106 false
op or __tmp108 __tmp105 __tmp107
jump __label167 equal __tmp108 false
set __fn3retval 0
jump __label169 always 0 0
label __label167
op sub __fn3_time_left 30 __fn3_secs
op mul __tmp111 __fn3_time_left __fn3_time_left
op idiv __fn3_charge_req __tmp111 0.04
set __fn3retval __fn3_charge_req
label __label169
op sub __tmp144 __fn4_charge __fn3retval
op lessThan __tmp145 __tmp144 5000
op lessThan __tmp146 __fn4_surplus -500
op land __tmp147 __tmp145 __tmp146
jump __label170 equal __tmp147 false
control enabled reactor1 false 0 0 0
print "START FAIL battery\n"
set __fn4_supply_fuel false
jump __label193 always 0 0
label __label170
op sub __fn4_time_left 30 __fn4_secs
print "Starting "
print __fn4_time_left
print " secs, req "
print __fn3retval
print "J\n"
jump __label193 always 0 0
label __label172
op lessThan __tmp150 __fn4_charge 2000
op lessThan __tmp151 __fn4_surplus -500
op land __tmp152 __tmp150 __tmp151
jump __label173 equal __tmp152 false
control enabled reactor1 false 0 0 0
print "ABANDON - battery crit\n"
set __fn4_supply_fuel false
jump __label193 always 0 0
label __label173
op idiv __fn4_mins __fn4_secs 6
op div __fn4_mins __fn4_mins 10
print "RUN "
print __fn4_mins
print " mins\n"
jump __label193 always 0 0
label __label180
op sub __tmp156 __fn4_charge START_POWER_REQ
op sub __tmp157 __tmp156 5000
op div __tmp158 __tmp157 23000
op div __fn4_charge_units __tmp157 38333.333333333336
op div __tmp160 __fn4_surplus 2000
op max __fn4_flow_units -0.1 __tmp160
op mul __tmp162 2 1
op add __fn4_cryo_req 3 2
jump __label181 greaterThanEq REACTORS_DESIRED 1
print "IDLE\n"
set __fn4_supply_fuel false
jump __label192 always 0 0
label __label181
op add __tmp166 __fn4_flow_units __fn4_charge_units
jump __label182 greaterThanEq __tmp166 1
op idiv __tmp170 __fn4_flow_units 0.001
op div __fn4_flow __tmp170 10
op idiv __tmp173 __fn4_charge_units 0.001
op div __fn4_charge __tmp173 10
print "WAIT power. (%"
print __fn4_charge
print "J + %"
print __fn4_flow
print "W)\n"
set __fn4_supply_fuel false
jump __label191 always 0 0
label __label182
op lessThan __tmp175 __fn4_fuel 10
op land __tmp176 fuel_1 __tmp175
jump __label185 equal __tmp176 false
op add __tmp178 __fn4_fuel __fn4_fuel_stored
jump __label183 lessThanEq __tmp178 10
print "WAIT fuel\n"
jump __label190 always 0 0
label __label183
print "WAIT system fuel\n"
jump __label190 always 0 0
label __label185
op mul __tmp181 45 1
jump __label186 greaterThanEq __fn4_fuel_stored 45
print "WAIT buffer fuel\n"
jump __label189 always 0 0
label __label186
jump __label187 greaterThanEq __fn4_cryo 5
print "WAIT cryo\n"
jump __label188 always 0 0
label __label187
print "STARTUP\n"
op add START_POWER_REQ START_POWER_REQ 23000
control enabled reactor1 true 0 0 0
label __label188
label __label189
label __label190
label __label191
label __label192
label __label193
label __label194
sensor __tmp187 reactor1 @enabled
jump __label195 equal __fn4_enabled __tmp187
set RET_T_STARTUP @tick
label __label195
set fuel_1 __fn4_supply_fuel
set t_startup1 RET_T_STARTUP
jump __label111 equal __fn4_supply_fuel false
control config unloader1 @blast-compound 0 0 0
jump __label112 always 0 0
label __label111
control config unloader1 @scrap 0 0 0
label __label112
jump __label113 notEqual __fn4_supply_fuel false
control config unloader2 @blast-compound 0 0 0
jump __label114 always 0 0
label __label113
control config unloader2 @scrap 0 0 0
label __label114
set RET_T_STARTUP t_startup2
op sub __tmp114 @tick t_startup2
op idiv __fn4_secs __tmp114 60
sensor __fn4_fuel reactor2 @blast-compound
set __fn4_supply_fuel true
sensor __fn4_fuel_stored vault1 @blast-compound
sensor __fn4_cryo reactor2 @cryofluid
sensor __tmp119 node1 @powerNetStored
op floor __fn4_charge __tmp119 0
sensor __tmp121 node1 @powerNetIn
sensor __tmp122 node1 @powerNetOut
op sub __tmp123 __tmp121 __tmp122
op floor __fn4_surplus __tmp123 0
op mul __tmp125 AVG_SURPLUS 0.8
op mul __tmp126 __fn4_surplus 0.2
op add AVG_SURPLUS __tmp125 __tmp126
sensor __fn4_enabled reactor2 @enabled
print "#"
print 2
print " - "
jump __label199 equal emerg_shutdown false
control enabled reactor2 false 0 0 0
print "emergency mode\n"
set __fn4_supply_fuel false
jump __label232 always 0 0
label __label199
jump __label218 equal __fn4_enabled false
jump __label200 greaterThanEq REACTORS_DESIRED 2
control enabled reactor2 false 0 0 0
print "STOP unwanted\n"
jump __label231 always 0 0
label __label200
op greaterThan __tmp133 2 1
op mul __tmp134 15 2
op lessThan __tmp135 __fn4_fuel_stored 30
op land __tmp136 true __tmp135
jump __label201 equal __tmp136 false
control enabled reactor2 false 0 0 0
print "STOP system fuel low\n"
jump __label231 always 0 0
label __label201
jump __label202 greaterThan __fn4_fuel 1
control enabled reactor2 false 0 0 0
print "STOP fuel low\n"
jump __label231 always 0 0
label __label202
jump __label203 greaterThan __fn4_cryo 1
control enabled reactor2 false 0 0 0
print "STOP out of cryo\n"
jump __label231 always 0 0
label __label203
jump __label210 greaterThanEq __fn4_secs 30
op sub __tmp103 @tick t_startup2
op idiv __fn3_secs __tmp103 60
op greaterThan __tmp105 __fn3_secs 30
sensor __tmp106 reactor2 @enabled
op equal __tmp107 __tmp106 false
op or __tmp108 __tmp105 __tmp107
jump __label205 equal __tmp108 false
set __fn3retval 0
jump __label207 always 0 0
label __label205
op sub __fn3_time_left 30 __fn3_secs
op mul __tmp111 __fn3_time_left __fn3_time_left
op idiv __fn3_charge_req __tmp111 0.04
set __fn3retval __fn3_charge_req
label __label207
op sub __tmp144 __fn4_charge __fn3retval
op lessThan __tmp145 __tmp144 5000
op lessThan __tmp146 __fn4_surplus -500
op land __tmp147 __tmp145 __tmp146
jump __label208 equal __tmp147 false
control enabled reactor2 false 0 0 0
print "START FAIL battery\n"
set __fn4_supply_fuel false
jump __label231 always 0 0
label __label208
op sub __fn4_time_left 30 __fn4_secs
print "Starting "
print __fn4_time_left
print " secs, req "
print __fn3retval
print "J\n"
jump __label231 always 0 0
label __label210
op lessThan __tmp150 __fn4_charge 2000
op lessThan __tmp151 __fn4_surplus -500
op land __tmp152 __tmp150 __tmp151
jump __label211 equal __tmp152 false
control enabled reactor2 false 0 0 0
print "ABANDON - battery crit\n"
set __fn4_supply_fuel false
jump __label231 always 0 0
label __label211
op idiv __fn4_mins __fn4_secs 6
op div __fn4_mins __fn4_mins 10
print "RUN "
print __fn4_mins
print " mins\n"
jump __label231 always 0 0
label __label218
op sub __tmp156 __fn4_charge START_POWER_REQ
op sub __tmp157 __tmp156 5000
op div __tmp158 __tmp157 23000
op div __fn4_charge_units __tmp157 38333.333333333336
op div __tmp160 __fn4_surplus 2000
op max __fn4_flow_units -0.1 __tmp160
op mul __tmp162 2 2
op add __fn4_cryo_req 3 4
jump __label219 greaterThanEq REACTORS_DESIRED 2
print "IDLE\n"
set __fn4_supply_fuel false
jump __label230 always 0 0
label __label219
op add __tmp166 __fn4_flow_units __fn4_charge_units
jump __label220 greaterThanEq __tmp166 1
op idiv __tmp170 __fn4_flow_units 0.001
op div __fn4_flow __tmp170 10
op idiv __tmp173 __fn4_charge_units 0.001
op div __fn4_charge __tmp173 10
print "WAIT power. (%"
print __fn4_charge
print "J + %"
print __fn4_flow
print "W)\n"
set __fn4_supply_fuel false
jump __label229 always 0 0
label __label220
op lessThan __tmp175 __fn4_fuel 10
op land __tmp176 fuel_2 __tmp175
jump __label223 equal __tmp176 false
op add __tmp178 __fn4_fuel __fn4_fuel_stored
jump __label221 lessThanEq __tmp178 10
print "WAIT fuel\n"
jump __label228 always 0 0
label __label221
print "WAIT system fuel\n"
jump __label228 always 0 0
label __label223
op mul __tmp181 45 2
jump __label224 greaterThanEq __fn4_fuel_stored 90
print "WAIT buffer fuel\n"
jump __label227 always 0 0
label __label224
jump __label225 greaterThanEq __fn4_cryo 7
print "WAIT cryo\n"
jump __label226 always 0 0
label __label225
print "STARTUP\n"
op add START_POWER_REQ START_POWER_REQ 23000
control enabled reactor2 true 0 0 0
label __label226
label __label227
label __label228
label __label229
label __label230
label __label231
label __label232
sensor __tmp187 reactor2 @enabled
jump __label233 equal __fn4_enabled __tmp187
set RET_T_STARTUP @tick
label __label233
set fuel_2 __fn4_supply_fuel
set t_startup2 RET_T_STARTUP
jump __label117 equal __fn4_supply_fuel false
control config unloader3 @blast-compound 0 0 0
jump __label118 always 0 0
label __label117
control config unloader3 @scrap 0 0 0
label __label118
jump __label119 notEqual __fn4_supply_fuel false
control config unloader4 @blast-compound 0 0 0
jump __label120 always 0 0
label __label119
control config unloader4 @scrap 0 0 0
label __label120
radar enemy any any health cyclone1 1 __fn2_enemy_found
jump __label133 equal __fn2_enemy_found null
control enabled projector1 true 0 0 0
control enabled projector2 true 0 0 0
control config unloader1 @scrap 0 0 0
control config unloader2 @blast-compound 0 0 0
control config unloader3 @scrap 0 0 0
control config unloader4 @blast-compound 0 0 0
control config unloader5 @scrap 0 0 0
control config unloader6 @blast-compound 0 0 0
control config unloader7 @scrap 0 0 0
control enabled reactor1 false 0 0 0
control enabled reactor2 false 0 0 0
control enabled reactor3 false 0 0 0
control enabled reactor4 false 0 0 0
control enabled reactor5 false 0 0 0
set __fn2retval true
jump __label135 always 0 0
label __label133
control enabled projector1 false 0 0 0
control enabled projector2 false 0 0 0
set __fn2retval false
label __label135
op or emerg_shutdown emerg_shutdown __fn2retval
set RET_T_STARTUP t_startup3
op sub __tmp114 @tick t_startup3
op idiv __fn4_secs __tmp114 60
sensor __fn4_fuel reactor3 @blast-compound
set __fn4_supply_fuel true
sensor __fn4_fuel_stored vault1 @blast-compound
sensor __fn4_cryo reactor3 @cryofluid
sensor __tmp119 node1 @powerNetStored
op floor __fn4_charge __tmp119 0
sensor __tmp121 node1 @powerNetIn
sensor __tmp122 node1 @powerNetOut
op sub __tmp123 __tmp121 __tmp122
op floor __fn4_surplus __tmp123 0
op mul __tmp125 AVG_SURPLUS 0.8
op mul __tmp126 __fn4_surplus 0.2
op add AVG_SURPLUS __tmp125 __tmp126
sensor __fn4_enabled reactor3 @enabled
print "#"
print 3
print " - "
jump __label237 equal emerg_shutdown false
control enabled reactor3 false 0 0 0
print "emergency mode\n"
set __fn4_supply_fuel false
jump __label270 always 0 0
label __label237
jump __label256 equal __fn4_enabled false
jump __label238 greaterThanEq REACTORS_DESIRED 3
control enabled reactor3 false 0 0 0
print "STOP unwanted\n"
jump __label269 always 0 0
label __label238
op greaterThan __tmp133 3 1
op mul __tmp134 15 3
op lessThan __tmp135 __fn4_fuel_stored 45
op land __tmp136 true __tmp135
jump __label239 equal __tmp136 false
control enabled reactor3 false 0 0 0
print "STOP system fuel low\n"
jump __label269 always 0 0
label __label239
jump __label240 greaterThan __fn4_fuel 1
control enabled reactor3 false 0 0 0
print "STOP fuel low\n"
jump __label269 always 0 0
label __label240
jump __label241 greaterThan __fn4_cryo 1
control enabled reactor3 false 0 0 0
print "STOP out of cryo\n"
jump __label269 always 0 0
label __label241
jump __label248 greaterThanEq __fn4_secs 30
op sub __tmp103 @tick t_startup3
op idiv __fn3_secs __tmp103 60
op greaterThan __tmp105 __fn3_secs 30
sensor __tmp106 reactor3 @enabled
op equal __tmp107 __tmp106 false
op or __tmp108 __tmp105 __tmp107
jump __label243 equal __tmp108 false
set __fn3retval 0
jump __label245 always 0 0
label __label243
op sub __fn3_time_left 30 __fn3_secs
op mul __tmp111 __fn3_time_left __fn3_time_left
op idiv __fn3_charge_req __tmp111 0.04
set __fn3retval __fn3_charge_req
label __label245
op sub __tmp144 __fn4_charge __fn3retval
op lessThan __tmp145 __tmp144 5000
op lessThan __tmp146 __fn4_surplus -500
op land __tmp147 __tmp145 __tmp146
jump __label246 equal __tmp147 false
control enabled reactor3 false 0 0 0
print "START FAIL battery\n"
set __fn4_supply_fuel false
jump __label269 always 0 0
label __label246
op sub __fn4_time_left 30 __fn4_secs
print "Starting "
print __fn4_time_left
print " secs, req "
print __fn3retval
print "J\n"
jump __label269 always 0 0
label __label248
op lessThan __tmp150 __fn4_charge 2000
op lessThan __tmp151 __fn4_surplus -500
op land __tmp152 __tmp150 __tmp151
jump __label249 equal __tmp152 false
control enabled reactor3 false 0 0 0
print "ABANDON - battery crit\n"
set __fn4_supply_fuel false
jump __label269 always 0 0
label __label249
op idiv __fn4_mins __fn4_secs 6
op div __fn4_mins __fn4_mins 10
print "RUN "
print __fn4_mins
print " mins\n"
jump __label269 always 0 0
label __label256
op sub __tmp156 __fn4_charge START_POWER_REQ
op sub __tmp157 __tmp156 5000
op div __tmp158 __tmp157 23000
op div __fn4_charge_units __tmp157 38333.333333333336
op div __tmp160 __fn4_surplus 2000
op max __fn4_flow_units -0.1 __tmp160
op mul __tmp162 2 3
op add __fn4_cryo_req 3 6
jump __label257 greaterThanEq REACTORS_DESIRED 3
print "IDLE\n"
set __fn4_supply_fuel false
jump __label268 always 0 0
label __label257
op add __tmp166 __fn4_flow_units __fn4_charge_units
jump __label258 greaterThanEq __tmp166 1
op idiv __tmp170 __fn4_flow_units 0.001
op div __fn4_flow __tmp170 10
op idiv __tmp173 __fn4_charge_units 0.001
op div __fn4_charge __tmp173 10
print "WAIT power. (%"
print __fn4_charge
print "J + %"
print __fn4_flow
print "W)\n"
set __fn4_supply_fuel false
jump __label267 always 0 0
label __label258
op lessThan __tmp175 __fn4_fuel 10
op land __tmp176 fuel_3 __tmp175
jump __label261 equal __tmp176 false
op add __tmp178 __fn4_fuel __fn4_fuel_stored
jump __label259 lessThanEq __tmp178 10
print "WAIT fuel\n"
jump __label266 always 0 0
label __label259
print "WAIT system fuel\n"
jump __label266 always 0 0
label __label261
op mul __tmp181 45 3
jump __label262 greaterThanEq __fn4_fuel_stored 135
print "WAIT buffer fuel\n"
jump __label265 always 0 0
label __label262
jump __label263 greaterThanEq __fn4_cryo 9
print "WAIT cryo\n"
jump __label264 always 0 0
label __label263
print "STARTUP\n"
op add START_POWER_REQ START_POWER_REQ 23000
control enabled reactor3 true 0 0 0
label __label264
label __label265
label __label266
label __label267
label __label268
label __label269
label __label270
sensor __tmp187 reactor3 @enabled
jump __label271 equal __fn4_enabled __tmp187
set RET_T_STARTUP @tick
label __label271
set fuel_3 __fn4_supply_fuel
set t_startup3 RET_T_STARTUP
set __fn4_reactor reactor4
set __fn4_reactor_num 4
set __fn4_emerg_shutdown emerg_shutdown
set __fn4_fuel_on fuel_4
set __fn4_t_startup t_startup4
setaddr __fn4retaddr __label26
call __label4 __fn4retval
gotolabel __label26 __fn4
set fuel_4 __fn4retval
set t_startup4 RET_T_STARTUP
set __fn4_reactor reactor5
set __fn4_reactor_num 5
set __fn4_emerg_shutdown emerg_shutdown
set __fn4_fuel_on fuel_5
set __fn4_t_startup t_startup5
setaddr __fn4retaddr __label27
call __label4 __fn4retval
gotolabel __label27 __fn4
set fuel_5 __fn4retval
set t_startup5 RET_T_STARTUP
op or __tmp33 fuel_3 fuel_4
op or fuel_many __tmp33 __fn4retval
jump __label123 equal fuel_many false
control config unloader5 @blast-compound 0 0 0
jump __label124 always 0 0
label __label123
control config unloader5 @scrap 0 0 0
label __label124
jump __label125 notEqual fuel_many false
control config unloader6 @blast-compound 0 0 0
jump __label126 always 0 0
label __label125
control config unloader6 @scrap 0 0 0
label __label126
op or __tmp36 fuel_1 fuel_2
op or __tmp37 __tmp36 fuel_many
sensor __tmp39 node1 @powerNetStored
op floor __fn6_charge __tmp39 0
sensor __tmp41 node1 @powerNetIn
sensor __tmp42 node1 @powerNetOut
op sub __tmp43 __tmp41 __tmp42
op floor __fn6_surplus __tmp43 0
sensor __fn6_fuel_stored vault1 @blast-compound
op lessThan __tmp46 __fn6_charge 5000
op lessThan __tmp47 __fn6_surplus -500
op land __tmp48 __tmp46 __tmp47
op or __tmp49 __tmp48 emerg_shutdown
jump __label31 equal __tmp49 false
set __fn6_limit 0
print "Central Fuel at "
print __fn6_fuel_stored
print " / "
print 0
print " - "
jump __label33 equal emerg_shutdown false
print " Enemies detected.\n"
jump __label32 always 0 0
label __label33
print " Critical power.\n"
jump __label32 always 0 0
label __label31
jump __label35 notEqual __tmp37 false
set __fn6_limit 150
print "Fuel "
print __fn6_fuel_stored
print " / "
print 150
print " (due to emergency)\n"
jump __label36 always 0 0
label __label35
set __fn6_limit 800
print "Fuel "
print __fn6_fuel_stored
print " / "
print 800
print "\n"
label __label36
label __label32
op lessThan __tmp38 __fn6_fuel_stored __fn6_limit
jump __label37 equal __tmp38 false
control config unloader7 @pyratite 0 0 0
jump __label38 always 0 0
label __label37
control config unloader7 @scrap 0 0 0
label __label38
sensor __tmp57 node1 @powerNetStored
sensor __tmp58 node1 @powerNetCapacity
op div __fn7_stored_pc __tmp57 __tmp58
op greaterThan __tmp60 __fn7_stored_pc 0.9
op lessThan __tmp61 START_POWER_REQ 10
op land __tmp62 __tmp60 __tmp61
jump __label41 equal __tmp62 false
print "Differential now idle.\n"
control enabled generator1 false 0 0 0
control enabled generator2 false 0 0 0
jump __label42 always 0 0
label __label41
control enabled generator1 true 0 0 0
control enabled generator2 true 0 0 0
label __label42
op idiv __tmp95 AVG_SURPLUS 100
op div __fn0retval __tmp95 10
set surplus __fn0retval
sensor __fn0_val node1 @powerNetStored
op idiv __tmp95 __fn0_val 100
op div __fn0retval __tmp95 10
set charge __fn0retval
jump __label45 lessThanEq START_POWER_REQ 0
op idiv __tmp95 START_POWER_REQ 100
op div __fn0retval __tmp95 10
print "Req "
print __fn0retval
print "kJ / "
print charge
print "kJ. "
print surplus
print "kW flow.\n"
jump __label46 always 0 0
label __label45
print "Power "
print surplus
print "kW, "
print __fn0retval
print "kJ\n"
sensor __tmp71 node1 @powerNetStored
sensor __tmp72 node1 @powerNetCapacity
op div __fn8_stored __tmp71 __tmp72
op greaterThan __tmp74 __fn8_stored 0.98
op greaterThan __tmp76 AVG_SURPLUS 16500
op land __tmp77 __tmp74 __tmp76
jump __label50 equal __tmp77 false
jump __label52 lessThanEq REACTORS_DESIRED 2
op sub REACTORS_DESIRED REACTORS_DESIRED 1
op sub AVG_SURPLUS AVG_SURPLUS 6500
label __label52
label __label50
op lessThan __tmp83 __fn8_stored 0.8
op lessThan __tmp85 AVG_SURPLUS 8000
op land __tmp86 __tmp83 __tmp85
jump __label54 equal __tmp86 false
op sub __tmp88 AVG_SURPLUS 10000
op idiv __tmp89 __tmp88 6500
op max __fn8_needed 1 __tmp89
op add __tmp91 __fn8_needed REACTORS_DESIRED
op min REACTORS_DESIRED 5 __tmp91
label __label54
label __label46
jump __label56 equal REACTORS_DESIRED 5
print "Require only "
print REACTORS_DESIRED
print "/5 reactors.\n"
label __label56
printflush message1
jump __label7 always 0 0
label __label4
set RET_T_STARTUP __fn4_t_startup
op sub __tmp114 @tick __fn4_t_startup
op idiv __fn4_secs __tmp114 60
sensor __fn4_fuel __fn4_reactor @blast-compound
set __fn4_supply_fuel true
sensor __fn4_fuel_stored CONTAINER @blast-compound
sensor __fn4_cryo __fn4_reactor @cryofluid
sensor __tmp119 NODE @powerNetStored
op floor __fn4_charge __tmp119 0
sensor __tmp121 NODE @powerNetIn
sensor __tmp122 NODE @powerNetOut
op sub __tmp123 __tmp121 __tmp122
op floor __fn4_surplus __tmp123 0
op mul __tmp125 AVG_SURPLUS 0.8
op mul __tmp126 __fn4_surplus 0.2
op add AVG_SURPLUS __tmp125 __tmp126
sensor __fn4_enabled __fn4_reactor @enabled
print "#"
print __fn4_reactor_num
print " - "
jump __label71 equal __fn4_emerg_shutdown false
control enabled __fn4_reactor false 0 0 0
print "emergency mode\n"
set __fn4_supply_fuel false
jump __label72 always 0 0
label __label71
jump __label73 equal __fn4_enabled false
jump __label75 greaterThanEq REACTORS_DESIRED __fn4_reactor_num
control enabled __fn4_reactor false 0 0 0
print "STOP unwanted\n"
jump __label74 always 0 0
label __label75
op greaterThan __tmp133 __fn4_reactor_num 1
op mul __tmp134 FUEL_TOT_ABORT __fn4_reactor_num
op lessThan __tmp135 __fn4_fuel_stored __tmp134
op land __tmp136 __tmp133 __tmp135
jump __label77 equal __tmp136 false
control enabled __fn4_reactor false 0 0 0
print "STOP system fuel low\n"
jump __label74 always 0 0
label __label77
jump __label79 greaterThan __fn4_fuel 1
control enabled __fn4_reactor false 0 0 0
print "STOP fuel low\n"
jump __label74 always 0 0
label __label79
jump __label81 greaterThan __fn4_cryo CRYO_ABORT
control enabled __fn4_reactor false 0 0 0
print "STOP out of cryo\n"
jump __label74 always 0 0
label __label81
jump __label83 greaterThanEq __fn4_secs 30
op sub __tmp103 @tick __fn4_t_startup
op idiv __fn3_secs __tmp103 60
op greaterThan __tmp105 __fn3_secs 30
sensor __tmp106 __fn4_reactor @enabled
op equal __tmp107 __tmp106 false
op or __tmp108 __tmp105 __tmp107
jump __label157 equal __tmp108 false
set __fn3retval 0
jump __label159 always 0 0
label __label157
op sub __fn3_time_left 30 __fn3_secs
op mul __tmp111 __fn3_time_left __fn3_time_left
op idiv __fn3_charge_req __tmp111 0.04
set __fn3retval __fn3_charge_req
label __label159
op sub __tmp144 __fn4_charge __fn3retval
op lessThan __tmp145 __tmp144 PWR_ABORT
op lessThan __tmp146 __fn4_surplus FLOW_ABORT
op land __tmp147 __tmp145 __tmp146
jump __label86 equal __tmp147 false
control enabled __fn4_reactor false 0 0 0
print "START FAIL battery\n"
set __fn4_supply_fuel false
jump __label74 always 0 0
label __label86
op sub __fn4_time_left 30 __fn4_secs
print "Starting "
print __fn4_time_left
print " secs, req "
print __fn3retval
print "J\n"
jump __label74 always 0 0
label __label83
op lessThan __tmp150 __fn4_charge PWR_ABANDON
op lessThan __tmp151 __fn4_surplus FLOW_ABORT
op land __tmp152 __tmp150 __tmp151
jump __label88 equal __tmp152 false
control enabled __fn4_reactor false 0 0 0
print "ABANDON - battery crit\n"
set __fn4_supply_fuel false
jump __label74 always 0 0
label __label88
op idiv __fn4_mins __fn4_secs 6
op div __fn4_mins __fn4_mins 10
print "RUN "
print __fn4_mins
print " mins\n"
jump __label74 always 0 0
label __label73
op sub __tmp156 __fn4_charge START_POWER_REQ
op sub __tmp157 __tmp156 PWR_ABORT
op div __tmp158 __tmp157 PWR_REQ
op mul __fn4_charge_units __tmp158 PWR_RESERVE
op div __tmp160 __fn4_surplus FLOW_REQ
op max __fn4_flow_units -0.1 __tmp160
op mul __tmp162 CRYO_REQ_EA __fn4_reactor_num
op add __fn4_cryo_req CRYO_REQ __tmp162
jump __label90 greaterThanEq REACTORS_DESIRED __fn4_reactor_num
print "IDLE\n"
set __fn4_supply_fuel false
jump __label91 always 0 0
label __label90
op add __tmp166 __fn4_flow_units __fn4_charge_units
jump __label92 greaterThanEq __tmp166 1
op idiv __tmp170 __fn4_flow_units 0.001
op div __fn4_flow __tmp170 10
op idiv __tmp173 __fn4_charge_units 0.001
op div __fn4_charge __tmp173 10
print "WAIT power. (%"
print __fn4_charge
print "J + %"
print __fn4_flow
print "W)\n"
set __fn4_supply_fuel false
jump __label93 always 0 0
label __label92
op lessThan __tmp175 __fn4_fuel FUEL_REQ
op land __tmp176 __fn4_fuel_on __tmp175
jump __label94 equal __tmp176 false
op add __tmp178 __fn4_fuel __fn4_fuel_stored
jump __label96 lessThanEq __tmp178 FUEL_REQ
print "WAIT fuel\n"
jump __label95 always 0 0
label __label96
print "WAIT system fuel\n"
jump __label95 always 0 0
label __label94
op mul __tmp181 FUEL_TOT_REQ __fn4_reactor_num
jump __label98 greaterThanEq __fn4_fuel_stored __tmp181
print "WAIT buffer fuel\n"
jump __label99 always 0 0
label __label98
jump __label100 greaterThanEq __fn4_cryo __fn4_cryo_req
print "WAIT cryo\n"
jump __label101 always 0 0
label __label100
print "STARTUP\n"
op add START_POWER_REQ START_POWER_REQ PWR_REQ
control enabled __fn4_reactor true 0 0 0
label __label101
label __label99
label __label95
label __label93
label __label91
label __label74
label __label72
sensor __tmp187 __fn4_reactor @enabled
jump __label102 equal __fn4_enabled __tmp187
set RET_T_STARTUP @tick
label __label102
set __fn4retval __fn4_supply_fuel
goto __fn4retaddr __fn4
