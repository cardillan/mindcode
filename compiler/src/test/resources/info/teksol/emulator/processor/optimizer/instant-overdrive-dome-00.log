  1404 instructions before optimizations.
    59 instructions eliminated by Temp Variables Elimination.
   252 instructions eliminated by Dead Code Elimination (6 iterations).
     3 instructions eliminated by Jump Normalization (2 passes, 4 iterations).
    70 instructions eliminated by Jump Optimization (4 iterations).
    99 instructions eliminated by Single Step Elimination (3 passes, 7 iterations).
     2 instructions eliminated by If Expression Optimization (3 iterations).
    81 instructions eliminated by Data Flow Optimization (2 passes, 10 iterations).
     2 instructions added by Loop Optimization (3 iterations).
     3 loops improved by Loop Optimization.
    17 instructions eliminated by Jump Straightening (4 iterations).
    12 instructions updated by PropagateJumpTargets.
    13 instructions eliminated by Unreachable Code Elimination.
    10 instructions eliminated by Print Merging.
   800 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 140):
  * Loop Optimization: replicate condition at line 45            cost     1, benefit       25.0, efficiency       25.0 (+1 instructions)
    Loop Optimization: replicate condition at line 128           cost     1, benefit       25.0, efficiency       25.0
  ! Loop Unrolling: unroll iteration loop at line 178            cost   209, benefit      275.0, efficiency        1.3

Pass 1: speed optimization selection (cost limit 139):
  * Loop Optimization: replicate condition at line 128           cost     1, benefit       25.0, efficiency       25.0 (+1 instructions)
  ! Loop Unrolling: unroll iteration loop at line 178            cost   209, benefit      275.0, efficiency        1.3

Pass 1: speed optimization selection (cost limit 138):
  ! Loop Unrolling: unroll iteration loop at line 178            cost   209, benefit      275.0, efficiency        1.3

Pass 2: speed optimization selection (cost limit 158):
  ! Loop Unrolling: unroll iteration loop at line 178            cost   193, benefit      275.0, efficiency        1.4

Pass 3: speed optimization selection (cost limit 158):
  ! Loop Unrolling: unroll iteration loop at line 178            cost   193, benefit      275.0, efficiency        1.4

Final code before resolving virtual instructions:

remark "This is the preferred unit type to use for bringing in supplies."
remark "If no units of this type exist, we'll try using other types."
set UNIT_TYPE @flare
remark "Do not modify anything below this line."
set DOME dome1
jump __label2 notEqual dome1 null
label __label346
print "[gold]Waiting for an overdrive dome to be connected..."
printflush message1
set DOME dome1
jump __label346 equal dome1 null
label __label2
sensor __tmp1 switch1 @enabled
jump __label5 notEqual __tmp1 false
label __label347
print "[coral]Activate switch to begin supplying overdrive dome..."
print "\n"
printflush message1
sensor __tmp1 switch1 @enabled
jump __label347 equal __tmp1 false
label __label5
label __label8
printflush null
print "[gold]Looking for suitable unit type:[]"
print "\n"
remark "chooseUnitType: "
remark UNIT_TYPE
set __fn1_needed 0
set __fn1_occupied 0
set __fn1_free 0
ubind UNIT_TYPE
set __fn1_firstUnit @unit
jump __label13 equal __fn1_firstUnit null
set __tmp16 2
set __fn2_unit @unit
sensor __tmp13 __fn2_unit @speed
op div __fn2_travel_time 0 __tmp13
op greaterThanEq __tmp8 __fn2_travel_time 47
jump __label18 equal __tmp8 false
set __tmp16 4
label __label18
set __fn1_needed __tmp16
label __label19
sensor __tmp17 @unit @controlled
op equal __tmp18 __tmp17 0
sensor __tmp19 @unit @controller
op equal __tmp20 __tmp19 @this
op or __tmp21 __tmp18 __tmp20
jump __label22 equal __tmp21 false
op add __fn1_free __fn1_free 1
jump __label23 lessThan __fn1_free __tmp16
set __tmp4 true
jump __label12 always 0 0
label __label22
op add __fn1_occupied __fn1_occupied 1
label __label23
ubind UNIT_TYPE
op notEqual __tmp27 @unit __fn1_firstUnit
sensor __tmp28 __fn1_firstUnit @dead
op equal __tmp29 __tmp28 0
op land __tmp30 __tmp27 __tmp29
jump __label19 notEqual __tmp30 false
label __label13
print UNIT_TYPE
print ": occupied: "
print __fn1_occupied
print ", free: "
print __fn1_free
jump __label28 lessThanEq __fn1_needed 0
print ", needed: "
print __fn1_needed
label __label28
print "\n"
set __tmp4 false
label __label12
jump __label30 equal __tmp4 false
set __tmp3 UNIT_TYPE
jump __label7 always 0 0
label __label30
setaddr __tmp35 __label35
set __fn0_type @flare
jump __label33 always 0 0
gotolabel __label35 marker0
setaddr __tmp35 __label36
set __fn0_type @poly
jump __label33 always 0 0
gotolabel __label36 marker0
setaddr __tmp35 __label37
set __fn0_type @mega
jump __label33 always 0 0
gotolabel __label37 marker0
setaddr __tmp35 __label38
set __fn0_type @mono
label __label33
jump __label39 equal __fn0_type UNIT_TYPE
remark "chooseUnitType: "
remark __fn0_type
set __fn3_needed 0
set __fn3_occupied 0
set __fn3_free 0
ubind __fn0_type
set __fn3_firstUnit @unit
jump __label43 equal __fn3_firstUnit null
set __tmp50 2
set __fn4_unit @unit
sensor __tmp47 __fn4_unit @speed
op div __fn4_travel_time 0 __tmp47
op greaterThanEq __tmp42 __fn4_travel_time 47
jump __label48 equal __tmp42 false
set __tmp50 4
label __label48
set __fn3_needed __tmp50
label __label49
sensor __tmp51 @unit @controlled
op equal __tmp52 __tmp51 0
sensor __tmp53 @unit @controller
op equal __tmp54 __tmp53 @this
op or __tmp55 __tmp52 __tmp54
jump __label52 equal __tmp55 false
op add __fn3_free __fn3_free 1
jump __label53 lessThan __fn3_free __tmp50
set __tmp38 true
jump __label42 always 0 0
label __label52
op add __fn3_occupied __fn3_occupied 1
label __label53
ubind __fn0_type
op notEqual __tmp61 @unit __fn3_firstUnit
sensor __tmp62 __fn3_firstUnit @dead
op equal __tmp63 __tmp62 0
op land __tmp64 __tmp61 __tmp63
jump __label49 notEqual __tmp64 false
label __label43
print __fn0_type
print ": occupied: "
print __fn3_occupied
print ", free: "
print __fn3_free
jump __label58 lessThanEq __fn3_needed 0
print ", needed: "
print __fn3_needed
label __label58
print "\n"
set __tmp38 false
label __label42
jump __label60 equal __tmp38 false
printflush null
set __tmp3 __fn0_type
jump __label7 always 0 0
label __label60
label __label39
goto __tmp35 marker0
gotolabel __label38 marker0
printflush message1
jump __label8 always 0 0
label __label7
print "[gold]Binding units..."
printflush message1
set UNIT_P2 null
set UNIT_S2 null
set UNIT_P1 null
set UNIT_S1 null
set __fn5_count 0
ubind __tmp3
set __fn5_firstUnit @unit
jump __label64 notEqual __fn5_firstUnit null
end
label __label64
label __label66
sensor __tmp73 @unit @controller
jump __label69 notEqual __tmp73 @this
op add __fn5_count __fn5_count 1
ucontrol flag 1 0 0 0 0
set UNIT_S2 UNIT_P2
set UNIT_P2 UNIT_S1
set UNIT_S1 UNIT_P1
set UNIT_P1 @unit
jump __label68 notEqual UNIT_S2 null
label __label69
ubind __tmp3
op notEqual __tmp80 @unit __fn5_firstUnit
sensor __tmp81 __fn5_firstUnit @dead
op equal __tmp82 __tmp81 0
op land __tmp83 __tmp80 __tmp82
jump __label66 notEqual __tmp83 false
label __label68
jump __label77 equal UNIT_S1 null
ubind UNIT_S1
sensor __tmp88 @unit @dead
op strictEqual __tmp89 __tmp88 0
sensor __tmp90 @unit @controller
op equal __tmp91 __tmp90 @this
op land __tmp92 __tmp89 __tmp91
jump __label76 notEqual __tmp92 false
label __label77
ubind __tmp3
set __fn7_firstUnit @unit
jump __label81 equal __fn7_firstUnit null
label __label83
sensor __tmp97 @unit @controlled
jump __label76 equal __tmp97 0
ubind __tmp3
op notEqual __tmp100 @unit __fn7_firstUnit
sensor __tmp101 __fn7_firstUnit @dead
op equal __tmp102 __tmp101 0
op land __tmp103 __tmp100 __tmp102
jump __label83 notEqual __tmp103 false
label __label81
end
label __label76
ucontrol flag 1 0 0 0 0
set __tmp84 @unit
set UNIT_S1 __tmp84
jump __label92 equal UNIT_P1 null
ubind UNIT_P1
sensor __tmp108 @unit @dead
op strictEqual __tmp109 __tmp108 0
sensor __tmp110 @unit @controller
op equal __tmp111 __tmp110 @this
op land __tmp112 __tmp109 __tmp111
jump __label91 notEqual __tmp112 false
label __label92
ubind __tmp3
set __fn9_firstUnit @unit
jump __label96 equal __fn9_firstUnit null
label __label98
sensor __tmp117 @unit @controlled
jump __label91 equal __tmp117 0
ubind __tmp3
op notEqual __tmp120 @unit __fn9_firstUnit
sensor __tmp121 __fn9_firstUnit @dead
op equal __tmp122 __tmp121 0
op land __tmp123 __tmp120 __tmp122
jump __label98 notEqual __tmp123 false
label __label96
end
label __label91
ucontrol flag 1 0 0 0 0
set __tmp104 @unit
set UNIT_P1 __tmp104
sensor __tmp124 __tmp84 @firstItem
op equal __tmp125 __tmp124 @phase-fabric
sensor __tmp126 __tmp104 @firstItem
op equal __tmp127 __tmp126 @silicon
op or __tmp128 __tmp125 __tmp127
jump __label103 equal __tmp128 false
set UNIT_S1 __tmp104
set UNIT_P1 __tmp84
label __label103
sensor UNIT_CAPACITY UNIT_S1 @itemCapacity
sensor SPEED UNIT_S1 @speed
op div SPEED_TENTHS SPEED 10
op strictEqual __tmp133 SPEED null
jump __label105 equal __tmp133 false
stop
label __label105
print "[gold]Locating core..."
printflush message1
label __label107
ulocate building core false @copper 0 0 0 CORE
jump __label107 equal CORE null
sensor CORE_X CORE @x
sensor CORE_Y CORE @y
sensor DOME_X DOME @x
sensor DOME_Y DOME @y
op sub __tmp145 DOME_X CORE_X
op sub __tmp146 DOME_Y CORE_Y
op len __tmp147 __tmp145 __tmp146
op mul __tmp148 2 __tmp147
sensor __tmp149 UNIT_S1 @speed
op div __fn10_travel_time __tmp148 __tmp149
op greaterThanEq __tmp144 __fn10_travel_time 47
jump __label112 equal __tmp144 false
jump __label118 equal UNIT_S2 null
ubind UNIT_S2
sensor __tmp157 @unit @dead
op strictEqual __tmp158 __tmp157 0
sensor __tmp159 @unit @controller
op equal __tmp160 __tmp159 @this
op land __tmp161 __tmp158 __tmp160
jump __label117 notEqual __tmp161 false
label __label118
ubind __tmp3
set __fn12_firstUnit @unit
jump __label122 equal __fn12_firstUnit null
label __label124
sensor __tmp166 @unit @controlled
jump __label117 equal __tmp166 0
ubind __tmp3
op notEqual __tmp169 @unit __fn12_firstUnit
sensor __tmp170 __fn12_firstUnit @dead
op equal __tmp171 __tmp170 0
op land __tmp172 __tmp169 __tmp171
jump __label124 notEqual __tmp172 false
label __label122
end
label __label117
ucontrol flag 1 0 0 0 0
set __tmp153 @unit
set UNIT_S2 __tmp153
jump __label133 equal UNIT_P2 null
ubind UNIT_P2
sensor __tmp177 @unit @dead
op strictEqual __tmp178 __tmp177 0
sensor __tmp179 @unit @controller
op equal __tmp180 __tmp179 @this
op land __tmp181 __tmp178 __tmp180
jump __label132 notEqual __tmp181 false
label __label133
ubind __tmp3
set __fn14_firstUnit @unit
jump __label137 equal __fn14_firstUnit null
label __label139
sensor __tmp186 @unit @controlled
jump __label132 equal __tmp186 0
ubind __tmp3
op notEqual __tmp189 @unit __fn14_firstUnit
sensor __tmp190 __fn14_firstUnit @dead
op equal __tmp191 __tmp190 0
op land __tmp192 __tmp189 __tmp191
jump __label139 notEqual __tmp192 false
label __label137
end
label __label132
ucontrol flag 1 0 0 0 0
set __tmp173 @unit
set UNIT_P2 __tmp173
sensor __tmp193 UNIT_S1 @firstItem
op equal __tmp194 __tmp193 @phase-fabric
sensor __tmp195 __tmp173 @firstItem
op notEqual __tmp196 __tmp195 @phase-fabric
op land __tmp197 __tmp194 __tmp196
jump __label144 equal __tmp197 false
set u UNIT_S1
set UNIT_S1 __tmp173
set UNIT_P2 u
label __label144
sensor __tmp199 __tmp153 @firstItem
op equal __tmp200 __tmp199 @phase-fabric
sensor __tmp201 UNIT_P2 @firstItem
op equal __tmp202 __tmp201 @silicon
op or __tmp203 __tmp200 __tmp202
jump __label146 equal __tmp203 false
set UNIT_S2 UNIT_P2
set UNIT_P2 __tmp153
label __label146
set GROUP1 "unit  1"
set GROUP2 "unit 2"
jump __label113 always 0 0
label __label112
ubind UNIT_S2
ucontrol unbind 0 0 0 0 0
set UNIT_S2 null
ubind UNIT_P2
ucontrol unbind 0 0 0 0 0
set UNIT_P2 null
set GROUP1 "unit"
set GROUP2 ""
label __label113
op equal __tmp205 __tmp144 false
sensor __tmp206 UNIT_S1 @totalItems
sensor __tmp207 UNIT_S2 @totalItems
op lessThan __tmp208 __tmp206 __tmp207
op or SUPPLY_S_FIRST __tmp205 __tmp208
sensor __tmp211 UNIT_P1 @totalItems
sensor __tmp212 UNIT_P2 @totalItems
op lessThan __tmp213 __tmp211 __tmp212
op or SUPPLY_P_FIRST __tmp205 __tmp213
op add unitCheck @time 5000
sensor __tmp216 switch1 @enabled
jump __label150 equal __tmp216 false
label __label348
set start @time
print " === [gold]Supplying Overdrive Dome[] === "
print "\n\nUnit type: [green]"
print __tmp3
print "[]\n\n[green]Silicon[] status:\n"
sensor __fn15_level DOME @silicon
jump __label153 lessThanEq __fn15_level 3
print "  dome:  [green]"
print __fn15_level
print "[]\n"
jump __label154 always 0 0
label __label153
print "  dome:  [coral]"
print __fn15_level
print "[]\n"
label __label154
jump __label159 equal UNIT_S1 null
ubind UNIT_S1
sensor __tmp226 @unit @dead
op strictEqual __tmp227 __tmp226 0
sensor __tmp228 @unit @controller
op equal __tmp229 __tmp228 @this
op land __tmp230 __tmp227 __tmp229
jump __label158 notEqual __tmp230 false
label __label159
ubind __tmp3
set __fn17_firstUnit @unit
jump __label163 equal __fn17_firstUnit null
label __label165
sensor __tmp235 @unit @controlled
jump __label158 equal __tmp235 0
ubind __tmp3
op notEqual __tmp238 @unit __fn17_firstUnit
sensor __tmp239 __fn17_firstUnit @dead
op equal __tmp240 __tmp239 0
op land __tmp241 __tmp238 __tmp240
jump __label165 notEqual __tmp241 false
label __label163
end
label __label158
set __fn16_msg ""
sensor __fn16_state @unit @flag
set __fn16_distance -1
op lessThan __tmp243 __fn16_state 2
op greaterThan __tmp244 __fn16_state 3
op or __tmp245 __tmp243 __tmp244
jump __label170 equal __tmp245 false
sensor __tmp247 @unit @firstItem
jump __label172 notEqual __tmp247 @silicon
set __fn16_state 3
jump __label173 always 0 0
label __label172
sensor __tmp250 @unit @totalItems
jump __label174 notEqual __tmp250 0
set __fn16_state 2
jump __label175 always 0 0
label __label174
set __fn16_msg ", initializing\n"
ucontrol approach CORE_X CORE_Y 6 0 0
ucontrol within CORE_X CORE_Y 8 __tmp253 0
jump __label176 equal __tmp253 false
ucontrol itemDrop CORE UNIT_CAPACITY 0 0 0
label __label176
label __label175
label __label173
label __label170
jump __label178 notEqual __fn16_state 2
ucontrol within CORE_X CORE_Y 8 __tmp257 0
jump __label180 equal __tmp257 false
ucontrol itemTake CORE @silicon UNIT_CAPACITY 0 0
sensor __tmp259 @unit @totalItems
jump __label182 lessThan __tmp259 UNIT_CAPACITY
ucontrol approach DOME_X DOME_Y 6 0 0
set __fn16_state 3
jump __label181 always 0 0
label __label182
set __fn16_msg ", loading\n"
jump __label181 always 0 0
label __label180
ucontrol approach CORE_X CORE_Y 6 0 0
set __fn16_msg ", fetching in [gold]"
sensor __tmp262 @unit @x
op sub __tmp263 CORE_X __tmp262
sensor __tmp264 @unit @y
op sub __tmp265 CORE_Y __tmp264
op len __tmp266 __tmp263 __tmp265
op idiv __tmp267 __tmp266 SPEED_TENTHS
op div __fn16_distance __tmp267 10
label __label181
label __label178
jump __label184 notEqual __fn16_state 3
ucontrol within DOME_X DOME_Y 8 __tmp271 0
jump __label186 equal __tmp271 false
jump __label188 equal SUPPLY_S_FIRST false
ucontrol itemDrop DOME UNIT_CAPACITY 0 0 0
set __fn16_msg ", supplying\n"
jump __label189 always 0 0
label __label188
ucontrol approach DOME_X DOME_Y 6 0 0
set __fn16_msg ", waiting\n"
label __label189
sensor __tmp274 @unit @totalItems
jump __label187 greaterThan __tmp274 0
ucontrol approach CORE_X CORE_Y 6 0 0
set __fn16_state 2
jump __label187 always 0 0
label __label186
ucontrol approach DOME_X DOME_Y 6 0 0
set __fn16_msg ", returning in [gold]"
sensor __tmp277 @unit @x
op sub __tmp278 DOME_X __tmp277
sensor __tmp279 @unit @y
op sub __tmp280 DOME_Y __tmp279
op len __tmp281 __tmp278 __tmp280
op idiv __tmp282 __tmp281 SPEED_TENTHS
op div __fn16_distance __tmp282 10
label __label187
label __label184
ucontrol flag __fn16_state 0 0 0 0
sensor __tmp284 @unit @totalItems
print "  "
print GROUP1
print ": [gold]"
print __tmp284
print "[]"
jump __label192 lessThan __fn16_distance 0
print __fn16_msg
print __fn16_distance
print "[] sec\n"
jump __label193 always 0 0
label __label192
print __fn16_msg
label __label193
set __tmp222 @unit
set UNIT_S1 __tmp222
jump __label194 equal __tmp144 false
op equal __tmp288 SUPPLY_S_FIRST false
jump __label200 equal UNIT_S2 null
ubind UNIT_S2
sensor __tmp293 @unit @dead
op strictEqual __tmp294 __tmp293 0
sensor __tmp295 @unit @controller
op equal __tmp296 __tmp295 @this
op land __tmp297 __tmp294 __tmp296
jump __label199 notEqual __tmp297 false
label __label200
ubind __tmp3
set __fn19_firstUnit @unit
jump __label204 equal __fn19_firstUnit null
label __label206
sensor __tmp302 @unit @controlled
jump __label199 equal __tmp302 0
ubind __tmp3
op notEqual __tmp305 @unit __fn19_firstUnit
sensor __tmp306 __fn19_firstUnit @dead
op equal __tmp307 __tmp306 0
op land __tmp308 __tmp305 __tmp307
jump __label206 notEqual __tmp308 false
label __label204
end
label __label199
set __fn18_msg ""
sensor __fn18_state @unit @flag
set __fn18_distance -1
op lessThan __tmp310 __fn18_state 2
op greaterThan __tmp311 __fn18_state 3
op or __tmp312 __tmp310 __tmp311
jump __label211 equal __tmp312 false
sensor __tmp314 @unit @firstItem
jump __label213 notEqual __tmp314 @silicon
set __fn18_state 3
jump __label214 always 0 0
label __label213
sensor __tmp317 @unit @totalItems
jump __label215 notEqual __tmp317 0
set __fn18_state 2
jump __label216 always 0 0
label __label215
set __fn18_msg ", initializing\n"
ucontrol approach CORE_X CORE_Y 6 0 0
ucontrol within CORE_X CORE_Y 8 __tmp320 0
jump __label217 equal __tmp320 false
ucontrol itemDrop CORE UNIT_CAPACITY 0 0 0
label __label217
label __label216
label __label214
label __label211
jump __label219 notEqual __fn18_state 2
ucontrol within CORE_X CORE_Y 8 __tmp324 0
jump __label221 equal __tmp324 false
ucontrol itemTake CORE @silicon UNIT_CAPACITY 0 0
sensor __tmp326 @unit @totalItems
jump __label223 lessThan __tmp326 UNIT_CAPACITY
ucontrol approach DOME_X DOME_Y 6 0 0
set __fn18_state 3
jump __label222 always 0 0
label __label223
set __fn18_msg ", loading\n"
jump __label222 always 0 0
label __label221
ucontrol approach CORE_X CORE_Y 6 0 0
set __fn18_msg ", fetching in [gold]"
sensor __tmp329 @unit @x
op sub __tmp330 CORE_X __tmp329
sensor __tmp331 @unit @y
op sub __tmp332 CORE_Y __tmp331
op len __tmp333 __tmp330 __tmp332
op idiv __tmp334 __tmp333 SPEED_TENTHS
op div __fn18_distance __tmp334 10
label __label222
label __label219
jump __label225 notEqual __fn18_state 3
ucontrol within DOME_X DOME_Y 8 __tmp338 0
jump __label227 equal __tmp338 false
jump __label229 equal __tmp288 false
ucontrol itemDrop DOME UNIT_CAPACITY 0 0 0
set __fn18_msg ", supplying\n"
jump __label230 always 0 0
label __label229
ucontrol approach DOME_X DOME_Y 6 0 0
set __fn18_msg ", waiting\n"
label __label230
sensor __tmp341 @unit @totalItems
jump __label228 greaterThan __tmp341 0
ucontrol approach CORE_X CORE_Y 6 0 0
set __fn18_state 2
jump __label228 always 0 0
label __label227
ucontrol approach DOME_X DOME_Y 6 0 0
set __fn18_msg ", returning in [gold]"
sensor __tmp344 @unit @x
op sub __tmp345 DOME_X __tmp344
sensor __tmp346 @unit @y
op sub __tmp347 DOME_Y __tmp346
op len __tmp348 __tmp345 __tmp347
op idiv __tmp349 __tmp348 SPEED_TENTHS
op div __fn18_distance __tmp349 10
label __label228
label __label225
ucontrol flag __fn18_state 0 0 0 0
sensor __tmp351 @unit @totalItems
print "  "
print GROUP2
print ": [gold]"
print __tmp351
print "[]"
jump __label233 lessThan __fn18_distance 0
print __fn18_msg
print __fn18_distance
print "[] sec\n"
jump __label234 always 0 0
label __label233
print __fn18_msg
label __label234
set __tmp289 @unit
set UNIT_S2 __tmp289
jump __label235 equal SUPPLY_S_FIRST false
sensor __tmp355 __tmp222 @totalItems
op greaterThan SUPPLY_S_FIRST __tmp355 0
jump __label236 always 0 0
label __label235
sensor __tmp357 __tmp289 @totalItems
op equal SUPPLY_S_FIRST __tmp357 0
label __label236
label __label194
print "\n[green]Phase fabric[] status:\n"
sensor __fn20_level DOME @phase-fabric
jump __label239 lessThanEq __fn20_level 3
print "  dome:  [green]"
print __fn20_level
print "[]\n"
jump __label240 always 0 0
label __label239
print "  dome:  [coral]"
print __fn20_level
print "[]\n"
label __label240
jump __label245 equal UNIT_P1 null
ubind UNIT_P1
sensor __tmp367 @unit @dead
op strictEqual __tmp368 __tmp367 0
sensor __tmp369 @unit @controller
op equal __tmp370 __tmp369 @this
op land __tmp371 __tmp368 __tmp370
jump __label244 notEqual __tmp371 false
label __label245
ubind __tmp3
set __fn22_firstUnit @unit
jump __label249 equal __fn22_firstUnit null
label __label251
sensor __tmp376 @unit @controlled
jump __label244 equal __tmp376 0
ubind __tmp3
op notEqual __tmp379 @unit __fn22_firstUnit
sensor __tmp380 __fn22_firstUnit @dead
op equal __tmp381 __tmp380 0
op land __tmp382 __tmp379 __tmp381
jump __label251 notEqual __tmp382 false
label __label249
end
label __label244
set __fn21_msg ""
sensor __fn21_state @unit @flag
set __fn21_distance -1
op lessThan __tmp384 __fn21_state 2
op greaterThan __tmp385 __fn21_state 3
op or __tmp386 __tmp384 __tmp385
jump __label256 equal __tmp386 false
sensor __tmp388 @unit @firstItem
jump __label258 notEqual __tmp388 @phase-fabric
set __fn21_state 3
jump __label259 always 0 0
label __label258
sensor __tmp391 @unit @totalItems
jump __label260 notEqual __tmp391 0
set __fn21_state 2
jump __label261 always 0 0
label __label260
set __fn21_msg ", initializing\n"
ucontrol approach CORE_X CORE_Y 6 0 0
ucontrol within CORE_X CORE_Y 8 __tmp394 0
jump __label262 equal __tmp394 false
ucontrol itemDrop CORE UNIT_CAPACITY 0 0 0
label __label262
label __label261
label __label259
label __label256
jump __label264 notEqual __fn21_state 2
ucontrol within CORE_X CORE_Y 8 __tmp398 0
jump __label266 equal __tmp398 false
ucontrol itemTake CORE @phase-fabric UNIT_CAPACITY 0 0
sensor __tmp400 @unit @totalItems
jump __label268 lessThan __tmp400 UNIT_CAPACITY
ucontrol approach DOME_X DOME_Y 6 0 0
set __fn21_state 3
jump __label267 always 0 0
label __label268
set __fn21_msg ", loading\n"
jump __label267 always 0 0
label __label266
ucontrol approach CORE_X CORE_Y 6 0 0
set __fn21_msg ", fetching in [gold]"
sensor __tmp403 @unit @x
op sub __tmp404 CORE_X __tmp403
sensor __tmp405 @unit @y
op sub __tmp406 CORE_Y __tmp405
op len __tmp407 __tmp404 __tmp406
op idiv __tmp408 __tmp407 SPEED_TENTHS
op div __fn21_distance __tmp408 10
label __label267
label __label264
jump __label270 notEqual __fn21_state 3
ucontrol within DOME_X DOME_Y 8 __tmp412 0
jump __label272 equal __tmp412 false
jump __label274 equal SUPPLY_P_FIRST false
ucontrol itemDrop DOME UNIT_CAPACITY 0 0 0
set __fn21_msg ", supplying\n"
jump __label275 always 0 0
label __label274
ucontrol approach DOME_X DOME_Y 6 0 0
set __fn21_msg ", waiting\n"
label __label275
sensor __tmp415 @unit @totalItems
jump __label273 greaterThan __tmp415 0
ucontrol approach CORE_X CORE_Y 6 0 0
set __fn21_state 2
jump __label273 always 0 0
label __label272
ucontrol approach DOME_X DOME_Y 6 0 0
set __fn21_msg ", returning in [gold]"
sensor __tmp418 @unit @x
op sub __tmp419 DOME_X __tmp418
sensor __tmp420 @unit @y
op sub __tmp421 DOME_Y __tmp420
op len __tmp422 __tmp419 __tmp421
op idiv __tmp423 __tmp422 SPEED_TENTHS
op div __fn21_distance __tmp423 10
label __label273
label __label270
ucontrol flag __fn21_state 0 0 0 0
sensor __tmp425 @unit @totalItems
print "  "
print GROUP1
print ": [gold]"
print __tmp425
print "[]"
jump __label278 lessThan __fn21_distance 0
print __fn21_msg
print __fn21_distance
print "[] sec\n"
jump __label279 always 0 0
label __label278
print __fn21_msg
label __label279
set __tmp363 @unit
set UNIT_P1 __tmp363
jump __label280 equal __tmp144 false
op equal __tmp429 SUPPLY_P_FIRST false
jump __label286 equal UNIT_P2 null
ubind UNIT_P2
sensor __tmp434 @unit @dead
op strictEqual __tmp435 __tmp434 0
sensor __tmp436 @unit @controller
op equal __tmp437 __tmp436 @this
op land __tmp438 __tmp435 __tmp437
jump __label285 notEqual __tmp438 false
label __label286
ubind __tmp3
set __fn24_firstUnit @unit
jump __label290 equal __fn24_firstUnit null
label __label292
sensor __tmp443 @unit @controlled
jump __label285 equal __tmp443 0
ubind __tmp3
op notEqual __tmp446 @unit __fn24_firstUnit
sensor __tmp447 __fn24_firstUnit @dead
op equal __tmp448 __tmp447 0
op land __tmp449 __tmp446 __tmp448
jump __label292 notEqual __tmp449 false
label __label290
end
label __label285
set __fn23_msg ""
sensor __fn23_state @unit @flag
set __fn23_distance -1
op lessThan __tmp451 __fn23_state 2
op greaterThan __tmp452 __fn23_state 3
op or __tmp453 __tmp451 __tmp452
jump __label297 equal __tmp453 false
sensor __tmp455 @unit @firstItem
jump __label299 notEqual __tmp455 @phase-fabric
set __fn23_state 3
jump __label300 always 0 0
label __label299
sensor __tmp458 @unit @totalItems
jump __label301 notEqual __tmp458 0
set __fn23_state 2
jump __label302 always 0 0
label __label301
set __fn23_msg ", initializing\n"
ucontrol approach CORE_X CORE_Y 6 0 0
ucontrol within CORE_X CORE_Y 8 __tmp461 0
jump __label303 equal __tmp461 false
ucontrol itemDrop CORE UNIT_CAPACITY 0 0 0
label __label303
label __label302
label __label300
label __label297
jump __label305 notEqual __fn23_state 2
ucontrol within CORE_X CORE_Y 8 __tmp465 0
jump __label307 equal __tmp465 false
ucontrol itemTake CORE @phase-fabric UNIT_CAPACITY 0 0
sensor __tmp467 @unit @totalItems
jump __label309 lessThan __tmp467 UNIT_CAPACITY
ucontrol approach DOME_X DOME_Y 6 0 0
set __fn23_state 3
jump __label308 always 0 0
label __label309
set __fn23_msg ", loading\n"
jump __label308 always 0 0
label __label307
ucontrol approach CORE_X CORE_Y 6 0 0
set __fn23_msg ", fetching in [gold]"
sensor __tmp470 @unit @x
op sub __tmp471 CORE_X __tmp470
sensor __tmp472 @unit @y
op sub __tmp473 CORE_Y __tmp472
op len __tmp474 __tmp471 __tmp473
op idiv __tmp475 __tmp474 SPEED_TENTHS
op div __fn23_distance __tmp475 10
label __label308
label __label305
jump __label311 notEqual __fn23_state 3
ucontrol within DOME_X DOME_Y 8 __tmp479 0
jump __label313 equal __tmp479 false
jump __label315 equal __tmp429 false
ucontrol itemDrop DOME UNIT_CAPACITY 0 0 0
set __fn23_msg ", supplying\n"
jump __label316 always 0 0
label __label315
ucontrol approach DOME_X DOME_Y 6 0 0
set __fn23_msg ", waiting\n"
label __label316
sensor __tmp482 @unit @totalItems
jump __label314 greaterThan __tmp482 0
ucontrol approach CORE_X CORE_Y 6 0 0
set __fn23_state 2
jump __label314 always 0 0
label __label313
ucontrol approach DOME_X DOME_Y 6 0 0
set __fn23_msg ", returning in [gold]"
sensor __tmp485 @unit @x
op sub __tmp486 DOME_X __tmp485
sensor __tmp487 @unit @y
op sub __tmp488 DOME_Y __tmp487
op len __tmp489 __tmp486 __tmp488
op idiv __tmp490 __tmp489 SPEED_TENTHS
op div __fn23_distance __tmp490 10
label __label314
label __label311
ucontrol flag __fn23_state 0 0 0 0
sensor __tmp492 @unit @totalItems
print "  "
print GROUP2
print ": [gold]"
print __tmp492
print "[]"
jump __label319 lessThan __fn23_distance 0
print __fn23_msg
print __fn23_distance
print "[] sec\n"
jump __label320 always 0 0
label __label319
print __fn23_msg
label __label320
set __tmp430 @unit
set UNIT_P2 __tmp430
jump __label321 equal SUPPLY_P_FIRST false
sensor __tmp496 __tmp363 @totalItems
op greaterThan SUPPLY_P_FIRST __tmp496 0
jump __label322 always 0 0
label __label321
sensor __tmp498 __tmp430 @totalItems
op equal SUPPLY_P_FIRST __tmp498 0
label __label322
label __label280
op sub __tmp500 @time start
op floor __tmp501 __tmp500 0
print "\n[lightgray]Loop time: "
print __tmp501
print " ms"
printflush message1
op notEqual __tmp502 __tmp3 UNIT_TYPE
op greaterThan __tmp503 unitCheck @time
op land __tmp504 __tmp502 __tmp503
jump __label323 equal __tmp504 false
set __fn25_occupied 0
set __fn25_free 0
ubind UNIT_TYPE
set __fn25_firstUnit @unit
jump __label340 equal __fn25_firstUnit null
set __tmp518 2
set __fn26_unit @unit
sensor __tmp515 __fn26_unit @speed
op div __fn26_travel_time __tmp148 __tmp515
op greaterThanEq __tmp510 __fn26_travel_time 47
jump __label332 equal __tmp510 false
set __tmp518 4
label __label332
label __label333
sensor __tmp519 @unit @controlled
op equal __tmp520 __tmp519 0
sensor __tmp521 @unit @controller
op equal __tmp522 __tmp521 @this
op or __tmp523 __tmp520 __tmp522
jump __label336 equal __tmp523 false
op add __fn25_free __fn25_free 1
jump __label337 lessThan __fn25_free __tmp518
set __tmp506 true
jump __label326 always 0 0
label __label336
op add __fn25_occupied __fn25_occupied 1
label __label337
ubind UNIT_TYPE
op notEqual __tmp529 @unit __fn25_firstUnit
sensor __tmp530 __fn25_firstUnit @dead
op equal __tmp531 __tmp530 0
op land __tmp532 __tmp529 __tmp531
jump __label333 notEqual __tmp532 false
label __label340
set __tmp506 false
label __label326
jump __label344 equal __tmp506 false
end
label __label344
op add unitCheck @time 5000
label __label323
sensor __tmp216 switch1 @enabled
jump __label348 notEqual __tmp216 false
label __label150
