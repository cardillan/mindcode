   661 instructions before optimizations.
    65 instructions eliminated by Temp Variables Elimination.
    60 instructions eliminated by Dead Code Elimination (10 iterations).
     1 instructions eliminated by Jump Normalization (5 iterations).
    18 instructions eliminated by Jump Optimization (2 passes, 5 iterations).
    17 instructions eliminated by Single Step Elimination (2 passes, 7 iterations).
     3 instructions eliminated by Expression Optimization (4 iterations).
     3 instructions eliminated by If Expression Optimization (4 iterations).
    83 instructions eliminated by Data Flow Optimization (9 passes, 30 iterations).
     1 loops improved by Loop Hoisting.
   550 instructions added by Function Inlining (11 iterations).
    17 function calls inlined by Function Inlining.
    33 instructions updated by JumpThreading.
     4 instructions eliminated by Unreachable Code Elimination.
   132 instructions eliminated by Print Merging.
   825 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 520):
  * Inline function 'kilo' defined at line 117:1                 cost     3, benefit      218.8, efficiency       72.9 (-8 instructions)
    Inline function 'update_fuel' defined at line 121:1          cost    13, benefit      337.5, efficiency       26.0
    Inline function 'calc_charge_req' defined at line 126:1      cost    64, benefit      503.9, efficiency        7.9
  ! Inline function 'start_reactor' defined at line 140:1        cost   591, benefit      687.5, efficiency        1.2
    Inline function 'check_radar' defined at line 259:1          cost    21, benefit      175.0, efficiency        8.3
    Inline function call at line 69:22                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 73:23                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 74:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 75:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 76:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 77:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 80:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 82:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 84:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 86:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 88:23                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 89:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 96:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 102:15                          cost     2, benefit       87.5, efficiency       43.8
    Inline function call at line 103:14                          cost     2, benefit       87.5, efficiency       43.8
    Inline function call at line 105:15                          cost     2, benefit       43.8, efficiency       21.9
    Inline function call at line 173:26                          cost    13, benefit        3.9, efficiency        0.3

Pass 1: speed optimization selection (cost limit 528):
  * Inline function 'update_fuel' defined at line 121:1          cost    13, benefit      337.5, efficiency       26.0 (-1 instructions)
    Inline function 'calc_charge_req' defined at line 126:1      cost    64, benefit      503.9, efficiency        7.9
  ! Inline function 'start_reactor' defined at line 140:1        cost   591, benefit      687.5, efficiency        1.2
    Inline function 'check_radar' defined at line 259:1          cost    21, benefit      175.0, efficiency        8.3
    Inline function call at line 69:22                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 73:23                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 74:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 75:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 76:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 77:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 80:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 82:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 84:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 86:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 88:23                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 89:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 96:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 173:26                          cost    13, benefit        3.9, efficiency        0.3

Pass 1: speed optimization selection (cost limit 529):
    Inline function 'calc_charge_req' defined at line 126:1      cost    64, benefit      503.9, efficiency        7.9
  ! Inline function 'start_reactor' defined at line 140:1        cost   591, benefit      687.5, efficiency        1.2
  * Inline function 'check_radar' defined at line 259:1          cost    21, benefit      175.0, efficiency        8.3 (+6 instructions)
    Inline function call at line 69:22                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 73:23                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 74:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 75:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 76:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 77:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 80:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 84:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 88:23                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 89:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 173:26                          cost    13, benefit        3.9, efficiency        0.3

Pass 1: speed optimization selection (cost limit 523):
  * Inline function 'calc_charge_req' defined at line 126:1      cost    64, benefit      503.9, efficiency        7.9 (+44 instructions)
  ! Inline function 'start_reactor' defined at line 140:1        cost   591, benefit      687.5, efficiency        1.2
    Inline function call at line 73:23                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 74:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 75:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 76:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 77:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 80:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 84:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 89:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 173:26                          cost    13, benefit        3.9, efficiency        0.3

Pass 1: speed optimization selection (cost limit 479):
  ! Inline function 'start_reactor' defined at line 140:1        cost   631, benefit      687.5, efficiency        1.1
  * Inline function call at line 80:14                           cost   158, benefit      137.5, efficiency        0.9 (+151 instructions)
    Inline function call at line 84:14                           cost   158, benefit      137.5, efficiency        0.9
    Inline function call at line 89:14                           cost   158, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   158, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   158, benefit      137.5, efficiency        0.9

Pass 1: speed optimization selection (cost limit 328):
  ! Inline function 'start_reactor' defined at line 140:1        cost   473, benefit      550.0, efficiency        1.2
  * Inline function call at line 84:14                           cost   158, benefit      137.5, efficiency        0.9 (+152 instructions)
    Inline function call at line 89:14                           cost   158, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   158, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   158, benefit      137.5, efficiency        0.9

Pass 1: speed optimization selection (cost limit 176):
  ! Inline function 'start_reactor' defined at line 140:1        cost   315, benefit      412.5, efficiency        1.3
  * Inline function call at line 89:14                           cost   158, benefit      137.5, efficiency        0.9 (+152 instructions)
    Inline function call at line 91:14                           cost   158, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   158, benefit      137.5, efficiency        0.9

Pass 1: speed optimization selection (cost limit 24):
  ! Inline function 'start_reactor' defined at line 140:1        cost   157, benefit      275.0, efficiency        1.8
  ! Inline function call at line 91:14                           cost   158, benefit      137.5, efficiency        0.9
  ! Inline function call at line 93:14                           cost   158, benefit      137.5, efficiency        0.9

Pass 2: speed optimization selection (cost limit 38):
  ! Inline function 'start_reactor' defined at line 140:1        cost   154, benefit      275.0, efficiency        1.8
  ! Inline function call at line 91:14                           cost   155, benefit      137.5, efficiency        0.9
  ! Inline function call at line 93:14                           cost   155, benefit      137.5, efficiency        0.9

Pass 3: speed optimization selection (cost limit 39):
  ! Inline function 'start_reactor' defined at line 140:1        cost   154, benefit      275.0, efficiency        1.8
  ! Inline function call at line 91:14                           cost   155, benefit      137.5, efficiency        0.9
  ! Inline function call at line 93:14                           cost   155, benefit      137.5, efficiency        0.9

Pass 4: speed optimization selection (cost limit 39):
  ! Inline function 'start_reactor' defined at line 140:1        cost   154, benefit      275.0, efficiency        1.8
  ! Inline function call at line 91:14                           cost   155, benefit      137.5, efficiency        0.9
  ! Inline function call at line 93:14                           cost   155, benefit      137.5, efficiency        0.9

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-20 instructions):
 
    69 print "\n"
    70 set *tmp8 true
    71 jump *label10 always
-    * set *tmp13 null
    72 jump *label12 always
    73 label *label11
-    * set *tmp13 null
    74 label *label12
    75 set *tmp8 false
    76 jump *label10 always
 
   115 set :update_fuel.0:uld_in .ULD_IN_1
   116 set :update_fuel.0:uld_out .ULD_OUT_1
   117 call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
-    * set *tmp20 :update_fuel.0*retval
   118 set :start_reactor.0:reactor reactor2
   119 set :start_reactor.0:reactor_num 2
   120 set :start_reactor.0:emerg_shutdown :emerg_shutdown
 
   128 set :update_fuel.0:uld_in .ULD_IN_2
   129 set :update_fuel.0:uld_out .ULD_OUT_2
   130 call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
-    * set *tmp22 :update_fuel.0*retval
   131 set :check_radar.0:unit .TOWER
   132 call *label4 :check_radar.0*retaddr :check_radar.0*retval
   133 set *tmp23 :check_radar.0*retval
 
   166 set :update_fuel.0:uld_in .ULD_IN_MANY
   167 set :update_fuel.0:uld_out .ULD_OUT_MANY
   168 call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
-    * set *tmp29 :update_fuel.0*retval
   169 op or *tmp30 :fuel_1 :fuel_2
   170 op or *tmp31 *tmp30 :fuel_many
   171 set :throttle_blast.0:reactors_fueled *tmp31
 
   203 print "\n"
   204 set *tmp45 null
   205 label *label17
-    * set *tmp44 *tmp45
   206 jump *label15 always
   207 label *label14
   208 op equal *tmp46 :throttle_blast.0:reactors_fueled false
 
   229 print "n"
   230 set *tmp47 null
   231 label *label19
-    * set *tmp44 *tmp47
   232 label *label15
   233 op lessThan *tmp48 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   234 set *tmp32 *tmp48
 
   263 control enabled generator2 true
   264 set *tmp59 true
   265 label *label24
-    * set *tmp52 *tmp59
   266 label *label22
   267 set :kilo.0:val .AVG_SURPLUS
   268 call *label0 :kilo.0*retaddr :kilo.0*retval
 
   287 print :surplus
   288 print "kW flow."
   289 print "\n"
-    * set *tmp68 null
   290 jump *label26 always
   291 label *label25
   292 print "Power "
 
   313 label *label30
   314 set *tmp80 null
   315 label *label31
-    * set *tmp78 *tmp80
   316 jump *label29 always
   317 label *label28
-    * set *tmp78 null
   318 label *label29
   319 op lessThan *tmp81 :update_reactors_desired.0:stored 0.8
   320 op mul *tmp82 .GOAL_BUFFER 0.8
 
   335 label *label33
   336 set *tmp70 *tmp85
   337 label *label27
-    * set *tmp68 *tmp70
   338 label *label26
   339 op notEqual *tmp91 .REACTORS_DESIRED 5
   340 jump *label34 equal *tmp91 false
 
   342 print .REACTORS_DESIRED
   343 print "/5 reactors."
   344 print "\n"
-    * set *tmp92 null
   345 jump *label35 always
   346 label *label34
-    * set *tmp92 null
   347 label *label35
   348 printflush message1
   349 label *label8
 
   392 jump *label43 equal *tmp107 false
   393 set :calc_charge_req.0*retval 0
   394 jump *label42 always
-    * set *tmp108 null
   395 jump *label44 always
   396 label *label43
-    * set *tmp108 null
   397 label *label44
   398 op sub *tmp109 30 :calc_charge_req.0:secs
   399 set :calc_charge_req.0:time_left *tmp109
 
   443 print "emergency mode"
   444 print "\n"
   445 set :start_reactor.0:supply_fuel false
-    * set *tmp128 :start_reactor.0:supply_fuel
   446 jump *label47 always
   447 label *label46
   448 jump *label48 equal :start_reactor.0:enabled false
 
   644 label *label65
   645 set *tmp131 *tmp178
   646 label *label49
-    * set *tmp128 *tmp131
   647 label *label47
   648 sensor *tmp201 :start_reactor.0:reactor @enabled
   649 op notEqual *tmp202 :start_reactor.0:enabled *tmp201
   650 jump *label76 equal *tmp202 false
   651 set *tmp204 @tick
   652 set .RET_T_STARTUP *tmp204
-    * set *tmp203 .RET_T_STARTUP
   653 jump *label77 always
   654 label *label76
-    * set *tmp203 null
   655 label *label77
   656 set :start_reactor.0*retval :start_reactor.0:supply_fuel
   657 jump *label45 always

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-12 instructions):
 
   196 jump *label16 equal :throttle_blast.0:emerg_shutdown false
   197 print " Enemies detected."
   198 print "\n"
-    * set *tmp45 null
   199 jump *label17 always
   200 label *label16
   201 print " Critical power."
   202 print "\n"
-    * set *tmp45 null
   203 label *label17
   204 jump *label15 always
   205 label *label14
 
   214 print " "
   215 print "(due to emergency)"
   216 print "\n"
-    * set *tmp47 null
   217 jump *label19 always
   218 label *label18
   219 set :throttle_blast.0:limit .FUEL_LIMIT
 
   224 print :throttle_blast.0:limit
   225 print "\"
   226 print "n"
-    * set *tmp47 null
   227 label *label19
   228 label *label15
   229 op lessThan *tmp48 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
 
   252 print "\n"
   253 control enabled generator1 false
   254 control enabled generator2 false
-    * set *tmp59 false
   255 jump *label24 always
   256 label *label23
   257 control enabled generator1 true
   258 control enabled generator2 true
-    * set *tmp59 true
   259 label *label24
   260 label *label22
   261 set :kilo.0:val .AVG_SURPLUS
 
   302 jump *label30 equal *tmp79 false
   303 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   304 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
-    * set *tmp80 .AVG_SURPLUS
   305 jump *label31 always
   306 label *label30
-    * set *tmp80 null
   307 label *label31
   308 jump *label29 always
   309 label *label28
 
   325 label *label32
   326 set *tmp85 null
   327 label *label33
-    * set *tmp70 *tmp85
   328 label *label27
   329 label *label26
   330 op notEqual *tmp91 .REACTORS_DESIRED 5
 
   368 set *tmp101 .FUEL_OFF
   369 label *label41
   370 control config *tmp98 *tmp101
-    * set :update_fuel.0*retval *tmp101
   371 label *label37
   372 return :update_fuel.0*retaddr
   373 end
 
   541 label *label53
   542 set *tmp133 *tmp140
   543 label *label51
-    * set *tmp131 *tmp133
   544 jump *label49 always
   545 label *label48
   546 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
 
   631 label *label67
   632 set *tmp178 *tmp181
   633 label *label65
-    * set *tmp131 *tmp178
   634 label *label49
   635 label *label47
   636 sensor *tmp201 :start_reactor.0:reactor @enabled

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-6 instructions):
 
   320 op add *tmp89 :update_reactors_desired.0:needed .REACTORS_DESIRED
   321 op min *tmp90 5 *tmp89
   322 set .REACTORS_DESIRED *tmp90
-    * set *tmp85 .REACTORS_DESIRED
   323 jump *label33 always
   324 label *label32
-    * set *tmp85 null
   325 label *label33
   326 label *label27
   327 label *label26
 
   440 control enabled *tmp134 false
   441 print "STOP unwanted"
   442 print "\n"
-    * set *tmp133 null
   443 jump *label51 always
   444 label *label50
   445 op greaterThan *tmp136 :start_reactor.0:reactor_num 1
 
   536 label *label55
   537 set *tmp140 *tmp144
   538 label *label53
-    * set *tmp133 *tmp140
   539 label *label51
   540 jump *label49 always
   541 label *label48
 
   555 print "IDLE"
   556 print "\n"
   557 set :start_reactor.0:supply_fuel false
-    * set *tmp178 :start_reactor.0:supply_fuel
   558 jump *label65 always
   559 label *label64
   560 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
 
   624 label *label69
   625 set *tmp181 *tmp190
   626 label *label67
-    * set *tmp178 *tmp181
   627 label *label65
   628 label *label49
   629 label *label47

Modifications by Initial phase, Dead Code Elimination, iteration 4 (-4 instructions):
 
   451 control enabled *tmp141 false
   452 print "STOP system fuel low"
   453 print "\n"
-    * set *tmp140 null
   454 jump *label53 always
   455 label *label52
   456 op lessThanEq *tmp143 :start_reactor.0:fuel 1
 
   533 label *label57
   534 set *tmp144 *tmp148
   535 label *label55
-    * set *tmp140 *tmp144
   536 label *label53
   537 label *label51
   538 jump *label49 always
 
   573 print "W)"
   574 print "\n"
   575 set :start_reactor.0:supply_fuel false
-    * set *tmp181 :start_reactor.0:supply_fuel
   576 jump *label67 always
   577 label *label66
   578 op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
 
   619 label *label73
   620 set *tmp190 *tmp196
   621 label *label69
-    * set *tmp181 *tmp190
   622 label *label67
   623 label *label65
   624 label *label49

Modifications by Initial phase, Dead Code Elimination, iteration 5 (-4 instructions):
 
   459 control enabled *tmp145 false
   460 print "STOP fuel low"
   461 print "\n"
-    * set *tmp144 null
   462 jump *label55 always
   463 label *label54
   464 op lessThanEq *tmp147 :start_reactor.0:cryo .CRYO_ABORT
 
   530 label *label59
   531 set *tmp148 *tmp152
   532 label *label57
-    * set *tmp144 *tmp148
   533 label *label55
   534 label *label53
   535 label *label51
 
   588 print "\n"
   589 set *tmp193 null
   590 label *label71
-    * set *tmp190 *tmp193
   591 jump *label69 always
   592 label *label68
   593 op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
 
   614 label *label75
   615 set *tmp196 *tmp198
   616 label *label73
-    * set *tmp190 *tmp196
   617 label *label69
   618 label *label67
   619 label *label65

Modifications by Initial phase, Dead Code Elimination, iteration 6 (-6 instructions):
 
   467 control enabled *tmp149 false
   468 print "STOP out of cryo"
   469 print "\n"
-    * set *tmp148 null
   470 jump *label57 always
   471 label *label56
   472 op lessThan *tmp151 :start_reactor.0:secs 30
 
   527 label *label63
   528 set *tmp152 *tmp164
   529 label *label59
-    * set *tmp148 *tmp152
   530 label *label57
   531 label *label55
   532 label *label53
 
   579 jump *label70 equal *tmp192 false
   580 print "WAIT fuel"
   581 print "\n"
-    * set *tmp193 null
   582 jump *label71 always
   583 label *label70
   584 print "WAIT system fuel"
   585 print "\n"
-    * set *tmp193 null
   586 label *label71
   587 jump *label69 always
   588 label *label68
 
   591 jump *label72 equal *tmp195 false
   592 print "WAIT buffer fuel"
   593 print "\n"
-    * set *tmp196 null
   594 jump *label73 always
   595 label *label72
   596 op lessThan *tmp197 :start_reactor.0:cryo :start_reactor.0:cryo_req
 
   607 control enabled *tmp199 true
   608 set *tmp198 true
   609 label *label75
-    * set *tmp196 *tmp198
   610 label *label73
   611 label *label69
   612 label *label67

Modifications by Initial phase, Dead Code Elimination, iteration 7 (-4 instructions):
 
   499 print "\n"
   500 set *tmp157 null
   501 label *label61
-    * set *tmp152 *tmp157
   502 jump *label59 always
   503 label *label58
   504 op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
 
   524 print "\n"
   525 set *tmp164 null
   526 label *label63
-    * set *tmp152 *tmp164
   527 label *label59
   528 label *label57
   529 label *label55
 
   595 jump *label74 equal *tmp197 false
   596 print "WAIT cryo"
   597 print "\n"
-    * set *tmp198 null
   598 jump *label75 always
   599 label *label74
   600 print "STARTUP"
 
   602 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
   603 set *tmp199 :start_reactor.0:reactor
   604 control enabled *tmp199 true
-    * set *tmp198 true
   605 label *label75
   606 label *label73
   607 label *label69

Modifications by Initial phase, Dead Code Elimination, iteration 8 (-4 instructions):
 
   485 print "START FAIL battery"
   486 print "\n"
   487 set :start_reactor.0:supply_fuel false
-    * set *tmp157 :start_reactor.0:supply_fuel
   488 jump *label61 always
   489 label *label60
   490 op sub *tmp160 30 :start_reactor.0:secs
 
   496 print :start_reactor.0:charge_req
   497 print "J"
   498 print "\n"
-    * set *tmp157 null
   499 label *label61
   500 jump *label59 always
   501 label *label58
 
   508 print "ABANDON - battery crit"
   509 print "\n"
   510 set :start_reactor.0:supply_fuel false
-    * set *tmp164 :start_reactor.0:supply_fuel
   511 jump *label63 always
   512 label *label62
   513 op idiv *tmp167 :start_reactor.0:secs 6
 
   519 print " "
   520 print "mins"
   521 print "\n"
-    * set *tmp164 null
   522 label *label63
   523 label *label59
   524 label *label57

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-65 instructions):
 
    25 sensor *tmp0 node1 @powerNetIn
    26 sensor *tmp1 node1 @powerNetOut
    27 op sub *tmp2 *tmp0 *tmp1
-    * op floor *tmp3 *tmp2
-    * set :surplus *tmp3
+   28 op floor :surplus *tmp2
    29 op greaterThan *tmp4 :surplus 10000
    30 jump *label5 equal *tmp4 false
-    * op sub *tmp6 @tick 3600
-    * set *tmp5 *tmp6
+   31 op sub *tmp5 @tick 3600
    32 jump *label6 always
    33 label *label5
    34 set *tmp5 @tick
 
    56 set .NODE node1
    57 set :check_radar.0:unit .TOWER
    58 call *label4 :check_radar.0*retaddr :check_radar.0*retval
-    * set *tmp7 :check_radar.0*retval
-    * set :emerg_shutdown *tmp7
+   59 set :emerg_shutdown :check_radar.0*retval
    60 op notEqual *tmp9 switch1 null
    61 sensor *tmp10 switch1 @enabled
    62 op equal *tmp11 *tmp10 false
 
    77 set :calc_charge_req.0:reactor reactor1
    78 set :calc_charge_req.0:time :t_startup1
    79 call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
-    * set *tmp14 :calc_charge_req.0*retval
-    * set .START_POWER_REQ *tmp14
+   80 set .START_POWER_REQ :calc_charge_req.0*retval
    81 set :calc_charge_req.0:reactor reactor2
    82 set :calc_charge_req.0:time :t_startup2
    83 call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
-    * set *tmp15 :calc_charge_req.0*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp15
+   84 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
    85 set :calc_charge_req.0:reactor reactor3
    86 set :calc_charge_req.0:time :t_startup3
    87 call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
-    * set *tmp16 :calc_charge_req.0*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp16
+   88 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
    89 set :calc_charge_req.0:reactor reactor4
    90 set :calc_charge_req.0:time :t_startup4
    91 call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
-    * set *tmp17 :calc_charge_req.0*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp17
+   92 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
    93 set :calc_charge_req.0:reactor reactor5
    94 set :calc_charge_req.0:time :t_startup5
    95 call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
-    * set *tmp18 :calc_charge_req.0*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp18
+   96 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
    97 set :start_reactor.0:reactor reactor1
    98 set :start_reactor.0:reactor_num 1
    99 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   100 set :start_reactor.0:fuel_on :fuel_1
   101 set :start_reactor.0:t_startup :t_startup1
   102 call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
-    * set *tmp19 :start_reactor.0*retval
-    * set :fuel_1 *tmp19
+  103 set :fuel_1 :start_reactor.0*retval
   104 set :t_startup1 .RET_T_STARTUP
   105 set :update_fuel.0:fuel :fuel_1
   106 set :update_fuel.0:uld_in .ULD_IN_1
 
   112 set :start_reactor.0:fuel_on :fuel_2
   113 set :start_reactor.0:t_startup :t_startup2
   114 call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
-    * set *tmp21 :start_reactor.0*retval
-    * set :fuel_2 *tmp21
+  115 set :fuel_2 :start_reactor.0*retval
   116 set :t_startup2 .RET_T_STARTUP
   117 set :update_fuel.0:fuel :fuel_2
   118 set :update_fuel.0:uld_in .ULD_IN_2
 
   120 call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
   121 set :check_radar.0:unit .TOWER
   122 call *label4 :check_radar.0*retaddr :check_radar.0*retval
-    * set *tmp23 :check_radar.0*retval
-    * op or :emerg_shutdown :emerg_shutdown *tmp23
+  123 op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
   124 set :start_reactor.0:reactor reactor3
   125 set :start_reactor.0:reactor_num 3
   126 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   127 set :start_reactor.0:fuel_on :fuel_3
   128 set :start_reactor.0:t_startup :t_startup3
   129 call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
-    * set *tmp24 :start_reactor.0*retval
-    * set :fuel_3 *tmp24
+  130 set :fuel_3 :start_reactor.0*retval
   131 set :t_startup3 .RET_T_STARTUP
   132 set :start_reactor.0:reactor reactor4
   133 set :start_reactor.0:reactor_num 4
 
   135 set :start_reactor.0:fuel_on :fuel_4
   136 set :start_reactor.0:t_startup :t_startup4
   137 call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
-    * set *tmp25 :start_reactor.0*retval
-    * set :fuel_4 *tmp25
+  138 set :fuel_4 :start_reactor.0*retval
   139 set :t_startup4 .RET_T_STARTUP
   140 set :start_reactor.0:reactor reactor5
   141 set :start_reactor.0:reactor_num 5
 
   143 set :start_reactor.0:fuel_on :fuel_5
   144 set :start_reactor.0:t_startup :t_startup5
   145 call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
-    * set *tmp26 :start_reactor.0*retval
-    * set :fuel_5 *tmp26
+  146 set :fuel_5 :start_reactor.0*retval
   147 set :t_startup5 .RET_T_STARTUP
   148 op or *tmp27 :fuel_3 :fuel_4
-    * op or *tmp28 *tmp27 :fuel_5
-    * set :fuel_many *tmp28
+  149 op or :fuel_many *tmp27 :fuel_5
   150 set :update_fuel.0:fuel :fuel_many
   151 set :update_fuel.0:uld_in .ULD_IN_MANY
   152 set :update_fuel.0:uld_out .ULD_OUT_MANY
   153 call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
   154 op or *tmp30 :fuel_1 :fuel_2
-    * op or *tmp31 *tmp30 :fuel_many
-    * set :throttle_blast.0:reactors_fueled *tmp31
+  155 op or :throttle_blast.0:reactors_fueled *tmp30 :fuel_many
   156 set :throttle_blast.0:emerg_shutdown :emerg_shutdown
   157 sensor *tmp33 .NODE @powerNetStored
-    * op floor *tmp34 *tmp33
-    * set :throttle_blast.0:charge *tmp34
+  158 op floor :throttle_blast.0:charge *tmp33
   159 sensor *tmp35 .NODE @powerNetIn
   160 sensor *tmp36 .NODE @powerNetOut
   161 op sub *tmp37 *tmp35 *tmp36
-    * op floor *tmp38 *tmp37
-    * set :throttle_blast.0:surplus *tmp38
-    * sensor *tmp39 .CONTAINER @blast-compound
-    * set :throttle_blast.0:fuel_stored *tmp39
+  162 op floor :throttle_blast.0:surplus *tmp37
+  163 sensor :throttle_blast.0:fuel_stored .CONTAINER @blast-compound
   164 op lessThan *tmp40 :throttle_blast.0:charge .PWR_ABORT
   165 op lessThan *tmp41 :throttle_blast.0:surplus .FLOW_ABORT
   166 op land *tmp42 *tmp40 *tmp41
 
   207 print "n"
   208 label *label19
   209 label *label15
-    * op lessThan *tmp48 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
-    * set *tmp32 *tmp48
+  210 op lessThan *tmp32 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   211 jump *label13 always
   212 set *tmp32 null
   213 label *label13
 
   222 control config *tmp49 *tmp51
   223 sensor *tmp53 .NODE @powerNetStored
   224 sensor *tmp54 .NODE @powerNetCapacity
-    * op div *tmp55 *tmp53 *tmp54
-    * set :diff_generators.0:stored_pc *tmp55
+  225 op div :diff_generators.0:stored_pc *tmp53 *tmp54
   226 op greaterThan *tmp56 :diff_generators.0:stored_pc 0.9
   227 op lessThan *tmp57 .START_POWER_REQ 10
   228 op land *tmp58 *tmp56 *tmp57
 
   239 label *label22
   240 set :kilo.0:val .AVG_SURPLUS
   241 call *label0 :kilo.0*retaddr :kilo.0*retval
-    * set *tmp64 :kilo.0*retval
-    * set :surplus *tmp64
-    * sensor *tmp65 .NODE @powerNetStored
-    * set :kilo.0:val *tmp65
+  242 set :surplus :kilo.0*retval
+  243 sensor :kilo.0:val .NODE @powerNetStored
   244 call *label0 :kilo.0*retaddr :kilo.0*retval
-    * set *tmp66 :kilo.0*retval
-    * set :charge *tmp66
+  245 set :charge :kilo.0*retval
   246 op greaterThan *tmp67 .START_POWER_REQ 0
   247 jump *label25 equal *tmp67 false
   248 set :kilo.0:val .START_POWER_REQ
   249 call *label0 :kilo.0*retaddr :kilo.0*retval
-    * set *tmp69 :kilo.0*retval
-    * set :req *tmp69
+  250 set :req :kilo.0*retval
   251 print "Req "
   252 print :req
   253 print "kJ / "
 
   266 print "\n"
   267 sensor *tmp71 .NODE @powerNetStored
   268 sensor *tmp72 .NODE @powerNetCapacity
-    * op div *tmp73 *tmp71 *tmp72
-    * set :update_reactors_desired.0:stored *tmp73
+  269 op div :update_reactors_desired.0:stored *tmp71 *tmp72
   270 op greaterThan *tmp74 :update_reactors_desired.0:stored 0.98
   271 op add *tmp75 .GENERATOR_OUTPUT .GOAL_BUFFER
   272 op greaterThan *tmp76 .AVG_SURPLUS *tmp75
 
   289 jump *label32 equal *tmp84 false
   290 op sub *tmp86 .AVG_SURPLUS .GOAL_BUFFER
   291 op idiv *tmp87 *tmp86 .GENERATOR_OUTPUT
-    * op max *tmp88 1 *tmp87
-    * set :update_reactors_desired.0:needed *tmp88
+  292 op max :update_reactors_desired.0:needed 1 *tmp87
   293 op add *tmp89 :update_reactors_desired.0:needed .REACTORS_DESIRED
-    * op min *tmp90 5 *tmp89
-    * set .REACTORS_DESIRED *tmp90
+  294 op min .REACTORS_DESIRED 5 *tmp89
   295 jump *label33 always
   296 label *label32
   297 label *label33
 
   313 end
   314 label *label0
   315 op idiv *tmp93 :kilo.0:val 100
-    * op div *tmp94 *tmp93 10
-    * set :kilo.0*retval *tmp94
+  316 op div :kilo.0*retval *tmp93 10
   317 jump *label36 always
   318 set :kilo.0*retval null
   319 label *label36
 
   342 end
   343 label *label2
   344 op sub *tmp102 @tick :calc_charge_req.0:time
-    * op idiv *tmp103 *tmp102 60
-    * set :calc_charge_req.0:secs *tmp103
+  345 op idiv :calc_charge_req.0:secs *tmp102 60
   346 op greaterThan *tmp104 :calc_charge_req.0:secs 30
   347 sensor *tmp105 :calc_charge_req.0:reactor @enabled
   348 op equal *tmp106 *tmp105 false
 
   353 jump *label44 always
   354 label *label43
   355 label *label44
-    * op sub *tmp109 30 :calc_charge_req.0:secs
-    * set :calc_charge_req.0:time_left *tmp109
+  356 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
   357 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
   358 op mul *tmp111 *tmp110 25
-    * op floor *tmp112 *tmp111
-    * set :calc_charge_req.0:charge_req *tmp112
+  359 op floor :calc_charge_req.0:charge_req *tmp111
   360 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
   361 jump *label42 always
   362 set :calc_charge_req.0*retval null
 
   366 label *label3
   367 set .RET_T_STARTUP :start_reactor.0:t_startup
   368 op sub *tmp113 @tick :start_reactor.0:t_startup
-    * op idiv *tmp114 *tmp113 60
-    * set :start_reactor.0:secs *tmp114
-    * sensor *tmp115 :start_reactor.0:reactor @blast-compound
-    * set :start_reactor.0:fuel *tmp115
+  369 op idiv :start_reactor.0:secs *tmp113 60
+  370 sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
   371 set :start_reactor.0:supply_fuel true
-    * sensor *tmp116 .CONTAINER @blast-compound
-    * set :start_reactor.0:fuel_stored *tmp116
-    * sensor *tmp117 :start_reactor.0:reactor @cryofluid
-    * set :start_reactor.0:cryo *tmp117
+  372 sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
+  373 sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
   374 sensor *tmp118 .NODE @powerNetStored
-    * op floor *tmp119 *tmp118
-    * set :start_reactor.0:charge *tmp119
+  375 op floor :start_reactor.0:charge *tmp118
   376 sensor *tmp120 .NODE @powerNetIn
   377 sensor *tmp121 .NODE @powerNetOut
   378 op sub *tmp122 *tmp120 *tmp121
-    * op floor *tmp123 *tmp122
-    * set :start_reactor.0:surplus *tmp123
+  379 op floor :start_reactor.0:surplus *tmp122
   380 op mul *tmp124 .AVG_SURPLUS 0.8
   381 op mul *tmp125 :start_reactor.0:surplus 0.2
-    * op add *tmp126 *tmp124 *tmp125
-    * set .AVG_SURPLUS *tmp126
-    * sensor *tmp127 :start_reactor.0:reactor @enabled
-    * set :start_reactor.0:enabled *tmp127
+  382 op add .AVG_SURPLUS *tmp124 *tmp125
+  383 sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
   384 print "#"
   385 print :start_reactor.0:reactor_num
   386 print " "
   387 print "- "
   388 jump *label46 equal :start_reactor.0:emerg_shutdown false
-    * set *tmp129 :start_reactor.0:reactor
-    * control enabled *tmp129 false
+  389 control enabled :start_reactor.0:reactor false
   390 print "emergency mode"
   391 print "\n"
   392 set :start_reactor.0:supply_fuel false
 
   395 jump *label48 equal :start_reactor.0:enabled false
   396 op lessThan *tmp132 .REACTORS_DESIRED :start_reactor.0:reactor_num
   397 jump *label50 equal *tmp132 false
-    * set *tmp134 :start_reactor.0:reactor
-    * control enabled *tmp134 false
+  398 control enabled :start_reactor.0:reactor false
   399 print "STOP unwanted"
   400 print "\n"
   401 jump *label51 always
 
   405 op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
   406 op land *tmp139 *tmp136 *tmp138
   407 jump *label52 equal *tmp139 false
-    * set *tmp141 :start_reactor.0:reactor
-    * control enabled *tmp141 false
+  408 control enabled :start_reactor.0:reactor false
   409 print "STOP system fuel low"
   410 print "\n"
   411 jump *label53 always
   412 label *label52
   413 op lessThanEq *tmp143 :start_reactor.0:fuel 1
   414 jump *label54 equal *tmp143 false
-    * set *tmp145 :start_reactor.0:reactor
-    * control enabled *tmp145 false
+  415 control enabled :start_reactor.0:reactor false
   416 print "STOP fuel low"
   417 print "\n"
   418 jump *label55 always
   419 label *label54
   420 op lessThanEq *tmp147 :start_reactor.0:cryo .CRYO_ABORT
   421 jump *label56 equal *tmp147 false
-    * set *tmp149 :start_reactor.0:reactor
-    * control enabled *tmp149 false
+  422 control enabled :start_reactor.0:reactor false
   423 print "STOP out of cryo"
   424 print "\n"
   425 jump *label57 always
 
   435 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
   436 op land *tmp156 *tmp154 *tmp155
   437 jump *label60 equal *tmp156 false
-    * set *tmp158 :start_reactor.0:reactor
-    * control enabled *tmp158 false
+  438 control enabled :start_reactor.0:reactor false
   439 print "START FAIL battery"
   440 print "\n"
   441 set :start_reactor.0:supply_fuel false
   442 jump *label61 always
   443 label *label60
-    * op sub *tmp160 30 :start_reactor.0:secs
-    * set :start_reactor.0:time_left *tmp160
+  444 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
   445 print "Starting "
   446 print :start_reactor.0:time_left
   447 print " "
 
   456 op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
   457 op land *tmp163 *tmp161 *tmp162
   458 jump *label62 equal *tmp163 false
-    * set *tmp165 :start_reactor.0:reactor
-    * control enabled *tmp165 false
+  459 control enabled :start_reactor.0:reactor false
   460 print "ABANDON - battery crit"
   461 print "\n"
   462 set :start_reactor.0:supply_fuel false
   463 jump *label63 always
   464 label *label62
-    * op idiv *tmp167 :start_reactor.0:secs 6
-    * set :start_reactor.0:mins *tmp167
-    * op div *tmp168 :start_reactor.0:mins 10
-    * set :start_reactor.0:mins *tmp168
+  465 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
+  466 op div :start_reactor.0:mins :start_reactor.0:mins 10
   467 print "RUN "
   468 print :start_reactor.0:mins
   469 print " "
 
   480 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
   481 op sub *tmp170 *tmp169 .PWR_ABORT
   482 op div *tmp171 *tmp170 .PWR_REQ
-    * op mul *tmp172 *tmp171 .PWR_RESERVE
-    * set :start_reactor.0:charge_units *tmp172
+  483 op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
   484 op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
-    * op max *tmp174 -0.1 *tmp173
-    * set :start_reactor.0:flow_units *tmp174
+  485 op max :start_reactor.0:flow_units -0.1 *tmp173
   486 op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
-    * op add *tmp176 .CRYO_REQ *tmp175
-    * set :start_reactor.0:cryo_req *tmp176
+  487 op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
   488 op lessThan *tmp177 .REACTORS_DESIRED :start_reactor.0:reactor_num
   489 jump *label64 equal *tmp177 false
   490 print "IDLE"
 
   497 jump *label66 equal *tmp180 false
   498 op mul *tmp182 :start_reactor.0:flow_units 1000
   499 op floor *tmp183 *tmp182
-    * op div *tmp184 *tmp183 10
-    * set :start_reactor.0:flow *tmp184
+  500 op div :start_reactor.0:flow *tmp183 10
   501 op mul *tmp185 :start_reactor.0:charge_units 1000
   502 op floor *tmp186 *tmp185
-    * op div *tmp187 *tmp186 10
-    * set :start_reactor.0:charge *tmp187
+  503 op div :start_reactor.0:charge *tmp186 10
   504 print "WAIT power. (%"
   505 print :start_reactor.0:charge
   506 print "J + %"
 
   541 print "STARTUP"
   542 print "\n"
   543 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * set *tmp199 :start_reactor.0:reactor
-    * control enabled *tmp199 true
+  544 control enabled :start_reactor.0:reactor true
   545 label *label75
   546 label *label73
   547 label *label69
 
   552 sensor *tmp201 :start_reactor.0:reactor @enabled
   553 op notEqual *tmp202 :start_reactor.0:enabled *tmp201
   554 jump *label76 equal *tmp202 false
-    * set *tmp204 @tick
-    * set .RET_T_STARTUP *tmp204
+  555 set .RET_T_STARTUP @tick
   556 jump *label77 always
   557 label *label76
   558 label *label77
 
   563 return :start_reactor.0*retaddr
   564 end
   565 label *label4
-    * radar enemy any any health :check_radar.0:unit 1 *tmp205
-    * set :check_radar.0:enemy_found *tmp205
+  566 radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
   567 op notEqual *tmp206 :check_radar.0:enemy_found null
   568 jump *label79 equal *tmp206 false
   569 control enabled projector1 true
   570 control enabled projector2 true
-    * set *tmp210 .ULD_IN_1
-    * control config *tmp210 .FUEL_OFF
-    * set *tmp212 .ULD_OUT_1
-    * control config *tmp212 .FUEL
-    * set *tmp214 .ULD_IN_2
-    * control config *tmp214 .FUEL_OFF
-    * set *tmp216 .ULD_OUT_2
-    * control config *tmp216 .FUEL
-    * set *tmp218 .ULD_IN_MANY
-    * control config *tmp218 .FUEL_OFF
-    * set *tmp220 .ULD_OUT_MANY
-    * control config *tmp220 .FUEL
-    * set *tmp222 .ULD_MIXER
-    * control config *tmp222 .FUEL_OFF
+  571 control config .ULD_IN_1 .FUEL_OFF
+  572 control config .ULD_OUT_1 .FUEL
+  573 control config .ULD_IN_2 .FUEL_OFF
+  574 control config .ULD_OUT_2 .FUEL
+  575 control config .ULD_IN_MANY .FUEL_OFF
+  576 control config .ULD_OUT_MANY .FUEL
+  577 control config .ULD_MIXER .FUEL_OFF
   578 control enabled reactor1 false
   579 control enabled reactor2 false
   580 control enabled reactor3 false

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-1 instructions):
 
    43 set .REACTORS_DESIRED 5
    44 set .AVG_SURPLUS 500
    45 label *label7
-    * jump *label9 equal true false
    46 set .ULD_IN_1 unloader1
    47 set .ULD_OUT_1 unloader2
    48 set .ULD_IN_2 unloader3

Modifications by Iterated phase, Jump Optimization, pass 1, iteration 1 (-17 instructions):
 
    26 sensor *tmp1 node1 @powerNetOut
    27 op sub *tmp2 *tmp0 *tmp1
    28 op floor :surplus *tmp2
-    * op greaterThan *tmp4 :surplus 10000
-    * jump *label5 equal *tmp4 false
+   29 jump *label5 lessThanEq :surplus 10000
    30 op sub *tmp5 @tick 3600
    31 jump *label6 always
    32 label *label5
 
   182 label *label17
   183 jump *label15 always
   184 label *label14
-    * op equal *tmp46 :throttle_blast.0:reactors_fueled false
-    * jump *label18 equal *tmp46 false
+  185 jump *label18 notEqual :throttle_blast.0:reactors_fueled false
   186 set :throttle_blast.0:limit .FUEL_LIMIT_LOW
   187 print "Fuel "
   188 print :throttle_blast.0:fuel_stored
 
   240 sensor :kilo.0:val .NODE @powerNetStored
   241 call *label0 :kilo.0*retaddr :kilo.0*retval
   242 set :charge :kilo.0*retval
-    * op greaterThan *tmp67 .START_POWER_REQ 0
-    * jump *label25 equal *tmp67 false
+  243 jump *label25 lessThanEq .START_POWER_REQ 0
   244 set :kilo.0:val .START_POWER_REQ
   245 call *label0 :kilo.0*retaddr :kilo.0*retval
   246 set :req :kilo.0*retval
 
   268 op greaterThan *tmp76 .AVG_SURPLUS *tmp75
   269 op land *tmp77 *tmp74 *tmp76
   270 jump *label28 equal *tmp77 false
-    * op greaterThan *tmp79 .REACTORS_DESIRED 2
-    * jump *label30 equal *tmp79 false
+  271 jump *label30 lessThanEq .REACTORS_DESIRED 2
   272 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   273 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
   274 jump *label31 always
 
   292 label *label33
   293 label *label27
   294 label *label26
-    * op notEqual *tmp91 .REACTORS_DESIRED 5
-    * jump *label34 equal *tmp91 false
+  295 jump *label34 equal .REACTORS_DESIRED 5
   296 print "Require only "
   297 print .REACTORS_DESIRED
   298 print "/5 reactors."
 
   323 label *label39
   324 control config *tmp95 *tmp97
   325 set *tmp98 :update_fuel.0:uld_out
-    * op equal *tmp100 :update_fuel.0:fuel false
-    * jump *label40 equal *tmp100 false
+  326 jump *label40 notEqual :update_fuel.0:fuel false
   327 set *tmp101 .FUEL
   328 jump *label41 always
   329 label *label40
 
   386 jump *label47 always
   387 label *label46
   388 jump *label48 equal :start_reactor.0:enabled false
-    * op lessThan *tmp132 .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * jump *label50 equal *tmp132 false
+  389 jump *label50 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
   390 control enabled :start_reactor.0:reactor false
   391 print "STOP unwanted"
   392 print "\n"
 
   402 print "\n"
   403 jump *label53 always
   404 label *label52
-    * op lessThanEq *tmp143 :start_reactor.0:fuel 1
-    * jump *label54 equal *tmp143 false
+  405 jump *label54 greaterThan :start_reactor.0:fuel 1
   406 control enabled :start_reactor.0:reactor false
   407 print "STOP fuel low"
   408 print "\n"
   409 jump *label55 always
   410 label *label54
-    * op lessThanEq *tmp147 :start_reactor.0:cryo .CRYO_ABORT
-    * jump *label56 equal *tmp147 false
+  411 jump *label56 greaterThan :start_reactor.0:cryo .CRYO_ABORT
   412 control enabled :start_reactor.0:reactor false
   413 print "STOP out of cryo"
   414 print "\n"
   415 jump *label57 always
   416 label *label56
-    * op lessThan *tmp151 :start_reactor.0:secs 30
-    * jump *label58 equal *tmp151 false
+  417 jump *label58 greaterThanEq :start_reactor.0:secs 30
   418 set :calc_charge_req.0:reactor :start_reactor.0:reactor
   419 set :calc_charge_req.0:time :start_reactor.0:t_startup
   420 call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
 
   474 op max :start_reactor.0:flow_units -0.1 *tmp173
   475 op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
   476 op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
-    * op lessThan *tmp177 .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * jump *label64 equal *tmp177 false
+  477 jump *label64 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
   478 print "IDLE"
   479 print "\n"
   480 set :start_reactor.0:supply_fuel false
   481 jump *label65 always
   482 label *label64
   483 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
-    * op lessThan *tmp180 *tmp179 1
-    * jump *label66 equal *tmp180 false
+  484 jump *label66 greaterThanEq *tmp179 1
   485 op mul *tmp182 :start_reactor.0:flow_units 1000
   486 op floor *tmp183 *tmp182
   487 op div :start_reactor.0:flow *tmp183 10
 
   501 op land *tmp189 :start_reactor.0:fuel_on *tmp188
   502 jump *label68 equal *tmp189 false
   503 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
-    * op greaterThan *tmp192 *tmp191 .FUEL_REQ
-    * jump *label70 equal *tmp192 false
+  504 jump *label70 lessThanEq *tmp191 .FUEL_REQ
   505 print "WAIT fuel"
   506 print "\n"
   507 jump *label71 always
 
   512 jump *label69 always
   513 label *label68
   514 op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
-    * op lessThan *tmp195 :start_reactor.0:fuel_stored *tmp194
-    * jump *label72 equal *tmp195 false
+  515 jump *label72 greaterThanEq :start_reactor.0:fuel_stored *tmp194
   516 print "WAIT buffer fuel"
   517 print "\n"
   518 jump *label73 always
   519 label *label72
-    * op lessThan *tmp197 :start_reactor.0:cryo :start_reactor.0:cryo_req
-    * jump *label74 equal *tmp197 false
+  520 jump *label74 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
   521 print "WAIT cryo"
   522 print "\n"
   523 jump *label75 always
 
   534 label *label49
   535 label *label47
   536 sensor *tmp201 :start_reactor.0:reactor @enabled
-    * op notEqual *tmp202 :start_reactor.0:enabled *tmp201
-    * jump *label76 equal *tmp202 false
+  537 jump *label76 equal :start_reactor.0:enabled *tmp201
   538 set .RET_T_STARTUP @tick
   539 jump *label77 always
   540 label *label76
 
   547 end
   548 label *label4
   549 radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
-    * op notEqual *tmp206 :check_radar.0:enemy_found null
-    * jump *label79 equal *tmp206 false
+  550 jump *label79 equal :check_radar.0:enemy_found null
   551 control enabled projector1 true
   552 control enabled projector2 true
   553 control config .ULD_IN_1 .FUEL_OFF

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-7 instructions):
 
    64 print "\n"
    65 set *tmp8 true
    66 jump *label10 always
-    * jump *label12 always
    67 label *label11
    68 label *label12
    69 set *tmp8 false
 
   270 jump *label30 lessThanEq .REACTORS_DESIRED 2
   271 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   272 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
-    * jump *label31 always
   273 label *label30
   274 label *label31
-    * jump *label29 always
   275 label *label28
   276 label *label29
   277 op lessThan *tmp81 :update_reactors_desired.0:stored 0.8
 
   284 op max :update_reactors_desired.0:needed 1 *tmp87
   285 op add *tmp89 :update_reactors_desired.0:needed .REACTORS_DESIRED
   286 op min .REACTORS_DESIRED 5 *tmp89
-    * jump *label33 always
   287 label *label32
   288 label *label33
   289 label *label27
 
   293 print .REACTORS_DESIRED
   294 print "/5 reactors."
   295 print "\n"
-    * jump *label35 always
   296 label *label34
   297 label *label35
   298 printflush message1
 
   338 jump *label43 equal *tmp107 false
   339 set :calc_charge_req.0*retval 0
   340 jump *label42 always
-    * jump *label44 always
   341 label *label43
   342 label *label44
   343 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
 
   530 sensor *tmp201 :start_reactor.0:reactor @enabled
   531 jump *label76 equal :start_reactor.0:enabled *tmp201
   532 set .RET_T_STARTUP @tick
-    * jump *label77 always
   533 label *label76
   534 label *label77
   535 set :start_reactor.0*retval :start_reactor.0:supply_fuel

Modifications by Iterated phase, Expression Optimization, pass 1, iteration 1 (-3 instructions):
 
   342 label *label44
   343 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
   344 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
-    * op mul *tmp111 *tmp110 25
-    * op floor :calc_charge_req.0:charge_req *tmp111
+  345 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
   346 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
   347 jump *label42 always
   348 set :calc_charge_req.0*retval null
 
   475 label *label64
   476 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
   477 jump *label66 greaterThanEq *tmp179 1
-    * op mul *tmp182 :start_reactor.0:flow_units 1000
-    * op floor *tmp183 *tmp182
+  478 op idiv *tmp183 :start_reactor.0:flow_units 0.001
   479 op div :start_reactor.0:flow *tmp183 10
-    * op mul *tmp185 :start_reactor.0:charge_units 1000
-    * op floor *tmp186 *tmp185
+  480 op idiv *tmp186 :start_reactor.0:charge_units 0.001
   481 op div :start_reactor.0:charge *tmp186 10
   482 print "WAIT power. (%"
   483 print :start_reactor.0:charge

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-7 instructions):
 
    33 set *tmp5 @tick
    34 label *label6
    35 set :start_time *tmp5
-    * set :t_startup1 :start_time
-    * set :t_startup2 :start_time
-    * set :t_startup3 :start_time
-    * set :t_startup4 :start_time
-    * set :t_startup5 :start_time
-    * set .RET_T_STARTUP :t_startup1
+   36 set :t_startup1 *tmp5
+   37 set :t_startup2 *tmp5
+   38 set :t_startup3 *tmp5
+   39 set :t_startup4 *tmp5
+   40 set :t_startup5 *tmp5
+   41 set .RET_T_STARTUP :start_time
    42 set .REACTORS_DESIRED 5
    43 set .AVG_SURPLUS 500
    44 label *label7
 
    52 set .TOWER cyclone1
    53 set .CONTAINER vault1
    54 set .NODE node1
-    * set :check_radar.0:unit .TOWER
+   55 set :check_radar.0:unit cyclone1
    56 call *label4 :check_radar.0*retaddr :check_radar.0*retval
    57 set :emerg_shutdown :check_radar.0*retval
    58 op notEqual *tmp9 switch1 null
 
    68 label *label12
    69 set *tmp8 false
    70 jump *label10 always
-    * set *tmp8 null
    71 label *label10
-    * op or :emerg_shutdown :emerg_shutdown *tmp8
+   72 op or :emerg_shutdown :check_radar.0*retval *tmp8
    73 set :calc_charge_req.0:reactor reactor1
    74 set :calc_charge_req.0:time :t_startup1
    75 call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
 
    98 call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
    99 set :fuel_1 :start_reactor.0*retval
   100 set :t_startup1 .RET_T_STARTUP
-    * set :update_fuel.0:fuel :fuel_1
-    * set :update_fuel.0:uld_in .ULD_IN_1
-    * set :update_fuel.0:uld_out .ULD_OUT_1
+  101 set :update_fuel.0:fuel :start_reactor.0*retval
+  102 set :update_fuel.0:uld_in unloader1
+  103 set :update_fuel.0:uld_out unloader2
   104 call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
   105 set :start_reactor.0:reactor reactor2
   106 set :start_reactor.0:reactor_num 2
 
   110 call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
   111 set :fuel_2 :start_reactor.0*retval
   112 set :t_startup2 .RET_T_STARTUP
-    * set :update_fuel.0:fuel :fuel_2
-    * set :update_fuel.0:uld_in .ULD_IN_2
-    * set :update_fuel.0:uld_out .ULD_OUT_2
+  113 set :update_fuel.0:fuel :start_reactor.0*retval
+  114 set :update_fuel.0:uld_in unloader3
+  115 set :update_fuel.0:uld_out unloader4
   116 call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
-    * set :check_radar.0:unit .TOWER
+  117 set :check_radar.0:unit cyclone1
   118 call *label4 :check_radar.0*retaddr :check_radar.0*retval
   119 op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
   120 set :start_reactor.0:reactor reactor3
 
   142 set :fuel_5 :start_reactor.0*retval
   143 set :t_startup5 .RET_T_STARTUP
   144 op or *tmp27 :fuel_3 :fuel_4
-    * op or :fuel_many *tmp27 :fuel_5
+  145 op or :fuel_many *tmp27 :start_reactor.0*retval
   146 set :update_fuel.0:fuel :fuel_many
-    * set :update_fuel.0:uld_in .ULD_IN_MANY
-    * set :update_fuel.0:uld_out .ULD_OUT_MANY
+  147 set :update_fuel.0:uld_in unloader5
+  148 set :update_fuel.0:uld_out unloader6
   149 call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
   150 op or *tmp30 :fuel_1 :fuel_2
   151 op or :throttle_blast.0:reactors_fueled *tmp30 :fuel_many
   152 set :throttle_blast.0:emerg_shutdown :emerg_shutdown
-    * sensor *tmp33 .NODE @powerNetStored
+  153 sensor *tmp33 node1 @powerNetStored
   154 op floor :throttle_blast.0:charge *tmp33
-    * sensor *tmp35 .NODE @powerNetIn
-    * sensor *tmp36 .NODE @powerNetOut
+  155 sensor *tmp35 node1 @powerNetIn
+  156 sensor *tmp36 node1 @powerNetOut
   157 op sub *tmp37 *tmp35 *tmp36
   158 op floor :throttle_blast.0:surplus *tmp37
-    * sensor :throttle_blast.0:fuel_stored .CONTAINER @blast-compound
-    * op lessThan *tmp40 :throttle_blast.0:charge .PWR_ABORT
-    * op lessThan *tmp41 :throttle_blast.0:surplus .FLOW_ABORT
+  159 sensor :throttle_blast.0:fuel_stored vault1 @blast-compound
+  160 op lessThan *tmp40 :throttle_blast.0:charge 5000
+  161 op lessThan *tmp41 :throttle_blast.0:surplus -500
   162 op land *tmp42 *tmp40 *tmp41
-    * op or *tmp43 *tmp42 :throttle_blast.0:emerg_shutdown
+  163 op or *tmp43 *tmp42 :emerg_shutdown
   164 jump *label14 equal *tmp43 false
   165 set :throttle_blast.0:limit 0
   166 print "Central Fuel at "
   167 print :throttle_blast.0:fuel_stored
   168 print " "
   169 print "/ "
-    * print :throttle_blast.0:limit
+  170 print 0
   171 print " "
   172 print "- "
-    * jump *label16 equal :throttle_blast.0:emerg_shutdown false
+  173 jump *label16 equal :emerg_shutdown false
   174 print " Enemies detected."
   175 print "\n"
   176 jump *label17 always
 
   181 jump *label15 always
   182 label *label14
   183 jump *label18 notEqual :throttle_blast.0:reactors_fueled false
-    * set :throttle_blast.0:limit .FUEL_LIMIT_LOW
+  184 set :throttle_blast.0:limit 150
   185 print "Fuel "
   186 print :throttle_blast.0:fuel_stored
   187 print " "
   188 print "/ "
-    * print :throttle_blast.0:limit
+  189 print .FUEL_LIMIT_LOW
   190 print " "
   191 print "(due to emergency)"
   192 print "\n"
   193 jump *label19 always
   194 label *label18
-    * set :throttle_blast.0:limit .FUEL_LIMIT
+  195 set :throttle_blast.0:limit 800
   196 print "Fuel "
   197 print :throttle_blast.0:fuel_stored
   198 print " "
   199 print "/ "
-    * print :throttle_blast.0:limit
+  200 print .FUEL_LIMIT
   201 print "\"
   202 print "n"
   203 label *label19
   204 label *label15
   205 op lessThan *tmp32 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   206 jump *label13 always
-    * set *tmp32 null
   207 label *label13
   208 set :feed_mixers *tmp32
-    * set *tmp49 .ULD_MIXER
-    * jump *label20 equal :feed_mixers false
-    * set *tmp51 .MIXER_IN
+  209 set *tmp49 unloader7
+  210 jump *label20 equal *tmp32 false
+  211 set *tmp51 @pyratite
   212 jump *label21 always
   213 label *label20
-    * set *tmp51 .FUEL_OFF
+  214 set *tmp51 @scrap
   215 label *label21
-    * control config *tmp49 *tmp51
-    * sensor *tmp53 .NODE @powerNetStored
-    * sensor *tmp54 .NODE @powerNetCapacity
+  216 control config .ULD_MIXER *tmp51
+  217 sensor *tmp53 node1 @powerNetStored
+  218 sensor *tmp54 node1 @powerNetCapacity
   219 op div :diff_generators.0:stored_pc *tmp53 *tmp54
   220 op greaterThan *tmp56 :diff_generators.0:stored_pc 0.9
   221 op lessThan *tmp57 .START_POWER_REQ 10
 
   234 set :kilo.0:val .AVG_SURPLUS
   235 call *label0 :kilo.0*retaddr :kilo.0*retval
   236 set :surplus :kilo.0*retval
-    * sensor :kilo.0:val .NODE @powerNetStored
+  237 sensor :kilo.0:val node1 @powerNetStored
   238 call *label0 :kilo.0*retaddr :kilo.0*retval
   239 set :charge :kilo.0*retval
   240 jump *label25 lessThanEq .START_POWER_REQ 0
 
   242 call *label0 :kilo.0*retaddr :kilo.0*retval
   243 set :req :kilo.0*retval
   244 print "Req "
-    * print :req
+  245 print :kilo.0*retval
   246 print "kJ / "
   247 print :charge
   248 print "kJ. "
 
   254 print "Power "
   255 print :surplus
   256 print "kW, "
-    * print :charge
+  257 print :kilo.0*retval
   258 print "kJ"
   259 print "\n"
-    * sensor *tmp71 .NODE @powerNetStored
-    * sensor *tmp72 .NODE @powerNetCapacity
+  260 sensor *tmp71 node1 @powerNetStored
+  261 sensor *tmp72 node1 @powerNetCapacity
   262 op div :update_reactors_desired.0:stored *tmp71 *tmp72
   263 op greaterThan *tmp74 :update_reactors_desired.0:stored 0.98
-    * op add *tmp75 .GENERATOR_OUTPUT .GOAL_BUFFER
-    * op greaterThan *tmp76 .AVG_SURPLUS *tmp75
+  264 op add *tmp75 6500 10000
+  265 op greaterThan *tmp76 .AVG_SURPLUS 16500
   266 op land *tmp77 *tmp74 *tmp76
   267 jump *label28 equal *tmp77 false
   268 jump *label30 lessThanEq .REACTORS_DESIRED 2
   269 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
-    * op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
+  270 op sub .AVG_SURPLUS .AVG_SURPLUS 6500
   271 label *label30
   272 label *label31
   273 label *label28
   274 label *label29
   275 op lessThan *tmp81 :update_reactors_desired.0:stored 0.8
-    * op mul *tmp82 .GOAL_BUFFER 0.8
-    * op lessThan *tmp83 .AVG_SURPLUS *tmp82
+  276 op mul *tmp82 10000 0.8
+  277 op lessThan *tmp83 .AVG_SURPLUS 8000
   278 op land *tmp84 *tmp81 *tmp83
   279 jump *label32 equal *tmp84 false
-    * op sub *tmp86 .AVG_SURPLUS .GOAL_BUFFER
-    * op idiv *tmp87 *tmp86 .GENERATOR_OUTPUT
+  280 op sub *tmp86 .AVG_SURPLUS 10000
+  281 op idiv *tmp87 *tmp86 6500
   282 op max :update_reactors_desired.0:needed 1 *tmp87
   283 op add *tmp89 :update_reactors_desired.0:needed .REACTORS_DESIRED
   284 op min .REACTORS_DESIRED 5 *tmp89
 
   302 op idiv *tmp93 :kilo.0:val 100
   303 op div :kilo.0*retval *tmp93 10
   304 jump *label36 always
-    * set :kilo.0*retval null
   305 label *label36
   306 return :kilo.0*retaddr
   307 end
 
   313 label *label38
   314 set *tmp97 .FUEL_OFF
   315 label *label39
-    * control config *tmp95 *tmp97
+  316 control config :update_fuel.0:uld_in *tmp97
   317 set *tmp98 :update_fuel.0:uld_out
   318 jump *label40 notEqual :update_fuel.0:fuel false
   319 set *tmp101 .FUEL
 
   321 label *label40
   322 set *tmp101 .FUEL_OFF
   323 label *label41
-    * control config *tmp98 *tmp101
+  324 control config :update_fuel.0:uld_out *tmp101
   325 label *label37
   326 return :update_fuel.0*retaddr
   327 end
 
   342 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
   343 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
   344 jump *label42 always
-    * set :calc_charge_req.0*retval null
   345 label *label42
   346 return :calc_charge_req.0*retaddr
   347 end
 
   408 set :calc_charge_req.0:time :start_reactor.0:t_startup
   409 call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
   410 set :start_reactor.0:charge_req :calc_charge_req.0*retval
-    * op sub *tmp153 :start_reactor.0:charge :start_reactor.0:charge_req
+  411 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
   412 op lessThan *tmp154 *tmp153 .PWR_ABORT
   413 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
   414 op land *tmp156 *tmp154 *tmp155
 
   424 print :start_reactor.0:time_left
   425 print " "
   426 print "secs, req "
-    * print :start_reactor.0:charge_req
+  427 print :calc_charge_req.0*retval
   428 print "J"
   429 print "\n"
   430 label *label61
 
   527 label *label77
   528 set :start_reactor.0*retval :start_reactor.0:supply_fuel
   529 jump *label45 always
-    * set :start_reactor.0*retval null
   530 label *label45
   531 return :start_reactor.0*retaddr
   532 end
 
   549 control enabled reactor5 false
   550 set :check_radar.0*retval true
   551 jump *label78 always
-    * set *tmp207 null
   552 jump *label80 always
   553 label *label79
   554 control enabled projector1 false
   555 control enabled projector2 false
   556 set :check_radar.0*retval false
   557 jump *label78 always
-    * set *tmp207 null
   558 label *label80
-    * set :check_radar.0*retval *tmp207
+  559 set :check_radar.0*retval null
   560 label *label78
   561 return :check_radar.0*retaddr
   562 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-15 instructions):
     0 printflush message1
     1 set .FUEL @blast-compound
     2 set .FUEL_OFF @scrap
-    * set .MIXER_IN @pyratite
     3 set .PWR_REQ 23000
     4 set .FLOW_REQ 2000
     5 set .PWR_ABANDON 2000
 
    11 set .FUEL_LIMIT_LOW 150
    12 set .FUEL_LIMIT 800
    13 set .FUEL_TOT_ABORT 15
-    * set .GENERATOR_OUTPUT 6500
-    * set .GOAL_BUFFER 10000
    14 set .CRYO_REQ 3
    15 set .CRYO_REQ_EA 2
    16 set .CRYO_ABORT 1
 
    35 set :t_startup3 *tmp5
    36 set :t_startup4 *tmp5
    37 set :t_startup5 *tmp5
-    * set .RET_T_STARTUP :start_time
+   38 set .RET_T_STARTUP *tmp5
    39 set .REACTORS_DESIRED 5
    40 set .AVG_SURPLUS 500
    41 label *label7
 
    46 set .ULD_IN_MANY unloader5
    47 set .ULD_OUT_MANY unloader6
    48 set .ULD_MIXER unloader7
-    * set .TOWER cyclone1
    49 set .CONTAINER vault1
    50 set .NODE node1
    51 set :check_radar.0:unit cyclone1
    52 call *label4 :check_radar.0*retaddr :check_radar.0*retval
-    * set :emerg_shutdown :check_radar.0*retval
    53 op notEqual *tmp9 switch1 null
    54 sensor *tmp10 switch1 @enabled
    55 op equal *tmp11 *tmp10 false
 
   144 call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
   145 op or *tmp30 :fuel_1 :fuel_2
   146 op or :throttle_blast.0:reactors_fueled *tmp30 :fuel_many
-    * set :throttle_blast.0:emerg_shutdown :emerg_shutdown
   147 sensor *tmp33 node1 @powerNetStored
   148 op floor :throttle_blast.0:charge *tmp33
   149 sensor *tmp35 node1 @powerNetIn
 
   180 print :throttle_blast.0:fuel_stored
   181 print " "
   182 print "/ "
-    * print .FUEL_LIMIT_LOW
+  183 print 150
   184 print " "
   185 print "(due to emergency)"
   186 print "\n"
 
   191 print :throttle_blast.0:fuel_stored
   192 print " "
   193 print "/ "
-    * print .FUEL_LIMIT
+  194 print 800
   195 print "\"
   196 print "n"
   197 label *label19
 
   199 op lessThan *tmp32 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   200 jump *label13 always
   201 label *label13
-    * set :feed_mixers *tmp32
-    * set *tmp49 unloader7
   202 jump *label20 equal *tmp32 false
   203 set *tmp51 @pyratite
   204 jump *label21 always
   205 label *label20
   206 set *tmp51 @scrap
   207 label *label21
-    * control config .ULD_MIXER *tmp51
+  208 control config unloader7 *tmp51
   209 sensor *tmp53 node1 @powerNetStored
   210 sensor *tmp54 node1 @powerNetCapacity
   211 op div :diff_generators.0:stored_pc *tmp53 *tmp54
 
   232 jump *label25 lessThanEq .START_POWER_REQ 0
   233 set :kilo.0:val .START_POWER_REQ
   234 call *label0 :kilo.0*retaddr :kilo.0*retval
-    * set :req :kilo.0*retval
   235 print "Req "
   236 print :kilo.0*retval
   237 print "kJ / "
 
   252 sensor *tmp72 node1 @powerNetCapacity
   253 op div :update_reactors_desired.0:stored *tmp71 *tmp72
   254 op greaterThan *tmp74 :update_reactors_desired.0:stored 0.98
-    * op add *tmp75 6500 10000
   255 op greaterThan *tmp76 .AVG_SURPLUS 16500
   256 op land *tmp77 *tmp74 *tmp76
   257 jump *label28 equal *tmp77 false
 
   263 label *label28
   264 label *label29
   265 op lessThan *tmp81 :update_reactors_desired.0:stored 0.8
-    * op mul *tmp82 10000 0.8
   266 op lessThan *tmp83 .AVG_SURPLUS 8000
   267 op land *tmp84 *tmp81 *tmp83
   268 jump *label32 equal *tmp84 false
 
   295 return :kilo.0*retaddr
   296 end
   297 label *label1
-    * set *tmp95 :update_fuel.0:uld_in
   298 jump *label38 equal :update_fuel.0:fuel false
   299 set *tmp97 .FUEL
   300 jump *label39 always
 
   302 set *tmp97 .FUEL_OFF
   303 label *label39
   304 control config :update_fuel.0:uld_in *tmp97
-    * set *tmp98 :update_fuel.0:uld_out
   305 jump *label40 notEqual :update_fuel.0:fuel false
   306 set *tmp101 .FUEL
   307 jump *label41 always
 
   394 set :calc_charge_req.0:reactor :start_reactor.0:reactor
   395 set :calc_charge_req.0:time :start_reactor.0:t_startup
   396 call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
-    * set :start_reactor.0:charge_req :calc_charge_req.0*retval
   397 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
   398 op lessThan *tmp154 *tmp153 .PWR_ABORT
   399 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
 
   542 set :check_radar.0*retval false
   543 jump *label78 always
   544 label *label80
-    * set :check_radar.0*retval null
   545 label *label78
   546 return :check_radar.0*retaddr
   547 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-3 instructions):
 
     8 set .FLOW_ABORT -500
     9 set .FUEL_REQ 10
    10 set .FUEL_TOT_REQ 45
-    * set .FUEL_LIMIT_LOW 150
-    * set .FUEL_LIMIT 800
    11 set .FUEL_TOT_ABORT 15
    12 set .CRYO_REQ 3
    13 set .CRYO_REQ_EA 2
 
    27 label *label5
    28 set *tmp5 @tick
    29 label *label6
-    * set :start_time *tmp5
    30 set :t_startup1 *tmp5
    31 set :t_startup2 *tmp5
    32 set :t_startup3 *tmp5

Modifications by Iterated phase, Loop Hoisting, pass 1, iteration 1:
 
    35 set .RET_T_STARTUP *tmp5
    36 set .REACTORS_DESIRED 5
    37 set .AVG_SURPLUS 500
+   38 set :start_reactor.0:reactor_num 1
+   39 set :start_reactor.0:reactor_num 2
+   40 set :start_reactor.0:reactor_num 3
+   41 set :start_reactor.0:reactor_num 4
+   42 set :start_reactor.0:reactor_num 5
    43 label *label7
    44 set .ULD_IN_1 unloader1
    45 set .ULD_OUT_1 unloader2
 
    88 call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
    89 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
    90 set :start_reactor.0:reactor reactor1
-    * set :start_reactor.0:reactor_num 1
    91 set :start_reactor.0:emerg_shutdown :emerg_shutdown
    92 set :start_reactor.0:fuel_on :fuel_1
    93 set :start_reactor.0:t_startup :t_startup1
 
    99 set :update_fuel.0:uld_out unloader2
   100 call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
   101 set :start_reactor.0:reactor reactor2
-    * set :start_reactor.0:reactor_num 2
   102 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   103 set :start_reactor.0:fuel_on :fuel_2
   104 set :start_reactor.0:t_startup :t_startup2
 
   113 call *label4 :check_radar.0*retaddr :check_radar.0*retval
   114 op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
   115 set :start_reactor.0:reactor reactor3
-    * set :start_reactor.0:reactor_num 3
   116 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   117 set :start_reactor.0:fuel_on :fuel_3
   118 set :start_reactor.0:t_startup :t_startup3
 
   120 set :fuel_3 :start_reactor.0*retval
   121 set :t_startup3 .RET_T_STARTUP
   122 set :start_reactor.0:reactor reactor4
-    * set :start_reactor.0:reactor_num 4
   123 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   124 set :start_reactor.0:fuel_on :fuel_4
   125 set :start_reactor.0:t_startup :t_startup4
 
   127 set :fuel_4 :start_reactor.0*retval
   128 set :t_startup4 .RET_T_STARTUP
   129 set :start_reactor.0:reactor reactor5
-    * set :start_reactor.0:reactor_num 5
   130 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   131 set :start_reactor.0:fuel_on :fuel_5
   132 set :start_reactor.0:t_startup :t_startup5

Modifications by Iterated phase, If Expression Optimization, pass 1, iteration 1 (-3 instructions):
 
   197 jump *label13 always
   198 label *label13
   199 jump *label20 equal *tmp32 false
-    * set *tmp51 @pyratite
+  200 control config unloader7 @pyratite
   201 jump *label21 always
   202 label *label20
-    * set *tmp51 @scrap
+  203 control config unloader7 @scrap
   204 label *label21
-    * control config unloader7 *tmp51
   205 sensor *tmp53 node1 @powerNetStored
   206 sensor *tmp54 node1 @powerNetCapacity
   207 op div :diff_generators.0:stored_pc *tmp53 *tmp54
 
   292 end
   293 label *label1
   294 jump *label38 equal :update_fuel.0:fuel false
-    * set *tmp97 .FUEL
+  295 control config :update_fuel.0:uld_in .FUEL
   296 jump *label39 always
   297 label *label38
-    * set *tmp97 .FUEL_OFF
+  298 control config :update_fuel.0:uld_in .FUEL_OFF
   299 label *label39
-    * control config :update_fuel.0:uld_in *tmp97
   300 jump *label40 notEqual :update_fuel.0:fuel false
-    * set *tmp101 .FUEL
+  301 control config :update_fuel.0:uld_out .FUEL
   302 jump *label41 always
   303 label *label40
-    * set *tmp101 .FUEL_OFF
+  304 control config :update_fuel.0:uld_out .FUEL_OFF
   305 label *label41
-    * control config :update_fuel.0:uld_out *tmp101
   306 label *label37
   307 return :update_fuel.0*retaddr
   308 end

Modifications by Inline function 'kilo' defined at line 117:1 (-2 instructions):
 
   220 label *label24
   221 label *label22
   222 set :kilo.0:val .AVG_SURPLUS
-    * call *label0 :kilo.0*retaddr :kilo.0*retval
+  223 label *label81
+  224 op idiv *tmp93 :kilo.0:val 100
+  225 op div :kilo.0*retval *tmp93 10
+  226 jump *label82 always
+  227 label *label82
   228 set :surplus :kilo.0*retval
   229 sensor :kilo.0:val node1 @powerNetStored
-    * call *label0 :kilo.0*retaddr :kilo.0*retval
+  230 label *label83
+  231 op idiv *tmp93 :kilo.0:val 100
+  232 op div :kilo.0*retval *tmp93 10
+  233 jump *label84 always
+  234 label *label84
   235 set :charge :kilo.0*retval
   236 jump *label25 lessThanEq .START_POWER_REQ 0
   237 set :kilo.0:val .START_POWER_REQ
-    * call *label0 :kilo.0*retaddr :kilo.0*retval
+  238 label *label85
+  239 op idiv *tmp93 :kilo.0:val 100
+  240 op div :kilo.0*retval *tmp93 10
+  241 jump *label86 always
+  242 label *label86
   243 print "Req "
   244 print :kilo.0*retval
   245 print "kJ / "
 
   295 jump *label7 always
   296 label *label9
   297 end
-    * label *label0
-    * op idiv *tmp93 :kilo.0:val 100
-    * op div :kilo.0*retval *tmp93 10
-    * jump *label36 always
-    * label *label36
-    * return :kilo.0*retaddr
-    * end
   298 label *label1
   299 jump *label38 equal :update_fuel.0:fuel false
   300 control config :update_fuel.0:uld_in .FUEL

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-4 instructions):
 
    35 set .RET_T_STARTUP *tmp5
    36 set .REACTORS_DESIRED 5
    37 set .AVG_SURPLUS 500
-    * set :start_reactor.0:reactor_num 1
-    * set :start_reactor.0:reactor_num 2
-    * set :start_reactor.0:reactor_num 3
-    * set :start_reactor.0:reactor_num 4
    38 set :start_reactor.0:reactor_num 5
    39 label *label7
    40 set .ULD_IN_1 unloader1
 
   217 label *label22
   218 set :kilo.0:val .AVG_SURPLUS
   219 label *label81
-    * op idiv *tmp93 :kilo.0:val 100
+  220 op idiv *tmp93 .AVG_SURPLUS 100
   221 op div :kilo.0*retval *tmp93 10
   222 jump *label82 always
   223 label *label82
 
   232 jump *label25 lessThanEq .START_POWER_REQ 0
   233 set :kilo.0:val .START_POWER_REQ
   234 label *label85
-    * op idiv *tmp93 :kilo.0:val 100
+  235 op idiv *tmp93 .START_POWER_REQ 100
   236 op div :kilo.0*retval *tmp93 10
   237 jump *label86 always
   238 label *label86

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-2 instructions):
 
   215 control enabled generator2 true
   216 label *label24
   217 label *label22
-    * set :kilo.0:val .AVG_SURPLUS
   218 label *label81
   219 op idiv *tmp93 .AVG_SURPLUS 100
   220 op div :kilo.0*retval *tmp93 10
 
   229 label *label84
   230 set :charge :kilo.0*retval
   231 jump *label25 lessThanEq .START_POWER_REQ 0
-    * set :kilo.0:val .START_POWER_REQ
   232 label *label85
   233 op idiv *tmp93 .START_POWER_REQ 100
   234 op div :kilo.0*retval *tmp93 10

Modifications by Inline function 'update_fuel' defined at line 121:1 (+8 instructions):
 
    93 set :update_fuel.0:fuel :start_reactor.0*retval
    94 set :update_fuel.0:uld_in unloader1
    95 set :update_fuel.0:uld_out unloader2
-    * call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
+   96 label *label87
+   97 jump *label88 equal :update_fuel.0:fuel false
+   98 control config :update_fuel.0:uld_in .FUEL
+   99 jump *label89 always
+  100 label *label88
+  101 control config :update_fuel.0:uld_in .FUEL_OFF
+  102 label *label89
+  103 jump *label90 notEqual :update_fuel.0:fuel false
+  104 control config :update_fuel.0:uld_out .FUEL
+  105 jump *label91 always
+  106 label *label90
+  107 control config :update_fuel.0:uld_out .FUEL_OFF
+  108 label *label91
+  109 label *label92
   110 set :start_reactor.0:reactor reactor2
   111 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   112 set :start_reactor.0:fuel_on :fuel_2
 
   117 set :update_fuel.0:fuel :start_reactor.0*retval
   118 set :update_fuel.0:uld_in unloader3
   119 set :update_fuel.0:uld_out unloader4
-    * call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
+  120 label *label93
+  121 jump *label94 equal :update_fuel.0:fuel false
+  122 control config :update_fuel.0:uld_in .FUEL
+  123 jump *label95 always
+  124 label *label94
+  125 control config :update_fuel.0:uld_in .FUEL_OFF
+  126 label *label95
+  127 jump *label96 notEqual :update_fuel.0:fuel false
+  128 control config :update_fuel.0:uld_out .FUEL
+  129 jump *label97 always
+  130 label *label96
+  131 control config :update_fuel.0:uld_out .FUEL_OFF
+  132 label *label97
+  133 label *label98
   134 set :check_radar.0:unit cyclone1
   135 call *label4 :check_radar.0*retaddr :check_radar.0*retval
   136 op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
 
   160 set :update_fuel.0:fuel :fuel_many
   161 set :update_fuel.0:uld_in unloader5
   162 set :update_fuel.0:uld_out unloader6
-    * call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
+  163 label *label99
+  164 jump *label100 equal :update_fuel.0:fuel false
+  165 control config :update_fuel.0:uld_in .FUEL
+  166 jump *label101 always
+  167 label *label100
+  168 control config :update_fuel.0:uld_in .FUEL_OFF
+  169 label *label101
+  170 jump *label102 notEqual :update_fuel.0:fuel false
+  171 control config :update_fuel.0:uld_out .FUEL
+  172 jump *label103 always
+  173 label *label102
+  174 control config :update_fuel.0:uld_out .FUEL_OFF
+  175 label *label103
+  176 label *label104
   177 op or *tmp30 :fuel_1 :fuel_2
   178 op or :throttle_blast.0:reactors_fueled *tmp30 :fuel_many
   179 sensor *tmp33 node1 @powerNetStored
 
   328 jump *label7 always
   329 label *label9
   330 end
-    * label *label1
-    * jump *label38 equal :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_in .FUEL
-    * jump *label39 always
-    * label *label38
-    * control config :update_fuel.0:uld_in .FUEL_OFF
-    * label *label39
-    * jump *label40 notEqual :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_out .FUEL
-    * jump *label41 always
-    * label *label40
-    * control config :update_fuel.0:uld_out .FUEL_OFF
-    * label *label41
-    * label *label37
-    * return :update_fuel.0*retaddr
-    * end
   331 label *label2
   332 op sub *tmp102 @tick :calc_charge_req.0:time
   333 op idiv :calc_charge_req.0:secs *tmp102 60

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    94 set :update_fuel.0:uld_in unloader1
    95 set :update_fuel.0:uld_out unloader2
    96 label *label87
-    * jump *label88 equal :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_in .FUEL
+   97 jump *label88 equal :start_reactor.0*retval false
+   98 control config unloader1 @blast-compound
    99 jump *label89 always
   100 label *label88
-    * control config :update_fuel.0:uld_in .FUEL_OFF
+  101 control config unloader1 @scrap
   102 label *label89
-    * jump *label90 notEqual :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_out .FUEL
+  103 jump *label90 notEqual :start_reactor.0*retval false
+  104 control config unloader2 @blast-compound
   105 jump *label91 always
   106 label *label90
-    * control config :update_fuel.0:uld_out .FUEL_OFF
+  107 control config unloader2 @scrap
   108 label *label91
   109 label *label92
   110 set :start_reactor.0:reactor reactor2
 
   118 set :update_fuel.0:uld_in unloader3
   119 set :update_fuel.0:uld_out unloader4
   120 label *label93
-    * jump *label94 equal :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_in .FUEL
+  121 jump *label94 equal :start_reactor.0*retval false
+  122 control config unloader3 @blast-compound
   123 jump *label95 always
   124 label *label94
-    * control config :update_fuel.0:uld_in .FUEL_OFF
+  125 control config unloader3 @scrap
   126 label *label95
-    * jump *label96 notEqual :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_out .FUEL
+  127 jump *label96 notEqual :start_reactor.0*retval false
+  128 control config unloader4 @blast-compound
   129 jump *label97 always
   130 label *label96
-    * control config :update_fuel.0:uld_out .FUEL_OFF
+  131 control config unloader4 @scrap
   132 label *label97
   133 label *label98
   134 set :check_radar.0:unit cyclone1
 
   161 set :update_fuel.0:uld_in unloader5
   162 set :update_fuel.0:uld_out unloader6
   163 label *label99
-    * jump *label100 equal :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_in .FUEL
+  164 jump *label100 equal :fuel_many false
+  165 control config unloader5 @blast-compound
   166 jump *label101 always
   167 label *label100
-    * control config :update_fuel.0:uld_in .FUEL_OFF
+  168 control config unloader5 @scrap
   169 label *label101
-    * jump *label102 notEqual :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_out .FUEL
+  170 jump *label102 notEqual :fuel_many false
+  171 control config unloader6 @blast-compound
   172 jump *label103 always
   173 label *label102
-    * control config :update_fuel.0:uld_out .FUEL_OFF
+  174 control config unloader6 @scrap
   175 label *label103
   176 label *label104
   177 op or *tmp30 :fuel_1 :fuel_2

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-9 instructions):
 
    90 call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
    91 set :fuel_1 :start_reactor.0*retval
    92 set :t_startup1 .RET_T_STARTUP
-    * set :update_fuel.0:fuel :start_reactor.0*retval
-    * set :update_fuel.0:uld_in unloader1
-    * set :update_fuel.0:uld_out unloader2
    93 label *label87
    94 jump *label88 equal :start_reactor.0*retval false
    95 control config unloader1 @blast-compound
 
   111 call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
   112 set :fuel_2 :start_reactor.0*retval
   113 set :t_startup2 .RET_T_STARTUP
-    * set :update_fuel.0:fuel :start_reactor.0*retval
-    * set :update_fuel.0:uld_in unloader3
-    * set :update_fuel.0:uld_out unloader4
   114 label *label93
   115 jump *label94 equal :start_reactor.0*retval false
   116 control config unloader3 @blast-compound
 
   151 set :t_startup5 .RET_T_STARTUP
   152 op or *tmp27 :fuel_3 :fuel_4
   153 op or :fuel_many *tmp27 :start_reactor.0*retval
-    * set :update_fuel.0:fuel :fuel_many
-    * set :update_fuel.0:uld_in unloader5
-    * set :update_fuel.0:uld_out unloader6
   154 label *label99
   155 jump *label100 equal :fuel_many false
   156 control config unloader5 @blast-compound

Modifications by Inline function 'check_radar' defined at line 259:1 (+17 instructions):
 
    47 set .CONTAINER vault1
    48 set .NODE node1
    49 set :check_radar.0:unit cyclone1
-    * call *label4 :check_radar.0*retaddr :check_radar.0*retval
+   50 label *label105
+   51 radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
+   52 jump *label106 equal :check_radar.0:enemy_found null
+   53 control enabled projector1 true
+   54 control enabled projector2 true
+   55 control config .ULD_IN_1 .FUEL_OFF
+   56 control config .ULD_OUT_1 .FUEL
+   57 control config .ULD_IN_2 .FUEL_OFF
+   58 control config .ULD_OUT_2 .FUEL
+   59 control config .ULD_IN_MANY .FUEL_OFF
+   60 control config .ULD_OUT_MANY .FUEL
+   61 control config .ULD_MIXER .FUEL_OFF
+   62 control enabled reactor1 false
+   63 control enabled reactor2 false
+   64 control enabled reactor3 false
+   65 control enabled reactor4 false
+   66 control enabled reactor5 false
+   67 set :check_radar.0*retval true
+   68 jump *label108 always
+   69 jump *label107 always
+   70 label *label106
+   71 control enabled projector1 false
+   72 control enabled projector2 false
+   73 set :check_radar.0*retval false
+   74 jump *label108 always
+   75 label *label107
+   76 label *label108
    77 op notEqual *tmp9 switch1 null
    78 sensor *tmp10 switch1 @enabled
    79 op equal *tmp11 *tmp10 false
 
   152 label *label97
   153 label *label98
   154 set :check_radar.0:unit cyclone1
-    * call *label4 :check_radar.0*retaddr :check_radar.0*retval
+  155 label *label109
+  156 radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
+  157 jump *label110 equal :check_radar.0:enemy_found null
+  158 control enabled projector1 true
+  159 control enabled projector2 true
+  160 control config .ULD_IN_1 .FUEL_OFF
+  161 control config .ULD_OUT_1 .FUEL
+  162 control config .ULD_IN_2 .FUEL_OFF
+  163 control config .ULD_OUT_2 .FUEL
+  164 control config .ULD_IN_MANY .FUEL_OFF
+  165 control config .ULD_OUT_MANY .FUEL
+  166 control config .ULD_MIXER .FUEL_OFF
+  167 control enabled reactor1 false
+  168 control enabled reactor2 false
+  169 control enabled reactor3 false
+  170 control enabled reactor4 false
+  171 control enabled reactor5 false
+  172 set :check_radar.0*retval true
+  173 jump *label112 always
+  174 jump *label111 always
+  175 label *label110
+  176 control enabled projector1 false
+  177 control enabled projector2 false
+  178 set :check_radar.0*retval false
+  179 jump *label112 always
+  180 label *label111
+  181 label *label112
   182 op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
   183 set :start_reactor.0:reactor reactor3
   184 set :start_reactor.0:emerg_shutdown :emerg_shutdown
 
   575 label *label45
   576 return :start_reactor.0*retaddr
   577 end
-    * label *label4
-    * radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
-    * jump *label79 equal :check_radar.0:enemy_found null
-    * control enabled projector1 true
-    * control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
-    * control enabled reactor1 false
-    * control enabled reactor2 false
-    * control enabled reactor3 false
-    * control enabled reactor4 false
-    * control enabled reactor5 false
-    * set :check_radar.0*retval true
-    * jump *label78 always
-    * jump *label80 always
-    * label *label79
-    * control enabled projector1 false
-    * control enabled projector2 false
-    * set :check_radar.0*retval false
-    * jump *label78 always
-    * label *label80
-    * label *label78
-    * return :check_radar.0*retaddr
-    * end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    48 set .NODE node1
    49 set :check_radar.0:unit cyclone1
    50 label *label105
-    * radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
+   51 radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
    52 jump *label106 equal :check_radar.0:enemy_found null
    53 control enabled projector1 true
    54 control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
+   55 control config unloader1 @scrap
+   56 control config unloader2 @blast-compound
+   57 control config unloader3 @scrap
+   58 control config unloader4 @blast-compound
+   59 control config unloader5 @scrap
+   60 control config unloader6 @blast-compound
+   61 control config unloader7 @scrap
    62 control enabled reactor1 false
    63 control enabled reactor2 false
    64 control enabled reactor3 false
 
   153 label *label98
   154 set :check_radar.0:unit cyclone1
   155 label *label109
-    * radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
+  156 radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
   157 jump *label110 equal :check_radar.0:enemy_found null
   158 control enabled projector1 true
   159 control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
+  160 control config unloader1 @scrap
+  161 control config unloader2 @blast-compound
+  162 control config unloader3 @scrap
+  163 control config unloader4 @blast-compound
+  164 control config unloader5 @scrap
+  165 control config unloader6 @blast-compound
+  166 control config unloader7 @scrap
   167 control enabled reactor1 false
   168 control enabled reactor2 false
   169 control enabled reactor3 false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-11 instructions):
     0 printflush message1
-    * set .FUEL @blast-compound
-    * set .FUEL_OFF @scrap
     1 set .PWR_REQ 23000
     2 set .FLOW_REQ 2000
     3 set .PWR_ABANDON 2000
 
    35 set .AVG_SURPLUS 500
    36 set :start_reactor.0:reactor_num 5
    37 label *label7
-    * set .ULD_IN_1 unloader1
-    * set .ULD_OUT_1 unloader2
-    * set .ULD_IN_2 unloader3
-    * set .ULD_OUT_2 unloader4
-    * set .ULD_IN_MANY unloader5
-    * set .ULD_OUT_MANY unloader6
-    * set .ULD_MIXER unloader7
    38 set .CONTAINER vault1
    39 set .NODE node1
-    * set :check_radar.0:unit cyclone1
    40 label *label105
    41 radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
    42 jump *label106 equal :check_radar.0:enemy_found null
 
   141 control config unloader4 @scrap
   142 label *label97
   143 label *label98
-    * set :check_radar.0:unit cyclone1
   144 label *label109
   145 radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
   146 jump *label110 equal :check_radar.0:enemy_found null

Modifications by Inline function 'calc_charge_req' defined at line 126:1 (+56 instructions):
 
    81 op or :emerg_shutdown :check_radar.0*retval *tmp8
    82 set :calc_charge_req.0:reactor reactor1
    83 set :calc_charge_req.0:time :t_startup1
-    * call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
+   84 label *label113
+   85 op sub *tmp102 @tick :calc_charge_req.0:time
+   86 op idiv :calc_charge_req.0:secs *tmp102 60
+   87 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+   88 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+   89 op equal *tmp106 *tmp105 false
+   90 op or *tmp107 *tmp104 *tmp106
+   91 jump *label114 equal *tmp107 false
+   92 set :calc_charge_req.0*retval 0
+   93 jump *label116 always
+   94 label *label114
+   95 label *label115
+   96 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+   97 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+   98 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+   99 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  100 jump *label116 always
+  101 label *label116
   102 set .START_POWER_REQ :calc_charge_req.0*retval
   103 set :calc_charge_req.0:reactor reactor2
   104 set :calc_charge_req.0:time :t_startup2
-    * call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
+  105 label *label117
+  106 op sub *tmp102 @tick :calc_charge_req.0:time
+  107 op idiv :calc_charge_req.0:secs *tmp102 60
+  108 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  109 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  110 op equal *tmp106 *tmp105 false
+  111 op or *tmp107 *tmp104 *tmp106
+  112 jump *label118 equal *tmp107 false
+  113 set :calc_charge_req.0*retval 0
+  114 jump *label120 always
+  115 label *label118
+  116 label *label119
+  117 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  118 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  119 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  120 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  121 jump *label120 always
+  122 label *label120
   123 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   124 set :calc_charge_req.0:reactor reactor3
   125 set :calc_charge_req.0:time :t_startup3
-    * call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
+  126 label *label121
+  127 op sub *tmp102 @tick :calc_charge_req.0:time
+  128 op idiv :calc_charge_req.0:secs *tmp102 60
+  129 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  130 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  131 op equal *tmp106 *tmp105 false
+  132 op or *tmp107 *tmp104 *tmp106
+  133 jump *label122 equal *tmp107 false
+  134 set :calc_charge_req.0*retval 0
+  135 jump *label124 always
+  136 label *label122
+  137 label *label123
+  138 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  139 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  140 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  141 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  142 jump *label124 always
+  143 label *label124
   144 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   145 set :calc_charge_req.0:reactor reactor4
   146 set :calc_charge_req.0:time :t_startup4
-    * call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
+  147 label *label125
+  148 op sub *tmp102 @tick :calc_charge_req.0:time
+  149 op idiv :calc_charge_req.0:secs *tmp102 60
+  150 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  151 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  152 op equal *tmp106 *tmp105 false
+  153 op or *tmp107 *tmp104 *tmp106
+  154 jump *label126 equal *tmp107 false
+  155 set :calc_charge_req.0*retval 0
+  156 jump *label128 always
+  157 label *label126
+  158 label *label127
+  159 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  160 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  161 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  162 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  163 jump *label128 always
+  164 label *label128
   165 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   166 set :calc_charge_req.0:reactor reactor5
   167 set :calc_charge_req.0:time :t_startup5
-    * call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
+  168 label *label129
+  169 op sub *tmp102 @tick :calc_charge_req.0:time
+  170 op idiv :calc_charge_req.0:secs *tmp102 60
+  171 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  172 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  173 op equal *tmp106 *tmp105 false
+  174 op or *tmp107 *tmp104 *tmp106
+  175 jump *label130 equal *tmp107 false
+  176 set :calc_charge_req.0*retval 0
+  177 jump *label132 always
+  178 label *label130
+  179 label *label131
+  180 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  181 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  182 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  183 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  184 jump *label132 always
+  185 label *label132
   186 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   187 set :start_reactor.0:reactor reactor1
   188 set :start_reactor.0:emerg_shutdown :emerg_shutdown
 
   445 jump *label7 always
   446 label *label9
   447 end
-    * label *label2
-    * op sub *tmp102 @tick :calc_charge_req.0:time
-    * op idiv :calc_charge_req.0:secs *tmp102 60
-    * op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
-    * op equal *tmp106 *tmp105 false
-    * op or *tmp107 *tmp104 *tmp106
-    * jump *label43 equal *tmp107 false
-    * set :calc_charge_req.0*retval 0
-    * jump *label42 always
-    * label *label43
-    * label *label44
-    * op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
-    * op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
-    * op idiv :calc_charge_req.0:charge_req *tmp110 0.04
-    * set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
-    * jump *label42 always
-    * label *label42
-    * return :calc_charge_req.0*retaddr
-    * end
   448 label *label3
   449 set .RET_T_STARTUP :start_reactor.0:t_startup
   450 op sub *tmp113 @tick :start_reactor.0:t_startup
 
   506 jump *label58 greaterThanEq :start_reactor.0:secs 30
   507 set :calc_charge_req.0:reactor :start_reactor.0:reactor
   508 set :calc_charge_req.0:time :start_reactor.0:t_startup
-    * call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
+  509 label *label133
+  510 op sub *tmp102 @tick :calc_charge_req.0:time
+  511 op idiv :calc_charge_req.0:secs *tmp102 60
+  512 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  513 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  514 op equal *tmp106 *tmp105 false
+  515 op or *tmp107 *tmp104 *tmp106
+  516 jump *label134 equal *tmp107 false
+  517 set :calc_charge_req.0*retval 0
+  518 jump *label136 always
+  519 label *label134
+  520 label *label135
+  521 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  522 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  523 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  524 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  525 jump *label136 always
+  526 label *label136
   527 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
   528 op lessThan *tmp154 *tmp153 .PWR_ABORT
   529 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    82 set :calc_charge_req.0:reactor reactor1
    83 set :calc_charge_req.0:time :t_startup1
    84 label *label113
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+   85 op sub *tmp102 @tick :t_startup1
    86 op idiv :calc_charge_req.0:secs *tmp102 60
    87 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+   88 sensor *tmp105 reactor1 @enabled
    89 op equal *tmp106 *tmp105 false
    90 op or *tmp107 *tmp104 *tmp106
    91 jump *label114 equal *tmp107 false
 
   103 set :calc_charge_req.0:reactor reactor2
   104 set :calc_charge_req.0:time :t_startup2
   105 label *label117
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+  106 op sub *tmp102 @tick :t_startup2
   107 op idiv :calc_charge_req.0:secs *tmp102 60
   108 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  109 sensor *tmp105 reactor2 @enabled
   110 op equal *tmp106 *tmp105 false
   111 op or *tmp107 *tmp104 *tmp106
   112 jump *label118 equal *tmp107 false
 
   124 set :calc_charge_req.0:reactor reactor3
   125 set :calc_charge_req.0:time :t_startup3
   126 label *label121
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+  127 op sub *tmp102 @tick :t_startup3
   128 op idiv :calc_charge_req.0:secs *tmp102 60
   129 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  130 sensor *tmp105 reactor3 @enabled
   131 op equal *tmp106 *tmp105 false
   132 op or *tmp107 *tmp104 *tmp106
   133 jump *label122 equal *tmp107 false
 
   145 set :calc_charge_req.0:reactor reactor4
   146 set :calc_charge_req.0:time :t_startup4
   147 label *label125
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+  148 op sub *tmp102 @tick :t_startup4
   149 op idiv :calc_charge_req.0:secs *tmp102 60
   150 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  151 sensor *tmp105 reactor4 @enabled
   152 op equal *tmp106 *tmp105 false
   153 op or *tmp107 *tmp104 *tmp106
   154 jump *label126 equal *tmp107 false
 
   166 set :calc_charge_req.0:reactor reactor5
   167 set :calc_charge_req.0:time :t_startup5
   168 label *label129
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+  169 op sub *tmp102 @tick :t_startup5
   170 op idiv :calc_charge_req.0:secs *tmp102 60
   171 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  172 sensor *tmp105 reactor5 @enabled
   173 op equal *tmp106 *tmp105 false
   174 op or *tmp107 *tmp104 *tmp106
   175 jump *label130 equal *tmp107 false
 
   507 set :calc_charge_req.0:reactor :start_reactor.0:reactor
   508 set :calc_charge_req.0:time :start_reactor.0:t_startup
   509 label *label133
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+  510 op sub *tmp102 @tick :start_reactor.0:t_startup
   511 op idiv :calc_charge_req.0:secs *tmp102 60
   512 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  513 sensor *tmp105 :start_reactor.0:reactor @enabled
   514 op equal *tmp106 *tmp105 false
   515 op or *tmp107 *tmp104 *tmp106
   516 jump *label134 equal *tmp107 false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-12 instructions):
 
    79 jump *label10 always
    80 label *label10
    81 op or :emerg_shutdown :check_radar.0*retval *tmp8
-    * set :calc_charge_req.0:reactor reactor1
-    * set :calc_charge_req.0:time :t_startup1
    82 label *label113
    83 op sub *tmp102 @tick :t_startup1
    84 op idiv :calc_charge_req.0:secs *tmp102 60
 
    98 jump *label116 always
    99 label *label116
   100 set .START_POWER_REQ :calc_charge_req.0*retval
-    * set :calc_charge_req.0:reactor reactor2
-    * set :calc_charge_req.0:time :t_startup2
   101 label *label117
   102 op sub *tmp102 @tick :t_startup2
   103 op idiv :calc_charge_req.0:secs *tmp102 60
 
   117 jump *label120 always
   118 label *label120
   119 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * set :calc_charge_req.0:reactor reactor3
-    * set :calc_charge_req.0:time :t_startup3
   120 label *label121
   121 op sub *tmp102 @tick :t_startup3
   122 op idiv :calc_charge_req.0:secs *tmp102 60
 
   136 jump *label124 always
   137 label *label124
   138 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * set :calc_charge_req.0:reactor reactor4
-    * set :calc_charge_req.0:time :t_startup4
   139 label *label125
   140 op sub *tmp102 @tick :t_startup4
   141 op idiv :calc_charge_req.0:secs *tmp102 60
 
   155 jump *label128 always
   156 label *label128
   157 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * set :calc_charge_req.0:reactor reactor5
-    * set :calc_charge_req.0:time :t_startup5
   158 label *label129
   159 op sub *tmp102 @tick :t_startup5
   160 op idiv :calc_charge_req.0:secs *tmp102 60
 
   494 jump *label57 always
   495 label *label56
   496 jump *label58 greaterThanEq :start_reactor.0:secs 30
-    * set :calc_charge_req.0:reactor :start_reactor.0:reactor
-    * set :calc_charge_req.0:time :start_reactor.0:t_startup
   497 label *label133
   498 op sub *tmp102 @tick :start_reactor.0:t_startup
   499 op idiv :calc_charge_req.0:secs *tmp102 60

Modifications by Inline function call at line 80:14 (+157 instructions):
 
   178 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   179 set :start_reactor.0:fuel_on :fuel_1
   180 set :start_reactor.0:t_startup :t_startup1
-    * call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
+  181 label *label137
+  182 set .RET_T_STARTUP :start_reactor.0:t_startup
+  183 op sub *tmp113 @tick :start_reactor.0:t_startup
+  184 op idiv :start_reactor.0:secs *tmp113 60
+  185 sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
+  186 set :start_reactor.0:supply_fuel true
+  187 sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
+  188 sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
+  189 sensor *tmp118 .NODE @powerNetStored
+  190 op floor :start_reactor.0:charge *tmp118
+  191 sensor *tmp120 .NODE @powerNetIn
+  192 sensor *tmp121 .NODE @powerNetOut
+  193 op sub *tmp122 *tmp120 *tmp121
+  194 op floor :start_reactor.0:surplus *tmp122
+  195 op mul *tmp124 .AVG_SURPLUS 0.8
+  196 op mul *tmp125 :start_reactor.0:surplus 0.2
+  197 op add .AVG_SURPLUS *tmp124 *tmp125
+  198 sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
+  199 print "#"
+  200 print :start_reactor.0:reactor_num
+  201 print " "
+  202 print "- "
+  203 jump *label138 equal :start_reactor.0:emerg_shutdown false
+  204 control enabled :start_reactor.0:reactor false
+  205 print "emergency mode"
+  206 print "\n"
+  207 set :start_reactor.0:supply_fuel false
+  208 jump *label171 always
+  209 label *label138
+  210 jump *label157 equal :start_reactor.0:enabled false
+  211 jump *label139 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  212 control enabled :start_reactor.0:reactor false
+  213 print "STOP unwanted"
+  214 print "\n"
+  215 jump *label156 always
+  216 label *label139
+  217 op greaterThan *tmp136 :start_reactor.0:reactor_num 1
+  218 op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
+  219 op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
+  220 op land *tmp139 *tmp136 *tmp138
+  221 jump *label140 equal *tmp139 false
+  222 control enabled :start_reactor.0:reactor false
+  223 print "STOP system fuel low"
+  224 print "\n"
+  225 jump *label155 always
+  226 label *label140
+  227 jump *label141 greaterThan :start_reactor.0:fuel 1
+  228 control enabled :start_reactor.0:reactor false
+  229 print "STOP fuel low"
+  230 print "\n"
+  231 jump *label154 always
+  232 label *label141
+  233 jump *label142 greaterThan :start_reactor.0:cryo .CRYO_ABORT
+  234 control enabled :start_reactor.0:reactor false
+  235 print "STOP out of cryo"
+  236 print "\n"
+  237 jump *label153 always
+  238 label *label142
+  239 jump *label149 greaterThanEq :start_reactor.0:secs 30
+  240 label *label143
+  241 op sub *tmp102 @tick :start_reactor.0:t_startup
+  242 op idiv :calc_charge_req.0:secs *tmp102 60
+  243 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  244 sensor *tmp105 :start_reactor.0:reactor @enabled
+  245 op equal *tmp106 *tmp105 false
+  246 op or *tmp107 *tmp104 *tmp106
+  247 jump *label144 equal *tmp107 false
+  248 set :calc_charge_req.0*retval 0
+  249 jump *label146 always
+  250 label *label144
+  251 label *label145
+  252 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  253 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  254 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  255 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  256 jump *label146 always
+  257 label *label146
+  258 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
+  259 op lessThan *tmp154 *tmp153 .PWR_ABORT
+  260 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
+  261 op land *tmp156 *tmp154 *tmp155
+  262 jump *label147 equal *tmp156 false
+  263 control enabled :start_reactor.0:reactor false
+  264 print "START FAIL battery"
+  265 print "\n"
+  266 set :start_reactor.0:supply_fuel false
+  267 jump *label148 always
+  268 label *label147
+  269 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
+  270 print "Starting "
+  271 print :start_reactor.0:time_left
+  272 print " "
+  273 print "secs, req "
+  274 print :calc_charge_req.0*retval
+  275 print "J"
+  276 print "\n"
+  277 label *label148
+  278 jump *label152 always
+  279 label *label149
+  280 op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
+  281 op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
+  282 op land *tmp163 *tmp161 *tmp162
+  283 jump *label150 equal *tmp163 false
+  284 control enabled :start_reactor.0:reactor false
+  285 print "ABANDON - battery crit"
+  286 print "\n"
+  287 set :start_reactor.0:supply_fuel false
+  288 jump *label151 always
+  289 label *label150
+  290 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
+  291 op div :start_reactor.0:mins :start_reactor.0:mins 10
+  292 print "RUN "
+  293 print :start_reactor.0:mins
+  294 print " "
+  295 print "mins"
+  296 print "\n"
+  297 label *label151
+  298 label *label152
+  299 label *label153
+  300 label *label154
+  301 label *label155
+  302 label *label156
+  303 jump *label170 always
+  304 label *label157
+  305 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
+  306 op sub *tmp170 *tmp169 .PWR_ABORT
+  307 op div *tmp171 *tmp170 .PWR_REQ
+  308 op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
+  309 op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
+  310 op max :start_reactor.0:flow_units -0.1 *tmp173
+  311 op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
+  312 op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
+  313 jump *label158 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  314 print "IDLE"
+  315 print "\n"
+  316 set :start_reactor.0:supply_fuel false
+  317 jump *label169 always
+  318 label *label158
+  319 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
+  320 jump *label159 greaterThanEq *tmp179 1
+  321 op idiv *tmp183 :start_reactor.0:flow_units 0.001
+  322 op div :start_reactor.0:flow *tmp183 10
+  323 op idiv *tmp186 :start_reactor.0:charge_units 0.001
+  324 op div :start_reactor.0:charge *tmp186 10
+  325 print "WAIT power. (%"
+  326 print :start_reactor.0:charge
+  327 print "J + %"
+  328 print :start_reactor.0:flow
+  329 print "W)"
+  330 print "\n"
+  331 set :start_reactor.0:supply_fuel false
+  332 jump *label168 always
+  333 label *label159
+  334 op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
+  335 op land *tmp189 :start_reactor.0:fuel_on *tmp188
+  336 jump *label162 equal *tmp189 false
+  337 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
+  338 jump *label160 lessThanEq *tmp191 .FUEL_REQ
+  339 print "WAIT fuel"
+  340 print "\n"
+  341 jump *label161 always
+  342 label *label160
+  343 print "WAIT system fuel"
+  344 print "\n"
+  345 label *label161
+  346 jump *label167 always
+  347 label *label162
+  348 op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
+  349 jump *label163 greaterThanEq :start_reactor.0:fuel_stored *tmp194
+  350 print "WAIT buffer fuel"
+  351 print "\n"
+  352 jump *label166 always
+  353 label *label163
+  354 jump *label164 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
+  355 print "WAIT cryo"
+  356 print "\n"
+  357 jump *label165 always
+  358 label *label164
+  359 print "STARTUP"
+  360 print "\n"
+  361 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  362 control enabled :start_reactor.0:reactor true
+  363 label *label165
+  364 label *label166
+  365 label *label167
+  366 label *label168
+  367 label *label169
+  368 label *label170
+  369 label *label171
+  370 sensor *tmp201 :start_reactor.0:reactor @enabled
+  371 jump *label172 equal :start_reactor.0:enabled *tmp201
+  372 set .RET_T_STARTUP @tick
+  373 label *label172
+  374 label *label173
+  375 set :start_reactor.0*retval :start_reactor.0:supply_fuel
+  376 jump *label174 always
+  377 label *label174
   378 set :fuel_1 :start_reactor.0*retval
   379 set :t_startup1 .RET_T_STARTUP
   380 label *label87

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-1 instructions):
 
    30 set :t_startup3 *tmp5
    31 set :t_startup4 *tmp5
    32 set :t_startup5 *tmp5
-    * set .RET_T_STARTUP *tmp5
    33 set .REACTORS_DESIRED 5
    34 set .AVG_SURPLUS 500
    35 set :start_reactor.0:reactor_num 5
 
   178 set :start_reactor.0:fuel_on :fuel_1
   179 set :start_reactor.0:t_startup :t_startup1
   180 label *label137
-    * set .RET_T_STARTUP :start_reactor.0:t_startup
-    * op sub *tmp113 @tick :start_reactor.0:t_startup
+  181 set .RET_T_STARTUP :t_startup1
+  182 op sub *tmp113 @tick :t_startup1
   183 op idiv :start_reactor.0:secs *tmp113 60
-    * sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
+  184 sensor :start_reactor.0:fuel reactor1 @blast-compound
   185 set :start_reactor.0:supply_fuel true
-    * sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
-    * sensor *tmp118 .NODE @powerNetStored
+  186 sensor :start_reactor.0:fuel_stored vault1 @blast-compound
+  187 sensor :start_reactor.0:cryo reactor1 @cryofluid
+  188 sensor *tmp118 node1 @powerNetStored
   189 op floor :start_reactor.0:charge *tmp118
-    * sensor *tmp120 .NODE @powerNetIn
-    * sensor *tmp121 .NODE @powerNetOut
+  190 sensor *tmp120 node1 @powerNetIn
+  191 sensor *tmp121 node1 @powerNetOut
   192 op sub *tmp122 *tmp120 *tmp121
   193 op floor :start_reactor.0:surplus *tmp122
   194 op mul *tmp124 .AVG_SURPLUS 0.8
   195 op mul *tmp125 :start_reactor.0:surplus 0.2
   196 op add .AVG_SURPLUS *tmp124 *tmp125
-    * sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
+  197 sensor :start_reactor.0:enabled reactor1 @enabled
   198 print "#"
-    * print :start_reactor.0:reactor_num
+  199 print 5
   200 print " "
   201 print "- "
-    * jump *label138 equal :start_reactor.0:emerg_shutdown false
-    * control enabled :start_reactor.0:reactor false
+  202 jump *label138 equal :emerg_shutdown false
+  203 control enabled reactor1 false
   204 print "emergency mode"
   205 print "\n"
   206 set :start_reactor.0:supply_fuel false
   207 jump *label171 always
   208 label *label138
   209 jump *label157 equal :start_reactor.0:enabled false
-    * jump *label139 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * control enabled :start_reactor.0:reactor false
+  210 jump *label139 greaterThanEq .REACTORS_DESIRED 5
+  211 control enabled reactor1 false
   212 print "STOP unwanted"
   213 print "\n"
   214 jump *label156 always
   215 label *label139
-    * op greaterThan *tmp136 :start_reactor.0:reactor_num 1
-    * op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
-    * op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
-    * op land *tmp139 *tmp136 *tmp138
+  216 op greaterThan *tmp136 5 1
+  217 op mul *tmp137 15 5
+  218 op lessThan *tmp138 :start_reactor.0:fuel_stored 75
+  219 op land *tmp139 true *tmp138
   220 jump *label140 equal *tmp139 false
-    * control enabled :start_reactor.0:reactor false
+  221 control enabled reactor1 false
   222 print "STOP system fuel low"
   223 print "\n"
   224 jump *label155 always
   225 label *label140
   226 jump *label141 greaterThan :start_reactor.0:fuel 1
-    * control enabled :start_reactor.0:reactor false
+  227 control enabled reactor1 false
   228 print "STOP fuel low"
   229 print "\n"
   230 jump *label154 always
   231 label *label141
-    * jump *label142 greaterThan :start_reactor.0:cryo .CRYO_ABORT
-    * control enabled :start_reactor.0:reactor false
+  232 jump *label142 greaterThan :start_reactor.0:cryo 1
+  233 control enabled reactor1 false
   234 print "STOP out of cryo"
   235 print "\n"
   236 jump *label153 always
   237 label *label142
   238 jump *label149 greaterThanEq :start_reactor.0:secs 30
   239 label *label143
-    * op sub *tmp102 @tick :start_reactor.0:t_startup
+  240 op sub *tmp102 @tick :t_startup1
   241 op idiv :calc_charge_req.0:secs *tmp102 60
   242 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :start_reactor.0:reactor @enabled
+  243 sensor *tmp105 reactor1 @enabled
   244 op equal *tmp106 *tmp105 false
   245 op or *tmp107 *tmp104 *tmp106
   246 jump *label144 equal *tmp107 false
 
   255 jump *label146 always
   256 label *label146
   257 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
-    * op lessThan *tmp154 *tmp153 .PWR_ABORT
-    * op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
+  258 op lessThan *tmp154 *tmp153 5000
+  259 op lessThan *tmp155 :start_reactor.0:surplus -500
   260 op land *tmp156 *tmp154 *tmp155
   261 jump *label147 equal *tmp156 false
-    * control enabled :start_reactor.0:reactor false
+  262 control enabled reactor1 false
   263 print "START FAIL battery"
   264 print "\n"
   265 set :start_reactor.0:supply_fuel false
 
   276 label *label148
   277 jump *label152 always
   278 label *label149
-    * op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
-    * op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
+  279 op lessThan *tmp161 :start_reactor.0:charge 2000
+  280 op lessThan *tmp162 :start_reactor.0:surplus -500
   281 op land *tmp163 *tmp161 *tmp162
   282 jump *label150 equal *tmp163 false
-    * control enabled :start_reactor.0:reactor false
+  283 control enabled reactor1 false
   284 print "ABANDON - battery crit"
   285 print "\n"
   286 set :start_reactor.0:supply_fuel false
 
   302 jump *label170 always
   303 label *label157
   304 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
-    * op sub *tmp170 *tmp169 .PWR_ABORT
-    * op div *tmp171 *tmp170 .PWR_REQ
-    * op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
-    * op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
+  305 op sub *tmp170 *tmp169 5000
+  306 op div *tmp171 *tmp170 23000
+  307 op mul :start_reactor.0:charge_units *tmp171 0.6
+  308 op div *tmp173 :start_reactor.0:surplus 2000
   309 op max :start_reactor.0:flow_units -0.1 *tmp173
-    * op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
-    * op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
-    * jump *label158 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  310 op mul *tmp175 2 5
+  311 op add :start_reactor.0:cryo_req 3 10
+  312 jump *label158 greaterThanEq .REACTORS_DESIRED 5
   313 print "IDLE"
   314 print "\n"
   315 set :start_reactor.0:supply_fuel false
 
   330 set :start_reactor.0:supply_fuel false
   331 jump *label168 always
   332 label *label159
-    * op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
-    * op land *tmp189 :start_reactor.0:fuel_on *tmp188
+  333 op lessThan *tmp188 :start_reactor.0:fuel 10
+  334 op land *tmp189 :fuel_1 *tmp188
   335 jump *label162 equal *tmp189 false
   336 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
-    * jump *label160 lessThanEq *tmp191 .FUEL_REQ
+  337 jump *label160 lessThanEq *tmp191 10
   338 print "WAIT fuel"
   339 print "\n"
   340 jump *label161 always
 
   344 label *label161
   345 jump *label167 always
   346 label *label162
-    * op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
-    * jump *label163 greaterThanEq :start_reactor.0:fuel_stored *tmp194
+  347 op mul *tmp194 45 5
+  348 jump *label163 greaterThanEq :start_reactor.0:fuel_stored 225
   349 print "WAIT buffer fuel"
   350 print "\n"
   351 jump *label166 always
   352 label *label163
-    * jump *label164 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
+  353 jump *label164 greaterThanEq :start_reactor.0:cryo 13
   354 print "WAIT cryo"
   355 print "\n"
   356 jump *label165 always
   357 label *label164
   358 print "STARTUP"
   359 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor.0:reactor true
+  360 op add .START_POWER_REQ .START_POWER_REQ 23000
+  361 control enabled reactor1 true
   362 label *label165
   363 label *label166
   364 label *label167
 
   366 label *label169
   367 label *label170
   368 label *label171
-    * sensor *tmp201 :start_reactor.0:reactor @enabled
+  369 sensor *tmp201 reactor1 @enabled
   370 jump *label172 equal :start_reactor.0:enabled *tmp201
   371 set .RET_T_STARTUP @tick
   372 label *label172
 
   374 set :start_reactor.0*retval :start_reactor.0:supply_fuel
   375 jump *label174 always
   376 label *label174
-    * set :fuel_1 :start_reactor.0*retval
+  377 set :fuel_1 :start_reactor.0:supply_fuel
   378 set :t_startup1 .RET_T_STARTUP
   379 label *label87
-    * jump *label88 equal :start_reactor.0*retval false
+  380 jump *label88 equal :start_reactor.0:supply_fuel false
   381 control config unloader1 @blast-compound
   382 jump *label89 always
   383 label *label88
   384 control config unloader1 @scrap
   385 label *label89
-    * jump *label90 notEqual :start_reactor.0*retval false
+  386 jump *label90 notEqual :start_reactor.0:supply_fuel false
   387 control config unloader2 @blast-compound
   388 jump *label91 always
   389 label *label90

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-5 instructions):
 
   173 jump *label132 always
   174 label *label132
   175 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * set :start_reactor.0:reactor reactor1
-    * set :start_reactor.0:emerg_shutdown :emerg_shutdown
-    * set :start_reactor.0:fuel_on :fuel_1
-    * set :start_reactor.0:t_startup :t_startup1
   176 label *label137
   177 set .RET_T_STARTUP :t_startup1
   178 op sub *tmp113 @tick :t_startup1
 
   300 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
   301 op sub *tmp170 *tmp169 5000
   302 op div *tmp171 *tmp170 23000
-    * op mul :start_reactor.0:charge_units *tmp171 0.6
+  303 op div :start_reactor.0:charge_units *tmp170 38333.333333333336
   304 op div *tmp173 :start_reactor.0:surplus 2000
   305 op max :start_reactor.0:flow_units -0.1 *tmp173
   306 op mul *tmp175 2 5
 
   367 set .RET_T_STARTUP @tick
   368 label *label172
   369 label *label173
-    * set :start_reactor.0*retval :start_reactor.0:supply_fuel
   370 jump *label174 always
   371 label *label174
   372 set :fuel_1 :start_reactor.0:supply_fuel

Modifications by Inline function call at line 84:14 (+157 instructions):
 
   389 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   390 set :start_reactor.0:fuel_on :fuel_2
   391 set :start_reactor.0:t_startup :t_startup2
-    * call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
+  392 label *label175
+  393 set .RET_T_STARTUP :start_reactor.0:t_startup
+  394 op sub *tmp113 @tick :start_reactor.0:t_startup
+  395 op idiv :start_reactor.0:secs *tmp113 60
+  396 sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
+  397 set :start_reactor.0:supply_fuel true
+  398 sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
+  399 sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
+  400 sensor *tmp118 .NODE @powerNetStored
+  401 op floor :start_reactor.0:charge *tmp118
+  402 sensor *tmp120 .NODE @powerNetIn
+  403 sensor *tmp121 .NODE @powerNetOut
+  404 op sub *tmp122 *tmp120 *tmp121
+  405 op floor :start_reactor.0:surplus *tmp122
+  406 op mul *tmp124 .AVG_SURPLUS 0.8
+  407 op mul *tmp125 :start_reactor.0:surplus 0.2
+  408 op add .AVG_SURPLUS *tmp124 *tmp125
+  409 sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
+  410 print "#"
+  411 print :start_reactor.0:reactor_num
+  412 print " "
+  413 print "- "
+  414 jump *label176 equal :start_reactor.0:emerg_shutdown false
+  415 control enabled :start_reactor.0:reactor false
+  416 print "emergency mode"
+  417 print "\n"
+  418 set :start_reactor.0:supply_fuel false
+  419 jump *label209 always
+  420 label *label176
+  421 jump *label195 equal :start_reactor.0:enabled false
+  422 jump *label177 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  423 control enabled :start_reactor.0:reactor false
+  424 print "STOP unwanted"
+  425 print "\n"
+  426 jump *label194 always
+  427 label *label177
+  428 op greaterThan *tmp136 :start_reactor.0:reactor_num 1
+  429 op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
+  430 op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
+  431 op land *tmp139 *tmp136 *tmp138
+  432 jump *label178 equal *tmp139 false
+  433 control enabled :start_reactor.0:reactor false
+  434 print "STOP system fuel low"
+  435 print "\n"
+  436 jump *label193 always
+  437 label *label178
+  438 jump *label179 greaterThan :start_reactor.0:fuel 1
+  439 control enabled :start_reactor.0:reactor false
+  440 print "STOP fuel low"
+  441 print "\n"
+  442 jump *label192 always
+  443 label *label179
+  444 jump *label180 greaterThan :start_reactor.0:cryo .CRYO_ABORT
+  445 control enabled :start_reactor.0:reactor false
+  446 print "STOP out of cryo"
+  447 print "\n"
+  448 jump *label191 always
+  449 label *label180
+  450 jump *label187 greaterThanEq :start_reactor.0:secs 30
+  451 label *label181
+  452 op sub *tmp102 @tick :start_reactor.0:t_startup
+  453 op idiv :calc_charge_req.0:secs *tmp102 60
+  454 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  455 sensor *tmp105 :start_reactor.0:reactor @enabled
+  456 op equal *tmp106 *tmp105 false
+  457 op or *tmp107 *tmp104 *tmp106
+  458 jump *label182 equal *tmp107 false
+  459 set :calc_charge_req.0*retval 0
+  460 jump *label184 always
+  461 label *label182
+  462 label *label183
+  463 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  464 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  465 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  466 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  467 jump *label184 always
+  468 label *label184
+  469 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
+  470 op lessThan *tmp154 *tmp153 .PWR_ABORT
+  471 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
+  472 op land *tmp156 *tmp154 *tmp155
+  473 jump *label185 equal *tmp156 false
+  474 control enabled :start_reactor.0:reactor false
+  475 print "START FAIL battery"
+  476 print "\n"
+  477 set :start_reactor.0:supply_fuel false
+  478 jump *label186 always
+  479 label *label185
+  480 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
+  481 print "Starting "
+  482 print :start_reactor.0:time_left
+  483 print " "
+  484 print "secs, req "
+  485 print :calc_charge_req.0*retval
+  486 print "J"
+  487 print "\n"
+  488 label *label186
+  489 jump *label190 always
+  490 label *label187
+  491 op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
+  492 op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
+  493 op land *tmp163 *tmp161 *tmp162
+  494 jump *label188 equal *tmp163 false
+  495 control enabled :start_reactor.0:reactor false
+  496 print "ABANDON - battery crit"
+  497 print "\n"
+  498 set :start_reactor.0:supply_fuel false
+  499 jump *label189 always
+  500 label *label188
+  501 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
+  502 op div :start_reactor.0:mins :start_reactor.0:mins 10
+  503 print "RUN "
+  504 print :start_reactor.0:mins
+  505 print " "
+  506 print "mins"
+  507 print "\n"
+  508 label *label189
+  509 label *label190
+  510 label *label191
+  511 label *label192
+  512 label *label193
+  513 label *label194
+  514 jump *label208 always
+  515 label *label195
+  516 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
+  517 op sub *tmp170 *tmp169 .PWR_ABORT
+  518 op div *tmp171 *tmp170 .PWR_REQ
+  519 op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
+  520 op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
+  521 op max :start_reactor.0:flow_units -0.1 *tmp173
+  522 op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
+  523 op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
+  524 jump *label196 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  525 print "IDLE"
+  526 print "\n"
+  527 set :start_reactor.0:supply_fuel false
+  528 jump *label207 always
+  529 label *label196
+  530 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
+  531 jump *label197 greaterThanEq *tmp179 1
+  532 op idiv *tmp183 :start_reactor.0:flow_units 0.001
+  533 op div :start_reactor.0:flow *tmp183 10
+  534 op idiv *tmp186 :start_reactor.0:charge_units 0.001
+  535 op div :start_reactor.0:charge *tmp186 10
+  536 print "WAIT power. (%"
+  537 print :start_reactor.0:charge
+  538 print "J + %"
+  539 print :start_reactor.0:flow
+  540 print "W)"
+  541 print "\n"
+  542 set :start_reactor.0:supply_fuel false
+  543 jump *label206 always
+  544 label *label197
+  545 op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
+  546 op land *tmp189 :start_reactor.0:fuel_on *tmp188
+  547 jump *label200 equal *tmp189 false
+  548 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
+  549 jump *label198 lessThanEq *tmp191 .FUEL_REQ
+  550 print "WAIT fuel"
+  551 print "\n"
+  552 jump *label199 always
+  553 label *label198
+  554 print "WAIT system fuel"
+  555 print "\n"
+  556 label *label199
+  557 jump *label205 always
+  558 label *label200
+  559 op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
+  560 jump *label201 greaterThanEq :start_reactor.0:fuel_stored *tmp194
+  561 print "WAIT buffer fuel"
+  562 print "\n"
+  563 jump *label204 always
+  564 label *label201
+  565 jump *label202 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
+  566 print "WAIT cryo"
+  567 print "\n"
+  568 jump *label203 always
+  569 label *label202
+  570 print "STARTUP"
+  571 print "\n"
+  572 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  573 control enabled :start_reactor.0:reactor true
+  574 label *label203
+  575 label *label204
+  576 label *label205
+  577 label *label206
+  578 label *label207
+  579 label *label208
+  580 label *label209
+  581 sensor *tmp201 :start_reactor.0:reactor @enabled
+  582 jump *label210 equal :start_reactor.0:enabled *tmp201
+  583 set .RET_T_STARTUP @tick
+  584 label *label210
+  585 label *label211
+  586 set :start_reactor.0*retval :start_reactor.0:supply_fuel
+  587 jump *label212 always
+  588 label *label212
   589 set :fuel_2 :start_reactor.0*retval
   590 set :t_startup2 .RET_T_STARTUP
   591 label *label93

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   390 set :start_reactor.0:fuel_on :fuel_2
   391 set :start_reactor.0:t_startup :t_startup2
   392 label *label175
-    * set .RET_T_STARTUP :start_reactor.0:t_startup
-    * op sub *tmp113 @tick :start_reactor.0:t_startup
+  393 set .RET_T_STARTUP :t_startup2
+  394 op sub *tmp113 @tick :t_startup2
   395 op idiv :start_reactor.0:secs *tmp113 60
-    * sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
+  396 sensor :start_reactor.0:fuel reactor2 @blast-compound
   397 set :start_reactor.0:supply_fuel true
-    * sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
-    * sensor *tmp118 .NODE @powerNetStored
+  398 sensor :start_reactor.0:fuel_stored vault1 @blast-compound
+  399 sensor :start_reactor.0:cryo reactor2 @cryofluid
+  400 sensor *tmp118 node1 @powerNetStored
   401 op floor :start_reactor.0:charge *tmp118
-    * sensor *tmp120 .NODE @powerNetIn
-    * sensor *tmp121 .NODE @powerNetOut
+  402 sensor *tmp120 node1 @powerNetIn
+  403 sensor *tmp121 node1 @powerNetOut
   404 op sub *tmp122 *tmp120 *tmp121
   405 op floor :start_reactor.0:surplus *tmp122
   406 op mul *tmp124 .AVG_SURPLUS 0.8
   407 op mul *tmp125 :start_reactor.0:surplus 0.2
   408 op add .AVG_SURPLUS *tmp124 *tmp125
-    * sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
+  409 sensor :start_reactor.0:enabled reactor2 @enabled
   410 print "#"
-    * print :start_reactor.0:reactor_num
+  411 print 5
   412 print " "
   413 print "- "
-    * jump *label176 equal :start_reactor.0:emerg_shutdown false
-    * control enabled :start_reactor.0:reactor false
+  414 jump *label176 equal :emerg_shutdown false
+  415 control enabled reactor2 false
   416 print "emergency mode"
   417 print "\n"
   418 set :start_reactor.0:supply_fuel false
   419 jump *label209 always
   420 label *label176
   421 jump *label195 equal :start_reactor.0:enabled false
-    * jump *label177 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * control enabled :start_reactor.0:reactor false
+  422 jump *label177 greaterThanEq .REACTORS_DESIRED 5
+  423 control enabled reactor2 false
   424 print "STOP unwanted"
   425 print "\n"
   426 jump *label194 always
   427 label *label177
-    * op greaterThan *tmp136 :start_reactor.0:reactor_num 1
-    * op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
-    * op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
-    * op land *tmp139 *tmp136 *tmp138
+  428 op greaterThan *tmp136 5 1
+  429 op mul *tmp137 15 5
+  430 op lessThan *tmp138 :start_reactor.0:fuel_stored 75
+  431 op land *tmp139 true *tmp138
   432 jump *label178 equal *tmp139 false
-    * control enabled :start_reactor.0:reactor false
+  433 control enabled reactor2 false
   434 print "STOP system fuel low"
   435 print "\n"
   436 jump *label193 always
   437 label *label178
   438 jump *label179 greaterThan :start_reactor.0:fuel 1
-    * control enabled :start_reactor.0:reactor false
+  439 control enabled reactor2 false
   440 print "STOP fuel low"
   441 print "\n"
   442 jump *label192 always
   443 label *label179
-    * jump *label180 greaterThan :start_reactor.0:cryo .CRYO_ABORT
-    * control enabled :start_reactor.0:reactor false
+  444 jump *label180 greaterThan :start_reactor.0:cryo 1
+  445 control enabled reactor2 false
   446 print "STOP out of cryo"
   447 print "\n"
   448 jump *label191 always
   449 label *label180
   450 jump *label187 greaterThanEq :start_reactor.0:secs 30
   451 label *label181
-    * op sub *tmp102 @tick :start_reactor.0:t_startup
+  452 op sub *tmp102 @tick :t_startup2
   453 op idiv :calc_charge_req.0:secs *tmp102 60
   454 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :start_reactor.0:reactor @enabled
+  455 sensor *tmp105 reactor2 @enabled
   456 op equal *tmp106 *tmp105 false
   457 op or *tmp107 *tmp104 *tmp106
   458 jump *label182 equal *tmp107 false
 
   467 jump *label184 always
   468 label *label184
   469 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
-    * op lessThan *tmp154 *tmp153 .PWR_ABORT
-    * op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
+  470 op lessThan *tmp154 *tmp153 5000
+  471 op lessThan *tmp155 :start_reactor.0:surplus -500
   472 op land *tmp156 *tmp154 *tmp155
   473 jump *label185 equal *tmp156 false
-    * control enabled :start_reactor.0:reactor false
+  474 control enabled reactor2 false
   475 print "START FAIL battery"
   476 print "\n"
   477 set :start_reactor.0:supply_fuel false
 
   488 label *label186
   489 jump *label190 always
   490 label *label187
-    * op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
-    * op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
+  491 op lessThan *tmp161 :start_reactor.0:charge 2000
+  492 op lessThan *tmp162 :start_reactor.0:surplus -500
   493 op land *tmp163 *tmp161 *tmp162
   494 jump *label188 equal *tmp163 false
-    * control enabled :start_reactor.0:reactor false
+  495 control enabled reactor2 false
   496 print "ABANDON - battery crit"
   497 print "\n"
   498 set :start_reactor.0:supply_fuel false
 
   514 jump *label208 always
   515 label *label195
   516 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
-    * op sub *tmp170 *tmp169 .PWR_ABORT
-    * op div *tmp171 *tmp170 .PWR_REQ
-    * op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
-    * op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
+  517 op sub *tmp170 *tmp169 5000
+  518 op div *tmp171 *tmp170 23000
+  519 op mul :start_reactor.0:charge_units *tmp171 0.6
+  520 op div *tmp173 :start_reactor.0:surplus 2000
   521 op max :start_reactor.0:flow_units -0.1 *tmp173
-    * op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
-    * op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
-    * jump *label196 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  522 op mul *tmp175 2 5
+  523 op add :start_reactor.0:cryo_req 3 10
+  524 jump *label196 greaterThanEq .REACTORS_DESIRED 5
   525 print "IDLE"
   526 print "\n"
   527 set :start_reactor.0:supply_fuel false
 
   542 set :start_reactor.0:supply_fuel false
   543 jump *label206 always
   544 label *label197
-    * op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
-    * op land *tmp189 :start_reactor.0:fuel_on *tmp188
+  545 op lessThan *tmp188 :start_reactor.0:fuel 10
+  546 op land *tmp189 :fuel_2 *tmp188
   547 jump *label200 equal *tmp189 false
   548 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
-    * jump *label198 lessThanEq *tmp191 .FUEL_REQ
+  549 jump *label198 lessThanEq *tmp191 10
   550 print "WAIT fuel"
   551 print "\n"
   552 jump *label199 always
 
   556 label *label199
   557 jump *label205 always
   558 label *label200
-    * op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
-    * jump *label201 greaterThanEq :start_reactor.0:fuel_stored *tmp194
+  559 op mul *tmp194 45 5
+  560 jump *label201 greaterThanEq :start_reactor.0:fuel_stored 225
   561 print "WAIT buffer fuel"
   562 print "\n"
   563 jump *label204 always
   564 label *label201
-    * jump *label202 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
+  565 jump *label202 greaterThanEq :start_reactor.0:cryo 13
   566 print "WAIT cryo"
   567 print "\n"
   568 jump *label203 always
   569 label *label202
   570 print "STARTUP"
   571 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor.0:reactor true
+  572 op add .START_POWER_REQ .START_POWER_REQ 23000
+  573 control enabled reactor2 true
   574 label *label203
   575 label *label204
   576 label *label205
 
   578 label *label207
   579 label *label208
   580 label *label209
-    * sensor *tmp201 :start_reactor.0:reactor @enabled
+  581 sensor *tmp201 reactor2 @enabled
   582 jump *label210 equal :start_reactor.0:enabled *tmp201
   583 set .RET_T_STARTUP @tick
   584 label *label210
 
   586 set :start_reactor.0*retval :start_reactor.0:supply_fuel
   587 jump *label212 always
   588 label *label212
-    * set :fuel_2 :start_reactor.0*retval
+  589 set :fuel_2 :start_reactor.0:supply_fuel
   590 set :t_startup2 .RET_T_STARTUP
   591 label *label93
-    * jump *label94 equal :start_reactor.0*retval false
+  592 jump *label94 equal :start_reactor.0:supply_fuel false
   593 control config unloader3 @blast-compound
   594 jump *label95 always
   595 label *label94
   596 control config unloader3 @scrap
   597 label *label95
-    * jump *label96 notEqual :start_reactor.0*retval false
+  598 jump *label96 notEqual :start_reactor.0:supply_fuel false
   599 control config unloader4 @blast-compound
   600 jump *label97 always
   601 label *label96

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-5 instructions):
 
   385 control config unloader2 @scrap
   386 label *label91
   387 label *label92
-    * set :start_reactor.0:reactor reactor2
-    * set :start_reactor.0:emerg_shutdown :emerg_shutdown
-    * set :start_reactor.0:fuel_on :fuel_2
-    * set :start_reactor.0:t_startup :t_startup2
   388 label *label175
   389 set .RET_T_STARTUP :t_startup2
   390 op sub *tmp113 @tick :t_startup2
 
   512 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
   513 op sub *tmp170 *tmp169 5000
   514 op div *tmp171 *tmp170 23000
-    * op mul :start_reactor.0:charge_units *tmp171 0.6
+  515 op div :start_reactor.0:charge_units *tmp170 38333.333333333336
   516 op div *tmp173 :start_reactor.0:surplus 2000
   517 op max :start_reactor.0:flow_units -0.1 *tmp173
   518 op mul *tmp175 2 5
 
   579 set .RET_T_STARTUP @tick
   580 label *label210
   581 label *label211
-    * set :start_reactor.0*retval :start_reactor.0:supply_fuel
   582 jump *label212 always
   583 label *label212
   584 set :fuel_2 :start_reactor.0:supply_fuel

Modifications by Inline function call at line 89:14 (+157 instructions):
 
   629 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   630 set :start_reactor.0:fuel_on :fuel_3
   631 set :start_reactor.0:t_startup :t_startup3
-    * call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
+  632 label *label213
+  633 set .RET_T_STARTUP :start_reactor.0:t_startup
+  634 op sub *tmp113 @tick :start_reactor.0:t_startup
+  635 op idiv :start_reactor.0:secs *tmp113 60
+  636 sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
+  637 set :start_reactor.0:supply_fuel true
+  638 sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
+  639 sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
+  640 sensor *tmp118 .NODE @powerNetStored
+  641 op floor :start_reactor.0:charge *tmp118
+  642 sensor *tmp120 .NODE @powerNetIn
+  643 sensor *tmp121 .NODE @powerNetOut
+  644 op sub *tmp122 *tmp120 *tmp121
+  645 op floor :start_reactor.0:surplus *tmp122
+  646 op mul *tmp124 .AVG_SURPLUS 0.8
+  647 op mul *tmp125 :start_reactor.0:surplus 0.2
+  648 op add .AVG_SURPLUS *tmp124 *tmp125
+  649 sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
+  650 print "#"
+  651 print :start_reactor.0:reactor_num
+  652 print " "
+  653 print "- "
+  654 jump *label214 equal :start_reactor.0:emerg_shutdown false
+  655 control enabled :start_reactor.0:reactor false
+  656 print "emergency mode"
+  657 print "\n"
+  658 set :start_reactor.0:supply_fuel false
+  659 jump *label247 always
+  660 label *label214
+  661 jump *label233 equal :start_reactor.0:enabled false
+  662 jump *label215 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  663 control enabled :start_reactor.0:reactor false
+  664 print "STOP unwanted"
+  665 print "\n"
+  666 jump *label232 always
+  667 label *label215
+  668 op greaterThan *tmp136 :start_reactor.0:reactor_num 1
+  669 op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
+  670 op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
+  671 op land *tmp139 *tmp136 *tmp138
+  672 jump *label216 equal *tmp139 false
+  673 control enabled :start_reactor.0:reactor false
+  674 print "STOP system fuel low"
+  675 print "\n"
+  676 jump *label231 always
+  677 label *label216
+  678 jump *label217 greaterThan :start_reactor.0:fuel 1
+  679 control enabled :start_reactor.0:reactor false
+  680 print "STOP fuel low"
+  681 print "\n"
+  682 jump *label230 always
+  683 label *label217
+  684 jump *label218 greaterThan :start_reactor.0:cryo .CRYO_ABORT
+  685 control enabled :start_reactor.0:reactor false
+  686 print "STOP out of cryo"
+  687 print "\n"
+  688 jump *label229 always
+  689 label *label218
+  690 jump *label225 greaterThanEq :start_reactor.0:secs 30
+  691 label *label219
+  692 op sub *tmp102 @tick :start_reactor.0:t_startup
+  693 op idiv :calc_charge_req.0:secs *tmp102 60
+  694 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  695 sensor *tmp105 :start_reactor.0:reactor @enabled
+  696 op equal *tmp106 *tmp105 false
+  697 op or *tmp107 *tmp104 *tmp106
+  698 jump *label220 equal *tmp107 false
+  699 set :calc_charge_req.0*retval 0
+  700 jump *label222 always
+  701 label *label220
+  702 label *label221
+  703 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  704 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  705 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  706 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  707 jump *label222 always
+  708 label *label222
+  709 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
+  710 op lessThan *tmp154 *tmp153 .PWR_ABORT
+  711 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
+  712 op land *tmp156 *tmp154 *tmp155
+  713 jump *label223 equal *tmp156 false
+  714 control enabled :start_reactor.0:reactor false
+  715 print "START FAIL battery"
+  716 print "\n"
+  717 set :start_reactor.0:supply_fuel false
+  718 jump *label224 always
+  719 label *label223
+  720 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
+  721 print "Starting "
+  722 print :start_reactor.0:time_left
+  723 print " "
+  724 print "secs, req "
+  725 print :calc_charge_req.0*retval
+  726 print "J"
+  727 print "\n"
+  728 label *label224
+  729 jump *label228 always
+  730 label *label225
+  731 op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
+  732 op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
+  733 op land *tmp163 *tmp161 *tmp162
+  734 jump *label226 equal *tmp163 false
+  735 control enabled :start_reactor.0:reactor false
+  736 print "ABANDON - battery crit"
+  737 print "\n"
+  738 set :start_reactor.0:supply_fuel false
+  739 jump *label227 always
+  740 label *label226
+  741 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
+  742 op div :start_reactor.0:mins :start_reactor.0:mins 10
+  743 print "RUN "
+  744 print :start_reactor.0:mins
+  745 print " "
+  746 print "mins"
+  747 print "\n"
+  748 label *label227
+  749 label *label228
+  750 label *label229
+  751 label *label230
+  752 label *label231
+  753 label *label232
+  754 jump *label246 always
+  755 label *label233
+  756 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
+  757 op sub *tmp170 *tmp169 .PWR_ABORT
+  758 op div *tmp171 *tmp170 .PWR_REQ
+  759 op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
+  760 op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
+  761 op max :start_reactor.0:flow_units -0.1 *tmp173
+  762 op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
+  763 op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
+  764 jump *label234 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  765 print "IDLE"
+  766 print "\n"
+  767 set :start_reactor.0:supply_fuel false
+  768 jump *label245 always
+  769 label *label234
+  770 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
+  771 jump *label235 greaterThanEq *tmp179 1
+  772 op idiv *tmp183 :start_reactor.0:flow_units 0.001
+  773 op div :start_reactor.0:flow *tmp183 10
+  774 op idiv *tmp186 :start_reactor.0:charge_units 0.001
+  775 op div :start_reactor.0:charge *tmp186 10
+  776 print "WAIT power. (%"
+  777 print :start_reactor.0:charge
+  778 print "J + %"
+  779 print :start_reactor.0:flow
+  780 print "W)"
+  781 print "\n"
+  782 set :start_reactor.0:supply_fuel false
+  783 jump *label244 always
+  784 label *label235
+  785 op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
+  786 op land *tmp189 :start_reactor.0:fuel_on *tmp188
+  787 jump *label238 equal *tmp189 false
+  788 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
+  789 jump *label236 lessThanEq *tmp191 .FUEL_REQ
+  790 print "WAIT fuel"
+  791 print "\n"
+  792 jump *label237 always
+  793 label *label236
+  794 print "WAIT system fuel"
+  795 print "\n"
+  796 label *label237
+  797 jump *label243 always
+  798 label *label238
+  799 op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
+  800 jump *label239 greaterThanEq :start_reactor.0:fuel_stored *tmp194
+  801 print "WAIT buffer fuel"
+  802 print "\n"
+  803 jump *label242 always
+  804 label *label239
+  805 jump *label240 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
+  806 print "WAIT cryo"
+  807 print "\n"
+  808 jump *label241 always
+  809 label *label240
+  810 print "STARTUP"
+  811 print "\n"
+  812 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  813 control enabled :start_reactor.0:reactor true
+  814 label *label241
+  815 label *label242
+  816 label *label243
+  817 label *label244
+  818 label *label245
+  819 label *label246
+  820 label *label247
+  821 sensor *tmp201 :start_reactor.0:reactor @enabled
+  822 jump *label248 equal :start_reactor.0:enabled *tmp201
+  823 set .RET_T_STARTUP @tick
+  824 label *label248
+  825 label *label249
+  826 set :start_reactor.0*retval :start_reactor.0:supply_fuel
+  827 jump *label250 always
+  828 label *label250
   829 set :fuel_3 :start_reactor.0*retval
   830 set :t_startup3 .RET_T_STARTUP
   831 set :start_reactor.0:reactor reactor4

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   630 set :start_reactor.0:fuel_on :fuel_3
   631 set :start_reactor.0:t_startup :t_startup3
   632 label *label213
-    * set .RET_T_STARTUP :start_reactor.0:t_startup
-    * op sub *tmp113 @tick :start_reactor.0:t_startup
+  633 set .RET_T_STARTUP :t_startup3
+  634 op sub *tmp113 @tick :t_startup3
   635 op idiv :start_reactor.0:secs *tmp113 60
-    * sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
+  636 sensor :start_reactor.0:fuel reactor3 @blast-compound
   637 set :start_reactor.0:supply_fuel true
-    * sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
-    * sensor *tmp118 .NODE @powerNetStored
+  638 sensor :start_reactor.0:fuel_stored vault1 @blast-compound
+  639 sensor :start_reactor.0:cryo reactor3 @cryofluid
+  640 sensor *tmp118 node1 @powerNetStored
   641 op floor :start_reactor.0:charge *tmp118
-    * sensor *tmp120 .NODE @powerNetIn
-    * sensor *tmp121 .NODE @powerNetOut
+  642 sensor *tmp120 node1 @powerNetIn
+  643 sensor *tmp121 node1 @powerNetOut
   644 op sub *tmp122 *tmp120 *tmp121
   645 op floor :start_reactor.0:surplus *tmp122
   646 op mul *tmp124 .AVG_SURPLUS 0.8
   647 op mul *tmp125 :start_reactor.0:surplus 0.2
   648 op add .AVG_SURPLUS *tmp124 *tmp125
-    * sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
+  649 sensor :start_reactor.0:enabled reactor3 @enabled
   650 print "#"
-    * print :start_reactor.0:reactor_num
+  651 print 5
   652 print " "
   653 print "- "
-    * jump *label214 equal :start_reactor.0:emerg_shutdown false
-    * control enabled :start_reactor.0:reactor false
+  654 jump *label214 equal :emerg_shutdown false
+  655 control enabled reactor3 false
   656 print "emergency mode"
   657 print "\n"
   658 set :start_reactor.0:supply_fuel false
   659 jump *label247 always
   660 label *label214
   661 jump *label233 equal :start_reactor.0:enabled false
-    * jump *label215 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * control enabled :start_reactor.0:reactor false
+  662 jump *label215 greaterThanEq .REACTORS_DESIRED 5
+  663 control enabled reactor3 false
   664 print "STOP unwanted"
   665 print "\n"
   666 jump *label232 always
   667 label *label215
-    * op greaterThan *tmp136 :start_reactor.0:reactor_num 1
-    * op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
-    * op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
-    * op land *tmp139 *tmp136 *tmp138
+  668 op greaterThan *tmp136 5 1
+  669 op mul *tmp137 15 5
+  670 op lessThan *tmp138 :start_reactor.0:fuel_stored 75
+  671 op land *tmp139 true *tmp138
   672 jump *label216 equal *tmp139 false
-    * control enabled :start_reactor.0:reactor false
+  673 control enabled reactor3 false
   674 print "STOP system fuel low"
   675 print "\n"
   676 jump *label231 always
   677 label *label216
   678 jump *label217 greaterThan :start_reactor.0:fuel 1
-    * control enabled :start_reactor.0:reactor false
+  679 control enabled reactor3 false
   680 print "STOP fuel low"
   681 print "\n"
   682 jump *label230 always
   683 label *label217
-    * jump *label218 greaterThan :start_reactor.0:cryo .CRYO_ABORT
-    * control enabled :start_reactor.0:reactor false
+  684 jump *label218 greaterThan :start_reactor.0:cryo 1
+  685 control enabled reactor3 false
   686 print "STOP out of cryo"
   687 print "\n"
   688 jump *label229 always
   689 label *label218
   690 jump *label225 greaterThanEq :start_reactor.0:secs 30
   691 label *label219
-    * op sub *tmp102 @tick :start_reactor.0:t_startup
+  692 op sub *tmp102 @tick :t_startup3
   693 op idiv :calc_charge_req.0:secs *tmp102 60
   694 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :start_reactor.0:reactor @enabled
+  695 sensor *tmp105 reactor3 @enabled
   696 op equal *tmp106 *tmp105 false
   697 op or *tmp107 *tmp104 *tmp106
   698 jump *label220 equal *tmp107 false
 
   707 jump *label222 always
   708 label *label222
   709 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
-    * op lessThan *tmp154 *tmp153 .PWR_ABORT
-    * op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
+  710 op lessThan *tmp154 *tmp153 5000
+  711 op lessThan *tmp155 :start_reactor.0:surplus -500
   712 op land *tmp156 *tmp154 *tmp155
   713 jump *label223 equal *tmp156 false
-    * control enabled :start_reactor.0:reactor false
+  714 control enabled reactor3 false
   715 print "START FAIL battery"
   716 print "\n"
   717 set :start_reactor.0:supply_fuel false
 
   728 label *label224
   729 jump *label228 always
   730 label *label225
-    * op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
-    * op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
+  731 op lessThan *tmp161 :start_reactor.0:charge 2000
+  732 op lessThan *tmp162 :start_reactor.0:surplus -500
   733 op land *tmp163 *tmp161 *tmp162
   734 jump *label226 equal *tmp163 false
-    * control enabled :start_reactor.0:reactor false
+  735 control enabled reactor3 false
   736 print "ABANDON - battery crit"
   737 print "\n"
   738 set :start_reactor.0:supply_fuel false
 
   754 jump *label246 always
   755 label *label233
   756 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
-    * op sub *tmp170 *tmp169 .PWR_ABORT
-    * op div *tmp171 *tmp170 .PWR_REQ
-    * op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
-    * op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
+  757 op sub *tmp170 *tmp169 5000
+  758 op div *tmp171 *tmp170 23000
+  759 op mul :start_reactor.0:charge_units *tmp171 0.6
+  760 op div *tmp173 :start_reactor.0:surplus 2000
   761 op max :start_reactor.0:flow_units -0.1 *tmp173
-    * op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
-    * op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
-    * jump *label234 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  762 op mul *tmp175 2 5
+  763 op add :start_reactor.0:cryo_req 3 10
+  764 jump *label234 greaterThanEq .REACTORS_DESIRED 5
   765 print "IDLE"
   766 print "\n"
   767 set :start_reactor.0:supply_fuel false
 
   782 set :start_reactor.0:supply_fuel false
   783 jump *label244 always
   784 label *label235
-    * op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
-    * op land *tmp189 :start_reactor.0:fuel_on *tmp188
+  785 op lessThan *tmp188 :start_reactor.0:fuel 10
+  786 op land *tmp189 :fuel_3 *tmp188
   787 jump *label238 equal *tmp189 false
   788 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
-    * jump *label236 lessThanEq *tmp191 .FUEL_REQ
+  789 jump *label236 lessThanEq *tmp191 10
   790 print "WAIT fuel"
   791 print "\n"
   792 jump *label237 always
 
   796 label *label237
   797 jump *label243 always
   798 label *label238
-    * op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
-    * jump *label239 greaterThanEq :start_reactor.0:fuel_stored *tmp194
+  799 op mul *tmp194 45 5
+  800 jump *label239 greaterThanEq :start_reactor.0:fuel_stored 225
   801 print "WAIT buffer fuel"
   802 print "\n"
   803 jump *label242 always
   804 label *label239
-    * jump *label240 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
+  805 jump *label240 greaterThanEq :start_reactor.0:cryo 13
   806 print "WAIT cryo"
   807 print "\n"
   808 jump *label241 always
   809 label *label240
   810 print "STARTUP"
   811 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor.0:reactor true
+  812 op add .START_POWER_REQ .START_POWER_REQ 23000
+  813 control enabled reactor3 true
   814 label *label241
   815 label *label242
   816 label *label243
 
   818 label *label245
   819 label *label246
   820 label *label247
-    * sensor *tmp201 :start_reactor.0:reactor @enabled
+  821 sensor *tmp201 reactor3 @enabled
   822 jump *label248 equal :start_reactor.0:enabled *tmp201
   823 set .RET_T_STARTUP @tick
   824 label *label248
 
   826 set :start_reactor.0*retval :start_reactor.0:supply_fuel
   827 jump *label250 always
   828 label *label250
-    * set :fuel_3 :start_reactor.0*retval
+  829 set :fuel_3 :start_reactor.0:supply_fuel
   830 set :t_startup3 .RET_T_STARTUP
   831 set :start_reactor.0:reactor reactor4
   832 set :start_reactor.0:emerg_shutdown :emerg_shutdown

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-5 instructions):
 
   625 label *label111
   626 label *label112
   627 op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
-    * set :start_reactor.0:reactor reactor3
-    * set :start_reactor.0:emerg_shutdown :emerg_shutdown
-    * set :start_reactor.0:fuel_on :fuel_3
-    * set :start_reactor.0:t_startup :t_startup3
   628 label *label213
   629 set .RET_T_STARTUP :t_startup3
   630 op sub *tmp113 @tick :t_startup3
 
   752 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
   753 op sub *tmp170 *tmp169 5000
   754 op div *tmp171 *tmp170 23000
-    * op mul :start_reactor.0:charge_units *tmp171 0.6
+  755 op div :start_reactor.0:charge_units *tmp170 38333.333333333336
   756 op div *tmp173 :start_reactor.0:surplus 2000
   757 op max :start_reactor.0:flow_units -0.1 *tmp173
   758 op mul *tmp175 2 5
 
   819 set .RET_T_STARTUP @tick
   820 label *label248
   821 label *label249
-    * set :start_reactor.0*retval :start_reactor.0:supply_fuel
   822 jump *label250 always
   823 label *label250
   824 set :fuel_3 :start_reactor.0:supply_fuel

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-10 instructions):
 
    60 control enabled projector1 false
    61 control enabled projector2 false
    62 set :check_radar.0*retval false
-    * jump *label108 always
    63 label *label107
    64 label *label108
    65 op notEqual *tmp9 switch1 null
 
   366 set .RET_T_STARTUP @tick
   367 label *label172
   368 label *label173
-    * jump *label174 always
   369 label *label174
   370 set :fuel_1 :start_reactor.0:supply_fuel
   371 set :t_startup1 .RET_T_STARTUP
 
   577 set .RET_T_STARTUP @tick
   578 label *label210
   579 label *label211
-    * jump *label212 always
   580 label *label212
   581 set :fuel_2 :start_reactor.0:supply_fuel
   582 set :t_startup2 .RET_T_STARTUP
 
   618 control enabled projector1 false
   619 control enabled projector2 false
   620 set :check_radar.0*retval false
-    * jump *label112 always
   621 label *label111
   622 label *label112
   623 op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
 
   815 set .RET_T_STARTUP @tick
   816 label *label248
   817 label *label249
-    * jump *label250 always
   818 label *label250
   819 set :fuel_3 :start_reactor.0:supply_fuel
   820 set :t_startup3 .RET_T_STARTUP
 
   903 label *label19
   904 label *label15
   905 op lessThan *tmp32 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
-    * jump *label13 always
   906 label *label13
   907 jump *label20 equal *tmp32 false
   908 control config unloader7 @pyratite
 
   930 label *label81
   931 op idiv *tmp93 .AVG_SURPLUS 100
   932 op div :kilo.0*retval *tmp93 10
-    * jump *label82 always
   933 label *label82
   934 set :surplus :kilo.0*retval
   935 sensor :kilo.0:val node1 @powerNetStored
   936 label *label83
   937 op idiv *tmp93 :kilo.0:val 100
   938 op div :kilo.0*retval *tmp93 10
-    * jump *label84 always
   939 label *label84
   940 set :charge :kilo.0*retval
   941 jump *label25 lessThanEq .START_POWER_REQ 0
   942 label *label85
   943 op idiv *tmp93 .START_POWER_REQ 100
   944 op div :kilo.0*retval *tmp93 10
-    * jump *label86 always
   945 label *label86
   946 print "Req "
   947 print :kilo.0*retval
 
  1193 label *label76
  1194 label *label77
  1195 set :start_reactor.0*retval :start_reactor.0:supply_fuel
-    * jump *label45 always
  1196 label *label45
  1197 return :start_reactor.0*retaddr
  1198 end

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-4 instructions):
 
    85 op equal *tmp106 *tmp105 false
    86 op or *tmp107 *tmp104 *tmp106
    87 jump *label114 equal *tmp107 false
-    * set :calc_charge_req.0*retval 0
+   88 set .START_POWER_REQ 0
    89 jump *label116 always
    90 label *label114
    91 label *label115
    92 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
    93 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
    94 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
-    * set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+   95 set .START_POWER_REQ :calc_charge_req.0:charge_req
    96 jump *label116 always
    97 label *label116
-    * set .START_POWER_REQ :calc_charge_req.0*retval
    98 label *label117
    99 op sub *tmp102 @tick :t_startup2
   100 op idiv :calc_charge_req.0:secs *tmp102 60
 
   928 label *label22
   929 label *label81
   930 op idiv *tmp93 .AVG_SURPLUS 100
-    * op div :kilo.0*retval *tmp93 10
+  931 op div :surplus *tmp93 10
   932 label *label82
-    * set :surplus :kilo.0*retval
   933 sensor :kilo.0:val node1 @powerNetStored
   934 label *label83
   935 op idiv *tmp93 :kilo.0:val 100
 
  1001 op sub *tmp113 @tick :start_reactor.0:t_startup
  1002 op idiv :start_reactor.0:secs *tmp113 60
  1003 sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
-    * set :start_reactor.0:supply_fuel true
+ 1004 set :start_reactor.0*retval true
  1005 sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
  1006 sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
  1007 sensor *tmp118 .NODE @powerNetStored
 
  1022 control enabled :start_reactor.0:reactor false
  1023 print "emergency mode"
  1024 print "\n"
-    * set :start_reactor.0:supply_fuel false
+ 1025 set :start_reactor.0*retval false
  1026 jump *label47 always
  1027 label *label46
  1028 jump *label48 equal :start_reactor.0:enabled false
 
  1069 label *label135
  1070 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
  1071 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
-    * op idiv :calc_charge_req.0:charge_req *tmp110 0.04
-    * set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+ 1072 op idiv :calc_charge_req.0*retval *tmp110 0.04
  1073 jump *label136 always
  1074 label *label136
  1075 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
 
  1080 control enabled :start_reactor.0:reactor false
  1081 print "START FAIL battery"
  1082 print "\n"
-    * set :start_reactor.0:supply_fuel false
+ 1083 set :start_reactor.0*retval false
  1084 jump *label61 always
  1085 label *label60
  1086 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
 
  1101 control enabled :start_reactor.0:reactor false
  1102 print "ABANDON - battery crit"
  1103 print "\n"
-    * set :start_reactor.0:supply_fuel false
+ 1104 set :start_reactor.0*retval false
  1105 jump *label63 always
  1106 label *label62
  1107 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
 
  1130 jump *label64 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
  1131 print "IDLE"
  1132 print "\n"
-    * set :start_reactor.0:supply_fuel false
+ 1133 set :start_reactor.0*retval false
  1134 jump *label65 always
  1135 label *label64
  1136 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
 
  1145 print :start_reactor.0:flow
  1146 print "W)"
  1147 print "\n"
-    * set :start_reactor.0:supply_fuel false
+ 1148 set :start_reactor.0*retval false
  1149 jump *label67 always
  1150 label *label66
  1151 op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
 
  1189 set .RET_T_STARTUP @tick
  1190 label *label76
  1191 label *label77
-    * set :start_reactor.0*retval :start_reactor.0:supply_fuel
  1192 label *label45
  1193 return :start_reactor.0*retaddr
  1194 end

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2:
 
   831 call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
   832 set :fuel_5 :start_reactor.0*retval
   833 set :t_startup5 .RET_T_STARTUP
-    * op or *tmp27 :fuel_3 :fuel_4
+  834 op or *tmp27 :start_reactor.0:supply_fuel :fuel_4
   835 op or :fuel_many *tmp27 :start_reactor.0*retval
   836 label *label99
   837 jump *label100 equal :fuel_many false

Modifications by Iterated phase, Jump Optimization, pass 3, iteration 1 (-1 instructions):
 
   901 print "n"
   902 label *label19
   903 label *label15
-    * op lessThan *tmp32 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   904 label *label13
-    * jump *label20 equal *tmp32 false
+  905 jump *label20 greaterThanEq :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   906 control config unloader7 @pyratite
   907 jump *label21 always
   908 label *label20

Modifications by Final phase, Jump Threading, iteration 1:
 
   205 control enabled reactor1 false
   206 print "STOP unwanted"
   207 print "\n"
-    * jump *label156 always
+  208 jump *label170 always
   209 label *label139
   210 op greaterThan *tmp136 5 1
   211 op mul *tmp137 15 5
 
   215 control enabled reactor1 false
   216 print "STOP system fuel low"
   217 print "\n"
-    * jump *label155 always
+  218 jump *label170 always
   219 label *label140
   220 jump *label141 greaterThan :start_reactor.0:fuel 1
   221 control enabled reactor1 false
   222 print "STOP fuel low"
   223 print "\n"
-    * jump *label154 always
+  224 jump *label170 always
   225 label *label141
   226 jump *label142 greaterThan :start_reactor.0:cryo 1
   227 control enabled reactor1 false
   228 print "STOP out of cryo"
   229 print "\n"
-    * jump *label153 always
+  230 jump *label170 always
   231 label *label142
   232 jump *label149 greaterThanEq :start_reactor.0:secs 30
   233 label *label143
 
   257 print "START FAIL battery"
   258 print "\n"
   259 set :start_reactor.0:supply_fuel false
-    * jump *label148 always
+  260 jump *label170 always
   261 label *label147
   262 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
   263 print "Starting "
 
   268 print "J"
   269 print "\n"
   270 label *label148
-    * jump *label152 always
+  271 jump *label170 always
   272 label *label149
   273 op lessThan *tmp161 :start_reactor.0:charge 2000
   274 op lessThan *tmp162 :start_reactor.0:surplus -500
 
   278 print "ABANDON - battery crit"
   279 print "\n"
   280 set :start_reactor.0:supply_fuel false
-    * jump *label151 always
+  281 jump *label170 always
   282 label *label150
   283 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   284 op div :start_reactor.0:mins :start_reactor.0:mins 10
 
   331 jump *label160 lessThanEq *tmp191 10
   332 print "WAIT fuel"
   333 print "\n"
-    * jump *label161 always
+  334 jump *label167 always
   335 label *label160
   336 print "WAIT system fuel"
   337 print "\n"
 
   416 control enabled reactor2 false
   417 print "STOP unwanted"
   418 print "\n"
-    * jump *label194 always
+  419 jump *label208 always
   420 label *label177
   421 op greaterThan *tmp136 5 1
   422 op mul *tmp137 15 5
 
   426 control enabled reactor2 false
   427 print "STOP system fuel low"
   428 print "\n"
-    * jump *label193 always
+  429 jump *label208 always
   430 label *label178
   431 jump *label179 greaterThan :start_reactor.0:fuel 1
   432 control enabled reactor2 false
   433 print "STOP fuel low"
   434 print "\n"
-    * jump *label192 always
+  435 jump *label208 always
   436 label *label179
   437 jump *label180 greaterThan :start_reactor.0:cryo 1
   438 control enabled reactor2 false
   439 print "STOP out of cryo"
   440 print "\n"
-    * jump *label191 always
+  441 jump *label208 always
   442 label *label180
   443 jump *label187 greaterThanEq :start_reactor.0:secs 30
   444 label *label181
 
   468 print "START FAIL battery"
   469 print "\n"
   470 set :start_reactor.0:supply_fuel false
-    * jump *label186 always
+  471 jump *label208 always
   472 label *label185
   473 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
   474 print "Starting "
 
   479 print "J"
   480 print "\n"
   481 label *label186
-    * jump *label190 always
+  482 jump *label208 always
   483 label *label187
   484 op lessThan *tmp161 :start_reactor.0:charge 2000
   485 op lessThan *tmp162 :start_reactor.0:surplus -500
 
   489 print "ABANDON - battery crit"
   490 print "\n"
   491 set :start_reactor.0:supply_fuel false
-    * jump *label189 always
+  492 jump *label208 always
   493 label *label188
   494 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   495 op div :start_reactor.0:mins :start_reactor.0:mins 10
 
   542 jump *label198 lessThanEq *tmp191 10
   543 print "WAIT fuel"
   544 print "\n"
-    * jump *label199 always
+  545 jump *label205 always
   546 label *label198
   547 print "WAIT system fuel"
   548 print "\n"
 
   654 control enabled reactor3 false
   655 print "STOP unwanted"
   656 print "\n"
-    * jump *label232 always
+  657 jump *label246 always
   658 label *label215
   659 op greaterThan *tmp136 5 1
   660 op mul *tmp137 15 5
 
   664 control enabled reactor3 false
   665 print "STOP system fuel low"
   666 print "\n"
-    * jump *label231 always
+  667 jump *label246 always
   668 label *label216
   669 jump *label217 greaterThan :start_reactor.0:fuel 1
   670 control enabled reactor3 false
   671 print "STOP fuel low"
   672 print "\n"
-    * jump *label230 always
+  673 jump *label246 always
   674 label *label217
   675 jump *label218 greaterThan :start_reactor.0:cryo 1
   676 control enabled reactor3 false
   677 print "STOP out of cryo"
   678 print "\n"
-    * jump *label229 always
+  679 jump *label246 always
   680 label *label218
   681 jump *label225 greaterThanEq :start_reactor.0:secs 30
   682 label *label219
 
   706 print "START FAIL battery"
   707 print "\n"
   708 set :start_reactor.0:supply_fuel false
-    * jump *label224 always
+  709 jump *label246 always
   710 label *label223
   711 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
   712 print "Starting "
 
   717 print "J"
   718 print "\n"
   719 label *label224
-    * jump *label228 always
+  720 jump *label246 always
   721 label *label225
   722 op lessThan *tmp161 :start_reactor.0:charge 2000
   723 op lessThan *tmp162 :start_reactor.0:surplus -500
 
   727 print "ABANDON - battery crit"
   728 print "\n"
   729 set :start_reactor.0:supply_fuel false
-    * jump *label227 always
+  730 jump *label246 always
   731 label *label226
   732 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   733 op div :start_reactor.0:mins :start_reactor.0:mins 10
 
   780 jump *label236 lessThanEq *tmp191 10
   781 print "WAIT fuel"
   782 print "\n"
-    * jump *label237 always
+  783 jump *label243 always
   784 label *label236
   785 print "WAIT system fuel"
   786 print "\n"
 
   872 jump *label16 equal :emerg_shutdown false
   873 print " Enemies detected."
   874 print "\n"
-    * jump *label17 always
+  875 jump *label15 always
   876 label *label16
   877 print " Critical power."
   878 print "\n"
 
  1029 control enabled :start_reactor.0:reactor false
  1030 print "STOP unwanted"
  1031 print "\n"
-    * jump *label51 always
+ 1032 jump *label49 always
  1033 label *label50
  1034 op greaterThan *tmp136 :start_reactor.0:reactor_num 1
  1035 op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
 
  1039 control enabled :start_reactor.0:reactor false
  1040 print "STOP system fuel low"
  1041 print "\n"
-    * jump *label53 always
+ 1042 jump *label49 always
  1043 label *label52
  1044 jump *label54 greaterThan :start_reactor.0:fuel 1
  1045 control enabled :start_reactor.0:reactor false
  1046 print "STOP fuel low"
  1047 print "\n"
-    * jump *label55 always
+ 1048 jump *label49 always
  1049 label *label54
  1050 jump *label56 greaterThan :start_reactor.0:cryo .CRYO_ABORT
  1051 control enabled :start_reactor.0:reactor false
  1052 print "STOP out of cryo"
  1053 print "\n"
-    * jump *label57 always
+ 1054 jump *label49 always
  1055 label *label56
  1056 jump *label58 greaterThanEq :start_reactor.0:secs 30
  1057 label *label133
 
  1080 print "START FAIL battery"
  1081 print "\n"
  1082 set :start_reactor.0*retval false
-    * jump *label61 always
+ 1083 jump *label49 always
  1084 label *label60
  1085 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
  1086 print "Starting "
 
  1091 print "J"
  1092 print "\n"
  1093 label *label61
-    * jump *label59 always
+ 1094 jump *label49 always
  1095 label *label58
  1096 op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
  1097 op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
 
  1101 print "ABANDON - battery crit"
  1102 print "\n"
  1103 set :start_reactor.0*retval false
-    * jump *label63 always
+ 1104 jump *label49 always
  1105 label *label62
  1106 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
  1107 op div :start_reactor.0:mins :start_reactor.0:mins 10
 
  1154 jump *label70 lessThanEq *tmp191 .FUEL_REQ
  1155 print "WAIT fuel"
  1156 print "\n"
-    * jump *label71 always
+ 1157 jump *label69 always
  1158 label *label70
  1159 print "WAIT system fuel"
  1160 print "\n"

Modifications by Final phase, Unreachable Code Elimination, iteration 1 (-4 instructions):
 
    55 control enabled reactor5 false
    56 set :check_radar.0*retval true
    57 jump *label108 always
-    * jump *label107 always
    58 label *label106
    59 control enabled projector1 false
    60 control enabled projector2 false
 
   611 control enabled reactor5 false
   612 set :check_radar.0*retval true
   613 jump *label112 always
-    * jump *label111 always
   614 label *label110
   615 control enabled projector1 false
   616 control enabled projector2 false
 
   991 printflush message1
   992 label *label8
   993 jump *label7 always
-    * label *label9
-    * end
   994 label *label3
   995 set .RET_T_STARTUP :start_reactor.0:t_startup
   996 op sub *tmp113 @tick :start_reactor.0:t_startup
 
  1186 label *label77
  1187 label *label45
  1188 return :start_reactor.0*retaddr
-    * end

Modifications by Final phase, Print Merging, iteration 1 (-132 instructions):
 
    66 op equal *tmp11 *tmp10 false
    67 op land *tmp12 *tmp9 *tmp11
    68 jump *label11 equal *tmp12 false
-    * print "User has disabled emergency switch"
-    * print "\n"
+   69 print "User has disabled emergency switch\n"
    70 set *tmp8 true
    71 jump *label10 always
    72 label *label11
 
   187 op mul *tmp125 :start_reactor.0:surplus 0.2
   188 op add .AVG_SURPLUS *tmp124 *tmp125
   189 sensor :start_reactor.0:enabled reactor1 @enabled
-    * print "#"
-    * print 5
-    * print " "
-    * print "- "
+  190 print "#5 - "
   191 jump *label138 equal :emerg_shutdown false
   192 control enabled reactor1 false
-    * print "emergency mode"
-    * print "\n"
+  193 print "emergency mode\n"
   194 set :start_reactor.0:supply_fuel false
   195 jump *label171 always
   196 label *label138
   197 jump *label157 equal :start_reactor.0:enabled false
   198 jump *label139 greaterThanEq .REACTORS_DESIRED 5
   199 control enabled reactor1 false
-    * print "STOP unwanted"
-    * print "\n"
+  200 print "STOP unwanted\n"
   201 jump *label170 always
   202 label *label139
   203 op greaterThan *tmp136 5 1
 
   206 op land *tmp139 true *tmp138
   207 jump *label140 equal *tmp139 false
   208 control enabled reactor1 false
-    * print "STOP system fuel low"
-    * print "\n"
+  209 print "STOP system fuel low\n"
   210 jump *label170 always
   211 label *label140
   212 jump *label141 greaterThan :start_reactor.0:fuel 1
   213 control enabled reactor1 false
-    * print "STOP fuel low"
-    * print "\n"
+  214 print "STOP fuel low\n"
   215 jump *label170 always
   216 label *label141
   217 jump *label142 greaterThan :start_reactor.0:cryo 1
   218 control enabled reactor1 false
-    * print "STOP out of cryo"
-    * print "\n"
+  219 print "STOP out of cryo\n"
   220 jump *label170 always
   221 label *label142
   222 jump *label149 greaterThanEq :start_reactor.0:secs 30
 
   244 op land *tmp156 *tmp154 *tmp155
   245 jump *label147 equal *tmp156 false
   246 control enabled reactor1 false
-    * print "START FAIL battery"
-    * print "\n"
+  247 print "START FAIL battery\n"
   248 set :start_reactor.0:supply_fuel false
   249 jump *label170 always
   250 label *label147
   251 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
-    * print "Starting "
-    * print :start_reactor.0:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req.0*retval
-    * print "J"
-    * print "\n"
+  252 print "Starting {0} secs, req {0}J\n"
+  253 format :start_reactor.0:time_left
+  254 format :calc_charge_req.0*retval
   255 label *label148
   256 jump *label170 always
   257 label *label149
 
   260 op land *tmp163 *tmp161 *tmp162
   261 jump *label150 equal *tmp163 false
   262 control enabled reactor1 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  263 print "ABANDON - battery crit\n"
   264 set :start_reactor.0:supply_fuel false
   265 jump *label170 always
   266 label *label150
   267 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   268 op div :start_reactor.0:mins :start_reactor.0:mins 10
-    * print "RUN "
-    * print :start_reactor.0:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  269 print "RUN {0} mins\n"
+  270 format :start_reactor.0:mins
   271 label *label151
   272 label *label152
   273 label *label153
 
   285 op mul *tmp175 2 5
   286 op add :start_reactor.0:cryo_req 3 10
   287 jump *label158 greaterThanEq .REACTORS_DESIRED 5
-    * print "IDLE"
-    * print "\n"
+  288 print "IDLE\n"
   289 set :start_reactor.0:supply_fuel false
   290 jump *label169 always
   291 label *label158
 
   295 op div :start_reactor.0:flow *tmp183 10
   296 op idiv *tmp186 :start_reactor.0:charge_units 0.001
   297 op div :start_reactor.0:charge *tmp186 10
-    * print "WAIT power. (%"
-    * print :start_reactor.0:charge
-    * print "J + %"
-    * print :start_reactor.0:flow
-    * print "W)"
-    * print "\n"
+  298 print "WAIT power. (%{0}J + %{0}W)\n"
+  299 format :start_reactor.0:charge
+  300 format :start_reactor.0:flow
   301 set :start_reactor.0:supply_fuel false
   302 jump *label168 always
   303 label *label159
 
   306 jump *label162 equal *tmp189 false
   307 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
   308 jump *label160 lessThanEq *tmp191 10
-    * print "WAIT fuel"
-    * print "\n"
+  309 print "WAIT fuel\n"
   310 jump *label167 always
   311 label *label160
-    * print "WAIT system fuel"
-    * print "\n"
+  312 print "WAIT system fuel\n"
   313 label *label161
   314 jump *label167 always
   315 label *label162
   316 op mul *tmp194 45 5
   317 jump *label163 greaterThanEq :start_reactor.0:fuel_stored 225
-    * print "WAIT buffer fuel"
-    * print "\n"
+  318 print "WAIT buffer fuel\n"
   319 jump *label166 always
   320 label *label163
   321 jump *label164 greaterThanEq :start_reactor.0:cryo 13
-    * print "WAIT cryo"
-    * print "\n"
+  322 print "WAIT cryo\n"
   323 jump *label165 always
   324 label *label164
-    * print "STARTUP"
-    * print "\n"
+  325 print "STARTUP\n"
   326 op add .START_POWER_REQ .START_POWER_REQ 23000
   327 control enabled reactor1 true
   328 label *label165
 
   372 op mul *tmp125 :start_reactor.0:surplus 0.2
   373 op add .AVG_SURPLUS *tmp124 *tmp125
   374 sensor :start_reactor.0:enabled reactor2 @enabled
-    * print "#"
-    * print 5
-    * print " "
-    * print "- "
+  375 print "#5 - "
   376 jump *label176 equal :emerg_shutdown false
   377 control enabled reactor2 false
-    * print "emergency mode"
-    * print "\n"
+  378 print "emergency mode\n"
   379 set :start_reactor.0:supply_fuel false
   380 jump *label209 always
   381 label *label176
   382 jump *label195 equal :start_reactor.0:enabled false
   383 jump *label177 greaterThanEq .REACTORS_DESIRED 5
   384 control enabled reactor2 false
-    * print "STOP unwanted"
-    * print "\n"
+  385 print "STOP unwanted\n"
   386 jump *label208 always
   387 label *label177
   388 op greaterThan *tmp136 5 1
 
   391 op land *tmp139 true *tmp138
   392 jump *label178 equal *tmp139 false
   393 control enabled reactor2 false
-    * print "STOP system fuel low"
-    * print "\n"
+  394 print "STOP system fuel low\n"
   395 jump *label208 always
   396 label *label178
   397 jump *label179 greaterThan :start_reactor.0:fuel 1
   398 control enabled reactor2 false
-    * print "STOP fuel low"
-    * print "\n"
+  399 print "STOP fuel low\n"
   400 jump *label208 always
   401 label *label179
   402 jump *label180 greaterThan :start_reactor.0:cryo 1
   403 control enabled reactor2 false
-    * print "STOP out of cryo"
-    * print "\n"
+  404 print "STOP out of cryo\n"
   405 jump *label208 always
   406 label *label180
   407 jump *label187 greaterThanEq :start_reactor.0:secs 30
 
   429 op land *tmp156 *tmp154 *tmp155
   430 jump *label185 equal *tmp156 false
   431 control enabled reactor2 false
-    * print "START FAIL battery"
-    * print "\n"
+  432 print "START FAIL battery\n"
   433 set :start_reactor.0:supply_fuel false
   434 jump *label208 always
   435 label *label185
   436 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
-    * print "Starting "
-    * print :start_reactor.0:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req.0*retval
-    * print "J"
-    * print "\n"
+  437 print "Starting {0} secs, req {0}J\n"
+  438 format :start_reactor.0:time_left
+  439 format :calc_charge_req.0*retval
   440 label *label186
   441 jump *label208 always
   442 label *label187
 
   445 op land *tmp163 *tmp161 *tmp162
   446 jump *label188 equal *tmp163 false
   447 control enabled reactor2 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  448 print "ABANDON - battery crit\n"
   449 set :start_reactor.0:supply_fuel false
   450 jump *label208 always
   451 label *label188
   452 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   453 op div :start_reactor.0:mins :start_reactor.0:mins 10
-    * print "RUN "
-    * print :start_reactor.0:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  454 print "RUN {0} mins\n"
+  455 format :start_reactor.0:mins
   456 label *label189
   457 label *label190
   458 label *label191
 
   470 op mul *tmp175 2 5
   471 op add :start_reactor.0:cryo_req 3 10
   472 jump *label196 greaterThanEq .REACTORS_DESIRED 5
-    * print "IDLE"
-    * print "\n"
+  473 print "IDLE\n"
   474 set :start_reactor.0:supply_fuel false
   475 jump *label207 always
   476 label *label196
 
   480 op div :start_reactor.0:flow *tmp183 10
   481 op idiv *tmp186 :start_reactor.0:charge_units 0.001
   482 op div :start_reactor.0:charge *tmp186 10
-    * print "WAIT power. (%"
-    * print :start_reactor.0:charge
-    * print "J + %"
-    * print :start_reactor.0:flow
-    * print "W)"
-    * print "\n"
+  483 print "WAIT power. (%{0}J + %{0}W)\n"
+  484 format :start_reactor.0:charge
+  485 format :start_reactor.0:flow
   486 set :start_reactor.0:supply_fuel false
   487 jump *label206 always
   488 label *label197
 
   491 jump *label200 equal *tmp189 false
   492 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
   493 jump *label198 lessThanEq *tmp191 10
-    * print "WAIT fuel"
-    * print "\n"
+  494 print "WAIT fuel\n"
   495 jump *label205 always
   496 label *label198
-    * print "WAIT system fuel"
-    * print "\n"
+  497 print "WAIT system fuel\n"
   498 label *label199
   499 jump *label205 always
   500 label *label200
   501 op mul *tmp194 45 5
   502 jump *label201 greaterThanEq :start_reactor.0:fuel_stored 225
-    * print "WAIT buffer fuel"
-    * print "\n"
+  503 print "WAIT buffer fuel\n"
   504 jump *label204 always
   505 label *label201
   506 jump *label202 greaterThanEq :start_reactor.0:cryo 13
-    * print "WAIT cryo"
-    * print "\n"
+  507 print "WAIT cryo\n"
   508 jump *label203 always
   509 label *label202
-    * print "STARTUP"
-    * print "\n"
+  510 print "STARTUP\n"
   511 op add .START_POWER_REQ .START_POWER_REQ 23000
   512 control enabled reactor2 true
   513 label *label203
 
   583 op mul *tmp125 :start_reactor.0:surplus 0.2
   584 op add .AVG_SURPLUS *tmp124 *tmp125
   585 sensor :start_reactor.0:enabled reactor3 @enabled
-    * print "#"
-    * print 5
-    * print " "
-    * print "- "
+  586 print "#5 - "
   587 jump *label214 equal :emerg_shutdown false
   588 control enabled reactor3 false
-    * print "emergency mode"
-    * print "\n"
+  589 print "emergency mode\n"
   590 set :start_reactor.0:supply_fuel false
   591 jump *label247 always
   592 label *label214
   593 jump *label233 equal :start_reactor.0:enabled false
   594 jump *label215 greaterThanEq .REACTORS_DESIRED 5
   595 control enabled reactor3 false
-    * print "STOP unwanted"
-    * print "\n"
+  596 print "STOP unwanted\n"
   597 jump *label246 always
   598 label *label215
   599 op greaterThan *tmp136 5 1
 
   602 op land *tmp139 true *tmp138
   603 jump *label216 equal *tmp139 false
   604 control enabled reactor3 false
-    * print "STOP system fuel low"
-    * print "\n"
+  605 print "STOP system fuel low\n"
   606 jump *label246 always
   607 label *label216
   608 jump *label217 greaterThan :start_reactor.0:fuel 1
   609 control enabled reactor3 false
-    * print "STOP fuel low"
-    * print "\n"
+  610 print "STOP fuel low\n"
   611 jump *label246 always
   612 label *label217
   613 jump *label218 greaterThan :start_reactor.0:cryo 1
   614 control enabled reactor3 false
-    * print "STOP out of cryo"
-    * print "\n"
+  615 print "STOP out of cryo\n"
   616 jump *label246 always
   617 label *label218
   618 jump *label225 greaterThanEq :start_reactor.0:secs 30
 
   640 op land *tmp156 *tmp154 *tmp155
   641 jump *label223 equal *tmp156 false
   642 control enabled reactor3 false
-    * print "START FAIL battery"
-    * print "\n"
+  643 print "START FAIL battery\n"
   644 set :start_reactor.0:supply_fuel false
   645 jump *label246 always
   646 label *label223
   647 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
-    * print "Starting "
-    * print :start_reactor.0:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req.0*retval
-    * print "J"
-    * print "\n"
+  648 print "Starting {0} secs, req {0}J\n"
+  649 format :start_reactor.0:time_left
+  650 format :calc_charge_req.0*retval
   651 label *label224
   652 jump *label246 always
   653 label *label225
 
   656 op land *tmp163 *tmp161 *tmp162
   657 jump *label226 equal *tmp163 false
   658 control enabled reactor3 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  659 print "ABANDON - battery crit\n"
   660 set :start_reactor.0:supply_fuel false
   661 jump *label246 always
   662 label *label226
   663 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   664 op div :start_reactor.0:mins :start_reactor.0:mins 10
-    * print "RUN "
-    * print :start_reactor.0:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  665 print "RUN {0} mins\n"
+  666 format :start_reactor.0:mins
   667 label *label227
   668 label *label228
   669 label *label229
 
   681 op mul *tmp175 2 5
   682 op add :start_reactor.0:cryo_req 3 10
   683 jump *label234 greaterThanEq .REACTORS_DESIRED 5
-    * print "IDLE"
-    * print "\n"
+  684 print "IDLE\n"
   685 set :start_reactor.0:supply_fuel false
   686 jump *label245 always
   687 label *label234
 
   691 op div :start_reactor.0:flow *tmp183 10
   692 op idiv *tmp186 :start_reactor.0:charge_units 0.001
   693 op div :start_reactor.0:charge *tmp186 10
-    * print "WAIT power. (%"
-    * print :start_reactor.0:charge
-    * print "J + %"
-    * print :start_reactor.0:flow
-    * print "W)"
-    * print "\n"
+  694 print "WAIT power. (%{0}J + %{0}W)\n"
+  695 format :start_reactor.0:charge
+  696 format :start_reactor.0:flow
   697 set :start_reactor.0:supply_fuel false
   698 jump *label244 always
   699 label *label235
 
   702 jump *label238 equal *tmp189 false
   703 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
   704 jump *label236 lessThanEq *tmp191 10
-    * print "WAIT fuel"
-    * print "\n"
+  705 print "WAIT fuel\n"
   706 jump *label243 always
   707 label *label236
-    * print "WAIT system fuel"
-    * print "\n"
+  708 print "WAIT system fuel\n"
   709 label *label237
   710 jump *label243 always
   711 label *label238
   712 op mul *tmp194 45 5
   713 jump *label239 greaterThanEq :start_reactor.0:fuel_stored 225
-    * print "WAIT buffer fuel"
-    * print "\n"
+  714 print "WAIT buffer fuel\n"
   715 jump *label242 always
   716 label *label239
   717 jump *label240 greaterThanEq :start_reactor.0:cryo 13
-    * print "WAIT cryo"
-    * print "\n"
+  718 print "WAIT cryo\n"
   719 jump *label241 always
   720 label *label240
-    * print "STARTUP"
-    * print "\n"
+  721 print "STARTUP\n"
   722 op add .START_POWER_REQ .START_POWER_REQ 23000
   723 control enabled reactor3 true
   724 label *label241
 
   781 op or *tmp43 *tmp42 :emerg_shutdown
   782 jump *label14 equal *tmp43 false
   783 set :throttle_blast.0:limit 0
-    * print "Central Fuel at "
-    * print :throttle_blast.0:fuel_stored
-    * print " "
-    * print "/ "
-    * print 0
-    * print " "
-    * print "- "
+  784 print "Central Fuel at {0} / 0 - "
+  785 format :throttle_blast.0:fuel_stored
   786 jump *label16 equal :emerg_shutdown false
-    * print " Enemies detected."
-    * print "\n"
+  787 print " Enemies detected.\n"
   788 jump *label15 always
   789 label *label16
-    * print " Critical power."
-    * print "\n"
+  790 print " Critical power.\n"
   791 label *label17
   792 jump *label15 always
   793 label *label14
   794 jump *label18 notEqual :throttle_blast.0:reactors_fueled false
   795 set :throttle_blast.0:limit 150
-    * print "Fuel "
-    * print :throttle_blast.0:fuel_stored
-    * print " "
-    * print "/ "
-    * print 150
-    * print " "
-    * print "(due to emergency)"
-    * print "\n"
+  796 print "Fuel {0} / 150 (due to emergency)\n"
+  797 format :throttle_blast.0:fuel_stored
   798 jump *label19 always
   799 label *label18
   800 set :throttle_blast.0:limit 800
-    * print "Fuel "
-    * print :throttle_blast.0:fuel_stored
-    * print " "
-    * print "/ "
-    * print 800
-    * print "\"
-    * print "n"
+  801 print "Fuel {0} / 800\n"
+  802 format :throttle_blast.0:fuel_stored
   803 label *label19
   804 label *label15
   805 label *label13
 
   816 op lessThan *tmp57 .START_POWER_REQ 10
   817 op land *tmp58 *tmp56 *tmp57
   818 jump *label23 equal *tmp58 false
-    * print "Differential now idle."
-    * print "\n"
+  819 print "Differential now idle.\n"
   820 control enabled generator1 false
   821 control enabled generator2 false
   822 jump *label24 always
 
   840 op idiv *tmp93 .START_POWER_REQ 100
   841 op div :kilo.0*retval *tmp93 10
   842 label *label86
-    * print "Req "
-    * print :kilo.0*retval
-    * print "kJ / "
-    * print :charge
-    * print "kJ. "
-    * print :surplus
-    * print "kW flow."
-    * print "\n"
+  843 print "Req {0}kJ / {0}kJ. {0}kW flow.\n"
+  844 format :kilo.0*retval
+  845 format :charge
+  846 format :surplus
   847 jump *label26 always
   848 label *label25
-    * print "Power "
-    * print :surplus
-    * print "kW, "
-    * print :kilo.0*retval
-    * print "kJ"
-    * print "\n"
+  849 print "Power {0}kW, {0}kJ\n"
+  850 format :surplus
+  851 format :kilo.0*retval
   852 sensor *tmp71 node1 @powerNetStored
   853 sensor *tmp72 node1 @powerNetCapacity
   854 op div :update_reactors_desired.0:stored *tmp71 *tmp72
 
   877 label *label27
   878 label *label26
   879 jump *label34 equal .REACTORS_DESIRED 5
-    * print "Require only "
-    * print .REACTORS_DESIRED
-    * print "/5 reactors."
-    * print "\n"
+  880 print "Require only {0}/5 reactors.\n"
+  881 format .REACTORS_DESIRED
   882 label *label34
   883 label *label35
   884 printflush message1
 
   902 op mul *tmp125 :start_reactor.0:surplus 0.2
   903 op add .AVG_SURPLUS *tmp124 *tmp125
   904 sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
-    * print "#"
-    * print :start_reactor.0:reactor_num
-    * print " "
-    * print "- "
+  905 print "#{0} - "
+  906 format :start_reactor.0:reactor_num
   907 jump *label46 equal :start_reactor.0:emerg_shutdown false
   908 control enabled :start_reactor.0:reactor false
-    * print "emergency mode"
-    * print "\n"
+  909 print "emergency mode\n"
   910 set :start_reactor.0*retval false
   911 jump *label47 always
   912 label *label46
   913 jump *label48 equal :start_reactor.0:enabled false
   914 jump *label50 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
   915 control enabled :start_reactor.0:reactor false
-    * print "STOP unwanted"
-    * print "\n"
+  916 print "STOP unwanted\n"
   917 jump *label49 always
   918 label *label50
   919 op greaterThan *tmp136 :start_reactor.0:reactor_num 1
 
   922 op land *tmp139 *tmp136 *tmp138
   923 jump *label52 equal *tmp139 false
   924 control enabled :start_reactor.0:reactor false
-    * print "STOP system fuel low"
-    * print "\n"
+  925 print "STOP system fuel low\n"
   926 jump *label49 always
   927 label *label52
   928 jump *label54 greaterThan :start_reactor.0:fuel 1
   929 control enabled :start_reactor.0:reactor false
-    * print "STOP fuel low"
-    * print "\n"
+  930 print "STOP fuel low\n"
   931 jump *label49 always
   932 label *label54
   933 jump *label56 greaterThan :start_reactor.0:cryo .CRYO_ABORT
   934 control enabled :start_reactor.0:reactor false
-    * print "STOP out of cryo"
-    * print "\n"
+  935 print "STOP out of cryo\n"
   936 jump *label49 always
   937 label *label56
   938 jump *label58 greaterThanEq :start_reactor.0:secs 30
 
   959 op land *tmp156 *tmp154 *tmp155
   960 jump *label60 equal *tmp156 false
   961 control enabled :start_reactor.0:reactor false
-    * print "START FAIL battery"
-    * print "\n"
+  962 print "START FAIL battery\n"
   963 set :start_reactor.0*retval false
   964 jump *label49 always
   965 label *label60
   966 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
-    * print "Starting "
-    * print :start_reactor.0:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req.0*retval
-    * print "J"
-    * print "\n"
+  967 print "Starting {0} secs, req {0}J\n"
+  968 format :start_reactor.0:time_left
+  969 format :calc_charge_req.0*retval
   970 label *label61
   971 jump *label49 always
   972 label *label58
 
   975 op land *tmp163 *tmp161 *tmp162
   976 jump *label62 equal *tmp163 false
   977 control enabled :start_reactor.0:reactor false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  978 print "ABANDON - battery crit\n"
   979 set :start_reactor.0*retval false
   980 jump *label49 always
   981 label *label62
   982 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   983 op div :start_reactor.0:mins :start_reactor.0:mins 10
-    * print "RUN "
-    * print :start_reactor.0:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  984 print "RUN {0} mins\n"
+  985 format :start_reactor.0:mins
   986 label *label63
   987 label *label59
   988 label *label57
 
  1000 op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
  1001 op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
  1002 jump *label64 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * print "IDLE"
-    * print "\n"
+ 1003 print "IDLE\n"
  1004 set :start_reactor.0*retval false
  1005 jump *label65 always
  1006 label *label64
 
  1010 op div :start_reactor.0:flow *tmp183 10
  1011 op idiv *tmp186 :start_reactor.0:charge_units 0.001
  1012 op div :start_reactor.0:charge *tmp186 10
-    * print "WAIT power. (%"
-    * print :start_reactor.0:charge
-    * print "J + %"
-    * print :start_reactor.0:flow
-    * print "W)"
-    * print "\n"
+ 1013 print "WAIT power. (%{0}J + %{0}W)\n"
+ 1014 format :start_reactor.0:charge
+ 1015 format :start_reactor.0:flow
  1016 set :start_reactor.0*retval false
  1017 jump *label67 always
  1018 label *label66
 
  1021 jump *label68 equal *tmp189 false
  1022 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
  1023 jump *label70 lessThanEq *tmp191 .FUEL_REQ
-    * print "WAIT fuel"
-    * print "\n"
+ 1024 print "WAIT fuel\n"
  1025 jump *label69 always
  1026 label *label70
-    * print "WAIT system fuel"
-    * print "\n"
+ 1027 print "WAIT system fuel\n"
  1028 label *label71
  1029 jump *label69 always
  1030 label *label68
  1031 op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
  1032 jump *label72 greaterThanEq :start_reactor.0:fuel_stored *tmp194
-    * print "WAIT buffer fuel"
-    * print "\n"
+ 1033 print "WAIT buffer fuel\n"
  1034 jump *label73 always
  1035 label *label72
  1036 jump *label74 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
-    * print "WAIT cryo"
-    * print "\n"
+ 1037 print "WAIT cryo\n"
  1038 jump *label75 always
  1039 label *label74
-    * print "STARTUP"
-    * print "\n"
+ 1040 print "STARTUP\n"
  1041 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
  1042 control enabled :start_reactor.0:reactor true
  1043 label *label75

Final code before resolving virtual instructions:

printflush message1
set .PWR_REQ 23000
set .FLOW_REQ 2000
set .PWR_ABANDON 2000
set .PWR_ABORT 5000
set .PWR_RESERVE 0.6
set .FLOW_ABORT -500
set .FUEL_REQ 10
set .FUEL_TOT_REQ 45
set .FUEL_TOT_ABORT 15
set .CRYO_REQ 3
set .CRYO_REQ_EA 2
set .CRYO_ABORT 1
set :fuel_1 false
set :fuel_2 false
set :fuel_3 false
set :fuel_4 false
set :fuel_5 false
sensor *tmp0 node1 @powerNetIn
sensor *tmp1 node1 @powerNetOut
op sub *tmp2 *tmp0 *tmp1
op floor :surplus *tmp2
jump *label5 lessThanEq :surplus 10000
op sub *tmp5 @tick 3600
jump *label6 always
label *label5
set *tmp5 @tick
label *label6
set :t_startup1 *tmp5
set :t_startup2 *tmp5
set :t_startup3 *tmp5
set :t_startup4 *tmp5
set :t_startup5 *tmp5
set .REACTORS_DESIRED 5
set .AVG_SURPLUS 500
set :start_reactor.0:reactor_num 5
label *label7
set .CONTAINER vault1
set .NODE node1
radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
jump *label106 equal :check_radar.0:enemy_found null
control enabled projector1 true
control enabled projector2 true
control config unloader1 @scrap
control config unloader2 @blast-compound
control config unloader3 @scrap
control config unloader4 @blast-compound
control config unloader5 @scrap
control config unloader6 @blast-compound
control config unloader7 @scrap
control enabled reactor1 false
control enabled reactor2 false
control enabled reactor3 false
control enabled reactor4 false
control enabled reactor5 false
set :check_radar.0*retval true
jump *label108 always
label *label106
control enabled projector1 false
control enabled projector2 false
set :check_radar.0*retval false
label *label108
op notEqual *tmp9 switch1 null
sensor *tmp10 switch1 @enabled
op equal *tmp11 *tmp10 false
op land *tmp12 *tmp9 *tmp11
jump *label11 equal *tmp12 false
print "User has disabled emergency switch\n"
set *tmp8 true
jump *label10 always
label *label11
set *tmp8 false
jump *label10 always
label *label10
op or :emerg_shutdown :check_radar.0*retval *tmp8
op sub *tmp102 @tick :t_startup1
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor1 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label114 equal *tmp107 false
set .START_POWER_REQ 0
jump *label116 always
label *label114
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set .START_POWER_REQ :calc_charge_req.0:charge_req
jump *label116 always
label *label116
op sub *tmp102 @tick :t_startup2
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor2 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label118 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label120 always
label *label118
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
jump *label120 always
label *label120
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
op sub *tmp102 @tick :t_startup3
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor3 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label122 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label124 always
label *label122
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
jump *label124 always
label *label124
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
op sub *tmp102 @tick :t_startup4
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor4 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label126 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label128 always
label *label126
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
jump *label128 always
label *label128
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
op sub *tmp102 @tick :t_startup5
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor5 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label130 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label132 always
label *label130
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
jump *label132 always
label *label132
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
set .RET_T_STARTUP :t_startup1
op sub *tmp113 @tick :t_startup1
op idiv :start_reactor.0:secs *tmp113 60
sensor :start_reactor.0:fuel reactor1 @blast-compound
set :start_reactor.0:supply_fuel true
sensor :start_reactor.0:fuel_stored vault1 @blast-compound
sensor :start_reactor.0:cryo reactor1 @cryofluid
sensor *tmp118 node1 @powerNetStored
op floor :start_reactor.0:charge *tmp118
sensor *tmp120 node1 @powerNetIn
sensor *tmp121 node1 @powerNetOut
op sub *tmp122 *tmp120 *tmp121
op floor :start_reactor.0:surplus *tmp122
op mul *tmp124 .AVG_SURPLUS 0.8
op mul *tmp125 :start_reactor.0:surplus 0.2
op add .AVG_SURPLUS *tmp124 *tmp125
sensor :start_reactor.0:enabled reactor1 @enabled
print "#5 - "
jump *label138 equal :emerg_shutdown false
control enabled reactor1 false
print "emergency mode\n"
set :start_reactor.0:supply_fuel false
jump *label171 always
label *label138
jump *label157 equal :start_reactor.0:enabled false
jump *label139 greaterThanEq .REACTORS_DESIRED 5
control enabled reactor1 false
print "STOP unwanted\n"
jump *label170 always
label *label139
op greaterThan *tmp136 5 1
op mul *tmp137 15 5
op lessThan *tmp138 :start_reactor.0:fuel_stored 75
op land *tmp139 true *tmp138
jump *label140 equal *tmp139 false
control enabled reactor1 false
print "STOP system fuel low\n"
jump *label170 always
label *label140
jump *label141 greaterThan :start_reactor.0:fuel 1
control enabled reactor1 false
print "STOP fuel low\n"
jump *label170 always
label *label141
jump *label142 greaterThan :start_reactor.0:cryo 1
control enabled reactor1 false
print "STOP out of cryo\n"
jump *label170 always
label *label142
jump *label149 greaterThanEq :start_reactor.0:secs 30
op sub *tmp102 @tick :t_startup1
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor1 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label144 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label146 always
label *label144
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
jump *label146 always
label *label146
op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
op lessThan *tmp154 *tmp153 5000
op lessThan *tmp155 :start_reactor.0:surplus -500
op land *tmp156 *tmp154 *tmp155
jump *label147 equal *tmp156 false
control enabled reactor1 false
print "START FAIL battery\n"
set :start_reactor.0:supply_fuel false
jump *label170 always
label *label147
op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor.0:time_left
format :calc_charge_req.0*retval
jump *label170 always
label *label149
op lessThan *tmp161 :start_reactor.0:charge 2000
op lessThan *tmp162 :start_reactor.0:surplus -500
op land *tmp163 *tmp161 *tmp162
jump *label150 equal *tmp163 false
control enabled reactor1 false
print "ABANDON - battery crit\n"
set :start_reactor.0:supply_fuel false
jump *label170 always
label *label150
op idiv :start_reactor.0:mins :start_reactor.0:secs 6
op div :start_reactor.0:mins :start_reactor.0:mins 10
print "RUN {0} mins\n"
format :start_reactor.0:mins
jump *label170 always
label *label157
op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
op sub *tmp170 *tmp169 5000
op div *tmp171 *tmp170 23000
op div :start_reactor.0:charge_units *tmp170 38333.333333333336
op div *tmp173 :start_reactor.0:surplus 2000
op max :start_reactor.0:flow_units -0.1 *tmp173
op mul *tmp175 2 5
op add :start_reactor.0:cryo_req 3 10
jump *label158 greaterThanEq .REACTORS_DESIRED 5
print "IDLE\n"
set :start_reactor.0:supply_fuel false
jump *label169 always
label *label158
op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
jump *label159 greaterThanEq *tmp179 1
op idiv *tmp183 :start_reactor.0:flow_units 0.001
op div :start_reactor.0:flow *tmp183 10
op idiv *tmp186 :start_reactor.0:charge_units 0.001
op div :start_reactor.0:charge *tmp186 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor.0:charge
format :start_reactor.0:flow
set :start_reactor.0:supply_fuel false
jump *label168 always
label *label159
op lessThan *tmp188 :start_reactor.0:fuel 10
op land *tmp189 :fuel_1 *tmp188
jump *label162 equal *tmp189 false
op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
jump *label160 lessThanEq *tmp191 10
print "WAIT fuel\n"
jump *label167 always
label *label160
print "WAIT system fuel\n"
jump *label167 always
label *label162
op mul *tmp194 45 5
jump *label163 greaterThanEq :start_reactor.0:fuel_stored 225
print "WAIT buffer fuel\n"
jump *label166 always
label *label163
jump *label164 greaterThanEq :start_reactor.0:cryo 13
print "WAIT cryo\n"
jump *label165 always
label *label164
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor1 true
label *label165
label *label166
label *label167
label *label168
label *label169
label *label170
label *label171
sensor *tmp201 reactor1 @enabled
jump *label172 equal :start_reactor.0:enabled *tmp201
set .RET_T_STARTUP @tick
label *label172
set :fuel_1 :start_reactor.0:supply_fuel
set :t_startup1 .RET_T_STARTUP
jump *label88 equal :start_reactor.0:supply_fuel false
control config unloader1 @blast-compound
jump *label89 always
label *label88
control config unloader1 @scrap
label *label89
jump *label90 notEqual :start_reactor.0:supply_fuel false
control config unloader2 @blast-compound
jump *label91 always
label *label90
control config unloader2 @scrap
label *label91
set .RET_T_STARTUP :t_startup2
op sub *tmp113 @tick :t_startup2
op idiv :start_reactor.0:secs *tmp113 60
sensor :start_reactor.0:fuel reactor2 @blast-compound
set :start_reactor.0:supply_fuel true
sensor :start_reactor.0:fuel_stored vault1 @blast-compound
sensor :start_reactor.0:cryo reactor2 @cryofluid
sensor *tmp118 node1 @powerNetStored
op floor :start_reactor.0:charge *tmp118
sensor *tmp120 node1 @powerNetIn
sensor *tmp121 node1 @powerNetOut
op sub *tmp122 *tmp120 *tmp121
op floor :start_reactor.0:surplus *tmp122
op mul *tmp124 .AVG_SURPLUS 0.8
op mul *tmp125 :start_reactor.0:surplus 0.2
op add .AVG_SURPLUS *tmp124 *tmp125
sensor :start_reactor.0:enabled reactor2 @enabled
print "#5 - "
jump *label176 equal :emerg_shutdown false
control enabled reactor2 false
print "emergency mode\n"
set :start_reactor.0:supply_fuel false
jump *label209 always
label *label176
jump *label195 equal :start_reactor.0:enabled false
jump *label177 greaterThanEq .REACTORS_DESIRED 5
control enabled reactor2 false
print "STOP unwanted\n"
jump *label208 always
label *label177
op greaterThan *tmp136 5 1
op mul *tmp137 15 5
op lessThan *tmp138 :start_reactor.0:fuel_stored 75
op land *tmp139 true *tmp138
jump *label178 equal *tmp139 false
control enabled reactor2 false
print "STOP system fuel low\n"
jump *label208 always
label *label178
jump *label179 greaterThan :start_reactor.0:fuel 1
control enabled reactor2 false
print "STOP fuel low\n"
jump *label208 always
label *label179
jump *label180 greaterThan :start_reactor.0:cryo 1
control enabled reactor2 false
print "STOP out of cryo\n"
jump *label208 always
label *label180
jump *label187 greaterThanEq :start_reactor.0:secs 30
op sub *tmp102 @tick :t_startup2
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor2 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label182 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label184 always
label *label182
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
jump *label184 always
label *label184
op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
op lessThan *tmp154 *tmp153 5000
op lessThan *tmp155 :start_reactor.0:surplus -500
op land *tmp156 *tmp154 *tmp155
jump *label185 equal *tmp156 false
control enabled reactor2 false
print "START FAIL battery\n"
set :start_reactor.0:supply_fuel false
jump *label208 always
label *label185
op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor.0:time_left
format :calc_charge_req.0*retval
jump *label208 always
label *label187
op lessThan *tmp161 :start_reactor.0:charge 2000
op lessThan *tmp162 :start_reactor.0:surplus -500
op land *tmp163 *tmp161 *tmp162
jump *label188 equal *tmp163 false
control enabled reactor2 false
print "ABANDON - battery crit\n"
set :start_reactor.0:supply_fuel false
jump *label208 always
label *label188
op idiv :start_reactor.0:mins :start_reactor.0:secs 6
op div :start_reactor.0:mins :start_reactor.0:mins 10
print "RUN {0} mins\n"
format :start_reactor.0:mins
jump *label208 always
label *label195
op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
op sub *tmp170 *tmp169 5000
op div *tmp171 *tmp170 23000
op div :start_reactor.0:charge_units *tmp170 38333.333333333336
op div *tmp173 :start_reactor.0:surplus 2000
op max :start_reactor.0:flow_units -0.1 *tmp173
op mul *tmp175 2 5
op add :start_reactor.0:cryo_req 3 10
jump *label196 greaterThanEq .REACTORS_DESIRED 5
print "IDLE\n"
set :start_reactor.0:supply_fuel false
jump *label207 always
label *label196
op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
jump *label197 greaterThanEq *tmp179 1
op idiv *tmp183 :start_reactor.0:flow_units 0.001
op div :start_reactor.0:flow *tmp183 10
op idiv *tmp186 :start_reactor.0:charge_units 0.001
op div :start_reactor.0:charge *tmp186 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor.0:charge
format :start_reactor.0:flow
set :start_reactor.0:supply_fuel false
jump *label206 always
label *label197
op lessThan *tmp188 :start_reactor.0:fuel 10
op land *tmp189 :fuel_2 *tmp188
jump *label200 equal *tmp189 false
op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
jump *label198 lessThanEq *tmp191 10
print "WAIT fuel\n"
jump *label205 always
label *label198
print "WAIT system fuel\n"
jump *label205 always
label *label200
op mul *tmp194 45 5
jump *label201 greaterThanEq :start_reactor.0:fuel_stored 225
print "WAIT buffer fuel\n"
jump *label204 always
label *label201
jump *label202 greaterThanEq :start_reactor.0:cryo 13
print "WAIT cryo\n"
jump *label203 always
label *label202
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor2 true
label *label203
label *label204
label *label205
label *label206
label *label207
label *label208
label *label209
sensor *tmp201 reactor2 @enabled
jump *label210 equal :start_reactor.0:enabled *tmp201
set .RET_T_STARTUP @tick
label *label210
set :fuel_2 :start_reactor.0:supply_fuel
set :t_startup2 .RET_T_STARTUP
jump *label94 equal :start_reactor.0:supply_fuel false
control config unloader3 @blast-compound
jump *label95 always
label *label94
control config unloader3 @scrap
label *label95
jump *label96 notEqual :start_reactor.0:supply_fuel false
control config unloader4 @blast-compound
jump *label97 always
label *label96
control config unloader4 @scrap
label *label97
radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
jump *label110 equal :check_radar.0:enemy_found null
control enabled projector1 true
control enabled projector2 true
control config unloader1 @scrap
control config unloader2 @blast-compound
control config unloader3 @scrap
control config unloader4 @blast-compound
control config unloader5 @scrap
control config unloader6 @blast-compound
control config unloader7 @scrap
control enabled reactor1 false
control enabled reactor2 false
control enabled reactor3 false
control enabled reactor4 false
control enabled reactor5 false
set :check_radar.0*retval true
jump *label112 always
label *label110
control enabled projector1 false
control enabled projector2 false
set :check_radar.0*retval false
label *label112
op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
set .RET_T_STARTUP :t_startup3
op sub *tmp113 @tick :t_startup3
op idiv :start_reactor.0:secs *tmp113 60
sensor :start_reactor.0:fuel reactor3 @blast-compound
set :start_reactor.0:supply_fuel true
sensor :start_reactor.0:fuel_stored vault1 @blast-compound
sensor :start_reactor.0:cryo reactor3 @cryofluid
sensor *tmp118 node1 @powerNetStored
op floor :start_reactor.0:charge *tmp118
sensor *tmp120 node1 @powerNetIn
sensor *tmp121 node1 @powerNetOut
op sub *tmp122 *tmp120 *tmp121
op floor :start_reactor.0:surplus *tmp122
op mul *tmp124 .AVG_SURPLUS 0.8
op mul *tmp125 :start_reactor.0:surplus 0.2
op add .AVG_SURPLUS *tmp124 *tmp125
sensor :start_reactor.0:enabled reactor3 @enabled
print "#5 - "
jump *label214 equal :emerg_shutdown false
control enabled reactor3 false
print "emergency mode\n"
set :start_reactor.0:supply_fuel false
jump *label247 always
label *label214
jump *label233 equal :start_reactor.0:enabled false
jump *label215 greaterThanEq .REACTORS_DESIRED 5
control enabled reactor3 false
print "STOP unwanted\n"
jump *label246 always
label *label215
op greaterThan *tmp136 5 1
op mul *tmp137 15 5
op lessThan *tmp138 :start_reactor.0:fuel_stored 75
op land *tmp139 true *tmp138
jump *label216 equal *tmp139 false
control enabled reactor3 false
print "STOP system fuel low\n"
jump *label246 always
label *label216
jump *label217 greaterThan :start_reactor.0:fuel 1
control enabled reactor3 false
print "STOP fuel low\n"
jump *label246 always
label *label217
jump *label218 greaterThan :start_reactor.0:cryo 1
control enabled reactor3 false
print "STOP out of cryo\n"
jump *label246 always
label *label218
jump *label225 greaterThanEq :start_reactor.0:secs 30
op sub *tmp102 @tick :t_startup3
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor3 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label220 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label222 always
label *label220
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
jump *label222 always
label *label222
op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
op lessThan *tmp154 *tmp153 5000
op lessThan *tmp155 :start_reactor.0:surplus -500
op land *tmp156 *tmp154 *tmp155
jump *label223 equal *tmp156 false
control enabled reactor3 false
print "START FAIL battery\n"
set :start_reactor.0:supply_fuel false
jump *label246 always
label *label223
op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor.0:time_left
format :calc_charge_req.0*retval
jump *label246 always
label *label225
op lessThan *tmp161 :start_reactor.0:charge 2000
op lessThan *tmp162 :start_reactor.0:surplus -500
op land *tmp163 *tmp161 *tmp162
jump *label226 equal *tmp163 false
control enabled reactor3 false
print "ABANDON - battery crit\n"
set :start_reactor.0:supply_fuel false
jump *label246 always
label *label226
op idiv :start_reactor.0:mins :start_reactor.0:secs 6
op div :start_reactor.0:mins :start_reactor.0:mins 10
print "RUN {0} mins\n"
format :start_reactor.0:mins
jump *label246 always
label *label233
op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
op sub *tmp170 *tmp169 5000
op div *tmp171 *tmp170 23000
op div :start_reactor.0:charge_units *tmp170 38333.333333333336
op div *tmp173 :start_reactor.0:surplus 2000
op max :start_reactor.0:flow_units -0.1 *tmp173
op mul *tmp175 2 5
op add :start_reactor.0:cryo_req 3 10
jump *label234 greaterThanEq .REACTORS_DESIRED 5
print "IDLE\n"
set :start_reactor.0:supply_fuel false
jump *label245 always
label *label234
op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
jump *label235 greaterThanEq *tmp179 1
op idiv *tmp183 :start_reactor.0:flow_units 0.001
op div :start_reactor.0:flow *tmp183 10
op idiv *tmp186 :start_reactor.0:charge_units 0.001
op div :start_reactor.0:charge *tmp186 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor.0:charge
format :start_reactor.0:flow
set :start_reactor.0:supply_fuel false
jump *label244 always
label *label235
op lessThan *tmp188 :start_reactor.0:fuel 10
op land *tmp189 :fuel_3 *tmp188
jump *label238 equal *tmp189 false
op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
jump *label236 lessThanEq *tmp191 10
print "WAIT fuel\n"
jump *label243 always
label *label236
print "WAIT system fuel\n"
jump *label243 always
label *label238
op mul *tmp194 45 5
jump *label239 greaterThanEq :start_reactor.0:fuel_stored 225
print "WAIT buffer fuel\n"
jump *label242 always
label *label239
jump *label240 greaterThanEq :start_reactor.0:cryo 13
print "WAIT cryo\n"
jump *label241 always
label *label240
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor3 true
label *label241
label *label242
label *label243
label *label244
label *label245
label *label246
label *label247
sensor *tmp201 reactor3 @enabled
jump *label248 equal :start_reactor.0:enabled *tmp201
set .RET_T_STARTUP @tick
label *label248
set :fuel_3 :start_reactor.0:supply_fuel
set :t_startup3 .RET_T_STARTUP
set :start_reactor.0:reactor reactor4
set :start_reactor.0:emerg_shutdown :emerg_shutdown
set :start_reactor.0:fuel_on :fuel_4
set :start_reactor.0:t_startup :t_startup4
call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
set :fuel_4 :start_reactor.0*retval
set :t_startup4 .RET_T_STARTUP
set :start_reactor.0:reactor reactor5
set :start_reactor.0:emerg_shutdown :emerg_shutdown
set :start_reactor.0:fuel_on :fuel_5
set :start_reactor.0:t_startup :t_startup5
call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
set :fuel_5 :start_reactor.0*retval
set :t_startup5 .RET_T_STARTUP
op or *tmp27 :start_reactor.0:supply_fuel :fuel_4
op or :fuel_many *tmp27 :start_reactor.0*retval
jump *label100 equal :fuel_many false
control config unloader5 @blast-compound
jump *label101 always
label *label100
control config unloader5 @scrap
label *label101
jump *label102 notEqual :fuel_many false
control config unloader6 @blast-compound
jump *label103 always
label *label102
control config unloader6 @scrap
label *label103
op or *tmp30 :fuel_1 :fuel_2
op or :throttle_blast.0:reactors_fueled *tmp30 :fuel_many
sensor *tmp33 node1 @powerNetStored
op floor :throttle_blast.0:charge *tmp33
sensor *tmp35 node1 @powerNetIn
sensor *tmp36 node1 @powerNetOut
op sub *tmp37 *tmp35 *tmp36
op floor :throttle_blast.0:surplus *tmp37
sensor :throttle_blast.0:fuel_stored vault1 @blast-compound
op lessThan *tmp40 :throttle_blast.0:charge 5000
op lessThan *tmp41 :throttle_blast.0:surplus -500
op land *tmp42 *tmp40 *tmp41
op or *tmp43 *tmp42 :emerg_shutdown
jump *label14 equal *tmp43 false
set :throttle_blast.0:limit 0
print "Central Fuel at {0} / 0 - "
format :throttle_blast.0:fuel_stored
jump *label16 equal :emerg_shutdown false
print " Enemies detected.\n"
jump *label15 always
label *label16
print " Critical power.\n"
jump *label15 always
label *label14
jump *label18 notEqual :throttle_blast.0:reactors_fueled false
set :throttle_blast.0:limit 150
print "Fuel {0} / 150 (due to emergency)\n"
format :throttle_blast.0:fuel_stored
jump *label19 always
label *label18
set :throttle_blast.0:limit 800
print "Fuel {0} / 800\n"
format :throttle_blast.0:fuel_stored
label *label19
label *label15
jump *label20 greaterThanEq :throttle_blast.0:fuel_stored :throttle_blast.0:limit
control config unloader7 @pyratite
jump *label21 always
label *label20
control config unloader7 @scrap
label *label21
sensor *tmp53 node1 @powerNetStored
sensor *tmp54 node1 @powerNetCapacity
op div :diff_generators.0:stored_pc *tmp53 *tmp54
op greaterThan *tmp56 :diff_generators.0:stored_pc 0.9
op lessThan *tmp57 .START_POWER_REQ 10
op land *tmp58 *tmp56 *tmp57
jump *label23 equal *tmp58 false
print "Differential now idle.\n"
control enabled generator1 false
control enabled generator2 false
jump *label24 always
label *label23
control enabled generator1 true
control enabled generator2 true
label *label24
op idiv *tmp93 .AVG_SURPLUS 100
op div :surplus *tmp93 10
sensor :kilo.0:val node1 @powerNetStored
op idiv *tmp93 :kilo.0:val 100
op div :kilo.0*retval *tmp93 10
set :charge :kilo.0*retval
jump *label25 lessThanEq .START_POWER_REQ 0
op idiv *tmp93 .START_POWER_REQ 100
op div :kilo.0*retval *tmp93 10
print "Req {0}kJ / {0}kJ. {0}kW flow.\n"
format :kilo.0*retval
format :charge
format :surplus
jump *label26 always
label *label25
print "Power {0}kW, {0}kJ\n"
format :surplus
format :kilo.0*retval
sensor *tmp71 node1 @powerNetStored
sensor *tmp72 node1 @powerNetCapacity
op div :update_reactors_desired.0:stored *tmp71 *tmp72
op greaterThan *tmp74 :update_reactors_desired.0:stored 0.98
op greaterThan *tmp76 .AVG_SURPLUS 16500
op land *tmp77 *tmp74 *tmp76
jump *label28 equal *tmp77 false
jump *label30 lessThanEq .REACTORS_DESIRED 2
op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
op sub .AVG_SURPLUS .AVG_SURPLUS 6500
label *label30
label *label28
op lessThan *tmp81 :update_reactors_desired.0:stored 0.8
op lessThan *tmp83 .AVG_SURPLUS 8000
op land *tmp84 *tmp81 *tmp83
jump *label32 equal *tmp84 false
op sub *tmp86 .AVG_SURPLUS 10000
op idiv *tmp87 *tmp86 6500
op max :update_reactors_desired.0:needed 1 *tmp87
op add *tmp89 :update_reactors_desired.0:needed .REACTORS_DESIRED
op min .REACTORS_DESIRED 5 *tmp89
label *label32
label *label26
jump *label34 equal .REACTORS_DESIRED 5
print "Require only {0}/5 reactors.\n"
format .REACTORS_DESIRED
label *label34
printflush message1
jump *label7 always
label *label3
set .RET_T_STARTUP :start_reactor.0:t_startup
op sub *tmp113 @tick :start_reactor.0:t_startup
op idiv :start_reactor.0:secs *tmp113 60
sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
set :start_reactor.0*retval true
sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
sensor *tmp118 .NODE @powerNetStored
op floor :start_reactor.0:charge *tmp118
sensor *tmp120 .NODE @powerNetIn
sensor *tmp121 .NODE @powerNetOut
op sub *tmp122 *tmp120 *tmp121
op floor :start_reactor.0:surplus *tmp122
op mul *tmp124 .AVG_SURPLUS 0.8
op mul *tmp125 :start_reactor.0:surplus 0.2
op add .AVG_SURPLUS *tmp124 *tmp125
sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
print "#{0} - "
format :start_reactor.0:reactor_num
jump *label46 equal :start_reactor.0:emerg_shutdown false
control enabled :start_reactor.0:reactor false
print "emergency mode\n"
set :start_reactor.0*retval false
jump *label47 always
label *label46
jump *label48 equal :start_reactor.0:enabled false
jump *label50 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
control enabled :start_reactor.0:reactor false
print "STOP unwanted\n"
jump *label49 always
label *label50
op greaterThan *tmp136 :start_reactor.0:reactor_num 1
op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
op land *tmp139 *tmp136 *tmp138
jump *label52 equal *tmp139 false
control enabled :start_reactor.0:reactor false
print "STOP system fuel low\n"
jump *label49 always
label *label52
jump *label54 greaterThan :start_reactor.0:fuel 1
control enabled :start_reactor.0:reactor false
print "STOP fuel low\n"
jump *label49 always
label *label54
jump *label56 greaterThan :start_reactor.0:cryo .CRYO_ABORT
control enabled :start_reactor.0:reactor false
print "STOP out of cryo\n"
jump *label49 always
label *label56
jump *label58 greaterThanEq :start_reactor.0:secs 30
op sub *tmp102 @tick :start_reactor.0:t_startup
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 :start_reactor.0:reactor @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label134 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label136 always
label *label134
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0*retval *tmp110 0.04
jump *label136 always
label *label136
op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
op lessThan *tmp154 *tmp153 .PWR_ABORT
op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
op land *tmp156 *tmp154 *tmp155
jump *label60 equal *tmp156 false
control enabled :start_reactor.0:reactor false
print "START FAIL battery\n"
set :start_reactor.0*retval false
jump *label49 always
label *label60
op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor.0:time_left
format :calc_charge_req.0*retval
jump *label49 always
label *label58
op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
op land *tmp163 *tmp161 *tmp162
jump *label62 equal *tmp163 false
control enabled :start_reactor.0:reactor false
print "ABANDON - battery crit\n"
set :start_reactor.0*retval false
jump *label49 always
label *label62
op idiv :start_reactor.0:mins :start_reactor.0:secs 6
op div :start_reactor.0:mins :start_reactor.0:mins 10
print "RUN {0} mins\n"
format :start_reactor.0:mins
jump *label49 always
label *label48
op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
op sub *tmp170 *tmp169 .PWR_ABORT
op div *tmp171 *tmp170 .PWR_REQ
op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
op max :start_reactor.0:flow_units -0.1 *tmp173
op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
jump *label64 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
print "IDLE\n"
set :start_reactor.0*retval false
jump *label65 always
label *label64
op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
jump *label66 greaterThanEq *tmp179 1
op idiv *tmp183 :start_reactor.0:flow_units 0.001
op div :start_reactor.0:flow *tmp183 10
op idiv *tmp186 :start_reactor.0:charge_units 0.001
op div :start_reactor.0:charge *tmp186 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor.0:charge
format :start_reactor.0:flow
set :start_reactor.0*retval false
jump *label67 always
label *label66
op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
op land *tmp189 :start_reactor.0:fuel_on *tmp188
jump *label68 equal *tmp189 false
op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
jump *label70 lessThanEq *tmp191 .FUEL_REQ
print "WAIT fuel\n"
jump *label69 always
label *label70
print "WAIT system fuel\n"
jump *label69 always
label *label68
op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
jump *label72 greaterThanEq :start_reactor.0:fuel_stored *tmp194
print "WAIT buffer fuel\n"
jump *label73 always
label *label72
jump *label74 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
print "WAIT cryo\n"
jump *label75 always
label *label74
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
control enabled :start_reactor.0:reactor true
label *label75
label *label73
label *label69
label *label67
label *label65
label *label49
label *label47
sensor *tmp201 :start_reactor.0:reactor @enabled
jump *label76 equal :start_reactor.0:enabled *tmp201
set .RET_T_STARTUP @tick
label *label76
return :start_reactor.0*retaddr
