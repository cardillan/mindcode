   661 instructions before optimizations.
    64 instructions eliminated by Temp Variables Elimination.
    60 instructions eliminated by Dead Code Elimination (10 iterations).
     1 instructions eliminated by Jump Normalization (3 iterations).
    17 instructions eliminated by Jump Optimization (3 iterations).
     7 instructions eliminated by Single Step Elimination (4 iterations).
     3 instructions eliminated by Expression Optimization (2 iterations).
     3 instructions eliminated by If Expression Optimization (2 iterations).
    60 instructions eliminated by Data Flow Optimization (5 passes, 18 iterations).
   446 instructions eliminated by Function Inlining (7 iterations).
    15 function calls inlined by Function Inlining.
     0 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 520):
  * Inline function 'kilo' defined at line 117:1                 cost     3, benefit      218.8, efficiency       72.9 (-4 instructions)
    Inline function 'update_fuel' defined at line 121:1          cost    13, benefit      337.5, efficiency       26.0
    Inline function 'calc_charge_req' defined at line 126:1      cost    64, benefit      503.9, efficiency        7.9
  ! Inline function 'start_reactor' defined at line 140:1        cost   591, benefit      687.5, efficiency        1.2
    Inline function 'check_radar' defined at line 259:1          cost    21, benefit      175.0, efficiency        8.3
    Inline function call at line 69:22                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 73:23                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 74:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 75:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 76:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 77:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 80:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 82:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 84:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 86:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 88:23                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 89:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 96:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 102:15                          cost     2, benefit       87.5, efficiency       43.8
    Inline function call at line 103:14                          cost     2, benefit       87.5, efficiency       43.8
    Inline function call at line 105:15                          cost     2, benefit       43.8, efficiency       21.9
    Inline function call at line 173:26                          cost    13, benefit        3.9, efficiency        0.3

Pass 1: speed optimization selection (cost limit 524):
  * Inline function 'update_fuel' defined at line 121:1          cost    13, benefit      337.5, efficiency       26.0 (-1 instructions)
    Inline function 'calc_charge_req' defined at line 126:1      cost    64, benefit      503.9, efficiency        7.9
  ! Inline function 'start_reactor' defined at line 140:1        cost   591, benefit      687.5, efficiency        1.2
    Inline function 'check_radar' defined at line 259:1          cost    21, benefit      175.0, efficiency        8.3
    Inline function call at line 69:22                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 73:23                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 74:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 75:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 76:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 77:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 80:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 82:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 84:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 86:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 88:23                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 89:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 96:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 173:26                          cost    13, benefit        3.9, efficiency        0.3

Pass 1: speed optimization selection (cost limit 525):
    Inline function 'calc_charge_req' defined at line 126:1      cost    64, benefit      503.9, efficiency        7.9
  ! Inline function 'start_reactor' defined at line 140:1        cost   591, benefit      687.5, efficiency        1.2
  * Inline function 'check_radar' defined at line 259:1          cost    21, benefit      175.0, efficiency        8.3 (+6 instructions)
    Inline function call at line 69:22                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 73:23                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 74:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 75:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 76:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 77:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 80:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 84:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 88:23                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 89:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 173:26                          cost    13, benefit        3.9, efficiency        0.3

Pass 1: speed optimization selection (cost limit 519):
  * Inline function 'calc_charge_req' defined at line 126:1      cost    64, benefit      503.9, efficiency        7.9 (+44 instructions)
  ! Inline function 'start_reactor' defined at line 140:1        cost   591, benefit      687.5, efficiency        1.2
    Inline function call at line 73:23                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 74:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 75:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 76:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 77:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 80:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 84:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 89:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 173:26                          cost    13, benefit        3.9, efficiency        0.3

Pass 1: speed optimization selection (cost limit 475):
  ! Inline function 'start_reactor' defined at line 140:1        cost   631, benefit      687.5, efficiency        1.1
  * Inline function call at line 80:14                           cost   158, benefit      137.5, efficiency        0.9 (-525 instructions)
    Inline function call at line 84:14                           cost   158, benefit      137.5, efficiency        0.9
    Inline function call at line 89:14                           cost   158, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   158, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   158, benefit      137.5, efficiency        0.9

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-20 instructions):
 
    70 print "\n"
    71 set *tmp8 true
    72 jump *label10 always
-    * set *tmp13 null
    73 jump *label12 always
    74 label *label11
-    * set *tmp13 null
    75 label *label12
    76 set *tmp8 false
    77 jump *label10 always
 
   116 set :update_fuel.0:uld_in .ULD_IN_1
   117 set :update_fuel.0:uld_out .ULD_OUT_1
   118 call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
-    * set *tmp20 :update_fuel.0*retval
   119 set :start_reactor.0:reactor reactor2
   120 set :start_reactor.0:reactor_num 2
   121 set :start_reactor.0:emerg_shutdown :emerg_shutdown
 
   129 set :update_fuel.0:uld_in .ULD_IN_2
   130 set :update_fuel.0:uld_out .ULD_OUT_2
   131 call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
-    * set *tmp22 :update_fuel.0*retval
   132 set :check_radar.0:unit .TOWER
   133 call *label4 :check_radar.0*retaddr :check_radar.0*retval
   134 set *tmp23 :check_radar.0*retval
 
   167 set :update_fuel.0:uld_in .ULD_IN_MANY
   168 set :update_fuel.0:uld_out .ULD_OUT_MANY
   169 call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
-    * set *tmp29 :update_fuel.0*retval
   170 op or *tmp30 :fuel_1 :fuel_2
   171 op or *tmp31 *tmp30 :fuel_many
   172 # "Function: def throttle_blast(in reactors_fueled, in emerg_shutdown)"
 
   205 print "\n"
   206 set *tmp45 null
   207 label *label17
-    * set *tmp44 *tmp45
   208 jump *label15 always
   209 label *label14
   210 op equal *tmp46 :throttle_blast.0:reactors_fueled false
 
   231 print "n"
   232 set *tmp47 null
   233 label *label19
-    * set *tmp44 *tmp47
   234 label *label15
   235 op lessThan *tmp48 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   236 set *tmp32 *tmp48
 
   266 control enabled generator2 true
   267 set *tmp59 true
   268 label *label24
-    * set *tmp52 *tmp59
   269 label *label22
   270 set :kilo.0:val .AVG_SURPLUS
   271 call *label0 :kilo.0*retaddr :kilo.0*retval
 
   290 print :surplus
   291 print "kW flow."
   292 print "\n"
-    * set *tmp68 null
   293 jump *label26 always
   294 label *label25
   295 print "Power "
 
   317 label *label30
   318 set *tmp80 null
   319 label *label31
-    * set *tmp78 *tmp80
   320 jump *label29 always
   321 label *label28
-    * set *tmp78 null
   322 label *label29
   323 op lessThan *tmp81 :update_reactors_desired.0:stored 0.8
   324 op mul *tmp82 .GOAL_BUFFER 0.8
 
   339 label *label33
   340 set *tmp70 *tmp85
   341 label *label27
-    * set *tmp68 *tmp70
   342 label *label26
   343 op notEqual *tmp91 .REACTORS_DESIRED 5
   344 jump *label34 equal *tmp91 false
 
   346 print .REACTORS_DESIRED
   347 print "/5 reactors."
   348 print "\n"
-    * set *tmp92 null
   349 jump *label35 always
   350 label *label34
-    * set *tmp92 null
   351 label *label35
   352 printflush message1
   353 label *label8
 
   399 jump *label43 equal *tmp107 false
   400 set :calc_charge_req.0*retval 0
   401 jump *label42 always
-    * set *tmp108 null
   402 jump *label44 always
   403 label *label43
-    * set *tmp108 null
   404 label *label44
   405 op sub *tmp109 30 :calc_charge_req.0:secs
   406 set :calc_charge_req.0:time_left *tmp109
 
   451 print "emergency mode"
   452 print "\n"
   453 set :start_reactor.0:supply_fuel false
-    * set *tmp128 :start_reactor.0:supply_fuel
   454 jump *label47 always
   455 label *label46
   456 jump *label48 equal :start_reactor.0:enabled false
 
   652 label *label65
   653 set *tmp131 *tmp178
   654 label *label49
-    * set *tmp128 *tmp131
   655 label *label47
   656 sensor *tmp201 :start_reactor.0:reactor @enabled
   657 op notEqual *tmp202 :start_reactor.0:enabled *tmp201
   658 jump *label76 equal *tmp202 false
   659 set *tmp204 @tick
   660 set .RET_T_STARTUP *tmp204
-    * set *tmp203 .RET_T_STARTUP
   661 jump *label77 always
   662 label *label76
-    * set *tmp203 null
   663 label *label77
   664 set :start_reactor.0*retval :start_reactor.0:supply_fuel
   665 jump *label45 always

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-12 instructions):
 
   198 jump *label16 equal :throttle_blast.0:emerg_shutdown false
   199 print " Enemies detected."
   200 print "\n"
-    * set *tmp45 null
   201 jump *label17 always
   202 label *label16
   203 print " Critical power."
   204 print "\n"
-    * set *tmp45 null
   205 label *label17
   206 jump *label15 always
   207 label *label14
 
   216 print " "
   217 print "(due to emergency)"
   218 print "\n"
-    * set *tmp47 null
   219 jump *label19 always
   220 label *label18
   221 set :throttle_blast.0:limit .FUEL_LIMIT
 
   226 print :throttle_blast.0:limit
   227 print "\"
   228 print "n"
-    * set *tmp47 null
   229 label *label19
   230 label *label15
   231 op lessThan *tmp48 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
 
   255 print "\n"
   256 control enabled generator1 false
   257 control enabled generator2 false
-    * set *tmp59 false
   258 jump *label24 always
   259 label *label23
   260 control enabled generator1 true
   261 control enabled generator2 true
-    * set *tmp59 true
   262 label *label24
   263 label *label22
   264 set :kilo.0:val .AVG_SURPLUS
 
   306 jump *label30 equal *tmp79 false
   307 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   308 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
-    * set *tmp80 .AVG_SURPLUS
   309 jump *label31 always
   310 label *label30
-    * set *tmp80 null
   311 label *label31
   312 jump *label29 always
   313 label *label28
 
   329 label *label32
   330 set *tmp85 null
   331 label *label33
-    * set *tmp70 *tmp85
   332 label *label27
   333 label *label26
   334 op notEqual *tmp91 .REACTORS_DESIRED 5
 
   374 set *tmp101 .FUEL_OFF
   375 label *label41
   376 control config *tmp98 *tmp101
-    * set :update_fuel.0*retval *tmp101
   377 label *label37
   378 return :update_fuel.0*retaddr
   379 end
 
   549 label *label53
   550 set *tmp133 *tmp140
   551 label *label51
-    * set *tmp131 *tmp133
   552 jump *label49 always
   553 label *label48
   554 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
 
   639 label *label67
   640 set *tmp178 *tmp181
   641 label *label65
-    * set *tmp131 *tmp178
   642 label *label49
   643 label *label47
   644 sensor *tmp201 :start_reactor.0:reactor @enabled

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-6 instructions):
 
   324 op add *tmp89 :update_reactors_desired.0:needed .REACTORS_DESIRED
   325 op min *tmp90 5 *tmp89
   326 set .REACTORS_DESIRED *tmp90
-    * set *tmp85 .REACTORS_DESIRED
   327 jump *label33 always
   328 label *label32
-    * set *tmp85 null
   329 label *label33
   330 label *label27
   331 label *label26
 
   448 control enabled *tmp134 false
   449 print "STOP unwanted"
   450 print "\n"
-    * set *tmp133 null
   451 jump *label51 always
   452 label *label50
   453 op greaterThan *tmp136 :start_reactor.0:reactor_num 1
 
   544 label *label55
   545 set *tmp140 *tmp144
   546 label *label53
-    * set *tmp133 *tmp140
   547 label *label51
   548 jump *label49 always
   549 label *label48
 
   563 print "IDLE"
   564 print "\n"
   565 set :start_reactor.0:supply_fuel false
-    * set *tmp178 :start_reactor.0:supply_fuel
   566 jump *label65 always
   567 label *label64
   568 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
 
   632 label *label69
   633 set *tmp181 *tmp190
   634 label *label67
-    * set *tmp178 *tmp181
   635 label *label65
   636 label *label49
   637 label *label47

Modifications by Initial phase, Dead Code Elimination, iteration 4 (-4 instructions):
 
   459 control enabled *tmp141 false
   460 print "STOP system fuel low"
   461 print "\n"
-    * set *tmp140 null
   462 jump *label53 always
   463 label *label52
   464 op lessThanEq *tmp143 :start_reactor.0:fuel 1
 
   541 label *label57
   542 set *tmp144 *tmp148
   543 label *label55
-    * set *tmp140 *tmp144
   544 label *label53
   545 label *label51
   546 jump *label49 always
 
   581 print "W)"
   582 print "\n"
   583 set :start_reactor.0:supply_fuel false
-    * set *tmp181 :start_reactor.0:supply_fuel
   584 jump *label67 always
   585 label *label66
   586 op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
 
   627 label *label73
   628 set *tmp190 *tmp196
   629 label *label69
-    * set *tmp181 *tmp190
   630 label *label67
   631 label *label65
   632 label *label49

Modifications by Initial phase, Dead Code Elimination, iteration 5 (-4 instructions):
 
   467 control enabled *tmp145 false
   468 print "STOP fuel low"
   469 print "\n"
-    * set *tmp144 null
   470 jump *label55 always
   471 label *label54
   472 op lessThanEq *tmp147 :start_reactor.0:cryo .CRYO_ABORT
 
   538 label *label59
   539 set *tmp148 *tmp152
   540 label *label57
-    * set *tmp144 *tmp148
   541 label *label55
   542 label *label53
   543 label *label51
 
   596 print "\n"
   597 set *tmp193 null
   598 label *label71
-    * set *tmp190 *tmp193
   599 jump *label69 always
   600 label *label68
   601 op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
 
   622 label *label75
   623 set *tmp196 *tmp198
   624 label *label73
-    * set *tmp190 *tmp196
   625 label *label69
   626 label *label67
   627 label *label65

Modifications by Initial phase, Dead Code Elimination, iteration 6 (-6 instructions):
 
   475 control enabled *tmp149 false
   476 print "STOP out of cryo"
   477 print "\n"
-    * set *tmp148 null
   478 jump *label57 always
   479 label *label56
   480 op lessThan *tmp151 :start_reactor.0:secs 30
 
   535 label *label63
   536 set *tmp152 *tmp164
   537 label *label59
-    * set *tmp148 *tmp152
   538 label *label57
   539 label *label55
   540 label *label53
 
   587 jump *label70 equal *tmp192 false
   588 print "WAIT fuel"
   589 print "\n"
-    * set *tmp193 null
   590 jump *label71 always
   591 label *label70
   592 print "WAIT system fuel"
   593 print "\n"
-    * set *tmp193 null
   594 label *label71
   595 jump *label69 always
   596 label *label68
 
   599 jump *label72 equal *tmp195 false
   600 print "WAIT buffer fuel"
   601 print "\n"
-    * set *tmp196 null
   602 jump *label73 always
   603 label *label72
   604 op lessThan *tmp197 :start_reactor.0:cryo :start_reactor.0:cryo_req
 
   615 control enabled *tmp199 true
   616 set *tmp198 true
   617 label *label75
-    * set *tmp196 *tmp198
   618 label *label73
   619 label *label69
   620 label *label67

Modifications by Initial phase, Dead Code Elimination, iteration 7 (-4 instructions):
 
   507 print "\n"
   508 set *tmp157 null
   509 label *label61
-    * set *tmp152 *tmp157
   510 jump *label59 always
   511 label *label58
   512 op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
 
   532 print "\n"
   533 set *tmp164 null
   534 label *label63
-    * set *tmp152 *tmp164
   535 label *label59
   536 label *label57
   537 label *label55
 
   603 jump *label74 equal *tmp197 false
   604 print "WAIT cryo"
   605 print "\n"
-    * set *tmp198 null
   606 jump *label75 always
   607 label *label74
   608 print "STARTUP"
 
   610 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
   611 set *tmp199 :start_reactor.0:reactor
   612 control enabled *tmp199 true
-    * set *tmp198 true
   613 label *label75
   614 label *label73
   615 label *label69

Modifications by Initial phase, Dead Code Elimination, iteration 8 (-4 instructions):
 
   493 print "START FAIL battery"
   494 print "\n"
   495 set :start_reactor.0:supply_fuel false
-    * set *tmp157 :start_reactor.0:supply_fuel
   496 jump *label61 always
   497 label *label60
   498 op sub *tmp160 30 :start_reactor.0:secs
 
   504 print :start_reactor.0:charge_req
   505 print "J"
   506 print "\n"
-    * set *tmp157 null
   507 label *label61
   508 jump *label59 always
   509 label *label58
 
   516 print "ABANDON - battery crit"
   517 print "\n"
   518 set :start_reactor.0:supply_fuel false
-    * set *tmp164 :start_reactor.0:supply_fuel
   519 jump *label63 always
   520 label *label62
   521 op idiv *tmp167 :start_reactor.0:secs 6
 
   527 print " "
   528 print "mins"
   529 print "\n"
-    * set *tmp164 null
   530 label *label63
   531 label *label59
   532 label *label57

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-64 instructions):
 
    25 sensor *tmp0 node1 @powerNetIn
    26 sensor *tmp1 node1 @powerNetOut
    27 op sub *tmp2 *tmp0 *tmp1
-    * op floor *tmp3 *tmp2
-    * set :surplus *tmp3
+   28 op floor :surplus *tmp2
    29 op greaterThan *tmp4 :surplus 10000
    30 jump *label5 equal *tmp4 false
-    * op sub *tmp6 @tick 3600
-    * set *tmp5 *tmp6
+   31 op sub *tmp5 @tick 3600
    32 jump *label6 always
    33 label *label5
    34 set *tmp5 @tick
 
    56 set .NODE node1
    57 set :check_radar.0:unit .TOWER
    58 call *label4 :check_radar.0*retaddr :check_radar.0*retval
-    * set *tmp7 :check_radar.0*retval
-    * set :emerg_shutdown *tmp7
+   59 set :emerg_shutdown :check_radar.0*retval
    60 # "Function: def check_manual_shutdown()"
    61 op notEqual *tmp9 switch1 null
    62 sensor *tmp10 switch1 @enabled
 
    78 set :calc_charge_req.0:reactor reactor1
    79 set :calc_charge_req.0:time :t_startup1
    80 call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
-    * set *tmp14 :calc_charge_req.0*retval
-    * set .START_POWER_REQ *tmp14
+   81 set .START_POWER_REQ :calc_charge_req.0*retval
    82 set :calc_charge_req.0:reactor reactor2
    83 set :calc_charge_req.0:time :t_startup2
    84 call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
-    * set *tmp15 :calc_charge_req.0*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp15
+   85 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
    86 set :calc_charge_req.0:reactor reactor3
    87 set :calc_charge_req.0:time :t_startup3
    88 call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
-    * set *tmp16 :calc_charge_req.0*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp16
+   89 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
    90 set :calc_charge_req.0:reactor reactor4
    91 set :calc_charge_req.0:time :t_startup4
    92 call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
-    * set *tmp17 :calc_charge_req.0*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp17
+   93 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
    94 set :calc_charge_req.0:reactor reactor5
    95 set :calc_charge_req.0:time :t_startup5
    96 call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
-    * set *tmp18 :calc_charge_req.0*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp18
+   97 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
    98 set :start_reactor.0:reactor reactor1
    99 set :start_reactor.0:reactor_num 1
   100 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   101 set :start_reactor.0:fuel_on :fuel_1
   102 set :start_reactor.0:t_startup :t_startup1
   103 call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
-    * set *tmp19 :start_reactor.0*retval
-    * set :fuel_1 *tmp19
+  104 set :fuel_1 :start_reactor.0*retval
   105 set :t_startup1 .RET_T_STARTUP
   106 set :update_fuel.0:fuel :fuel_1
   107 set :update_fuel.0:uld_in .ULD_IN_1
 
   113 set :start_reactor.0:fuel_on :fuel_2
   114 set :start_reactor.0:t_startup :t_startup2
   115 call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
-    * set *tmp21 :start_reactor.0*retval
-    * set :fuel_2 *tmp21
+  116 set :fuel_2 :start_reactor.0*retval
   117 set :t_startup2 .RET_T_STARTUP
   118 set :update_fuel.0:fuel :fuel_2
   119 set :update_fuel.0:uld_in .ULD_IN_2
 
   121 call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
   122 set :check_radar.0:unit .TOWER
   123 call *label4 :check_radar.0*retaddr :check_radar.0*retval
-    * set *tmp23 :check_radar.0*retval
-    * op or :emerg_shutdown :emerg_shutdown *tmp23
+  124 op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
   125 set :start_reactor.0:reactor reactor3
   126 set :start_reactor.0:reactor_num 3
   127 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   128 set :start_reactor.0:fuel_on :fuel_3
   129 set :start_reactor.0:t_startup :t_startup3
   130 call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
-    * set *tmp24 :start_reactor.0*retval
-    * set :fuel_3 *tmp24
+  131 set :fuel_3 :start_reactor.0*retval
   132 set :t_startup3 .RET_T_STARTUP
   133 set :start_reactor.0:reactor reactor4
   134 set :start_reactor.0:reactor_num 4
 
   136 set :start_reactor.0:fuel_on :fuel_4
   137 set :start_reactor.0:t_startup :t_startup4
   138 call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
-    * set *tmp25 :start_reactor.0*retval
-    * set :fuel_4 *tmp25
+  139 set :fuel_4 :start_reactor.0*retval
   140 set :t_startup4 .RET_T_STARTUP
   141 set :start_reactor.0:reactor reactor5
   142 set :start_reactor.0:reactor_num 5
 
   144 set :start_reactor.0:fuel_on :fuel_5
   145 set :start_reactor.0:t_startup :t_startup5
   146 call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
-    * set *tmp26 :start_reactor.0*retval
-    * set :fuel_5 *tmp26
+  147 set :fuel_5 :start_reactor.0*retval
   148 set :t_startup5 .RET_T_STARTUP
   149 op or *tmp27 :fuel_3 :fuel_4
-    * op or *tmp28 *tmp27 :fuel_5
-    * set :fuel_many *tmp28
+  150 op or :fuel_many *tmp27 :fuel_5
   151 set :update_fuel.0:fuel :fuel_many
   152 set :update_fuel.0:uld_in .ULD_IN_MANY
   153 set :update_fuel.0:uld_out .ULD_OUT_MANY
 
   158 set :throttle_blast.0:reactors_fueled *tmp31
   159 set :throttle_blast.0:emerg_shutdown :emerg_shutdown
   160 sensor *tmp33 .NODE @powerNetStored
-    * op floor *tmp34 *tmp33
-    * set :throttle_blast.0:charge *tmp34
+  161 op floor :throttle_blast.0:charge *tmp33
   162 sensor *tmp35 .NODE @powerNetIn
   163 sensor *tmp36 .NODE @powerNetOut
   164 op sub *tmp37 *tmp35 *tmp36
-    * op floor *tmp38 *tmp37
-    * set :throttle_blast.0:surplus *tmp38
-    * sensor *tmp39 .CONTAINER @blast-compound
-    * set :throttle_blast.0:fuel_stored *tmp39
+  165 op floor :throttle_blast.0:surplus *tmp37
+  166 sensor :throttle_blast.0:fuel_stored .CONTAINER @blast-compound
   167 op lessThan *tmp40 :throttle_blast.0:charge .PWR_ABORT
   168 op lessThan *tmp41 :throttle_blast.0:surplus .FLOW_ABORT
   169 op land *tmp42 *tmp40 *tmp41
 
   210 print "n"
   211 label *label19
   212 label *label15
-    * op lessThan *tmp48 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
-    * set *tmp32 *tmp48
+  213 op lessThan *tmp32 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   214 jump *label13 always
   215 set *tmp32 null
   216 label *label13
 
   226 # "Function: def diff_generators()"
   227 sensor *tmp53 .NODE @powerNetStored
   228 sensor *tmp54 .NODE @powerNetCapacity
-    * op div *tmp55 *tmp53 *tmp54
-    * set :diff_generators.0:stored_pc *tmp55
+  229 op div :diff_generators.0:stored_pc *tmp53 *tmp54
   230 op greaterThan *tmp56 :diff_generators.0:stored_pc 0.9
   231 op lessThan *tmp57 .START_POWER_REQ 10
   232 op land *tmp58 *tmp56 *tmp57
 
   243 label *label22
   244 set :kilo.0:val .AVG_SURPLUS
   245 call *label0 :kilo.0*retaddr :kilo.0*retval
-    * set *tmp64 :kilo.0*retval
-    * set :surplus *tmp64
-    * sensor *tmp65 .NODE @powerNetStored
-    * set :kilo.0:val *tmp65
+  246 set :surplus :kilo.0*retval
+  247 sensor :kilo.0:val .NODE @powerNetStored
   248 call *label0 :kilo.0*retaddr :kilo.0*retval
-    * set *tmp66 :kilo.0*retval
-    * set :charge *tmp66
+  249 set :charge :kilo.0*retval
   250 op greaterThan *tmp67 .START_POWER_REQ 0
   251 jump *label25 equal *tmp67 false
   252 set :kilo.0:val .START_POWER_REQ
   253 call *label0 :kilo.0*retaddr :kilo.0*retval
-    * set *tmp69 :kilo.0*retval
-    * set :req *tmp69
+  254 set :req :kilo.0*retval
   255 print "Req "
   256 print :req
   257 print "kJ / "
 
   271 # "Function: def update_reactors_desired()"
   272 sensor *tmp71 .NODE @powerNetStored
   273 sensor *tmp72 .NODE @powerNetCapacity
-    * op div *tmp73 *tmp71 *tmp72
-    * set :update_reactors_desired.0:stored *tmp73
+  274 op div :update_reactors_desired.0:stored *tmp71 *tmp72
   275 op greaterThan *tmp74 :update_reactors_desired.0:stored 0.98
   276 op add *tmp75 .GENERATOR_OUTPUT .GOAL_BUFFER
   277 op greaterThan *tmp76 .AVG_SURPLUS *tmp75
 
   294 jump *label32 equal *tmp84 false
   295 op sub *tmp86 .AVG_SURPLUS .GOAL_BUFFER
   296 op idiv *tmp87 *tmp86 .GENERATOR_OUTPUT
-    * op max *tmp88 1 *tmp87
-    * set :update_reactors_desired.0:needed *tmp88
+  297 op max :update_reactors_desired.0:needed 1 *tmp87
   298 op add *tmp89 :update_reactors_desired.0:needed .REACTORS_DESIRED
-    * op min *tmp90 5 *tmp89
-    * set .REACTORS_DESIRED *tmp90
+  299 op min .REACTORS_DESIRED 5 *tmp89
   300 jump *label33 always
   301 label *label32
   302 label *label33
 
   319 label *label0
   320 # "Function: def kilo(in val)"
   321 op idiv *tmp93 :kilo.0:val 100
-    * op div *tmp94 *tmp93 10
-    * set :kilo.0*retval *tmp94
+  322 op div :kilo.0*retval *tmp93 10
   323 jump *label36 always
   324 set :kilo.0*retval null
   325 label *label36
 
   350 label *label2
   351 # "Function: def calc_charge_req(in reactor, in time)"
   352 op sub *tmp102 @tick :calc_charge_req.0:time
-    * op idiv *tmp103 *tmp102 60
-    * set :calc_charge_req.0:secs *tmp103
+  353 op idiv :calc_charge_req.0:secs *tmp102 60
   354 op greaterThan *tmp104 :calc_charge_req.0:secs 30
   355 sensor *tmp105 :calc_charge_req.0:reactor @enabled
   356 op equal *tmp106 *tmp105 false
 
   361 jump *label44 always
   362 label *label43
   363 label *label44
-    * op sub *tmp109 30 :calc_charge_req.0:secs
-    * set :calc_charge_req.0:time_left *tmp109
+  364 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
   365 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
   366 op mul *tmp111 *tmp110 25
-    * op floor *tmp112 *tmp111
-    * set :calc_charge_req.0:charge_req *tmp112
+  367 op floor :calc_charge_req.0:charge_req *tmp111
   368 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
   369 jump *label42 always
   370 set :calc_charge_req.0*retval null
 
   375 # "Function: def start_reactor(in reactor, in reactor_num, in emerg_shutdown, in fuel_on, in t_startup)"
   376 set .RET_T_STARTUP :start_reactor.0:t_startup
   377 op sub *tmp113 @tick :start_reactor.0:t_startup
-    * op idiv *tmp114 *tmp113 60
-    * set :start_reactor.0:secs *tmp114
-    * sensor *tmp115 :start_reactor.0:reactor @blast-compound
-    * set :start_reactor.0:fuel *tmp115
+  378 op idiv :start_reactor.0:secs *tmp113 60
+  379 sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
   380 set :start_reactor.0:supply_fuel true
-    * sensor *tmp116 .CONTAINER @blast-compound
-    * set :start_reactor.0:fuel_stored *tmp116
-    * sensor *tmp117 :start_reactor.0:reactor @cryofluid
-    * set :start_reactor.0:cryo *tmp117
+  381 sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
+  382 sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
   383 sensor *tmp118 .NODE @powerNetStored
-    * op floor *tmp119 *tmp118
-    * set :start_reactor.0:charge *tmp119
+  384 op floor :start_reactor.0:charge *tmp118
   385 sensor *tmp120 .NODE @powerNetIn
   386 sensor *tmp121 .NODE @powerNetOut
   387 op sub *tmp122 *tmp120 *tmp121
-    * op floor *tmp123 *tmp122
-    * set :start_reactor.0:surplus *tmp123
+  388 op floor :start_reactor.0:surplus *tmp122
   389 op mul *tmp124 .AVG_SURPLUS 0.8
   390 op mul *tmp125 :start_reactor.0:surplus 0.2
-    * op add *tmp126 *tmp124 *tmp125
-    * set .AVG_SURPLUS *tmp126
-    * sensor *tmp127 :start_reactor.0:reactor @enabled
-    * set :start_reactor.0:enabled *tmp127
+  391 op add .AVG_SURPLUS *tmp124 *tmp125
+  392 sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
   393 print "#"
   394 print :start_reactor.0:reactor_num
   395 print " "
   396 print "- "
   397 jump *label46 equal :start_reactor.0:emerg_shutdown false
-    * set *tmp129 :start_reactor.0:reactor
-    * control enabled *tmp129 false
+  398 control enabled :start_reactor.0:reactor false
   399 print "emergency mode"
   400 print "\n"
   401 set :start_reactor.0:supply_fuel false
 
   404 jump *label48 equal :start_reactor.0:enabled false
   405 op lessThan *tmp132 .REACTORS_DESIRED :start_reactor.0:reactor_num
   406 jump *label50 equal *tmp132 false
-    * set *tmp134 :start_reactor.0:reactor
-    * control enabled *tmp134 false
+  407 control enabled :start_reactor.0:reactor false
   408 print "STOP unwanted"
   409 print "\n"
   410 jump *label51 always
 
   414 op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
   415 op land *tmp139 *tmp136 *tmp138
   416 jump *label52 equal *tmp139 false
-    * set *tmp141 :start_reactor.0:reactor
-    * control enabled *tmp141 false
+  417 control enabled :start_reactor.0:reactor false
   418 print "STOP system fuel low"
   419 print "\n"
   420 jump *label53 always
   421 label *label52
   422 op lessThanEq *tmp143 :start_reactor.0:fuel 1
   423 jump *label54 equal *tmp143 false
-    * set *tmp145 :start_reactor.0:reactor
-    * control enabled *tmp145 false
+  424 control enabled :start_reactor.0:reactor false
   425 print "STOP fuel low"
   426 print "\n"
   427 jump *label55 always
   428 label *label54
   429 op lessThanEq *tmp147 :start_reactor.0:cryo .CRYO_ABORT
   430 jump *label56 equal *tmp147 false
-    * set *tmp149 :start_reactor.0:reactor
-    * control enabled *tmp149 false
+  431 control enabled :start_reactor.0:reactor false
   432 print "STOP out of cryo"
   433 print "\n"
   434 jump *label57 always
 
   444 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
   445 op land *tmp156 *tmp154 *tmp155
   446 jump *label60 equal *tmp156 false
-    * set *tmp158 :start_reactor.0:reactor
-    * control enabled *tmp158 false
+  447 control enabled :start_reactor.0:reactor false
   448 print "START FAIL battery"
   449 print "\n"
   450 set :start_reactor.0:supply_fuel false
   451 jump *label61 always
   452 label *label60
-    * op sub *tmp160 30 :start_reactor.0:secs
-    * set :start_reactor.0:time_left *tmp160
+  453 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
   454 print "Starting "
   455 print :start_reactor.0:time_left
   456 print " "
 
   465 op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
   466 op land *tmp163 *tmp161 *tmp162
   467 jump *label62 equal *tmp163 false
-    * set *tmp165 :start_reactor.0:reactor
-    * control enabled *tmp165 false
+  468 control enabled :start_reactor.0:reactor false
   469 print "ABANDON - battery crit"
   470 print "\n"
   471 set :start_reactor.0:supply_fuel false
   472 jump *label63 always
   473 label *label62
-    * op idiv *tmp167 :start_reactor.0:secs 6
-    * set :start_reactor.0:mins *tmp167
-    * op div *tmp168 :start_reactor.0:mins 10
-    * set :start_reactor.0:mins *tmp168
+  474 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
+  475 op div :start_reactor.0:mins :start_reactor.0:mins 10
   476 print "RUN "
   477 print :start_reactor.0:mins
   478 print " "
 
   489 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
   490 op sub *tmp170 *tmp169 .PWR_ABORT
   491 op div *tmp171 *tmp170 .PWR_REQ
-    * op mul *tmp172 *tmp171 .PWR_RESERVE
-    * set :start_reactor.0:charge_units *tmp172
+  492 op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
   493 op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
-    * op max *tmp174 -0.1 *tmp173
-    * set :start_reactor.0:flow_units *tmp174
+  494 op max :start_reactor.0:flow_units -0.1 *tmp173
   495 op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
-    * op add *tmp176 .CRYO_REQ *tmp175
-    * set :start_reactor.0:cryo_req *tmp176
+  496 op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
   497 op lessThan *tmp177 .REACTORS_DESIRED :start_reactor.0:reactor_num
   498 jump *label64 equal *tmp177 false
   499 print "IDLE"
 
   506 jump *label66 equal *tmp180 false
   507 op mul *tmp182 :start_reactor.0:flow_units 1000
   508 op floor *tmp183 *tmp182
-    * op div *tmp184 *tmp183 10
-    * set :start_reactor.0:flow *tmp184
+  509 op div :start_reactor.0:flow *tmp183 10
   510 op mul *tmp185 :start_reactor.0:charge_units 1000
   511 op floor *tmp186 *tmp185
-    * op div *tmp187 *tmp186 10
-    * set :start_reactor.0:charge *tmp187
+  512 op div :start_reactor.0:charge *tmp186 10
   513 print "WAIT power. (%"
   514 print :start_reactor.0:charge
   515 print "J + %"
 
   550 print "STARTUP"
   551 print "\n"
   552 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * set *tmp199 :start_reactor.0:reactor
-    * control enabled *tmp199 true
+  553 control enabled :start_reactor.0:reactor true
   554 label *label75
   555 label *label73
   556 label *label69
 
   561 sensor *tmp201 :start_reactor.0:reactor @enabled
   562 op notEqual *tmp202 :start_reactor.0:enabled *tmp201
   563 jump *label76 equal *tmp202 false
-    * set *tmp204 @tick
-    * set .RET_T_STARTUP *tmp204
+  564 set .RET_T_STARTUP @tick
   565 jump *label77 always
   566 label *label76
   567 label *label77
 
   573 end
   574 label *label4
   575 # "Function: def check_radar(in unit)"
-    * radar enemy any any health :check_radar.0:unit 1 *tmp205
-    * set :check_radar.0:enemy_found *tmp205
+  576 radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
   577 op notEqual *tmp206 :check_radar.0:enemy_found null
   578 jump *label79 equal *tmp206 false
   579 control enabled projector1 true
   580 control enabled projector2 true
-    * set *tmp210 .ULD_IN_1
-    * control config *tmp210 .FUEL_OFF
-    * set *tmp212 .ULD_OUT_1
-    * control config *tmp212 .FUEL
-    * set *tmp214 .ULD_IN_2
-    * control config *tmp214 .FUEL_OFF
-    * set *tmp216 .ULD_OUT_2
-    * control config *tmp216 .FUEL
-    * set *tmp218 .ULD_IN_MANY
-    * control config *tmp218 .FUEL_OFF
-    * set *tmp220 .ULD_OUT_MANY
-    * control config *tmp220 .FUEL
-    * set *tmp222 .ULD_MIXER
-    * control config *tmp222 .FUEL_OFF
+  581 control config .ULD_IN_1 .FUEL_OFF
+  582 control config .ULD_OUT_1 .FUEL
+  583 control config .ULD_IN_2 .FUEL_OFF
+  584 control config .ULD_OUT_2 .FUEL
+  585 control config .ULD_IN_MANY .FUEL_OFF
+  586 control config .ULD_OUT_MANY .FUEL
+  587 control config .ULD_MIXER .FUEL_OFF
   588 control enabled reactor1 false
   589 control enabled reactor2 false
   590 control enabled reactor3 false

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-1 instructions):
 
    43 set .REACTORS_DESIRED 5
    44 set .AVG_SURPLUS 500
    45 label *label7
-    * jump *label9 equal true false
    46 set .ULD_IN_1 unloader1
    47 set .ULD_OUT_1 unloader2
    48 set .ULD_IN_2 unloader3

Modifications by Iterated phase, Jump Optimization, pass 1, iteration 1 (-17 instructions):
 
    26 sensor *tmp1 node1 @powerNetOut
    27 op sub *tmp2 *tmp0 *tmp1
    28 op floor :surplus *tmp2
-    * op greaterThan *tmp4 :surplus 10000
-    * jump *label5 equal *tmp4 false
+   29 jump *label5 lessThanEq :surplus 10000
    30 op sub *tmp5 @tick 3600
    31 jump *label6 always
    32 label *label5
 
   185 label *label17
   186 jump *label15 always
   187 label *label14
-    * op equal *tmp46 :throttle_blast.0:reactors_fueled false
-    * jump *label18 equal *tmp46 false
+  188 jump *label18 notEqual :throttle_blast.0:reactors_fueled false
   189 set :throttle_blast.0:limit .FUEL_LIMIT_LOW
   190 print "Fuel "
   191 print :throttle_blast.0:fuel_stored
 
   244 sensor :kilo.0:val .NODE @powerNetStored
   245 call *label0 :kilo.0*retaddr :kilo.0*retval
   246 set :charge :kilo.0*retval
-    * op greaterThan *tmp67 .START_POWER_REQ 0
-    * jump *label25 equal *tmp67 false
+  247 jump *label25 lessThanEq .START_POWER_REQ 0
   248 set :kilo.0:val .START_POWER_REQ
   249 call *label0 :kilo.0*retaddr :kilo.0*retval
   250 set :req :kilo.0*retval
 
   273 op greaterThan *tmp76 .AVG_SURPLUS *tmp75
   274 op land *tmp77 *tmp74 *tmp76
   275 jump *label28 equal *tmp77 false
-    * op greaterThan *tmp79 .REACTORS_DESIRED 2
-    * jump *label30 equal *tmp79 false
+  276 jump *label30 lessThanEq .REACTORS_DESIRED 2
   277 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   278 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
   279 jump *label31 always
 
   297 label *label33
   298 label *label27
   299 label *label26
-    * op notEqual *tmp91 .REACTORS_DESIRED 5
-    * jump *label34 equal *tmp91 false
+  300 jump *label34 equal .REACTORS_DESIRED 5
   301 print "Require only "
   302 print .REACTORS_DESIRED
   303 print "/5 reactors."
 
   330 label *label39
   331 control config *tmp95 *tmp97
   332 set *tmp98 :update_fuel.0:uld_out
-    * op equal *tmp100 :update_fuel.0:fuel false
-    * jump *label40 equal *tmp100 false
+  333 jump *label40 notEqual :update_fuel.0:fuel false
   334 set *tmp101 .FUEL
   335 jump *label41 always
   336 label *label40
 
   395 jump *label47 always
   396 label *label46
   397 jump *label48 equal :start_reactor.0:enabled false
-    * op lessThan *tmp132 .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * jump *label50 equal *tmp132 false
+  398 jump *label50 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
   399 control enabled :start_reactor.0:reactor false
   400 print "STOP unwanted"
   401 print "\n"
 
   411 print "\n"
   412 jump *label53 always
   413 label *label52
-    * op lessThanEq *tmp143 :start_reactor.0:fuel 1
-    * jump *label54 equal *tmp143 false
+  414 jump *label54 greaterThan :start_reactor.0:fuel 1
   415 control enabled :start_reactor.0:reactor false
   416 print "STOP fuel low"
   417 print "\n"
   418 jump *label55 always
   419 label *label54
-    * op lessThanEq *tmp147 :start_reactor.0:cryo .CRYO_ABORT
-    * jump *label56 equal *tmp147 false
+  420 jump *label56 greaterThan :start_reactor.0:cryo .CRYO_ABORT
   421 control enabled :start_reactor.0:reactor false
   422 print "STOP out of cryo"
   423 print "\n"
   424 jump *label57 always
   425 label *label56
-    * op lessThan *tmp151 :start_reactor.0:secs 30
-    * jump *label58 equal *tmp151 false
+  426 jump *label58 greaterThanEq :start_reactor.0:secs 30
   427 set :calc_charge_req.0:reactor :start_reactor.0:reactor
   428 set :calc_charge_req.0:time :start_reactor.0:t_startup
   429 call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
 
   483 op max :start_reactor.0:flow_units -0.1 *tmp173
   484 op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
   485 op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
-    * op lessThan *tmp177 .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * jump *label64 equal *tmp177 false
+  486 jump *label64 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
   487 print "IDLE"
   488 print "\n"
   489 set :start_reactor.0:supply_fuel false
   490 jump *label65 always
   491 label *label64
   492 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
-    * op lessThan *tmp180 *tmp179 1
-    * jump *label66 equal *tmp180 false
+  493 jump *label66 greaterThanEq *tmp179 1
   494 op mul *tmp182 :start_reactor.0:flow_units 1000
   495 op floor *tmp183 *tmp182
   496 op div :start_reactor.0:flow *tmp183 10
 
   510 op land *tmp189 :start_reactor.0:fuel_on *tmp188
   511 jump *label68 equal *tmp189 false
   512 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
-    * op greaterThan *tmp192 *tmp191 .FUEL_REQ
-    * jump *label70 equal *tmp192 false
+  513 jump *label70 lessThanEq *tmp191 .FUEL_REQ
   514 print "WAIT fuel"
   515 print "\n"
   516 jump *label71 always
 
   521 jump *label69 always
   522 label *label68
   523 op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
-    * op lessThan *tmp195 :start_reactor.0:fuel_stored *tmp194
-    * jump *label72 equal *tmp195 false
+  524 jump *label72 greaterThanEq :start_reactor.0:fuel_stored *tmp194
   525 print "WAIT buffer fuel"
   526 print "\n"
   527 jump *label73 always
   528 label *label72
-    * op lessThan *tmp197 :start_reactor.0:cryo :start_reactor.0:cryo_req
-    * jump *label74 equal *tmp197 false
+  529 jump *label74 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
   530 print "WAIT cryo"
   531 print "\n"
   532 jump *label75 always
 
   543 label *label49
   544 label *label47
   545 sensor *tmp201 :start_reactor.0:reactor @enabled
-    * op notEqual *tmp202 :start_reactor.0:enabled *tmp201
-    * jump *label76 equal *tmp202 false
+  546 jump *label76 equal :start_reactor.0:enabled *tmp201
   547 set .RET_T_STARTUP @tick
   548 jump *label77 always
   549 label *label76
 
   557 label *label4
   558 # "Function: def check_radar(in unit)"
   559 radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
-    * op notEqual *tmp206 :check_radar.0:enemy_found null
-    * jump *label79 equal *tmp206 false
+  560 jump *label79 equal :check_radar.0:enemy_found null
   561 control enabled projector1 true
   562 control enabled projector2 true
   563 control config .ULD_IN_1 .FUEL_OFF

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-7 instructions):
 
    65 print "\n"
    66 set *tmp8 true
    67 jump *label10 always
-    * jump *label12 always
    68 label *label11
    69 label *label12
    70 set *tmp8 false
 
   275 jump *label30 lessThanEq .REACTORS_DESIRED 2
   276 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   277 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
-    * jump *label31 always
   278 label *label30
   279 label *label31
-    * jump *label29 always
   280 label *label28
   281 label *label29
   282 op lessThan *tmp81 :update_reactors_desired.0:stored 0.8
 
   289 op max :update_reactors_desired.0:needed 1 *tmp87
   290 op add *tmp89 :update_reactors_desired.0:needed .REACTORS_DESIRED
   291 op min .REACTORS_DESIRED 5 *tmp89
-    * jump *label33 always
   292 label *label32
   293 label *label33
   294 label *label27
 
   298 print .REACTORS_DESIRED
   299 print "/5 reactors."
   300 print "\n"
-    * jump *label35 always
   301 label *label34
   302 label *label35
   303 printflush message1
 
   346 jump *label43 equal *tmp107 false
   347 set :calc_charge_req.0*retval 0
   348 jump *label42 always
-    * jump *label44 always
   349 label *label43
   350 label *label44
   351 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
 
   539 sensor *tmp201 :start_reactor.0:reactor @enabled
   540 jump *label76 equal :start_reactor.0:enabled *tmp201
   541 set .RET_T_STARTUP @tick
-    * jump *label77 always
   542 label *label76
   543 label *label77
   544 set :start_reactor.0*retval :start_reactor.0:supply_fuel

Modifications by Iterated phase, Expression Optimization, pass 1, iteration 1 (-3 instructions):
 
   350 label *label44
   351 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
   352 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
-    * op mul *tmp111 *tmp110 25
-    * op floor :calc_charge_req.0:charge_req *tmp111
+  353 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
   354 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
   355 jump *label42 always
   356 set :calc_charge_req.0*retval null
 
   484 label *label64
   485 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
   486 jump *label66 greaterThanEq *tmp179 1
-    * op mul *tmp182 :start_reactor.0:flow_units 1000
-    * op floor *tmp183 *tmp182
+  487 op idiv *tmp183 :start_reactor.0:flow_units 0.001
   488 op div :start_reactor.0:flow *tmp183 10
-    * op mul *tmp185 :start_reactor.0:charge_units 1000
-    * op floor *tmp186 *tmp185
+  489 op idiv *tmp186 :start_reactor.0:charge_units 0.001
   490 op div :start_reactor.0:charge *tmp186 10
   491 print "WAIT power. (%"
   492 print :start_reactor.0:charge

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-7 instructions):
 
    33 set *tmp5 @tick
    34 label *label6
    35 set :start_time *tmp5
-    * set :t_startup1 :start_time
-    * set :t_startup2 :start_time
-    * set :t_startup3 :start_time
-    * set :t_startup4 :start_time
-    * set :t_startup5 :start_time
-    * set .RET_T_STARTUP :t_startup1
+   36 set :t_startup1 *tmp5
+   37 set :t_startup2 *tmp5
+   38 set :t_startup3 *tmp5
+   39 set :t_startup4 *tmp5
+   40 set :t_startup5 *tmp5
+   41 set .RET_T_STARTUP :start_time
    42 set .REACTORS_DESIRED 5
    43 set .AVG_SURPLUS 500
    44 label *label7
 
    52 set .TOWER cyclone1
    53 set .CONTAINER vault1
    54 set .NODE node1
-    * set :check_radar.0:unit .TOWER
+   55 set :check_radar.0:unit cyclone1
    56 call *label4 :check_radar.0*retaddr :check_radar.0*retval
    57 set :emerg_shutdown :check_radar.0*retval
    58 # "Function: def check_manual_shutdown()"
 
    69 label *label12
    70 set *tmp8 false
    71 jump *label10 always
-    * set *tmp8 null
    72 label *label10
-    * op or :emerg_shutdown :emerg_shutdown *tmp8
+   73 op or :emerg_shutdown :check_radar.0*retval *tmp8
    74 set :calc_charge_req.0:reactor reactor1
    75 set :calc_charge_req.0:time :t_startup1
    76 call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
 
    99 call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
   100 set :fuel_1 :start_reactor.0*retval
   101 set :t_startup1 .RET_T_STARTUP
-    * set :update_fuel.0:fuel :fuel_1
-    * set :update_fuel.0:uld_in .ULD_IN_1
-    * set :update_fuel.0:uld_out .ULD_OUT_1
+  102 set :update_fuel.0:fuel :start_reactor.0*retval
+  103 set :update_fuel.0:uld_in unloader1
+  104 set :update_fuel.0:uld_out unloader2
   105 call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
   106 set :start_reactor.0:reactor reactor2
   107 set :start_reactor.0:reactor_num 2
 
   111 call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
   112 set :fuel_2 :start_reactor.0*retval
   113 set :t_startup2 .RET_T_STARTUP
-    * set :update_fuel.0:fuel :fuel_2
-    * set :update_fuel.0:uld_in .ULD_IN_2
-    * set :update_fuel.0:uld_out .ULD_OUT_2
+  114 set :update_fuel.0:fuel :start_reactor.0*retval
+  115 set :update_fuel.0:uld_in unloader3
+  116 set :update_fuel.0:uld_out unloader4
   117 call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
-    * set :check_radar.0:unit .TOWER
+  118 set :check_radar.0:unit cyclone1
   119 call *label4 :check_radar.0*retaddr :check_radar.0*retval
   120 op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
   121 set :start_reactor.0:reactor reactor3
 
   143 set :fuel_5 :start_reactor.0*retval
   144 set :t_startup5 .RET_T_STARTUP
   145 op or *tmp27 :fuel_3 :fuel_4
-    * op or :fuel_many *tmp27 :fuel_5
+  146 op or :fuel_many *tmp27 :start_reactor.0*retval
   147 set :update_fuel.0:fuel :fuel_many
-    * set :update_fuel.0:uld_in .ULD_IN_MANY
-    * set :update_fuel.0:uld_out .ULD_OUT_MANY
+  148 set :update_fuel.0:uld_in unloader5
+  149 set :update_fuel.0:uld_out unloader6
   150 call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
   151 op or *tmp30 :fuel_1 :fuel_2
   152 op or *tmp31 *tmp30 :fuel_many
   153 # "Function: def throttle_blast(in reactors_fueled, in emerg_shutdown)"
   154 set :throttle_blast.0:reactors_fueled *tmp31
   155 set :throttle_blast.0:emerg_shutdown :emerg_shutdown
-    * sensor *tmp33 .NODE @powerNetStored
+  156 sensor *tmp33 node1 @powerNetStored
   157 op floor :throttle_blast.0:charge *tmp33
-    * sensor *tmp35 .NODE @powerNetIn
-    * sensor *tmp36 .NODE @powerNetOut
+  158 sensor *tmp35 node1 @powerNetIn
+  159 sensor *tmp36 node1 @powerNetOut
   160 op sub *tmp37 *tmp35 *tmp36
   161 op floor :throttle_blast.0:surplus *tmp37
-    * sensor :throttle_blast.0:fuel_stored .CONTAINER @blast-compound
-    * op lessThan *tmp40 :throttle_blast.0:charge .PWR_ABORT
-    * op lessThan *tmp41 :throttle_blast.0:surplus .FLOW_ABORT
+  162 sensor :throttle_blast.0:fuel_stored vault1 @blast-compound
+  163 op lessThan *tmp40 :throttle_blast.0:charge 5000
+  164 op lessThan *tmp41 :throttle_blast.0:surplus -500
   165 op land *tmp42 *tmp40 *tmp41
-    * op or *tmp43 *tmp42 :throttle_blast.0:emerg_shutdown
+  166 op or *tmp43 *tmp42 :emerg_shutdown
   167 jump *label14 equal *tmp43 false
   168 set :throttle_blast.0:limit 0
   169 print "Central Fuel at "
   170 print :throttle_blast.0:fuel_stored
   171 print " "
   172 print "/ "
-    * print :throttle_blast.0:limit
+  173 print 0
   174 print " "
   175 print "- "
-    * jump *label16 equal :throttle_blast.0:emerg_shutdown false
+  176 jump *label16 equal :emerg_shutdown false
   177 print " Enemies detected."
   178 print "\n"
   179 jump *label17 always
 
   183 label *label17
   184 jump *label15 always
   185 label *label14
-    * jump *label18 notEqual :throttle_blast.0:reactors_fueled false
-    * set :throttle_blast.0:limit .FUEL_LIMIT_LOW
+  186 jump *label18 notEqual *tmp31 false
+  187 set :throttle_blast.0:limit 150
   188 print "Fuel "
   189 print :throttle_blast.0:fuel_stored
   190 print " "
   191 print "/ "
-    * print :throttle_blast.0:limit
+  192 print .FUEL_LIMIT_LOW
   193 print " "
   194 print "(due to emergency)"
   195 print "\n"
   196 jump *label19 always
   197 label *label18
-    * set :throttle_blast.0:limit .FUEL_LIMIT
+  198 set :throttle_blast.0:limit 800
   199 print "Fuel "
   200 print :throttle_blast.0:fuel_stored
   201 print " "
   202 print "/ "
-    * print :throttle_blast.0:limit
+  203 print .FUEL_LIMIT
   204 print "\"
   205 print "n"
   206 label *label19
   207 label *label15
   208 op lessThan *tmp32 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   209 jump *label13 always
-    * set *tmp32 null
   210 label *label13
   211 set :feed_mixers *tmp32
-    * set *tmp49 .ULD_MIXER
-    * jump *label20 equal :feed_mixers false
-    * set *tmp51 .MIXER_IN
+  212 set *tmp49 unloader7
+  213 jump *label20 equal *tmp32 false
+  214 set *tmp51 @pyratite
   215 jump *label21 always
   216 label *label20
-    * set *tmp51 .FUEL_OFF
+  217 set *tmp51 @scrap
   218 label *label21
-    * control config *tmp49 *tmp51
+  219 control config .ULD_MIXER *tmp51
   220 # "Function: def diff_generators()"
-    * sensor *tmp53 .NODE @powerNetStored
-    * sensor *tmp54 .NODE @powerNetCapacity
+  221 sensor *tmp53 node1 @powerNetStored
+  222 sensor *tmp54 node1 @powerNetCapacity
   223 op div :diff_generators.0:stored_pc *tmp53 *tmp54
   224 op greaterThan *tmp56 :diff_generators.0:stored_pc 0.9
   225 op lessThan *tmp57 .START_POWER_REQ 10
 
   238 set :kilo.0:val .AVG_SURPLUS
   239 call *label0 :kilo.0*retaddr :kilo.0*retval
   240 set :surplus :kilo.0*retval
-    * sensor :kilo.0:val .NODE @powerNetStored
+  241 sensor :kilo.0:val node1 @powerNetStored
   242 call *label0 :kilo.0*retaddr :kilo.0*retval
   243 set :charge :kilo.0*retval
   244 jump *label25 lessThanEq .START_POWER_REQ 0
 
   246 call *label0 :kilo.0*retaddr :kilo.0*retval
   247 set :req :kilo.0*retval
   248 print "Req "
-    * print :req
+  249 print :kilo.0*retval
   250 print "kJ / "
   251 print :charge
   252 print "kJ. "
 
   258 print "Power "
   259 print :surplus
   260 print "kW, "
-    * print :charge
+  261 print :kilo.0*retval
   262 print "kJ"
   263 print "\n"
   264 # "Function: def update_reactors_desired()"
-    * sensor *tmp71 .NODE @powerNetStored
-    * sensor *tmp72 .NODE @powerNetCapacity
+  265 sensor *tmp71 node1 @powerNetStored
+  266 sensor *tmp72 node1 @powerNetCapacity
   267 op div :update_reactors_desired.0:stored *tmp71 *tmp72
   268 op greaterThan *tmp74 :update_reactors_desired.0:stored 0.98
-    * op add *tmp75 .GENERATOR_OUTPUT .GOAL_BUFFER
-    * op greaterThan *tmp76 .AVG_SURPLUS *tmp75
+  269 op add *tmp75 6500 10000
+  270 op greaterThan *tmp76 .AVG_SURPLUS 16500
   271 op land *tmp77 *tmp74 *tmp76
   272 jump *label28 equal *tmp77 false
   273 jump *label30 lessThanEq .REACTORS_DESIRED 2
   274 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
-    * op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
+  275 op sub .AVG_SURPLUS .AVG_SURPLUS 6500
   276 label *label30
   277 label *label31
   278 label *label28
   279 label *label29
   280 op lessThan *tmp81 :update_reactors_desired.0:stored 0.8
-    * op mul *tmp82 .GOAL_BUFFER 0.8
-    * op lessThan *tmp83 .AVG_SURPLUS *tmp82
+  281 op mul *tmp82 10000 0.8
+  282 op lessThan *tmp83 .AVG_SURPLUS 8000
   283 op land *tmp84 *tmp81 *tmp83
   284 jump *label32 equal *tmp84 false
-    * op sub *tmp86 .AVG_SURPLUS .GOAL_BUFFER
-    * op idiv *tmp87 *tmp86 .GENERATOR_OUTPUT
+  285 op sub *tmp86 .AVG_SURPLUS 10000
+  286 op idiv *tmp87 *tmp86 6500
   287 op max :update_reactors_desired.0:needed 1 *tmp87
   288 op add *tmp89 :update_reactors_desired.0:needed .REACTORS_DESIRED
   289 op min .REACTORS_DESIRED 5 *tmp89
 
   308 op idiv *tmp93 :kilo.0:val 100
   309 op div :kilo.0*retval *tmp93 10
   310 jump *label36 always
-    * set :kilo.0*retval null
   311 label *label36
   312 return :kilo.0*retaddr
   313 end
 
   320 label *label38
   321 set *tmp97 .FUEL_OFF
   322 label *label39
-    * control config *tmp95 *tmp97
+  323 control config :update_fuel.0:uld_in *tmp97
   324 set *tmp98 :update_fuel.0:uld_out
   325 jump *label40 notEqual :update_fuel.0:fuel false
   326 set *tmp101 .FUEL
 
   328 label *label40
   329 set *tmp101 .FUEL_OFF
   330 label *label41
-    * control config *tmp98 *tmp101
+  331 control config :update_fuel.0:uld_out *tmp101
   332 label *label37
   333 return :update_fuel.0*retaddr
   334 end
 
   350 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
   351 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
   352 jump *label42 always
-    * set :calc_charge_req.0*retval null
   353 label *label42
   354 return :calc_charge_req.0*retaddr
   355 end
 
   417 set :calc_charge_req.0:time :start_reactor.0:t_startup
   418 call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
   419 set :start_reactor.0:charge_req :calc_charge_req.0*retval
-    * op sub *tmp153 :start_reactor.0:charge :start_reactor.0:charge_req
+  420 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
   421 op lessThan *tmp154 *tmp153 .PWR_ABORT
   422 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
   423 op land *tmp156 *tmp154 *tmp155
 
   433 print :start_reactor.0:time_left
   434 print " "
   435 print "secs, req "
-    * print :start_reactor.0:charge_req
+  436 print :calc_charge_req.0*retval
   437 print "J"
   438 print "\n"
   439 label *label61
 
   536 label *label77
   537 set :start_reactor.0*retval :start_reactor.0:supply_fuel
   538 jump *label45 always
-    * set :start_reactor.0*retval null
   539 label *label45
   540 return :start_reactor.0*retaddr
   541 end
 
   559 control enabled reactor5 false
   560 set :check_radar.0*retval true
   561 jump *label78 always
-    * set *tmp207 null
   562 jump *label80 always
   563 label *label79
   564 control enabled projector1 false
   565 control enabled projector2 false
   566 set :check_radar.0*retval false
   567 jump *label78 always
-    * set *tmp207 null
   568 label *label80
-    * set :check_radar.0*retval *tmp207
+  569 set :check_radar.0*retval null
   570 label *label78
   571 return :check_radar.0*retaddr
   572 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-16 instructions):
     0 printflush message1
     1 set .FUEL @blast-compound
     2 set .FUEL_OFF @scrap
-    * set .MIXER_IN @pyratite
     3 set .PWR_REQ 23000
     4 set .FLOW_REQ 2000
     5 set .PWR_ABANDON 2000
 
    11 set .FUEL_LIMIT_LOW 150
    12 set .FUEL_LIMIT 800
    13 set .FUEL_TOT_ABORT 15
-    * set .GENERATOR_OUTPUT 6500
-    * set .GOAL_BUFFER 10000
    14 set .CRYO_REQ 3
    15 set .CRYO_REQ_EA 2
    16 set .CRYO_ABORT 1
 
    35 set :t_startup3 *tmp5
    36 set :t_startup4 *tmp5
    37 set :t_startup5 *tmp5
-    * set .RET_T_STARTUP :start_time
+   38 set .RET_T_STARTUP *tmp5
    39 set .REACTORS_DESIRED 5
    40 set .AVG_SURPLUS 500
    41 label *label7
 
    46 set .ULD_IN_MANY unloader5
    47 set .ULD_OUT_MANY unloader6
    48 set .ULD_MIXER unloader7
-    * set .TOWER cyclone1
    49 set .CONTAINER vault1
    50 set .NODE node1
    51 set :check_radar.0:unit cyclone1
    52 call *label4 :check_radar.0*retaddr :check_radar.0*retval
-    * set :emerg_shutdown :check_radar.0*retval
    53 # "Function: def check_manual_shutdown()"
    54 op notEqual *tmp9 switch1 null
    55 sensor *tmp10 switch1 @enabled
 
   146 op or *tmp30 :fuel_1 :fuel_2
   147 op or *tmp31 *tmp30 :fuel_many
   148 # "Function: def throttle_blast(in reactors_fueled, in emerg_shutdown)"
-    * set :throttle_blast.0:reactors_fueled *tmp31
-    * set :throttle_blast.0:emerg_shutdown :emerg_shutdown
   149 sensor *tmp33 node1 @powerNetStored
   150 op floor :throttle_blast.0:charge *tmp33
   151 sensor *tmp35 node1 @powerNetIn
 
   182 print :throttle_blast.0:fuel_stored
   183 print " "
   184 print "/ "
-    * print .FUEL_LIMIT_LOW
+  185 print 150
   186 print " "
   187 print "(due to emergency)"
   188 print "\n"
 
   193 print :throttle_blast.0:fuel_stored
   194 print " "
   195 print "/ "
-    * print .FUEL_LIMIT
+  196 print 800
   197 print "\"
   198 print "n"
   199 label *label19
 
   201 op lessThan *tmp32 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   202 jump *label13 always
   203 label *label13
-    * set :feed_mixers *tmp32
-    * set *tmp49 unloader7
   204 jump *label20 equal *tmp32 false
   205 set *tmp51 @pyratite
   206 jump *label21 always
   207 label *label20
   208 set *tmp51 @scrap
   209 label *label21
-    * control config .ULD_MIXER *tmp51
+  210 control config unloader7 *tmp51
   211 # "Function: def diff_generators()"
   212 sensor *tmp53 node1 @powerNetStored
   213 sensor *tmp54 node1 @powerNetCapacity
 
   235 jump *label25 lessThanEq .START_POWER_REQ 0
   236 set :kilo.0:val .START_POWER_REQ
   237 call *label0 :kilo.0*retaddr :kilo.0*retval
-    * set :req :kilo.0*retval
   238 print "Req "
   239 print :kilo.0*retval
   240 print "kJ / "
 
   256 sensor *tmp72 node1 @powerNetCapacity
   257 op div :update_reactors_desired.0:stored *tmp71 *tmp72
   258 op greaterThan *tmp74 :update_reactors_desired.0:stored 0.98
-    * op add *tmp75 6500 10000
   259 op greaterThan *tmp76 .AVG_SURPLUS 16500
   260 op land *tmp77 *tmp74 *tmp76
   261 jump *label28 equal *tmp77 false
 
   267 label *label28
   268 label *label29
   269 op lessThan *tmp81 :update_reactors_desired.0:stored 0.8
-    * op mul *tmp82 10000 0.8
   270 op lessThan *tmp83 .AVG_SURPLUS 8000
   271 op land *tmp84 *tmp81 *tmp83
   272 jump *label32 equal *tmp84 false
 
   301 end
   302 label *label1
   303 # "Function: def update_fuel(in fuel, in uld_in, in uld_out)"
-    * set *tmp95 :update_fuel.0:uld_in
   304 jump *label38 equal :update_fuel.0:fuel false
   305 set *tmp97 .FUEL
   306 jump *label39 always
 
   308 set *tmp97 .FUEL_OFF
   309 label *label39
   310 control config :update_fuel.0:uld_in *tmp97
-    * set *tmp98 :update_fuel.0:uld_out
   311 jump *label40 notEqual :update_fuel.0:fuel false
   312 set *tmp101 .FUEL
   313 jump *label41 always
 
   402 set :calc_charge_req.0:reactor :start_reactor.0:reactor
   403 set :calc_charge_req.0:time :start_reactor.0:t_startup
   404 call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
-    * set :start_reactor.0:charge_req :calc_charge_req.0*retval
   405 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
   406 op lessThan *tmp154 *tmp153 .PWR_ABORT
   407 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
 
   551 set :check_radar.0*retval false
   552 jump *label78 always
   553 label *label80
-    * set :check_radar.0*retval null
   554 label *label78
   555 return :check_radar.0*retaddr
   556 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-3 instructions):
 
     8 set .FLOW_ABORT -500
     9 set .FUEL_REQ 10
    10 set .FUEL_TOT_REQ 45
-    * set .FUEL_LIMIT_LOW 150
-    * set .FUEL_LIMIT 800
    11 set .FUEL_TOT_ABORT 15
    12 set .CRYO_REQ 3
    13 set .CRYO_REQ_EA 2
 
    27 label *label5
    28 set *tmp5 @tick
    29 label *label6
-    * set :start_time *tmp5
    30 set :t_startup1 *tmp5
    31 set :t_startup2 *tmp5
    32 set :t_startup3 *tmp5

Modifications by Iterated phase, If Expression Optimization, pass 1, iteration 1 (-3 instructions):
 
   199 jump *label13 always
   200 label *label13
   201 jump *label20 equal *tmp32 false
-    * set *tmp51 @pyratite
+  202 control config unloader7 @pyratite
   203 jump *label21 always
   204 label *label20
-    * set *tmp51 @scrap
+  205 control config unloader7 @scrap
   206 label *label21
-    * control config unloader7 *tmp51
   207 # "Function: def diff_generators()"
   208 sensor *tmp53 node1 @powerNetStored
   209 sensor *tmp54 node1 @powerNetCapacity
 
   298 label *label1
   299 # "Function: def update_fuel(in fuel, in uld_in, in uld_out)"
   300 jump *label38 equal :update_fuel.0:fuel false
-    * set *tmp97 .FUEL
+  301 control config :update_fuel.0:uld_in .FUEL
   302 jump *label39 always
   303 label *label38
-    * set *tmp97 .FUEL_OFF
+  304 control config :update_fuel.0:uld_in .FUEL_OFF
   305 label *label39
-    * control config :update_fuel.0:uld_in *tmp97
   306 jump *label40 notEqual :update_fuel.0:fuel false
-    * set *tmp101 .FUEL
+  307 control config :update_fuel.0:uld_out .FUEL
   308 jump *label41 always
   309 label *label40
-    * set *tmp101 .FUEL_OFF
+  310 control config :update_fuel.0:uld_out .FUEL_OFF
   311 label *label41
-    * control config :update_fuel.0:uld_out *tmp101
   312 label *label37
   313 return :update_fuel.0*retaddr
   314 end

Modifications by Inline function 'kilo' defined at line 117:1 (-2 instructions):
 
   223 label *label24
   224 label *label22
   225 set :kilo.0:val .AVG_SURPLUS
-    * call *label0 :kilo.0*retaddr :kilo.0*retval
+  226 label *label81
+  227 # "Function: def kilo(in val)"
+  228 op idiv *tmp93 :kilo.0:val 100
+  229 op div :kilo.0*retval *tmp93 10
+  230 jump *label82 always
+  231 label *label82
   232 set :surplus :kilo.0*retval
   233 sensor :kilo.0:val node1 @powerNetStored
-    * call *label0 :kilo.0*retaddr :kilo.0*retval
+  234 label *label83
+  235 # "Function: def kilo(in val)"
+  236 op idiv *tmp93 :kilo.0:val 100
+  237 op div :kilo.0*retval *tmp93 10
+  238 jump *label84 always
+  239 label *label84
   240 set :charge :kilo.0*retval
   241 jump *label25 lessThanEq .START_POWER_REQ 0
   242 set :kilo.0:val .START_POWER_REQ
-    * call *label0 :kilo.0*retaddr :kilo.0*retval
+  243 label *label85
+  244 # "Function: def kilo(in val)"
+  245 op idiv *tmp93 :kilo.0:val 100
+  246 op div :kilo.0*retval *tmp93 10
+  247 jump *label86 always
+  248 label *label86
   249 print "Req "
   250 print :kilo.0*retval
   251 print "kJ / "
 
   302 jump *label7 always
   303 label *label9
   304 end
-    * label *label0
-    * # "Function: def kilo(in val)"
-    * op idiv *tmp93 :kilo.0:val 100
-    * op div :kilo.0*retval *tmp93 10
-    * jump *label36 always
-    * label *label36
-    * return :kilo.0*retaddr
-    * end
   305 label *label1
   306 # "Function: def update_fuel(in fuel, in uld_in, in uld_out)"
   307 jump *label38 equal :update_fuel.0:fuel false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   225 set :kilo.0:val .AVG_SURPLUS
   226 label *label81
   227 # "Function: def kilo(in val)"
-    * op idiv *tmp93 :kilo.0:val 100
+  228 op idiv *tmp93 .AVG_SURPLUS 100
   229 op div :kilo.0*retval *tmp93 10
   230 jump *label82 always
   231 label *label82
 
   242 set :kilo.0:val .START_POWER_REQ
   243 label *label85
   244 # "Function: def kilo(in val)"
-    * op idiv *tmp93 :kilo.0:val 100
+  245 op idiv *tmp93 .START_POWER_REQ 100
   246 op div :kilo.0*retval *tmp93 10
   247 jump *label86 always
   248 label *label86

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-2 instructions):
 
   222 control enabled generator2 true
   223 label *label24
   224 label *label22
-    * set :kilo.0:val .AVG_SURPLUS
   225 label *label81
   226 # "Function: def kilo(in val)"
   227 op idiv *tmp93 .AVG_SURPLUS 100
 
   238 label *label84
   239 set :charge :kilo.0*retval
   240 jump *label25 lessThanEq .START_POWER_REQ 0
-    * set :kilo.0:val .START_POWER_REQ
   241 label *label85
   242 # "Function: def kilo(in val)"
   243 op idiv *tmp93 .START_POWER_REQ 100

Modifications by Inline function 'update_fuel' defined at line 121:1 (+8 instructions):
 
    94 set :update_fuel.0:fuel :start_reactor.0*retval
    95 set :update_fuel.0:uld_in unloader1
    96 set :update_fuel.0:uld_out unloader2
-    * call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
+   97 label *label87
+   98 # "Function: def update_fuel(in fuel, in uld_in, in uld_out)"
+   99 jump *label88 equal :update_fuel.0:fuel false
+  100 control config :update_fuel.0:uld_in .FUEL
+  101 jump *label89 always
+  102 label *label88
+  103 control config :update_fuel.0:uld_in .FUEL_OFF
+  104 label *label89
+  105 jump *label90 notEqual :update_fuel.0:fuel false
+  106 control config :update_fuel.0:uld_out .FUEL
+  107 jump *label91 always
+  108 label *label90
+  109 control config :update_fuel.0:uld_out .FUEL_OFF
+  110 label *label91
+  111 label *label92
   112 set :start_reactor.0:reactor reactor2
   113 set :start_reactor.0:reactor_num 2
   114 set :start_reactor.0:emerg_shutdown :emerg_shutdown
 
   120 set :update_fuel.0:fuel :start_reactor.0*retval
   121 set :update_fuel.0:uld_in unloader3
   122 set :update_fuel.0:uld_out unloader4
-    * call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
+  123 label *label93
+  124 # "Function: def update_fuel(in fuel, in uld_in, in uld_out)"
+  125 jump *label94 equal :update_fuel.0:fuel false
+  126 control config :update_fuel.0:uld_in .FUEL
+  127 jump *label95 always
+  128 label *label94
+  129 control config :update_fuel.0:uld_in .FUEL_OFF
+  130 label *label95
+  131 jump *label96 notEqual :update_fuel.0:fuel false
+  132 control config :update_fuel.0:uld_out .FUEL
+  133 jump *label97 always
+  134 label *label96
+  135 control config :update_fuel.0:uld_out .FUEL_OFF
+  136 label *label97
+  137 label *label98
   138 set :check_radar.0:unit cyclone1
   139 call *label4 :check_radar.0*retaddr :check_radar.0*retval
   140 op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
 
   167 set :update_fuel.0:fuel :fuel_many
   168 set :update_fuel.0:uld_in unloader5
   169 set :update_fuel.0:uld_out unloader6
-    * call *label1 :update_fuel.0*retaddr :update_fuel.0*retval
+  170 label *label99
+  171 # "Function: def update_fuel(in fuel, in uld_in, in uld_out)"
+  172 jump *label100 equal :update_fuel.0:fuel false
+  173 control config :update_fuel.0:uld_in .FUEL
+  174 jump *label101 always
+  175 label *label100
+  176 control config :update_fuel.0:uld_in .FUEL_OFF
+  177 label *label101
+  178 jump *label102 notEqual :update_fuel.0:fuel false
+  179 control config :update_fuel.0:uld_out .FUEL
+  180 jump *label103 always
+  181 label *label102
+  182 control config :update_fuel.0:uld_out .FUEL_OFF
+  183 label *label103
+  184 label *label104
   185 op or *tmp30 :fuel_1 :fuel_2
   186 op or *tmp31 *tmp30 :fuel_many
   187 # "Function: def throttle_blast(in reactors_fueled, in emerg_shutdown)"
 
   342 jump *label7 always
   343 label *label9
   344 end
-    * label *label1
-    * # "Function: def update_fuel(in fuel, in uld_in, in uld_out)"
-    * jump *label38 equal :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_in .FUEL
-    * jump *label39 always
-    * label *label38
-    * control config :update_fuel.0:uld_in .FUEL_OFF
-    * label *label39
-    * jump *label40 notEqual :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_out .FUEL
-    * jump *label41 always
-    * label *label40
-    * control config :update_fuel.0:uld_out .FUEL_OFF
-    * label *label41
-    * label *label37
-    * return :update_fuel.0*retaddr
-    * end
   345 label *label2
   346 # "Function: def calc_charge_req(in reactor, in time)"
   347 op sub *tmp102 @tick :calc_charge_req.0:time

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    96 set :update_fuel.0:uld_out unloader2
    97 label *label87
    98 # "Function: def update_fuel(in fuel, in uld_in, in uld_out)"
-    * jump *label88 equal :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_in .FUEL
+   99 jump *label88 equal :start_reactor.0*retval false
+  100 control config unloader1 @blast-compound
   101 jump *label89 always
   102 label *label88
-    * control config :update_fuel.0:uld_in .FUEL_OFF
+  103 control config unloader1 @scrap
   104 label *label89
-    * jump *label90 notEqual :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_out .FUEL
+  105 jump *label90 notEqual :start_reactor.0*retval false
+  106 control config unloader2 @blast-compound
   107 jump *label91 always
   108 label *label90
-    * control config :update_fuel.0:uld_out .FUEL_OFF
+  109 control config unloader2 @scrap
   110 label *label91
   111 label *label92
   112 set :start_reactor.0:reactor reactor2
 
   122 set :update_fuel.0:uld_out unloader4
   123 label *label93
   124 # "Function: def update_fuel(in fuel, in uld_in, in uld_out)"
-    * jump *label94 equal :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_in .FUEL
+  125 jump *label94 equal :start_reactor.0*retval false
+  126 control config unloader3 @blast-compound
   127 jump *label95 always
   128 label *label94
-    * control config :update_fuel.0:uld_in .FUEL_OFF
+  129 control config unloader3 @scrap
   130 label *label95
-    * jump *label96 notEqual :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_out .FUEL
+  131 jump *label96 notEqual :start_reactor.0*retval false
+  132 control config unloader4 @blast-compound
   133 jump *label97 always
   134 label *label96
-    * control config :update_fuel.0:uld_out .FUEL_OFF
+  135 control config unloader4 @scrap
   136 label *label97
   137 label *label98
   138 set :check_radar.0:unit cyclone1
 
   169 set :update_fuel.0:uld_out unloader6
   170 label *label99
   171 # "Function: def update_fuel(in fuel, in uld_in, in uld_out)"
-    * jump *label100 equal :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_in .FUEL
+  172 jump *label100 equal :fuel_many false
+  173 control config unloader5 @blast-compound
   174 jump *label101 always
   175 label *label100
-    * control config :update_fuel.0:uld_in .FUEL_OFF
+  176 control config unloader5 @scrap
   177 label *label101
-    * jump *label102 notEqual :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_out .FUEL
+  178 jump *label102 notEqual :fuel_many false
+  179 control config unloader6 @blast-compound
   180 jump *label103 always
   181 label *label102
-    * control config :update_fuel.0:uld_out .FUEL_OFF
+  182 control config unloader6 @scrap
   183 label *label103
   184 label *label104
   185 op or *tmp30 :fuel_1 :fuel_2

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-9 instructions):
 
    91 call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
    92 set :fuel_1 :start_reactor.0*retval
    93 set :t_startup1 .RET_T_STARTUP
-    * set :update_fuel.0:fuel :start_reactor.0*retval
-    * set :update_fuel.0:uld_in unloader1
-    * set :update_fuel.0:uld_out unloader2
    94 label *label87
    95 # "Function: def update_fuel(in fuel, in uld_in, in uld_out)"
    96 jump *label88 equal :start_reactor.0*retval false
 
   114 call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
   115 set :fuel_2 :start_reactor.0*retval
   116 set :t_startup2 .RET_T_STARTUP
-    * set :update_fuel.0:fuel :start_reactor.0*retval
-    * set :update_fuel.0:uld_in unloader3
-    * set :update_fuel.0:uld_out unloader4
   117 label *label93
   118 # "Function: def update_fuel(in fuel, in uld_in, in uld_out)"
   119 jump *label94 equal :start_reactor.0*retval false
 
   158 set :t_startup5 .RET_T_STARTUP
   159 op or *tmp27 :fuel_3 :fuel_4
   160 op or :fuel_many *tmp27 :start_reactor.0*retval
-    * set :update_fuel.0:fuel :fuel_many
-    * set :update_fuel.0:uld_in unloader5
-    * set :update_fuel.0:uld_out unloader6
   161 label *label99
   162 # "Function: def update_fuel(in fuel, in uld_in, in uld_out)"
   163 jump *label100 equal :fuel_many false

Modifications by Inline function 'check_radar' defined at line 259:1 (+17 instructions):
 
    46 set .CONTAINER vault1
    47 set .NODE node1
    48 set :check_radar.0:unit cyclone1
-    * call *label4 :check_radar.0*retaddr :check_radar.0*retval
+   49 label *label105
+   50 # "Function: def check_radar(in unit)"
+   51 radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
+   52 jump *label106 equal :check_radar.0:enemy_found null
+   53 control enabled projector1 true
+   54 control enabled projector2 true
+   55 control config .ULD_IN_1 .FUEL_OFF
+   56 control config .ULD_OUT_1 .FUEL
+   57 control config .ULD_IN_2 .FUEL_OFF
+   58 control config .ULD_OUT_2 .FUEL
+   59 control config .ULD_IN_MANY .FUEL_OFF
+   60 control config .ULD_OUT_MANY .FUEL
+   61 control config .ULD_MIXER .FUEL_OFF
+   62 control enabled reactor1 false
+   63 control enabled reactor2 false
+   64 control enabled reactor3 false
+   65 control enabled reactor4 false
+   66 control enabled reactor5 false
+   67 set :check_radar.0*retval true
+   68 jump *label108 always
+   69 jump *label107 always
+   70 label *label106
+   71 control enabled projector1 false
+   72 control enabled projector2 false
+   73 set :check_radar.0*retval false
+   74 jump *label108 always
+   75 label *label107
+   76 label *label108
    77 # "Function: def check_manual_shutdown()"
    78 op notEqual *tmp9 switch1 null
    79 sensor *tmp10 switch1 @enabled
 
   157 label *label97
   158 label *label98
   159 set :check_radar.0:unit cyclone1
-    * call *label4 :check_radar.0*retaddr :check_radar.0*retval
+  160 label *label109
+  161 # "Function: def check_radar(in unit)"
+  162 radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
+  163 jump *label110 equal :check_radar.0:enemy_found null
+  164 control enabled projector1 true
+  165 control enabled projector2 true
+  166 control config .ULD_IN_1 .FUEL_OFF
+  167 control config .ULD_OUT_1 .FUEL
+  168 control config .ULD_IN_2 .FUEL_OFF
+  169 control config .ULD_OUT_2 .FUEL
+  170 control config .ULD_IN_MANY .FUEL_OFF
+  171 control config .ULD_OUT_MANY .FUEL
+  172 control config .ULD_MIXER .FUEL_OFF
+  173 control enabled reactor1 false
+  174 control enabled reactor2 false
+  175 control enabled reactor3 false
+  176 control enabled reactor4 false
+  177 control enabled reactor5 false
+  178 set :check_radar.0*retval true
+  179 jump *label112 always
+  180 jump *label111 always
+  181 label *label110
+  182 control enabled projector1 false
+  183 control enabled projector2 false
+  184 set :check_radar.0*retval false
+  185 jump *label112 always
+  186 label *label111
+  187 label *label112
   188 op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
   189 set :start_reactor.0:reactor reactor3
   190 set :start_reactor.0:reactor_num 3
 
   593 label *label45
   594 return :start_reactor.0*retaddr
   595 end
-    * label *label4
-    * # "Function: def check_radar(in unit)"
-    * radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
-    * jump *label79 equal :check_radar.0:enemy_found null
-    * control enabled projector1 true
-    * control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
-    * control enabled reactor1 false
-    * control enabled reactor2 false
-    * control enabled reactor3 false
-    * control enabled reactor4 false
-    * control enabled reactor5 false
-    * set :check_radar.0*retval true
-    * jump *label78 always
-    * jump *label80 always
-    * label *label79
-    * control enabled projector1 false
-    * control enabled projector2 false
-    * set :check_radar.0*retval false
-    * jump *label78 always
-    * label *label80
-    * label *label78
-    * return :check_radar.0*retaddr
-    * end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    48 set :check_radar.0:unit cyclone1
    49 label *label105
    50 # "Function: def check_radar(in unit)"
-    * radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
+   51 radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
    52 jump *label106 equal :check_radar.0:enemy_found null
    53 control enabled projector1 true
    54 control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
+   55 control config unloader1 @scrap
+   56 control config unloader2 @blast-compound
+   57 control config unloader3 @scrap
+   58 control config unloader4 @blast-compound
+   59 control config unloader5 @scrap
+   60 control config unloader6 @blast-compound
+   61 control config unloader7 @scrap
    62 control enabled reactor1 false
    63 control enabled reactor2 false
    64 control enabled reactor3 false
 
   159 set :check_radar.0:unit cyclone1
   160 label *label109
   161 # "Function: def check_radar(in unit)"
-    * radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
+  162 radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
   163 jump *label110 equal :check_radar.0:enemy_found null
   164 control enabled projector1 true
   165 control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
+  166 control config unloader1 @scrap
+  167 control config unloader2 @blast-compound
+  168 control config unloader3 @scrap
+  169 control config unloader4 @blast-compound
+  170 control config unloader5 @scrap
+  171 control config unloader6 @blast-compound
+  172 control config unloader7 @scrap
   173 control enabled reactor1 false
   174 control enabled reactor2 false
   175 control enabled reactor3 false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-11 instructions):
     0 printflush message1
-    * set .FUEL @blast-compound
-    * set .FUEL_OFF @scrap
     1 set .PWR_REQ 23000
     2 set .FLOW_REQ 2000
     3 set .PWR_ABANDON 2000
 
    34 set .REACTORS_DESIRED 5
    35 set .AVG_SURPLUS 500
    36 label *label7
-    * set .ULD_IN_1 unloader1
-    * set .ULD_OUT_1 unloader2
-    * set .ULD_IN_2 unloader3
-    * set .ULD_OUT_2 unloader4
-    * set .ULD_IN_MANY unloader5
-    * set .ULD_OUT_MANY unloader6
-    * set .ULD_MIXER unloader7
    37 set .CONTAINER vault1
    38 set .NODE node1
-    * set :check_radar.0:unit cyclone1
    39 label *label105
    40 # "Function: def check_radar(in unit)"
    41 radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
 
   146 control config unloader4 @scrap
   147 label *label97
   148 label *label98
-    * set :check_radar.0:unit cyclone1
   149 label *label109
   150 # "Function: def check_radar(in unit)"
   151 radar enemy any any health cyclone1 1 :check_radar.0:enemy_found

Modifications by Inline function 'calc_charge_req' defined at line 126:1 (+56 instructions):
 
    82 op or :emerg_shutdown :check_radar.0*retval *tmp8
    83 set :calc_charge_req.0:reactor reactor1
    84 set :calc_charge_req.0:time :t_startup1
-    * call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
+   85 label *label113
+   86 # "Function: def calc_charge_req(in reactor, in time)"
+   87 op sub *tmp102 @tick :calc_charge_req.0:time
+   88 op idiv :calc_charge_req.0:secs *tmp102 60
+   89 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+   90 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+   91 op equal *tmp106 *tmp105 false
+   92 op or *tmp107 *tmp104 *tmp106
+   93 jump *label114 equal *tmp107 false
+   94 set :calc_charge_req.0*retval 0
+   95 jump *label116 always
+   96 label *label114
+   97 label *label115
+   98 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+   99 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  100 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  101 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  102 jump *label116 always
+  103 label *label116
   104 set .START_POWER_REQ :calc_charge_req.0*retval
   105 set :calc_charge_req.0:reactor reactor2
   106 set :calc_charge_req.0:time :t_startup2
-    * call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
+  107 label *label117
+  108 # "Function: def calc_charge_req(in reactor, in time)"
+  109 op sub *tmp102 @tick :calc_charge_req.0:time
+  110 op idiv :calc_charge_req.0:secs *tmp102 60
+  111 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  112 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  113 op equal *tmp106 *tmp105 false
+  114 op or *tmp107 *tmp104 *tmp106
+  115 jump *label118 equal *tmp107 false
+  116 set :calc_charge_req.0*retval 0
+  117 jump *label120 always
+  118 label *label118
+  119 label *label119
+  120 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  121 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  122 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  123 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  124 jump *label120 always
+  125 label *label120
   126 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   127 set :calc_charge_req.0:reactor reactor3
   128 set :calc_charge_req.0:time :t_startup3
-    * call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
+  129 label *label121
+  130 # "Function: def calc_charge_req(in reactor, in time)"
+  131 op sub *tmp102 @tick :calc_charge_req.0:time
+  132 op idiv :calc_charge_req.0:secs *tmp102 60
+  133 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  134 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  135 op equal *tmp106 *tmp105 false
+  136 op or *tmp107 *tmp104 *tmp106
+  137 jump *label122 equal *tmp107 false
+  138 set :calc_charge_req.0*retval 0
+  139 jump *label124 always
+  140 label *label122
+  141 label *label123
+  142 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  143 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  144 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  145 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  146 jump *label124 always
+  147 label *label124
   148 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   149 set :calc_charge_req.0:reactor reactor4
   150 set :calc_charge_req.0:time :t_startup4
-    * call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
+  151 label *label125
+  152 # "Function: def calc_charge_req(in reactor, in time)"
+  153 op sub *tmp102 @tick :calc_charge_req.0:time
+  154 op idiv :calc_charge_req.0:secs *tmp102 60
+  155 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  156 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  157 op equal *tmp106 *tmp105 false
+  158 op or *tmp107 *tmp104 *tmp106
+  159 jump *label126 equal *tmp107 false
+  160 set :calc_charge_req.0*retval 0
+  161 jump *label128 always
+  162 label *label126
+  163 label *label127
+  164 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  165 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  166 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  167 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  168 jump *label128 always
+  169 label *label128
   170 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   171 set :calc_charge_req.0:reactor reactor5
   172 set :calc_charge_req.0:time :t_startup5
-    * call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
+  173 label *label129
+  174 # "Function: def calc_charge_req(in reactor, in time)"
+  175 op sub *tmp102 @tick :calc_charge_req.0:time
+  176 op idiv :calc_charge_req.0:secs *tmp102 60
+  177 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  178 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  179 op equal *tmp106 *tmp105 false
+  180 op or *tmp107 *tmp104 *tmp106
+  181 jump *label130 equal *tmp107 false
+  182 set :calc_charge_req.0*retval 0
+  183 jump *label132 always
+  184 label *label130
+  185 label *label131
+  186 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  187 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  188 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  189 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  190 jump *label132 always
+  191 label *label132
   192 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   193 set :start_reactor.0:reactor reactor1
   194 set :start_reactor.0:reactor_num 1
 
   466 jump *label7 always
   467 label *label9
   468 end
-    * label *label2
-    * # "Function: def calc_charge_req(in reactor, in time)"
-    * op sub *tmp102 @tick :calc_charge_req.0:time
-    * op idiv :calc_charge_req.0:secs *tmp102 60
-    * op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
-    * op equal *tmp106 *tmp105 false
-    * op or *tmp107 *tmp104 *tmp106
-    * jump *label43 equal *tmp107 false
-    * set :calc_charge_req.0*retval 0
-    * jump *label42 always
-    * label *label43
-    * label *label44
-    * op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
-    * op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
-    * op idiv :calc_charge_req.0:charge_req *tmp110 0.04
-    * set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
-    * jump *label42 always
-    * label *label42
-    * return :calc_charge_req.0*retaddr
-    * end
   469 label *label3
   470 # "Function: def start_reactor(in reactor, in reactor_num, in emerg_shutdown, in fuel_on, in t_startup)"
   471 set .RET_T_STARTUP :start_reactor.0:t_startup
 
   528 jump *label58 greaterThanEq :start_reactor.0:secs 30
   529 set :calc_charge_req.0:reactor :start_reactor.0:reactor
   530 set :calc_charge_req.0:time :start_reactor.0:t_startup
-    * call *label2 :calc_charge_req.0*retaddr :calc_charge_req.0*retval
+  531 label *label133
+  532 # "Function: def calc_charge_req(in reactor, in time)"
+  533 op sub *tmp102 @tick :calc_charge_req.0:time
+  534 op idiv :calc_charge_req.0:secs *tmp102 60
+  535 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  536 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  537 op equal *tmp106 *tmp105 false
+  538 op or *tmp107 *tmp104 *tmp106
+  539 jump *label134 equal *tmp107 false
+  540 set :calc_charge_req.0*retval 0
+  541 jump *label136 always
+  542 label *label134
+  543 label *label135
+  544 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  545 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  546 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  547 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  548 jump *label136 always
+  549 label *label136
   550 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
   551 op lessThan *tmp154 *tmp153 .PWR_ABORT
   552 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    84 set :calc_charge_req.0:time :t_startup1
    85 label *label113
    86 # "Function: def calc_charge_req(in reactor, in time)"
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+   87 op sub *tmp102 @tick :t_startup1
    88 op idiv :calc_charge_req.0:secs *tmp102 60
    89 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+   90 sensor *tmp105 reactor1 @enabled
    91 op equal *tmp106 *tmp105 false
    92 op or *tmp107 *tmp104 *tmp106
    93 jump *label114 equal *tmp107 false
 
   106 set :calc_charge_req.0:time :t_startup2
   107 label *label117
   108 # "Function: def calc_charge_req(in reactor, in time)"
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+  109 op sub *tmp102 @tick :t_startup2
   110 op idiv :calc_charge_req.0:secs *tmp102 60
   111 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  112 sensor *tmp105 reactor2 @enabled
   113 op equal *tmp106 *tmp105 false
   114 op or *tmp107 *tmp104 *tmp106
   115 jump *label118 equal *tmp107 false
 
   128 set :calc_charge_req.0:time :t_startup3
   129 label *label121
   130 # "Function: def calc_charge_req(in reactor, in time)"
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+  131 op sub *tmp102 @tick :t_startup3
   132 op idiv :calc_charge_req.0:secs *tmp102 60
   133 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  134 sensor *tmp105 reactor3 @enabled
   135 op equal *tmp106 *tmp105 false
   136 op or *tmp107 *tmp104 *tmp106
   137 jump *label122 equal *tmp107 false
 
   150 set :calc_charge_req.0:time :t_startup4
   151 label *label125
   152 # "Function: def calc_charge_req(in reactor, in time)"
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+  153 op sub *tmp102 @tick :t_startup4
   154 op idiv :calc_charge_req.0:secs *tmp102 60
   155 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  156 sensor *tmp105 reactor4 @enabled
   157 op equal *tmp106 *tmp105 false
   158 op or *tmp107 *tmp104 *tmp106
   159 jump *label126 equal *tmp107 false
 
   172 set :calc_charge_req.0:time :t_startup5
   173 label *label129
   174 # "Function: def calc_charge_req(in reactor, in time)"
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+  175 op sub *tmp102 @tick :t_startup5
   176 op idiv :calc_charge_req.0:secs *tmp102 60
   177 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  178 sensor *tmp105 reactor5 @enabled
   179 op equal *tmp106 *tmp105 false
   180 op or *tmp107 *tmp104 *tmp106
   181 jump *label130 equal *tmp107 false
 
   530 set :calc_charge_req.0:time :start_reactor.0:t_startup
   531 label *label133
   532 # "Function: def calc_charge_req(in reactor, in time)"
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+  533 op sub *tmp102 @tick :start_reactor.0:t_startup
   534 op idiv :calc_charge_req.0:secs *tmp102 60
   535 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  536 sensor *tmp105 :start_reactor.0:reactor @enabled
   537 op equal *tmp106 *tmp105 false
   538 op or *tmp107 *tmp104 *tmp106
   539 jump *label134 equal *tmp107 false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-12 instructions):
 
    80 jump *label10 always
    81 label *label10
    82 op or :emerg_shutdown :check_radar.0*retval *tmp8
-    * set :calc_charge_req.0:reactor reactor1
-    * set :calc_charge_req.0:time :t_startup1
    83 label *label113
    84 # "Function: def calc_charge_req(in reactor, in time)"
    85 op sub *tmp102 @tick :t_startup1
 
   100 jump *label116 always
   101 label *label116
   102 set .START_POWER_REQ :calc_charge_req.0*retval
-    * set :calc_charge_req.0:reactor reactor2
-    * set :calc_charge_req.0:time :t_startup2
   103 label *label117
   104 # "Function: def calc_charge_req(in reactor, in time)"
   105 op sub *tmp102 @tick :t_startup2
 
   120 jump *label120 always
   121 label *label120
   122 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * set :calc_charge_req.0:reactor reactor3
-    * set :calc_charge_req.0:time :t_startup3
   123 label *label121
   124 # "Function: def calc_charge_req(in reactor, in time)"
   125 op sub *tmp102 @tick :t_startup3
 
   140 jump *label124 always
   141 label *label124
   142 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * set :calc_charge_req.0:reactor reactor4
-    * set :calc_charge_req.0:time :t_startup4
   143 label *label125
   144 # "Function: def calc_charge_req(in reactor, in time)"
   145 op sub *tmp102 @tick :t_startup4
 
   160 jump *label128 always
   161 label *label128
   162 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * set :calc_charge_req.0:reactor reactor5
-    * set :calc_charge_req.0:time :t_startup5
   163 label *label129
   164 # "Function: def calc_charge_req(in reactor, in time)"
   165 op sub *tmp102 @tick :t_startup5
 
   516 jump *label57 always
   517 label *label56
   518 jump *label58 greaterThanEq :start_reactor.0:secs 30
-    * set :calc_charge_req.0:reactor :start_reactor.0:reactor
-    * set :calc_charge_req.0:time :start_reactor.0:t_startup
   519 label *label133
   520 # "Function: def calc_charge_req(in reactor, in time)"
   521 op sub *tmp102 @tick :start_reactor.0:t_startup

Modifications by Inline function call at line 80:14 (-525 instructions):
-    * printflush message1
-    * set .PWR_REQ 23000
-    * set .FLOW_REQ 2000
-    * set .PWR_ABANDON 2000
-    * set .PWR_ABORT 5000
-    * set .PWR_RESERVE 0.6
-    * set .FLOW_ABORT -500
-    * set .FUEL_REQ 10
-    * set .FUEL_TOT_REQ 45
-    * set .FUEL_TOT_ABORT 15
-    * set .CRYO_REQ 3
-    * set .CRYO_REQ_EA 2
-    * set .CRYO_ABORT 1
-    * set :fuel_1 false
-    * set :fuel_2 false
-    * set :fuel_3 false
-    * set :fuel_4 false
-    * set :fuel_5 false
-    * sensor *tmp0 node1 @powerNetIn
-    * sensor *tmp1 node1 @powerNetOut
-    * op sub *tmp2 *tmp0 *tmp1
-    * op floor :surplus *tmp2
-    * jump *label5 lessThanEq :surplus 10000
-    * op sub *tmp5 @tick 3600
-    * jump *label6 always
-    * label *label5
-    * set *tmp5 @tick
-    * label *label6
-    * set :t_startup1 *tmp5
-    * set :t_startup2 *tmp5
-    * set :t_startup3 *tmp5
-    * set :t_startup4 *tmp5
-    * set :t_startup5 *tmp5
-    * set .RET_T_STARTUP *tmp5
-    * set .REACTORS_DESIRED 5
-    * set .AVG_SURPLUS 500
-    * label *label7
-    * set .CONTAINER vault1
-    * set .NODE node1
-    * label *label105
-    * # "Function: def check_radar(in unit)"
-    * radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
-    * jump *label106 equal :check_radar.0:enemy_found null
-    * control enabled projector1 true
-    * control enabled projector2 true
-    * control config unloader1 @scrap
-    * control config unloader2 @blast-compound
-    * control config unloader3 @scrap
-    * control config unloader4 @blast-compound
-    * control config unloader5 @scrap
-    * control config unloader6 @blast-compound
-    * control config unloader7 @scrap
-    * control enabled reactor1 false
-    * control enabled reactor2 false
-    * control enabled reactor3 false
-    * control enabled reactor4 false
-    * control enabled reactor5 false
-    * set :check_radar.0*retval true
-    * jump *label108 always
-    * jump *label107 always
-    * label *label106
-    * control enabled projector1 false
-    * control enabled projector2 false
-    * set :check_radar.0*retval false
-    * jump *label108 always
-    * label *label107
-    * label *label108
-    * # "Function: def check_manual_shutdown()"
-    * op notEqual *tmp9 switch1 null
-    * sensor *tmp10 switch1 @enabled
-    * op equal *tmp11 *tmp10 false
-    * op land *tmp12 *tmp9 *tmp11
-    * jump *label11 equal *tmp12 false
-    * print "User has disabled emergency switch"
-    * print "\n"
-    * set *tmp8 true
-    * jump *label10 always
-    * label *label11
-    * label *label12
-    * set *tmp8 false
-    * jump *label10 always
-    * label *label10
-    * op or :emerg_shutdown :check_radar.0*retval *tmp8
-    * label *label113
-    * # "Function: def calc_charge_req(in reactor, in time)"
-    * op sub *tmp102 @tick :t_startup1
-    * op idiv :calc_charge_req.0:secs *tmp102 60
-    * op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 reactor1 @enabled
-    * op equal *tmp106 *tmp105 false
-    * op or *tmp107 *tmp104 *tmp106
-    * jump *label114 equal *tmp107 false
-    * set :calc_charge_req.0*retval 0
-    * jump *label116 always
-    * label *label114
-    * label *label115
-    * op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
-    * op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
-    * op idiv :calc_charge_req.0:charge_req *tmp110 0.04
-    * set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
-    * jump *label116 always
-    * label *label116
-    * set .START_POWER_REQ :calc_charge_req.0*retval
-    * label *label117
-    * # "Function: def calc_charge_req(in reactor, in time)"
-    * op sub *tmp102 @tick :t_startup2
-    * op idiv :calc_charge_req.0:secs *tmp102 60
-    * op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 reactor2 @enabled
-    * op equal *tmp106 *tmp105 false
-    * op or *tmp107 *tmp104 *tmp106
-    * jump *label118 equal *tmp107 false
-    * set :calc_charge_req.0*retval 0
-    * jump *label120 always
-    * label *label118
-    * label *label119
-    * op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
-    * op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
-    * op idiv :calc_charge_req.0:charge_req *tmp110 0.04
-    * set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
-    * jump *label120 always
-    * label *label120
-    * op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * label *label121
-    * # "Function: def calc_charge_req(in reactor, in time)"
-    * op sub *tmp102 @tick :t_startup3
-    * op idiv :calc_charge_req.0:secs *tmp102 60
-    * op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 reactor3 @enabled
-    * op equal *tmp106 *tmp105 false
-    * op or *tmp107 *tmp104 *tmp106
-    * jump *label122 equal *tmp107 false
-    * set :calc_charge_req.0*retval 0
-    * jump *label124 always
-    * label *label122
-    * label *label123
-    * op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
-    * op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
-    * op idiv :calc_charge_req.0:charge_req *tmp110 0.04
-    * set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
-    * jump *label124 always
-    * label *label124
-    * op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * label *label125
-    * # "Function: def calc_charge_req(in reactor, in time)"
-    * op sub *tmp102 @tick :t_startup4
-    * op idiv :calc_charge_req.0:secs *tmp102 60
-    * op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 reactor4 @enabled
-    * op equal *tmp106 *tmp105 false
-    * op or *tmp107 *tmp104 *tmp106
-    * jump *label126 equal *tmp107 false
-    * set :calc_charge_req.0*retval 0
-    * jump *label128 always
-    * label *label126
-    * label *label127
-    * op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
-    * op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
-    * op idiv :calc_charge_req.0:charge_req *tmp110 0.04
-    * set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
-    * jump *label128 always
-    * label *label128
-    * op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * label *label129
-    * # "Function: def calc_charge_req(in reactor, in time)"
-    * op sub *tmp102 @tick :t_startup5
-    * op idiv :calc_charge_req.0:secs *tmp102 60
-    * op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 reactor5 @enabled
-    * op equal *tmp106 *tmp105 false
-    * op or *tmp107 *tmp104 *tmp106
-    * jump *label130 equal *tmp107 false
-    * set :calc_charge_req.0*retval 0
-    * jump *label132 always
-    * label *label130
-    * label *label131
-    * op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
-    * op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
-    * op idiv :calc_charge_req.0:charge_req *tmp110 0.04
-    * set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
-    * jump *label132 always
-    * label *label132
-    * op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * set :start_reactor.0:reactor reactor1
-    * set :start_reactor.0:reactor_num 1
-    * set :start_reactor.0:emerg_shutdown :emerg_shutdown
-    * set :start_reactor.0:fuel_on :fuel_1
-    * set :start_reactor.0:t_startup :t_startup1
-    * call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
-    * set :fuel_1 :start_reactor.0*retval
-    * set :t_startup1 .RET_T_STARTUP
-    * label *label87
-    * # "Function: def update_fuel(in fuel, in uld_in, in uld_out)"
-    * jump *label88 equal :start_reactor.0*retval false
-    * control config unloader1 @blast-compound
-    * jump *label89 always
-    * label *label88
-    * control config unloader1 @scrap
-    * label *label89
-    * jump *label90 notEqual :start_reactor.0*retval false
-    * control config unloader2 @blast-compound
-    * jump *label91 always
-    * label *label90
-    * control config unloader2 @scrap
-    * label *label91
-    * label *label92
-    * set :start_reactor.0:reactor reactor2
-    * set :start_reactor.0:reactor_num 2
-    * set :start_reactor.0:emerg_shutdown :emerg_shutdown
-    * set :start_reactor.0:fuel_on :fuel_2
-    * set :start_reactor.0:t_startup :t_startup2
-    * call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
-    * set :fuel_2 :start_reactor.0*retval
-    * set :t_startup2 .RET_T_STARTUP
-    * label *label93
-    * # "Function: def update_fuel(in fuel, in uld_in, in uld_out)"
-    * jump *label94 equal :start_reactor.0*retval false
-    * control config unloader3 @blast-compound
-    * jump *label95 always
-    * label *label94
-    * control config unloader3 @scrap
-    * label *label95
-    * jump *label96 notEqual :start_reactor.0*retval false
-    * control config unloader4 @blast-compound
-    * jump *label97 always
-    * label *label96
-    * control config unloader4 @scrap
-    * label *label97
-    * label *label98
-    * label *label109
-    * # "Function: def check_radar(in unit)"
-    * radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
-    * jump *label110 equal :check_radar.0:enemy_found null
-    * control enabled projector1 true
-    * control enabled projector2 true
-    * control config unloader1 @scrap
-    * control config unloader2 @blast-compound
-    * control config unloader3 @scrap
-    * control config unloader4 @blast-compound
-    * control config unloader5 @scrap
-    * control config unloader6 @blast-compound
-    * control config unloader7 @scrap
-    * control enabled reactor1 false
-    * control enabled reactor2 false
-    * control enabled reactor3 false
-    * control enabled reactor4 false
-    * control enabled reactor5 false
-    * set :check_radar.0*retval true
-    * jump *label112 always
-    * jump *label111 always
-    * label *label110
-    * control enabled projector1 false
-    * control enabled projector2 false
-    * set :check_radar.0*retval false
-    * jump *label112 always
-    * label *label111
-    * label *label112
-    * op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
-    * set :start_reactor.0:reactor reactor3
-    * set :start_reactor.0:reactor_num 3
-    * set :start_reactor.0:emerg_shutdown :emerg_shutdown
-    * set :start_reactor.0:fuel_on :fuel_3
-    * set :start_reactor.0:t_startup :t_startup3
-    * call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
-    * set :fuel_3 :start_reactor.0*retval
-    * set :t_startup3 .RET_T_STARTUP
-    * set :start_reactor.0:reactor reactor4
-    * set :start_reactor.0:reactor_num 4
-    * set :start_reactor.0:emerg_shutdown :emerg_shutdown
-    * set :start_reactor.0:fuel_on :fuel_4
-    * set :start_reactor.0:t_startup :t_startup4
-    * call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
-    * set :fuel_4 :start_reactor.0*retval
-    * set :t_startup4 .RET_T_STARTUP
-    * set :start_reactor.0:reactor reactor5
-    * set :start_reactor.0:reactor_num 5
-    * set :start_reactor.0:emerg_shutdown :emerg_shutdown
-    * set :start_reactor.0:fuel_on :fuel_5
-    * set :start_reactor.0:t_startup :t_startup5
-    * call *label3 :start_reactor.0*retaddr :start_reactor.0*retval
-    * set :fuel_5 :start_reactor.0*retval
-    * set :t_startup5 .RET_T_STARTUP
-    * op or *tmp27 :fuel_3 :fuel_4
-    * op or :fuel_many *tmp27 :start_reactor.0*retval
-    * label *label99
-    * # "Function: def update_fuel(in fuel, in uld_in, in uld_out)"
-    * jump *label100 equal :fuel_many false
-    * control config unloader5 @blast-compound
-    * jump *label101 always
-    * label *label100
-    * control config unloader5 @scrap
-    * label *label101
-    * jump *label102 notEqual :fuel_many false
-    * control config unloader6 @blast-compound
-    * jump *label103 always
-    * label *label102
-    * control config unloader6 @scrap
-    * label *label103
-    * label *label104
-    * op or *tmp30 :fuel_1 :fuel_2
-    * op or *tmp31 *tmp30 :fuel_many
-    * # "Function: def throttle_blast(in reactors_fueled, in emerg_shutdown)"
-    * sensor *tmp33 node1 @powerNetStored
-    * op floor :throttle_blast.0:charge *tmp33
-    * sensor *tmp35 node1 @powerNetIn
-    * sensor *tmp36 node1 @powerNetOut
-    * op sub *tmp37 *tmp35 *tmp36
-    * op floor :throttle_blast.0:surplus *tmp37
-    * sensor :throttle_blast.0:fuel_stored vault1 @blast-compound
-    * op lessThan *tmp40 :throttle_blast.0:charge 5000
-    * op lessThan *tmp41 :throttle_blast.0:surplus -500
-    * op land *tmp42 *tmp40 *tmp41
-    * op or *tmp43 *tmp42 :emerg_shutdown
-    * jump *label14 equal *tmp43 false
-    * set :throttle_blast.0:limit 0
-    * print "Central Fuel at "
-    * print :throttle_blast.0:fuel_stored
-    * print " "
-    * print "/ "
-    * print 0
-    * print " "
-    * print "- "
-    * jump *label16 equal :emerg_shutdown false
-    * print " Enemies detected."
-    * print "\n"
-    * jump *label17 always
-    * label *label16
-    * print " Critical power."
-    * print "\n"
-    * label *label17
-    * jump *label15 always
-    * label *label14
-    * jump *label18 notEqual *tmp31 false
-    * set :throttle_blast.0:limit 150
-    * print "Fuel "
-    * print :throttle_blast.0:fuel_stored
-    * print " "
-    * print "/ "
-    * print 150
-    * print " "
-    * print "(due to emergency)"
-    * print "\n"
-    * jump *label19 always
-    * label *label18
-    * set :throttle_blast.0:limit 800
-    * print "Fuel "
-    * print :throttle_blast.0:fuel_stored
-    * print " "
-    * print "/ "
-    * print 800
-    * print "\"
-    * print "n"
-    * label *label19
-    * label *label15
-    * op lessThan *tmp32 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
-    * jump *label13 always
-    * label *label13
-    * jump *label20 equal *tmp32 false
-    * control config unloader7 @pyratite
-    * jump *label21 always
-    * label *label20
-    * control config unloader7 @scrap
-    * label *label21
-    * # "Function: def diff_generators()"
-    * sensor *tmp53 node1 @powerNetStored
-    * sensor *tmp54 node1 @powerNetCapacity
-    * op div :diff_generators.0:stored_pc *tmp53 *tmp54
-    * op greaterThan *tmp56 :diff_generators.0:stored_pc 0.9
-    * op lessThan *tmp57 .START_POWER_REQ 10
-    * op land *tmp58 *tmp56 *tmp57
-    * jump *label23 equal *tmp58 false
-    * print "Differential now idle."
-    * print "\n"
-    * control enabled generator1 false
-    * control enabled generator2 false
-    * jump *label24 always
-    * label *label23
-    * control enabled generator1 true
-    * control enabled generator2 true
-    * label *label24
-    * label *label22
-    * label *label81
-    * # "Function: def kilo(in val)"
-    * op idiv *tmp93 .AVG_SURPLUS 100
-    * op div :kilo.0*retval *tmp93 10
-    * jump *label82 always
-    * label *label82
-    * set :surplus :kilo.0*retval
-    * sensor :kilo.0:val node1 @powerNetStored
-    * label *label83
-    * # "Function: def kilo(in val)"
-    * op idiv *tmp93 :kilo.0:val 100
-    * op div :kilo.0*retval *tmp93 10
-    * jump *label84 always
-    * label *label84
-    * set :charge :kilo.0*retval
-    * jump *label25 lessThanEq .START_POWER_REQ 0
-    * label *label85
-    * # "Function: def kilo(in val)"
-    * op idiv *tmp93 .START_POWER_REQ 100
-    * op div :kilo.0*retval *tmp93 10
-    * jump *label86 always
-    * label *label86
-    * print "Req "
-    * print :kilo.0*retval
-    * print "kJ / "
-    * print :charge
-    * print "kJ. "
-    * print :surplus
-    * print "kW flow."
-    * print "\n"
-    * jump *label26 always
-    * label *label25
-    * print "Power "
-    * print :surplus
-    * print "kW, "
-    * print :kilo.0*retval
-    * print "kJ"
-    * print "\n"
-    * # "Function: def update_reactors_desired()"
-    * sensor *tmp71 node1 @powerNetStored
-    * sensor *tmp72 node1 @powerNetCapacity
-    * op div :update_reactors_desired.0:stored *tmp71 *tmp72
-    * op greaterThan *tmp74 :update_reactors_desired.0:stored 0.98
-    * op greaterThan *tmp76 .AVG_SURPLUS 16500
-    * op land *tmp77 *tmp74 *tmp76
-    * jump *label28 equal *tmp77 false
-    * jump *label30 lessThanEq .REACTORS_DESIRED 2
-    * op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
-    * op sub .AVG_SURPLUS .AVG_SURPLUS 6500
-    * label *label30
-    * label *label31
-    * label *label28
-    * label *label29
-    * op lessThan *tmp81 :update_reactors_desired.0:stored 0.8
-    * op lessThan *tmp83 .AVG_SURPLUS 8000
-    * op land *tmp84 *tmp81 *tmp83
-    * jump *label32 equal *tmp84 false
-    * op sub *tmp86 .AVG_SURPLUS 10000
-    * op idiv *tmp87 *tmp86 6500
-    * op max :update_reactors_desired.0:needed 1 *tmp87
-    * op add *tmp89 :update_reactors_desired.0:needed .REACTORS_DESIRED
-    * op min .REACTORS_DESIRED 5 *tmp89
-    * label *label32
-    * label *label33
-    * label *label27
-    * label *label26
-    * jump *label34 equal .REACTORS_DESIRED 5
-    * print "Require only "
-    * print .REACTORS_DESIRED
-    * print "/5 reactors."
-    * print "\n"
-    * label *label34
-    * label *label35
-    * printflush message1
-    * label *label8
-    * jump *label7 always
-    * label *label9
-    * end
-    * label *label3
-    * # "Function: def start_reactor(in reactor, in reactor_num, in emerg_shutdown, in fuel_on, in t_startup)"
-    * set .RET_T_STARTUP :start_reactor.0:t_startup
-    * op sub *tmp113 @tick :start_reactor.0:t_startup
-    * op idiv :start_reactor.0:secs *tmp113 60
-    * sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
-    * set :start_reactor.0:supply_fuel true
-    * sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
-    * sensor *tmp118 .NODE @powerNetStored
-    * op floor :start_reactor.0:charge *tmp118
-    * sensor *tmp120 .NODE @powerNetIn
-    * sensor *tmp121 .NODE @powerNetOut
-    * op sub *tmp122 *tmp120 *tmp121
-    * op floor :start_reactor.0:surplus *tmp122
-    * op mul *tmp124 .AVG_SURPLUS 0.8
-    * op mul *tmp125 :start_reactor.0:surplus 0.2
-    * op add .AVG_SURPLUS *tmp124 *tmp125
-    * sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
-    * print "#"
-    * print :start_reactor.0:reactor_num
-    * print " "
-    * print "- "
-    * jump *label46 equal :start_reactor.0:emerg_shutdown false
-    * control enabled :start_reactor.0:reactor false
-    * print "emergency mode"
-    * print "\n"
-    * set :start_reactor.0:supply_fuel false
-    * jump *label47 always
-    * label *label46
-    * jump *label48 equal :start_reactor.0:enabled false
-    * jump *label50 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * control enabled :start_reactor.0:reactor false
-    * print "STOP unwanted"
-    * print "\n"
-    * jump *label51 always
-    * label *label50
-    * op greaterThan *tmp136 :start_reactor.0:reactor_num 1
-    * op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
-    * op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
-    * op land *tmp139 *tmp136 *tmp138
-    * jump *label52 equal *tmp139 false
-    * control enabled :start_reactor.0:reactor false
-    * print "STOP system fuel low"
-    * print "\n"
-    * jump *label53 always
-    * label *label52
-    * jump *label54 greaterThan :start_reactor.0:fuel 1
-    * control enabled :start_reactor.0:reactor false
-    * print "STOP fuel low"
-    * print "\n"
-    * jump *label55 always
-    * label *label54
-    * jump *label56 greaterThan :start_reactor.0:cryo .CRYO_ABORT
-    * control enabled :start_reactor.0:reactor false
-    * print "STOP out of cryo"
-    * print "\n"
-    * jump *label57 always
-    * label *label56
-    * jump *label58 greaterThanEq :start_reactor.0:secs 30
-    * label *label133
-    * # "Function: def calc_charge_req(in reactor, in time)"
-    * op sub *tmp102 @tick :start_reactor.0:t_startup
-    * op idiv :calc_charge_req.0:secs *tmp102 60
-    * op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :start_reactor.0:reactor @enabled
-    * op equal *tmp106 *tmp105 false
-    * op or *tmp107 *tmp104 *tmp106
-    * jump *label134 equal *tmp107 false
-    * set :calc_charge_req.0*retval 0
-    * jump *label136 always
-    * label *label134
-    * label *label135
-    * op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
-    * op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
-    * op idiv :calc_charge_req.0:charge_req *tmp110 0.04
-    * set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
-    * jump *label136 always
-    * label *label136
-    * op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
-    * op lessThan *tmp154 *tmp153 .PWR_ABORT
-    * op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
-    * op land *tmp156 *tmp154 *tmp155
-    * jump *label60 equal *tmp156 false
-    * control enabled :start_reactor.0:reactor false
-    * print "START FAIL battery"
-    * print "\n"
-    * set :start_reactor.0:supply_fuel false
-    * jump *label61 always
-    * label *label60
-    * op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
-    * print "Starting "
-    * print :start_reactor.0:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req.0*retval
-    * print "J"
-    * print "\n"
-    * label *label61
-    * jump *label59 always
-    * label *label58
-    * op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
-    * op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
-    * op land *tmp163 *tmp161 *tmp162
-    * jump *label62 equal *tmp163 false
-    * control enabled :start_reactor.0:reactor false
-    * print "ABANDON - battery crit"
-    * print "\n"
-    * set :start_reactor.0:supply_fuel false
-    * jump *label63 always
-    * label *label62
-    * op idiv :start_reactor.0:mins :start_reactor.0:secs 6
-    * op div :start_reactor.0:mins :start_reactor.0:mins 10
-    * print "RUN "
-    * print :start_reactor.0:mins
-    * print " "
-    * print "mins"
-    * print "\n"
-    * label *label63
-    * label *label59
-    * label *label57
-    * label *label55
-    * label *label53
-    * label *label51
-    * jump *label49 always
-    * label *label48
-    * op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
-    * op sub *tmp170 *tmp169 .PWR_ABORT
-    * op div *tmp171 *tmp170 .PWR_REQ
-    * op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
-    * op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
-    * op max :start_reactor.0:flow_units -0.1 *tmp173
-    * op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
-    * op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
-    * jump *label64 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * print "IDLE"
-    * print "\n"
-    * set :start_reactor.0:supply_fuel false
-    * jump *label65 always
-    * label *label64
-    * op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
-    * jump *label66 greaterThanEq *tmp179 1
-    * op idiv *tmp183 :start_reactor.0:flow_units 0.001
-    * op div :start_reactor.0:flow *tmp183 10
-    * op idiv *tmp186 :start_reactor.0:charge_units 0.001
-    * op div :start_reactor.0:charge *tmp186 10
-    * print "WAIT power. (%"
-    * print :start_reactor.0:charge
-    * print "J + %"
-    * print :start_reactor.0:flow
-    * print "W)"
-    * print "\n"
-    * set :start_reactor.0:supply_fuel false
-    * jump *label67 always
-    * label *label66
-    * op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
-    * op land *tmp189 :start_reactor.0:fuel_on *tmp188
-    * jump *label68 equal *tmp189 false
-    * op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
-    * jump *label70 lessThanEq *tmp191 .FUEL_REQ
-    * print "WAIT fuel"
-    * print "\n"
-    * jump *label71 always
-    * label *label70
-    * print "WAIT system fuel"
-    * print "\n"
-    * label *label71
-    * jump *label69 always
-    * label *label68
-    * op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
-    * jump *label72 greaterThanEq :start_reactor.0:fuel_stored *tmp194
-    * print "WAIT buffer fuel"
-    * print "\n"
-    * jump *label73 always
-    * label *label72
-    * jump *label74 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
-    * print "WAIT cryo"
-    * print "\n"
-    * jump *label75 always
-    * label *label74
-    * print "STARTUP"
-    * print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor.0:reactor true
-    * label *label75
-    * label *label73
-    * label *label69
-    * label *label67
-    * label *label65
-    * label *label49
-    * label *label47
-    * sensor *tmp201 :start_reactor.0:reactor @enabled
-    * jump *label76 equal :start_reactor.0:enabled *tmp201
-    * set .RET_T_STARTUP @tick
-    * label *label76
-    * label *label77
-    * set :start_reactor.0*retval :start_reactor.0:supply_fuel
-    * jump *label45 always
-    * label *label45
-    * return :start_reactor.0*retaddr
-    * end

Final code before resolving virtual instructions:

