   677 instructions before optimizations.
    64 instructions eliminated by Temp Variables Elimination (6 iterations).
     4 instructions eliminated by Case Expression Optimization.
    85 instructions eliminated by Dead Code Elimination (7 iterations).
     2 instructions eliminated by Jump Normalization (2 passes, 5 iterations).
    47 instructions eliminated by Condition Optimization (2 passes, 7 iterations).
    42 instructions eliminated by Single Step Elimination (2 passes, 7 iterations).
     1 instructions eliminated by Expression Optimization (3 iterations).
    16 instructions eliminated by Boolean Optimization (7 iterations).
       4 final jumps of a short-circuited expression optimized.
       5 fully-evaluated expressions optimized using selects.
     2 instructions eliminated by If Expression Optimization (3 iterations).
     9 instructions eliminated by Data Flow Optimization (2 passes, 10 iterations).
       3 loop conditions were partially rotated.
    10 instructions eliminated by Case Switching (6 iterations).
     3 case expressions converted to fast dispatch by Case Switching.
    16 instructions eliminated by Jump Straightening (6 iterations).
    12 instructions updated by Jump Threading.
     1 instructions eliminated by Unreachable Code Elimination (2 iterations).
    39 instructions eliminated by Print Merging.
   339 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 606):
  o Fast-dispatch case at line 210:16                            size    -2, benefit       25.0, efficiency   Infinity
  o Fast-dispatch case at line 236:5                             size    -2, benefit       25.0, efficiency   Infinity
  * Fast-dispatch case at line 419:9                             size    -8, benefit     2187.5, efficiency   Infinity (-8 instructions)

Pass 1: speed optimization selection (cost limit 614):
  * Fast-dispatch case at line 210:16                            size    -2, benefit       25.0, efficiency   Infinity (-2 instructions)
  o Fast-dispatch case at line 236:5                             size    -2, benefit       25.0, efficiency   Infinity

Pass 1: speed optimization selection (cost limit 616):
  * Fast-dispatch case at line 236:5                             size    -2, benefit       25.0, efficiency   Infinity (-1 instructions)

Modifications by Initial phase, Case Expression Optimization, iteration 1 (-4 instructions):
 
    19 print :block
    20 print "\n"
    21 sensor *tmp5 :block @type
-    * set *tmp6 *tmp5
-    * jump *label8 equal *tmp6 @impact-reactor
+   22 jump *label8 equal *tmp5 @impact-reactor
    23 jump *label7 always
    24 label *label8
    25 set .START :n
 
    27 set *tmp4 :reactors
    28 jump *label6 always
    29 label *label7
-    * jump *label10 equal *tmp6 @overdrive-projector
-    * jump *label10 equal *tmp6 @overdrive-dome
+   30 jump *label10 equal *tmp5 @overdrive-projector
+   31 jump *label10 equal *tmp5 @overdrive-dome
    32 jump *label9 always
    33 label *label10
    34 set .START :n
 
   194 label *label18
   195 set *tmp60 null
   196 label *label19
-    * set *tmp79 .MODE
-    * jump *label35 equal *tmp79 0
+  197 jump *label35 equal .MODE 0
   198 jump *label34 always
   199 label *label35
   200 set *tmp78 "[salmon]SHUTDOWN[]"
   201 jump *label33 always
   202 label *label34
-    * jump *label37 equal *tmp79 1
+  203 jump *label37 equal .MODE 1
   204 jump *label36 always
   205 label *label37
   206 set *tmp78 "[gold]STARTUP[]"
   207 jump *label33 always
   208 label *label36
-    * jump *label39 equal *tmp79 2
+  209 jump *label39 equal .MODE 2
   210 jump *label38 always
   211 label *label39
   212 set *tmp78 "[green]RUNNING[]"
 
   293 print :net_power
   294 print "["
   295 print "]"
-    * set *tmp95 .MODE
-    * jump *label50 equal *tmp95 0
+  296 jump *label50 equal .MODE 0
   297 jump *label49 always
   298 label *label50
   299 set .REACTORS_ON 0
 
   324 set *tmp94 *tmp100
   325 jump *label48 always
   326 label *label49
-    * jump *label54 equal *tmp95 1
+  327 jump *label54 equal .MODE 1
   328 jump *label53 always
   329 label *label54
   330 jump *label55 equal .OUTPUT_1 false
 
   489 set *tmp94 *tmp108
   490 jump *label48 always
   491 label *label53
-    * jump *label90 equal *tmp95 2
+  492 jump *label90 equal .MODE 2
   493 jump *label89 always
   494 label *label90
   495 jump *label91 equal .COOLANT_FLAG false
 
   737 getlink *tmp214 :n
   738 set :block *tmp214
   739 sensor *tmp216 :block @type
-    * set *tmp217 *tmp216
-    * jump *label145 equal *tmp217 @impact-reactor
+  740 jump *label145 equal *tmp216 @impact-reactor
   741 jump *label144 always
   742 label *label145
   743 op add :reactors :reactors 1
 
   756 set *tmp215 *tmp221
   757 jump *label143 always
   758 label *label144
-    * jump *label149 equal *tmp217 @overdrive-projector
-    * jump *label149 equal *tmp217 @overdrive-dome
+  759 jump *label149 equal *tmp216 @overdrive-projector
+  760 jump *label149 equal *tmp216 @overdrive-dome
   761 jump *label148 always
   762 label *label149
   763 set *tmp223 :block
 
   765 set *tmp215 .OVERDRIVE
   766 jump *label143 always
   767 label *label148
-    * jump *label151 equal *tmp217 @conduit
-    * jump *label151 equal *tmp217 @pulse-conduit
-    * jump *label151 equal *tmp217 @plated-conduit
-    * jump *label151 equal *tmp217 @conveyor
-    * jump *label151 equal *tmp217 @titanium-conveyor
-    * jump *label151 equal *tmp217 @plastanium-conveyor
-    * jump *label151 equal *tmp217 @armored-conveyor
+  768 jump *label151 equal *tmp216 @conduit
+  769 jump *label151 equal *tmp216 @pulse-conduit
+  770 jump *label151 equal *tmp216 @plated-conduit
+  771 jump *label151 equal *tmp216 @conveyor
+  772 jump *label151 equal *tmp216 @titanium-conveyor
+  773 jump *label151 equal *tmp216 @plastanium-conveyor
+  774 jump *label151 equal *tmp216 @armored-conveyor
   775 jump *label150 always
   776 label *label151
   777 set *tmp225 :block

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-57 instructions):
 
    24 label *label8
    25 set .START :n
    26 op add :reactors :reactors 1
-    * set *tmp4 :reactors
    27 jump *label6 always
    28 label *label7
    29 jump *label10 equal *tmp5 @overdrive-projector
 
    31 jump *label9 always
    32 label *label10
    33 set .START :n
-    * set *tmp4 .START
    34 jump *label6 always
    35 label *label9
-    * set *tmp4 null
    36 label *label6
    37 label *label4
    38 jump *label3 always
 
    42 op equal *tmp9 :reactors 0
    43 jump *label11 equal *tmp9 false
    44 print "No reactor."
-    * set *tmp10 "No reactor."
    45 jump *label12 always
    46 label *label11
-    * set *tmp10 null
    47 label *label12
    48 printflush message1
    49 label *label1
 
    75 op equal *tmp33 .MODE 0
    76 jump *label13 equal *tmp33 false
    77 set .REASON "Processor reset"
-    * set *tmp34 .REASON
    78 jump *label14 always
    79 label *label13
    80 set .REASON "Reason unknown -- out of power?"
-    * set *tmp34 .REASON
    81 label *label14
    82 set *tmp35 switch1
    83 op notEqual *tmp37 .MODE 0
 
   182 label *label28
   183 set *tmp63 *tmp70
   184 label *label21
-    * set *tmp60 *tmp63
   185 jump *label19 always
   186 label *label18
-    * set *tmp60 null
   187 label *label19
   188 jump *label35 equal .MODE 0
   189 jump *label34 always
 
   224 print " ([gold]"
   225 print :multiplier
   226 print "x[])"
-    * set *tmp80 "x[])"
   227 jump *label41 always
   228 label *label40
-    * set *tmp80 null
   229 label *label41
   230 print "\n=================================="
   231 sensor *tmp86 tank1 @totalLiquids
   232 op lessThan *tmp87 *tmp86 750
   233 jump *label42 equal *tmp87 false
   234 print "\n[salmon]Cryofluid level critical![]"
-    * set *tmp88 "\n[salmon]Cryofluid level critical![]"
   235 jump *label43 always
   236 label *label42
-    * set *tmp88 null
   237 label *label43
   238 sensor *tmp89 vault1 @blast-compound
   239 op lessThan *tmp90 *tmp89 700
   240 jump *label44 equal *tmp90 false
   241 print "\n[salmon]Blast compound level critical![]"
-    * set *tmp91 "\n[salmon]Blast compound level critical![]"
   242 jump *label45 always
   243 label *label44
-    * set *tmp91 null
   244 label *label45
   245 op equal *tmp92 :enough_battery false
   246 jump *label46 equal *tmp92 false
 
   250 print :missing_battery
   251 print " "
   252 print "K[] of additional storage to internal battery."
-    * set *tmp93 null
   253 jump *label47 always
   254 label *label46
-    * set *tmp93 null
   255 label *label47
   256 print "\n"
   257 print "Internal battery:    [gold]"
 
   304 label *label51
   305 set *tmp100 null
   306 label *label52
-    * set *tmp94 *tmp100
   307 jump *label48 always
   308 label *label49
   309 jump *label54 equal .MODE 1
 
   360 print :neededPower
   361 print "["
   362 print "]"
-    * set *tmp115 null
   363 jump *label64 always
   364 label *label63
-    * set *tmp115 null
   365 label *label64
   366 op greaterThan *tmp116 :net_power 100
   367 jump *label65 equal *tmp116 false
   368 set .OVERDRIVE true
-    * set *tmp117 .OVERDRIVE
   369 jump *label66 always
   370 label *label65
-    * set *tmp117 null
   371 label *label66
   372 op lessThan *tmp118 .REACTORS_ON :reactors
   373 jump *label67 equal *tmp118 false
 
   391 set .OUTPUT_3 .OUTPUT_2
   392 set .OUTPUT_2 .OUTPUT_1
   393 set .OUTPUT_1 1
-    * set *tmp123 .OUTPUT_1
   394 jump *label73 always
   395 label *label72
-    * set *tmp123 null
   396 label *label73
   397 op equal *tmp124 .OUTPUT_1 0
   398 jump *label74 equal *tmp124 false
 
   409 label *label76
   410 set *tmp129 null
   411 label *label77
-    * set *tmp125 *tmp129
   412 jump *label75 always
   413 label *label74
-    * set *tmp125 null
   414 label *label75
   415 jump *label78 equal :canStart false
   416 label *label81
 
   431 set .REACTORS_ON *tmp136
   432 op add *tmp137 @time 2000
   433 set :nextStart *tmp137
-    * set *tmp132 :nextStart
   434 jump *label79 always
   435 label *label78
-    * set *tmp132 null
   436 label *label79
   437 op greaterThanEq *tmp138 .REACTORS_ON :reactors
   438 jump *label84 equal *tmp138 false
 
   458 label *label85
   459 set *tmp108 *tmp141
   460 label *label60
-    * set *tmp94 *tmp108
   461 jump *label48 always
   462 label *label53
   463 jump *label90 equal .MODE 2
 
   474 set *tmp146 switch1
   475 control enabled *tmp146 false
   476 set .REASON "Cryo level too low"
-    * set *tmp145 .REASON
   477 jump *label92 always
   478 label *label91
-    * set *tmp145 null
   479 label *label92
   480 jump *label95 equal .FUEL_FLAG false
   481 label *label98
 
   488 set *tmp151 switch1
   489 control enabled *tmp151 false
   490 set .REASON "Blast compound level too low"
-    * set *tmp150 .REASON
   491 jump *label96 always
   492 label *label95
-    * set *tmp150 null
   493 label *label96
   494 jump *label101 notEqual .COOLANT_FLAG false
   495 label *label102
 
   549 op idiv *tmp172 :commit_level 1000
   550 print "\nCommit threshold:   [gold]"
   551 print *tmp172
-    * set *tmp164 *tmp172
   552 jump *label112 always
   553 label *label111
-    * set *tmp164 null
   554 label *label112
   555 op equal *tmp173 :commit_level 0
   556 jump *label116 equal *tmp173 false
   557 op idiv *tmp175 :min_level 1000
   558 print "\nRestart threshold: [gold]"
   559 print *tmp175
-    * set *tmp174 *tmp175
   560 jump *label117 always
   561 label *label116
-    * set *tmp174 null
   562 label *label117
   563 print "[] K"
   564 op lessThan *tmp176 :total_battery :min_level
 
   587 label *label124
   588 op add *tmp185 @time 6000
   589 set :nextDecommit *tmp185
-    * set *tmp184 :nextDecommit
   590 jump *label123 always
   591 label *label122
-    * set *tmp184 null
   592 label *label123
   593 op greaterThan *tmp186 @time :nextDecommit
   594 jump *label126 equal *tmp186 false
   595 jump *label128 equal .OVERDRIVE false
   596 set .OVERDRIVE false
-    * set *tmp188 .OVERDRIVE
   597 jump *label129 always
   598 label *label128
   599 op sub *tmp189 .REACTORS_ON 1
   600 op max *tmp190 *tmp189 1
   601 set .REACTORS_ON *tmp190
   602 set .CAN_COMMIT true
-    * set *tmp188 .CAN_COMMIT
   603 label *label129
   604 op add *tmp191 @time 6000
   605 set :nextDecommit *tmp191
 
   620 label *label127
   621 set *tmp179 *tmp187
   622 label *label119
-    * set *tmp160 *tmp179
   623 jump *label108 always
   624 label *label107
   625 sensor *tmp194 switch2 @enabled
   626 jump *label132 equal *tmp194 false
   627 print "\n[salmon]Load adapting not possible.[]"
-    * set *tmp195 "\n[salmon]Load adapting not possible.[]"
   628 jump *label133 always
   629 label *label132
   630 print "\n[gold]Load adapting not active.[]"
-    * set *tmp195 "\n[gold]Load adapting not active.[]"
   631 label *label133
   632 set .REACTORS_ON :reactors
   633 set .OVERDRIVE true
-    * set *tmp160 .OVERDRIVE
   634 label *label108
   635 op mul *tmp196 PLANT_PROTECTION 47500
   636 op lessThan *tmp197 :total_battery *tmp196
   637 jump *label134 equal *tmp197 false
   638 set .OUTPUT_2 0
   639 set .OUTPUT_3 0
-    * set *tmp198 .OUTPUT_3
   640 jump *label135 always
   641 label *label134
-    * set *tmp198 null
   642 label *label135
   643 op equal *tmp199 .OUTPUT_2 0
   644 jump *label136 equal *tmp199 false
 
   657 label *label136
   658 set *tmp200 null
   659 label *label137
-    * set *tmp94 *tmp200
   660 jump *label48 always
   661 label *label89
-    * set *tmp94 null
   662 label *label48
   663 print "\n"
   664 print .STARTUPS
 
   704 label *label146
   705 set *tmp221 null
   706 label *label147
-    * set *tmp215 *tmp221
   707 jump *label143 always
   708 label *label144
   709 jump *label149 equal *tmp216 @overdrive-projector
 
   712 label *label149
   713 set *tmp223 :block
   714 control enabled *tmp223 .OVERDRIVE
-    * set *tmp215 .OVERDRIVE
   715 jump *label143 always
   716 label *label148
   717 jump *label151 equal *tmp216 @conduit
 
   725 label *label151
   726 set *tmp225 :block
   727 control enabled *tmp225 :startup
-    * set *tmp215 :startup
   728 jump *label143 always
   729 label *label150
-    * set *tmp215 null
   730 label *label143
   731 label *label141
   732 op add :n :n 1
 
   741 op add :reactors :reactors *tmp233
   742 read *tmp235 cell2 4
   743 op add :boosts :boosts *tmp235
-    * set *tmp228 :boosts
   744 jump *label153 always
   745 label *label152
-    * set *tmp228 null
   746 label *label153
   747 op min *tmp236 .REACTORS_ON :reactors
   748 set .REACTORS_ON *tmp236
 
   751 set .STARTUPS 0
   752 set .RESETS 0
   753 set .COMMITS 0
-    * set *tmp238 .COMMITS
   754 jump *label155 always
   755 label *label154
   756 write .MODE cell1 0
 
   764 write .STARTUPS cell1 8
   765 write .RESETS cell1 9
   766 write .COMMITS cell1 10
-    * set *tmp238 .COMMITS
   767 label *label155
   768 label *label16
   769 jump *label15 always

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-14 instructions):
 
   126 jump *label20 equal *tmp62 false
   127 set .MODE 0
   128 set .REASON "Manual power off"
-    * set *tmp63 .REASON
   129 jump *label21 always
   130 label *label20
   131 op mul *tmp64 .REACTORS_ON 1200
 
   179 set :failure_cnt 0
   180 set *tmp70 :failure_cnt
   181 label *label28
-    * set *tmp63 *tmp70
   182 label *label21
   183 jump *label19 always
   184 label *label18
 
   297 set :failure_cnt 0
   298 set .GENERATOR true
   299 set .REASON "Unknown -- out of power?"
-    * set *tmp100 .REASON
   300 jump *label52 always
   301 label *label51
-    * set *tmp100 null
   302 label *label52
   303 jump *label48 always
   304 label *label49
 
   338 print " K[]"
   339 set *tmp110 " K[]"
   340 label *label62
-    * set *tmp108 *tmp110
   341 jump *label60 always
   342 label *label59
   343 op add *tmp112 .OUTPUT_1 .OUTPUT_2
 
   399 jump *label76 equal *tmp128 false
   400 op add *tmp130 @time 2000
   401 set :nextStart *tmp130
-    * set *tmp129 :nextStart
   402 jump *label77 always
   403 label *label76
-    * set *tmp129 null
   404 label *label77
   405 jump *label75 always
   406 label *label74
 
   449 label *label84
   450 set *tmp141 null
   451 label *label85
-    * set *tmp108 *tmp141
   452 label *label60
   453 jump *label48 always
   454 label *label53
 
   567 set .REACTORS_ON :reactors
   568 op add *tmp181 @time 6000
   569 set :nextDecommit *tmp181
-    * set *tmp179 :nextDecommit
   570 jump *label119 always
   571 label *label118
   572 op lessThan *tmp182 :battery_level 47500
 
   609 label *label131
   610 set *tmp187 *tmp193
   611 label *label127
-    * set *tmp179 *tmp187
   612 label *label119
   613 jump *label108 always
   614 label *label107
 
   642 print "\n*** [gold]Surge tower 2 offline[] ***"
   643 set *tmp202 "\n*** [gold]Surge tower 2 offline[] ***"
   644 label *label139
-    * set *tmp200 *tmp202
   645 jump *label137 always
   646 label *label136
-    * set *tmp200 null
   647 label *label137
   648 jump *label48 always
   649 label *label89
 
   687 jump *label146 equal :enabled false
   688 sensor *tmp222 :block @timescale
   689 op add :boosts :boosts *tmp222
-    * set *tmp221 :boosts
   690 jump *label147 always
   691 label *label146
-    * set *tmp221 null
   692 label *label147
   693 jump *label143 always
   694 label *label144

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-10 instructions):
 
   173 label *label31
   174 set *tmp75 null
   175 label *label32
-    * set *tmp70 *tmp75
   176 jump *label28 always
   177 label *label27
   178 set :failure_cnt 0
-    * set *tmp70 :failure_cnt
   179 label *label28
   180 label *label21
   181 jump *label19 always
 
   328 set .REACTORS_ON 1
   329 op add *tmp111 @time 2000
   330 set :nextStart *tmp111
-    * set *tmp110 :nextStart
   331 jump *label62 always
   332 label *label61
   333 print "\nRequired startup energy: [gold]"
   334 print 25
   335 print " K[]"
-    * set *tmp110 " K[]"
   336 label *label62
   337 jump *label60 always
   338 label *label59
 
   440 set .COOLANT_FLAG 0
   441 set .FUEL_FLAG 0
   442 set .GENERATOR false
-    * set *tmp141 .GENERATOR
   443 jump *label85 always
   444 label *label84
-    * set *tmp141 null
   445 label *label85
   446 label *label60
   447 jump *label48 always
 
   588 label *label129
   589 op add *tmp191 @time 6000
   590 set :nextDecommit *tmp191
-    * set *tmp187 :nextDecommit
   591 jump *label127 always
   592 label *label126
   593 op lessThan *tmp192 :total_battery :commit_level
 
   600 label *label130
   601 set *tmp193 null
   602 label *label131
-    * set *tmp187 *tmp193
   603 label *label127
   604 label *label119
   605 jump *label108 always
 
   628 jump *label138 equal *tmp201 false
   629 set .OUTPUT_2 1
   630 set .OUTPUT_3 1
-    * set *tmp202 .OUTPUT_3
   631 jump *label139 always
   632 label *label138
   633 print "\n*** [gold]Surge tower 2 offline[] ***"
-    * set *tmp202 "\n*** [gold]Surge tower 2 offline[] ***"
   634 label *label139
   635 jump *label137 always
   636 label *label136

Modifications by Initial phase, Dead Code Elimination, iteration 4 (-4 instructions):
 
   168 print "\nMin. consumption: "
   169 print :min_consumption
   170 printflush message2
-    * set *tmp75 null
   171 jump *label32 always
   172 label *label31
-    * set *tmp75 null
   173 label *label32
   174 jump *label28 always
   175 label *label27
 
   593 op add .REACTORS_ON .REACTORS_ON 1
   594 op add .COMMITS .COMMITS 1
   595 set .CAN_COMMIT false
-    * set *tmp193 .CAN_COMMIT
   596 jump *label131 always
   597 label *label130
-    * set *tmp193 null
   598 label *label131
   599 label *label127
   600 label *label119

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-64 instructions):
 
     7 op equal *tmp0 :reactors 0
     8 jump *label2 equal *tmp0 false
     9 set :reactors 0
-    * set *tmp1 @links
-    * set :n *tmp1
+   10 set :n @links
    11 label *label3
    12 op greaterThan *tmp2 :n 0
    13 jump *label5 equal *tmp2 false
    14 op sub :n :n 1
-    * getlink *tmp3 :n
-    * set :block *tmp3
+   15 getlink :block :n
    16 print "Found: "
    17 print :block
    18 print "\n"
 
    47 label *label1
    48 jump *label0 always
    49 label *label2
-    * read *tmp12 cell1 0
-    * set .MODE *tmp12
-    * read *tmp14 cell1 1
-    * set .OUTPUT_1 *tmp14
-    * read *tmp16 cell1 2
-    * set .OUTPUT_2 *tmp16
-    * read *tmp18 cell1 3
-    * set .OUTPUT_3 *tmp18
-    * read *tmp20 cell1 4
-    * set .REACTORS_ON *tmp20
-    * read *tmp22 cell1 5
-    * set .OVERDRIVE *tmp22
-    * read *tmp24 cell1 6
-    * set .GENERATOR *tmp24
-    * read *tmp26 cell1 7
-    * set .CAN_COMMIT *tmp26
-    * read *tmp28 cell1 8
-    * set .STARTUPS *tmp28
-    * read *tmp30 cell1 9
-    * set .RESETS *tmp30
-    * read *tmp32 cell1 10
-    * set .COMMITS *tmp32
+   50 read .MODE cell1 0
+   51 read .OUTPUT_1 cell1 1
+   52 read .OUTPUT_2 cell1 2
+   53 read .OUTPUT_3 cell1 3
+   54 read .REACTORS_ON cell1 4
+   55 read .OVERDRIVE cell1 5
+   56 read .GENERATOR cell1 6
+   57 read .CAN_COMMIT cell1 7
+   58 read .STARTUPS cell1 8
+   59 read .RESETS cell1 9
+   60 read .COMMITS cell1 10
    61 set :reactors .REACTORS_ON
    62 op equal *tmp33 .MODE 0
    63 jump *label13 equal *tmp33 false
 
    72 set :failure_cnt 0
    73 set :boosts 0
    74 set :nextStart 0
-    * op add *tmp38 @time 6000
-    * set :nextDecommit *tmp38
+   75 op add :nextDecommit @time 6000
    76 label *label15
    77 jump *label17 equal true false
    78 sensor *tmp39 battery1 @totalPower
-    * op floor *tmp40 *tmp39
-    * set :battery_level *tmp40
-    * op idiv *tmp41 :battery_level 1000
-    * set :battery_level_str *tmp41
+   79 op floor :battery_level *tmp39
+   80 op idiv :battery_level_str :battery_level 1000
    81 sensor *tmp42 battery1 @powerNetStored
-    * op floor *tmp43 *tmp42
-    * set :total_battery *tmp43
-    * op idiv *tmp44 :total_battery 1000
-    * set :total_battery_str *tmp44
-    * sensor *tmp45 battery1 @powerNetOut
-    * set :consumption *tmp45
-    * read *tmp47 bank1 509
-    * set :production *tmp47
-    * read *tmp49 bank1 510
-    * set :net_power *tmp49
-    * read *tmp51 bank1 511
-    * set :battery_change *tmp51
-    * sensor *tmp52 battery1 @powerNetCapacity
-    * set :total_capacity *tmp52
-    * op idiv *tmp53 :total_capacity 1000
-    * set :total_capacity_str *tmp53
-    * op mul *tmp54 100000 :reactors
-    * set :required_capacity *tmp54
-    * op greaterThanEq *tmp55 :total_capacity :required_capacity
-    * set :enough_battery *tmp55
+   82 op floor :total_battery *tmp42
+   83 op idiv :total_battery_str :total_battery 1000
+   84 sensor :consumption battery1 @powerNetOut
+   85 read :production bank1 509
+   86 read :net_power bank1 510
+   87 read :battery_change bank1 511
+   88 sensor :total_capacity battery1 @powerNetCapacity
+   89 op idiv :total_capacity_str :total_capacity 1000
+   90 op mul :required_capacity 100000 :reactors
+   91 op greaterThanEq :enough_battery :total_capacity :required_capacity
    92 op sub *tmp56 :required_capacity :total_capacity
    93 op div *tmp57 *tmp56 1000
-    * op ceil *tmp58 *tmp57
-    * set :missing_battery *tmp58
+   94 op ceil :missing_battery *tmp57
    95 op notEqual *tmp59 .MODE 0
    96 jump *label18 equal *tmp59 false
    97 sensor *tmp61 switch1 @enabled
 
   101 set .REASON "Manual power off"
   102 jump *label21 always
   103 label *label20
-    * op mul *tmp64 .REACTORS_ON 1200
-    * set :min_consumption *tmp64
-    * op lessThan *tmp65 :consumption :min_consumption
-    * set :failure1 *tmp65
+  104 op mul :min_consumption .REACTORS_ON 1200
+  105 op lessThan :failure1 :consumption :min_consumption
   106 op equal *tmp66 :battery_level 0
   107 jump *label22 equal *tmp66 false
   108 label *label26
 
   131 op greaterThan *tmp74 :failure_cnt *tmp72
   132 jump *label31 equal *tmp74 false
   133 set .MODE 0
-    * set *tmp76 switch1
-    * control enabled *tmp76 false
+  134 control enabled switch1 false
   135 set .REASON "Unknown -- out of power?"
   136 print "Consumption: "
   137 print :consumption
 
   183 op div *tmp82 *tmp81 .REACTORS_ON
   184 op add *tmp83 *tmp82 0.5
   185 op floor *tmp84 *tmp83
-    * op div *tmp85 *tmp84 100
-    * set :multiplier *tmp85
+  186 op div :multiplier *tmp84 100
   187 print " ([gold]"
   188 print :multiplier
   189 print "x[])"
 
   249 set .OUTPUT_3 0
   250 op greaterThanEq *tmp96 :net_power -150
   251 op lessThan *tmp97 :total_battery 47500
-    * op land *tmp98 *tmp96 *tmp97
-    * set .GENERATOR *tmp98
+  252 op land .GENERATOR *tmp96 *tmp97
   253 print "\nShutdown reason: [gold]"
   254 print .REASON
   255 print "[]"
 
   285 sensor *tmp103 :nextBattery @powerNetOut
   286 op mul *tmp104 *tmp103 1.05
   287 op floor *tmp105 *tmp104
-    * op max *tmp106 *tmp105 1000
-    * set :neededPower *tmp106
+  288 op max :neededPower *tmp105 1000
   289 op equal *tmp107 .REACTORS_ON 0
   290 jump *label59 equal *tmp107 false
   291 op greaterThanEq *tmp109 :total_battery 25000
   292 jump *label61 equal *tmp109 false
   293 set .REACTORS_ON 1
-    * op add *tmp111 @time 2000
-    * set :nextStart *tmp111
+  294 op add :nextStart @time 2000
   295 jump *label62 always
   296 label *label61
   297 print "\nRequired startup energy: [gold]"
 
   301 jump *label60 always
   302 label *label59
   303 op add *tmp112 .OUTPUT_1 .OUTPUT_2
-    * op add *tmp113 *tmp112 .OUTPUT_3
-    * set :outputs *tmp113
+  304 op add :outputs *tmp112 .OUTPUT_3
   305 print "\n"
   306 print "[gold]"
   307 print :outputs
 
   350 label *label73
   351 op equal *tmp124 .OUTPUT_1 0
   352 jump *label74 equal *tmp124 false
-    * op mul *tmp126 6300 :boosts
-    * set :availablePower *tmp126
-    * op div *tmp127 :neededPower :availablePower
-    * set :ratio *tmp127
+  353 op mul :availablePower 6300 :boosts
+  354 op div :ratio :neededPower :availablePower
   355 op lessThan *tmp128 :ratio 1
   356 jump *label76 equal *tmp128 false
-    * op add *tmp130 @time 2000
-    * set :nextStart *tmp130
+  357 op add :nextStart @time 2000
   358 jump *label77 always
   359 label *label76
   360 label *label77
 
   368 jump *label80 always
   369 label *label80
   370 jump *label82 equal FAST_START false
-    * op idiv *tmp134 :total_battery 25000
-    * set *tmp133 *tmp134
+  371 op idiv *tmp133 :total_battery 25000
   372 jump *label83 always
   373 label *label82
   374 set *tmp133 1
   375 label *label83
   376 set :start_at_once *tmp133
   377 op add *tmp135 .REACTORS_ON :start_at_once
-    * op min *tmp136 *tmp135 :reactors
-    * set .REACTORS_ON *tmp136
-    * op add *tmp137 @time 2000
-    * set :nextStart *tmp137
+  378 op min .REACTORS_ON *tmp135 :reactors
+  379 op add :nextStart @time 2000
   380 jump *label79 always
   381 label *label78
   382 label *label79
 
   392 jump *label86 always
   393 label *label86
   394 set .MODE 2
-    * op add *tmp142 @time 6000
-    * set :nextDecommit *tmp142
+  395 op add :nextDecommit @time 6000
   396 set .COOLANT_FLAG 0
   397 set .FUEL_FLAG 0
   398 set .GENERATOR false
 
   413 jump *label93 always
   414 label *label93
   415 set .MODE 0
-    * set *tmp146 switch1
-    * control enabled *tmp146 false
+  416 control enabled switch1 false
   417 set .REASON "Cryo level too low"
   418 jump *label92 always
   419 label *label91
 
   426 jump *label97 always
   427 label *label97
   428 set .MODE 0
-    * set *tmp151 switch1
-    * control enabled *tmp151 false
+  429 control enabled switch1 false
   430 set .REASON "Blast compound level too low"
   431 jump *label96 always
   432 label *label95
 
   463 jump *label107 equal *tmp159 false
   464 jump *label109 always
   465 label *label109
-    * op mul *tmp161 0.5 :required_capacity
-    * set :min_level *tmp161
+  466 op mul :min_level 0.5 :required_capacity
   467 set :commit_level 0
   468 jump *label111 equal .CAN_COMMIT false
   469 label *label115
 
   476 jump *label113 always
   477 label *label113
   478 op sub *tmp165 :battery_change 1500
-    * op sub *tmp166 *tmp165 1000
-    * set :p *tmp166
+  479 op sub :p *tmp165 1000
   480 op mul *tmp167 :p 0.00472972972972973
   481 op add *tmp168 -5 *tmp167
   482 op mul *tmp169 :p *tmp168
-    * op add *tmp170 25000 *tmp169
-    * set :commit_margin *tmp170
-    * op add *tmp171 :min_level :commit_margin
-    * set :commit_level *tmp171
+  483 op add :commit_margin 25000 *tmp169
+  484 op add :commit_level :min_level :commit_margin
   485 op idiv *tmp172 :commit_level 1000
   486 print "\nCommit threshold:   [gold]"
   487 print *tmp172
 
   509 op add .RESETS .RESETS *tmp180
   510 set .OVERDRIVE true
   511 set .REACTORS_ON :reactors
-    * op add *tmp181 @time 6000
-    * set :nextDecommit *tmp181
+  512 op add :nextDecommit @time 6000
   513 jump *label119 always
   514 label *label118
   515 op lessThan *tmp182 :battery_level 47500
 
   519 jump *label124 notEqual *tmp183 false
   520 jump *label122 always
   521 label *label124
-    * op add *tmp185 @time 6000
-    * set :nextDecommit *tmp185
+  522 op add :nextDecommit @time 6000
   523 jump *label123 always
   524 label *label122
   525 label *label123
 
   530 jump *label129 always
   531 label *label128
   532 op sub *tmp189 .REACTORS_ON 1
-    * op max *tmp190 *tmp189 1
-    * set .REACTORS_ON *tmp190
+  533 op max .REACTORS_ON *tmp189 1
   534 set .CAN_COMMIT true
   535 label *label129
-    * op add *tmp191 @time 6000
-    * set :nextDecommit *tmp191
+  536 op add :nextDecommit @time 6000
   537 jump *label127 always
   538 label *label126
   539 op lessThan *tmp192 :total_battery :commit_level
 
   589 print "-"
   590 print .COMMITS
   591 printflush message1
-    * set *tmp203 diode1
-    * control enabled *tmp203 .OUTPUT_1
-    * set *tmp205 diode2
-    * control enabled *tmp205 .OUTPUT_2
-    * set *tmp207 diode3
-    * control enabled *tmp207 .OUTPUT_3
-    * set *tmp209 generator1
-    * control enabled *tmp209 .GENERATOR
-    * set *tmp211 generator2
-    * control enabled *tmp211 .GENERATOR
-    * op equal *tmp213 .MODE 1
-    * set :startup *tmp213
+  592 control enabled diode1 .OUTPUT_1
+  593 control enabled diode2 .OUTPUT_2
+  594 control enabled diode3 .OUTPUT_3
+  595 control enabled generator1 .GENERATOR
+  596 control enabled generator2 .GENERATOR
+  597 op equal :startup .MODE 1
   598 set :reactors 0
   599 set :boosts 0
   600 set :enabled true
   601 set :n .START
   602 label *label140
   603 jump *label142 greaterThanEq :n @links
-    * getlink *tmp214 :n
-    * set :block *tmp214
+  604 getlink :block :n
   605 sensor *tmp216 :block @type
   606 jump *label145 equal *tmp216 @impact-reactor
   607 jump *label144 always
   608 label *label145
   609 op add :reactors :reactors 1
-    * op lessThanEq *tmp218 :reactors .REACTORS_ON
-    * set :enabled *tmp218
-    * set *tmp219 :block
-    * control enabled *tmp219 :enabled
+  610 op lessThanEq :enabled :reactors .REACTORS_ON
+  611 control enabled :block :enabled
   612 jump *label146 equal :enabled false
   613 sensor *tmp222 :block @timescale
   614 op add :boosts :boosts *tmp222
 
   621 jump *label149 equal *tmp216 @overdrive-dome
   622 jump *label148 always
   623 label *label149
-    * set *tmp223 :block
-    * control enabled *tmp223 .OVERDRIVE
+  624 control enabled :block .OVERDRIVE
   625 jump *label143 always
   626 label *label148
   627 jump *label151 equal *tmp216 @conduit
 
   633 jump *label151 equal *tmp216 @armored-conveyor
   634 jump *label150 always
   635 label *label151
-    * set *tmp225 :block
-    * control enabled *tmp225 :startup
+  636 control enabled :block :startup
   637 jump *label143 always
   638 label *label150
   639 label *label143
 
   653 jump *label153 always
   654 label *label152
   655 label *label153
-    * op min *tmp236 .REACTORS_ON :reactors
-    * set .REACTORS_ON *tmp236
+  656 op min .REACTORS_ON .REACTORS_ON :reactors
   657 op equal *tmp237 cell1 null
   658 jump *label154 equal *tmp237 false
   659 set .STARTUPS 0

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-1 instructions):
 
    74 set :nextStart 0
    75 op add :nextDecommit @time 6000
    76 label *label15
-    * jump *label17 equal true false
    77 sensor *tmp39 battery1 @totalPower
    78 op floor :battery_level *tmp39
    79 op idiv :battery_level_str :battery_level 1000

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-16 instructions):
 
    17 print :block
    18 print "\n"
    19 sensor *tmp5 :block @type
-    * jump *label8 equal *tmp5 @impact-reactor
-    * jump *label7 always
+   20 jump *label7 notEqual *tmp5 @impact-reactor
    21 label *label8
    22 set .START :n
    23 op add :reactors :reactors 1
    24 jump *label6 always
    25 label *label7
    26 jump *label10 equal *tmp5 @overdrive-projector
-    * jump *label10 equal *tmp5 @overdrive-dome
-    * jump *label9 always
+   27 jump *label9 notEqual *tmp5 @overdrive-dome
    28 label *label10
    29 set .START :n
    30 jump *label6 always
 
   119 set :failure2 *tmp69
   120 jump *label29 notEqual :failure1 false
   121 label *label30
-    * jump *label29 notEqual :failure2 false
-    * jump *label27 always
+  122 jump *label27 equal :failure2 false
   123 label *label29
   124 op add :failure_cnt :failure_cnt 1
   125 read *tmp73 cell2 1
 
   145 jump *label19 always
   146 label *label18
   147 label *label19
-    * jump *label35 equal .MODE 0
-    * jump *label34 always
+  148 jump *label34 notEqual .MODE 0
   149 label *label35
   150 set *tmp78 "[salmon]SHUTDOWN[]"
   151 jump *label33 always
   152 label *label34
-    * jump *label37 equal .MODE 1
-    * jump *label36 always
+  153 jump *label36 notEqual .MODE 1
   154 label *label37
   155 set *tmp78 "[gold]STARTUP[]"
   156 jump *label33 always
   157 label *label36
-    * jump *label39 equal .MODE 2
-    * jump *label38 always
+  158 jump *label38 notEqual .MODE 2
   159 label *label39
   160 set *tmp78 "[green]RUNNING[]"
   161 jump *label33 always
 
   232 print :net_power
   233 print "["
   234 print "]"
-    * jump *label50 equal .MODE 0
-    * jump *label49 always
+  235 jump *label49 notEqual .MODE 0
   236 label *label50
   237 set .REACTORS_ON 0
   238 set .OVERDRIVE 0
 
   258 label *label52
   259 jump *label48 always
   260 label *label49
-    * jump *label54 equal .MODE 1
-    * jump *label53 always
+  261 jump *label53 notEqual .MODE 1
   262 label *label54
   263 jump *label55 equal .OUTPUT_1 false
   264 jump *label57 equal .OUTPUT_2 false
 
   393 label *label60
   394 jump *label48 always
   395 label *label53
-    * jump *label90 equal .MODE 2
-    * jump *label89 always
+  396 jump *label89 notEqual .MODE 2
   397 label *label90
   398 jump *label91 equal .COOLANT_FLAG false
   399 label *label94
 
   425 label *label102
   426 sensor *tmp153 tank1 @totalLiquids
   427 op greaterThan *tmp154 *tmp153 1000
-    * jump *label101 notEqual *tmp154 false
-    * jump *label99 always
+  428 jump *label99 equal *tmp154 false
   429 label *label101
   430 set *tmp155 true
   431 jump *label100 always
 
   437 label *label106
   438 sensor *tmp156 vault1 @blast-compound
   439 op greaterThan *tmp157 *tmp156 800
-    * jump *label105 notEqual *tmp157 false
-    * jump *label103 always
+  440 jump *label103 equal *tmp157 false
   441 label *label105
   442 set *tmp158 true
   443 jump *label104 always
 
   490 label *label121
   491 op mul *tmp177 .REACTORS_ON -2500
   492 op lessThan *tmp178 :battery_change *tmp177
-    * jump *label120 notEqual *tmp178 false
-    * jump *label118 always
+  493 jump *label118 equal *tmp178 false
   494 label *label120
   495 op equal *tmp180 .OVERDRIVE false
   496 op add .RESETS .RESETS *tmp180
 
   503 jump *label124 notEqual *tmp182 false
   504 label *label125
   505 op lessThan *tmp183 :battery_change -100
-    * jump *label124 notEqual *tmp183 false
-    * jump *label122 always
+  506 jump *label122 equal *tmp183 false
   507 label *label124
   508 op add :nextDecommit @time 6000
   509 jump *label123 always
 
   589 jump *label142 greaterThanEq :n @links
   590 getlink :block :n
   591 sensor *tmp216 :block @type
-    * jump *label145 equal *tmp216 @impact-reactor
-    * jump *label144 always
+  592 jump *label144 notEqual *tmp216 @impact-reactor
   593 label *label145
   594 op add :reactors :reactors 1
   595 op lessThanEq :enabled :reactors .REACTORS_ON
 
   603 jump *label143 always
   604 label *label144
   605 jump *label149 equal *tmp216 @overdrive-projector
-    * jump *label149 equal *tmp216 @overdrive-dome
-    * jump *label148 always
+  606 jump *label148 notEqual *tmp216 @overdrive-dome
   607 label *label149
   608 control enabled :block .OVERDRIVE
   609 jump *label143 always
 
   614 jump *label151 equal *tmp216 @conveyor
   615 jump *label151 equal *tmp216 @titanium-conveyor
   616 jump *label151 equal *tmp216 @plastanium-conveyor
-    * jump *label151 equal *tmp216 @armored-conveyor
-    * jump *label150 always
+  617 jump *label150 notEqual *tmp216 @armored-conveyor
   618 label *label151
   619 control enabled :block :startup
   620 jump *label143 always

Modifications by Iterated phase, Condition Optimization, pass 1, iteration 1 (-46 instructions):
 
     4 set .COOLANT_FLAG .FUEL_FLAG
     5 set :reactors 0
     6 label *label0
-    * op equal *tmp0 :reactors 0
-    * jump *label2 equal *tmp0 false
+    7 jump *label2 notEqual :reactors 0
     8 set :reactors 0
     9 set :n @links
    10 label *label3
-    * op greaterThan *tmp2 :n 0
-    * jump *label5 equal *tmp2 false
+   11 jump *label5 lessThanEq :n 0
    12 op sub :n :n 1
    13 getlink :block :n
    14 print "Found: "
 
    33 label *label5
    34 read *tmp8 cell2 1
    35 op add :reactors :reactors *tmp8
-    * op equal *tmp9 :reactors 0
-    * jump *label11 equal *tmp9 false
+   36 jump *label11 notEqual :reactors 0
    37 print "No reactor."
    38 jump *label12 always
    39 label *label11
 
    54 read .RESETS cell1 9
    55 read .COMMITS cell1 10
    56 set :reactors .REACTORS_ON
-    * op equal *tmp33 .MODE 0
-    * jump *label13 equal *tmp33 false
+   57 jump *label13 notEqual .MODE 0
    58 set .REASON "Processor reset"
    59 jump *label14 always
    60 label *label13
 
    85 op sub *tmp56 :required_capacity :total_capacity
    86 op div *tmp57 *tmp56 1000
    87 op ceil :missing_battery *tmp57
-    * op notEqual *tmp59 .MODE 0
-    * jump *label18 equal *tmp59 false
+   88 jump *label18 equal .MODE 0
    89 sensor *tmp61 switch1 @enabled
-    * op equal *tmp62 *tmp61 false
-    * jump *label20 equal *tmp62 false
+   90 jump *label20 notEqual *tmp61 false
    91 set .MODE 0
    92 set .REASON "Manual power off"
    93 jump *label21 always
    94 label *label20
    95 op mul :min_consumption .REACTORS_ON 1200
-    * op lessThan :failure1 :consumption :min_consumption
-    * op equal *tmp66 :battery_level 0
-    * jump *label22 equal *tmp66 false
+   96 jump *label22 notEqual :battery_level 0
    97 label *label26
-    * op greaterThan *tmp67 :consumption 0
-    * jump *label22 equal *tmp67 false
+   98 jump *label22 lessThanEq :consumption 0
    99 jump *label25 always
   100 label *label25
-    * op equal *tmp68 :production 0
-    * jump *label22 equal *tmp68 false
+  101 jump *label22 notEqual :production 0
   102 jump *label24 always
   103 label *label24
   104 set *tmp69 true
 
   107 set *tmp69 false
   108 label *label23
   109 set :failure2 *tmp69
-    * jump *label29 notEqual :failure1 false
+  110 jump *label29 lessThan :consumption :min_consumption
   111 label *label30
   112 jump *label27 equal :failure2 false
   113 label *label29
   114 op add :failure_cnt :failure_cnt 1
   115 read *tmp73 cell2 1
   116 op add *tmp72 10 *tmp73
-    * op greaterThan *tmp74 :failure_cnt *tmp72
-    * jump *label31 equal *tmp74 false
+  117 jump *label31 lessThanEq :failure_cnt *tmp72
   118 set .MODE 0
   119 control enabled switch1 false
   120 set .REASON "Unknown -- out of power?"
 
   174 label *label41
   175 print "\n=================================="
   176 sensor *tmp86 tank1 @totalLiquids
-    * op lessThan *tmp87 *tmp86 750
-    * jump *label42 equal *tmp87 false
+  177 jump *label42 greaterThanEq *tmp86 750
   178 print "\n[salmon]Cryofluid level critical![]"
   179 jump *label43 always
   180 label *label42
   181 label *label43
   182 sensor *tmp89 vault1 @blast-compound
-    * op lessThan *tmp90 *tmp89 700
-    * jump *label44 equal *tmp90 false
+  183 jump *label44 greaterThanEq *tmp89 700
   184 print "\n[salmon]Blast compound level critical![]"
   185 jump *label45 always
   186 label *label44
   187 label *label45
-    * op equal *tmp92 :enough_battery false
-    * jump *label46 equal *tmp92 false
+  188 jump *label46 notEqual :enough_battery false
   189 print "\n[salmon]Insufficient battery storage![]"
   190 print "\n"
   191 print "Link [gold]"
 
   263 op mul *tmp104 *tmp103 1.05
   264 op floor *tmp105 *tmp104
   265 op max :neededPower *tmp105 1000
-    * op equal *tmp107 .REACTORS_ON 0
-    * jump *label59 equal *tmp107 false
-    * op greaterThanEq *tmp109 :total_battery 25000
-    * jump *label61 equal *tmp109 false
+  266 jump *label59 notEqual .REACTORS_ON 0
+  267 jump *label61 lessThan :total_battery 25000
   268 set .REACTORS_ON 1
   269 op add :nextStart @time 2000
   270 jump *label62 always
 
   282 print :outputs
   283 print "["
   284 print "] surge tower(s) online"
-    * op equal *tmp114 .OUTPUT_3 0
-    * jump *label63 equal *tmp114 false
+  285 jump *label63 notEqual .OUTPUT_3 0
   286 print "\n"
   287 print "Required power level: [gold]"
   288 print :neededPower
 
   291 jump *label64 always
   292 label *label63
   293 label *label64
-    * op greaterThan *tmp116 :net_power 100
-    * jump *label65 equal *tmp116 false
+  294 jump *label65 lessThanEq :net_power 100
   295 set .OVERDRIVE true
   296 jump *label66 always
   297 label *label65
   298 label *label66
-    * op lessThan *tmp118 .REACTORS_ON :reactors
-    * jump *label67 equal *tmp118 false
+  299 jump *label67 greaterThanEq .REACTORS_ON :reactors
   300 label *label71
-    * op greaterThan *tmp119 :net_power 1000
-    * jump *label67 equal *tmp119 false
+  301 jump *label67 lessThanEq :net_power 1000
   302 jump *label70 always
   303 label *label70
-    * op greaterThanEq *tmp120 :total_battery 25000
-    * jump *label67 equal *tmp120 false
+  304 jump *label67 lessThan :total_battery 25000
   305 jump *label69 always
   306 label *label69
   307 set *tmp121 true
 
   310 set *tmp121 false
   311 label *label68
   312 set :canStart *tmp121
-    * op greaterThanEq *tmp122 :net_power :neededPower
-    * jump *label72 equal *tmp122 false
+  313 jump *label72 lessThan :net_power :neededPower
   314 set .OUTPUT_3 .OUTPUT_2
   315 set .OUTPUT_2 .OUTPUT_1
   316 set .OUTPUT_1 1
   317 jump *label73 always
   318 label *label72
   319 label *label73
-    * op equal *tmp124 .OUTPUT_1 0
-    * jump *label74 equal *tmp124 false
+  320 jump *label74 notEqual .OUTPUT_1 0
   321 op mul :availablePower 6300 :boosts
   322 op div :ratio :neededPower :availablePower
-    * op lessThan *tmp128 :ratio 1
-    * jump *label76 equal *tmp128 false
+  323 jump *label76 greaterThanEq :ratio 1
   324 op add :nextStart @time 2000
   325 jump *label77 always
   326 label *label76
 
   330 label *label75
   331 jump *label78 equal :canStart false
   332 label *label81
-    * op greaterThan *tmp131 @time :nextStart
-    * jump *label78 equal *tmp131 false
+  333 jump *label78 lessThanEq @time :nextStart
   334 jump *label80 always
   335 label *label80
   336 jump *label82 equal FAST_START false
 
   346 jump *label79 always
   347 label *label78
   348 label *label79
-    * op greaterThanEq *tmp138 .REACTORS_ON :reactors
-    * jump *label84 equal *tmp138 false
+  349 jump *label84 lessThan .REACTORS_ON :reactors
   350 label *label88
-    * op greaterThan *tmp139 @time :nextStart
-    * jump *label84 equal *tmp139 false
+  351 jump *label84 lessThanEq @time :nextStart
   352 jump *label87 always
   353 label *label87
-    * op greaterThan *tmp140 .OUTPUT_3 0
-    * jump *label84 equal *tmp140 false
+  354 jump *label84 lessThanEq .OUTPUT_3 0
   355 jump *label86 always
   356 label *label86
   357 set .MODE 2
 
   370 jump *label91 equal .COOLANT_FLAG false
   371 label *label94
   372 sensor *tmp143 tank1 @totalLiquids
-    * op lessThan *tmp144 *tmp143 750
-    * jump *label91 equal *tmp144 false
+  373 jump *label91 greaterThanEq *tmp143 750
   374 jump *label93 always
   375 label *label93
   376 set .MODE 0
 
   382 jump *label95 equal .FUEL_FLAG false
   383 label *label98
   384 sensor *tmp148 vault1 @blast-compound
-    * op lessThan *tmp149 *tmp148 700
-    * jump *label95 equal *tmp149 false
+  385 jump *label95 greaterThanEq *tmp148 700
   386 jump *label97 always
   387 label *label97
   388 set .MODE 0
 
   394 jump *label101 notEqual .COOLANT_FLAG false
   395 label *label102
   396 sensor *tmp153 tank1 @totalLiquids
-    * op greaterThan *tmp154 *tmp153 1000
-    * jump *label99 equal *tmp154 false
+  397 jump *label99 lessThanEq *tmp153 1000
   398 label *label101
   399 set *tmp155 true
   400 jump *label100 always
 
   405 jump *label105 notEqual .FUEL_FLAG false
   406 label *label106
   407 sensor *tmp156 vault1 @blast-compound
-    * op greaterThan *tmp157 *tmp156 800
-    * jump *label103 equal *tmp157 false
+  408 jump *label103 lessThanEq *tmp156 800
   409 label *label105
   410 set *tmp158 true
   411 jump *label104 always
 
   423 set :commit_level 0
   424 jump *label111 equal .CAN_COMMIT false
   425 label *label115
-    * op lessThan *tmp162 :battery_change 0
-    * jump *label111 equal *tmp162 false
+  426 jump *label111 greaterThanEq :battery_change 0
   427 jump *label114 always
   428 label *label114
-    * op lessThan *tmp163 .REACTORS_ON :reactors
-    * jump *label111 equal *tmp163 false
+  429 jump *label111 greaterThanEq .REACTORS_ON :reactors
   430 jump *label113 always
   431 label *label113
   432 op sub *tmp165 :battery_change 1500
 
   442 jump *label112 always
   443 label *label111
   444 label *label112
-    * op equal *tmp173 :commit_level 0
-    * jump *label116 equal *tmp173 false
+  445 jump *label116 notEqual :commit_level 0
   446 op idiv *tmp175 :min_level 1000
   447 print "\nRestart threshold: [gold]"
   448 print *tmp175
 
   450 label *label116
   451 label *label117
   452 print "[] K"
-    * op lessThan *tmp176 :total_battery :min_level
-    * jump *label120 notEqual *tmp176 false
+  453 jump *label120 lessThan :total_battery :min_level
   454 label *label121
   455 op mul *tmp177 .REACTORS_ON -2500
-    * op lessThan *tmp178 :battery_change *tmp177
-    * jump *label118 equal *tmp178 false
+  456 jump *label118 greaterThanEq :battery_change *tmp177
   457 label *label120
   458 op equal *tmp180 .OVERDRIVE false
   459 op add .RESETS .RESETS *tmp180
 
   462 op add :nextDecommit @time 6000
   463 jump *label119 always
   464 label *label118
-    * op lessThan *tmp182 :battery_level 47500
-    * jump *label124 notEqual *tmp182 false
+  465 jump *label124 lessThan :battery_level 47500
   466 label *label125
-    * op lessThan *tmp183 :battery_change -100
-    * jump *label122 equal *tmp183 false
+  467 jump *label122 greaterThanEq :battery_change -100
   468 label *label124
   469 op add :nextDecommit @time 6000
   470 jump *label123 always
   471 label *label122
   472 label *label123
-    * op greaterThan *tmp186 @time :nextDecommit
-    * jump *label126 equal *tmp186 false
+  473 jump *label126 lessThanEq @time :nextDecommit
   474 jump *label128 equal .OVERDRIVE false
   475 set .OVERDRIVE false
   476 jump *label129 always
 
   482 op add :nextDecommit @time 6000
   483 jump *label127 always
   484 label *label126
-    * op lessThan *tmp192 :total_battery :commit_level
-    * jump *label130 equal *tmp192 false
+  485 jump *label130 greaterThanEq :total_battery :commit_level
   486 op add .REACTORS_ON .REACTORS_ON 1
   487 op add .COMMITS .COMMITS 1
   488 set .CAN_COMMIT false
 
   504 set .OVERDRIVE true
   505 label *label108
   506 op mul *tmp196 PLANT_PROTECTION 47500
-    * op lessThan *tmp197 :total_battery *tmp196
-    * jump *label134 equal *tmp197 false
+  507 jump *label134 greaterThanEq :total_battery *tmp196
   508 set .OUTPUT_2 0
   509 set .OUTPUT_3 0
   510 jump *label135 always
   511 label *label134
   512 label *label135
-    * op equal *tmp199 .OUTPUT_2 0
-    * jump *label136 equal *tmp199 false
-    * op greaterThan *tmp201 :total_battery 47500
-    * jump *label138 equal *tmp201 false
+  513 jump *label136 notEqual .OUTPUT_2 0
+  514 jump *label138 lessThanEq :total_battery 47500
   515 set .OUTPUT_2 1
   516 set .OUTPUT_3 1
   517 jump *label139 always
 
   580 op add :n :n 1
   581 jump *label140 always
   582 label *label142
-    * op notEqual *tmp227 cell2 null
-    * jump *label152 equal *tmp227 false
+  583 jump *label152 equal cell2 null
   584 write :reactors cell2 0
   585 write .REACTORS_ON cell2 2
   586 write .OVERDRIVE cell2 3
 
   592 label *label152
   593 label *label153
   594 op min .REACTORS_ON .REACTORS_ON :reactors
-    * op equal *tmp237 cell1 null
-    * jump *label154 equal *tmp237 false
+  595 jump *label154 notEqual cell1 null
   596 set .STARTUPS 0
   597 set .RESETS 0
   598 set .COMMITS 0

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-40 instructions):
 
    25 jump *label9 notEqual *tmp5 @overdrive-dome
    26 label *label10
    27 set .START :n
-    * jump *label6 always
    28 label *label9
    29 label *label6
    30 label *label4
 
    34 op add :reactors :reactors *tmp8
    35 jump *label11 notEqual :reactors 0
    36 print "No reactor."
-    * jump *label12 always
    37 label *label11
    38 label *label12
    39 printflush message1
 
    94 jump *label22 notEqual :battery_level 0
    95 label *label26
    96 jump *label22 lessThanEq :consumption 0
-    * jump *label25 always
    97 label *label25
    98 jump *label22 notEqual :production 0
-    * jump *label24 always
    99 label *label24
   100 set *tmp69 true
   101 jump *label23 always
 
   119 print "\nMin. consumption: "
   120 print :min_consumption
   121 printflush message2
-    * jump *label32 always
   122 label *label31
   123 label *label32
   124 jump *label28 always
 
   126 set :failure_cnt 0
   127 label *label28
   128 label *label21
-    * jump *label19 always
   129 label *label18
   130 label *label19
   131 jump *label34 notEqual .MODE 0
 
   163 print " ([gold]"
   164 print :multiplier
   165 print "x[])"
-    * jump *label41 always
   166 label *label40
   167 label *label41
   168 print "\n=================================="
   169 sensor *tmp86 tank1 @totalLiquids
   170 jump *label42 greaterThanEq *tmp86 750
   171 print "\n[salmon]Cryofluid level critical![]"
-    * jump *label43 always
   172 label *label42
   173 label *label43
   174 sensor *tmp89 vault1 @blast-compound
   175 jump *label44 greaterThanEq *tmp89 700
   176 print "\n[salmon]Blast compound level critical![]"
-    * jump *label45 always
   177 label *label44
   178 label *label45
   179 jump *label46 notEqual :enough_battery false
 
   183 print :missing_battery
   184 print " "
   185 print "K[] of additional storage to internal battery."
-    * jump *label47 always
   186 label *label46
   187 label *label47
   188 print "\n"
 
   229 set :failure_cnt 0
   230 set .GENERATOR true
   231 set .REASON "Unknown -- out of power?"
-    * jump *label52 always
   232 label *label51
   233 label *label52
   234 jump *label48 always
 
   277 print :neededPower
   278 print "["
   279 print "]"
-    * jump *label64 always
   280 label *label63
   281 label *label64
   282 jump *label65 lessThanEq :net_power 100
   283 set .OVERDRIVE true
-    * jump *label66 always
   284 label *label65
   285 label *label66
   286 jump *label67 greaterThanEq .REACTORS_ON :reactors
   287 label *label71
   288 jump *label67 lessThanEq :net_power 1000
-    * jump *label70 always
   289 label *label70
   290 jump *label67 lessThan :total_battery 25000
-    * jump *label69 always
   291 label *label69
   292 set *tmp121 true
   293 jump *label68 always
 
   299 set .OUTPUT_3 .OUTPUT_2
   300 set .OUTPUT_2 .OUTPUT_1
   301 set .OUTPUT_1 1
-    * jump *label73 always
   302 label *label72
   303 label *label73
   304 jump *label74 notEqual .OUTPUT_1 0
 
   306 op div :ratio :neededPower :availablePower
   307 jump *label76 greaterThanEq :ratio 1
   308 op add :nextStart @time 2000
-    * jump *label77 always
   309 label *label76
   310 label *label77
-    * jump *label75 always
   311 label *label74
   312 label *label75
   313 jump *label78 equal :canStart false
   314 label *label81
   315 jump *label78 lessThanEq @time :nextStart
-    * jump *label80 always
   316 label *label80
   317 jump *label82 equal FAST_START false
   318 op idiv *tmp133 :total_battery 25000
 
   324 op add *tmp135 .REACTORS_ON :start_at_once
   325 op min .REACTORS_ON *tmp135 :reactors
   326 op add :nextStart @time 2000
-    * jump *label79 always
   327 label *label78
   328 label *label79
   329 jump *label84 lessThan .REACTORS_ON :reactors
   330 label *label88
   331 jump *label84 lessThanEq @time :nextStart
-    * jump *label87 always
   332 label *label87
   333 jump *label84 lessThanEq .OUTPUT_3 0
-    * jump *label86 always
   334 label *label86
   335 set .MODE 2
   336 op add :nextDecommit @time 6000
   337 set .COOLANT_FLAG 0
   338 set .FUEL_FLAG 0
   339 set .GENERATOR false
-    * jump *label85 always
   340 label *label84
   341 label *label85
   342 label *label60
 
   348 label *label94
   349 sensor *tmp143 tank1 @totalLiquids
   350 jump *label91 greaterThanEq *tmp143 750
-    * jump *label93 always
   351 label *label93
   352 set .MODE 0
   353 control enabled switch1 false
   354 set .REASON "Cryo level too low"
-    * jump *label92 always
   355 label *label91
   356 label *label92
   357 jump *label95 equal .FUEL_FLAG false
   358 label *label98
   359 sensor *tmp148 vault1 @blast-compound
   360 jump *label95 greaterThanEq *tmp148 700
-    * jump *label97 always
   361 label *label97
   362 set .MODE 0
   363 control enabled switch1 false
   364 set .REASON "Blast compound level too low"
-    * jump *label96 always
   365 label *label95
   366 label *label96
   367 jump *label101 notEqual .COOLANT_FLAG false
 
   390 label *label110
   391 sensor *tmp159 switch2 @enabled
   392 jump *label107 equal *tmp159 false
-    * jump *label109 always
   393 label *label109
   394 op mul :min_level 0.5 :required_capacity
   395 set :commit_level 0
   396 jump *label111 equal .CAN_COMMIT false
   397 label *label115
   398 jump *label111 greaterThanEq :battery_change 0
-    * jump *label114 always
   399 label *label114
   400 jump *label111 greaterThanEq .REACTORS_ON :reactors
-    * jump *label113 always
   401 label *label113
   402 op sub *tmp165 :battery_change 1500
   403 op sub :p *tmp165 1000
 
   409 op idiv *tmp172 :commit_level 1000
   410 print "\nCommit threshold:   [gold]"
   411 print *tmp172
-    * jump *label112 always
   412 label *label111
   413 label *label112
   414 jump *label116 notEqual :commit_level 0
   415 op idiv *tmp175 :min_level 1000
   416 print "\nRestart threshold: [gold]"
   417 print *tmp175
-    * jump *label117 always
   418 label *label116
   419 label *label117
   420 print "[] K"
 
   435 jump *label122 greaterThanEq :battery_change -100
   436 label *label124
   437 op add :nextDecommit @time 6000
-    * jump *label123 always
   438 label *label122
   439 label *label123
   440 jump *label126 lessThanEq @time :nextDecommit
 
   453 op add .REACTORS_ON .REACTORS_ON 1
   454 op add .COMMITS .COMMITS 1
   455 set .CAN_COMMIT false
-    * jump *label131 always
   456 label *label130
   457 label *label131
   458 label *label127
 
   473 jump *label134 greaterThanEq :total_battery *tmp196
   474 set .OUTPUT_2 0
   475 set .OUTPUT_3 0
-    * jump *label135 always
   476 label *label134
   477 label *label135
   478 jump *label136 notEqual .OUTPUT_2 0
 
   483 label *label138
   484 print "\n*** [gold]Surge tower 2 offline[] ***"
   485 label *label139
-    * jump *label137 always
   486 label *label136
   487 label *label137
-    * jump *label48 always
   488 label *label89
   489 label *label48
   490 print "\n"
 
   516 jump *label146 equal :enabled false
   517 sensor *tmp222 :block @timescale
   518 op add :boosts :boosts *tmp222
-    * jump *label147 always
   519 label *label146
   520 label *label147
   521 jump *label143 always
 
   535 jump *label150 notEqual *tmp216 @armored-conveyor
   536 label *label151
   537 control enabled :block :startup
-    * jump *label143 always
   538 label *label150
   539 label *label143
   540 label *label141
 
   549 op add :reactors :reactors *tmp233
   550 read *tmp235 cell2 4
   551 op add :boosts :boosts *tmp235
-    * jump *label153 always
   552 label *label152
   553 label *label153
   554 op min .REACTORS_ON .REACTORS_ON :reactors

Modifications by Iterated phase, Expression Optimization, pass 1, iteration 1 (-1 instructions):
 
   249 label *label56
   250 set :nextBattery *tmp101
   251 sensor *tmp103 :nextBattery @powerNetOut
-    * op mul *tmp104 *tmp103 1.05
-    * op floor *tmp105 *tmp104
+  252 op idiv *tmp105 *tmp103 0.9523809523809523
   253 op max :neededPower *tmp105 1000
   254 jump *label59 notEqual .REACTORS_ON 0
   255 jump *label61 lessThan :total_battery 25000

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-1 instructions):
     0 set PLANT_PROTECTION 1
     1 set FAST_START 1
     2 set .START 0
-    * set .FUEL_FLAG .START
-    * set .COOLANT_FLAG .FUEL_FLAG
+    3 set .FUEL_FLAG 0
+    4 set .COOLANT_FLAG .START
     5 set :reactors 0
     6 label *label0
     7 jump *label2 notEqual :reactors 0
 
    60 label *label14
    61 set *tmp35 switch1
    62 op notEqual *tmp37 .MODE 0
-    * control enabled *tmp35 *tmp37
+   63 control enabled switch1 *tmp37
    64 set :failure_cnt 0
    65 set :boosts 0
    66 set :nextStart 0
 
   105 set :failure2 *tmp69
   106 jump *label29 lessThan :consumption :min_consumption
   107 label *label30
-    * jump *label27 equal :failure2 false
+  108 jump *label27 equal *tmp69 false
   109 label *label29
   110 op add :failure_cnt :failure_cnt 1
   111 read *tmp73 cell2 1
 
   146 set *tmp78 null
   147 label *label33
   148 set .STR_MODE *tmp78
-    * print .STR_MODE
+  149 print *tmp78
   150 print ","
   151 print " reactors [green]"
   152 print .REACTORS_ON
 
   248 set *tmp101 battery2
   249 label *label56
   250 set :nextBattery *tmp101
-    * sensor *tmp103 :nextBattery @powerNetOut
+  251 sensor *tmp103 *tmp101 @powerNetOut
   252 op idiv *tmp105 *tmp103 0.9523809523809523
   253 op max :neededPower *tmp105 1000
   254 jump *label59 notEqual .REACTORS_ON 0
 
   309 label *label77
   310 label *label74
   311 label *label75
-    * jump *label78 equal :canStart false
+  312 jump *label78 equal *tmp121 false
   313 label *label81
   314 jump *label78 lessThanEq @time :nextStart
   315 label *label80
 
   320 set *tmp133 1
   321 label *label83
   322 set :start_at_once *tmp133
-    * op add *tmp135 .REACTORS_ON :start_at_once
+  323 op add *tmp135 .REACTORS_ON *tmp133
   324 op min .REACTORS_ON *tmp135 :reactors
   325 op add :nextStart @time 2000
   326 label *label78
 
   390 sensor *tmp159 switch2 @enabled
   391 jump *label107 equal *tmp159 false
   392 label *label109
-    * op mul :min_level 0.5 :required_capacity
+  393 op mul :min_level :reactors 50000
   394 set :commit_level 0
   395 jump *label111 equal .CAN_COMMIT false
   396 label *label115
 
   399 jump *label111 greaterThanEq .REACTORS_ON :reactors
   400 label *label113
   401 op sub *tmp165 :battery_change 1500
-    * op sub :p *tmp165 1000
+  402 op sub :p :battery_change 2500
   403 op mul *tmp167 :p 0.00472972972972973
   404 op add *tmp168 -5 *tmp167
   405 op mul *tmp169 :p *tmp168
 
   501 op equal :startup .MODE 1
   502 set :reactors 0
   503 set :boosts 0
-    * set :enabled true
   504 set :n .START
   505 label *label140
   506 jump *label142 greaterThanEq :n @links

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-7 instructions):
 
     1 set FAST_START 1
     2 set .START 0
     3 set .FUEL_FLAG 0
-    * set .COOLANT_FLAG .START
+    4 set .COOLANT_FLAG 0
     5 set :reactors 0
     6 label *label0
     7 jump *label2 notEqual :reactors 0
 
    58 label *label13
    59 set .REASON "Reason unknown -- out of power?"
    60 label *label14
-    * set *tmp35 switch1
    61 op notEqual *tmp37 .MODE 0
    62 control enabled switch1 *tmp37
    63 set :failure_cnt 0
 
   101 label *label22
   102 set *tmp69 false
   103 label *label23
-    * set :failure2 *tmp69
   104 jump *label29 lessThan :consumption :min_consumption
   105 label *label30
   106 jump *label27 equal *tmp69 false
 
   143 label *label38
   144 set *tmp78 null
   145 label *label33
-    * set .STR_MODE *tmp78
   146 print *tmp78
   147 print ","
   148 print " reactors [green]"
 
   244 label *label55
   245 set *tmp101 battery2
   246 label *label56
-    * set :nextBattery *tmp101
   247 sensor *tmp103 *tmp101 @powerNetOut
   248 op idiv *tmp105 *tmp103 0.9523809523809523
   249 op max :neededPower *tmp105 1000
 
   289 label *label67
   290 set *tmp121 false
   291 label *label68
-    * set :canStart *tmp121
   292 jump *label72 lessThan :net_power :neededPower
   293 set .OUTPUT_3 .OUTPUT_2
   294 set .OUTPUT_2 .OUTPUT_1
 
   314 label *label82
   315 set *tmp133 1
   316 label *label83
-    * set :start_at_once *tmp133
   317 op add *tmp135 .REACTORS_ON *tmp133
   318 op min .REACTORS_ON *tmp135 :reactors
   319 op add :nextStart @time 2000
 
   392 label *label114
   393 jump *label111 greaterThanEq .REACTORS_ON :reactors
   394 label *label113
-    * op sub *tmp165 :battery_change 1500
   395 op sub :p :battery_change 2500
   396 op mul *tmp167 :p 0.00472972972972973
   397 op add *tmp168 -5 *tmp167

Modifications by Iterated phase, Loop Rotation, pass 1, iteration 1:
 
     5 set :reactors 0
     6 label *label0
     7 jump *label2 notEqual :reactors 0
+    8 label *label156
     9 set :reactors 0
    10 set :n @links
    11 label *label3
    12 jump *label5 lessThanEq :n 0
+   13 label *label157
    14 op sub :n :n 1
    15 getlink :block :n
    16 print "Found: "
 
    30 label *label9
    31 label *label6
    32 label *label4
-    * jump *label3 always
+   33 jump *label157 greaterThan :n 0
    34 label *label5
    35 read *tmp8 cell2 1
    36 op add :reactors :reactors *tmp8
 
    40 label *label12
    41 printflush message1
    42 label *label1
-    * jump *label0 always
+   43 jump *label156 equal :reactors 0
    44 label *label2
    45 read .MODE cell1 0
    46 read .OUTPUT_1 cell1 1
 
   499 set :n .START
   500 label *label140
   501 jump *label142 greaterThanEq :n @links
+  502 label *label158
   503 getlink :block :n
   504 sensor *tmp216 :block @type
   505 jump *label144 notEqual *tmp216 @impact-reactor
 
   533 label *label143
   534 label *label141
   535 op add :n :n 1
-    * jump *label140 always
+  536 jump *label158 lessThan :n @links
   537 label *label142
   538 jump *label152 equal cell2 null
   539 write :reactors cell2 0

Modifications by Iterated phase, Boolean Optimization, pass 1, iteration 1 (-13 instructions):
 
    54 read .RESETS cell1 9
    55 read .COMMITS cell1 10
    56 set :reactors .REACTORS_ON
-    * jump *label13 notEqual .MODE 0
-    * set .REASON "Processor reset"
-    * jump *label14 always
-    * label *label13
-    * set .REASON "Reason unknown -- out of power?"
-    * label *label14
+   57 select .REASON equal .MODE 0 "Processor reset" "Reason unknown -- out of power?"
    58 op notEqual *tmp37 .MODE 0
    59 control enabled switch1 *tmp37
    60 set :failure_cnt 0
 
    88 label *label20
    89 op mul :min_consumption .REACTORS_ON 1200
    90 jump *label22 notEqual :battery_level 0
-    * label *label26
    91 jump *label22 lessThanEq :consumption 0
-    * label *label25
-    * jump *label22 notEqual :production 0
-    * label *label24
-    * set *tmp69 true
+   92 op equal *tmp69 :production 0
    93 jump *label23 always
    94 label *label22
    95 set *tmp69 false
    96 label *label23
    97 jump *label29 lessThan :consumption :min_consumption
-    * label *label30
    98 jump *label27 equal *tmp69 false
    99 label *label29
   100 op add :failure_cnt :failure_cnt 1
 
   225 jump *label53 notEqual .MODE 1
   226 label *label54
   227 jump *label55 equal .OUTPUT_1 false
-    * jump *label57 equal .OUTPUT_2 false
-    * set *tmp102 battery4
-    * jump *label58 always
-    * label *label57
-    * set *tmp102 battery3
-    * label *label58
+  228 select *tmp102 notEqual .OUTPUT_2 false battery4 battery3
   229 set *tmp101 *tmp102
   230 jump *label56 always
   231 label *label55
 
   261 print "]"
   262 label *label63
   263 label *label64
-    * jump *label65 lessThanEq :net_power 100
-    * set .OVERDRIVE true
-    * label *label65
-    * label *label66
+  264 select .OVERDRIVE greaterThan :net_power 100 true .OVERDRIVE
   265 jump *label67 greaterThanEq .REACTORS_ON :reactors
-    * label *label71
   266 jump *label67 lessThanEq :net_power 1000
-    * label *label70
-    * jump *label67 lessThan :total_battery 25000
-    * label *label69
-    * set *tmp121 true
+  267 op greaterThanEq *tmp121 :total_battery 25000
   268 jump *label68 always
   269 label *label67
   270 set *tmp121 false
 
   285 label *label74
   286 label *label75
   287 jump *label78 equal *tmp121 false
-    * label *label81
   288 jump *label78 lessThanEq @time :nextStart
-    * label *label80
-    * jump *label82 equal FAST_START false
-    * op idiv *tmp133 :total_battery 25000
-    * jump *label83 always
-    * label *label82
-    * set *tmp133 1
-    * label *label83
+  289 op idiv *tmp239 :total_battery 25000
+  290 select *tmp133 notEqual FAST_START false *tmp239 1
   291 op add *tmp135 .REACTORS_ON *tmp133
   292 op min .REACTORS_ON *tmp135 :reactors
   293 op add :nextStart @time 2000
   294 label *label78
   295 label *label79
   296 jump *label84 lessThan .REACTORS_ON :reactors
-    * label *label88
   297 jump *label84 lessThanEq @time :nextStart
-    * label *label87
   298 jump *label84 lessThanEq .OUTPUT_3 0
-    * label *label86
   299 set .MODE 2
   300 op add :nextDecommit @time 6000
   301 set .COOLANT_FLAG 0
 
   309 jump *label89 notEqual .MODE 2
   310 label *label90
   311 jump *label91 equal .COOLANT_FLAG false
-    * label *label94
   312 sensor *tmp143 tank1 @totalLiquids
   313 jump *label91 greaterThanEq *tmp143 750
-    * label *label93
   314 set .MODE 0
   315 control enabled switch1 false
   316 set .REASON "Cryo level too low"
   317 label *label91
   318 label *label92
   319 jump *label95 equal .FUEL_FLAG false
-    * label *label98
   320 sensor *tmp148 vault1 @blast-compound
   321 jump *label95 greaterThanEq *tmp148 700
-    * label *label97
   322 set .MODE 0
   323 control enabled switch1 false
   324 set .REASON "Blast compound level too low"
   325 label *label95
   326 label *label96
-    * jump *label101 notEqual .COOLANT_FLAG false
-    * label *label102
-    * sensor *tmp153 tank1 @totalLiquids
-    * jump *label99 lessThanEq *tmp153 1000
+  327 jump *label99 equal .COOLANT_FLAG false
   328 label *label101
   329 set *tmp155 true
   330 jump *label100 always
   331 label *label99
-    * set *tmp155 false
+  332 sensor *tmp153 tank1 @totalLiquids
+  333 op greaterThan *tmp155 *tmp153 1000
   334 label *label100
   335 set .COOLANT_FLAG *tmp155
-    * jump *label105 notEqual .FUEL_FLAG false
-    * label *label106
-    * sensor *tmp156 vault1 @blast-compound
-    * jump *label103 lessThanEq *tmp156 800
+  336 jump *label103 equal .FUEL_FLAG false
   337 label *label105
   338 set *tmp158 true
   339 jump *label104 always
   340 label *label103
-    * set *tmp158 false
+  341 sensor *tmp156 vault1 @blast-compound
+  342 op greaterThan *tmp158 *tmp156 800
   343 label *label104
   344 set .FUEL_FLAG *tmp158
   345 jump *label107 equal :enough_battery false
-    * label *label110
   346 sensor *tmp159 switch2 @enabled
   347 jump *label107 equal *tmp159 false
-    * label *label109
   348 op mul :min_level :reactors 50000
   349 set :commit_level 0
   350 jump *label111 equal .CAN_COMMIT false
-    * label *label115
   351 jump *label111 greaterThanEq :battery_change 0
-    * label *label114
   352 jump *label111 greaterThanEq .REACTORS_ON :reactors
-    * label *label113
   353 op sub :p :battery_change 2500
   354 op mul *tmp167 :p 0.00472972972972973
   355 op add *tmp168 -5 *tmp167
 
   369 label *label117
   370 print "[] K"
   371 jump *label120 lessThan :total_battery :min_level
-    * label *label121
   372 op mul *tmp177 .REACTORS_ON -2500
   373 jump *label118 greaterThanEq :battery_change *tmp177
   374 label *label120
 
   380 jump *label119 always
   381 label *label118
   382 jump *label124 lessThan :battery_level 47500
-    * label *label125
   383 jump *label122 greaterThanEq :battery_change -100
   384 label *label124
   385 op add :nextDecommit @time 6000

Modifications by Iterated phase, Boolean Optimization, pass 1, iteration 2 (-3 instructions):
 
   224 label *label49
   225 jump *label53 notEqual .MODE 1
   226 label *label54
-    * jump *label55 equal .OUTPUT_1 false
-    * select *tmp102 notEqual .OUTPUT_2 false battery4 battery3
-    * set *tmp101 *tmp102
-    * jump *label56 always
-    * label *label55
-    * set *tmp101 battery2
-    * label *label56
+  227 select *tmp102 notEqual .OUTPUT_2 false battery4 battery3
+  228 select *tmp101 notEqual .OUTPUT_1 false *tmp102 battery2
   229 sensor *tmp103 *tmp101 @powerNetOut
   230 op idiv *tmp105 *tmp103 0.9523809523809523
   231 op max :neededPower *tmp105 1000
 
   320 label *label95
   321 label *label96
   322 jump *label99 equal .COOLANT_FLAG false
-    * label *label101
   323 set *tmp155 true
   324 jump *label100 always
   325 label *label99
 
   328 label *label100
   329 set .COOLANT_FLAG *tmp155
   330 jump *label103 equal .FUEL_FLAG false
-    * label *label105
   331 set *tmp158 true
   332 jump *label104 always
   333 label *label103

Modifications by Iterated phase, If Expression Optimization, pass 1, iteration 1 (-2 instructions):
 
    87 jump *label21 always
    88 label *label20
    89 op mul :min_consumption .REACTORS_ON 1200
-    * jump *label22 notEqual :battery_level 0
-    * jump *label22 lessThanEq :consumption 0
+   90 set *tmp69 false
+   91 jump *label23 notEqual :battery_level 0
+   92 jump *label23 lessThanEq :consumption 0
    93 op equal *tmp69 :production 0
    94 jump *label23 always
-    * label *label22
-    * set *tmp69 false
    95 label *label23
    96 jump *label29 lessThan :consumption :min_consumption
    97 jump *label27 equal *tmp69 false
 
   256 label *label63
   257 label *label64
   258 select .OVERDRIVE greaterThan :net_power 100 true .OVERDRIVE
-    * jump *label67 greaterThanEq .REACTORS_ON :reactors
-    * jump *label67 lessThanEq :net_power 1000
+  259 set *tmp121 false
+  260 jump *label68 greaterThanEq .REACTORS_ON :reactors
+  261 jump *label68 lessThanEq :net_power 1000
   262 op greaterThanEq *tmp121 :total_battery 25000
   263 jump *label68 always
-    * label *label67
-    * set *tmp121 false
   264 label *label68
   265 jump *label72 lessThan :net_power :neededPower
   266 set .OUTPUT_3 .OUTPUT_2
 
   318 label *label95
   319 label *label96
   320 jump *label99 equal .COOLANT_FLAG false
-    * set *tmp155 true
+  321 set .COOLANT_FLAG true
   322 jump *label100 always
   323 label *label99
   324 sensor *tmp153 tank1 @totalLiquids
-    * op greaterThan *tmp155 *tmp153 1000
+  325 op greaterThan .COOLANT_FLAG *tmp153 1000
   326 label *label100
-    * set .COOLANT_FLAG *tmp155
   327 jump *label103 equal .FUEL_FLAG false
-    * set *tmp158 true
+  328 set .FUEL_FLAG true
   329 jump *label104 always
   330 label *label103
   331 sensor *tmp156 vault1 @blast-compound
-    * op greaterThan *tmp158 *tmp156 800
+  332 op greaterThan .FUEL_FLAG *tmp156 800
   333 label *label104
-    * set .FUEL_FLAG *tmp158
   334 jump *label107 equal :enough_battery false
   335 sensor *tmp159 switch2 @enabled
   336 jump *label107 equal *tmp159 false

Modifications by Fast-dispatch case at line 419:9 (-7 instructions):
 
   445 label *label158
   446 getlink :block :n
   447 sensor *tmp216 :block @type
-    * jump *label144 notEqual *tmp216 @impact-reactor
+  448 sensor *tmp240 *tmp216 @id
+  449 multijump *tmp240 0 0 (m:*label162)
+  450 multilabel *label167 (m:*label162)
+  451 multilabel *label163 (m:*label162)
+  452 label *label161
+  453 jump *label143 always
+  454 multilabel *label166 (m:*label162)
   455 label *label145
   456 op add :reactors :reactors 1
   457 op lessThanEq :enabled :reactors .REACTORS_ON
 
   463 label *label147
   464 jump *label143 always
   465 label *label144
-    * jump *label149 equal *tmp216 @overdrive-projector
-    * jump *label148 notEqual *tmp216 @overdrive-dome
+  466 multilabel *label164 (m:*label162)
   467 label *label149
   468 control enabled :block .OVERDRIVE
   469 jump *label143 always
   470 label *label148
-    * jump *label151 equal *tmp216 @conduit
-    * jump *label151 equal *tmp216 @pulse-conduit
-    * jump *label151 equal *tmp216 @plated-conduit
-    * jump *label151 equal *tmp216 @conveyor
-    * jump *label151 equal *tmp216 @titanium-conveyor
-    * jump *label151 equal *tmp216 @plastanium-conveyor
-    * jump *label150 notEqual *tmp216 @armored-conveyor
+  471 multilabel *label165 (m:*label162)
   472 label *label151
   473 control enabled :block :startup
-    * label *label150
   474 label *label143
   475 label *label141
   476 op add :n :n 1

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
     4 set .COOLANT_FLAG 0
     5 set :reactors 0
     6 label *label0
-    * jump *label2 notEqual :reactors 0
+    7 jump *label2 notEqual 0 0
     8 label *label156
     9 set :reactors 0
    10 set :n @links
 
   441 set :boosts 0
   442 set :n .START
   443 label *label140
-    * jump *label142 greaterThanEq :n @links
+  444 jump *label142 greaterThanEq .START @links
   445 label *label158
   446 getlink :block :n
   447 sensor *tmp216 :block @type

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-1 instructions):
 
     2 set .START 0
     3 set .FUEL_FLAG 0
     4 set .COOLANT_FLAG 0
-    * set :reactors 0
     5 label *label0
     6 jump *label2 notEqual 0 0
     7 label *label156

Modifications by Fast-dispatch case at line 210:16 (-2 instructions):
 
   116 label *label21
   117 label *label18
   118 label *label19
-    * jump *label34 notEqual .MODE 0
+  119 multijump .MODE 0 0 (m:*label169)
+  120 multilabel *label173 (m:*label169)
+  121 label *label168
+  122 set *tmp78 null
+  123 jump *label33 always
+  124 multilabel *label170 (m:*label169)
   125 label *label35
   126 set *tmp78 "[salmon]SHUTDOWN[]"
   127 jump *label33 always
   128 label *label34
-    * jump *label36 notEqual .MODE 1
+  129 multilabel *label171 (m:*label169)
   130 label *label37
   131 set *tmp78 "[gold]STARTUP[]"
   132 jump *label33 always
   133 label *label36
-    * jump *label38 notEqual .MODE 2
+  134 multilabel *label172 (m:*label169)
   135 label *label39
   136 set *tmp78 "[green]RUNNING[]"
-    * jump *label33 always
-    * label *label38
-    * set *tmp78 null
   137 label *label33
   138 print *tmp78
   139 print ","

Modifications by Fast-dispatch case at line 236:5 (-1 instructions):
 
   197 print :net_power
   198 print "["
   199 print "]"
-    * jump *label49 notEqual .MODE 0
+  200 multijump .MODE 0 0 (m:*label175)
+  201 multilabel *label179 (m:*label175)
+  202 label *label174
+  203 jump *label48 always
+  204 multilabel *label176 (m:*label175)
   205 label *label50
   206 set .REACTORS_ON 0
   207 set .OVERDRIVE 0
 
   226 label *label52
   227 jump *label48 always
   228 label *label49
-    * jump *label53 notEqual .MODE 1
+  229 multilabel *label177 (m:*label175)
   230 label *label54
   231 select *tmp102 notEqual .OUTPUT_2 false battery4 battery3
   232 select *tmp101 notEqual .OUTPUT_1 false *tmp102 battery2
 
   304 label *label60
   305 jump *label48 always
   306 label *label53
-    * jump *label89 notEqual .MODE 2
+  307 multilabel *label178 (m:*label175)
   308 label *label90
   309 jump *label91 equal .COOLANT_FLAG false
   310 sensor *tmp143 tank1 @totalLiquids
 
   427 label *label139
   428 label *label136
   429 label *label137
-    * label *label89
   430 label *label48
   431 print "\n"
   432 print .STARTUPS

Modifications by Iterated phase, Jump Normalization, pass 2, iteration 1 (-1 instructions):
 
     3 set .FUEL_FLAG 0
     4 set .COOLANT_FLAG 0
     5 label *label0
-    * jump *label2 notEqual 0 0
     6 label *label156
     7 set :reactors 0
     8 set :n @links

Modifications by Iterated phase, Condition Optimization, pass 2, iteration 1 (-1 instructions):
 
    73 sensor :total_capacity battery1 @powerNetCapacity
    74 op idiv :total_capacity_str :total_capacity 1000
    75 op mul :required_capacity 100000 :reactors
-    * op greaterThanEq :enough_battery :total_capacity :required_capacity
    76 op sub *tmp56 :required_capacity :total_capacity
    77 op div *tmp57 *tmp56 1000
    78 op ceil :missing_battery *tmp57
 
   163 print "\n[salmon]Blast compound level critical![]"
   164 label *label44
   165 label *label45
-    * jump *label46 notEqual :enough_battery false
+  166 jump *label46 greaterThanEq :total_capacity :required_capacity
   167 print "\n[salmon]Insufficient battery storage![]"
   168 print "\n"
   169 print "Link [gold]"
 
   334 sensor *tmp156 vault1 @blast-compound
   335 op greaterThan .FUEL_FLAG *tmp156 800
   336 label *label104
-    * jump *label107 equal :enough_battery false
+  337 jump *label107 lessThan :total_capacity :required_capacity
   338 sensor *tmp159 switch2 @enabled
   339 jump *label107 equal *tmp159 false
   340 op mul :min_level :reactors 50000
 
   458 op add :reactors :reactors 1
   459 op lessThanEq :enabled :reactors .REACTORS_ON
   460 control enabled :block :enabled
-    * jump *label146 equal :enabled false
+  461 jump *label146 greaterThan :reactors .REACTORS_ON
   462 sensor *tmp222 :block @timescale
   463 op add :boosts :boosts *tmp222
   464 label *label146

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-2 instructions):
 
    88 jump *label23 notEqual :battery_level 0
    89 jump *label23 lessThanEq :consumption 0
    90 op equal *tmp69 :production 0
-    * jump *label23 always
    91 label *label23
    92 jump *label29 lessThan :consumption :min_consumption
    93 jump *label27 equal *tmp69 false
 
   262 jump *label68 greaterThanEq .REACTORS_ON :reactors
   263 jump *label68 lessThanEq :net_power 1000
   264 op greaterThanEq *tmp121 :total_battery 25000
-    * jump *label68 always
   265 label *label68
   266 jump *label72 lessThan :net_power :neededPower
   267 set .OUTPUT_3 .OUTPUT_2

Modifications by Jumps phase, Unreachable Code Elimination, pass 4, iteration 1 (-1 instructions):
 
     2 set .START 0
     3 set .FUEL_FLAG 0
     4 set .COOLANT_FLAG 0
-    * label *label0
     5 label *label156
     6 set :reactors 0
     7 set :n @links
-    * label *label3
     8 jump *label5 lessThanEq :n 0
     9 label *label157
    10 op sub :n :n 1
 
    14 print "\n"
    15 sensor *tmp5 :block @type
    16 jump *label7 notEqual *tmp5 @impact-reactor
-    * label *label8
    17 set .START :n
    18 op add :reactors :reactors 1
    19 jump *label6 always
 
    24 set .START :n
    25 label *label9
    26 label *label6
-    * label *label4
    27 jump *label157 greaterThan :n 0
    28 label *label5
    29 read *tmp8 cell2 1
 
    31 jump *label11 notEqual :reactors 0
    32 print "No reactor."
    33 label *label11
-    * label *label12
    34 printflush message1
-    * label *label1
    35 jump *label156 equal :reactors 0
-    * label *label2
    36 read .MODE cell1 0
    37 read .OUTPUT_1 cell1 1
    38 read .OUTPUT_2 cell1 2
 
    98 print :min_consumption
    99 printflush message2
   100 label *label31
-    * label *label32
   101 jump *label28 always
   102 label *label27
   103 set :failure_cnt 0
   104 label *label28
   105 label *label21
   106 label *label18
-    * label *label19
   107 multijump .MODE 0 0 (m:*label169)
   108 multilabel *label173 (m:*label169)
-    * label *label168
   109 set *tmp78 null
   110 jump *label33 always
   111 multilabel *label170 (m:*label169)
-    * label *label35
   112 set *tmp78 "[salmon]SHUTDOWN[]"
   113 jump *label33 always
-    * label *label34
   114 multilabel *label171 (m:*label169)
-    * label *label37
   115 set *tmp78 "[gold]STARTUP[]"
   116 jump *label33 always
-    * label *label36
   117 multilabel *label172 (m:*label169)
-    * label *label39
   118 set *tmp78 "[green]RUNNING[]"
   119 label *label33
   120 print *tmp78
 
   135 print :multiplier
   136 print "x[])"
   137 label *label40
-    * label *label41
   138 print "\n=================================="
   139 sensor *tmp86 tank1 @totalLiquids
   140 jump *label42 greaterThanEq *tmp86 750
   141 print "\n[salmon]Cryofluid level critical![]"
   142 label *label42
-    * label *label43
   143 sensor *tmp89 vault1 @blast-compound
   144 jump *label44 greaterThanEq *tmp89 700
   145 print "\n[salmon]Blast compound level critical![]"
   146 label *label44
-    * label *label45
   147 jump *label46 greaterThanEq :total_capacity :required_capacity
   148 print "\n[salmon]Insufficient battery storage![]"
   149 print "\n"
 
   152 print " "
   153 print "K[] of additional storage to internal battery."
   154 label *label46
-    * label *label47
   155 print "\n"
   156 print "Internal battery:    [gold]"
   157 print :battery_level_str
 
   177 print "]"
   178 multijump .MODE 0 0 (m:*label175)
   179 multilabel *label179 (m:*label175)
-    * label *label174
   180 jump *label48 always
   181 multilabel *label176 (m:*label175)
-    * label *label50
   182 set .REACTORS_ON 0
   183 set .OVERDRIVE 0
   184 set .OUTPUT_1 0
 
   199 set .GENERATOR true
   200 set .REASON "Unknown -- out of power?"
   201 label *label51
-    * label *label52
   202 jump *label48 always
-    * label *label49
   203 multilabel *label177 (m:*label175)
-    * label *label54
   204 select *tmp102 notEqual .OUTPUT_2 false battery4 battery3
   205 select *tmp101 notEqual .OUTPUT_1 false *tmp102 battery2
   206 sensor *tmp103 *tmp101 @powerNetOut
 
   232 print "["
   233 print "]"
   234 label *label63
-    * label *label64
   235 select .OVERDRIVE greaterThan :net_power 100 true .OVERDRIVE
   236 set *tmp121 false
   237 jump *label68 greaterThanEq .REACTORS_ON :reactors
 
   243 set .OUTPUT_2 .OUTPUT_1
   244 set .OUTPUT_1 1
   245 label *label72
-    * label *label73
   246 jump *label74 notEqual .OUTPUT_1 0
   247 op mul :availablePower 6300 :boosts
   248 op div :ratio :neededPower :availablePower
   249 jump *label76 greaterThanEq :ratio 1
   250 op add :nextStart @time 2000
   251 label *label76
-    * label *label77
   252 label *label74
-    * label *label75
   253 jump *label78 equal *tmp121 false
   254 jump *label78 lessThanEq @time :nextStart
   255 op idiv *tmp239 :total_battery 25000
 
   258 op min .REACTORS_ON *tmp135 :reactors
   259 op add :nextStart @time 2000
   260 label *label78
-    * label *label79
   261 jump *label84 lessThan .REACTORS_ON :reactors
   262 jump *label84 lessThanEq @time :nextStart
   263 jump *label84 lessThanEq .OUTPUT_3 0
 
   267 set .FUEL_FLAG 0
   268 set .GENERATOR false
   269 label *label84
-    * label *label85
   270 label *label60
   271 jump *label48 always
-    * label *label53
   272 multilabel *label178 (m:*label175)
-    * label *label90
   273 jump *label91 equal .COOLANT_FLAG false
   274 sensor *tmp143 tank1 @totalLiquids
   275 jump *label91 greaterThanEq *tmp143 750
 
   277 control enabled switch1 false
   278 set .REASON "Cryo level too low"
   279 label *label91
-    * label *label92
   280 jump *label95 equal .FUEL_FLAG false
   281 sensor *tmp148 vault1 @blast-compound
   282 jump *label95 greaterThanEq *tmp148 700
 
   284 control enabled switch1 false
   285 set .REASON "Blast compound level too low"
   286 label *label95
-    * label *label96
   287 jump *label99 equal .COOLANT_FLAG false
   288 set .COOLANT_FLAG true
   289 jump *label100 always
 
   316 print "\nCommit threshold:   [gold]"
   317 print *tmp172
   318 label *label111
-    * label *label112
   319 jump *label116 notEqual :commit_level 0
   320 op idiv *tmp175 :min_level 1000
   321 print "\nRestart threshold: [gold]"
   322 print *tmp175
   323 label *label116
-    * label *label117
   324 print "[] K"
   325 jump *label120 lessThan :total_battery :min_level
   326 op mul *tmp177 .REACTORS_ON -2500
 
   338 label *label124
   339 op add :nextDecommit @time 6000
   340 label *label122
-    * label *label123
   341 jump *label126 lessThanEq @time :nextDecommit
   342 jump *label128 equal .OVERDRIVE false
   343 set .OVERDRIVE false
 
   355 op add .COMMITS .COMMITS 1
   356 set .CAN_COMMIT false
   357 label *label130
-    * label *label131
   358 label *label127
   359 label *label119
   360 jump *label108 always
 
   374 set .OUTPUT_2 0
   375 set .OUTPUT_3 0
   376 label *label134
-    * label *label135
   377 jump *label136 notEqual .OUTPUT_2 0
   378 jump *label138 lessThanEq :total_battery 47500
   379 set .OUTPUT_2 1
 
   383 print "\n*** [gold]Surge tower 2 offline[] ***"
   384 label *label139
   385 label *label136
-    * label *label137
   386 label *label48
   387 print "\n"
   388 print .STARTUPS
 
   400 set :reactors 0
   401 set :boosts 0
   402 set :n .START
-    * label *label140
   403 jump *label142 greaterThanEq .START @links
   404 label *label158
   405 getlink :block :n
 
   408 multijump *tmp240 0 0 (m:*label162)
   409 multilabel *label167 (m:*label162)
   410 multilabel *label163 (m:*label162)
-    * label *label161
   411 jump *label143 always
   412 multilabel *label166 (m:*label162)
-    * label *label145
   413 op add :reactors :reactors 1
   414 op lessThanEq :enabled :reactors .REACTORS_ON
   415 control enabled :block :enabled
 
   417 sensor *tmp222 :block @timescale
   418 op add :boosts :boosts *tmp222
   419 label *label146
-    * label *label147
   420 jump *label143 always
-    * label *label144
   421 multilabel *label164 (m:*label162)
-    * label *label149
   422 control enabled :block .OVERDRIVE
   423 jump *label143 always
-    * label *label148
   424 multilabel *label165 (m:*label162)
-    * label *label151
   425 control enabled :block :startup
   426 label *label143
-    * label *label141
   427 op add :n :n 1
   428 jump *label158 lessThan :n @links
   429 label *label142
 
   436 read *tmp235 cell2 4
   437 op add :boosts :boosts *tmp235
   438 label *label152
-    * label *label153
   439 op min .REACTORS_ON .REACTORS_ON :reactors
   440 jump *label154 notEqual cell1 null
   441 set .STARTUPS 0
 
   455 write .RESETS cell1 9
   456 write .COMMITS cell1 10
   457 label *label155
-    * label *label16
   458 jump *label15 always
-    * label *label17
-    * end

Modifications by Jumps phase, Jump Threading, pass 4, iteration 1:
 
    88 op add :failure_cnt :failure_cnt 1
    89 read *tmp73 cell2 1
    90 op add *tmp72 10 *tmp73
-    * jump *label31 lessThanEq :failure_cnt *tmp72
+   91 jump *label28 lessThanEq :failure_cnt *tmp72
    92 set .MODE 0
    93 control enabled switch1 false
    94 set .REASON "Unknown -- out of power?"
 
   191 print .REASON
   192 print "[]"
   193 sensor *tmp99 switch1 @enabled
-    * jump *label51 equal *tmp99 false
+  194 jump *label48 equal *tmp99 false
   195 set .MODE 1
   196 op add .STARTUPS .STARTUPS 1
   197 set :nextStart 0
 
   210 jump *label61 lessThan :total_battery 25000
   211 set .REACTORS_ON 1
   212 op add :nextStart @time 2000
-    * jump *label62 always
+  213 jump *label48 always
   214 label *label61
   215 print "\nRequired startup energy: [gold]"
   216 print 25
   217 print " K[]"
   218 label *label62
-    * jump *label60 always
+  219 jump *label48 always
   220 label *label59
   221 op add *tmp112 .OUTPUT_1 .OUTPUT_2
   222 op add :outputs *tmp112 .OUTPUT_3
 
   258 op min .REACTORS_ON *tmp135 :reactors
   259 op add :nextStart @time 2000
   260 label *label78
-    * jump *label84 lessThan .REACTORS_ON :reactors
-    * jump *label84 lessThanEq @time :nextStart
-    * jump *label84 lessThanEq .OUTPUT_3 0
+  261 jump *label48 lessThan .REACTORS_ON :reactors
+  262 jump *label48 lessThanEq @time :nextStart
+  263 jump *label48 lessThanEq .OUTPUT_3 0
   264 set .MODE 2
   265 op add :nextDecommit @time 6000
   266 set .COOLANT_FLAG 0
 
   331 set .OVERDRIVE true
   332 set .REACTORS_ON :reactors
   333 op add :nextDecommit @time 6000
-    * jump *label119 always
+  334 jump *label108 always
   335 label *label118
   336 jump *label124 lessThan :battery_level 47500
   337 jump *label122 greaterThanEq :battery_change -100
 
   348 set .CAN_COMMIT true
   349 label *label129
   350 op add :nextDecommit @time 6000
-    * jump *label127 always
+  351 jump *label108 always
   352 label *label126
-    * jump *label130 greaterThanEq :total_battery :commit_level
+  353 jump *label108 greaterThanEq :total_battery :commit_level
   354 op add .REACTORS_ON .REACTORS_ON 1
   355 op add .COMMITS .COMMITS 1
   356 set .CAN_COMMIT false
 
   413 op add :reactors :reactors 1
   414 op lessThanEq :enabled :reactors .REACTORS_ON
   415 control enabled :block :enabled
-    * jump *label146 greaterThan :reactors .REACTORS_ON
+  416 jump *label143 greaterThan :reactors .REACTORS_ON
   417 sensor *tmp222 :block @timescale
   418 op add :boosts :boosts *tmp222
   419 label *label146
 
   441 set .STARTUPS 0
   442 set .RESETS 0
   443 set .COMMITS 0
-    * jump *label155 always
+  444 jump *label15 always
   445 label *label154
   446 write .MODE cell1 0
   447 write .OUTPUT_1 cell1 1

Modifications by Final phase, Print Merging, iteration 1 (-39 instructions):
 
     9 label *label157
    10 op sub :n :n 1
    11 getlink :block :n
-    * print "Found: "
-    * print :block
-    * print "\n"
+   12 print "Found: {0}\n"
+   13 format :block
    14 sensor *tmp5 :block @type
    15 jump *label7 notEqual *tmp5 @impact-reactor
    16 set .START :n
 
    91 set .MODE 0
    92 control enabled switch1 false
    93 set .REASON "Unknown -- out of power?"
-    * print "Consumption: "
-    * print :consumption
-    * print "\nMin. consumption: "
+   94 print "Consumption: {0}\nMin. consumption: "
+   95 format :consumption
    96 print :min_consumption
    97 printflush message2
    98 jump *label28 always
 
   115 set *tmp78 "[green]RUNNING[]"
   116 label *label33
   117 print *tmp78
-    * print ","
-    * print " reactors [green]"
-    * print .REACTORS_ON
-    * print "/"
-    * print :reactors
-    * print "["
-    * print "]"
+  118 print ", reactors [green]{0}/{0}[]"
+  119 format .REACTORS_ON
+  120 format :reactors
   121 jump *label40 equal .OVERDRIVE false
   122 op mul *tmp81 100 :boosts
   123 op div *tmp82 *tmp81 .REACTORS_ON
   124 op add *tmp83 *tmp82 0.5
   125 op floor *tmp84 *tmp83
   126 op div :multiplier *tmp84 100
-    * print " ([gold]"
-    * print :multiplier
-    * print "x[])"
+  127 print " ([gold]{0}x[])"
+  128 format :multiplier
   129 label *label40
   130 print "\n=================================="
   131 sensor *tmp86 tank1 @totalLiquids
 
   137 print "\n[salmon]Blast compound level critical![]"
   138 label *label44
   139 jump *label46 greaterThanEq :total_capacity :required_capacity
-    * print "\n[salmon]Insufficient battery storage![]"
-    * print "\n"
-    * print "Link [gold]"
-    * print :missing_battery
-    * print " "
-    * print "K[] of additional storage to internal battery."
+  140 print "\n[salmon]Insufficient battery storage![]\nLink [gold]{0} K[] of additional storage to internal battery."
+  141 format :missing_battery
   142 label *label46
-    * print "\n"
-    * print "Internal battery:    [gold]"
-    * print :battery_level_str
-    * print "["
-    * print "]/[green]50[] K"
-    * print "\n"
-    * print "Total battery:        [gold]"
-    * print :total_battery_str
-    * print "["
-    * print "]/[green]"
-    * print :total_capacity_str
-    * print "["
-    * print "] K"
-    * print "\n"
-    * print "Battery change:     [gold]"
-    * print :battery_change
-    * print "["
-    * print "]"
-    * print "\n"
-    * print "Power balance:       [gold]"
-    * print :net_power
-    * print "["
-    * print "]"
+  143 print "\nInternal battery:    [gold]{0}[]/[green]50[] K\nTotal battery:        [gold]{0}[]/[green]{0}[] K\nBattery change:     [gold]{0}[]\nPower balance:       [gold]{0}[]"
+  144 format :battery_level_str
+  145 format :total_battery_str
+  146 format :total_capacity_str
+  147 format :battery_change
+  148 format :net_power
   149 multijump .MODE 0 0 (m:*label175)
   150 multilabel *label179 (m:*label175)
   151 jump *label48 always
 
   158 op greaterThanEq *tmp96 :net_power -150
   159 op lessThan *tmp97 :total_battery 47500
   160 op land .GENERATOR *tmp96 *tmp97
-    * print "\nShutdown reason: [gold]"
-    * print .REASON
-    * print "[]"
+  161 print "\nShutdown reason: [gold]{0}[]"
+  162 format .REASON
   163 sensor *tmp99 switch1 @enabled
   164 jump *label48 equal *tmp99 false
   165 set .MODE 1
 
   181 op add :nextStart @time 2000
   182 jump *label48 always
   183 label *label61
-    * print "\nRequired startup energy: [gold]"
-    * print 25
-    * print " K[]"
+  184 print "\nRequired startup energy: [gold]25 K[]"
   185 jump *label48 always
   186 label *label59
   187 op add *tmp112 .OUTPUT_1 .OUTPUT_2
   188 op add :outputs *tmp112 .OUTPUT_3
-    * print "\n"
-    * print "[gold]"
-    * print :outputs
-    * print "["
-    * print "] surge tower(s) online"
+  189 print "\n[gold]{0}[] surge tower(s) online"
+  190 format :outputs
   191 jump *label63 notEqual .OUTPUT_3 0
-    * print "\n"
-    * print "Required power level: [gold]"
-    * print :neededPower
-    * print "["
-    * print "]"
+  192 print "\nRequired power level: [gold]{0}[]"
+  193 format :neededPower
   194 label *label63
   195 select .OVERDRIVE greaterThan :net_power 100 true .OVERDRIVE
   196 set *tmp121 false
 
   339 label *label139
   340 label *label136
   341 label *label48
-    * print "\n"
-    * print .STARTUPS
-    * print "-"
-    * print .RESETS
-    * print "-"
+  342 print "\n{0}-{0}-"
+  343 format .STARTUPS
+  344 format .RESETS
   345 print .COMMITS
   346 printflush message1
   347 control enabled diode1 .OUTPUT_1

Final code before resolving virtual instructions:

set PLANT_PROTECTION 1
set FAST_START 1
set .START 0
set .FUEL_FLAG 0
set .COOLANT_FLAG 0
label *label156
set :reactors 0
set :n @links
jump *label5 lessThanEq :n 0
label *label157
op sub :n :n 1
getlink :block :n
print "Found: {0}\n"
format :block
sensor *tmp5 :block @type
jump *label7 notEqual *tmp5 @impact-reactor
set .START :n
op add :reactors :reactors 1
jump *label6 always
label *label7
jump *label10 equal *tmp5 @overdrive-projector
jump *label9 notEqual *tmp5 @overdrive-dome
label *label10
set .START :n
label *label9
label *label6
jump *label157 greaterThan :n 0
label *label5
read *tmp8 cell2 1
op add :reactors :reactors *tmp8
jump *label11 notEqual :reactors 0
print "No reactor."
label *label11
printflush message1
jump *label156 equal :reactors 0
read .MODE cell1 0
read .OUTPUT_1 cell1 1
read .OUTPUT_2 cell1 2
read .OUTPUT_3 cell1 3
read .REACTORS_ON cell1 4
read .OVERDRIVE cell1 5
read .GENERATOR cell1 6
read .CAN_COMMIT cell1 7
read .STARTUPS cell1 8
read .RESETS cell1 9
read .COMMITS cell1 10
set :reactors .REACTORS_ON
select .REASON equal .MODE 0 "Processor reset" "Reason unknown -- out of power?"
op notEqual *tmp37 .MODE 0
control enabled switch1 *tmp37
set :failure_cnt 0
set :boosts 0
set :nextStart 0
op add :nextDecommit @time 6000
label *label15
sensor *tmp39 battery1 @totalPower
op floor :battery_level *tmp39
op idiv :battery_level_str :battery_level 1000
sensor *tmp42 battery1 @powerNetStored
op floor :total_battery *tmp42
op idiv :total_battery_str :total_battery 1000
sensor :consumption battery1 @powerNetOut
read :production bank1 509
read :net_power bank1 510
read :battery_change bank1 511
sensor :total_capacity battery1 @powerNetCapacity
op idiv :total_capacity_str :total_capacity 1000
op mul :required_capacity 100000 :reactors
op sub *tmp56 :required_capacity :total_capacity
op div *tmp57 *tmp56 1000
op ceil :missing_battery *tmp57
jump *label18 equal .MODE 0
sensor *tmp61 switch1 @enabled
jump *label20 notEqual *tmp61 false
set .MODE 0
set .REASON "Manual power off"
jump *label21 always
label *label20
op mul :min_consumption .REACTORS_ON 1200
set *tmp69 false
jump *label23 notEqual :battery_level 0
jump *label23 lessThanEq :consumption 0
op equal *tmp69 :production 0
label *label23
jump *label29 lessThan :consumption :min_consumption
jump *label27 equal *tmp69 false
label *label29
op add :failure_cnt :failure_cnt 1
read *tmp73 cell2 1
op add *tmp72 10 *tmp73
jump *label28 lessThanEq :failure_cnt *tmp72
set .MODE 0
control enabled switch1 false
set .REASON "Unknown -- out of power?"
print "Consumption: {0}\nMin. consumption: "
format :consumption
print :min_consumption
printflush message2
jump *label28 always
label *label27
set :failure_cnt 0
label *label28
label *label21
label *label18
multijump .MODE 0 0
multilabel *label173
set *tmp78 null
jump *label33 always
multilabel *label170
set *tmp78 "[salmon]SHUTDOWN[]"         # Origin: 88, keys: 0
jump *label33 always
multilabel *label171
set *tmp78 "[gold]STARTUP[]"            # Origin: 88, keys: 1
jump *label33 always
multilabel *label172
set *tmp78 "[green]RUNNING[]"           # Origin: 88, keys: 2
label *label33
print *tmp78
print ", reactors [green]{0}/{0}[]"
format .REACTORS_ON
format :reactors
jump *label40 equal .OVERDRIVE false
op mul *tmp81 100 :boosts
op div *tmp82 *tmp81 .REACTORS_ON
op add *tmp83 *tmp82 0.5
op floor *tmp84 *tmp83
op div :multiplier *tmp84 100
print " ([gold]{0}x[])"
format :multiplier
label *label40
print "\n=================================="
sensor *tmp86 tank1 @totalLiquids
jump *label42 greaterThanEq *tmp86 750
print "\n[salmon]Cryofluid level critical![]"
label *label42
sensor *tmp89 vault1 @blast-compound
jump *label44 greaterThanEq *tmp89 700
print "\n[salmon]Blast compound level critical![]"
label *label44
jump *label46 greaterThanEq :total_capacity :required_capacity
print "\n[salmon]Insufficient battery storage![]\nLink [gold]{0} K[] of additional storage to internal battery."
format :missing_battery
label *label46
print "\nInternal battery:    [gold]{0}[]/[green]50[] K\nTotal battery:        [gold]{0}[]/[green]{0}[] K\nBattery change:     [gold]{0}[]\nPower balance:       [gold]{0}[]"
format :battery_level_str
format :total_battery_str
format :total_capacity_str
format :battery_change
format :net_power
multijump .MODE 0 0
multilabel *label179
jump *label48 always
multilabel *label176
set .REACTORS_ON 0                      # Origin: 124, keys: 0
set .OVERDRIVE 0
set .OUTPUT_1 0
set .OUTPUT_2 0
set .OUTPUT_3 0
op greaterThanEq *tmp96 :net_power -150
op lessThan *tmp97 :total_battery 47500
op land .GENERATOR *tmp96 *tmp97
print "\nShutdown reason: [gold]{0}[]"
format .REASON
sensor *tmp99 switch1 @enabled
jump *label48 equal *tmp99 false
set .MODE 1
op add .STARTUPS .STARTUPS 1
set :nextStart 0
set :failure_cnt 0
set .GENERATOR true
set .REASON "Unknown -- out of power?"
jump *label48 always
multilabel *label177
select *tmp102 notEqual .OUTPUT_2 false battery4 battery3 # Origin: 124, keys: 1
select *tmp101 notEqual .OUTPUT_1 false *tmp102 battery2
sensor *tmp103 *tmp101 @powerNetOut
op idiv *tmp105 *tmp103 0.9523809523809523
op max :neededPower *tmp105 1000
jump *label59 notEqual .REACTORS_ON 0
jump *label61 lessThan :total_battery 25000
set .REACTORS_ON 1
op add :nextStart @time 2000
jump *label48 always
label *label61
print "\nRequired startup energy: [gold]25 K[]"
jump *label48 always
label *label59
op add *tmp112 .OUTPUT_1 .OUTPUT_2
op add :outputs *tmp112 .OUTPUT_3
print "\n[gold]{0}[] surge tower(s) online"
format :outputs
jump *label63 notEqual .OUTPUT_3 0
print "\nRequired power level: [gold]{0}[]"
format :neededPower
label *label63
select .OVERDRIVE greaterThan :net_power 100 true .OVERDRIVE
set *tmp121 false
jump *label68 greaterThanEq .REACTORS_ON :reactors
jump *label68 lessThanEq :net_power 1000
op greaterThanEq *tmp121 :total_battery 25000
label *label68
jump *label72 lessThan :net_power :neededPower
set .OUTPUT_3 .OUTPUT_2
set .OUTPUT_2 .OUTPUT_1
set .OUTPUT_1 1
label *label72
jump *label74 notEqual .OUTPUT_1 0
op mul :availablePower 6300 :boosts
op div :ratio :neededPower :availablePower
jump *label76 greaterThanEq :ratio 1
op add :nextStart @time 2000
label *label76
label *label74
jump *label78 equal *tmp121 false
jump *label78 lessThanEq @time :nextStart
op idiv *tmp239 :total_battery 25000
select *tmp133 notEqual FAST_START false *tmp239 1
op add *tmp135 .REACTORS_ON *tmp133
op min .REACTORS_ON *tmp135 :reactors
op add :nextStart @time 2000
label *label78
jump *label48 lessThan .REACTORS_ON :reactors
jump *label48 lessThanEq @time :nextStart
jump *label48 lessThanEq .OUTPUT_3 0
set .MODE 2
op add :nextDecommit @time 6000
set .COOLANT_FLAG 0
set .FUEL_FLAG 0
set .GENERATOR false
jump *label48 always
multilabel *label178
jump *label91 equal .COOLANT_FLAG false
sensor *tmp143 tank1 @totalLiquids
jump *label91 greaterThanEq *tmp143 750
set .MODE 0
control enabled switch1 false
set .REASON "Cryo level too low"
label *label91
jump *label95 equal .FUEL_FLAG false
sensor *tmp148 vault1 @blast-compound
jump *label95 greaterThanEq *tmp148 700
set .MODE 0
control enabled switch1 false
set .REASON "Blast compound level too low"
label *label95
jump *label99 equal .COOLANT_FLAG false
set .COOLANT_FLAG true
jump *label100 always
label *label99
sensor *tmp153 tank1 @totalLiquids
op greaterThan .COOLANT_FLAG *tmp153 1000
label *label100
jump *label103 equal .FUEL_FLAG false
set .FUEL_FLAG true
jump *label104 always
label *label103
sensor *tmp156 vault1 @blast-compound
op greaterThan .FUEL_FLAG *tmp156 800
label *label104
jump *label107 lessThan :total_capacity :required_capacity
sensor *tmp159 switch2 @enabled
jump *label107 equal *tmp159 false
op mul :min_level :reactors 50000
set :commit_level 0
jump *label111 equal .CAN_COMMIT false
jump *label111 greaterThanEq :battery_change 0
jump *label111 greaterThanEq .REACTORS_ON :reactors
op sub :p :battery_change 2500
op mul *tmp167 :p 0.00472972972972973
op add *tmp168 -5 *tmp167
op mul *tmp169 :p *tmp168
op add :commit_margin 25000 *tmp169
op add :commit_level :min_level :commit_margin
op idiv *tmp172 :commit_level 1000
print "\nCommit threshold:   [gold]"
print *tmp172
label *label111
jump *label116 notEqual :commit_level 0
op idiv *tmp175 :min_level 1000
print "\nRestart threshold: [gold]"
print *tmp175
label *label116
print "[] K"
jump *label120 lessThan :total_battery :min_level
op mul *tmp177 .REACTORS_ON -2500
jump *label118 greaterThanEq :battery_change *tmp177
label *label120
op equal *tmp180 .OVERDRIVE false
op add .RESETS .RESETS *tmp180
set .OVERDRIVE true
set .REACTORS_ON :reactors
op add :nextDecommit @time 6000
jump *label108 always
label *label118
jump *label124 lessThan :battery_level 47500
jump *label122 greaterThanEq :battery_change -100
label *label124
op add :nextDecommit @time 6000
label *label122
jump *label126 lessThanEq @time :nextDecommit
jump *label128 equal .OVERDRIVE false
set .OVERDRIVE false
jump *label129 always
label *label128
op sub *tmp189 .REACTORS_ON 1
op max .REACTORS_ON *tmp189 1
set .CAN_COMMIT true
label *label129
op add :nextDecommit @time 6000
jump *label108 always
label *label126
jump *label108 greaterThanEq :total_battery :commit_level
op add .REACTORS_ON .REACTORS_ON 1
op add .COMMITS .COMMITS 1
set .CAN_COMMIT false
jump *label108 always
label *label107
sensor *tmp194 switch2 @enabled
jump *label132 equal *tmp194 false
print "\n[salmon]Load adapting not possible.[]"
jump *label133 always
label *label132
print "\n[gold]Load adapting not active.[]"
label *label133
set .REACTORS_ON :reactors
set .OVERDRIVE true
label *label108
op mul *tmp196 PLANT_PROTECTION 47500
jump *label134 greaterThanEq :total_battery *tmp196
set .OUTPUT_2 0
set .OUTPUT_3 0
label *label134
jump *label136 notEqual .OUTPUT_2 0
jump *label138 lessThanEq :total_battery 47500
set .OUTPUT_2 1
set .OUTPUT_3 1
jump *label139 always
label *label138
print "\n*** [gold]Surge tower 2 offline[] ***"
label *label139
label *label136
label *label48
print "\n{0}-{0}-"
format .STARTUPS
format .RESETS
print .COMMITS
printflush message1
control enabled diode1 .OUTPUT_1
control enabled diode2 .OUTPUT_2
control enabled diode3 .OUTPUT_3
control enabled generator1 .GENERATOR
control enabled generator2 .GENERATOR
op equal :startup .MODE 1
set :reactors 0
set :boosts 0
set :n .START
jump *label142 greaterThanEq .START @links
label *label158
getlink :block :n
sensor *tmp216 :block @type
sensor *tmp240 *tmp216 @id
multijump *tmp240 0 0
multilabel *label167
multilabel *label163
jump *label143 always
multilabel *label166
op add :reactors :reactors 1            # Origin: 299, keys: 82
op lessThanEq :enabled :reactors .REACTORS_ON
control enabled :block :enabled
jump *label143 greaterThan :reactors .REACTORS_ON
sensor *tmp222 :block @timescale
op add :boosts :boosts *tmp222
jump *label143 always
multilabel *label164
control enabled :block .OVERDRIVE       # Origin: 299, keys: 37, 38
jump *label143 always
multilabel *label165
control enabled :block :startup         # Origin: 299, keys: 41 .. 44, 60 .. 62
label *label143
op add :n :n 1
jump *label158 lessThan :n @links
label *label142
jump *label152 equal cell2 null
write :reactors cell2 0
write .REACTORS_ON cell2 2
write .OVERDRIVE cell2 3
read *tmp233 cell2 1
op add :reactors :reactors *tmp233
read *tmp235 cell2 4
op add :boosts :boosts *tmp235
label *label152
op min .REACTORS_ON .REACTORS_ON :reactors
jump *label154 notEqual cell1 null
set .STARTUPS 0
set .RESETS 0
set .COMMITS 0
jump *label15 always
label *label154
write .MODE cell1 0
write .OUTPUT_1 cell1 1
write .OUTPUT_2 cell1 2
write .OUTPUT_3 cell1 3
write .REACTORS_ON cell1 4
write .OVERDRIVE cell1 5
write .GENERATOR cell1 6
write .CAN_COMMIT cell1 7
write .STARTUPS cell1 8
write .RESETS cell1 9
write .COMMITS cell1 10
jump *label15 always
