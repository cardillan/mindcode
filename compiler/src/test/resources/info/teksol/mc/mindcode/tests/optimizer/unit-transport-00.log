  1145 instructions before optimizations.
   100 instructions eliminated by Temp Variables Elimination (3 passes, 7 iterations).
     2 instructions eliminated by Case Expression Optimization.
   124 instructions eliminated by Dead Code Elimination (6 iterations).
     4 instructions eliminated by Jump Normalization (2 passes, 5 iterations).
    74 instructions eliminated by Condition Optimization (2 passes, 7 iterations).
    52 instructions eliminated by Single Step Elimination (3 passes, 8 iterations).
     2 instructions eliminated by Expression Optimization (2 passes, 3 iterations).
    32 instructions eliminated by Boolean Optimization (6 iterations).
       2 short-circuited expressions optimized using selects.
       1 final jumps of a short-circuited expression optimized.
       8 fully-evaluated expressions optimized using selects.
     1 instructions eliminated by If Expression Optimization (3 iterations).
    25 instructions eliminated by Data Flow Optimization (4 passes, 17 iterations).
     1 loops improved by Loop Hoisting.
     2 instructions added by Loop Rotation (3 iterations).
       3 loop conditions were fully rotated.
       10 loop conditions were partially rotated.
    13 instructions eliminated by Case Switching (8 iterations).
     1 case expressions converted to fast dispatch by Case Switching.
    25 instructions eliminated by Jump Straightening (2 passes, 7 iterations).
     7 instructions updated by Jump Threading.
     6 instructions eliminated by Unreachable Code Elimination (2 iterations).
    71 instructions eliminated by Print Merging.
   616 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 285):
  * Partial loop rotation at line 172:9                          size    +1, benefit      312.5, efficiency    312.500 (-1 instructions)
    Partial loop rotation at line 184:13                         size    +1, benefit      156.3, efficiency    156.250
    Partial loop rotation at line 692:1                          size    +2, benefit       25.0, efficiency     12.500
    Partial loop rotation at line 700:5                          size    +1, benefit       12.5, efficiency     12.500
  o Fast-dispatch case at line 712:5                             size   -13, benefit       40.2, efficiency   Infinity

Pass 1: speed optimization selection (cost limit 286):
  * Partial loop rotation at line 184:13                         size    +1, benefit      156.3, efficiency    156.250 (+1 instructions)
    Partial loop rotation at line 692:1                          size    +2, benefit       25.0, efficiency     12.500
    Partial loop rotation at line 700:5                          size    +1, benefit       12.5, efficiency     12.500
  o Fast-dispatch case at line 712:5                             size   -13, benefit       40.2, efficiency   Infinity

Pass 1: speed optimization selection (cost limit 285):
  * Partial loop rotation at line 692:1                          size    +2, benefit       25.0, efficiency     12.500 (+1 instructions)
    Partial loop rotation at line 700:5                          size    +1, benefit       12.5, efficiency     12.500
  o Fast-dispatch case at line 712:5                             size   -13, benefit       40.2, efficiency   Infinity

Pass 1: speed optimization selection (cost limit 284):
  * Partial loop rotation at line 700:5                          size    +1, benefit       12.5, efficiency     12.500 (+1 instructions)
  o Fast-dispatch case at line 712:5                             size   -13, benefit       40.2, efficiency   Infinity

Pass 1: speed optimization selection (cost limit 283):
  * Fast-dispatch case at line 712:5                             size   -13, benefit       40.2, efficiency   Infinity (-13 instructions)

Modifications by Initial phase, Case Expression Optimization, iteration 1 (-2 instructions):
 
   119 getlink *tmp27 :n
   120 set :block *tmp27
   121 sensor *tmp29 :block @type
-    * set *tmp30 *tmp29
-    * jump *label24 equal *tmp30 @vault
-    * jump *label24 equal *tmp30 @container
+  122 jump *label24 equal *tmp29 @vault
+  123 jump *label24 equal *tmp29 @container
   124 jump *label23 always
   125 label *label24
   126 set .DROP_TARGET .CONTAINER
 
   581 label *label99
   582 set .LAST_ITEM .ITEM
   583 set :itemTypeToIcon:itemType .ITEM
-    * set *tmp164 :itemTypeToIcon:itemType
-    * jump *label103 equal *tmp164 @blast-compound
+  584 jump *label103 equal :itemTypeToIcon:itemType @blast-compound
   585 jump *label102 always
   586 label *label103
   587 set *tmp163 "[]"
   588 jump *label101 always
   589 label *label102
-    * jump *label105 equal *tmp164 @coal
+  590 jump *label105 equal :itemTypeToIcon:itemType @coal
   591 jump *label104 always
   592 label *label105
   593 set *tmp163 "[]"
   594 jump *label101 always
   595 label *label104
-    * jump *label107 equal *tmp164 @copper
+  596 jump *label107 equal :itemTypeToIcon:itemType @copper
   597 jump *label106 always
   598 label *label107
   599 set *tmp163 "[]"
   600 jump *label101 always
   601 label *label106
-    * jump *label109 equal *tmp164 @graphite
+  602 jump *label109 equal :itemTypeToIcon:itemType @graphite
   603 jump *label108 always
   604 label *label109
   605 set *tmp163 "[]"
   606 jump *label101 always
   607 label *label108
-    * jump *label111 equal *tmp164 @lead
+  608 jump *label111 equal :itemTypeToIcon:itemType @lead
   609 jump *label110 always
   610 label *label111
   611 set *tmp163 "[]"
   612 jump *label101 always
   613 label *label110
-    * jump *label113 equal *tmp164 @metaglass
+  614 jump *label113 equal :itemTypeToIcon:itemType @metaglass
   615 jump *label112 always
   616 label *label113
   617 set *tmp163 "[]"
   618 jump *label101 always
   619 label *label112
-    * jump *label115 equal *tmp164 @phase-fabric
+  620 jump *label115 equal :itemTypeToIcon:itemType @phase-fabric
   621 jump *label114 always
   622 label *label115
   623 set *tmp163 "[]"
   624 jump *label101 always
   625 label *label114
-    * jump *label117 equal *tmp164 @plastanium
+  626 jump *label117 equal :itemTypeToIcon:itemType @plastanium
   627 jump *label116 always
   628 label *label117
   629 set *tmp163 "[]"
   630 jump *label101 always
   631 label *label116
-    * jump *label119 equal *tmp164 @pyratite
+  632 jump *label119 equal :itemTypeToIcon:itemType @pyratite
   633 jump *label118 always
   634 label *label119
   635 set *tmp163 "[]"
   636 jump *label101 always
   637 label *label118
-    * jump *label121 equal *tmp164 @sand
+  638 jump *label121 equal :itemTypeToIcon:itemType @sand
   639 jump *label120 always
   640 label *label121
   641 set *tmp163 "[]"
   642 jump *label101 always
   643 label *label120
-    * jump *label123 equal *tmp164 @scrap
+  644 jump *label123 equal :itemTypeToIcon:itemType @scrap
   645 jump *label122 always
   646 label *label123
   647 set *tmp163 "[]"
   648 jump *label101 always
   649 label *label122
-    * jump *label125 equal *tmp164 @silicon
+  650 jump *label125 equal :itemTypeToIcon:itemType @silicon
   651 jump *label124 always
   652 label *label125
   653 set *tmp163 "[]"
   654 jump *label101 always
   655 label *label124
-    * jump *label127 equal *tmp164 @spore-pod
+  656 jump *label127 equal :itemTypeToIcon:itemType @spore-pod
   657 jump *label126 always
   658 label *label127
   659 set *tmp163 "[]"
   660 jump *label101 always
   661 label *label126
-    * jump *label129 equal *tmp164 @surge-alloy
+  662 jump *label129 equal :itemTypeToIcon:itemType @surge-alloy
   663 jump *label128 always
   664 label *label129
   665 set *tmp163 "[]"
   666 jump *label101 always
   667 label *label128
-    * jump *label131 equal *tmp164 @thorium
+  668 jump *label131 equal :itemTypeToIcon:itemType @thorium
   669 jump *label130 always
   670 label *label131
   671 set *tmp163 "[]"
   672 jump *label101 always
   673 label *label130
-    * jump *label133 equal *tmp164 @titanium
+  674 jump *label133 equal :itemTypeToIcon:itemType @titanium
   675 jump *label132 always
   676 label *label133
   677 set *tmp163 "[]"

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-88 instructions):
 
    75 set *tmp18 false
    76 label *label9
    77 op add .TARGET .TARGET *tmp18
-    * set *tmp14 .TARGET
    78 jump *label7 always
    79 label *label6
-    * set *tmp14 null
    80 label *label7
    81 ubind UNIT
    82 op notEqual *tmp19 @unit :first_unit
 
   124 set .DROP_TARGET .CONTAINER
   125 set .CONTAINER :block
   126 set .CONTAINER_INDEX :n
-    * set *tmp28 .CONTAINER_INDEX
   127 jump *label22 always
   128 label *label23
-    * set *tmp28 null
   129 label *label22
   130 label *label20
   131 jump *label19 always
 
   134 jump *label25 equal *tmp31 false
   135 print "[salmon]No vault or container."
   136 printflush message1
-    * set *tmp32 null
   137 jump *label26 always
   138 label *label25
   139 jump *label18 always
-    * set *tmp32 null
   140 label *label26
   141 label *label17
   142 jump *label16 always
 
   156 ulocate building core false @copper .CORE_X .CORE_Y *tmp40 *tmp39
   157 set .CORE *tmp39
   158 ucontrol flag .S_UNUSED
-    * set *tmp38 null
   159 jump *label33 always
   160 label *label32
-    * set *tmp38 null
   161 label *label33
   162 label *label30
   163 jump *label29 always
   164 label *label31
   165 set .DISCARD_UNIT_MAX_ITEMS .UNIT_CAPACITY
-    * set *tmp34 .DISCARD_UNIT_MAX_ITEMS
   166 jump *label28 always
   167 label *label27
   168 printflush message2
 
   242 label *label52
   243 set *tmp61 null
   244 label *label53
-    * set *tmp50 *tmp61
   245 jump *label46 always
   246 label *label45
-    * set *tmp50 null
   247 label *label46
   248 ucontrol flag .S_UNUSED
   249 label *label35
   250 jump *label34 always
   251 label *label36
   252 set .DISCARD_UNIT_MAX_ITEMS 0
-    * set *tmp34 .DISCARD_UNIT_MAX_ITEMS
   253 label *label28
   254 set .SORTER sorter1
   255 sensor *tmp62 .SORTER @type
 
   268 jump *label59 equal *tmp65 false
   269 print "Block found: "
   270 print .SORTER
-    * set *tmp66 .SORTER
   271 jump *label60 always
   272 label *label59
-    * set *tmp66 null
   273 label *label60
   274 printflush message1
   275 set .SORTER sorter1
 
   311 set *tmp80 " from vault #"
   312 label *label64
   313 set .DIRECTION *tmp80
-    * set *tmp69 .DIRECTION
   314 jump *label62 always
   315 label *label61
   316 op greaterThan *tmp81 LINK_ID 0
 
   347 set *tmp94 " to vault #"
   348 label *label66
   349 set .DIRECTION *tmp94
-    * set *tmp69 .DIRECTION
   350 label *label62
   351 op equal *tmp95 LINK_ID 0
   352 jump *label67 equal *tmp95 false
 
   413 op equal *tmp127 LINK_ID 0
   414 op mul *tmp128 *tmp127 .UNIT_CAPACITY
   415 set .PARK_ITEM_LIMIT *tmp128
-    * set *tmp118 .PARK_ITEM_LIMIT
   416 jump *label70 always
   417 label *label69
   418 sensor *tmp129 .DROP_TARGET @x
 
   422 set .PARK_X .DROP_X
   423 set .PARK_Y .DROP_Y
   424 set .PARK_ITEM_LIMIT 0
-    * set *tmp118 .PARK_ITEM_LIMIT
   425 label *label70
   426 set *tmp131 @tick
   427 set .TRANSFER_START *tmp131
 
   452 set :corr_per_min 0
   453 set .SPEED_UNIT_TXT "[])/min"
   454 set .AUTO_ALLOCATION_TXT "\n=== [gold]Gathering statistics[] ==="
-    * set *tmp134 .AUTO_ALLOCATION_TXT
   455 jump *label76 always
   456 label *label75
   457 set .CORR_SIGN "[]"
   458 set :corr_per_min ""
   459 set .SPEED_UNIT_TXT "/min"
   460 set .AUTO_ALLOCATION_TXT ""
-    * set *tmp134 .AUTO_ALLOCATION_TXT
   461 label *label76
   462 label *label77
   463 jump *label79 equal true false
 
   486 set :corr_per_min ""
   487 set .SPEED_UNIT_TXT "/min"
   488 set .WAIT_LIMIT 30000
-    * set *tmp137 .WAIT_LIMIT
   489 jump *label84 always
   490 label *label83
-    * set *tmp137 null
   491 label *label84
   492 sensor *tmp141 switch2 @enabled
   493 jump *label85 equal *tmp141 false
 
   501 set .CORR_SIGN "[]([green]+"
   502 set :corr_per_min 0
   503 set .SPEED_UNIT_TXT "[])/min"
-    * set *tmp145 .SPEED_UNIT_TXT
   504 jump *label88 always
   505 label *label87
   506 set .EFF_AUTO_ALLOCATION false
 
   518 set *tmp149 ""
   519 label *label90
   520 set .AUTO_ALLOCATION_TXT *tmp149
-    * set *tmp145 .AUTO_ALLOCATION_TXT
   521 label *label88
   522 set .WAIT_LIMIT 30000
-    * set *tmp142 .WAIT_LIMIT
   523 jump *label86 always
   524 label *label85
-    * set *tmp142 null
   525 label *label86
   526 sensor *tmp150 :first_unit @dead
   527 op strictEqual *tmp151 *tmp150 0
 
   532 op equal *tmp155 :active 0
   533 jump *label93 equal *tmp155 false
   534 print "\n[salmon]No active units.[]"
-    * set *tmp156 "\n[salmon]No active units.[]"
   535 jump *label94 always
   536 label *label93
-    * set *tmp156 null
   537 label *label94
   538 printflush message2
   539 set .STATE_LIMIT 6
 
   659 set :last_level *tmp165
   660 set :min_level 999999
   661 set :max_level 0
-    * set *tmp159 :max_level
   662 jump *label96 always
   663 label *label95
-    * set *tmp159 null
   664 label *label96
   665 sensor *tmp166 .CONTAINER .ITEM
   666 set :container_items *tmp166
 
   734 op greaterThanEq *tmp203 :corr_per_min 0
   735 jump *label140 equal *tmp203 false
   736 set .CORR_SIGN "[]([green]+"
-    * set *tmp204 .CORR_SIGN
   737 jump *label141 always
   738 label *label140
-    * set *tmp204 null
   739 label *label141
   740 set .SPEED_UNIT_TXT "[])/min"
   741 jump *label142 equal :alive false
 
   767 op add *tmp214 *tmp213 :total_flow_1
   768 op div *tmp215 *tmp214 3
   769 set :total_flow_per_ms *tmp215
-    * set *tmp212 :total_flow_per_ms
   770 jump *label153 always
   771 label *label152
-    * set *tmp212 null
   772 label *label153
   773 op div *tmp216 :total_flow_per_ms :items_per_ms_unit
   774 op add *tmp217 *tmp216 .INC_OVERALLOCATION
 
   787 op lessThanEq *tmp225 :new_change 0
   788 op mul *tmp226 *tmp225 .DEC_MAX
   789 set .DEC_LIMIT *tmp226
-    * set *tmp211 .DEC_LIMIT
   790 jump *label149 always
   791 label *label148
   792 op idiv *tmp227 :wait_time .WAIT_LIMIT
 
   797 op mul *tmp231 *tmp230 .INC_MAX
   798 set .INC_LIMIT *tmp231
   799 set .DEC_LIMIT .DEC_MAX
-    * set *tmp211 .DEC_LIMIT
   800 label *label149
   801 op add *tmp232 :active :new_change
   802 op max *tmp233 *tmp232 1
   803 set .TARGET *tmp233
-    * set *tmp205 .TARGET
   804 jump *label143 always
   805 label *label142
   806 set .INC_LIMIT 0
   807 set .DEC_LIMIT 0
-    * set *tmp205 .DEC_LIMIT
   808 label *label143
   809 set :min_level 999999
   810 set :max_level 0
-    * set *tmp186 :max_level
   811 jump *label139 always
   812 label *label138
-    * set *tmp186 null
   813 label *label139
   814 set :wait_time 0
   815 set :remote_wait_time 0
 
   821 label *label154
   822 set *tmp235 null
   823 label *label155
-    * set *tmp175 *tmp235
   824 jump *label135 always
   825 label *label134
-    * set *tmp175 null
   826 label *label135
   827 print .MESSAGE
   828 print "Moving [green]"
 
   847 print ")"
   848 print " [gold]+"
   849 print :items_in_transit
-    * set *tmp239 null
   850 jump *label159 always
   851 label *label158
   852 print "\n"
 
   860 print ")"
   861 print " [gold]+"
   862 print :items_in_transit
-    * set *tmp239 null
   863 label *label159
   864 op greaterThan *tmp240 .CHANGE 0
   865 jump *label160 equal *tmp240 false
 
   869 label *label160
   870 set *tmp241 null
   871 label *label161
-    * set *tmp237 *tmp241
   872 jump *label157 always
   873 label *label156
-    * set *tmp237 null
   874 label *label157
   875 print "\n"
   876 print "[]Local items: [gold]"
 
   881 print .LOCAL_MARGIN
   882 print "["
   883 print "])"
-    * set *tmp243 null
   884 jump *label163 always
   885 label *label162
-    * set *tmp243 null
   886 label *label163
   887 jump *label164 equal .SHOW_REMOTE_LEVEL false
   888 sensor *tmp245 .CORE .ITEM
 
   901 label *label166
   902 set *tmp247 null
   903 label *label167
-    * set *tmp244 *tmp247
   904 jump *label165 always
   905 label *label164
-    * set *tmp244 null
   906 label *label165
   907 op greaterThan *tmp248 .TARGET 0
   908 jump *label168 equal *tmp248 false
 
   926 print :elapsed_str
   927 print "["
   928 print "] s"
-    * set *tmp250 null
   929 jump *label171 always
   930 label *label170
   931 print "\n"
 
   933 print :elapsed_str
   934 print "["
   935 print "] s"
-    * set *tmp250 null
   936 label *label171
   937 print "\n"
   938 print "Total wait time: [green]"
   939 print :wait_time_str
   940 print "["
   941 print "] s"
-    * set *tmp249 null
   942 jump *label169 always
   943 label *label168
-    * set *tmp249 null
   944 label *label169
   945 print "\n"
   946 print "[lightgray]Loop: "
 
   959 op notEqual *tmp254 *tmp253 0
   960 jump *label172 equal *tmp254 false
   961 jump *label79 always
-    * set *tmp255 null
   962 jump *label173 always
   963 label *label172
-    * set *tmp255 null
   964 label *label173
   965 sensor *tmp256 .DST @dead
   966 op notEqual *tmp257 *tmp256 0
   967 jump *label174 equal *tmp257 false
   968 jump *label79 always
-    * set *tmp258 null
   969 jump *label175 always
   970 label *label174
-    * set *tmp258 null
   971 label *label175
   972 sensor *tmp259 .SORTER @dead
   973 op notEqual *tmp260 *tmp259 0
   974 jump *label176 equal *tmp260 false
   975 jump *label79 always
-    * set *tmp261 null
   976 jump *label177 always
   977 label *label176
-    * set *tmp261 null
   978 label *label177
   979 getlink *tmp262 .CONTAINER_INDEX
   980 op notEqual *tmp263 .CONTAINER *tmp262
 
   985 label *label178
   986 set *tmp264 null
   987 label *label179
-    * set *tmp154 *tmp264
   988 jump *label92 always
   989 label *label91
-    * set *tmp154 null
   990 label *label92
   991 op greaterThan *tmp265 .CHANGE 0
   992 jump *label180 equal *tmp265 false
 
  1000 label *label182
  1001 set *tmp269 null
  1002 label *label183
-    * set *tmp266 *tmp269
  1003 jump *label181 always
  1004 label *label180
-    * set *tmp266 null
  1005 label *label181
  1006 sensor *tmp270 @unit @controller
  1007 op equal *tmp271 *tmp270 @this
 
  1032 label *label190
  1033 set *tmp281 null
  1034 label *label191
-    * set *tmp279 *tmp281
  1035 jump *label189 always
  1036 label *label188
-    * set *tmp279 null
  1037 label *label189
  1038 op equal *tmp285 :state 1
  1039 jump *label194 equal *tmp285 false
 
  1055 ucontrol within .DROP_X .DROP_Y 8 *tmp293
  1056 jump *label200 equal *tmp293 false
  1057 ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
-    * set *tmp294 null
  1058 jump *label201 always
  1059 label *label200
-    * set *tmp294 null
  1060 label *label201
  1061 print "[]"
  1062 print "\n"
 
  1065 label *label199
  1066 set *tmp289 *tmp292
  1067 label *label197
-    * set *tmp286 *tmp289
  1068 jump *label195 always
  1069 label *label194
-    * set *tmp286 null
  1070 label *label195
  1071 op equal *tmp295 :state 2
  1072 jump *label202 equal *tmp295 false
 
  1092 print "sec[] to source: [green]"
  1093 set *tmp298 null
  1094 label *label205
-    * set *tmp296 *tmp298
  1095 jump *label203 always
  1096 label *label202
-    * set *tmp296 null
  1097 label *label203
  1098 op equal *tmp306 :state 3
  1099 jump *label206 equal *tmp306 false
 
  1103 op greaterThanEq *tmp310 :max_load .LOAD_PACK
  1104 jump *label208 equal *tmp310 false
  1105 ucontrol itemTake .SRC .ITEM :max_load
-    * set *tmp311 null
  1106 jump *label209 always
  1107 label *label208
-    * set *tmp311 null
  1108 label *label209
  1109 sensor *tmp312 @unit @totalItems
  1110 op greaterThanEq *tmp313 *tmp312 .UNIT_CAPACITY
 
  1122 op add :remote_wait_time :remote_wait_time *tmp315
  1123 set *tmp314 :remote_wait_time
  1124 label *label211
-    * set *tmp307 *tmp314
  1125 jump *label207 always
  1126 label *label206
-    * set *tmp307 null
  1127 label *label207
  1128 op equal *tmp316 :state 4
  1129 jump *label212 equal *tmp316 false
 
  1152 print "sec[] to destination: [green]"
  1153 set *tmp319 null
  1154 label *label215
-    * set *tmp317 *tmp319
  1155 jump *label213 always
  1156 label *label212
-    * set *tmp317 null
  1157 label *label213
  1158 op equal *tmp328 :state 5
  1159 jump *label216 equal *tmp328 false
 
  1163 op greaterThanEq *tmp332 :max_drop .DROP_PACK
  1164 jump *label218 equal *tmp332 false
  1165 ucontrol itemDrop .DST :max_drop
-    * set *tmp333 null
  1166 jump *label219 always
  1167 label *label218
-    * set *tmp333 null
  1168 label *label219
  1169 sensor *tmp334 @unit @totalItems
  1170 op lessThanEq *tmp335 *tmp334 0
 
  1205 op add :remote_wait_time :remote_wait_time *tmp345
  1206 set *tmp336 :remote_wait_time
  1207 label *label221
-    * set *tmp329 *tmp336
  1208 jump *label217 always
  1209 label *label216
-    * set *tmp329 null
  1210 label *label217
  1211 sensor *tmp346 @unit @totalItems
  1212 set :items *tmp346
 
  1236 label *label226
  1237 set *tmp350 null
  1238 label *label227
-    * set *tmp348 *tmp350
  1239 jump *label225 always
  1240 label *label224
  1241 op add :active :active 1
-    * set *tmp348 :active
  1242 label *label225
  1243 print :items
  1244 print .ITEM_ICON
 
  1248 label *label186
  1249 set *tmp275 null
  1250 label *label187
-    * set *tmp272 *tmp275
  1251 jump *label185 always
  1252 label *label184
-    * set *tmp272 null
  1253 label *label185
  1254 label *label78
  1255 jump *label77 always
 
  1288 label *label238
  1289 jump *label237 always
  1290 label *label239
-    * set *tmp360 null
  1291 jump *label234 always
  1292 label *label233
-    * set *tmp360 null
  1293 label *label234
  1294 control enabled switch1 false
  1295 control enabled switch2 false

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-28 instructions):
 
   237 print "is not a vault!"
   238 printflush message2
   239 set .CORE null
-    * set *tmp61 .CORE
   240 jump *label53 always
   241 label *label52
-    * set *tmp61 null
   242 label *label53
   243 jump *label46 always
   244 label *label45
 
   814 op greaterThanEq *tmp234 @tick .MESSAGE_TIMEOUT
   815 jump *label154 equal *tmp234 false
   816 set .MESSAGE ""
-    * set *tmp235 .MESSAGE
   817 jump *label155 always
   818 label *label154
-    * set *tmp235 null
   819 label *label155
   820 jump *label135 always
   821 label *label134
 
   860 op greaterThan *tmp240 .CHANGE 0
   861 jump *label160 equal *tmp240 false
   862 print "\n[][salmon]Cannot acquire additional units![]"
-    * set *tmp241 "\n[][salmon]Cannot acquire additional units![]"
   863 jump *label161 always
   864 label *label160
-    * set *tmp241 null
   865 label *label161
   866 jump *label157 always
   867 label *label156
 
   890 print .REMOTE_MARGIN
   891 print "["
   892 print "])"
-    * set *tmp247 null
   893 jump *label167 always
   894 label *label166
-    * set *tmp247 null
   895 label *label167
   896 jump *label165 always
   897 label *label164
 
   972 op notEqual *tmp263 .CONTAINER *tmp262
   973 jump *label178 equal *tmp263 false
   974 jump *label79 always
-    * set *tmp264 null
   975 jump *label179 always
   976 label *label178
-    * set *tmp264 null
   977 label *label179
   978 jump *label92 always
   979 label *label91
 
   985 jump *label182 equal *tmp268 false
   986 op sub .CHANGE .CHANGE 1
   987 ucontrol flag 1
-    * set *tmp269 null
   988 jump *label183 always
   989 label *label182
-    * set *tmp269 null
   990 label *label183
   991 jump *label181 always
   992 label *label180
 
  1015 label *label192
  1016 set *tmp284 null
  1017 label *label193
-    * set *tmp281 *tmp284
  1018 jump *label191 always
  1019 label *label190
-    * set *tmp281 null
  1020 label *label191
  1021 jump *label189 always
  1022 label *label188
 
  1027 op equal *tmp288 *tmp287 0
  1028 jump *label196 equal *tmp288 false
  1029 set :state 2
-    * set *tmp289 :state
  1030 jump *label197 always
  1031 label *label196
  1032 sensor *tmp290 @unit @firstItem
 
  1048 print "Unloading previous items: [green]"
  1049 set *tmp292 null
  1050 label *label199
-    * set *tmp289 *tmp292
  1051 label *label197
  1052 jump *label195 always
  1053 label *label194
 
  1058 ucontrol within .SRC_X .SRC_Y 8 *tmp297
  1059 jump *label204 equal *tmp297 false
  1060 set :state 3
-    * set *tmp298 :state
  1061 jump *label205 always
  1062 label *label204
  1063 sensor *tmp299 @unit @x
 
  1073 print *tmp305
  1074 print " "
  1075 print "sec[] to source: [green]"
-    * set *tmp298 null
  1076 label *label205
  1077 jump *label203 always
  1078 label *label202
 
  1092 op greaterThanEq *tmp313 *tmp312 .UNIT_CAPACITY
  1093 jump *label210 equal *tmp313 false
  1094 set :state 4
-    * set *tmp314 :state
  1095 jump *label211 always
  1096 label *label210
  1097 print "[]"
 
  1101 op add :wait_time :wait_time :loop_time_ms
  1102 op mul *tmp315 :loop_time_ms .SRC_REMOTE_WAIT
  1103 op add :remote_wait_time :remote_wait_time *tmp315
-    * set *tmp314 :remote_wait_time
  1104 label *label211
  1105 jump *label207 always
  1106 label *label206
 
  1114 op add :transferred :transferred *tmp320
  1115 op add :transfers :transfers 1
  1116 set :state 5
-    * set *tmp319 :state
  1117 jump *label215 always
  1118 label *label214
  1119 sensor *tmp321 @unit @x
 
  1129 print *tmp327
  1130 print " "
  1131 print "sec[] to destination: [green]"
-    * set *tmp319 null
  1132 label *label215
  1133 jump *label213 always
  1134 label *label212
 
  1171 print "Going to source: [green]"
  1172 set *tmp337 null
  1173 label *label223
-    * set *tmp336 *tmp337
  1174 jump *label221 always
  1175 label *label220
  1176 print "[]"
 
  1180 op add :wait_time :wait_time :loop_time_ms
  1181 op mul *tmp345 :loop_time_ms .DST_REMOTE_WAIT
  1182 op add :remote_wait_time :remote_wait_time *tmp345
-    * set *tmp336 :remote_wait_time
  1183 label *label221
  1184 jump *label217 always
  1185 label *label216
 
  1207 label *label228
  1208 set *tmp353 null
  1209 label *label229
-    * set *tmp350 *tmp353
  1210 jump *label227 always
  1211 label *label226
-    * set *tmp350 null
  1212 label *label227
  1213 jump *label225 always
  1214 label *label224
 
  1217 print :items
  1218 print .ITEM_ICON
  1219 ucontrol flag :state
-    * set *tmp275 null
  1220 jump *label187 always
  1221 label *label186
-    * set *tmp275 null
  1222 label *label187
  1223 jump *label185 always
  1224 label *label184

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-8 instructions):
 
  1010 jump *label192 equal *tmp283 false
  1011 op add .CHANGE .CHANGE 1
  1012 set :state 6
-    * set *tmp284 :state
  1013 jump *label193 always
  1014 label *label192
-    * set *tmp284 null
  1015 label *label193
  1016 jump *label191 always
  1017 label *label190
 
  1031 op equal *tmp291 *tmp290 .ITEM
  1032 jump *label198 equal *tmp291 false
  1033 set :state 4
-    * set *tmp292 :state
  1034 jump *label199 always
  1035 label *label198
  1036 ucontrol approach .DROP_X .DROP_Y 6
 
  1043 print "[]"
  1044 print "\n"
  1045 print "Unloading previous items: [green]"
-    * set *tmp292 null
  1046 label *label199
  1047 label *label197
  1048 jump *label195 always
 
  1159 print *tmp344
  1160 print " "
  1161 print "sec[] to source: [green]"
-    * set *tmp337 null
  1162 jump *label223 always
  1163 label *label222
  1164 print "[]"
  1165 print "\n"
  1166 print "Going to source: [green]"
-    * set *tmp337 null
  1167 label *label223
  1168 jump *label221 always
  1169 label *label220
 
  1196 jump *label228 equal *tmp352 false
  1197 ucontrol move .PARK_X .PARK_Y
  1198 set :state .S_UNUSED
-    * set *tmp353 :state
  1199 jump *label229 always
  1200 label *label228
-    * set *tmp353 null
  1201 label *label229
  1202 jump *label227 always
  1203 label *label226

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-97 instructions):
 
    14 set .CORE_X .CORE_Y
    15 set .CONTAINER_INDEX .CORE_X
    16 set .MESSAGE ""
-    * op max *tmp0 LOCAL_LIMIT 20
-    * set .EFF_LOCAL_LIMIT *tmp0
-    * op max *tmp1 REMOTE_LIMIT 20
-    * set .EFF_REMOTE_LIMIT *tmp1
+   17 op max .EFF_LOCAL_LIMIT LOCAL_LIMIT 20
+   18 op max .EFF_REMOTE_LIMIT REMOTE_LIMIT 20
    19 set .EFF_AUTO_ALLOCATION AUTO_ALLOCATION
    20 set .TRIGGER_LEVEL 0.9
-    * op mul *tmp2 -1 HOUSEKEEPING
-    * set .S_UNUSED *tmp2
+   21 op mul .S_UNUSED -1 HOUSEKEEPING
    22 set .LOOPS 1
    23 op mul *tmp3 .LOOPS 1000
-    * op div *tmp4 *tmp3 60
-    * set .LOOPS_TICKS_TO_MS *tmp4
+   24 op div .LOOPS_TICKS_TO_MS *tmp3 60
    25 set .INC_OVERALLOCATION OVERALLOCATION_LOW
-    * op add *tmp5 1 OVERALLOCATION_HIGH
-    * set .DEC_OVERALLOCATION *tmp5
+   26 op add .DEC_OVERALLOCATION 1 OVERALLOCATION_HIGH
    27 set .TRIGGER_BOOST 2
    28 set .INC_MAX 6
    29 set .DEC_MAX -1
 
    40 label *label1
    41 jump *label0 always
    42 label *label2
-    * set *tmp7 @unit
-    * set :first_unit *tmp7
+   43 set :first_unit @unit
    44 sensor *tmp8 @unit @speed
-    * op div *tmp9 *tmp8 10
-    * set .SPEED_SEC *tmp9
+   45 op div .SPEED_SEC *tmp8 10
    46 sensor *tmp10 @unit @speed
-    * op div *tmp11 *tmp10 1000
-    * set .SPEED *tmp11
+   47 op div .SPEED *tmp10 1000
    48 set .TARGET 0
    49 set :repeat true
    50 label *label3
 
    52 sensor *tmp12 @unit @controller
    53 op equal *tmp13 *tmp12 @this
    54 jump *label6 equal *tmp13 false
-    * sensor *tmp15 @unit @flag
-    * set :state *tmp15
+   55 sensor :state @unit @flag
    56 op greaterThanEq *tmp16 :state 1
    57 jump *label8 equal *tmp16 false
    58 label *label11
 
    91 set :active .TARGET
    92 set .DEC_LIMIT 0
    93 set .INC_LIMIT 0
-    * sensor *tmp23 @unit @itemCapacity
-    * set .UNIT_CAPACITY *tmp23
+   94 sensor .UNIT_CAPACITY @unit @itemCapacity
    95 set :first_unit null
    96 label *label16
    97 jump *label18 equal true false
    98 set .CONTAINER null
    99 set .DROP_TARGET null
-    * set *tmp24 @links
-    * set :n *tmp24
+  100 set :n @links
   101 label *label19
   102 op greaterThan *tmp25 :n 0
   103 jump *label21 equal *tmp25 false
-    * op sub *tmp26 :n 1
-    * set :n *tmp26
-    * getlink *tmp27 :n
-    * set :block *tmp27
+  104 op sub :n :n 1
+  105 getlink :block :n
   106 sensor *tmp29 :block @type
   107 jump *label24 equal *tmp29 @vault
   108 jump *label24 equal *tmp29 @container
 
   140 sensor *tmp36 @unit @controlled
   141 op equal *tmp37 *tmp36 0
   142 jump *label32 equal *tmp37 false
-    * ulocate building core false @copper .CORE_X .CORE_Y *tmp40 *tmp39
-    * set .CORE *tmp39
+  143 ulocate building core false @copper .CORE_X .CORE_Y *tmp40 .CORE
   144 ucontrol flag .S_UNUSED
   145 jump *label33 always
   146 label *label32
 
   160 label *label34
   161 op equal *tmp41 .CORE null
   162 jump *label36 equal *tmp41 false
-    * op add *tmp42 99999900 LINK_ID
-    * set .QUERY_FLAG *tmp42
+  163 op add .QUERY_FLAG 99999900 LINK_ID
   164 set :flag .QUERY_FLAG
   165 ubind UNIT
   166 label *label37
 
   182 jump *label43 always
   183 label *label43
   184 ucontrol stop
-    * sensor *tmp48 @unit @flag
-    * set :flag *tmp48
+  185 sensor :flag @unit @flag
   186 label *label41
   187 jump *label40 always
   188 label *label42
   189 op notEqual *tmp49 :flag .QUERY_FLAG
   190 jump *label45 equal *tmp49 false
-    * op idiv *tmp51 :flag 100
-    * set :position *tmp51
-    * op mod *tmp52 :position @mapw
-    * set .CORE_X *tmp52
-    * op idiv *tmp53 :position @mapw
-    * set .CORE_Y *tmp53
+  191 op idiv :position :flag 100
+  192 op mod .CORE_X :position @mapw
+  193 op idiv .CORE_Y :position @mapw
   194 label *label47
   195 sensor *tmp54 @unit @dead
   196 op equal *tmp55 *tmp54 0
 
   205 label *label48
   206 jump *label47 always
   207 label *label49
-    * ucontrol getBlock .CORE_X .CORE_Y :b_type *tmp58 *tmp59
-    * set .CORE *tmp58
+  208 ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE *tmp59
   209 op notEqual *tmp60 :b_type @vault
   210 jump *label52 equal *tmp60 false
   211 print "[salmon]Building at "
 
   230 set .DISCARD_UNIT_MAX_ITEMS 0
   231 label *label28
   232 set .SORTER sorter1
-    * sensor *tmp62 .SORTER @type
-    * set :sorter_type *tmp62
+  233 sensor :sorter_type .SORTER @type
   234 label *label54
   235 op notEqual *tmp63 :sorter_type @sorter
   236 jump *label56 equal *tmp63 false
 
   250 label *label60
   251 printflush message1
   252 set .SORTER sorter1
-    * sensor *tmp67 .SORTER @type
-    * set :sorter_type *tmp67
+  253 sensor :sorter_type .SORTER @type
   254 label *label55
   255 jump *label54 always
   256 label *label56
 
   259 set .SHOW_REMOTE_LEVEL true
   260 set .SRC .CORE
   261 set .DST .CONTAINER
-    * sensor *tmp70 .SRC @itemCapacity
-    * set :src_capacity *tmp70
-    * sensor *tmp71 .DST @itemCapacity
-    * set :dst_capacity *tmp71
+  262 sensor :src_capacity .SRC @itemCapacity
+  263 sensor :dst_capacity .DST @itemCapacity
   264 op sub *tmp72 100 .EFF_REMOTE_LIMIT
   265 op mul *tmp73 :src_capacity *tmp72
-    * op idiv *tmp74 *tmp73 100
-    * set .LOAD_LEVEL *tmp74
+  266 op idiv .LOAD_LEVEL *tmp73 100
   267 op mul *tmp75 :dst_capacity .EFF_LOCAL_LIMIT
-    * op idiv *tmp76 *tmp75 100
-    * set .DROP_LEVEL *tmp76
+  268 op idiv .DROP_LEVEL *tmp75 100
   269 set .LOCAL_MARGIN .DROP_LEVEL
   270 set .REMOTE_MARGIN .LOAD_LEVEL
   271 op sub *tmp77 1 .TRIGGER_LEVEL
-    * op mul *tmp78 :dst_capacity *tmp77
-    * set .LOW_LEVEL_TRIGGER *tmp78
+  272 op mul .LOW_LEVEL_TRIGGER :dst_capacity *tmp77
   273 set .HIGH_LEVEL_TRIGGER :dst_capacity
   274 set .FLOW_CORR_SIGN 1
   275 set .SRC_REMOTE_WAIT 1
 
   284 set .DIRECTION *tmp80
   285 jump *label62 always
   286 label *label61
-    * op greaterThan *tmp81 LINK_ID 0
-    * set .SHOW_REMOTE_LEVEL *tmp81
+  287 op greaterThan .SHOW_REMOTE_LEVEL LINK_ID 0
   288 set .SRC .CONTAINER
   289 set .DST .CORE
-    * sensor *tmp82 .SRC @itemCapacity
-    * set :src_capacity *tmp82
-    * sensor *tmp83 .DST @itemCapacity
-    * set :dst_capacity *tmp83
+  290 sensor :src_capacity .SRC @itemCapacity
+  291 sensor :dst_capacity .DST @itemCapacity
   292 op sub *tmp84 100 .EFF_LOCAL_LIMIT
   293 op mul *tmp85 :src_capacity *tmp84
-    * op idiv *tmp86 *tmp85 100
-    * set .LOAD_LEVEL *tmp86
+  294 op idiv .LOAD_LEVEL *tmp85 100
   295 op mul *tmp87 :dst_capacity .EFF_REMOTE_LIMIT
   296 op idiv *tmp88 *tmp87 100
   297 op equal *tmp89 LINK_ID 0
   298 op mul *tmp90 *tmp89 .UNIT_CAPACITY
-    * op add *tmp91 *tmp88 *tmp90
-    * set .DROP_LEVEL *tmp91
+  299 op add .DROP_LEVEL *tmp88 *tmp90
   300 set .LOCAL_MARGIN .LOAD_LEVEL
   301 set .REMOTE_MARGIN .DROP_LEVEL
-    * op mul *tmp92 :src_capacity .TRIGGER_LEVEL
-    * set .HIGH_LEVEL_TRIGGER *tmp92
+  302 op mul .HIGH_LEVEL_TRIGGER :src_capacity .TRIGGER_LEVEL
   303 set .LOW_LEVEL_TRIGGER 0
   304 set .FLOW_CORR_SIGN -1
   305 set .SRC_REMOTE_WAIT 0
 
   322 label *label68
   323 set .LINK_TXT *tmp96
   324 op sub *tmp97 :src_capacity .LOAD_LEVEL
-    * op min *tmp98 .UNIT_CAPACITY *tmp97
-    * set .LOAD_PACK *tmp98
-    * op min *tmp99 .UNIT_CAPACITY .DROP_LEVEL
-    * set .DROP_PACK *tmp99
-    * sensor *tmp100 .SRC @x
-    * set .SRC_X *tmp100
-    * sensor *tmp101 .SRC @y
-    * set .SRC_Y *tmp101
-    * sensor *tmp102 .DST @x
-    * set .DST_X *tmp102
-    * sensor *tmp103 .DST @y
-    * set .DST_Y *tmp103
+  325 op min .LOAD_PACK .UNIT_CAPACITY *tmp97
+  326 op min .DROP_PACK .UNIT_CAPACITY .DROP_LEVEL
+  327 sensor .SRC_X .SRC @x
+  328 sensor .SRC_Y .SRC @y
+  329 sensor .DST_X .DST @x
+  330 sensor .DST_Y .DST @y
   331 op sub *tmp104 .DST_X .SRC_X
   332 op sub *tmp105 .DST_Y .SRC_Y
   333 op len *tmp106 *tmp104 *tmp105
   334 op sub *tmp107 *tmp106 6
-    * op sub *tmp108 *tmp107 8
-    * set .DISTANCE *tmp108
+  335 op sub .DISTANCE *tmp107 8
   336 op max *tmp109 .DISTANCE 10
   337 op mul *tmp110 2 *tmp109
-    * op div *tmp111 *tmp110 .SPEED
-    * set .TRAVEL_TIME *tmp111
+  338 op div .TRAVEL_TIME *tmp110 .SPEED
   339 op sub *tmp112 .DST_X .SRC_X
   340 op sub *tmp113 .DST_Y .SRC_Y
   341 op len *tmp114 *tmp112 *tmp113
   342 op sub *tmp115 *tmp114 6
-    * op div *tmp116 *tmp115 100
-    * set .DISTANCE *tmp116
+  343 op div .DISTANCE *tmp115 100
   344 op equal *tmp117 .DROP_TARGET null
   345 jump *label69 equal *tmp117 false
   346 set .DROP_TARGET .CORE
 
   354 label *label71
   355 set *tmp121 -15
   356 label *label72
-    * op add *tmp122 .CORE_X *tmp121
-    * set .PARK_X *tmp122
+  357 op add .PARK_X .CORE_X *tmp121
   358 sensor *tmp123 .CONTAINER @y
   359 op lessThan *tmp124 *tmp123 .CORE_Y
   360 jump *label73 equal *tmp124 false
 
   363 label *label73
   364 set *tmp125 -15
   365 label *label74
-    * op add *tmp126 .CORE_Y *tmp125
-    * set .PARK_Y *tmp126
+  366 op add .PARK_Y .CORE_Y *tmp125
   367 op equal *tmp127 LINK_ID 0
-    * op mul *tmp128 *tmp127 .UNIT_CAPACITY
-    * set .PARK_ITEM_LIMIT *tmp128
+  368 op mul .PARK_ITEM_LIMIT *tmp127 .UNIT_CAPACITY
   369 jump *label70 always
   370 label *label69
-    * sensor *tmp129 .DROP_TARGET @x
-    * set .DROP_X *tmp129
-    * sensor *tmp130 .DROP_TARGET @y
-    * set .DROP_Y *tmp130
+  371 sensor .DROP_X .DROP_TARGET @x
+  372 sensor .DROP_Y .DROP_TARGET @y
   373 set .PARK_X .DROP_X
   374 set .PARK_Y .DROP_Y
   375 set .PARK_ITEM_LIMIT 0
   376 label *label70
-    * set *tmp131 @tick
-    * set .TRANSFER_START *tmp131
-    * op sub *tmp132 @tick 60
-    * set .LOOP_START *tmp132
+  377 set .TRANSFER_START @tick
+  378 op sub .LOOP_START @tick 60
   379 set .LAST_ITEM @mono
-    * op add *tmp133 @tick 600
-    * set .MESSAGE_TIMEOUT *tmp133
+  380 op add .MESSAGE_TIMEOUT @tick 600
   381 set .WAIT_LIMIT 30000
   382 set :items_in_transit 0
   383 set :items_per_min_unit "--"
 
   428 set .EFF_AUTO_ALLOCATION false
   429 set .AUTO_ALLOCATION_TXT ""
   430 op add *tmp139 .TARGET 1
-    * op min *tmp140 *tmp139 MAX_UNITS
-    * set .TARGET *tmp140
+  431 op min .TARGET *tmp139 MAX_UNITS
   432 set .CORR_SIGN "[]"
   433 set :corr_per_min ""
   434 set .SPEED_UNIT_TXT "/min"
 
   452 label *label87
   453 set .EFF_AUTO_ALLOCATION false
   454 op sub *tmp146 .TARGET 1
-    * op max *tmp147 *tmp146 0
-    * set .TARGET *tmp147
+  455 op max .TARGET *tmp146 0
   456 set .CORR_SIGN "[]"
   457 set :corr_per_min ""
   458 set .SPEED_UNIT_TXT "/min"
 
   470 label *label85
   471 label *label86
   472 sensor *tmp150 :first_unit @dead
-    * op strictEqual *tmp151 *tmp150 0
-    * set :alive *tmp151
+  473 op strictEqual :alive *tmp150 0
   474 op strictEqual *tmp152 @unit :first_unit
   475 op lessThanEq *tmp153 :alive *tmp152
   476 jump *label91 equal *tmp153 false
 
   482 label *label94
   483 printflush message2
   484 set .STATE_LIMIT 6
-    * sensor *tmp157 .SORTER @config
-    * set .ITEM *tmp157
+  485 sensor .ITEM .SORTER @config
   486 op notEqual *tmp158 .ITEM .LAST_ITEM
   487 jump *label95 equal *tmp158 false
   488 label *label97
 
   490 jump *label99 equal *tmp160 false
   491 print "[salmon]No item type selected for transport.[]"
   492 printflush message1
-    * sensor *tmp161 .SORTER @config
-    * set .ITEM *tmp161
+  493 sensor .ITEM .SORTER @config
   494 label *label98
   495 jump *label97 always
   496 label *label99
 
   598 label *label100
   599 set .ITEM_ICON *tmp162
   600 set .STATE_LIMIT 1
-    * sensor *tmp165 .CONTAINER .ITEM
-    * set :last_level *tmp165
+  601 sensor :last_level .CONTAINER .ITEM
   602 set :min_level 999999
   603 set :max_level 0
   604 jump *label96 always
   605 label *label95
   606 label *label96
-    * sensor *tmp166 .CONTAINER .ITEM
-    * set :container_items *tmp166
-    * op min *tmp167 :min_level :container_items
-    * set :min_level *tmp167
-    * op max *tmp168 :max_level :container_items
-    * set :max_level *tmp168
-    * op sub *tmp169 @tick .LOOP_START
-    * set :loop_time *tmp169
-    * set *tmp170 @tick
-    * set .LOOP_START *tmp170
+  607 sensor :container_items .CONTAINER .ITEM
+  608 op min :min_level :min_level :container_items
+  609 op max :max_level :max_level :container_items
+  610 op sub :loop_time @tick .LOOP_START
+  611 set .LOOP_START @tick
   612 op mul *tmp171 :loop_time 100
-    * op idiv *tmp172 *tmp171 6
-    * set :loop_time_ms *tmp172
+  613 op idiv :loop_time_ms *tmp171 6
   614 op greaterThanEq *tmp173 :transfers :active
   615 jump *label136 notEqual *tmp173 false
   616 label *label137
 
   620 label *label136
   621 op div *tmp176 :wait_time 100
   622 op ceil *tmp177 *tmp176
-    * op div *tmp178 *tmp177 10
-    * set :wait_time_str *tmp178
-    * op sub *tmp179 @tick .TRANSFER_START
-    * set :elapsed_ticks *tmp179
-    * set *tmp180 @tick
-    * set .TRANSFER_START *tmp180
-    * op div *tmp181 :elapsed_ticks 0.06
-    * set :elapsed_ms *tmp181
+  623 op div :wait_time_str *tmp177 10
+  624 op sub :elapsed_ticks @tick .TRANSFER_START
+  625 set .TRANSFER_START @tick
+  626 op div :elapsed_ms :elapsed_ticks 0.06
   627 op idiv *tmp182 :elapsed_ms 100
-    * op div *tmp183 *tmp182 10
-    * set :elapsed_str *tmp183
-    * op div *tmp184 :transferred :elapsed_ms
-    * set :items_per_ms *tmp184
-    * op idiv *tmp185 :items_per_ms 0.000016666666666666667
-    * set :items_per_min *tmp185
+  628 op div :elapsed_str *tmp182 10
+  629 op div :items_per_ms :transferred :elapsed_ms
+  630 op idiv :items_per_min :items_per_ms 0.000016666666666666667
   631 set :transferred 0
   632 set :transfers 0
   633 jump *label138 equal .EFF_AUTO_ALLOCATION false
   634 set .AUTO_ALLOCATION_TXT "\n=== [gold]Unit auto allocation[] ==="
   635 op mul *tmp187 .LOOPS_TICKS_TO_MS :loop_time
-    * op add *tmp188 .TRAVEL_TIME *tmp187
-    * set :turnaround_ms *tmp188
-    * op mul *tmp189 :turnaround_ms .DEC_OVERALLOCATION
-    * set .WAIT_LIMIT *tmp189
+  636 op add :turnaround_ms .TRAVEL_TIME *tmp187
+  637 op mul .WAIT_LIMIT :turnaround_ms .DEC_OVERALLOCATION
   638 op idiv *tmp190 :turnaround_ms 100
-    * op div *tmp191 *tmp190 10
-    * set :turnaround_str *tmp191
-    * op div *tmp192 .UNIT_CAPACITY :turnaround_ms
-    * set :items_per_ms_unit *tmp192
+  639 op div :turnaround_str *tmp190 10
+  640 op div :items_per_ms_unit .UNIT_CAPACITY :turnaround_ms
   641 op mul *tmp193 :items_per_ms_unit 60000
-    * op floor *tmp194 *tmp193
-    * set :items_per_min_unit *tmp194
+  642 op floor :items_per_min_unit *tmp193
   643 op add *tmp195 :min_level :max_level
-    * op div *tmp196 *tmp195 2
-    * set :this_level *tmp196
+  644 op div :this_level *tmp195 2
   645 op sub *tmp197 :last_level :this_level
-    * op mul *tmp198 *tmp197 .FLOW_CORR_SIGN
-    * set :corr *tmp198
-    * op div *tmp199 :corr :elapsed_ms
-    * set :corr_per_ms *tmp199
+  646 op mul :corr *tmp197 .FLOW_CORR_SIGN
+  647 op div :corr_per_ms :corr :elapsed_ms
   648 set :last_level :this_level
-    * op add *tmp200 :items_per_ms :corr_per_ms
-    * set :total_flow_per_ms *tmp200
+  649 op add :total_flow_per_ms :items_per_ms :corr_per_ms
   650 op mul *tmp201 60000 :corr_per_ms
-    * op floor *tmp202 *tmp201
-    * set :corr_per_min *tmp202
+  651 op floor :corr_per_min *tmp201
   652 set .CORR_SIGN "[]([green]"
   653 op greaterThanEq *tmp203 :corr_per_min 0
   654 jump *label140 equal *tmp203 false
 
   684 set :total_flow_1 :total_flow_per_ms
   685 op add *tmp213 :total_flow_3 :total_flow_2
   686 op add *tmp214 *tmp213 :total_flow_1
-    * op div *tmp215 *tmp214 3
-    * set :total_flow_per_ms *tmp215
+  687 op div :total_flow_per_ms *tmp214 3
   688 jump *label153 always
   689 label *label152
   690 label *label153
   691 op div *tmp216 :total_flow_per_ms :items_per_ms_unit
   692 op add *tmp217 *tmp216 .INC_OVERALLOCATION
-    * op ceil *tmp218 *tmp217
-    * set :new_target *tmp218
-    * op mul *tmp219 .TRIGGER_BOOST :trigger
-    * set :level_boost *tmp219
+  693 op ceil :new_target *tmp217
+  694 op mul :level_boost .TRIGGER_BOOST :trigger
   695 op add *tmp220 :new_target :level_boost
-    * op min *tmp221 *tmp220 MAX_UNITS
-    * set :new_target *tmp221
+  696 op min :new_target *tmp220 MAX_UNITS
   697 op sub *tmp222 :new_target :active
   698 op max *tmp223 *tmp222 0
-    * op min *tmp224 *tmp223 .INC_LIMIT
-    * set :new_change *tmp224
+  699 op min :new_change *tmp223 .INC_LIMIT
   700 set .INC_LIMIT .INC_MAX
   701 op lessThanEq *tmp225 :new_change 0
-    * op mul *tmp226 *tmp225 .DEC_MAX
-    * set .DEC_LIMIT *tmp226
+  702 op mul .DEC_LIMIT *tmp225 .DEC_MAX
   703 jump *label149 always
   704 label *label148
   705 op idiv *tmp227 :wait_time .WAIT_LIMIT
   706 op mul *tmp228 -1 *tmp227
-    * op max *tmp229 *tmp228 .DEC_LIMIT
-    * set :new_change *tmp229
+  707 op max :new_change *tmp228 .DEC_LIMIT
   708 op greaterThanEq *tmp230 :new_change 0
-    * op mul *tmp231 *tmp230 .INC_MAX
-    * set .INC_LIMIT *tmp231
+  709 op mul .INC_LIMIT *tmp230 .INC_MAX
   710 set .DEC_LIMIT .DEC_MAX
   711 label *label149
   712 op add *tmp232 :active :new_change
-    * op max *tmp233 *tmp232 1
-    * set .TARGET *tmp233
+  713 op max .TARGET *tmp232 1
   714 jump *label143 always
   715 label *label142
   716 set .INC_LIMIT 0
 
   791 label *label162
   792 label *label163
   793 jump *label164 equal .SHOW_REMOTE_LEVEL false
-    * sensor *tmp245 .CORE .ITEM
-    * set :remote_level *tmp245
+  794 sensor :remote_level .CORE .ITEM
   795 print "\n"
   796 print "[]Remote items: [gold]"
   797 print :remote_level
 
   851 print " "
   852 print "ms"
   853 printflush message1
-    * op sub *tmp251 .TARGET :active
-    * set .CHANGE *tmp251
+  854 op sub .CHANGE .TARGET :active
   855 set :active 0
-    * set *tmp252 @unit
-    * set :first_unit *tmp252
+  856 set :first_unit @unit
   857 set :items_in_transit 0
   858 print "Unit status:"
   859 sensor *tmp253 .SRC @dead
 
   903 sensor *tmp270 @unit @controller
   904 op equal *tmp271 *tmp270 @this
   905 jump *label184 equal *tmp271 false
-    * sensor *tmp273 @unit @flag
-    * set :state *tmp273
+  906 sensor :state @unit @flag
   907 op notEqual *tmp274 :state .S_UNUSED
   908 jump *label186 equal *tmp274 false
   909 op max *tmp276 :state 1
-    * op min *tmp277 *tmp276 .STATE_LIMIT
-    * set :state *tmp277
+  910 op min :state *tmp276 .STATE_LIMIT
   911 op lessThan *tmp278 .CHANGE 0
   912 jump *label188 equal *tmp278 false
   913 op notEqual *tmp280 :state 6
 
   983 op equal *tmp306 :state 3
   984 jump *label206 equal *tmp306 false
   985 sensor *tmp308 .SRC .ITEM
-    * op sub *tmp309 *tmp308 .LOAD_LEVEL
-    * set :max_load *tmp309
+  986 op sub :max_load *tmp308 .LOAD_LEVEL
   987 op greaterThanEq *tmp310 :max_load .LOAD_PACK
   988 jump *label208 equal *tmp310 false
   989 ucontrol itemTake .SRC .ITEM :max_load
 
  1038 op equal *tmp328 :state 5
  1039 jump *label216 equal *tmp328 false
  1040 sensor *tmp330 .DST .ITEM
-    * op sub *tmp331 .DROP_LEVEL *tmp330
-    * set :max_drop *tmp331
+ 1041 op sub :max_drop .DROP_LEVEL *tmp330
  1042 op greaterThanEq *tmp332 :max_drop .DROP_PACK
  1043 jump *label218 equal *tmp332 false
  1044 ucontrol itemDrop .DST :max_drop
 
  1083 jump *label217 always
  1084 label *label216
  1085 label *label217
-    * sensor *tmp346 @unit @totalItems
-    * set :items *tmp346
+ 1086 sensor :items @unit @totalItems
  1087 op add :items_in_transit :items_in_transit :items
  1088 op equal *tmp347 :state 6
  1089 jump *label224 equal *tmp347 false
 
  1094 ucontrol within .DROP_X .DROP_Y 8 *tmp349
  1095 jump *label226 equal *tmp349 false
  1096 ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
-    * sensor *tmp351 @unit @totalItems
-    * set :items *tmp351
+ 1097 sensor :items @unit @totalItems
  1098 op lessThanEq *tmp352 :items .PARK_ITEM_LIMIT
  1099 jump *label228 equal *tmp352 false
  1100 ucontrol move .PARK_X .PARK_Y

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-3 instructions):
 
    94 sensor .UNIT_CAPACITY @unit @itemCapacity
    95 set :first_unit null
    96 label *label16
-    * jump *label18 equal true false
    97 set .CONTAINER null
    98 set .DROP_TARGET null
    99 set :n @links
 
   407 set .AUTO_ALLOCATION_TXT ""
   408 label *label76
   409 label *label77
-    * jump *label79 equal true false
   410 ubind UNIT
   411 label *label80
   412 op equal *tmp135 @unit null
 
  1048 jump *label220 equal *tmp335 false
  1049 set :state 2
  1050 ucontrol approach .SRC_X .SRC_Y 6
-    * jump *label222 equal true false
  1051 sensor *tmp338 @unit @x
  1052 op sub *tmp339 .SRC_X *tmp338
  1053 sensor *tmp340 @unit @y

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-21 instructions):
 
   104 getlink :block :n
   105 sensor *tmp29 :block @type
   106 jump *label24 equal *tmp29 @vault
-    * jump *label24 equal *tmp29 @container
-    * jump *label23 always
+  107 jump *label23 notEqual *tmp29 @container
   108 label *label24
   109 set .DROP_TARGET .CONTAINER
   110 set .CONTAINER :block
 
   493 label *label99
   494 set .LAST_ITEM .ITEM
   495 set :itemTypeToIcon:itemType .ITEM
-    * jump *label103 equal :itemTypeToIcon:itemType @blast-compound
-    * jump *label102 always
+  496 jump *label102 notEqual :itemTypeToIcon:itemType @blast-compound
   497 label *label103
   498 set *tmp163 "[]"
   499 jump *label101 always
   500 label *label102
-    * jump *label105 equal :itemTypeToIcon:itemType @coal
-    * jump *label104 always
+  501 jump *label104 notEqual :itemTypeToIcon:itemType @coal
   502 label *label105
   503 set *tmp163 "[]"
   504 jump *label101 always
   505 label *label104
-    * jump *label107 equal :itemTypeToIcon:itemType @copper
-    * jump *label106 always
+  506 jump *label106 notEqual :itemTypeToIcon:itemType @copper
   507 label *label107
   508 set *tmp163 "[]"
   509 jump *label101 always
   510 label *label106
-    * jump *label109 equal :itemTypeToIcon:itemType @graphite
-    * jump *label108 always
+  511 jump *label108 notEqual :itemTypeToIcon:itemType @graphite
   512 label *label109
   513 set *tmp163 "[]"
   514 jump *label101 always
   515 label *label108
-    * jump *label111 equal :itemTypeToIcon:itemType @lead
-    * jump *label110 always
+  516 jump *label110 notEqual :itemTypeToIcon:itemType @lead
   517 label *label111
   518 set *tmp163 "[]"
   519 jump *label101 always
   520 label *label110
-    * jump *label113 equal :itemTypeToIcon:itemType @metaglass
-    * jump *label112 always
+  521 jump *label112 notEqual :itemTypeToIcon:itemType @metaglass
   522 label *label113
   523 set *tmp163 "[]"
   524 jump *label101 always
   525 label *label112
-    * jump *label115 equal :itemTypeToIcon:itemType @phase-fabric
-    * jump *label114 always
+  526 jump *label114 notEqual :itemTypeToIcon:itemType @phase-fabric
   527 label *label115
   528 set *tmp163 "[]"
   529 jump *label101 always
   530 label *label114
-    * jump *label117 equal :itemTypeToIcon:itemType @plastanium
-    * jump *label116 always
+  531 jump *label116 notEqual :itemTypeToIcon:itemType @plastanium
   532 label *label117
   533 set *tmp163 "[]"
   534 jump *label101 always
   535 label *label116
-    * jump *label119 equal :itemTypeToIcon:itemType @pyratite
-    * jump *label118 always
+  536 jump *label118 notEqual :itemTypeToIcon:itemType @pyratite
   537 label *label119
   538 set *tmp163 "[]"
   539 jump *label101 always
   540 label *label118
-    * jump *label121 equal :itemTypeToIcon:itemType @sand
-    * jump *label120 always
+  541 jump *label120 notEqual :itemTypeToIcon:itemType @sand
   542 label *label121
   543 set *tmp163 "[]"
   544 jump *label101 always
   545 label *label120
-    * jump *label123 equal :itemTypeToIcon:itemType @scrap
-    * jump *label122 always
+  546 jump *label122 notEqual :itemTypeToIcon:itemType @scrap
   547 label *label123
   548 set *tmp163 "[]"
   549 jump *label101 always
   550 label *label122
-    * jump *label125 equal :itemTypeToIcon:itemType @silicon
-    * jump *label124 always
+  551 jump *label124 notEqual :itemTypeToIcon:itemType @silicon
   552 label *label125
   553 set *tmp163 "[]"
   554 jump *label101 always
   555 label *label124
-    * jump *label127 equal :itemTypeToIcon:itemType @spore-pod
-    * jump *label126 always
+  556 jump *label126 notEqual :itemTypeToIcon:itemType @spore-pod
   557 label *label127
   558 set *tmp163 "[]"
   559 jump *label101 always
   560 label *label126
-    * jump *label129 equal :itemTypeToIcon:itemType @surge-alloy
-    * jump *label128 always
+  561 jump *label128 notEqual :itemTypeToIcon:itemType @surge-alloy
   562 label *label129
   563 set *tmp163 "[]"
   564 jump *label101 always
   565 label *label128
-    * jump *label131 equal :itemTypeToIcon:itemType @thorium
-    * jump *label130 always
+  566 jump *label130 notEqual :itemTypeToIcon:itemType @thorium
   567 label *label131
   568 set *tmp163 "[]"
   569 jump *label101 always
   570 label *label130
-    * jump *label133 equal :itemTypeToIcon:itemType @titanium
-    * jump *label132 always
+  571 jump *label132 notEqual :itemTypeToIcon:itemType @titanium
   572 label *label133
   573 set *tmp163 "[]"
   574 jump *label101 always
 
   596 jump *label136 notEqual *tmp173 false
   597 label *label137
   598 op greaterThan *tmp174 :wait_time .WAIT_LIMIT
-    * jump *label136 notEqual *tmp174 false
-    * jump *label134 always
+  599 jump *label134 equal *tmp174 false
   600 label *label136
   601 op div *tmp176 :wait_time 100
   602 op ceil *tmp177 *tmp176
 
   642 jump *label146 notEqual *tmp206 false
   643 label *label147
   644 op greaterThan *tmp207 :max_level .HIGH_LEVEL_TRIGGER
-    * jump *label146 notEqual *tmp207 false
-    * jump *label144 always
+  645 jump *label144 equal *tmp207 false
   646 label *label146
   647 set *tmp208 true
   648 jump *label145 always
 
   654 jump *label150 notEqual *tmp209 false
   655 label *label151
   656 op greaterThan *tmp210 :trigger :remote_wait_time
-    * jump *label150 notEqual *tmp210 false
-    * jump *label148 always
+  657 jump *label148 equal *tmp210 false
   658 label *label150
   659 jump *label152 equal STABILIZATION false
   660 set :total_flow_3 :total_flow_2
 
  1115 label *label236
  1116 sensor *tmp358 .DST @dead
  1117 op strictNotEqual *tmp359 *tmp358 0
-    * jump *label235 notEqual *tmp359 false
-    * jump *label233 always
+ 1118 jump *label233 equal *tmp359 false
  1119 label *label235
  1120 label *label237
  1121 sensor *tmp361 switch1 @enabled

Modifications by Iterated phase, Condition Optimization, pass 1, iteration 1 (-74 instructions):
 
    29 set .DEC_MAX -1
    30 ubind UNIT
    31 label *label0
-    * op equal *tmp6 @unit null
-    * jump *label2 equal *tmp6 false
+   32 jump *label2 notEqual @unit null
    33 print "[salmon]No unit of type "
    34 print UNIT
    35 print " "
 
    49 label *label3
    50 jump *label5 equal :repeat false
    51 sensor *tmp12 @unit @controller
-    * op equal *tmp13 *tmp12 @this
-    * jump *label6 equal *tmp13 false
+   52 jump *label6 notEqual *tmp12 @this
    53 sensor :state @unit @flag
-    * op greaterThanEq *tmp16 :state 1
-    * jump *label8 equal *tmp16 false
+   54 jump *label8 lessThan :state 1
    55 label *label11
-    * op lessThan *tmp17 :state 6
-    * jump *label8 equal *tmp17 false
+   56 jump *label8 greaterThanEq :state 6
    57 jump *label10 always
    58 label *label10
    59 set *tmp18 true
 
    66 label *label6
    67 label *label7
    68 ubind UNIT
-    * op notEqual *tmp19 @unit :first_unit
-    * jump *label12 equal *tmp19 false
+   69 jump *label12 equal @unit :first_unit
    70 label *label15
    71 sensor *tmp20 :first_unit @dead
-    * op strictEqual *tmp21 *tmp20 0
-    * jump *label12 equal *tmp21 false
+   72 jump *label12 strictNotEqual *tmp20 0
    73 jump *label14 always
    74 label *label14
    75 set *tmp22 true
 
    92 set .DROP_TARGET null
    93 set :n @links
    94 label *label19
-    * op greaterThan *tmp25 :n 0
-    * jump *label21 equal *tmp25 false
+   95 jump *label21 lessThanEq :n 0
    96 op sub :n :n 1
    97 getlink :block :n
    98 sensor *tmp29 :block @type
 
   108 label *label20
   109 jump *label19 always
   110 label *label21
-    * op equal *tmp31 .CONTAINER null
-    * jump *label25 equal *tmp31 false
+  111 jump *label25 notEqual .CONTAINER null
   112 print "[salmon]No vault or container."
   113 printflush message1
   114 jump *label26 always
 
   119 jump *label16 always
   120 label *label18
   121 set .CORE null
-    * op equal *tmp33 LINK_ID 0
-    * jump *label27 equal *tmp33 false
+  122 jump *label27 notEqual LINK_ID 0
   123 label *label29
-    * op equal *tmp35 .CORE null
-    * jump *label31 equal *tmp35 false
+  124 jump *label31 notEqual .CORE null
   125 print "[green]Locating core..."
   126 printflush message1
   127 ubind UNIT
   128 sensor *tmp36 @unit @controlled
-    * op equal *tmp37 *tmp36 0
-    * jump *label32 equal *tmp37 false
+  129 jump *label32 notEqual *tmp36 0
   130 ulocate building core false @copper .CORE_X .CORE_Y *tmp40 .CORE
   131 ucontrol flag .S_UNUSED
   132 jump *label33 always
 
   145 print ".."
   146 printflush message1
   147 label *label34
-    * op equal *tmp41 .CORE null
-    * jump *label36 equal *tmp41 false
+  148 jump *label36 notEqual .CORE null
   149 op add .QUERY_FLAG 99999900 LINK_ID
   150 set :flag .QUERY_FLAG
   151 ubind UNIT
   152 label *label37
   153 sensor *tmp43 @unit @controlled
-    * op notEqual *tmp44 *tmp43 0
-    * jump *label39 equal *tmp44 false
+  154 jump *label39 equal *tmp43 0
   155 ubind UNIT
   156 label *label38
   157 jump *label37 always
   158 label *label39
   159 ucontrol flag :flag
   160 label *label40
-    * op equal *tmp45 :flag .QUERY_FLAG
-    * jump *label42 equal *tmp45 false
+  161 jump *label42 notEqual :flag .QUERY_FLAG
   162 label *label44
   163 sensor *tmp46 @unit @dead
-    * op equal *tmp47 *tmp46 0
-    * jump *label42 equal *tmp47 false
+  164 jump *label42 notEqual *tmp46 0
   165 jump *label43 always
   166 label *label43
   167 ucontrol stop
 
   169 label *label41
   170 jump *label40 always
   171 label *label42
-    * op notEqual *tmp49 :flag .QUERY_FLAG
-    * jump *label45 equal *tmp49 false
+  172 jump *label45 equal :flag .QUERY_FLAG
   173 op idiv :position :flag 100
   174 op mod .CORE_X :position @mapw
   175 op idiv .CORE_Y :position @mapw
   176 label *label47
   177 sensor *tmp54 @unit @dead
-    * op equal *tmp55 *tmp54 0
-    * jump *label49 equal *tmp55 false
+  178 jump *label49 notEqual *tmp54 0
   179 label *label51
   180 ucontrol within .CORE_X .CORE_Y 8 *tmp56
-    * op equal *tmp57 *tmp56 false
-    * jump *label49 equal *tmp57 false
+  181 jump *label49 notEqual *tmp56 false
   182 jump *label50 always
   183 label *label50
   184 ucontrol approach .CORE_X .CORE_Y 6
 
   186 jump *label47 always
   187 label *label49
   188 ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE *tmp59
-    * op notEqual *tmp60 :b_type @vault
-    * jump *label52 equal *tmp60 false
+  189 jump *label52 equal :b_type @vault
   190 print "[salmon]Building at "
   191 print .CORE_X
   192 print ","
 
   211 set .SORTER sorter1
   212 sensor :sorter_type .SORTER @type
   213 label *label54
-    * op notEqual *tmp63 :sorter_type @sorter
-    * jump *label56 equal *tmp63 false
+  214 jump *label56 equal :sorter_type @sorter
   215 label *label58
-    * op notEqual *tmp64 :sorter_type @inverted-sorter
-    * jump *label56 equal *tmp64 false
+  216 jump *label56 equal :sorter_type @inverted-sorter
   217 jump *label57 always
   218 label *label57
   219 print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter."
   220 print "\n"
-    * op notEqual *tmp65 .SORTER null
-    * jump *label59 equal *tmp65 false
+  221 jump *label59 equal .SORTER null
   222 print "Block found: "
   223 print .SORTER
   224 jump *label60 always
 
   230 label *label55
   231 jump *label54 always
   232 label *label56
-    * op equal *tmp68 :sorter_type @sorter
-    * jump *label61 equal *tmp68 false
+  233 jump *label61 notEqual :sorter_type @sorter
   234 set .SHOW_REMOTE_LEVEL true
   235 set .SRC .CORE
   236 set .DST .CONTAINER
 
   249 set .FLOW_CORR_SIGN 1
   250 set .SRC_REMOTE_WAIT 1
   251 set .DST_REMOTE_WAIT 0
-    * op equal *tmp79 LINK_ID 0
-    * jump *label63 equal *tmp79 false
+  252 jump *label63 notEqual LINK_ID 0
   253 set *tmp80 " from core"
   254 jump *label64 always
   255 label *label63
 
   278 set .FLOW_CORR_SIGN -1
   279 set .SRC_REMOTE_WAIT 0
   280 set .DST_REMOTE_WAIT 1
-    * op equal *tmp93 LINK_ID 0
-    * jump *label65 equal *tmp93 false
+  281 jump *label65 notEqual LINK_ID 0
   282 set *tmp94 " to core"
   283 jump *label66 always
   284 label *label65
 
   286 label *label66
   287 set .DIRECTION *tmp94
   288 label *label62
-    * op equal *tmp95 LINK_ID 0
-    * jump *label67 equal *tmp95 false
+  289 jump *label67 notEqual LINK_ID 0
   290 set *tmp96 ""
   291 jump *label68 always
   292 label *label67
 
   313 op len *tmp114 *tmp112 *tmp113
   314 op sub *tmp115 *tmp114 6
   315 op div .DISTANCE *tmp115 100
-    * op equal *tmp117 .DROP_TARGET null
-    * jump *label69 equal *tmp117 false
+  316 jump *label69 notEqual .DROP_TARGET null
   317 set .DROP_TARGET .CORE
   318 set .DROP_X .CORE_X
   319 set .DROP_Y .CORE_Y
   320 sensor *tmp119 .CONTAINER @x
-    * op lessThan *tmp120 *tmp119 .CORE_X
-    * jump *label71 equal *tmp120 false
+  321 jump *label71 greaterThanEq *tmp119 .CORE_X
   322 set *tmp121 15
   323 jump *label72 always
   324 label *label71
 
   326 label *label72
   327 op add .PARK_X .CORE_X *tmp121
   328 sensor *tmp123 .CONTAINER @y
-    * op lessThan *tmp124 *tmp123 .CORE_Y
-    * jump *label73 equal *tmp124 false
+  329 jump *label73 greaterThanEq *tmp123 .CORE_Y
   330 set *tmp125 15
   331 jump *label74 always
   332 label *label73
 
   379 label *label77
   380 ubind UNIT
   381 label *label80
-    * op equal *tmp135 @unit null
-    * jump *label82 equal *tmp135 false
+  382 jump *label82 notEqual @unit null
   383 print "No unit of type "
   384 print UNIT
   385 print " "
 
   406 sensor *tmp141 switch2 @enabled
   407 jump *label85 equal *tmp141 false
   408 control enabled switch2 false
-    * op lessThan *tmp144 .TARGET 1
-    * jump *label87 equal *tmp144 false
+  409 jump *label87 greaterThanEq .TARGET 1
   410 set .EFF_AUTO_ALLOCATION true
   411 set .TARGET 1
   412 set .DEC_LIMIT 0
 
   422 set .CORR_SIGN "[]"
   423 set :corr_per_min ""
   424 set .SPEED_UNIT_TXT "/min"
-    * op equal *tmp148 .TARGET 0
-    * jump *label89 equal *tmp148 false
+  425 jump *label89 notEqual .TARGET 0
   426 set *tmp149 "\n=== [salmon]Transport deactivated[] ==="
   427 jump *label90 always
   428 label *label89
 
   437 sensor *tmp150 :first_unit @dead
   438 op strictEqual :alive *tmp150 0
   439 op strictEqual *tmp152 @unit :first_unit
-    * op lessThanEq *tmp153 :alive *tmp152
-    * jump *label91 equal *tmp153 false
-    * op equal *tmp155 :active 0
-    * jump *label93 equal *tmp155 false
+  440 jump *label91 greaterThan :alive *tmp152
+  441 jump *label93 notEqual :active 0
   442 print "\n[salmon]No active units.[]"
   443 jump *label94 always
   444 label *label93
 
   446 printflush message2
   447 set .STATE_LIMIT 6
   448 sensor .ITEM .SORTER @config
-    * op notEqual *tmp158 .ITEM .LAST_ITEM
-    * jump *label95 equal *tmp158 false
+  449 jump *label95 equal .ITEM .LAST_ITEM
   450 label *label97
-    * op equal *tmp160 .ITEM null
-    * jump *label99 equal *tmp160 false
+  451 jump *label99 notEqual .ITEM null
   452 print "[salmon]No item type selected for transport.[]"
   453 printflush message1
   454 sensor .ITEM .SORTER @config
 
   556 set .LOOP_START @tick
   557 op mul *tmp171 :loop_time 100
   558 op idiv :loop_time_ms *tmp171 6
-    * op greaterThanEq *tmp173 :transfers :active
-    * jump *label136 notEqual *tmp173 false
+  559 jump *label136 greaterThanEq :transfers :active
   560 label *label137
-    * op greaterThan *tmp174 :wait_time .WAIT_LIMIT
-    * jump *label134 equal *tmp174 false
+  561 jump *label134 lessThanEq :wait_time .WAIT_LIMIT
   562 label *label136
   563 op div *tmp176 :wait_time 100
   564 op ceil *tmp177 *tmp176
 
   592 op mul *tmp201 60000 :corr_per_ms
   593 op floor :corr_per_min *tmp201
   594 set .CORR_SIGN "[]([green]"
-    * op greaterThanEq *tmp203 :corr_per_min 0
-    * jump *label140 equal *tmp203 false
+  595 jump *label140 lessThan :corr_per_min 0
   596 set .CORR_SIGN "[]([green]+"
   597 jump *label141 always
   598 label *label140
   599 label *label141
   600 set .SPEED_UNIT_TXT "[])/min"
   601 jump *label142 equal :alive false
-    * op lessThan *tmp206 :min_level .LOW_LEVEL_TRIGGER
-    * jump *label146 notEqual *tmp206 false
+  602 jump *label146 lessThan :min_level .LOW_LEVEL_TRIGGER
   603 label *label147
-    * op greaterThan *tmp207 :max_level .HIGH_LEVEL_TRIGGER
-    * jump *label144 equal *tmp207 false
+  604 jump *label144 lessThanEq :max_level .HIGH_LEVEL_TRIGGER
   605 label *label146
   606 set *tmp208 true
   607 jump *label145 always
 
   609 set *tmp208 false
   610 label *label145
   611 set :trigger *tmp208
-    * op equal *tmp209 :wait_time 0
-    * jump *label150 notEqual *tmp209 false
+  612 jump *label150 equal :wait_time 0
   613 label *label151
-    * op greaterThan *tmp210 :trigger :remote_wait_time
-    * jump *label148 equal *tmp210 false
+  614 jump *label148 lessThanEq :trigger :remote_wait_time
   615 label *label150
   616 jump *label152 equal STABILIZATION false
   617 set :total_flow_3 :total_flow_2
 
   658 label *label139
   659 set :wait_time 0
   660 set :remote_wait_time 0
-    * op greaterThanEq *tmp234 @tick .MESSAGE_TIMEOUT
-    * jump *label154 equal *tmp234 false
+  661 jump *label154 lessThan @tick .MESSAGE_TIMEOUT
   662 set .MESSAGE ""
   663 jump *label155 always
   664 label *label154
 
   674 print .DIRECTION
   675 print .LINK_TXT
   676 print .AUTO_ALLOCATION_TXT
-    * op greaterThan *tmp236 .TARGET 0
-    * jump *label156 equal *tmp236 false
-    * op greaterThanEq *tmp238 :active .TARGET
-    * jump *label158 equal *tmp238 false
+  677 jump *label156 lessThanEq .TARGET 0
+  678 jump *label158 lessThan :active .TARGET
   679 print "\n"
   680 print "Using [green]"
   681 print :active
 
   701 print " [gold]+"
   702 print :items_in_transit
   703 label *label159
-    * op greaterThan *tmp240 .CHANGE 0
-    * jump *label160 equal *tmp240 false
+  704 jump *label160 lessThanEq .CHANGE 0
   705 print "\n[][salmon]Cannot acquire additional units![]"
   706 jump *label161 always
   707 label *label160
 
   712 print "\n"
   713 print "[]Local items: [gold]"
   714 print :container_items
-    * op lessThan *tmp242 .EFF_LOCAL_LIMIT 100
-    * jump *label162 equal *tmp242 false
+  715 jump *label162 greaterThanEq .EFF_LOCAL_LIMIT 100
   716 print "[] (limit [orange]"
   717 print .LOCAL_MARGIN
   718 print "["
 
   725 print "\n"
   726 print "[]Remote items: [gold]"
   727 print :remote_level
-    * op lessThan *tmp246 .EFF_REMOTE_LIMIT 100
-    * jump *label166 equal *tmp246 false
+  728 jump *label166 greaterThanEq .EFF_REMOTE_LIMIT 100
   729 print "[] (limit [orange]"
   730 print .REMOTE_MARGIN
   731 print "["
 
   736 jump *label165 always
   737 label *label164
   738 label *label165
-    * op greaterThan *tmp248 .TARGET 0
-    * jump *label168 equal *tmp248 false
+  739 jump *label168 lessThanEq .TARGET 0
   740 print "\n"
   741 print "[]Speed: [green]"
   742 print :items_per_min
 
   785 set :items_in_transit 0
   786 print "Unit status:"
   787 sensor *tmp253 .SRC @dead
-    * op notEqual *tmp254 *tmp253 0
-    * jump *label172 equal *tmp254 false
+  788 jump *label172 equal *tmp253 0
   789 jump *label79 always
   790 jump *label173 always
   791 label *label172
   792 label *label173
   793 sensor *tmp256 .DST @dead
-    * op notEqual *tmp257 *tmp256 0
-    * jump *label174 equal *tmp257 false
+  794 jump *label174 equal *tmp256 0
   795 jump *label79 always
   796 jump *label175 always
   797 label *label174
   798 label *label175
   799 sensor *tmp259 .SORTER @dead
-    * op notEqual *tmp260 *tmp259 0
-    * jump *label176 equal *tmp260 false
+  800 jump *label176 equal *tmp259 0
   801 jump *label79 always
   802 jump *label177 always
   803 label *label176
   804 label *label177
   805 getlink *tmp262 .CONTAINER_INDEX
-    * op notEqual *tmp263 .CONTAINER *tmp262
-    * jump *label178 equal *tmp263 false
+  806 jump *label178 equal .CONTAINER *tmp262
   807 jump *label79 always
   808 jump *label179 always
   809 label *label178
 
   811 jump *label92 always
   812 label *label91
   813 label *label92
-    * op greaterThan *tmp265 .CHANGE 0
-    * jump *label180 equal *tmp265 false
+  814 jump *label180 lessThanEq .CHANGE 0
   815 sensor *tmp267 @unit @controlled
-    * op equal *tmp268 *tmp267 0
-    * jump *label182 equal *tmp268 false
+  816 jump *label182 notEqual *tmp267 0
   817 op sub .CHANGE .CHANGE 1
   818 ucontrol flag 1
   819 jump *label183 always
 
   823 label *label180
   824 label *label181
   825 sensor *tmp270 @unit @controller
-    * op equal *tmp271 *tmp270 @this
-    * jump *label184 equal *tmp271 false
+  826 jump *label184 notEqual *tmp270 @this
   827 sensor :state @unit @flag
-    * op notEqual *tmp274 :state .S_UNUSED
-    * jump *label186 equal *tmp274 false
+  828 jump *label186 equal :state .S_UNUSED
   829 op max *tmp276 :state 1
   830 op min :state *tmp276 .STATE_LIMIT
-    * op lessThan *tmp278 .CHANGE 0
-    * jump *label188 equal *tmp278 false
-    * op notEqual *tmp280 :state 6
-    * jump *label190 equal *tmp280 false
+  831 jump *label188 greaterThanEq .CHANGE 0
+  832 jump *label190 equal :state 6
   833 sensor *tmp282 @unit @totalItems
-    * op lessThanEq *tmp283 *tmp282 .DISCARD_UNIT_MAX_ITEMS
-    * jump *label192 equal *tmp283 false
+  834 jump *label192 greaterThan *tmp282 .DISCARD_UNIT_MAX_ITEMS
   835 op add .CHANGE .CHANGE 1
   836 set :state 6
   837 jump *label193 always
 
   843 jump *label189 always
   844 label *label188
   845 label *label189
-    * op equal *tmp285 :state 1
-    * jump *label194 equal *tmp285 false
+  846 jump *label194 notEqual :state 1
   847 sensor *tmp287 @unit @totalItems
-    * op equal *tmp288 *tmp287 0
-    * jump *label196 equal *tmp288 false
+  848 jump *label196 notEqual *tmp287 0
   849 set :state 2
   850 jump *label197 always
   851 label *label196
   852 sensor *tmp290 @unit @firstItem
-    * op equal *tmp291 *tmp290 .ITEM
-    * jump *label198 equal *tmp291 false
+  853 jump *label198 notEqual *tmp290 .ITEM
   854 set :state 4
   855 jump *label199 always
   856 label *label198
 
   869 jump *label195 always
   870 label *label194
   871 label *label195
-    * op equal *tmp295 :state 2
-    * jump *label202 equal *tmp295 false
+  872 jump *label202 notEqual :state 2
   873 ucontrol approach .SRC_X .SRC_Y 6
   874 ucontrol within .SRC_X .SRC_Y 8 *tmp297
   875 jump *label204 equal *tmp297 false
 
   893 jump *label203 always
   894 label *label202
   895 label *label203
-    * op equal *tmp306 :state 3
-    * jump *label206 equal *tmp306 false
+  896 jump *label206 notEqual :state 3
   897 sensor *tmp308 .SRC .ITEM
   898 op sub :max_load *tmp308 .LOAD_LEVEL
-    * op greaterThanEq *tmp310 :max_load .LOAD_PACK
-    * jump *label208 equal *tmp310 false
+  899 jump *label208 lessThan :max_load .LOAD_PACK
   900 ucontrol itemTake .SRC .ITEM :max_load
   901 jump *label209 always
   902 label *label208
   903 label *label209
   904 sensor *tmp312 @unit @totalItems
-    * op greaterThanEq *tmp313 *tmp312 .UNIT_CAPACITY
-    * jump *label210 equal *tmp313 false
+  905 jump *label210 lessThan *tmp312 .UNIT_CAPACITY
   906 set :state 4
   907 jump *label211 always
   908 label *label210
 
   917 jump *label207 always
   918 label *label206
   919 label *label207
-    * op equal *tmp316 :state 4
-    * jump *label212 equal *tmp316 false
+  920 jump *label212 notEqual :state 4
   921 ucontrol approach .DST_X .DST_Y 6
   922 ucontrol within .DST_X .DST_Y 8 *tmp318
   923 jump *label214 equal *tmp318 false
 
   944 jump *label213 always
   945 label *label212
   946 label *label213
-    * op equal *tmp328 :state 5
-    * jump *label216 equal *tmp328 false
+  947 jump *label216 notEqual :state 5
   948 sensor *tmp330 .DST .ITEM
   949 op sub :max_drop .DROP_LEVEL *tmp330
-    * op greaterThanEq *tmp332 :max_drop .DROP_PACK
-    * jump *label218 equal *tmp332 false
+  950 jump *label218 lessThan :max_drop .DROP_PACK
   951 ucontrol itemDrop .DST :max_drop
   952 jump *label219 always
   953 label *label218
   954 label *label219
   955 sensor *tmp334 @unit @totalItems
-    * op lessThanEq *tmp335 *tmp334 0
-    * jump *label220 equal *tmp335 false
+  956 jump *label220 greaterThan *tmp334 0
   957 set :state 2
   958 ucontrol approach .SRC_X .SRC_Y 6
   959 sensor *tmp338 @unit @x
 
   990 label *label217
   991 sensor :items @unit @totalItems
   992 op add :items_in_transit :items_in_transit :items
-    * op equal *tmp347 :state 6
-    * jump *label224 equal *tmp347 false
+  993 jump *label224 notEqual :state 6
   994 print "[]"
   995 print "\n"
   996 print "Parking: [green]"
 
   999 jump *label226 equal *tmp349 false
  1000 ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
  1001 sensor :items @unit @totalItems
-    * op lessThanEq *tmp352 :items .PARK_ITEM_LIMIT
-    * jump *label228 equal *tmp352 false
+ 1002 jump *label228 greaterThan :items .PARK_ITEM_LIMIT
  1003 ucontrol move .PARK_X .PARK_Y
  1004 set :state .S_UNUSED
  1005 jump *label229 always

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-50 instructions):
 
    54 jump *label8 lessThan :state 1
    55 label *label11
    56 jump *label8 greaterThanEq :state 6
-    * jump *label10 always
    57 label *label10
    58 set *tmp18 true
    59 jump *label9 always
 
    61 set *tmp18 false
    62 label *label9
    63 op add .TARGET .TARGET *tmp18
-    * jump *label7 always
    64 label *label6
    65 label *label7
    66 ubind UNIT
 
    68 label *label15
    69 sensor *tmp20 :first_unit @dead
    70 jump *label12 strictNotEqual *tmp20 0
-    * jump *label14 always
    71 label *label14
    72 set *tmp22 true
    73 jump *label13 always
 
    99 set .DROP_TARGET .CONTAINER
   100 set .CONTAINER :block
   101 set .CONTAINER_INDEX :n
-    * jump *label22 always
   102 label *label23
   103 label *label22
   104 label *label20
 
   125 jump *label32 notEqual *tmp36 0
   126 ulocate building core false @copper .CORE_X .CORE_Y *tmp40 .CORE
   127 ucontrol flag .S_UNUSED
-    * jump *label33 always
   128 label *label32
   129 label *label33
   130 label *label30
 
   157 label *label44
   158 sensor *tmp46 @unit @dead
   159 jump *label42 notEqual *tmp46 0
-    * jump *label43 always
   160 label *label43
   161 ucontrol stop
   162 sensor :flag @unit @flag
 
   173 label *label51
   174 ucontrol within .CORE_X .CORE_Y 8 *tmp56
   175 jump *label49 notEqual *tmp56 false
-    * jump *label50 always
   176 label *label50
   177 ucontrol approach .CORE_X .CORE_Y 6
   178 label *label48
 
   189 print "is not a vault!"
   190 printflush message2
   191 set .CORE null
-    * jump *label53 always
   192 label *label52
   193 label *label53
-    * jump *label46 always
   194 label *label45
   195 label *label46
   196 ucontrol flag .S_UNUSED
 
   205 jump *label56 equal :sorter_type @sorter
   206 label *label58
   207 jump *label56 equal :sorter_type @inverted-sorter
-    * jump *label57 always
   208 label *label57
   209 print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter."
   210 print "\n"
   211 jump *label59 equal .SORTER null
   212 print "Block found: "
   213 print .SORTER
-    * jump *label60 always
   214 label *label59
   215 label *label60
   216 printflush message1
 
   389 set :corr_per_min ""
   390 set .SPEED_UNIT_TXT "/min"
   391 set .WAIT_LIMIT 30000
-    * jump *label84 always
   392 label *label83
   393 label *label84
   394 sensor *tmp141 switch2 @enabled
 
   419 set .AUTO_ALLOCATION_TXT *tmp149
   420 label *label88
   421 set .WAIT_LIMIT 30000
-    * jump *label86 always
   422 label *label85
   423 label *label86
   424 sensor *tmp150 :first_unit @dead
 
   427 jump *label91 greaterThan :alive *tmp152
   428 jump *label93 notEqual :active 0
   429 print "\n[salmon]No active units.[]"
-    * jump *label94 always
   430 label *label93
   431 label *label94
   432 printflush message2
 
   532 sensor :last_level .CONTAINER .ITEM
   533 set :min_level 999999
   534 set :max_level 0
-    * jump *label96 always
   535 label *label95
   536 label *label96
   537 sensor :container_items .CONTAINER .ITEM
 
   579 set .CORR_SIGN "[]([green]"
   580 jump *label140 lessThan :corr_per_min 0
   581 set .CORR_SIGN "[]([green]+"
-    * jump *label141 always
   582 label *label140
   583 label *label141
   584 set .SPEED_UNIT_TXT "[])/min"
 
   604 op add *tmp213 :total_flow_3 :total_flow_2
   605 op add *tmp214 *tmp213 :total_flow_1
   606 op div :total_flow_per_ms *tmp214 3
-    * jump *label153 always
   607 label *label152
   608 label *label153
   609 op div *tmp216 :total_flow_per_ms :items_per_ms_unit
 
   636 label *label143
   637 set :min_level 999999
   638 set :max_level 0
-    * jump *label139 always
   639 label *label138
   640 label *label139
   641 set :wait_time 0
   642 set :remote_wait_time 0
   643 jump *label154 lessThan @tick .MESSAGE_TIMEOUT
   644 set .MESSAGE ""
-    * jump *label155 always
   645 label *label154
   646 label *label155
-    * jump *label135 always
   647 label *label134
   648 label *label135
   649 print .MESSAGE
 
   683 label *label159
   684 jump *label160 lessThanEq .CHANGE 0
   685 print "\n[][salmon]Cannot acquire additional units![]"
-    * jump *label161 always
   686 label *label160
   687 label *label161
-    * jump *label157 always
   688 label *label156
   689 label *label157
   690 print "\n"
 
   695 print .LOCAL_MARGIN
   696 print "["
   697 print "])"
-    * jump *label163 always
   698 label *label162
   699 label *label163
   700 jump *label164 equal .SHOW_REMOTE_LEVEL false
 
   707 print .REMOTE_MARGIN
   708 print "["
   709 print "])"
-    * jump *label167 always
   710 label *label166
   711 label *label167
-    * jump *label165 always
   712 label *label164
   713 label *label165
   714 jump *label168 lessThanEq .TARGET 0
 
   745 print :wait_time_str
   746 print "["
   747 print "] s"
-    * jump *label169 always
   748 label *label168
   749 label *label169
   750 print "\n"
 
   761 sensor *tmp253 .SRC @dead
   762 jump *label172 equal *tmp253 0
   763 jump *label79 always
-    * jump *label173 always
   764 label *label172
   765 label *label173
   766 sensor *tmp256 .DST @dead
   767 jump *label174 equal *tmp256 0
   768 jump *label79 always
-    * jump *label175 always
   769 label *label174
   770 label *label175
   771 sensor *tmp259 .SORTER @dead
   772 jump *label176 equal *tmp259 0
   773 jump *label79 always
-    * jump *label177 always
   774 label *label176
   775 label *label177
   776 getlink *tmp262 .CONTAINER_INDEX
   777 jump *label178 equal .CONTAINER *tmp262
   778 jump *label79 always
-    * jump *label179 always
   779 label *label178
   780 label *label179
-    * jump *label92 always
   781 label *label91
   782 label *label92
   783 jump *label180 lessThanEq .CHANGE 0
 
   785 jump *label182 notEqual *tmp267 0
   786 op sub .CHANGE .CHANGE 1
   787 ucontrol flag 1
-    * jump *label183 always
   788 label *label182
   789 label *label183
-    * jump *label181 always
   790 label *label180
   791 label *label181
   792 sensor *tmp270 @unit @controller
 
   801 jump *label192 greaterThan *tmp282 .DISCARD_UNIT_MAX_ITEMS
   802 op add .CHANGE .CHANGE 1
   803 set :state 6
-    * jump *label193 always
   804 label *label192
   805 label *label193
-    * jump *label191 always
   806 label *label190
   807 label *label191
-    * jump *label189 always
   808 label *label188
   809 label *label189
   810 jump *label194 notEqual :state 1
 
   822 ucontrol within .DROP_X .DROP_Y 8 *tmp293
   823 jump *label200 equal *tmp293 false
   824 ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
-    * jump *label201 always
   825 label *label200
   826 label *label201
   827 print "[]"
 
   829 print "Unloading previous items: [green]"
   830 label *label199
   831 label *label197
-    * jump *label195 always
   832 label *label194
   833 label *label195
   834 jump *label202 notEqual :state 2
 
   852 print " "
   853 print "sec[] to source: [green]"
   854 label *label205
-    * jump *label203 always
   855 label *label202
   856 label *label203
   857 jump *label206 notEqual :state 3
 
   859 op sub :max_load *tmp308 .LOAD_LEVEL
   860 jump *label208 lessThan :max_load .LOAD_PACK
   861 ucontrol itemTake .SRC .ITEM :max_load
-    * jump *label209 always
   862 label *label208
   863 label *label209
   864 sensor *tmp312 @unit @totalItems
 
   874 op mul *tmp315 :loop_time_ms .SRC_REMOTE_WAIT
   875 op add :remote_wait_time :remote_wait_time *tmp315
   876 label *label211
-    * jump *label207 always
   877 label *label206
   878 label *label207
   879 jump *label212 notEqual :state 4
 
   900 print " "
   901 print "sec[] to destination: [green]"
   902 label *label215
-    * jump *label213 always
   903 label *label212
   904 label *label213
   905 jump *label216 notEqual :state 5
 
   907 op sub :max_drop .DROP_LEVEL *tmp330
   908 jump *label218 lessThan :max_drop .DROP_PACK
   909 ucontrol itemDrop .DST :max_drop
-    * jump *label219 always
   910 label *label218
   911 label *label219
   912 sensor *tmp334 @unit @totalItems
 
   942 op mul *tmp345 :loop_time_ms .DST_REMOTE_WAIT
   943 op add :remote_wait_time :remote_wait_time *tmp345
   944 label *label221
-    * jump *label217 always
   945 label *label216
   946 label *label217
   947 sensor :items @unit @totalItems
 
   958 jump *label228 greaterThan :items .PARK_ITEM_LIMIT
   959 ucontrol move .PARK_X .PARK_Y
   960 set :state .S_UNUSED
-    * jump *label229 always
   961 label *label228
   962 label *label229
-    * jump *label227 always
   963 label *label226
   964 label *label227
   965 jump *label225 always
 
   969 print :items
   970 print .ITEM_ICON
   971 ucontrol flag :state
-    * jump *label187 always
   972 label *label186
   973 label *label187
-    * jump *label185 always
   974 label *label184
   975 label *label185
   976 label *label78
 
  1001 label *label241
  1002 sensor *tmp362 switch2 @enabled
  1003 jump *label239 notEqual *tmp362 false
-    * jump *label240 always
  1004 label *label240
  1005 print "[salmon]Local or remote container became invalid.\nPlease fix and press any button to reinitialize."
  1006 printflush message1
 
  1008 label *label238
  1009 jump *label237 always
  1010 label *label239
-    * jump *label234 always
  1011 label *label233
  1012 label *label234
  1013 control enabled switch1 false

Modifications by Iterated phase, Expression Optimization, pass 1, iteration 1 (-2 instructions):
 
   565 op idiv *tmp190 :turnaround_ms 100
   566 op div :turnaround_str *tmp190 10
   567 op div :items_per_ms_unit .UNIT_CAPACITY :turnaround_ms
-    * op mul *tmp193 :items_per_ms_unit 60000
-    * op floor :items_per_min_unit *tmp193
+  568 op idiv :items_per_min_unit :items_per_ms_unit 0.000016666666666666667
   569 op add *tmp195 :min_level :max_level
   570 op div :this_level *tmp195 2
   571 op sub *tmp197 :last_level :this_level
 
   573 op div :corr_per_ms :corr :elapsed_ms
   574 set :last_level :this_level
   575 op add :total_flow_per_ms :items_per_ms :corr_per_ms
-    * op mul *tmp201 60000 :corr_per_ms
-    * op floor :corr_per_min *tmp201
+  576 op idiv :corr_per_min :corr_per_ms 0.000016666666666666667
   577 set .CORR_SIGN "[]([green]"
   578 jump *label140 lessThan :corr_per_min 0
   579 set .CORR_SIGN "[]([green]+"

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
     8 set OVERALLOCATION_HIGH 0.75
     9 set STABILIZATION false
    10 set .STATE_LIMIT null
-    * set .ITEM_ICON .STATE_LIMIT
-    * set .ITEM .ITEM_ICON
-    * set .CORE_Y .ITEM
-    * set .CORE_X .CORE_Y
-    * set .CONTAINER_INDEX .CORE_X
+   11 set .ITEM_ICON null
+   12 set .ITEM .STATE_LIMIT
+   13 set .CORE_Y .ITEM_ICON
+   14 set .CORE_X .ITEM
+   15 set .CONTAINER_INDEX .CORE_Y
    16 set .MESSAGE ""
    17 op max .EFF_LOCAL_LIMIT LOCAL_LIMIT 20
    18 op max .EFF_REMOTE_LIMIT REMOTE_LIMIT 20
 
    20 set .TRIGGER_LEVEL 0.9
    21 op mul .S_UNUSED -1 HOUSEKEEPING
    22 set .LOOPS 1
-    * op mul *tmp3 .LOOPS 1000
-    * op div .LOOPS_TICKS_TO_MS *tmp3 60
+   23 op mul *tmp3 1 1000
+   24 op div .LOOPS_TICKS_TO_MS 1000 60
    25 set .INC_OVERALLOCATION OVERALLOCATION_LOW
    26 op add .DEC_OVERALLOCATION 1 OVERALLOCATION_HIGH
    27 set .TRIGGER_BOOST 2
 
   151 label *label38
   152 jump *label37 always
   153 label *label39
-    * ucontrol flag :flag
+  154 ucontrol flag .QUERY_FLAG
   155 label *label40
   156 jump *label42 notEqual :flag .QUERY_FLAG
   157 label *label44
 
   200 set .DISCARD_UNIT_MAX_ITEMS 0
   201 label *label28
   202 set .SORTER sorter1
-    * sensor :sorter_type .SORTER @type
+  203 sensor :sorter_type sorter1 @type
   204 label *label54
   205 jump *label56 equal :sorter_type @sorter
   206 label *label58
 
   215 label *label60
   216 printflush message1
   217 set .SORTER sorter1
-    * sensor :sorter_type .SORTER @type
+  218 sensor :sorter_type sorter1 @type
   219 label *label55
   220 jump *label54 always
   221 label *label56
 
   223 set .SHOW_REMOTE_LEVEL true
   224 set .SRC .CORE
   225 set .DST .CONTAINER
-    * sensor :src_capacity .SRC @itemCapacity
-    * sensor :dst_capacity .DST @itemCapacity
+  226 sensor :src_capacity .CORE @itemCapacity
+  227 sensor :dst_capacity .CONTAINER @itemCapacity
   228 op sub *tmp72 100 .EFF_REMOTE_LIMIT
   229 op mul *tmp73 :src_capacity *tmp72
   230 op idiv .LOAD_LEVEL *tmp73 100
 
   232 op idiv .DROP_LEVEL *tmp75 100
   233 set .LOCAL_MARGIN .DROP_LEVEL
   234 set .REMOTE_MARGIN .LOAD_LEVEL
-    * op sub *tmp77 1 .TRIGGER_LEVEL
-    * op mul .LOW_LEVEL_TRIGGER :dst_capacity *tmp77
+  235 op sub *tmp77 1 0.9
+  236 op mul .LOW_LEVEL_TRIGGER :dst_capacity 0.09999999999999998
   237 set .HIGH_LEVEL_TRIGGER :dst_capacity
   238 set .FLOW_CORR_SIGN 1
   239 set .SRC_REMOTE_WAIT 1
 
   250 op greaterThan .SHOW_REMOTE_LEVEL LINK_ID 0
   251 set .SRC .CONTAINER
   252 set .DST .CORE
-    * sensor :src_capacity .SRC @itemCapacity
-    * sensor :dst_capacity .DST @itemCapacity
+  253 sensor :src_capacity .CONTAINER @itemCapacity
+  254 sensor :dst_capacity .CORE @itemCapacity
   255 op sub *tmp84 100 .EFF_LOCAL_LIMIT
   256 op mul *tmp85 :src_capacity *tmp84
   257 op idiv .LOAD_LEVEL *tmp85 100
 
   262 op add .DROP_LEVEL *tmp88 *tmp90
   263 set .LOCAL_MARGIN .LOAD_LEVEL
   264 set .REMOTE_MARGIN .DROP_LEVEL
-    * op mul .HIGH_LEVEL_TRIGGER :src_capacity .TRIGGER_LEVEL
+  265 op mul .HIGH_LEVEL_TRIGGER :src_capacity 0.9
   266 set .LOW_LEVEL_TRIGGER 0
   267 set .FLOW_CORR_SIGN -1
   268 set .SRC_REMOTE_WAIT 0
 
   293 op sub *tmp105 .DST_Y .SRC_Y
   294 op len *tmp106 *tmp104 *tmp105
   295 op sub *tmp107 *tmp106 6
-    * op sub .DISTANCE *tmp107 8
+  296 op sub .DISTANCE *tmp106 14
   297 op max *tmp109 .DISTANCE 10
   298 op mul *tmp110 2 *tmp109
   299 op div .TRAVEL_TIME *tmp110 .SPEED
   300 op sub *tmp112 .DST_X .SRC_X
   301 op sub *tmp113 .DST_Y .SRC_Y
-    * op len *tmp114 *tmp112 *tmp113
-    * op sub *tmp115 *tmp114 6
-    * op div .DISTANCE *tmp115 100
+  302 op len *tmp114 *tmp104 *tmp105
+  303 op sub *tmp115 *tmp106 6
+  304 op div .DISTANCE *tmp107 100
   305 jump *label69 notEqual .DROP_TARGET null
   306 set .DROP_TARGET .CORE
   307 set .DROP_X .CORE_X
 
   344 set :elapsed_str "--"
   345 set :wait_time_str 0
   346 set :wait_time 0
-    * set :transfers :wait_time
-    * set :transferred :transfers
-    * set :total_flow_2 :transferred
-    * set :total_flow_1 :total_flow_2
-    * set :remote_wait_time :total_flow_1
-    * set :min_level :remote_wait_time
-    * set :max_level :min_level
-    * set :loop_time_ms :max_level
-    * set :last_level :loop_time_ms
-    * jump *label75 equal .EFF_AUTO_ALLOCATION false
+  347 set :transfers 0
+  348 set :transferred :wait_time
+  349 set :total_flow_2 :transfers
+  350 set :total_flow_1 :transferred
+  351 set :remote_wait_time :total_flow_2
+  352 set :min_level :total_flow_1
+  353 set :max_level :remote_wait_time
+  354 set :loop_time_ms :min_level
+  355 set :last_level :max_level
+  356 jump *label75 equal AUTO_ALLOCATION false
   357 set .CORR_SIGN "[]([green]+"
   358 set :corr_per_min 0
   359 set .SPEED_UNIT_TXT "[])/min"
 
   443 label *label99
   444 set .LAST_ITEM .ITEM
   445 set :itemTypeToIcon:itemType .ITEM
-    * jump *label102 notEqual :itemTypeToIcon:itemType @blast-compound
+  446 jump *label102 notEqual .ITEM @blast-compound
   447 label *label103
   448 set *tmp163 "[]"
   449 jump *label101 always
   450 label *label102
-    * jump *label104 notEqual :itemTypeToIcon:itemType @coal
+  451 jump *label104 notEqual .ITEM @coal
   452 label *label105
   453 set *tmp163 "[]"
   454 jump *label101 always
   455 label *label104
-    * jump *label106 notEqual :itemTypeToIcon:itemType @copper
+  456 jump *label106 notEqual .ITEM @copper
   457 label *label107
   458 set *tmp163 "[]"
   459 jump *label101 always
   460 label *label106
-    * jump *label108 notEqual :itemTypeToIcon:itemType @graphite
+  461 jump *label108 notEqual .ITEM @graphite
   462 label *label109
   463 set *tmp163 "[]"
   464 jump *label101 always
   465 label *label108
-    * jump *label110 notEqual :itemTypeToIcon:itemType @lead
+  466 jump *label110 notEqual .ITEM @lead
   467 label *label111
   468 set *tmp163 "[]"
   469 jump *label101 always
   470 label *label110
-    * jump *label112 notEqual :itemTypeToIcon:itemType @metaglass
+  471 jump *label112 notEqual .ITEM @metaglass
   472 label *label113
   473 set *tmp163 "[]"
   474 jump *label101 always
   475 label *label112
-    * jump *label114 notEqual :itemTypeToIcon:itemType @phase-fabric
+  476 jump *label114 notEqual .ITEM @phase-fabric
   477 label *label115
   478 set *tmp163 "[]"
   479 jump *label101 always
   480 label *label114
-    * jump *label116 notEqual :itemTypeToIcon:itemType @plastanium
+  481 jump *label116 notEqual .ITEM @plastanium
   482 label *label117
   483 set *tmp163 "[]"
   484 jump *label101 always
   485 label *label116
-    * jump *label118 notEqual :itemTypeToIcon:itemType @pyratite
+  486 jump *label118 notEqual .ITEM @pyratite
   487 label *label119
   488 set *tmp163 "[]"
   489 jump *label101 always
   490 label *label118
-    * jump *label120 notEqual :itemTypeToIcon:itemType @sand
+  491 jump *label120 notEqual .ITEM @sand
   492 label *label121
   493 set *tmp163 "[]"
   494 jump *label101 always
   495 label *label120
-    * jump *label122 notEqual :itemTypeToIcon:itemType @scrap
+  496 jump *label122 notEqual .ITEM @scrap
   497 label *label123
   498 set *tmp163 "[]"
   499 jump *label101 always
   500 label *label122
-    * jump *label124 notEqual :itemTypeToIcon:itemType @silicon
+  501 jump *label124 notEqual .ITEM @silicon
   502 label *label125
   503 set *tmp163 "[]"
   504 jump *label101 always
   505 label *label124
-    * jump *label126 notEqual :itemTypeToIcon:itemType @spore-pod
+  506 jump *label126 notEqual .ITEM @spore-pod
   507 label *label127
   508 set *tmp163 "[]"
   509 jump *label101 always
   510 label *label126
-    * jump *label128 notEqual :itemTypeToIcon:itemType @surge-alloy
+  511 jump *label128 notEqual .ITEM @surge-alloy
   512 label *label129
   513 set *tmp163 "[]"
   514 jump *label101 always
   515 label *label128
-    * jump *label130 notEqual :itemTypeToIcon:itemType @thorium
+  516 jump *label130 notEqual .ITEM @thorium
   517 label *label131
   518 set *tmp163 "[]"
   519 jump *label101 always
   520 label *label130
-    * jump *label132 notEqual :itemTypeToIcon:itemType @titanium
+  521 jump *label132 notEqual .ITEM @titanium
   522 label *label133
   523 set *tmp163 "[]"
   524 jump *label101 always
 
   527 label *label101
   528 set *tmp162 *tmp163
   529 label *label100
-    * set .ITEM_ICON *tmp162
+  530 set .ITEM_ICON *tmp163
   531 set .STATE_LIMIT 1
   532 sensor :last_level .CONTAINER .ITEM
   533 set :min_level 999999
 
   559 set :transfers 0
   560 jump *label138 equal .EFF_AUTO_ALLOCATION false
   561 set .AUTO_ALLOCATION_TXT "\n=== [gold]Unit auto allocation[] ==="
-    * op mul *tmp187 .LOOPS_TICKS_TO_MS :loop_time
+  562 op mul *tmp187 16.666666666666668 :loop_time
   563 op add :turnaround_ms .TRAVEL_TIME *tmp187
   564 op mul .WAIT_LIMIT :turnaround_ms .DEC_OVERALLOCATION
   565 op idiv *tmp190 :turnaround_ms 100
 
   593 set :trigger *tmp208
   594 jump *label150 equal :wait_time 0
   595 label *label151
-    * jump *label148 lessThanEq :trigger :remote_wait_time
+  596 jump *label148 lessThanEq *tmp208 :remote_wait_time
   597 label *label150
   598 jump *label152 equal STABILIZATION false
   599 set :total_flow_3 :total_flow_2
   600 set :total_flow_2 :total_flow_1
   601 set :total_flow_1 :total_flow_per_ms
   602 op add *tmp213 :total_flow_3 :total_flow_2
-    * op add *tmp214 *tmp213 :total_flow_1
+  603 op add *tmp214 *tmp213 :total_flow_per_ms
   604 op div :total_flow_per_ms *tmp214 3
   605 label *label152
   606 label *label153
   607 op div *tmp216 :total_flow_per_ms :items_per_ms_unit
-    * op add *tmp217 *tmp216 .INC_OVERALLOCATION
+  608 op add *tmp217 *tmp216 OVERALLOCATION_LOW
   609 op ceil :new_target *tmp217
-    * op mul :level_boost .TRIGGER_BOOST :trigger
+  610 op mul :level_boost 2 *tmp208
   611 op add *tmp220 :new_target :level_boost
   612 op min :new_target *tmp220 MAX_UNITS
   613 op sub *tmp222 :new_target :active
   614 op max *tmp223 *tmp222 0
   615 op min :new_change *tmp223 .INC_LIMIT
-    * set .INC_LIMIT .INC_MAX
+  616 set .INC_LIMIT 6
   617 op lessThanEq *tmp225 :new_change 0
-    * op mul .DEC_LIMIT *tmp225 .DEC_MAX
+  618 op mul .DEC_LIMIT *tmp225 -1
   619 jump *label149 always
   620 label *label148
   621 op idiv *tmp227 :wait_time .WAIT_LIMIT
   622 op mul *tmp228 -1 *tmp227
   623 op max :new_change *tmp228 .DEC_LIMIT
   624 op greaterThanEq *tmp230 :new_change 0
-    * op mul .INC_LIMIT *tmp230 .INC_MAX
-    * set .DEC_LIMIT .DEC_MAX
+  625 op mul .INC_LIMIT *tmp230 6
+  626 set .DEC_LIMIT -1
   627 label *label149
   628 op add *tmp232 :active :new_change
   629 op max .TARGET *tmp232 1
 
   644 label *label155
   645 label *label134
   646 label *label135
-    * print .MESSAGE
+  647 print ""
   648 print "Moving [green]"
   649 print .ITEM
   650 print "["
   651 print "]"
   652 print .DIRECTION
-    * print .LINK_TXT
+  653 print *tmp96
   654 print .AUTO_ALLOCATION_TXT
   655 jump *label156 lessThanEq .TARGET 0
   656 jump *label158 lessThan :active .TARGET

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-20 instructions):
 
     9 set STABILIZATION false
    10 set .STATE_LIMIT null
    11 set .ITEM_ICON null
-    * set .ITEM .STATE_LIMIT
-    * set .CORE_Y .ITEM_ICON
-    * set .CORE_X .ITEM
-    * set .CONTAINER_INDEX .CORE_Y
-    * set .MESSAGE ""
+   12 set .ITEM null
+   13 set .CORE_Y null
+   14 set .CORE_X .STATE_LIMIT
+   15 set .CONTAINER_INDEX .ITEM_ICON
    16 op max .EFF_LOCAL_LIMIT LOCAL_LIMIT 20
    17 op max .EFF_REMOTE_LIMIT REMOTE_LIMIT 20
    18 set .EFF_AUTO_ALLOCATION AUTO_ALLOCATION
-    * set .TRIGGER_LEVEL 0.9
    19 op mul .S_UNUSED -1 HOUSEKEEPING
-    * set .LOOPS 1
-    * op mul *tmp3 1 1000
-    * op div .LOOPS_TICKS_TO_MS 1000 60
-    * set .INC_OVERALLOCATION OVERALLOCATION_LOW
    20 op add .DEC_OVERALLOCATION 1 OVERALLOCATION_HIGH
-    * set .TRIGGER_BOOST 2
-    * set .INC_MAX 6
-    * set .DEC_MAX -1
    21 ubind UNIT
    22 label *label0
    23 jump *label2 notEqual @unit null
 
   223 op idiv .DROP_LEVEL *tmp75 100
   224 set .LOCAL_MARGIN .DROP_LEVEL
   225 set .REMOTE_MARGIN .LOAD_LEVEL
-    * op sub *tmp77 1 0.9
   226 op mul .LOW_LEVEL_TRIGGER :dst_capacity 0.09999999999999998
   227 set .HIGH_LEVEL_TRIGGER :dst_capacity
   228 set .FLOW_CORR_SIGN 1
 
   271 label *label67
   272 set *tmp96 LINK_ID
   273 label *label68
-    * set .LINK_TXT *tmp96
   274 op sub *tmp97 :src_capacity .LOAD_LEVEL
   275 op min .LOAD_PACK .UNIT_CAPACITY *tmp97
   276 op min .DROP_PACK .UNIT_CAPACITY .DROP_LEVEL
 
   286 op max *tmp109 .DISTANCE 10
   287 op mul *tmp110 2 *tmp109
   288 op div .TRAVEL_TIME *tmp110 .SPEED
-    * op sub *tmp112 .DST_X .SRC_X
-    * op sub *tmp113 .DST_Y .SRC_Y
-    * op len *tmp114 *tmp104 *tmp105
-    * op sub *tmp115 *tmp106 6
-    * op div .DISTANCE *tmp107 100
   289 jump *label69 notEqual .DROP_TARGET null
   290 set .DROP_TARGET .CORE
   291 set .DROP_X .CORE_X
 
   329 set :wait_time_str 0
   330 set :wait_time 0
   331 set :transfers 0
-    * set :transferred :wait_time
-    * set :total_flow_2 :transfers
-    * set :total_flow_1 :transferred
-    * set :remote_wait_time :total_flow_2
-    * set :min_level :total_flow_1
-    * set :max_level :remote_wait_time
-    * set :loop_time_ms :min_level
-    * set :last_level :max_level
+  332 set :transferred 0
+  333 set :total_flow_2 0
+  334 set :total_flow_1 :wait_time
+  335 set :remote_wait_time :transfers
+  336 set :min_level :transferred
+  337 set :max_level :total_flow_2
+  338 set :loop_time_ms :total_flow_1
+  339 set :last_level :remote_wait_time
   340 jump *label75 equal AUTO_ALLOCATION false
   341 set .CORR_SIGN "[]([green]+"
   342 set :corr_per_min 0
 
   426 jump *label97 always
   427 label *label99
   428 set .LAST_ITEM .ITEM
-    * set :itemTypeToIcon:itemType .ITEM
   429 jump *label102 notEqual .ITEM @blast-compound
   430 label *label103
   431 set *tmp163 "[]"
 
   508 label *label132
   509 set *tmp163 null
   510 label *label101
-    * set *tmp162 *tmp163
   511 label *label100
   512 set .ITEM_ICON *tmp163
   513 set .STATE_LIMIT 1
 
   572 label *label144
   573 set *tmp208 false
   574 label *label145
-    * set :trigger *tmp208
   575 jump *label150 equal :wait_time 0
   576 label *label151
   577 jump *label148 lessThanEq *tmp208 :remote_wait_time
 
   620 set :wait_time 0
   621 set :remote_wait_time 0
   622 jump *label154 lessThan @tick .MESSAGE_TIMEOUT
-    * set .MESSAGE ""
   623 label *label154
   624 label *label155
   625 label *label134

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-1 instructions):
 
    11 set .ITEM_ICON null
    12 set .ITEM null
    13 set .CORE_Y null
-    * set .CORE_X .STATE_LIMIT
-    * set .CONTAINER_INDEX .ITEM_ICON
+   14 set .CORE_X null
+   15 set .CONTAINER_INDEX null
    16 op max .EFF_LOCAL_LIMIT LOCAL_LIMIT 20
    17 op max .EFF_REMOTE_LIMIT REMOTE_LIMIT 20
    18 set .EFF_AUTO_ALLOCATION AUTO_ALLOCATION
 
   281 op sub *tmp104 .DST_X .SRC_X
   282 op sub *tmp105 .DST_Y .SRC_Y
   283 op len *tmp106 *tmp104 *tmp105
-    * op sub *tmp107 *tmp106 6
   284 op sub .DISTANCE *tmp106 14
   285 op max *tmp109 .DISTANCE 10
   286 op mul *tmp110 2 *tmp109
 
   330 set :transfers 0
   331 set :transferred 0
   332 set :total_flow_2 0
-    * set :total_flow_1 :wait_time
-    * set :remote_wait_time :transfers
-    * set :min_level :transferred
-    * set :max_level :total_flow_2
-    * set :loop_time_ms :total_flow_1
-    * set :last_level :remote_wait_time
+  333 set :total_flow_1 0
+  334 set :remote_wait_time 0
+  335 set :min_level 0
+  336 set :max_level 0
+  337 set :loop_time_ms :wait_time
+  338 set :last_level :transfers
   339 jump *label75 equal AUTO_ALLOCATION false
   340 set .CORR_SIGN "[]([green]+"
   341 set :corr_per_min 0

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 4:
 
   334 set :remote_wait_time 0
   335 set :min_level 0
   336 set :max_level 0
-    * set :loop_time_ms :wait_time
-    * set :last_level :transfers
+  337 set :loop_time_ms 0
+  338 set :last_level 0
   339 jump *label75 equal AUTO_ALLOCATION false
   340 set .CORR_SIGN "[]([green]+"
   341 set :corr_per_min 0

Modifications by Iterated phase, Loop Hoisting, pass 1, iteration 1:
 
   130 print "."
   131 print ".."
   132 printflush message1
+  133 op add .QUERY_FLAG 99999900 LINK_ID
   134 label *label34
   135 jump *label36 notEqual .CORE null
-    * op add .QUERY_FLAG 99999900 LINK_ID
   136 set :flag .QUERY_FLAG
   137 ubind UNIT
   138 label *label37

Modifications by Iterated phase, Loop Rotation, pass 1, iteration 1 (-3 instructions):
 
    21 ubind UNIT
    22 label *label0
    23 jump *label2 notEqual @unit null
+   24 label *label242
    25 print "[salmon]No unit of type "
    26 print UNIT
    27 print " "
 
    29 printflush message1
    30 ubind UNIT
    31 label *label1
-    * jump *label0 always
+   32 jump *label242 equal @unit null
    33 label *label2
    34 set :first_unit @unit
    35 sensor *tmp8 @unit @speed
 
    39 set .TARGET 0
    40 set :repeat true
    41 label *label3
-    * jump *label5 equal :repeat false
+   42 label *label243
    43 sensor *tmp12 @unit @controller
    44 jump *label6 notEqual *tmp12 @this
    45 sensor :state @unit @flag
 
    68 label *label13
    69 set :repeat *tmp22
    70 label *label4
-    * jump *label3 always
+   71 jump *label243 notEqual :repeat false
    72 label *label5
    73 set .CHANGE 0
    74 set :active .TARGET
 
    82 set :n @links
    83 label *label19
    84 jump *label21 lessThanEq :n 0
+   85 label *label244
    86 op sub :n :n 1
    87 getlink :block :n
    88 sensor *tmp29 :block @type
 
    95 label *label23
    96 label *label22
    97 label *label20
-    * jump *label19 always
+   98 jump *label244 greaterThan :n 0
    99 label *label21
   100 jump *label25 notEqual .CONTAINER null
   101 print "[salmon]No vault or container."
 
   110 set .CORE null
   111 jump *label27 notEqual LINK_ID 0
   112 label *label29
-    * jump *label31 notEqual .CORE null
+  113 label *label245
   114 print "[green]Locating core..."
   115 printflush message1
   116 ubind UNIT
 
   121 label *label32
   122 label *label33
   123 label *label30
-    * jump *label29 always
+  124 jump *label245 equal .CORE null
   125 label *label31
   126 set .DISCARD_UNIT_MAX_ITEMS .UNIT_CAPACITY
   127 jump *label28 always
 
   134 printflush message1
   135 op add .QUERY_FLAG 99999900 LINK_ID
   136 label *label34
-    * jump *label36 notEqual .CORE null
+  137 label *label246
   138 set :flag .QUERY_FLAG
   139 ubind UNIT
   140 label *label37
 
   147 ucontrol flag .QUERY_FLAG
   148 label *label40
   149 jump *label42 notEqual :flag .QUERY_FLAG
-    * label *label44
+  150 label *label247
   151 sensor *tmp46 @unit @dead
   152 jump *label42 notEqual *tmp46 0
-    * label *label43
   153 ucontrol stop
   154 sensor :flag @unit @flag
   155 label *label41
-    * jump *label40 always
+  156 jump *label247 equal :flag .QUERY_FLAG
   157 label *label42
   158 jump *label45 equal :flag .QUERY_FLAG
   159 op idiv :position :flag 100
 
   162 label *label47
   163 sensor *tmp54 @unit @dead
   164 jump *label49 notEqual *tmp54 0
-    * label *label51
   165 ucontrol within .CORE_X .CORE_Y 8 *tmp56
   166 jump *label49 notEqual *tmp56 false
-    * label *label50
   167 ucontrol approach .CORE_X .CORE_Y 6
   168 label *label48
   169 jump *label47 always
 
   185 label *label46
   186 ucontrol flag .S_UNUSED
   187 label *label35
-    * jump *label34 always
+  188 jump *label246 equal .CORE null
   189 label *label36
   190 set .DISCARD_UNIT_MAX_ITEMS 0
   191 label *label28
 
   193 sensor :sorter_type sorter1 @type
   194 label *label54
   195 jump *label56 equal :sorter_type @sorter
-    * label *label58
+  196 label *label248
   197 jump *label56 equal :sorter_type @inverted-sorter
-    * label *label57
   198 print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter."
   199 print "\n"
   200 jump *label59 equal .SORTER null
 
   206 set .SORTER sorter1
   207 sensor :sorter_type sorter1 @type
   208 label *label55
-    * jump *label54 always
+  209 jump *label248 notEqual :sorter_type @sorter
   210 label *label56
   211 jump *label61 notEqual :sorter_type @sorter
   212 set .SHOW_REMOTE_LEVEL true
 
   350 ubind UNIT
   351 label *label80
   352 jump *label82 notEqual @unit null
+  353 label *label249
   354 print "No unit of type "
   355 print UNIT
   356 print " "
 
   358 printflush message1
   359 ubind UNIT
   360 label *label81
-    * jump *label80 always
+  361 jump *label249 equal @unit null
   362 label *label82
   363 sensor *tmp136 switch1 @enabled
   364 jump *label83 equal *tmp136 false
 
   417 jump *label95 equal .ITEM .LAST_ITEM
   418 label *label97
   419 jump *label99 notEqual .ITEM null
+  420 label *label250
   421 print "[salmon]No item type selected for transport.[]"
   422 printflush message1
   423 sensor .ITEM .SORTER @config
   424 label *label98
-    * jump *label97 always
+  425 jump *label250 equal .ITEM null
   426 label *label99
   427 set .LAST_ITEM .ITEM
   428 jump *label102 notEqual .ITEM @blast-compound
 
   975 label *label237
   976 sensor *tmp361 switch1 @enabled
   977 jump *label239 notEqual *tmp361 false
-    * label *label241
   978 sensor *tmp362 switch2 @enabled
   979 jump *label239 notEqual *tmp362 false
-    * label *label240
   980 print "[salmon]Local or remote container became invalid.\nPlease fix and press any button to reinitialize."
   981 printflush message1
   982 printflush message2

Modifications by Iterated phase, Boolean Optimization, pass 1, iteration 1 (-32 instructions):
 
    43 sensor *tmp12 @unit @controller
    44 jump *label6 notEqual *tmp12 @this
    45 sensor :state @unit @flag
-    * jump *label8 lessThan :state 1
-    * label *label11
-    * jump *label8 greaterThanEq :state 6
-    * label *label10
-    * set *tmp18 true
-    * jump *label9 always
-    * label *label8
-    * set *tmp18 false
-    * label *label9
+   46 select *tmp365 greaterThanEq :state 1 true false
+   47 select *tmp18 lessThan :state 6 *tmp365 false
    48 op add .TARGET .TARGET *tmp18
    49 label *label6
    50 label *label7
    51 ubind UNIT
    52 jump *label12 equal @unit :first_unit
-    * label *label15
-    * sensor *tmp20 :first_unit @dead
-    * jump *label12 strictNotEqual *tmp20 0
-    * label *label14
-    * set *tmp22 true
+   53 sensor *tmp20 :first_unit @dead
+   54 op strictEqual *tmp22 *tmp20 0
    55 jump *label13 always
    56 label *label12
    57 set *tmp22 false
 
   216 set .FLOW_CORR_SIGN 1
   217 set .SRC_REMOTE_WAIT 1
   218 set .DST_REMOTE_WAIT 0
-    * jump *label63 notEqual LINK_ID 0
-    * set *tmp80 " from core"
-    * jump *label64 always
-    * label *label63
-    * set *tmp80 " from vault #"
-    * label *label64
+  219 select *tmp80 equal LINK_ID 0 " from core" " from vault #"
   220 set .DIRECTION *tmp80
   221 jump *label62 always
   222 label *label61
 
   240 set .FLOW_CORR_SIGN -1
   241 set .SRC_REMOTE_WAIT 0
   242 set .DST_REMOTE_WAIT 1
-    * jump *label65 notEqual LINK_ID 0
-    * set *tmp94 " to core"
-    * jump *label66 always
-    * label *label65
-    * set *tmp94 " to vault #"
-    * label *label66
+  243 select *tmp94 equal LINK_ID 0 " to core" " to vault #"
   244 set .DIRECTION *tmp94
   245 label *label62
-    * jump *label67 notEqual LINK_ID 0
-    * set *tmp96 ""
-    * jump *label68 always
-    * label *label67
-    * set *tmp96 LINK_ID
-    * label *label68
+  246 select *tmp96 equal LINK_ID 0 "" LINK_ID
   247 op sub *tmp97 :src_capacity .LOAD_LEVEL
   248 op min .LOAD_PACK .UNIT_CAPACITY *tmp97
   249 op min .DROP_PACK .UNIT_CAPACITY .DROP_LEVEL
 
   262 set .DROP_TARGET .CORE
   263 set .DROP_X .CORE_X
   264 set .DROP_Y .CORE_Y
-    * sensor *tmp119 .CONTAINER @x
-    * jump *label71 greaterThanEq *tmp119 .CORE_X
-    * set *tmp121 15
-    * jump *label72 always
-    * label *label71
-    * set *tmp121 -15
-    * label *label72
+  265 sensor *tmp119 .CONTAINER @x
+  266 select *tmp121 lessThan *tmp119 .CORE_X 15 -15
   267 op add .PARK_X .CORE_X *tmp121
-    * sensor *tmp123 .CONTAINER @y
-    * jump *label73 greaterThanEq *tmp123 .CORE_Y
-    * set *tmp125 15
-    * jump *label74 always
-    * label *label73
-    * set *tmp125 -15
-    * label *label74
+  268 sensor *tmp123 .CONTAINER @y
+  269 select *tmp125 lessThan *tmp123 .CORE_Y 15 -15
   270 op add .PARK_Y .CORE_Y *tmp125
   271 op equal *tmp127 LINK_ID 0
   272 op mul .PARK_ITEM_LIMIT *tmp127 .UNIT_CAPACITY
 
   299 set :max_level 0
   300 set :loop_time_ms 0
   301 set :last_level 0
-    * jump *label75 equal AUTO_ALLOCATION false
-    * set .CORR_SIGN "[]([green]+"
-    * set :corr_per_min 0
-    * set .SPEED_UNIT_TXT "[])/min"
-    * set .AUTO_ALLOCATION_TXT "\n=== [gold]Gathering statistics[] ==="
-    * jump *label76 always
-    * label *label75
-    * set .CORR_SIGN "[]"
-    * set :corr_per_min ""
-    * set .SPEED_UNIT_TXT "/min"
-    * set .AUTO_ALLOCATION_TXT ""
-    * label *label76
+  302 select .CORR_SIGN notEqual AUTO_ALLOCATION false "[]([green]+" "[]"
+  303 select :corr_per_min notEqual AUTO_ALLOCATION false 0 ""
+  304 select .SPEED_UNIT_TXT notEqual AUTO_ALLOCATION false "[])/min" "/min"
+  305 select .AUTO_ALLOCATION_TXT notEqual AUTO_ALLOCATION false "\n=== [gold]Gathering statistics[] ===" ""
   306 label *label77
   307 ubind UNIT
   308 label *label80
 
   349 set .CORR_SIGN "[]"
   350 set :corr_per_min ""
   351 set .SPEED_UNIT_TXT "/min"
-    * jump *label89 notEqual .TARGET 0
-    * set *tmp149 "\n=== [salmon]Transport deactivated[] ==="
-    * jump *label90 always
-    * label *label89
-    * set *tmp149 ""
-    * label *label90
+  352 select *tmp149 equal .TARGET 0 "\n=== [salmon]Transport deactivated[] ===" ""
   353 set .AUTO_ALLOCATION_TXT *tmp149
   354 label *label88
   355 set .WAIT_LIMIT 30000
 
   475 op mul *tmp171 :loop_time 100
   476 op idiv :loop_time_ms *tmp171 6
   477 jump *label136 greaterThanEq :transfers :active
-    * label *label137
   478 jump *label134 lessThanEq :wait_time .WAIT_LIMIT
   479 label *label136
   480 op div *tmp176 :wait_time 100
 
   507 op add :total_flow_per_ms :items_per_ms :corr_per_ms
   508 op idiv :corr_per_min :corr_per_ms 0.000016666666666666667
   509 set .CORR_SIGN "[]([green]"
-    * jump *label140 lessThan :corr_per_min 0
-    * set .CORR_SIGN "[]([green]+"
-    * label *label140
-    * label *label141
+  510 select .CORR_SIGN greaterThanEq :corr_per_min 0 "[]([green]+" .CORR_SIGN
   511 set .SPEED_UNIT_TXT "[])/min"
   512 jump *label142 equal :alive false
-    * jump *label146 lessThan :min_level .LOW_LEVEL_TRIGGER
-    * label *label147
-    * jump *label144 lessThanEq :max_level .HIGH_LEVEL_TRIGGER
-    * label *label146
-    * set *tmp208 true
-    * jump *label145 always
-    * label *label144
-    * set *tmp208 false
-    * label *label145
+  513 select *tmp366 lessThan :min_level .LOW_LEVEL_TRIGGER true false
+  514 select *tmp208 greaterThan :max_level .HIGH_LEVEL_TRIGGER true *tmp366
+  515 label *label251
   516 jump *label150 equal :wait_time 0
-    * label *label151
   517 jump *label148 lessThanEq *tmp208 :remote_wait_time
   518 label *label150
   519 jump *label152 equal STABILIZATION false
 
   908 sensor *tmp356 .SRC @dead
   909 op strictNotEqual *tmp357 *tmp356 0
   910 jump *label235 notEqual *tmp357 false
-    * label *label236
   911 sensor *tmp358 .DST @dead
   912 op strictNotEqual *tmp359 *tmp358 0
   913 jump *label233 equal *tmp359 false

Modifications by Iterated phase, If Expression Optimization, pass 1, iteration 1 (-1 instructions):
 
    51 ubind UNIT
    52 jump *label12 equal @unit :first_unit
    53 sensor *tmp20 :first_unit @dead
-    * op strictEqual *tmp22 *tmp20 0
+   54 op strictEqual :repeat *tmp20 0
    55 jump *label13 always
    56 label *label12
-    * set *tmp22 false
+   57 set :repeat false
    58 label *label13
-    * set :repeat *tmp22
    59 label *label4
    60 jump *label243 notEqual :repeat false
    61 label *label5

Modifications by Partial loop rotation at line 172:9 (+1 instructions):
 
   129 label *label37
   130 sensor *tmp43 @unit @controlled
   131 jump *label39 equal *tmp43 0
+  132 label *label252
   133 ubind UNIT
   134 label *label38
-    * jump *label37 always
+  135 sensor *tmp43 @unit @controlled
+  136 jump *label252 notEqual *tmp43 0
   137 label *label39
   138 ucontrol flag .QUERY_FLAG
   139 label *label40

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-1 instructions):
 
    37 sensor *tmp10 @unit @speed
    38 op div .SPEED *tmp10 1000
    39 set .TARGET 0
-    * set :repeat true
    40 label *label3
    41 label *label243
    42 sensor *tmp12 @unit @controller
 
   136 label *label39
   137 ucontrol flag .QUERY_FLAG
   138 label *label40
-    * jump *label42 notEqual :flag .QUERY_FLAG
+  139 jump *label42 notEqual .QUERY_FLAG .QUERY_FLAG
   140 label *label247
   141 sensor *tmp46 @unit @dead
   142 jump *label42 notEqual *tmp46 0
 
   507 op add :total_flow_per_ms :items_per_ms :corr_per_ms
   508 op idiv :corr_per_min :corr_per_ms 0.000016666666666666667
   509 set .CORR_SIGN "[]([green]"
-    * select .CORR_SIGN greaterThanEq :corr_per_min 0 "[]([green]+" .CORR_SIGN
+  510 select .CORR_SIGN greaterThanEq :corr_per_min 0 "[]([green]+" "[]([green]"
   511 set .SPEED_UNIT_TXT "[])/min"
   512 jump *label142 equal :alive false
   513 select *tmp366 lessThan :min_level .LOW_LEVEL_TRIGGER true false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-1 instructions):
 
   506 set :last_level :this_level
   507 op add :total_flow_per_ms :items_per_ms :corr_per_ms
   508 op idiv :corr_per_min :corr_per_ms 0.000016666666666666667
-    * set .CORR_SIGN "[]([green]"
   509 select .CORR_SIGN greaterThanEq :corr_per_min 0 "[]([green]+" "[]([green]"
   510 set .SPEED_UNIT_TXT "[])/min"
   511 jump *label142 equal :alive false

Modifications by Partial loop rotation at line 184:13 (+1 instructions):
 
   152 label *label47
   153 sensor *tmp54 @unit @dead
   154 jump *label49 notEqual *tmp54 0
+  155 label *label253
   156 ucontrol within .CORE_X .CORE_Y 8 *tmp56
   157 jump *label49 notEqual *tmp56 false
   158 ucontrol approach .CORE_X .CORE_Y 6
   159 label *label48
-    * jump *label47 always
+  160 sensor *tmp54 @unit @dead
+  161 jump *label253 equal *tmp54 0
   162 label *label49
   163 ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE *tmp59
   164 jump *label52 equal :b_type @vault

Modifications by Partial loop rotation at line 692:1 (+2 instructions):
 
   899 sensor *tmp354 .SORTER @dead
   900 op strictNotEqual *tmp355 *tmp354 0
   901 jump *label232 equal *tmp355 false
+  902 label *label254
   903 print "[salmon]sorter1 is missing![]\nPlease place and link sorter or inverted sorter to the processor."
   904 printflush message1
   905 printflush message2
   906 set .SORTER sorter1
   907 label *label231
-    * jump *label230 always
+  908 sensor *tmp354 .SORTER @dead
+  909 op strictNotEqual *tmp355 *tmp354 0
+  910 jump *label254 notEqual *tmp355 false
   911 label *label232
   912 sensor *tmp356 .SRC @dead
   913 op strictNotEqual *tmp357 *tmp356 0

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   905 printflush message2
   906 set .SORTER sorter1
   907 label *label231
-    * sensor *tmp354 .SORTER @dead
+  908 sensor *tmp354 sorter1 @dead
   909 op strictNotEqual *tmp355 *tmp354 0
   910 jump *label254 notEqual *tmp355 false
   911 label *label232

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-1 instructions):
 
   903 print "[salmon]sorter1 is missing![]\nPlease place and link sorter or inverted sorter to the processor."
   904 printflush message1
   905 printflush message2
-    * set .SORTER sorter1
   906 label *label231
   907 sensor *tmp354 sorter1 @dead
   908 op strictNotEqual *tmp355 *tmp354 0

Modifications by Partial loop rotation at line 700:5 (+1 instructions):
 
   918 label *label237
   919 sensor *tmp361 switch1 @enabled
   920 jump *label239 notEqual *tmp361 false
+  921 label *label255
   922 sensor *tmp362 switch2 @enabled
   923 jump *label239 notEqual *tmp362 false
   924 print "[salmon]Local or remote container became invalid.\nPlease fix and press any button to reinitialize."
   925 printflush message1
   926 printflush message2
   927 label *label238
-    * jump *label237 always
+  928 sensor *tmp361 switch1 @enabled
+  929 jump *label255 equal *tmp361 false
   930 label *label239
   931 label *label233
   932 label *label234

Modifications by Fast-dispatch case at line 712:5 (-13 instructions):
 
   379 jump *label250 equal .ITEM null
   380 label *label99
   381 set .LAST_ITEM .ITEM
-    * jump *label102 notEqual .ITEM @blast-compound
+  382 sensor *tmp367 .ITEM @id
+  383 multijump *tmp367 0 0 (m:*label258)
+  384 multilabel *label275 (m:*label258)
+  385 label *label256
+  386 set *tmp163 null
+  387 jump *label101 always
+  388 multilabel *label273 (m:*label258)
   389 label *label103
   390 set *tmp163 "[]"
   391 jump *label101 always
   392 label *label102
-    * jump *label104 notEqual .ITEM @coal
+  393 multilabel *label264 (m:*label258)
   394 label *label105
   395 set *tmp163 "[]"
   396 jump *label101 always
   397 label *label104
-    * jump *label106 notEqual .ITEM @copper
+  398 multilabel *label259 (m:*label258)
+  399 label *label257
+  400 jump *label256 strictEqual *tmp367 null
   401 label *label107
   402 set *tmp163 "[]"
   403 jump *label101 always
   404 label *label106
-    * jump *label108 notEqual .ITEM @graphite
+  405 multilabel *label262 (m:*label258)
   406 label *label109
   407 set *tmp163 "[]"
   408 jump *label101 always
   409 label *label108
-    * jump *label110 notEqual .ITEM @lead
+  410 multilabel *label260 (m:*label258)
   411 label *label111
   412 set *tmp163 "[]"
   413 jump *label101 always
   414 label *label110
-    * jump *label112 notEqual .ITEM @metaglass
+  415 multilabel *label261 (m:*label258)
   416 label *label113
   417 set *tmp163 "[]"
   418 jump *label101 always
   419 label *label112
-    * jump *label114 notEqual .ITEM @phase-fabric
+  420 multilabel *label270 (m:*label258)
   421 label *label115
   422 set *tmp163 "[]"
   423 jump *label101 always
   424 label *label114
-    * jump *label116 notEqual .ITEM @plastanium
+  425 multilabel *label269 (m:*label258)
   426 label *label117
   427 set *tmp163 "[]"
   428 jump *label101 always
   429 label *label116
-    * jump *label118 notEqual .ITEM @pyratite
+  430 multilabel *label274 (m:*label258)
   431 label *label119
   432 set *tmp163 "[]"
   433 jump *label101 always
   434 label *label118
-    * jump *label120 notEqual .ITEM @sand
+  435 multilabel *label263 (m:*label258)
   436 label *label121
   437 set *tmp163 "[]"
   438 jump *label101 always
   439 label *label120
-    * jump *label122 notEqual .ITEM @scrap
+  440 multilabel *label267 (m:*label258)
   441 label *label123
   442 set *tmp163 "[]"
   443 jump *label101 always
   444 label *label122
-    * jump *label124 notEqual .ITEM @silicon
+  445 multilabel *label268 (m:*label258)
   446 label *label125
   447 set *tmp163 "[]"
   448 jump *label101 always
   449 label *label124
-    * jump *label126 notEqual .ITEM @spore-pod
+  450 multilabel *label272 (m:*label258)
   451 label *label127
   452 set *tmp163 "[]"
   453 jump *label101 always
   454 label *label126
-    * jump *label128 notEqual .ITEM @surge-alloy
+  455 multilabel *label271 (m:*label258)
   456 label *label129
   457 set *tmp163 "[]"
   458 jump *label101 always
   459 label *label128
-    * jump *label130 notEqual .ITEM @thorium
+  460 multilabel *label266 (m:*label258)
   461 label *label131
   462 set *tmp163 "[]"
   463 jump *label101 always
   464 label *label130
-    * jump *label132 notEqual .ITEM @titanium
+  465 multilabel *label265 (m:*label258)
   466 label *label133
   467 set *tmp163 "[]"
-    * jump *label101 always
-    * label *label132
-    * set *tmp163 null
   468 label *label101
   469 label *label100
   470 set .ITEM_ICON *tmp163

Modifications by Iterated phase, Jump Normalization, pass 2, iteration 1 (-1 instructions):
 
   136 label *label39
   137 ucontrol flag .QUERY_FLAG
   138 label *label40
-    * jump *label42 notEqual .QUERY_FLAG .QUERY_FLAG
   139 label *label247
   140 sensor *tmp46 @unit @dead
   141 jump *label42 notEqual *tmp46 0

Modifications by Iterated phase, Condition Optimization, pass 2, iteration 1:
 
   514 op idiv :corr_per_min :corr_per_ms 0.000016666666666666667
   515 select .CORR_SIGN greaterThanEq :corr_per_min 0 "[]([green]+" "[]([green]"
   516 set .SPEED_UNIT_TXT "[])/min"
-    * jump *label142 equal :alive false
+  517 jump *label142 strictNotEqual *tmp150 0
   518 select *tmp366 lessThan :min_level .LOW_LEVEL_TRIGGER true false
   519 select *tmp208 greaterThan :max_level .HIGH_LEVEL_TRIGGER true *tmp366
   520 label *label251

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-1 instructions):
 
   564 label *label139
   565 set :wait_time 0
   566 set :remote_wait_time 0
-    * jump *label154 lessThan @tick .MESSAGE_TIMEOUT
   567 label *label154
   568 label *label155
   569 label *label134

Modifications by Iterated phase, Expression Optimization, pass 2, iteration 1:
 
    42 sensor *tmp12 @unit @controller
    43 jump *label6 notEqual *tmp12 @this
    44 sensor :state @unit @flag
-    * select *tmp365 greaterThanEq :state 1 true false
+   45 op greaterThanEq *tmp365 :state 1
    46 select *tmp18 lessThan :state 6 *tmp365 false
    47 op add .TARGET .TARGET *tmp18
    48 label *label6
 
   515 select .CORR_SIGN greaterThanEq :corr_per_min 0 "[]([green]+" "[]([green]"
   516 set .SPEED_UNIT_TXT "[])/min"
   517 jump *label142 strictNotEqual *tmp150 0
-    * select *tmp366 lessThan :min_level .LOW_LEVEL_TRIGGER true false
+  518 op lessThan *tmp366 :min_level .LOW_LEVEL_TRIGGER
   519 select *tmp208 greaterThan :max_level .HIGH_LEVEL_TRIGGER true *tmp366
   520 label *label251
   521 jump *label150 equal :wait_time 0

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-1 instructions):
 
   282 set .TRANSFER_START @tick
   283 op sub .LOOP_START @tick 60
   284 set .LAST_ITEM @mono
-    * op add .MESSAGE_TIMEOUT @tick 600
   285 set .WAIT_LIMIT 30000
   286 set :items_in_transit 0
   287 set :items_per_min_unit "--"

Modifications by Iterated phase, Temp Variables Elimination, pass 2, iteration 1 (-3 instructions):
 
   217 set .FLOW_CORR_SIGN 1
   218 set .SRC_REMOTE_WAIT 1
   219 set .DST_REMOTE_WAIT 0
-    * select *tmp80 equal LINK_ID 0 " from core" " from vault #"
-    * set .DIRECTION *tmp80
+  220 select .DIRECTION equal LINK_ID 0 " from core" " from vault #"
   221 jump *label62 always
   222 label *label61
   223 op greaterThan .SHOW_REMOTE_LEVEL LINK_ID 0
 
   240 set .FLOW_CORR_SIGN -1
   241 set .SRC_REMOTE_WAIT 0
   242 set .DST_REMOTE_WAIT 1
-    * select *tmp94 equal LINK_ID 0 " to core" " to vault #"
-    * set .DIRECTION *tmp94
+  243 select .DIRECTION equal LINK_ID 0 " to core" " to vault #"
   244 label *label62
   245 select *tmp96 equal LINK_ID 0 "" LINK_ID
   246 op sub *tmp97 :src_capacity .LOAD_LEVEL
 
   347 set .CORR_SIGN "[]"
   348 set :corr_per_min ""
   349 set .SPEED_UNIT_TXT "/min"
-    * select *tmp149 equal .TARGET 0 "\n=== [salmon]Transport deactivated[] ===" ""
-    * set .AUTO_ALLOCATION_TXT *tmp149
+  350 select .AUTO_ALLOCATION_TXT equal .TARGET 0 "\n=== [salmon]Transport deactivated[] ===" ""
   351 label *label88
   352 set .WAIT_LIMIT 30000
   353 label *label85

Modifications by Jumps phase, Jump Straightening, pass 4, iteration 1 (-4 instructions):
 
   596 set :items_in_transit 0
   597 print "Unit status:"
   598 sensor *tmp253 .SRC @dead
-    * jump *label172 equal *tmp253 0
-    * jump *label79 always
+  599 jump *label79 notEqual *tmp253 0
   600 label *label172
   601 sensor *tmp256 .DST @dead
-    * jump *label174 equal *tmp256 0
-    * jump *label79 always
+  602 jump *label79 notEqual *tmp256 0
   603 label *label174
   604 sensor *tmp259 .SORTER @dead
-    * jump *label176 equal *tmp259 0
-    * jump *label79 always
+  605 jump *label79 notEqual *tmp259 0
   606 label *label176
   607 getlink *tmp262 .CONTAINER_INDEX
-    * jump *label178 equal .CONTAINER *tmp262
-    * jump *label79 always
+  608 jump *label79 notEqual .CONTAINER *tmp262
   609 label *label178
   610 label *label91
   611 jump *label180 lessThanEq .CHANGE 0

Modifications by Jumps phase, Jump Threading, pass 4, iteration 1:
 
    76 label *label23
    77 jump *label244 greaterThan :n 0
    78 label *label21
-    * jump *label25 notEqual .CONTAINER null
+   79 jump *label18 notEqual .CONTAINER null
    80 print "[salmon]No vault or container."
    81 printflush message1
-    * jump *label26 always
+   82 jump *label16 always
    83 label *label25
    84 jump *label18 always
    85 label *label26
 
   612 label *label182
   613 label *label180
   614 sensor *tmp270 @unit @controller
-    * jump *label184 notEqual *tmp270 @this
+  615 jump *label77 notEqual *tmp270 @this
   616 sensor :state @unit @flag
-    * jump *label186 equal :state .S_UNUSED
+  617 jump *label77 equal :state .S_UNUSED
   618 op max *tmp276 :state 1
   619 op min :state *tmp276 .STATE_LIMIT
   620 jump *label188 greaterThanEq .CHANGE 0
 
   738 print *tmp344
   739 print " "
   740 print "sec[] to source: [green]"
-    * jump *label223 always
+  741 jump *label221 always
   742 print "[]"
   743 print "\n"
   744 print "Going to source: [green]"
 
   762 print "Parking: [green]"
   763 ucontrol approach .DROP_X .DROP_Y 6
   764 ucontrol within .DROP_X .DROP_Y 8 *tmp349
-    * jump *label226 equal *tmp349 false
+  765 jump *label225 equal *tmp349 false
   766 ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
   767 sensor :items @unit @totalItems
-    * jump *label228 greaterThan :items .PARK_ITEM_LIMIT
+  768 jump *label225 greaterThan :items .PARK_ITEM_LIMIT
   769 ucontrol move .PARK_X .PARK_Y
   770 set :state .S_UNUSED
   771 label *label228

Modifications by Jumps phase, Unreachable Code Elimination, pass 4, iteration 1 (-6 instructions):
 
    80 print "[salmon]No vault or container."
    81 printflush message1
    82 jump *label16 always
-    * label *label25
-    * jump *label18 always
-    * label *label26
-    * jump *label16 always
    83 label *label18
    84 set .CORE null
    85 jump *label27 notEqual LINK_ID 0
 
   735 print " "
   736 print "sec[] to source: [green]"
   737 jump *label221 always
-    * print "[]"
-    * print "\n"
-    * print "Going to source: [green]"
-    * label *label223
-    * jump *label221 always
   738 label *label220
   739 print "[]"
   740 print "\n"
 
   759 jump *label225 greaterThan :items .PARK_ITEM_LIMIT
   760 ucontrol move .PARK_X .PARK_Y
   761 set :state .S_UNUSED
-    * label *label228
-    * label *label226
   762 jump *label225 always
   763 label *label224
   764 op add :active :active 1
 
   766 print :items
   767 print .ITEM_ICON
   768 ucontrol flag :state
-    * label *label186
-    * label *label184
   769 jump *label77 always
   770 label *label79
   771 sensor *tmp354 .SORTER @dead

Modifications by Jumps phase, Single Step Elimination, pass 4, iteration 1 (-1 instructions):
 
   800 label *label233
   801 control enabled switch1 false
   802 control enabled switch2 false
-    * end

Modifications by Final phase, Temp Variables Elimination, iteration 1:
 
    89 ubind UNIT
    90 sensor *tmp36 @unit @controlled
    91 jump *label32 notEqual *tmp36 0
-    * ulocate building core false @copper .CORE_X .CORE_Y *tmp40 .CORE
+   92 ulocate building core false @copper .CORE_X .CORE_Y 0 .CORE
    93 ucontrol flag .S_UNUSED
    94 label *label32
    95 jump *label245 equal .CORE null
 
   134 sensor *tmp54 @unit @dead
   135 jump *label253 equal *tmp54 0
   136 label *label49
-    * ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE *tmp59
+  137 ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE 0
   138 jump *label52 equal :b_type @vault
   139 print "[salmon]Building at "
   140 print .CORE_X

Modifications by Final phase, Print Merging, iteration 1 (-71 instructions):
 
    21 ubind UNIT
    22 jump *label2 notEqual @unit null
    23 label *label242
-    * print "[salmon]No unit of type "
-    * print UNIT
-    * print " "
-    * print "found."
+   24 print "[salmon]No unit of type {0} found."
+   25 format UNIT
    26 printflush message1
    27 ubind UNIT
    28 jump *label242 equal @unit null
 
    95 jump *label28 always
    96 label *label27
    97 printflush message2
-    * print "[green]Locating vault #"
-    * print LINK_ID
-    * print "."
-    * print ".."
+   98 print "[green]Locating vault #{0}..."
+   99 format LINK_ID
   100 printflush message1
   101 op add .QUERY_FLAG 99999900 LINK_ID
   102 label *label246
 
   132 label *label49
   133 ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE 0
   134 jump *label52 equal :b_type @vault
-    * print "[salmon]Building at "
-    * print .CORE_X
-    * print ","
-    * print " "
-    * print .CORE_Y
-    * print " "
-    * print "is not a vault!"
+  135 print "[salmon]Building at {0}, {0} is not a vault!"
+  136 format .CORE_X
+  137 format .CORE_Y
   138 printflush message2
   139 set .CORE null
   140 label *label52
 
   148 jump *label56 equal :sorter_type @sorter
   149 label *label248
   150 jump *label56 equal :sorter_type @inverted-sorter
-    * print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter."
-    * print "\n"
+  151 print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter.\n"
   152 jump *label59 equal .SORTER null
   153 print "Block found: "
   154 print .SORTER
 
   264 ubind UNIT
   265 jump *label82 notEqual @unit null
   266 label *label249
-    * print "No unit of type "
-    * print UNIT
-    * print " "
-    * print "found."
+  267 print "No unit of type {0} found."
+  268 format UNIT
   269 printflush message1
   270 ubind UNIT
   271 jump *label249 equal @unit null
 
   474 set :wait_time 0
   475 set :remote_wait_time 0
   476 label *label134
-    * print ""
-    * print "Moving [green]"
-    * print .ITEM
-    * print "["
-    * print "]"
+  477 print "Moving [green]{0}[]"
+  478 format .ITEM
   479 print .DIRECTION
   480 print *tmp96
   481 print .AUTO_ALLOCATION_TXT
   482 jump *label156 lessThanEq .TARGET 0
   483 jump *label158 lessThan :active .TARGET
-    * print "\n"
-    * print "Using [green]"
-    * print :active
-    * print "/"
-    * print .TARGET
-    * print "["
-    * print "] units ("
-    * print UNIT
-    * print ")"
-    * print " [gold]+"
+  484 print "\nUsing [green]{0}/{0}[] units ({0}) [gold]+"
+  485 format :active
+  486 format .TARGET
+  487 format UNIT
   488 print :items_in_transit
   489 jump *label159 always
   490 label *label158
-    * print "\n"
-    * print "Using [salmon]"
-    * print :active
-    * print "/"
-    * print .TARGET
-    * print "["
-    * print "] units ("
-    * print UNIT
-    * print ")"
-    * print " [gold]+"
+  491 print "\nUsing [salmon]{0}/{0}[] units ({0}) [gold]+"
+  492 format :active
+  493 format .TARGET
+  494 format UNIT
   495 print :items_in_transit
   496 label *label159
   497 jump *label160 lessThanEq .CHANGE 0
   498 print "\n[][salmon]Cannot acquire additional units![]"
   499 label *label160
   500 label *label156
-    * print "\n"
-    * print "[]Local items: [gold]"
+  501 print "\n[]Local items: [gold]"
   502 print :container_items
   503 jump *label162 greaterThanEq .EFF_LOCAL_LIMIT 100
-    * print "[] (limit [orange]"
-    * print .LOCAL_MARGIN
-    * print "["
-    * print "])"
+  504 print "[] (limit [orange]{0}[])"
+  505 format .LOCAL_MARGIN
   506 label *label162
   507 jump *label164 equal .SHOW_REMOTE_LEVEL false
   508 sensor :remote_level .CORE .ITEM
-    * print "\n"
-    * print "[]Remote items: [gold]"
+  509 print "\n[]Remote items: [gold]"
   510 print :remote_level
   511 jump *label166 greaterThanEq .EFF_REMOTE_LIMIT 100
-    * print "[] (limit [orange]"
-    * print .REMOTE_MARGIN
-    * print "["
-    * print "])"
+  512 print "[] (limit [orange]{0}[])"
+  513 format .REMOTE_MARGIN
   514 label *label166
   515 label *label164
   516 jump *label168 lessThanEq .TARGET 0
-    * print "\n"
-    * print "[]Speed: [green]"
+  517 print "\n[]Speed: [green]"
   518 print :items_per_min
   519 print .CORR_SIGN
   520 print :corr_per_min
   521 print .SPEED_UNIT_TXT
   522 jump *label170 equal .EFF_AUTO_ALLOCATION false
-    * print "\n"
-    * print "Unit throughput: [green]"
-    * print :items_per_min_unit
-    * print "["
-    * print "]/min"
-    * print "\n"
-    * print "Min/last round: [green]"
-    * print :turnaround_str
-    * print "["
-    * print "]/[green]"
-    * print :elapsed_str
-    * print "["
-    * print "] s"
+  523 print "\nUnit throughput: [green]{0}[]/min\nMin/last round: [green]{0}[]/[green]{0}[] s"
+  524 format :items_per_min_unit
+  525 format :turnaround_str
+  526 format :elapsed_str
   527 jump *label171 always
   528 label *label170
-    * print "\n"
-    * print "Last round: [green]"
-    * print :elapsed_str
-    * print "["
-    * print "] s"
+  529 print "\nLast round: [green]{0}[] s"
+  530 format :elapsed_str
   531 label *label171
-    * print "\n"
-    * print "Total wait time: [green]"
-    * print :wait_time_str
-    * print "["
-    * print "] s"
+  532 print "\nTotal wait time: [green]{0}[] s"
+  533 format :wait_time_str
   534 label *label168
-    * print "\n"
-    * print "[lightgray]Loop: "
-    * print :loop_time_ms
-    * print " "
-    * print "ms"
+  535 print "\n[lightgray]Loop: {0} ms"
+  536 format :loop_time_ms
   537 printflush message1
   538 op sub .CHANGE .TARGET :active
   539 set :active 0
 
   587 jump *label200 equal *tmp293 false
   588 ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
   589 label *label200
-    * print "[]"
-    * print "\n"
-    * print "Unloading previous items: [green]"
+  590 print "[]\nUnloading previous items: [green]"
   591 label *label199
   592 label *label197
   593 label *label194
 
   605 op len *tmp303 *tmp300 *tmp302
   606 op idiv *tmp304 *tmp303 .SPEED_SEC
   607 op div *tmp305 *tmp304 10
-    * print "[]"
-    * print "\n"
-    * print "[gold]"
-    * print *tmp305
-    * print " "
-    * print "sec[] to source: [green]"
+  608 print "[]\n[gold]{0} sec[] to source: [green]"
+  609 format *tmp305
   610 label *label205
   611 label *label202
   612 jump *label206 notEqual :state 3
 
   620 set :state 4
   621 jump *label211 always
   622 label *label210
-    * print "[]"
-    * print "\n"
-    * print "Waiting at source: [green]"
+  623 print "[]\nWaiting at source: [green]"
   624 ucontrol approach .SRC_X .SRC_Y 6
   625 op add :wait_time :wait_time :loop_time_ms
   626 op mul *tmp315 :loop_time_ms .SRC_REMOTE_WAIT
 
   644 op len *tmp325 *tmp322 *tmp324
   645 op idiv *tmp326 *tmp325 .SPEED_SEC
   646 op div *tmp327 *tmp326 10
-    * print "[]"
-    * print "\n"
-    * print "[gold]"
-    * print *tmp327
-    * print " "
-    * print "sec[] to destination: [green]"
+  647 print "[]\n[gold]{0} sec[] to destination: [green]"
+  648 format *tmp327
   649 label *label215
   650 label *label212
   651 jump *label216 notEqual :state 5
 
   665 op len *tmp342 *tmp339 *tmp341
   666 op idiv *tmp343 *tmp342 .SPEED_SEC
   667 op div *tmp344 *tmp343 10
-    * print "[]"
-    * print "\n"
-    * print "[gold]"
-    * print *tmp344
-    * print " "
-    * print "sec[] to source: [green]"
+  668 print "[]\n[gold]{0} sec[] to source: [green]"
+  669 format *tmp344
   670 jump *label221 always
   671 label *label220
-    * print "[]"
-    * print "\n"
-    * print "Waiting at destination: [green]"
+  672 print "[]\nWaiting at destination: [green]"
   673 ucontrol approach .DST_X .DST_Y 6
   674 op add :wait_time :wait_time :loop_time_ms
   675 op mul *tmp345 :loop_time_ms .DST_REMOTE_WAIT
 
   679 sensor :items @unit @totalItems
   680 op add :items_in_transit :items_in_transit :items
   681 jump *label224 notEqual :state 6
-    * print "[]"
-    * print "\n"
-    * print "Parking: [green]"
+  682 print "[]\nParking: [green]"
   683 ucontrol approach .DROP_X .DROP_Y 6
   684 ucontrol within .DROP_X .DROP_Y 8 *tmp349
   685 jump *label225 equal *tmp349 false

Final code before resolving virtual instructions:

set UNIT @mega
set LINK_ID 0
set AUTO_ALLOCATION true
set MAX_UNITS 24
set HOUSEKEEPING true
set LOCAL_LIMIT 100
set REMOTE_LIMIT 100
set OVERALLOCATION_LOW 0.25
set OVERALLOCATION_HIGH 0.75
set STABILIZATION false
set .STATE_LIMIT null
set .ITEM_ICON null
set .ITEM null
set .CORE_Y null
set .CORE_X null
set .CONTAINER_INDEX null
op max .EFF_LOCAL_LIMIT LOCAL_LIMIT 20
op max .EFF_REMOTE_LIMIT REMOTE_LIMIT 20
set .EFF_AUTO_ALLOCATION AUTO_ALLOCATION
op mul .S_UNUSED -1 HOUSEKEEPING
op add .DEC_OVERALLOCATION 1 OVERALLOCATION_HIGH
ubind UNIT
jump *label2 notEqual @unit null
label *label242
print "[salmon]No unit of type {0} found."
format UNIT
printflush message1
ubind UNIT
jump *label242 equal @unit null
label *label2
set :first_unit @unit
sensor *tmp8 @unit @speed
op div .SPEED_SEC *tmp8 10
sensor *tmp10 @unit @speed
op div .SPEED *tmp10 1000
set .TARGET 0
label *label243
sensor *tmp12 @unit @controller
jump *label6 notEqual *tmp12 @this
sensor :state @unit @flag
op greaterThanEq *tmp365 :state 1
select *tmp18 lessThan :state 6 *tmp365 false
op add .TARGET .TARGET *tmp18
label *label6
ubind UNIT
jump *label12 equal @unit :first_unit
sensor *tmp20 :first_unit @dead
op strictEqual :repeat *tmp20 0
jump *label13 always
label *label12
set :repeat false
label *label13
jump *label243 notEqual :repeat false
set .CHANGE 0
set :active .TARGET
set .DEC_LIMIT 0
set .INC_LIMIT 0
sensor .UNIT_CAPACITY @unit @itemCapacity
set :first_unit null
label *label16
set .CONTAINER null
set .DROP_TARGET null
set :n @links
jump *label21 lessThanEq :n 0
label *label244
op sub :n :n 1
getlink :block :n
sensor *tmp29 :block @type
jump *label24 equal *tmp29 @vault
jump *label23 notEqual *tmp29 @container
label *label24
set .DROP_TARGET .CONTAINER
set .CONTAINER :block
set .CONTAINER_INDEX :n
label *label23
jump *label244 greaterThan :n 0
label *label21
jump *label18 notEqual .CONTAINER null
print "[salmon]No vault or container."
printflush message1
jump *label16 always
label *label18
set .CORE null
jump *label27 notEqual LINK_ID 0
label *label245
print "[green]Locating core..."
printflush message1
ubind UNIT
sensor *tmp36 @unit @controlled
jump *label32 notEqual *tmp36 0
ulocate building core false @copper .CORE_X .CORE_Y 0 .CORE
ucontrol flag .S_UNUSED
label *label32
jump *label245 equal .CORE null
set .DISCARD_UNIT_MAX_ITEMS .UNIT_CAPACITY
jump *label28 always
label *label27
printflush message2
print "[green]Locating vault #{0}..."
format LINK_ID
printflush message1
op add .QUERY_FLAG 99999900 LINK_ID
label *label246
set :flag .QUERY_FLAG
ubind UNIT
sensor *tmp43 @unit @controlled
jump *label39 equal *tmp43 0
label *label252
ubind UNIT
sensor *tmp43 @unit @controlled
jump *label252 notEqual *tmp43 0
label *label39
ucontrol flag .QUERY_FLAG
label *label247
sensor *tmp46 @unit @dead
jump *label42 notEqual *tmp46 0
ucontrol stop
sensor :flag @unit @flag
jump *label247 equal :flag .QUERY_FLAG
label *label42
jump *label45 equal :flag .QUERY_FLAG
op idiv :position :flag 100
op mod .CORE_X :position @mapw
op idiv .CORE_Y :position @mapw
sensor *tmp54 @unit @dead
jump *label49 notEqual *tmp54 0
label *label253
ucontrol within .CORE_X .CORE_Y 8 *tmp56
jump *label49 notEqual *tmp56 false
ucontrol approach .CORE_X .CORE_Y 6
sensor *tmp54 @unit @dead
jump *label253 equal *tmp54 0
label *label49
ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE 0
jump *label52 equal :b_type @vault
print "[salmon]Building at {0}, {0} is not a vault!"
format .CORE_X
format .CORE_Y
printflush message2
set .CORE null
label *label52
label *label45
ucontrol flag .S_UNUSED
jump *label246 equal .CORE null
set .DISCARD_UNIT_MAX_ITEMS 0
label *label28
set .SORTER sorter1
sensor :sorter_type sorter1 @type
jump *label56 equal :sorter_type @sorter
label *label248
jump *label56 equal :sorter_type @inverted-sorter
print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter.\n"
jump *label59 equal .SORTER null
print "Block found: "
print .SORTER
label *label59
printflush message1
set .SORTER sorter1
sensor :sorter_type sorter1 @type
jump *label248 notEqual :sorter_type @sorter
label *label56
jump *label61 notEqual :sorter_type @sorter
set .SHOW_REMOTE_LEVEL true
set .SRC .CORE
set .DST .CONTAINER
sensor :src_capacity .CORE @itemCapacity
sensor :dst_capacity .CONTAINER @itemCapacity
op sub *tmp72 100 .EFF_REMOTE_LIMIT
op mul *tmp73 :src_capacity *tmp72
op idiv .LOAD_LEVEL *tmp73 100
op mul *tmp75 :dst_capacity .EFF_LOCAL_LIMIT
op idiv .DROP_LEVEL *tmp75 100
set .LOCAL_MARGIN .DROP_LEVEL
set .REMOTE_MARGIN .LOAD_LEVEL
op mul .LOW_LEVEL_TRIGGER :dst_capacity 0.09999999999999998
set .HIGH_LEVEL_TRIGGER :dst_capacity
set .FLOW_CORR_SIGN 1
set .SRC_REMOTE_WAIT 1
set .DST_REMOTE_WAIT 0
select .DIRECTION equal LINK_ID 0 " from core" " from vault #"
jump *label62 always
label *label61
op greaterThan .SHOW_REMOTE_LEVEL LINK_ID 0
set .SRC .CONTAINER
set .DST .CORE
sensor :src_capacity .CONTAINER @itemCapacity
sensor :dst_capacity .CORE @itemCapacity
op sub *tmp84 100 .EFF_LOCAL_LIMIT
op mul *tmp85 :src_capacity *tmp84
op idiv .LOAD_LEVEL *tmp85 100
op mul *tmp87 :dst_capacity .EFF_REMOTE_LIMIT
op idiv *tmp88 *tmp87 100
op equal *tmp89 LINK_ID 0
op mul *tmp90 *tmp89 .UNIT_CAPACITY
op add .DROP_LEVEL *tmp88 *tmp90
set .LOCAL_MARGIN .LOAD_LEVEL
set .REMOTE_MARGIN .DROP_LEVEL
op mul .HIGH_LEVEL_TRIGGER :src_capacity 0.9
set .LOW_LEVEL_TRIGGER 0
set .FLOW_CORR_SIGN -1
set .SRC_REMOTE_WAIT 0
set .DST_REMOTE_WAIT 1
select .DIRECTION equal LINK_ID 0 " to core" " to vault #"
label *label62
select *tmp96 equal LINK_ID 0 "" LINK_ID
op sub *tmp97 :src_capacity .LOAD_LEVEL
op min .LOAD_PACK .UNIT_CAPACITY *tmp97
op min .DROP_PACK .UNIT_CAPACITY .DROP_LEVEL
sensor .SRC_X .SRC @x
sensor .SRC_Y .SRC @y
sensor .DST_X .DST @x
sensor .DST_Y .DST @y
op sub *tmp104 .DST_X .SRC_X
op sub *tmp105 .DST_Y .SRC_Y
op len *tmp106 *tmp104 *tmp105
op sub .DISTANCE *tmp106 14
op max *tmp109 .DISTANCE 10
op mul *tmp110 2 *tmp109
op div .TRAVEL_TIME *tmp110 .SPEED
jump *label69 notEqual .DROP_TARGET null
set .DROP_TARGET .CORE
set .DROP_X .CORE_X
set .DROP_Y .CORE_Y
sensor *tmp119 .CONTAINER @x
select *tmp121 lessThan *tmp119 .CORE_X 15 -15
op add .PARK_X .CORE_X *tmp121
sensor *tmp123 .CONTAINER @y
select *tmp125 lessThan *tmp123 .CORE_Y 15 -15
op add .PARK_Y .CORE_Y *tmp125
op equal *tmp127 LINK_ID 0
op mul .PARK_ITEM_LIMIT *tmp127 .UNIT_CAPACITY
jump *label70 always
label *label69
sensor .DROP_X .DROP_TARGET @x
sensor .DROP_Y .DROP_TARGET @y
set .PARK_X .DROP_X
set .PARK_Y .DROP_Y
set .PARK_ITEM_LIMIT 0
label *label70
set .TRANSFER_START @tick
op sub .LOOP_START @tick 60
set .LAST_ITEM @mono
set .WAIT_LIMIT 30000
set :items_in_transit 0
set :items_per_min_unit "--"
set :items_per_min "-- "
set :turnaround_str "--"
set :elapsed_str "--"
set :wait_time_str 0
set :wait_time 0
set :transfers 0
set :transferred 0
set :total_flow_2 0
set :total_flow_1 0
set :remote_wait_time 0
set :min_level 0
set :max_level 0
set :loop_time_ms 0
set :last_level 0
select .CORR_SIGN notEqual AUTO_ALLOCATION false "[]([green]+" "[]"
select :corr_per_min notEqual AUTO_ALLOCATION false 0 ""
select .SPEED_UNIT_TXT notEqual AUTO_ALLOCATION false "[])/min" "/min"
select .AUTO_ALLOCATION_TXT notEqual AUTO_ALLOCATION false "\n=== [gold]Gathering statistics[] ===" ""
label *label77
ubind UNIT
jump *label82 notEqual @unit null
label *label249
print "No unit of type {0} found."
format UNIT
printflush message1
ubind UNIT
jump *label249 equal @unit null
label *label82
sensor *tmp136 switch1 @enabled
jump *label83 equal *tmp136 false
control enabled switch1 false
set .EFF_AUTO_ALLOCATION false
set .AUTO_ALLOCATION_TXT ""
op add *tmp139 .TARGET 1
op min .TARGET *tmp139 MAX_UNITS
set .CORR_SIGN "[]"
set :corr_per_min ""
set .SPEED_UNIT_TXT "/min"
set .WAIT_LIMIT 30000
label *label83
sensor *tmp141 switch2 @enabled
jump *label85 equal *tmp141 false
control enabled switch2 false
jump *label87 greaterThanEq .TARGET 1
set .EFF_AUTO_ALLOCATION true
set .TARGET 1
set .DEC_LIMIT 0
set .INC_LIMIT 0
set .CORR_SIGN "[]([green]+"
set :corr_per_min 0
set .SPEED_UNIT_TXT "[])/min"
jump *label88 always
label *label87
set .EFF_AUTO_ALLOCATION false
op sub *tmp146 .TARGET 1
op max .TARGET *tmp146 0
set .CORR_SIGN "[]"
set :corr_per_min ""
set .SPEED_UNIT_TXT "/min"
select .AUTO_ALLOCATION_TXT equal .TARGET 0 "\n=== [salmon]Transport deactivated[] ===" ""
label *label88
set .WAIT_LIMIT 30000
label *label85
sensor *tmp150 :first_unit @dead
op strictEqual :alive *tmp150 0
op strictEqual *tmp152 @unit :first_unit
jump *label91 greaterThan :alive *tmp152
jump *label93 notEqual :active 0
print "\n[salmon]No active units.[]"
label *label93
printflush message2
set .STATE_LIMIT 6
sensor .ITEM .SORTER @config
jump *label95 equal .ITEM .LAST_ITEM
jump *label99 notEqual .ITEM null
label *label250
print "[salmon]No item type selected for transport.[]"
printflush message1
sensor .ITEM .SORTER @config
jump *label250 equal .ITEM null
label *label99
set .LAST_ITEM .ITEM
sensor *tmp367 .ITEM @id
multijump *tmp367 0 0
multilabel *label275
label *label256
set *tmp163 null
jump *label101 always
multilabel *label273
set *tmp163 "[]"                       # Origin: 286, keys: 14
jump *label101 always
multilabel *label264
set *tmp163 "[]"                       # Origin: 286, keys: 5
jump *label101 always
multilabel *label259
jump *label256 strictEqual *tmp367 null
set *tmp163 "[]"
jump *label101 always
multilabel *label262
set *tmp163 "[]"                       # Origin: 286, keys: 3
jump *label101 always
multilabel *label260
set *tmp163 "[]"                       # Origin: 286, keys: 1
jump *label101 always
multilabel *label261
set *tmp163 "[]"                       # Origin: 286, keys: 2
jump *label101 always
multilabel *label270
set *tmp163 "[]"                       # Origin: 286, keys: 11
jump *label101 always
multilabel *label269
set *tmp163 "[]"                       # Origin: 286, keys: 10
jump *label101 always
multilabel *label274
set *tmp163 "[]"                       # Origin: 286, keys: 15
jump *label101 always
multilabel *label263
set *tmp163 "[]"                       # Origin: 286, keys: 4
jump *label101 always
multilabel *label267
set *tmp163 "[]"                       # Origin: 286, keys: 8
jump *label101 always
multilabel *label268
set *tmp163 "[]"                       # Origin: 286, keys: 9
jump *label101 always
multilabel *label272
set *tmp163 "[]"                       # Origin: 286, keys: 13
jump *label101 always
multilabel *label271
set *tmp163 "[]"                       # Origin: 286, keys: 12
jump *label101 always
multilabel *label266
set *tmp163 "[]"                       # Origin: 286, keys: 7
jump *label101 always
multilabel *label265
set *tmp163 "[]"                       # Origin: 286, keys: 6
label *label101
set .ITEM_ICON *tmp163
set .STATE_LIMIT 1
sensor :last_level .CONTAINER .ITEM
set :min_level 999999
set :max_level 0
label *label95
sensor :container_items .CONTAINER .ITEM
op min :min_level :min_level :container_items
op max :max_level :max_level :container_items
op sub :loop_time @tick .LOOP_START
set .LOOP_START @tick
op mul *tmp171 :loop_time 100
op idiv :loop_time_ms *tmp171 6
jump *label136 greaterThanEq :transfers :active
jump *label134 lessThanEq :wait_time .WAIT_LIMIT
label *label136
op div *tmp176 :wait_time 100
op ceil *tmp177 *tmp176
op div :wait_time_str *tmp177 10
op sub :elapsed_ticks @tick .TRANSFER_START
set .TRANSFER_START @tick
op div :elapsed_ms :elapsed_ticks 0.06
op idiv *tmp182 :elapsed_ms 100
op div :elapsed_str *tmp182 10
op div :items_per_ms :transferred :elapsed_ms
op idiv :items_per_min :items_per_ms 0.000016666666666666667
set :transferred 0
set :transfers 0
jump *label138 equal .EFF_AUTO_ALLOCATION false
set .AUTO_ALLOCATION_TXT "\n=== [gold]Unit auto allocation[] ==="
op mul *tmp187 16.666666666666668 :loop_time
op add :turnaround_ms .TRAVEL_TIME *tmp187
op mul .WAIT_LIMIT :turnaround_ms .DEC_OVERALLOCATION
op idiv *tmp190 :turnaround_ms 100
op div :turnaround_str *tmp190 10
op div :items_per_ms_unit .UNIT_CAPACITY :turnaround_ms
op idiv :items_per_min_unit :items_per_ms_unit 0.000016666666666666667
op add *tmp195 :min_level :max_level
op div :this_level *tmp195 2
op sub *tmp197 :last_level :this_level
op mul :corr *tmp197 .FLOW_CORR_SIGN
op div :corr_per_ms :corr :elapsed_ms
set :last_level :this_level
op add :total_flow_per_ms :items_per_ms :corr_per_ms
op idiv :corr_per_min :corr_per_ms 0.000016666666666666667
select .CORR_SIGN greaterThanEq :corr_per_min 0 "[]([green]+" "[]([green]"
set .SPEED_UNIT_TXT "[])/min"
jump *label142 strictNotEqual *tmp150 0
op lessThan *tmp366 :min_level .LOW_LEVEL_TRIGGER
select *tmp208 greaterThan :max_level .HIGH_LEVEL_TRIGGER true *tmp366
jump *label150 equal :wait_time 0
jump *label148 lessThanEq *tmp208 :remote_wait_time
label *label150
jump *label152 equal STABILIZATION false
set :total_flow_3 :total_flow_2
set :total_flow_2 :total_flow_1
set :total_flow_1 :total_flow_per_ms
op add *tmp213 :total_flow_3 :total_flow_2
op add *tmp214 *tmp213 :total_flow_per_ms
op div :total_flow_per_ms *tmp214 3
label *label152
op div *tmp216 :total_flow_per_ms :items_per_ms_unit
op add *tmp217 *tmp216 OVERALLOCATION_LOW
op ceil :new_target *tmp217
op mul :level_boost 2 *tmp208
op add *tmp220 :new_target :level_boost
op min :new_target *tmp220 MAX_UNITS
op sub *tmp222 :new_target :active
op max *tmp223 *tmp222 0
op min :new_change *tmp223 .INC_LIMIT
set .INC_LIMIT 6
op lessThanEq *tmp225 :new_change 0
op mul .DEC_LIMIT *tmp225 -1
jump *label149 always
label *label148
op idiv *tmp227 :wait_time .WAIT_LIMIT
op mul *tmp228 -1 *tmp227
op max :new_change *tmp228 .DEC_LIMIT
op greaterThanEq *tmp230 :new_change 0
op mul .INC_LIMIT *tmp230 6
set .DEC_LIMIT -1
label *label149
op add *tmp232 :active :new_change
op max .TARGET *tmp232 1
jump *label143 always
label *label142
set .INC_LIMIT 0
set .DEC_LIMIT 0
label *label143
set :min_level 999999
set :max_level 0
label *label138
set :wait_time 0
set :remote_wait_time 0
label *label134
print "Moving [green]{0}[]"
format .ITEM
print .DIRECTION
print *tmp96
print .AUTO_ALLOCATION_TXT
jump *label156 lessThanEq .TARGET 0
jump *label158 lessThan :active .TARGET
print "\nUsing [green]{0}/{0}[] units ({0}) [gold]+"
format :active
format .TARGET
format UNIT
print :items_in_transit
jump *label159 always
label *label158
print "\nUsing [salmon]{0}/{0}[] units ({0}) [gold]+"
format :active
format .TARGET
format UNIT
print :items_in_transit
label *label159
jump *label160 lessThanEq .CHANGE 0
print "\n[][salmon]Cannot acquire additional units![]"
label *label160
label *label156
print "\n[]Local items: [gold]"
print :container_items
jump *label162 greaterThanEq .EFF_LOCAL_LIMIT 100
print "[] (limit [orange]{0}[])"
format .LOCAL_MARGIN
label *label162
jump *label164 equal .SHOW_REMOTE_LEVEL false
sensor :remote_level .CORE .ITEM
print "\n[]Remote items: [gold]"
print :remote_level
jump *label166 greaterThanEq .EFF_REMOTE_LIMIT 100
print "[] (limit [orange]{0}[])"
format .REMOTE_MARGIN
label *label166
label *label164
jump *label168 lessThanEq .TARGET 0
print "\n[]Speed: [green]"
print :items_per_min
print .CORR_SIGN
print :corr_per_min
print .SPEED_UNIT_TXT
jump *label170 equal .EFF_AUTO_ALLOCATION false
print "\nUnit throughput: [green]{0}[]/min\nMin/last round: [green]{0}[]/[green]{0}[] s"
format :items_per_min_unit
format :turnaround_str
format :elapsed_str
jump *label171 always
label *label170
print "\nLast round: [green]{0}[] s"
format :elapsed_str
label *label171
print "\nTotal wait time: [green]{0}[] s"
format :wait_time_str
label *label168
print "\n[lightgray]Loop: {0} ms"
format :loop_time_ms
printflush message1
op sub .CHANGE .TARGET :active
set :active 0
set :first_unit @unit
set :items_in_transit 0
print "Unit status:"
sensor *tmp253 .SRC @dead
jump *label79 notEqual *tmp253 0
sensor *tmp256 .DST @dead
jump *label79 notEqual *tmp256 0
sensor *tmp259 .SORTER @dead
jump *label79 notEqual *tmp259 0
getlink *tmp262 .CONTAINER_INDEX
jump *label79 notEqual .CONTAINER *tmp262
label *label91
jump *label180 lessThanEq .CHANGE 0
sensor *tmp267 @unit @controlled
jump *label182 notEqual *tmp267 0
op sub .CHANGE .CHANGE 1
ucontrol flag 1
label *label182
label *label180
sensor *tmp270 @unit @controller
jump *label77 notEqual *tmp270 @this
sensor :state @unit @flag
jump *label77 equal :state .S_UNUSED
op max *tmp276 :state 1
op min :state *tmp276 .STATE_LIMIT
jump *label188 greaterThanEq .CHANGE 0
jump *label190 equal :state 6
sensor *tmp282 @unit @totalItems
jump *label192 greaterThan *tmp282 .DISCARD_UNIT_MAX_ITEMS
op add .CHANGE .CHANGE 1
set :state 6
label *label192
label *label190
label *label188
jump *label194 notEqual :state 1
sensor *tmp287 @unit @totalItems
jump *label196 notEqual *tmp287 0
set :state 2
jump *label197 always
label *label196
sensor *tmp290 @unit @firstItem
jump *label198 notEqual *tmp290 .ITEM
set :state 4
jump *label199 always
label *label198
ucontrol approach .DROP_X .DROP_Y 6
ucontrol within .DROP_X .DROP_Y 8 *tmp293
jump *label200 equal *tmp293 false
ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
label *label200
print "[]\nUnloading previous items: [green]"
label *label199
label *label197
label *label194
jump *label202 notEqual :state 2
ucontrol approach .SRC_X .SRC_Y 6
ucontrol within .SRC_X .SRC_Y 8 *tmp297
jump *label204 equal *tmp297 false
set :state 3
jump *label205 always
label *label204
sensor *tmp299 @unit @x
op sub *tmp300 .SRC_X *tmp299
sensor *tmp301 @unit @y
op sub *tmp302 .SRC_Y *tmp301
op len *tmp303 *tmp300 *tmp302
op idiv *tmp304 *tmp303 .SPEED_SEC
op div *tmp305 *tmp304 10
print "[]\n[gold]{0} sec[] to source: [green]"
format *tmp305
label *label205
label *label202
jump *label206 notEqual :state 3
sensor *tmp308 .SRC .ITEM
op sub :max_load *tmp308 .LOAD_LEVEL
jump *label208 lessThan :max_load .LOAD_PACK
ucontrol itemTake .SRC .ITEM :max_load
label *label208
sensor *tmp312 @unit @totalItems
jump *label210 lessThan *tmp312 .UNIT_CAPACITY
set :state 4
jump *label211 always
label *label210
print "[]\nWaiting at source: [green]"
ucontrol approach .SRC_X .SRC_Y 6
op add :wait_time :wait_time :loop_time_ms
op mul *tmp315 :loop_time_ms .SRC_REMOTE_WAIT
op add :remote_wait_time :remote_wait_time *tmp315
label *label211
label *label206
jump *label212 notEqual :state 4
ucontrol approach .DST_X .DST_Y 6
ucontrol within .DST_X .DST_Y 8 *tmp318
jump *label214 equal *tmp318 false
sensor *tmp320 @unit @totalItems
op add :transferred :transferred *tmp320
op add :transfers :transfers 1
set :state 5
jump *label215 always
label *label214
sensor *tmp321 @unit @x
op sub *tmp322 .DST_X *tmp321
sensor *tmp323 @unit @y
op sub *tmp324 .DST_Y *tmp323
op len *tmp325 *tmp322 *tmp324
op idiv *tmp326 *tmp325 .SPEED_SEC
op div *tmp327 *tmp326 10
print "[]\n[gold]{0} sec[] to destination: [green]"
format *tmp327
label *label215
label *label212
jump *label216 notEqual :state 5
sensor *tmp330 .DST .ITEM
op sub :max_drop .DROP_LEVEL *tmp330
jump *label218 lessThan :max_drop .DROP_PACK
ucontrol itemDrop .DST :max_drop
label *label218
sensor *tmp334 @unit @totalItems
jump *label220 greaterThan *tmp334 0
set :state 2
ucontrol approach .SRC_X .SRC_Y 6
sensor *tmp338 @unit @x
op sub *tmp339 .SRC_X *tmp338
sensor *tmp340 @unit @y
op sub *tmp341 .SRC_Y *tmp340
op len *tmp342 *tmp339 *tmp341
op idiv *tmp343 *tmp342 .SPEED_SEC
op div *tmp344 *tmp343 10
print "[]\n[gold]{0} sec[] to source: [green]"
format *tmp344
jump *label221 always
label *label220
print "[]\nWaiting at destination: [green]"
ucontrol approach .DST_X .DST_Y 6
op add :wait_time :wait_time :loop_time_ms
op mul *tmp345 :loop_time_ms .DST_REMOTE_WAIT
op add :remote_wait_time :remote_wait_time *tmp345
label *label221
label *label216
sensor :items @unit @totalItems
op add :items_in_transit :items_in_transit :items
jump *label224 notEqual :state 6
print "[]\nParking: [green]"
ucontrol approach .DROP_X .DROP_Y 6
ucontrol within .DROP_X .DROP_Y 8 *tmp349
jump *label225 equal *tmp349 false
ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
sensor :items @unit @totalItems
jump *label225 greaterThan :items .PARK_ITEM_LIMIT
ucontrol move .PARK_X .PARK_Y
set :state .S_UNUSED
jump *label225 always
label *label224
op add :active :active 1
label *label225
print :items
print .ITEM_ICON
ucontrol flag :state
jump *label77 always
label *label79
sensor *tmp354 .SORTER @dead
op strictNotEqual *tmp355 *tmp354 0
jump *label232 equal *tmp355 false
label *label254
print "[salmon]sorter1 is missing![]\nPlease place and link sorter or inverted sorter to the processor."
printflush message1
printflush message2
sensor *tmp354 sorter1 @dead
op strictNotEqual *tmp355 *tmp354 0
jump *label254 notEqual *tmp355 false
label *label232
sensor *tmp356 .SRC @dead
op strictNotEqual *tmp357 *tmp356 0
jump *label235 notEqual *tmp357 false
sensor *tmp358 .DST @dead
op strictNotEqual *tmp359 *tmp358 0
jump *label233 equal *tmp359 false
label *label235
sensor *tmp361 switch1 @enabled
jump *label239 notEqual *tmp361 false
label *label255
sensor *tmp362 switch2 @enabled
jump *label239 notEqual *tmp362 false
print "[salmon]Local or remote container became invalid.\nPlease fix and press any button to reinitialize."
printflush message1
printflush message2
sensor *tmp361 switch1 @enabled
jump *label255 equal *tmp361 false
label *label239
label *label233
control enabled switch1 false
control enabled switch2 false
