   127 instructions before optimizations.
     9 instructions eliminated by Temp Variables Elimination (5 iterations).
     1 instructions eliminated by Case Expression Optimization.
     9 instructions eliminated by Dead Code Elimination (4 iterations).
     7 instructions eliminated by Condition Optimization (5 iterations).
     5 instructions eliminated by Single Step Elimination (2 passes, 6 iterations).
     5 instructions eliminated by Data Flow Optimization (6 iterations).
     3 loops improved by Loop Optimization.
     1 instructions eliminated by Case Switching (4 iterations).
     1 case expressions converted to fast dispatch by Case Switching.
     5 instructions eliminated by Jump Straightening (5 iterations).
     1 instructions updated by Jump Threading.
     6 instructions eliminated by Print Merging.
    79 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 914):
  * Partial loop rotation at line 43:1                           size    +1, benefit       25.0, efficiency     25.000 (+1 instructions)
  o Fast-dispatch case at line 14:9                              size    -2, benefit      312.5, efficiency   Infinity

Pass 1: speed optimization selection (cost limit 913):
  * Fast-dispatch case at line 14:9                              size    -2, benefit      312.5, efficiency   Infinity (-1 instructions)

Modifications by Initial phase, Case Expression Optimization, iteration 1 (-1 instructions):
 
    27 print "\nFound: "
    28 print :block
    29 sensor *tmp8 :block @type
-    * set *tmp9 *tmp8
-    * jump *label11 equal *tmp9 @message
+   30 jump *label11 equal *tmp8 @message
    31 jump *label10 always
    32 label *label11
    33 set .MESSAGE :block
    34 set *tmp7 .MESSAGE
    35 jump *label9 always
    36 label *label10
-    * jump *label13 equal *tmp9 @switch
+   37 jump *label13 equal *tmp8 @switch
    38 jump *label12 always
    39 label *label13
    40 set .SWITCH :block
    41 set *tmp7 .SWITCH
    42 jump *label9 always
    43 label *label12
-    * jump *label15 equal *tmp9 @liquid-tank
+   44 jump *label15 equal *tmp8 @liquid-tank
    45 jump *label14 always
    46 label *label15
    47 set .TANK_CRYO .TANK_WATER
 
    49 set *tmp7 .TANK_WATER
    50 jump *label9 always
    51 label *label14
-    * jump *label17 equal *tmp9 @logic-display
+   52 jump *label17 equal *tmp8 @logic-display
    53 jump *label16 always
    54 label *label17
    55 set .DISPLAY :block

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-9 instructions):
 
    31 jump *label10 always
    32 label *label11
    33 set .MESSAGE :block
-    * set *tmp7 .MESSAGE
    34 jump *label9 always
    35 label *label10
    36 jump *label13 equal *tmp8 @switch
    37 jump *label12 always
    38 label *label13
    39 set .SWITCH :block
-    * set *tmp7 .SWITCH
    40 jump *label9 always
    41 label *label12
    42 jump *label15 equal *tmp8 @liquid-tank
 
    44 label *label15
    45 set .TANK_CRYO .TANK_WATER
    46 set .TANK_WATER :block
-    * set *tmp7 .TANK_WATER
    47 jump *label9 always
    48 label *label14
    49 jump *label17 equal *tmp8 @logic-display
    50 jump *label16 always
    51 label *label17
    52 set .DISPLAY :block
-    * set *tmp7 .DISPLAY
    53 jump *label9 always
    54 label *label16
-    * set *tmp7 null
    55 label *label9
    56 label *label7
    57 jump *label6 always
 
    67 op equal *tmp10 .TANK_CRYO null
    68 jump *label18 equal *tmp10 false
    69 print "\nNo cryofluid or water tank."
-    * set *tmp11 "\nNo cryofluid or water tank."
    70 jump *label19 always
    71 label *label18
-    * set *tmp11 null
    72 label *label19
    73 op equal *tmp12 .DISPLAY null
    74 jump *label20 equal *tmp12 false
    75 print "\nNo display."
-    * set *tmp13 "\nNo display."
    76 jump *label21 always
    77 label *label20
-    * set *tmp13 null
    78 label *label21
    79 printflush .MESSAGE
    80 label *label1

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-9 instructions):
 
    15 jump *label2 always
    16 label *label3
    17 print "Water and Cryofluid Level Meter"
-    * set *tmp3 @links
-    * set :n *tmp3
+   18 set :n @links
    19 label *label6
    20 op greaterThan *tmp4 :n 0
    21 jump *label8 equal *tmp4 false
-    * op sub *tmp5 :n 1
-    * set :n *tmp5
-    * getlink *tmp6 :n
-    * set :block *tmp6
+   22 op sub :n :n 1
+   23 getlink :block :n
    24 print "\nFound: "
    25 print :block
    26 sensor *tmp8 :block @type
 
    78 jump *label0 always
    79 label *label2
    80 set .MULTIPLIER 0.03666666666666667
-    * set *tmp14 .SWITCH
-    * control enabled *tmp14 0
+   81 control enabled .SWITCH 0
    82 label *label22
    83 sensor *tmp16 .SWITCH @enabled
    84 op equal *tmp17 *tmp16 0
    85 jump *label24 equal *tmp17 false
-    * set *tmp18 @time
-    * set :start_time *tmp18
+   86 set :start_time @time
    87 draw clear 0 0 0
    88 draw color 255 255 255 255
    89 draw image 20 10 @water 16 0
 
    91 draw color 90 100 170 255
    92 draw rect 14 20 12 55
    93 draw color 255 255 16 255
-    * sensor *tmp19 .TANK_WATER @totalLiquids
-    * set :water *tmp19
+   94 sensor :water .TANK_WATER @totalLiquids
    95 op mul *tmp20 :water .MULTIPLIER
-    * op add *tmp21 *tmp20 20
-    * set :pos *tmp21
+   96 op add :pos *tmp20 20
    97 op add *tmp22 :pos 7
    98 op sub *tmp23 :pos 7
    99 draw triangle 6 *tmp22 14 :pos 6 *tmp23
 
   103 draw color 110 200 230 255
   104 draw rect 54 20 12 55
   105 draw color 255 255 16 255
-    * sensor *tmp26 .TANK_CRYO @totalLiquids
-    * set :cryo *tmp26
+  106 sensor :cryo .TANK_CRYO @totalLiquids
   107 op mul *tmp27 :cryo .MULTIPLIER
-    * op add *tmp28 *tmp27 20
-    * set :pos *tmp28
+  108 op add :pos *tmp27 20
   109 op add *tmp29 :pos 7
   110 op sub *tmp30 :pos 7
   111 draw triangle 46 *tmp29 54 :pos 46 *tmp30

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-5 instructions):
 
    11 jump *label4 always
    12 label *label4
    13 op equal *tmp2 .DISPLAY null
-    * jump *label3 notEqual *tmp2 false
-    * jump *label2 always
+   14 jump *label2 equal *tmp2 false
    15 label *label3
    16 print "Water and Cryofluid Level Meter"
    17 set :n @links
 
    23 print "\nFound: "
    24 print :block
    25 sensor *tmp8 :block @type
-    * jump *label11 equal *tmp8 @message
-    * jump *label10 always
+   26 jump *label10 notEqual *tmp8 @message
    27 label *label11
    28 set .MESSAGE :block
    29 jump *label9 always
    30 label *label10
-    * jump *label13 equal *tmp8 @switch
-    * jump *label12 always
+   31 jump *label12 notEqual *tmp8 @switch
    32 label *label13
    33 set .SWITCH :block
    34 jump *label9 always
    35 label *label12
-    * jump *label15 equal *tmp8 @liquid-tank
-    * jump *label14 always
+   36 jump *label14 notEqual *tmp8 @liquid-tank
    37 label *label15
    38 set .TANK_CRYO .TANK_WATER
    39 set .TANK_WATER :block
    40 jump *label9 always
    41 label *label14
-    * jump *label17 equal *tmp8 @logic-display
-    * jump *label16 always
+   42 jump *label16 notEqual *tmp8 @logic-display
    43 label *label17
    44 set .DISPLAY :block
    45 jump *label9 always

Modifications by Iterated phase, Condition Optimization, pass 1, iteration 1 (-7 instructions):
 
     3 set .SWITCH null
     4 set .DISPLAY null
     5 label *label0
-    * op equal *tmp0 .TANK_CRYO null
-    * jump *label3 notEqual *tmp0 false
+    6 jump *label3 equal .TANK_CRYO null
     7 label *label5
-    * op equal *tmp1 .TANK_WATER null
-    * jump *label3 notEqual *tmp1 false
+    8 jump *label3 equal .TANK_WATER null
     9 jump *label4 always
    10 label *label4
-    * op equal *tmp2 .DISPLAY null
-    * jump *label2 equal *tmp2 false
+   11 jump *label2 notEqual .DISPLAY null
    12 label *label3
    13 print "Water and Cryofluid Level Meter"
    14 set :n @links
    15 label *label6
-    * op greaterThan *tmp4 :n 0
-    * jump *label8 equal *tmp4 false
+   16 jump *label8 lessThanEq :n 0
    17 op sub :n :n 1
    18 getlink :block :n
    19 print "\nFound: "
 
    52 print .TANK_WATER
    53 print "\nCryo tank: "
    54 print .TANK_CRYO
-    * op equal *tmp10 .TANK_CRYO null
-    * jump *label18 equal *tmp10 false
+   55 jump *label18 notEqual .TANK_CRYO null
    56 print "\nNo cryofluid or water tank."
    57 jump *label19 always
    58 label *label18
    59 label *label19
-    * op equal *tmp12 .DISPLAY null
-    * jump *label20 equal *tmp12 false
+   60 jump *label20 notEqual .DISPLAY null
    61 print "\nNo display."
    62 jump *label21 always
    63 label *label20
 
    70 control enabled .SWITCH 0
    71 label *label22
    72 sensor *tmp16 .SWITCH @enabled
-    * op equal *tmp17 *tmp16 0
-    * jump *label24 equal *tmp17 false
+   73 jump *label24 notEqual *tmp16 0
    74 set :start_time @time
    75 draw clear 0 0 0
    76 draw color 255 255 255 255

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-4 instructions):
 
     6 jump *label3 equal .TANK_CRYO null
     7 label *label5
     8 jump *label3 equal .TANK_WATER null
-    * jump *label4 always
     9 label *label4
    10 jump *label2 notEqual .DISPLAY null
    11 label *label3
 
    37 jump *label16 notEqual *tmp8 @logic-display
    38 label *label17
    39 set .DISPLAY :block
-    * jump *label9 always
    40 label *label16
    41 label *label9
    42 label *label7
 
    52 print .TANK_CRYO
    53 jump *label18 notEqual .TANK_CRYO null
    54 print "\nNo cryofluid or water tank."
-    * jump *label19 always
    55 label *label18
    56 label *label19
    57 jump *label20 notEqual .DISPLAY null
    58 print "\nNo display."
-    * jump *label21 always
    59 label *label20
    60 label *label21
    61 printflush .MESSAGE

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    76 draw rect 14 20 12 55
    77 draw color 255 255 16 255
    78 sensor :water .TANK_WATER @totalLiquids
-    * op mul *tmp20 :water .MULTIPLIER
+   79 op mul *tmp20 :water 0.03666666666666667
    80 op add :pos *tmp20 20
    81 op add *tmp22 :pos 7
    82 op sub *tmp23 :pos 7
    83 draw triangle 6 *tmp22 14 :pos 6 *tmp23
    84 op add *tmp24 :pos 7
    85 op sub *tmp25 :pos 7
-    * draw triangle 34 *tmp24 26 :pos 34 *tmp25
+   86 draw triangle 34 *tmp22 26 :pos 34 *tmp23
    87 draw color 110 200 230 255
    88 draw rect 54 20 12 55
    89 draw color 255 255 16 255
    90 sensor :cryo .TANK_CRYO @totalLiquids
-    * op mul *tmp27 :cryo .MULTIPLIER
+   91 op mul *tmp27 :cryo 0.03666666666666667
    92 op add :pos *tmp27 20
    93 op add *tmp29 :pos 7
    94 op sub *tmp30 :pos 7
    95 draw triangle 46 *tmp29 54 :pos 46 *tmp30
    96 op add *tmp31 :pos 7
    97 op sub *tmp32 :pos 7
-    * draw triangle 74 *tmp31 66 :pos 74 *tmp32
+   98 draw triangle 74 *tmp29 66 :pos 74 *tmp30
    99 drawflush .DISPLAY
   100 print "Water and Cryofluid Level Meter"
   101 op mul *tmp33 100 :water

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-5 instructions):
 
    62 label *label1
    63 jump *label0 always
    64 label *label2
-    * set .MULTIPLIER 0.03666666666666667
    65 control enabled .SWITCH 0
    66 label *label22
    67 sensor *tmp16 .SWITCH @enabled
 
    80 op add *tmp22 :pos 7
    81 op sub *tmp23 :pos 7
    82 draw triangle 6 *tmp22 14 :pos 6 *tmp23
-    * op add *tmp24 :pos 7
-    * op sub *tmp25 :pos 7
    83 draw triangle 34 *tmp22 26 :pos 34 *tmp23
    84 draw color 110 200 230 255
    85 draw rect 54 20 12 55
 
    90 op add *tmp29 :pos 7
    91 op sub *tmp30 :pos 7
    92 draw triangle 46 *tmp29 54 :pos 46 *tmp30
-    * op add *tmp31 :pos 7
-    * op sub *tmp32 :pos 7
    93 draw triangle 74 *tmp29 66 :pos 74 *tmp30
    94 drawflush .DISPLAY
    95 print "Water and Cryofluid Level Meter"

Modifications by Iterated phase, Loop Optimization, pass 1, iteration 1 (-1 instructions):
 
     3 set .SWITCH null
     4 set .DISPLAY null
     5 label *label0
-    * jump *label3 equal .TANK_CRYO null
-    * label *label5
-    * jump *label3 equal .TANK_WATER null
-    * label *label4
-    * jump *label2 notEqual .DISPLAY null
+    6 label *label26
     7 label *label3
     8 print "Water and Cryofluid Level Meter"
     9 set :n @links
    10 label *label6
    11 jump *label8 lessThanEq :n 0
+   12 label *label27
    13 op sub :n :n 1
    14 getlink :block :n
    15 print "\nFound: "
 
    37 label *label16
    38 label *label9
    39 label *label7
-    * jump *label6 always
+   40 jump *label27 greaterThan :n 0
    41 label *label8
    42 print "\nMessage: "
    43 print .MESSAGE
 
    57 label *label21
    58 printflush .MESSAGE
    59 label *label1
-    * jump *label0 always
+   60 jump *label3 equal .TANK_CRYO null
+   61 jump *label3 equal .TANK_WATER null
+   62 jump *label26 equal .DISPLAY null
+   63 label *label25
    64 label *label2
    65 control enabled .SWITCH 0
    66 label *label22

Modifications by Partial loop rotation at line 43:1 (+1 instructions):
 
    66 label *label22
    67 sensor *tmp16 .SWITCH @enabled
    68 jump *label24 notEqual *tmp16 0
+   69 label *label28
    70 set :start_time @time
    71 draw clear 0 0 0
    72 draw color 255 255 255 255
 
   107 print *tmp37
   108 printflush .MESSAGE
   109 label *label23
-    * jump *label22 always
+  110 sensor *tmp16 .SWITCH @enabled
+  111 jump *label28 equal *tmp16 0
   112 label *label24
   113 end

Modifications by Fast-dispatch case at line 14:9 (-1 instructions):
 
    15 print "\nFound: "
    16 print :block
    17 sensor *tmp8 :block @type
-    * jump *label10 notEqual *tmp8 @message
+   18 sensor *tmp38 *tmp8 @id
+   19 multijump *tmp38 0 0 (m:*label30)
+   20 multilabel *label36 (m:*label30)
+   21 multilabel *label31 (m:*label30)
+   22 label *label29
+   23 jump *label9 always
+   24 multilabel *label33 (m:*label30)
    25 label *label11
    26 set .MESSAGE :block
    27 jump *label9 always
    28 label *label10
-    * jump *label12 notEqual *tmp8 @switch
+   29 multilabel *label34 (m:*label30)
    30 label *label13
    31 set .SWITCH :block
    32 jump *label9 always
    33 label *label12
-    * jump *label14 notEqual *tmp8 @liquid-tank
+   34 multilabel *label32 (m:*label30)
    35 label *label15
    36 set .TANK_CRYO .TANK_WATER
    37 set .TANK_WATER :block
    38 jump *label9 always
    39 label *label14
-    * jump *label16 notEqual *tmp8 @logic-display
+   40 multilabel *label35 (m:*label30)
    41 label *label17
    42 set .DISPLAY :block
-    * label *label16
    43 label *label9
    44 label *label7
    45 jump *label27 greaterThan :n 0

Modifications by Jumps phase, Jump Threading, pass 3, iteration 1:
+    0 label __start__
     1 set .TANK_WATER null
     2 set .TANK_CRYO null
     3 set .MESSAGE null
 
    54 jump *label26 equal .DISPLAY null
    55 control enabled .SWITCH 0
    56 sensor *tmp16 .SWITCH @enabled
-    * jump *label24 notEqual *tmp16 0
+   57 jump __start__ notEqual *tmp16 0
    58 label *label28
    59 set :start_time @time
    60 draw clear 0 0 0

Modifications by Jumps phase, Single Step Elimination, pass 3, iteration 1 (-1 instructions):
 
    97 printflush .MESSAGE
    98 sensor *tmp16 .SWITCH @enabled
    99 jump *label28 equal *tmp16 0
-    * end

Modifications by Final phase, Print Merging, iteration 1 (-6 instructions):
 
    34 label *label9
    35 jump *label27 greaterThan :n 0
    36 label *label8
-    * print "\nMessage: "
-    * print .MESSAGE
-    * print "\nSwitch: "
-    * print .SWITCH
-    * print "\nWater tank: "
-    * print .TANK_WATER
-    * print "\nCryo tank: "
+   37 print "\nMessage: {0}\nSwitch: {0}\nWater tank: {0}\nCryo tank: "
+   38 format .MESSAGE
+   39 format .SWITCH
+   40 format .TANK_WATER
    41 print .TANK_CRYO
    42 jump *label18 notEqual .TANK_CRYO null
    43 print "\nNo cryofluid or water tank."
 
    79 draw triangle 46 *tmp29 54 :pos 46 *tmp30
    80 draw triangle 74 *tmp29 66 :pos 74 *tmp30
    81 drawflush .DISPLAY
-    * print "Water and Cryofluid Level Meter"
+   82 print "Water and Cryofluid Level Meter\nWater level: {0}\nCryofluid level: {0}\nElapsed: "
    83 op mul *tmp33 100 :water
    84 op idiv *tmp34 *tmp33 100
-    * print "\nWater level: "
-    * print *tmp34
+   85 format *tmp34
    86 op mul *tmp35 100 :cryo
    87 op idiv *tmp36 *tmp35 100
-    * print "\nCryofluid level: "
-    * print *tmp36
+   88 format *tmp36
    89 op sub *tmp37 @time :start_time
-    * print "\nElapsed: "
    90 print *tmp37
    91 printflush .MESSAGE
    92 sensor *tmp16 .SWITCH @enabled

Final code before resolving virtual instructions:

label __start__
set .TANK_WATER null
set .TANK_CRYO null
set .MESSAGE null
set .SWITCH null
set .DISPLAY null
label *label26
label *label3
print "Water and Cryofluid Level Meter"
set :n @links
jump *label8 lessThanEq :n 0
label *label27
op sub :n :n 1
getlink :block :n
print "\nFound: "
print :block
sensor *tmp8 :block @type
sensor *tmp38 *tmp8 @id
multijump *tmp38 0 0
multilabel *label36
multilabel *label31
jump *label9 always
multilabel *label33
set .MESSAGE :block                     # Origin: 14, keys: 137
jump *label9 always
multilabel *label34
set .SWITCH :block                      # Origin: 14, keys: 138
jump *label9 always
multilabel *label32
set .TANK_CRYO .TANK_WATER              # Origin: 14, keys: 64
set .TANK_WATER :block
jump *label9 always
multilabel *label35
set .DISPLAY :block                     # Origin: 14, keys: 144
label *label9
jump *label27 greaterThan :n 0
label *label8
print "\nMessage: {0}\nSwitch: {0}\nWater tank: {0}\nCryo tank: "
format .MESSAGE
format .SWITCH
format .TANK_WATER
print .TANK_CRYO
jump *label18 notEqual .TANK_CRYO null
print "\nNo cryofluid or water tank."
label *label18
jump *label20 notEqual .DISPLAY null
print "\nNo display."
label *label20
printflush .MESSAGE
jump *label3 equal .TANK_CRYO null
jump *label3 equal .TANK_WATER null
jump *label26 equal .DISPLAY null
control enabled .SWITCH 0
sensor *tmp16 .SWITCH @enabled
jump __start__ notEqual *tmp16 0
label *label28
set :start_time @time
draw clear 0 0 0
draw color 255 255 255 255
draw image 20 10 @water 16 0
draw image 60 10 @cryofluid 16 0
draw color 90 100 170 255
draw rect 14 20 12 55
draw color 255 255 16 255
sensor :water .TANK_WATER @totalLiquids
op mul *tmp20 :water 0.03666666666666667
op add :pos *tmp20 20
op add *tmp22 :pos 7
op sub *tmp23 :pos 7
draw triangle 6 *tmp22 14 :pos 6 *tmp23
draw triangle 34 *tmp22 26 :pos 34 *tmp23
draw color 110 200 230 255
draw rect 54 20 12 55
draw color 255 255 16 255
sensor :cryo .TANK_CRYO @totalLiquids
op mul *tmp27 :cryo 0.03666666666666667
op add :pos *tmp27 20
op add *tmp29 :pos 7
op sub *tmp30 :pos 7
draw triangle 46 *tmp29 54 :pos 46 *tmp30
draw triangle 74 *tmp29 66 :pos 74 *tmp30
drawflush .DISPLAY
print "Water and Cryofluid Level Meter\nWater level: {0}\nCryofluid level: {0}\nElapsed: "
op mul *tmp33 100 :water
op idiv *tmp34 *tmp33 100
format *tmp34
op mul *tmp35 100 :cryo
op idiv *tmp36 *tmp35 100
format *tmp36
op sub *tmp37 @time :start_time
print *tmp37
printflush .MESSAGE
sensor *tmp16 .SWITCH @enabled
jump *label28 equal *tmp16 0
