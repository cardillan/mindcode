   668 instructions before optimizations.
    56 instructions eliminated by Temp Variables Elimination (6 iterations).
     4 instructions eliminated by Case Expression Optimization.
    85 instructions eliminated by Dead Code Elimination (7 iterations).
     1 instructions eliminated by Jump Normalization (5 iterations).
    45 instructions eliminated by Jump Optimization (5 iterations).
    42 instructions eliminated by Single Step Elimination (2 passes, 7 iterations).
     1 instructions eliminated by Expression Optimization (3 iterations).
    14 instructions eliminated by If Expression Optimization (5 iterations).
     8 instructions eliminated by Data Flow Optimization (2 passes, 7 iterations).
     1 instructions eliminated by Loop Optimization (3 iterations).
     3 loops improved by Loop Optimization.
    75 instructions added by Case Switching (4 iterations).
     1 case expressions converted to switched jumps by Case Switching.
    16 instructions eliminated by Jump Straightening (5 iterations).
    12 instructions updated by Jump Threading.
     1 instructions eliminated by Unreachable Code Elimination (2 iterations).
    39 instructions eliminated by Print Merging.
   430 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 602):
  o Convert case at line 419:9 (segments: 7)                     size    +0, benefit      125.0, efficiency   Infinity
  o Convert case at line 419:9 (segments: 3, padded low)         size   +44, benefit      187.5, efficiency      4.261
  o Convert case at line 419:9 (segments: 3, padded low)         size   +58, benefit      375.0, efficiency      6.466
  * Convert case at line 419:9 (segments: 1, padded low)         size   +75, benefit     1000.0, efficiency     13.333 (+74 instructions)

Modifications by Initial phase, Case Expression Optimization, iteration 1 (-4 instructions):
 
    19 print :block
    20 print "\n"
    21 sensor *tmp5 :block @type
-    * set *tmp6 *tmp5
-    * jump *label8 equal *tmp6 @impact-reactor
+   22 jump *label8 equal *tmp5 @impact-reactor
    23 jump *label7 always
    24 label *label8
    25 set .START :n
 
    27 set *tmp4 :reactors
    28 jump *label6 always
    29 label *label7
-    * jump *label10 equal *tmp6 @overdrive-projector
-    * jump *label10 equal *tmp6 @overdrive-dome
+   30 jump *label10 equal *tmp5 @overdrive-projector
+   31 jump *label10 equal *tmp5 @overdrive-dome
    32 jump *label9 always
    33 label *label10
    34 set .START :n
 
   192 label *label18
   193 set *tmp44 null
   194 label *label19
-    * set *tmp61 .MODE
-    * jump *label35 equal *tmp61 0
+  195 jump *label35 equal .MODE 0
   196 jump *label34 always
   197 label *label35
   198 set *tmp60 "[salmon]SHUTDOWN[]"
   199 jump *label33 always
   200 label *label34
-    * jump *label37 equal *tmp61 1
+  201 jump *label37 equal .MODE 1
   202 jump *label36 always
   203 label *label37
   204 set *tmp60 "[gold]STARTUP[]"
   205 jump *label33 always
   206 label *label36
-    * jump *label39 equal *tmp61 2
+  207 jump *label39 equal .MODE 2
   208 jump *label38 always
   209 label *label39
   210 set *tmp60 "[green]RUNNING[]"
 
   291 print :net_power
   292 print "["
   293 print "]"
-    * set *tmp77 .MODE
-    * jump *label50 equal *tmp77 0
+  294 jump *label50 equal .MODE 0
   295 jump *label49 always
   296 label *label50
   297 set .REACTORS_ON 0
 
   322 set *tmp76 *tmp82
   323 jump *label48 always
   324 label *label49
-    * jump *label54 equal *tmp77 1
+  325 jump *label54 equal .MODE 1
   326 jump *label53 always
   327 label *label54
   328 jump *label55 equal .OUTPUT_1 false
 
   487 set *tmp76 *tmp90
   488 jump *label48 always
   489 label *label53
-    * jump *label90 equal *tmp77 2
+  490 jump *label90 equal .MODE 2
   491 jump *label89 always
   492 label *label90
   493 jump *label91 equal .COOLANT_FLAG false
 
   728 getlink *tmp189 :n
   729 set :block *tmp189
   730 sensor *tmp191 :block @type
-    * set *tmp192 *tmp191
-    * jump *label145 equal *tmp192 @impact-reactor
+  731 jump *label145 equal *tmp191 @impact-reactor
   732 jump *label144 always
   733 label *label145
   734 op add :reactors :reactors 1
 
   747 set *tmp190 *tmp196
   748 jump *label143 always
   749 label *label144
-    * jump *label149 equal *tmp192 @overdrive-projector
-    * jump *label149 equal *tmp192 @overdrive-dome
+  750 jump *label149 equal *tmp191 @overdrive-projector
+  751 jump *label149 equal *tmp191 @overdrive-dome
   752 jump *label148 always
   753 label *label149
   754 set *tmp198 :block
 
   756 set *tmp190 .OVERDRIVE
   757 jump *label143 always
   758 label *label148
-    * jump *label151 equal *tmp192 @conduit
-    * jump *label151 equal *tmp192 @pulse-conduit
-    * jump *label151 equal *tmp192 @plated-conduit
-    * jump *label151 equal *tmp192 @conveyor
-    * jump *label151 equal *tmp192 @titanium-conveyor
-    * jump *label151 equal *tmp192 @plastanium-conveyor
-    * jump *label151 equal *tmp192 @armored-conveyor
+  759 jump *label151 equal *tmp191 @conduit
+  760 jump *label151 equal *tmp191 @pulse-conduit
+  761 jump *label151 equal *tmp191 @plated-conduit
+  762 jump *label151 equal *tmp191 @conveyor
+  763 jump *label151 equal *tmp191 @titanium-conveyor
+  764 jump *label151 equal *tmp191 @plastanium-conveyor
+  765 jump *label151 equal *tmp191 @armored-conveyor
   766 jump *label150 always
   767 label *label151
   768 set *tmp200 :block

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-57 instructions):
 
    24 label *label8
    25 set .START :n
    26 op add :reactors :reactors 1
-    * set *tmp4 :reactors
    27 jump *label6 always
    28 label *label7
    29 jump *label10 equal *tmp5 @overdrive-projector
 
    31 jump *label9 always
    32 label *label10
    33 set .START :n
-    * set *tmp4 .START
    34 jump *label6 always
    35 label *label9
-    * set *tmp4 null
    36 label *label6
    37 label *label4
    38 jump *label3 always
 
    42 op equal *tmp8 :reactors 0
    43 jump *label11 equal *tmp8 false
    44 print "No reactor."
-    * set *tmp9 "No reactor."
    45 jump *label12 always
    46 label *label11
-    * set *tmp9 null
    47 label *label12
    48 printflush message1
    49 label *label1
 
    75 op equal *tmp21 .MODE 0
    76 jump *label13 equal *tmp21 false
    77 set .REASON "Processor reset"
-    * set *tmp22 .REASON
    78 jump *label14 always
    79 label *label13
    80 set .REASON "Reason unknown -- out of power?"
-    * set *tmp22 .REASON
    81 label *label14
    82 op notEqual *tmp24 .MODE 0
    83 control enabled switch1 *tmp24
 
   180 label *label28
   181 set *tmp47 *tmp54
   182 label *label21
-    * set *tmp44 *tmp47
   183 jump *label19 always
   184 label *label18
-    * set *tmp44 null
   185 label *label19
   186 jump *label35 equal .MODE 0
   187 jump *label34 always
 
   222 print " ([gold]"
   223 print :multiplier
   224 print "x[])"
-    * set *tmp62 "x[])"
   225 jump *label41 always
   226 label *label40
-    * set *tmp62 null
   227 label *label41
   228 print "\n=================================="
   229 sensor *tmp68 tank1 @totalLiquids
   230 op lessThan *tmp69 *tmp68 750
   231 jump *label42 equal *tmp69 false
   232 print "\n[salmon]Cryofluid level critical![]"
-    * set *tmp70 "\n[salmon]Cryofluid level critical![]"
   233 jump *label43 always
   234 label *label42
-    * set *tmp70 null
   235 label *label43
   236 sensor *tmp71 vault1 @blast-compound
   237 op lessThan *tmp72 *tmp71 700
   238 jump *label44 equal *tmp72 false
   239 print "\n[salmon]Blast compound level critical![]"
-    * set *tmp73 "\n[salmon]Blast compound level critical![]"
   240 jump *label45 always
   241 label *label44
-    * set *tmp73 null
   242 label *label45
   243 op equal *tmp74 :enough_battery false
   244 jump *label46 equal *tmp74 false
 
   248 print :missing_battery
   249 print " "
   250 print "K[] of additional storage to internal battery."
-    * set *tmp75 null
   251 jump *label47 always
   252 label *label46
-    * set *tmp75 null
   253 label *label47
   254 print "\n"
   255 print "Internal battery:    [gold]"
 
   302 label *label51
   303 set *tmp82 null
   304 label *label52
-    * set *tmp76 *tmp82
   305 jump *label48 always
   306 label *label49
   307 jump *label54 equal .MODE 1
 
   358 print :neededPower
   359 print "["
   360 print "]"
-    * set *tmp97 null
   361 jump *label64 always
   362 label *label63
-    * set *tmp97 null
   363 label *label64
   364 op greaterThan *tmp98 :net_power 100
   365 jump *label65 equal *tmp98 false
   366 set .OVERDRIVE true
-    * set *tmp99 .OVERDRIVE
   367 jump *label66 always
   368 label *label65
-    * set *tmp99 null
   369 label *label66
   370 op lessThan *tmp100 .REACTORS_ON :reactors
   371 jump *label67 equal *tmp100 false
 
   389 set .OUTPUT_3 .OUTPUT_2
   390 set .OUTPUT_2 .OUTPUT_1
   391 set .OUTPUT_1 1
-    * set *tmp105 .OUTPUT_1
   392 jump *label73 always
   393 label *label72
-    * set *tmp105 null
   394 label *label73
   395 op equal *tmp106 .OUTPUT_1 0
   396 jump *label74 equal *tmp106 false
 
   407 label *label76
   408 set *tmp111 null
   409 label *label77
-    * set *tmp107 *tmp111
   410 jump *label75 always
   411 label *label74
-    * set *tmp107 null
   412 label *label75
   413 jump *label78 equal :canStart false
   414 label *label81
 
   429 set .REACTORS_ON *tmp118
   430 op add *tmp119 @time 2000
   431 set :nextStart *tmp119
-    * set *tmp114 :nextStart
   432 jump *label79 always
   433 label *label78
-    * set *tmp114 null
   434 label *label79
   435 op greaterThanEq *tmp120 .REACTORS_ON :reactors
   436 jump *label84 equal *tmp120 false
 
   456 label *label85
   457 set *tmp90 *tmp123
   458 label *label60
-    * set *tmp76 *tmp90
   459 jump *label48 always
   460 label *label53
   461 jump *label90 equal .MODE 2
 
   471 set .MODE 0
   472 control enabled switch1 false
   473 set .REASON "Cryo level too low"
-    * set *tmp127 .REASON
   474 jump *label92 always
   475 label *label91
-    * set *tmp127 null
   476 label *label92
   477 jump *label95 equal .FUEL_FLAG false
   478 label *label98
 
   484 set .MODE 0
   485 control enabled switch1 false
   486 set .REASON "Blast compound level too low"
-    * set *tmp131 .REASON
   487 jump *label96 always
   488 label *label95
-    * set *tmp131 null
   489 label *label96
   490 jump *label101 notEqual .COOLANT_FLAG false
   491 label *label102
 
   545 op idiv *tmp152 :commit_level 1000
   546 print "\nCommit threshold:   [gold]"
   547 print *tmp152
-    * set *tmp144 *tmp152
   548 jump *label112 always
   549 label *label111
-    * set *tmp144 null
   550 label *label112
   551 op equal *tmp153 :commit_level 0
   552 jump *label116 equal *tmp153 false
   553 op idiv *tmp155 :min_level 1000
   554 print "\nRestart threshold: [gold]"
   555 print *tmp155
-    * set *tmp154 *tmp155
   556 jump *label117 always
   557 label *label116
-    * set *tmp154 null
   558 label *label117
   559 print "[] K"
   560 op lessThan *tmp156 :total_battery :min_level
 
   583 label *label124
   584 op add *tmp165 @time 6000
   585 set :nextDecommit *tmp165
-    * set *tmp164 :nextDecommit
   586 jump *label123 always
   587 label *label122
-    * set *tmp164 null
   588 label *label123
   589 op greaterThan *tmp166 @time :nextDecommit
   590 jump *label126 equal *tmp166 false
   591 jump *label128 equal .OVERDRIVE false
   592 set .OVERDRIVE false
-    * set *tmp168 .OVERDRIVE
   593 jump *label129 always
   594 label *label128
   595 op sub *tmp169 .REACTORS_ON 1
   596 op max *tmp170 *tmp169 1
   597 set .REACTORS_ON *tmp170
   598 set .CAN_COMMIT true
-    * set *tmp168 .CAN_COMMIT
   599 label *label129
   600 op add *tmp171 @time 6000
   601 set :nextDecommit *tmp171
 
   616 label *label127
   617 set *tmp159 *tmp167
   618 label *label119
-    * set *tmp140 *tmp159
   619 jump *label108 always
   620 label *label107
   621 sensor *tmp174 switch2 @enabled
   622 jump *label132 equal *tmp174 false
   623 print "\n[salmon]Load adapting not possible.[]"
-    * set *tmp175 "\n[salmon]Load adapting not possible.[]"
   624 jump *label133 always
   625 label *label132
   626 print "\n[gold]Load adapting not active.[]"
-    * set *tmp175 "\n[gold]Load adapting not active.[]"
   627 label *label133
   628 set .REACTORS_ON :reactors
   629 set .OVERDRIVE true
-    * set *tmp140 .OVERDRIVE
   630 label *label108
   631 op mul *tmp176 PLANT_PROTECTION 47500
   632 op lessThan *tmp177 :total_battery *tmp176
   633 jump *label134 equal *tmp177 false
   634 set .OUTPUT_2 0
   635 set .OUTPUT_3 0
-    * set *tmp178 .OUTPUT_3
   636 jump *label135 always
   637 label *label134
-    * set *tmp178 null
   638 label *label135
   639 op equal *tmp179 .OUTPUT_2 0
   640 jump *label136 equal *tmp179 false
 
   653 label *label136
   654 set *tmp180 null
   655 label *label137
-    * set *tmp76 *tmp180
   656 jump *label48 always
   657 label *label89
-    * set *tmp76 null
   658 label *label48
   659 print "\n"
   660 print .STARTUPS
 
   695 label *label146
   696 set *tmp196 null
   697 label *label147
-    * set *tmp190 *tmp196
   698 jump *label143 always
   699 label *label144
   700 jump *label149 equal *tmp191 @overdrive-projector
 
   703 label *label149
   704 set *tmp198 :block
   705 control enabled *tmp198 .OVERDRIVE
-    * set *tmp190 .OVERDRIVE
   706 jump *label143 always
   707 label *label148
   708 jump *label151 equal *tmp191 @conduit
 
   716 label *label151
   717 set *tmp200 :block
   718 control enabled *tmp200 :startup
-    * set *tmp190 :startup
   719 jump *label143 always
   720 label *label150
-    * set *tmp190 null
   721 label *label143
   722 label *label141
   723 op add :n :n 1
 
   732 op add :reactors :reactors *tmp207
   733 read *tmp208 cell2 4
   734 op add :boosts :boosts *tmp208
-    * set *tmp203 :boosts
   735 jump *label153 always
   736 label *label152
-    * set *tmp203 null
   737 label *label153
   738 op min *tmp209 .REACTORS_ON :reactors
   739 set .REACTORS_ON *tmp209
 
   742 set .STARTUPS 0
   743 set .RESETS 0
   744 set .COMMITS 0
-    * set *tmp211 .COMMITS
   745 jump *label155 always
   746 label *label154
   747 write .MODE cell1 0
 
   755 write .STARTUPS cell1 8
   756 write .RESETS cell1 9
   757 write .COMMITS cell1 10
-    * set *tmp211 .COMMITS
   758 label *label155
   759 label *label16
   760 jump *label15 always

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-14 instructions):
 
   125 jump *label20 equal *tmp46 false
   126 set .MODE 0
   127 set .REASON "Manual power off"
-    * set *tmp47 .REASON
   128 jump *label21 always
   129 label *label20
   130 op mul *tmp48 .REACTORS_ON 1200
 
   177 set :failure_cnt 0
   178 set *tmp54 :failure_cnt
   179 label *label28
-    * set *tmp47 *tmp54
   180 label *label21
   181 jump *label19 always
   182 label *label18
 
   295 set :failure_cnt 0
   296 set .GENERATOR true
   297 set .REASON "Unknown -- out of power?"
-    * set *tmp82 .REASON
   298 jump *label52 always
   299 label *label51
-    * set *tmp82 null
   300 label *label52
   301 jump *label48 always
   302 label *label49
 
   336 print " K[]"
   337 set *tmp92 " K[]"
   338 label *label62
-    * set *tmp90 *tmp92
   339 jump *label60 always
   340 label *label59
   341 op add *tmp94 .OUTPUT_1 .OUTPUT_2
 
   397 jump *label76 equal *tmp110 false
   398 op add *tmp112 @time 2000
   399 set :nextStart *tmp112
-    * set *tmp111 :nextStart
   400 jump *label77 always
   401 label *label76
-    * set *tmp111 null
   402 label *label77
   403 jump *label75 always
   404 label *label74
 
   447 label *label84
   448 set *tmp123 null
   449 label *label85
-    * set *tmp90 *tmp123
   450 label *label60
   451 jump *label48 always
   452 label *label53
 
   563 set .REACTORS_ON :reactors
   564 op add *tmp161 @time 6000
   565 set :nextDecommit *tmp161
-    * set *tmp159 :nextDecommit
   566 jump *label119 always
   567 label *label118
   568 op lessThan *tmp162 :battery_level 47500
 
   605 label *label131
   606 set *tmp167 *tmp173
   607 label *label127
-    * set *tmp159 *tmp167
   608 label *label119
   609 jump *label108 always
   610 label *label107
 
   638 print "\n*** [gold]Surge tower 2 offline[] ***"
   639 set *tmp182 "\n*** [gold]Surge tower 2 offline[] ***"
   640 label *label139
-    * set *tmp180 *tmp182
   641 jump *label137 always
   642 label *label136
-    * set *tmp180 null
   643 label *label137
   644 jump *label48 always
   645 label *label89
 
   678 jump *label146 equal :enabled false
   679 sensor *tmp197 :block @timescale
   680 op add :boosts :boosts *tmp197
-    * set *tmp196 :boosts
   681 jump *label147 always
   682 label *label146
-    * set *tmp196 null
   683 label *label147
   684 jump *label143 always
   685 label *label144

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-10 instructions):
 
   171 label *label31
   172 set *tmp58 null
   173 label *label32
-    * set *tmp54 *tmp58
   174 jump *label28 always
   175 label *label27
   176 set :failure_cnt 0
-    * set *tmp54 :failure_cnt
   177 label *label28
   178 label *label21
   179 jump *label19 always
 
   326 set .REACTORS_ON 1
   327 op add *tmp93 @time 2000
   328 set :nextStart *tmp93
-    * set *tmp92 :nextStart
   329 jump *label62 always
   330 label *label61
   331 print "\nRequired startup energy: [gold]"
   332 print 25
   333 print " K[]"
-    * set *tmp92 " K[]"
   334 label *label62
   335 jump *label60 always
   336 label *label59
 
   438 set .COOLANT_FLAG 0
   439 set .FUEL_FLAG 0
   440 set .GENERATOR false
-    * set *tmp123 .GENERATOR
   441 jump *label85 always
   442 label *label84
-    * set *tmp123 null
   443 label *label85
   444 label *label60
   445 jump *label48 always
 
   584 label *label129
   585 op add *tmp171 @time 6000
   586 set :nextDecommit *tmp171
-    * set *tmp167 :nextDecommit
   587 jump *label127 always
   588 label *label126
   589 op lessThan *tmp172 :total_battery :commit_level
 
   596 label *label130
   597 set *tmp173 null
   598 label *label131
-    * set *tmp167 *tmp173
   599 label *label127
   600 label *label119
   601 jump *label108 always
 
   624 jump *label138 equal *tmp181 false
   625 set .OUTPUT_2 1
   626 set .OUTPUT_3 1
-    * set *tmp182 .OUTPUT_3
   627 jump *label139 always
   628 label *label138
   629 print "\n*** [gold]Surge tower 2 offline[] ***"
-    * set *tmp182 "\n*** [gold]Surge tower 2 offline[] ***"
   630 label *label139
   631 jump *label137 always
   632 label *label136

Modifications by Initial phase, Dead Code Elimination, iteration 4 (-4 instructions):
 
   166 print "\nMin. consumption: "
   167 print :min_consumption
   168 printflush message2
-    * set *tmp58 null
   169 jump *label32 always
   170 label *label31
-    * set *tmp58 null
   171 label *label32
   172 jump *label28 always
   173 label *label27
 
   589 op add .REACTORS_ON .REACTORS_ON 1
   590 op add .COMMITS .COMMITS 1
   591 set .CAN_COMMIT false
-    * set *tmp173 .CAN_COMMIT
   592 jump *label131 always
   593 label *label130
-    * set *tmp173 null
   594 label *label131
   595 label *label127
   596 label *label119

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-56 instructions):
 
     7 op equal *tmp0 :reactors 0
     8 jump *label2 equal *tmp0 false
     9 set :reactors 0
-    * set *tmp1 @links
-    * set :n *tmp1
+   10 set :n @links
    11 label *label3
    12 op greaterThan *tmp2 :n 0
    13 jump *label5 equal *tmp2 false
    14 op sub :n :n 1
-    * getlink *tmp3 :n
-    * set :block *tmp3
+   15 getlink :block :n
    16 print "Found: "
    17 print :block
    18 print "\n"
 
    47 label *label1
    48 jump *label0 always
    49 label *label2
-    * read *tmp10 cell1 0
-    * set .MODE *tmp10
-    * read *tmp11 cell1 1
-    * set .OUTPUT_1 *tmp11
-    * read *tmp12 cell1 2
-    * set .OUTPUT_2 *tmp12
-    * read *tmp13 cell1 3
-    * set .OUTPUT_3 *tmp13
-    * read *tmp14 cell1 4
-    * set .REACTORS_ON *tmp14
-    * read *tmp15 cell1 5
-    * set .OVERDRIVE *tmp15
-    * read *tmp16 cell1 6
-    * set .GENERATOR *tmp16
-    * read *tmp17 cell1 7
-    * set .CAN_COMMIT *tmp17
-    * read *tmp18 cell1 8
-    * set .STARTUPS *tmp18
-    * read *tmp19 cell1 9
-    * set .RESETS *tmp19
-    * read *tmp20 cell1 10
-    * set .COMMITS *tmp20
+   50 read .MODE cell1 0
+   51 read .OUTPUT_1 cell1 1
+   52 read .OUTPUT_2 cell1 2
+   53 read .OUTPUT_3 cell1 3
+   54 read .REACTORS_ON cell1 4
+   55 read .OVERDRIVE cell1 5
+   56 read .GENERATOR cell1 6
+   57 read .CAN_COMMIT cell1 7
+   58 read .STARTUPS cell1 8
+   59 read .RESETS cell1 9
+   60 read .COMMITS cell1 10
    61 set :reactors .REACTORS_ON
    62 op equal *tmp21 .MODE 0
    63 jump *label13 equal *tmp21 false
 
    71 set :failure_cnt 0
    72 set :boosts 0
    73 set :nextStart 0
-    * op add *tmp25 @time 6000
-    * set :nextDecommit *tmp25
+   74 op add :nextDecommit @time 6000
    75 label *label15
    76 jump *label17 equal true false
    77 sensor *tmp26 battery1 @totalPower
-    * op floor *tmp27 *tmp26
-    * set :battery_level *tmp27
-    * op idiv *tmp28 :battery_level 1000
-    * set :battery_level_str *tmp28
+   78 op floor :battery_level *tmp26
+   79 op idiv :battery_level_str :battery_level 1000
    80 sensor *tmp29 battery1 @powerNetStored
-    * op floor *tmp30 *tmp29
-    * set :total_battery *tmp30
-    * op idiv *tmp31 :total_battery 1000
-    * set :total_battery_str *tmp31
-    * sensor *tmp32 battery1 @powerNetOut
-    * set :consumption *tmp32
-    * read *tmp33 bank1 509
-    * set :production *tmp33
-    * read *tmp34 bank1 510
-    * set :net_power *tmp34
-    * read *tmp35 bank1 511
-    * set :battery_change *tmp35
-    * sensor *tmp36 battery1 @powerNetCapacity
-    * set :total_capacity *tmp36
-    * op idiv *tmp37 :total_capacity 1000
-    * set :total_capacity_str *tmp37
-    * op mul *tmp38 100000 :reactors
-    * set :required_capacity *tmp38
-    * op greaterThanEq *tmp39 :total_capacity :required_capacity
-    * set :enough_battery *tmp39
+   81 op floor :total_battery *tmp29
+   82 op idiv :total_battery_str :total_battery 1000
+   83 sensor :consumption battery1 @powerNetOut
+   84 read :production bank1 509
+   85 read :net_power bank1 510
+   86 read :battery_change bank1 511
+   87 sensor :total_capacity battery1 @powerNetCapacity
+   88 op idiv :total_capacity_str :total_capacity 1000
+   89 op mul :required_capacity 100000 :reactors
+   90 op greaterThanEq :enough_battery :total_capacity :required_capacity
    91 op sub *tmp40 :required_capacity :total_capacity
    92 op div *tmp41 *tmp40 1000
-    * op ceil *tmp42 *tmp41
-    * set :missing_battery *tmp42
+   93 op ceil :missing_battery *tmp41
    94 op notEqual *tmp43 .MODE 0
    95 jump *label18 equal *tmp43 false
    96 sensor *tmp45 switch1 @enabled
 
   100 set .REASON "Manual power off"
   101 jump *label21 always
   102 label *label20
-    * op mul *tmp48 .REACTORS_ON 1200
-    * set :min_consumption *tmp48
-    * op lessThan *tmp49 :consumption :min_consumption
-    * set :failure1 *tmp49
+  103 op mul :min_consumption .REACTORS_ON 1200
+  104 op lessThan :failure1 :consumption :min_consumption
   105 op equal *tmp50 :battery_level 0
   106 jump *label22 equal *tmp50 false
   107 label *label26
 
   182 op div *tmp64 *tmp63 .REACTORS_ON
   183 op add *tmp65 *tmp64 0.5
   184 op floor *tmp66 *tmp65
-    * op div *tmp67 *tmp66 100
-    * set :multiplier *tmp67
+  185 op div :multiplier *tmp66 100
   186 print " ([gold]"
   187 print :multiplier
   188 print "x[])"
 
   248 set .OUTPUT_3 0
   249 op greaterThanEq *tmp78 :net_power -150
   250 op lessThan *tmp79 :total_battery 47500
-    * op land *tmp80 *tmp78 *tmp79
-    * set .GENERATOR *tmp80
+  251 op land .GENERATOR *tmp78 *tmp79
   252 print "\nShutdown reason: [gold]"
   253 print .REASON
   254 print "[]"
 
   284 sensor *tmp85 :nextBattery @powerNetOut
   285 op mul *tmp86 *tmp85 1.05
   286 op floor *tmp87 *tmp86
-    * op max *tmp88 *tmp87 1000
-    * set :neededPower *tmp88
+  287 op max :neededPower *tmp87 1000
   288 op equal *tmp89 .REACTORS_ON 0
   289 jump *label59 equal *tmp89 false
   290 op greaterThanEq *tmp91 :total_battery 25000
   291 jump *label61 equal *tmp91 false
   292 set .REACTORS_ON 1
-    * op add *tmp93 @time 2000
-    * set :nextStart *tmp93
+  293 op add :nextStart @time 2000
   294 jump *label62 always
   295 label *label61
   296 print "\nRequired startup energy: [gold]"
 
   300 jump *label60 always
   301 label *label59
   302 op add *tmp94 .OUTPUT_1 .OUTPUT_2
-    * op add *tmp95 *tmp94 .OUTPUT_3
-    * set :outputs *tmp95
+  303 op add :outputs *tmp94 .OUTPUT_3
   304 print "\n"
   305 print "[gold]"
   306 print :outputs
 
   349 label *label73
   350 op equal *tmp106 .OUTPUT_1 0
   351 jump *label74 equal *tmp106 false
-    * op mul *tmp108 6300 :boosts
-    * set :availablePower *tmp108
-    * op div *tmp109 :neededPower :availablePower
-    * set :ratio *tmp109
+  352 op mul :availablePower 6300 :boosts
+  353 op div :ratio :neededPower :availablePower
   354 op lessThan *tmp110 :ratio 1
   355 jump *label76 equal *tmp110 false
-    * op add *tmp112 @time 2000
-    * set :nextStart *tmp112
+  356 op add :nextStart @time 2000
   357 jump *label77 always
   358 label *label76
   359 label *label77
 
   367 jump *label80 always
   368 label *label80
   369 jump *label82 equal FAST_START false
-    * op idiv *tmp116 :total_battery 25000
-    * set *tmp115 *tmp116
+  370 op idiv *tmp115 :total_battery 25000
   371 jump *label83 always
   372 label *label82
   373 set *tmp115 1
   374 label *label83
   375 set :start_at_once *tmp115
   376 op add *tmp117 .REACTORS_ON :start_at_once
-    * op min *tmp118 *tmp117 :reactors
-    * set .REACTORS_ON *tmp118
-    * op add *tmp119 @time 2000
-    * set :nextStart *tmp119
+  377 op min .REACTORS_ON *tmp117 :reactors
+  378 op add :nextStart @time 2000
   379 jump *label79 always
   380 label *label78
   381 label *label79
 
   391 jump *label86 always
   392 label *label86
   393 set .MODE 2
-    * op add *tmp124 @time 6000
-    * set :nextDecommit *tmp124
+  394 op add :nextDecommit @time 6000
   395 set .COOLANT_FLAG 0
   396 set .FUEL_FLAG 0
   397 set .GENERATOR false
 
   462 jump *label107 equal *tmp139 false
   463 jump *label109 always
   464 label *label109
-    * op mul *tmp141 0.5 :required_capacity
-    * set :min_level *tmp141
+  465 op mul :min_level 0.5 :required_capacity
   466 set :commit_level 0
   467 jump *label111 equal .CAN_COMMIT false
   468 label *label115
 
   475 jump *label113 always
   476 label *label113
   477 op sub *tmp145 :battery_change 1500
-    * op sub *tmp146 *tmp145 1000
-    * set :p *tmp146
+  478 op sub :p *tmp145 1000
   479 op mul *tmp147 :p 0.00472972972972973
   480 op add *tmp148 -5 *tmp147
   481 op mul *tmp149 :p *tmp148
-    * op add *tmp150 25000 *tmp149
-    * set :commit_margin *tmp150
-    * op add *tmp151 :min_level :commit_margin
-    * set :commit_level *tmp151
+  482 op add :commit_margin 25000 *tmp149
+  483 op add :commit_level :min_level :commit_margin
   484 op idiv *tmp152 :commit_level 1000
   485 print "\nCommit threshold:   [gold]"
   486 print *tmp152
 
   508 op add .RESETS .RESETS *tmp160
   509 set .OVERDRIVE true
   510 set .REACTORS_ON :reactors
-    * op add *tmp161 @time 6000
-    * set :nextDecommit *tmp161
+  511 op add :nextDecommit @time 6000
   512 jump *label119 always
   513 label *label118
   514 op lessThan *tmp162 :battery_level 47500
 
   518 jump *label124 notEqual *tmp163 false
   519 jump *label122 always
   520 label *label124
-    * op add *tmp165 @time 6000
-    * set :nextDecommit *tmp165
+  521 op add :nextDecommit @time 6000
   522 jump *label123 always
   523 label *label122
   524 label *label123
 
   529 jump *label129 always
   530 label *label128
   531 op sub *tmp169 .REACTORS_ON 1
-    * op max *tmp170 *tmp169 1
-    * set .REACTORS_ON *tmp170
+  532 op max .REACTORS_ON *tmp169 1
   533 set .CAN_COMMIT true
   534 label *label129
-    * op add *tmp171 @time 6000
-    * set :nextDecommit *tmp171
+  535 op add :nextDecommit @time 6000
   536 jump *label127 always
   537 label *label126
   538 op lessThan *tmp172 :total_battery :commit_level
 
   593 control enabled diode3 .OUTPUT_3
   594 control enabled generator1 .GENERATOR
   595 control enabled generator2 .GENERATOR
-    * op equal *tmp188 .MODE 1
-    * set :startup *tmp188
+  596 op equal :startup .MODE 1
   597 set :reactors 0
   598 set :boosts 0
   599 set :enabled true
   600 set :n .START
   601 label *label140
   602 jump *label142 greaterThanEq :n @links
-    * getlink *tmp189 :n
-    * set :block *tmp189
+  603 getlink :block :n
   604 sensor *tmp191 :block @type
   605 jump *label145 equal *tmp191 @impact-reactor
   606 jump *label144 always
   607 label *label145
   608 op add :reactors :reactors 1
-    * op lessThanEq *tmp193 :reactors .REACTORS_ON
-    * set :enabled *tmp193
-    * set *tmp194 :block
-    * control enabled *tmp194 :enabled
+  609 op lessThanEq :enabled :reactors .REACTORS_ON
+  610 control enabled :block :enabled
   611 jump *label146 equal :enabled false
   612 sensor *tmp197 :block @timescale
   613 op add :boosts :boosts *tmp197
 
   620 jump *label149 equal *tmp191 @overdrive-dome
   621 jump *label148 always
   622 label *label149
-    * set *tmp198 :block
-    * control enabled *tmp198 .OVERDRIVE
+  623 control enabled :block .OVERDRIVE
   624 jump *label143 always
   625 label *label148
   626 jump *label151 equal *tmp191 @conduit
 
   632 jump *label151 equal *tmp191 @armored-conveyor
   633 jump *label150 always
   634 label *label151
-    * set *tmp200 :block
-    * control enabled *tmp200 :startup
+  635 control enabled :block :startup
   636 jump *label143 always
   637 label *label150
   638 label *label143
 
   652 jump *label153 always
   653 label *label152
   654 label *label153
-    * op min *tmp209 .REACTORS_ON :reactors
-    * set .REACTORS_ON *tmp209
+  655 op min .REACTORS_ON .REACTORS_ON :reactors
   656 op equal *tmp210 cell1 null
   657 jump *label154 equal *tmp210 false
   658 set .STARTUPS 0

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-1 instructions):
 
    73 set :nextStart 0
    74 op add :nextDecommit @time 6000
    75 label *label15
-    * jump *label17 equal true false
    76 sensor *tmp26 battery1 @totalPower
    77 op floor :battery_level *tmp26
    78 op idiv :battery_level_str :battery_level 1000

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-16 instructions):
 
    17 print :block
    18 print "\n"
    19 sensor *tmp5 :block @type
-    * jump *label8 equal *tmp5 @impact-reactor
-    * jump *label7 always
+   20 jump *label7 notEqual *tmp5 @impact-reactor
    21 label *label8
    22 set .START :n
    23 op add :reactors :reactors 1
    24 jump *label6 always
    25 label *label7
    26 jump *label10 equal *tmp5 @overdrive-projector
-    * jump *label10 equal *tmp5 @overdrive-dome
-    * jump *label9 always
+   27 jump *label9 notEqual *tmp5 @overdrive-dome
    28 label *label10
    29 set .START :n
    30 jump *label6 always
 
   118 set :failure2 *tmp53
   119 jump *label29 notEqual :failure1 false
   120 label *label30
-    * jump *label29 notEqual :failure2 false
-    * jump *label27 always
+  121 jump *label27 equal :failure2 false
   122 label *label29
   123 op add :failure_cnt :failure_cnt 1
   124 read *tmp55 cell2 1
 
   144 jump *label19 always
   145 label *label18
   146 label *label19
-    * jump *label35 equal .MODE 0
-    * jump *label34 always
+  147 jump *label34 notEqual .MODE 0
   148 label *label35
   149 set *tmp60 "[salmon]SHUTDOWN[]"
   150 jump *label33 always
   151 label *label34
-    * jump *label37 equal .MODE 1
-    * jump *label36 always
+  152 jump *label36 notEqual .MODE 1
   153 label *label37
   154 set *tmp60 "[gold]STARTUP[]"
   155 jump *label33 always
   156 label *label36
-    * jump *label39 equal .MODE 2
-    * jump *label38 always
+  157 jump *label38 notEqual .MODE 2
   158 label *label39
   159 set *tmp60 "[green]RUNNING[]"
   160 jump *label33 always
 
   231 print :net_power
   232 print "["
   233 print "]"
-    * jump *label50 equal .MODE 0
-    * jump *label49 always
+  234 jump *label49 notEqual .MODE 0
   235 label *label50
   236 set .REACTORS_ON 0
   237 set .OVERDRIVE 0
 
   257 label *label52
   258 jump *label48 always
   259 label *label49
-    * jump *label54 equal .MODE 1
-    * jump *label53 always
+  260 jump *label53 notEqual .MODE 1
   261 label *label54
   262 jump *label55 equal .OUTPUT_1 false
   263 jump *label57 equal .OUTPUT_2 false
 
   392 label *label60
   393 jump *label48 always
   394 label *label53
-    * jump *label90 equal .MODE 2
-    * jump *label89 always
+  395 jump *label89 notEqual .MODE 2
   396 label *label90
   397 jump *label91 equal .COOLANT_FLAG false
   398 label *label94
 
   424 label *label102
   425 sensor *tmp133 tank1 @totalLiquids
   426 op greaterThan *tmp134 *tmp133 1000
-    * jump *label101 notEqual *tmp134 false
-    * jump *label99 always
+  427 jump *label99 equal *tmp134 false
   428 label *label101
   429 set *tmp135 true
   430 jump *label100 always
 
   436 label *label106
   437 sensor *tmp136 vault1 @blast-compound
   438 op greaterThan *tmp137 *tmp136 800
-    * jump *label105 notEqual *tmp137 false
-    * jump *label103 always
+  439 jump *label103 equal *tmp137 false
   440 label *label105
   441 set *tmp138 true
   442 jump *label104 always
 
   489 label *label121
   490 op mul *tmp157 .REACTORS_ON -2500
   491 op lessThan *tmp158 :battery_change *tmp157
-    * jump *label120 notEqual *tmp158 false
-    * jump *label118 always
+  492 jump *label118 equal *tmp158 false
   493 label *label120
   494 op equal *tmp160 .OVERDRIVE false
   495 op add .RESETS .RESETS *tmp160
 
   502 jump *label124 notEqual *tmp162 false
   503 label *label125
   504 op lessThan *tmp163 :battery_change -100
-    * jump *label124 notEqual *tmp163 false
-    * jump *label122 always
+  505 jump *label122 equal *tmp163 false
   506 label *label124
   507 op add :nextDecommit @time 6000
   508 jump *label123 always
 
   588 jump *label142 greaterThanEq :n @links
   589 getlink :block :n
   590 sensor *tmp191 :block @type
-    * jump *label145 equal *tmp191 @impact-reactor
-    * jump *label144 always
+  591 jump *label144 notEqual *tmp191 @impact-reactor
   592 label *label145
   593 op add :reactors :reactors 1
   594 op lessThanEq :enabled :reactors .REACTORS_ON
 
   602 jump *label143 always
   603 label *label144
   604 jump *label149 equal *tmp191 @overdrive-projector
-    * jump *label149 equal *tmp191 @overdrive-dome
-    * jump *label148 always
+  605 jump *label148 notEqual *tmp191 @overdrive-dome
   606 label *label149
   607 control enabled :block .OVERDRIVE
   608 jump *label143 always
 
   613 jump *label151 equal *tmp191 @conveyor
   614 jump *label151 equal *tmp191 @titanium-conveyor
   615 jump *label151 equal *tmp191 @plastanium-conveyor
-    * jump *label151 equal *tmp191 @armored-conveyor
-    * jump *label150 always
+  616 jump *label150 notEqual *tmp191 @armored-conveyor
   617 label *label151
   618 control enabled :block :startup
   619 jump *label143 always

Modifications by Iterated phase, Jump Optimization, pass 1, iteration 1 (-45 instructions):
 
     4 set .COOLANT_FLAG .FUEL_FLAG
     5 set :reactors 0
     6 label *label0
-    * op equal *tmp0 :reactors 0
-    * jump *label2 equal *tmp0 false
+    7 jump *label2 notEqual :reactors 0
     8 set :reactors 0
     9 set :n @links
    10 label *label3
-    * op greaterThan *tmp2 :n 0
-    * jump *label5 equal *tmp2 false
+   11 jump *label5 lessThanEq :n 0
    12 op sub :n :n 1
    13 getlink :block :n
    14 print "Found: "
 
    33 label *label5
    34 read *tmp7 cell2 1
    35 op add :reactors :reactors *tmp7
-    * op equal *tmp8 :reactors 0
-    * jump *label11 equal *tmp8 false
+   36 jump *label11 notEqual :reactors 0
    37 print "No reactor."
    38 jump *label12 always
    39 label *label11
 
    54 read .RESETS cell1 9
    55 read .COMMITS cell1 10
    56 set :reactors .REACTORS_ON
-    * op equal *tmp21 .MODE 0
-    * jump *label13 equal *tmp21 false
+   57 jump *label13 notEqual .MODE 0
    58 set .REASON "Processor reset"
    59 jump *label14 always
    60 label *label13
 
    84 op sub *tmp40 :required_capacity :total_capacity
    85 op div *tmp41 *tmp40 1000
    86 op ceil :missing_battery *tmp41
-    * op notEqual *tmp43 .MODE 0
-    * jump *label18 equal *tmp43 false
+   87 jump *label18 equal .MODE 0
    88 sensor *tmp45 switch1 @enabled
-    * op equal *tmp46 *tmp45 false
-    * jump *label20 equal *tmp46 false
+   89 jump *label20 notEqual *tmp45 false
    90 set .MODE 0
    91 set .REASON "Manual power off"
    92 jump *label21 always
    93 label *label20
    94 op mul :min_consumption .REACTORS_ON 1200
    95 op lessThan :failure1 :consumption :min_consumption
-    * op equal *tmp50 :battery_level 0
-    * jump *label22 equal *tmp50 false
+   96 jump *label22 notEqual :battery_level 0
    97 label *label26
-    * op greaterThan *tmp51 :consumption 0
-    * jump *label22 equal *tmp51 false
+   98 jump *label22 lessThanEq :consumption 0
    99 jump *label25 always
   100 label *label25
-    * op equal *tmp52 :production 0
-    * jump *label22 equal *tmp52 false
+  101 jump *label22 notEqual :production 0
   102 jump *label24 always
   103 label *label24
   104 set *tmp53 true
 
   114 op add :failure_cnt :failure_cnt 1
   115 read *tmp55 cell2 1
   116 op add *tmp56 10 *tmp55
-    * op greaterThan *tmp57 :failure_cnt *tmp56
-    * jump *label31 equal *tmp57 false
+  117 jump *label31 lessThanEq :failure_cnt *tmp56
   118 set .MODE 0
   119 control enabled switch1 false
   120 set .REASON "Unknown -- out of power?"
 
   174 label *label41
   175 print "\n=================================="
   176 sensor *tmp68 tank1 @totalLiquids
-    * op lessThan *tmp69 *tmp68 750
-    * jump *label42 equal *tmp69 false
+  177 jump *label42 greaterThanEq *tmp68 750
   178 print "\n[salmon]Cryofluid level critical![]"
   179 jump *label43 always
   180 label *label42
   181 label *label43
   182 sensor *tmp71 vault1 @blast-compound
-    * op lessThan *tmp72 *tmp71 700
-    * jump *label44 equal *tmp72 false
+  183 jump *label44 greaterThanEq *tmp71 700
   184 print "\n[salmon]Blast compound level critical![]"
   185 jump *label45 always
   186 label *label44
   187 label *label45
-    * op equal *tmp74 :enough_battery false
-    * jump *label46 equal *tmp74 false
+  188 jump *label46 notEqual :enough_battery false
   189 print "\n[salmon]Insufficient battery storage![]"
   190 print "\n"
   191 print "Link [gold]"
 
   263 op mul *tmp86 *tmp85 1.05
   264 op floor *tmp87 *tmp86
   265 op max :neededPower *tmp87 1000
-    * op equal *tmp89 .REACTORS_ON 0
-    * jump *label59 equal *tmp89 false
-    * op greaterThanEq *tmp91 :total_battery 25000
-    * jump *label61 equal *tmp91 false
+  266 jump *label59 notEqual .REACTORS_ON 0
+  267 jump *label61 lessThan :total_battery 25000
   268 set .REACTORS_ON 1
   269 op add :nextStart @time 2000
   270 jump *label62 always
 
   282 print :outputs
   283 print "["
   284 print "] surge tower(s) online"
-    * op equal *tmp96 .OUTPUT_3 0
-    * jump *label63 equal *tmp96 false
+  285 jump *label63 notEqual .OUTPUT_3 0
   286 print "\n"
   287 print "Required power level: [gold]"
   288 print :neededPower
 
   291 jump *label64 always
   292 label *label63
   293 label *label64
-    * op greaterThan *tmp98 :net_power 100
-    * jump *label65 equal *tmp98 false
+  294 jump *label65 lessThanEq :net_power 100
   295 set .OVERDRIVE true
   296 jump *label66 always
   297 label *label65
   298 label *label66
-    * op lessThan *tmp100 .REACTORS_ON :reactors
-    * jump *label67 equal *tmp100 false
+  299 jump *label67 greaterThanEq .REACTORS_ON :reactors
   300 label *label71
-    * op greaterThan *tmp101 :net_power 1000
-    * jump *label67 equal *tmp101 false
+  301 jump *label67 lessThanEq :net_power 1000
   302 jump *label70 always
   303 label *label70
-    * op greaterThanEq *tmp102 :total_battery 25000
-    * jump *label67 equal *tmp102 false
+  304 jump *label67 lessThan :total_battery 25000
   305 jump *label69 always
   306 label *label69
   307 set *tmp103 true
 
   310 set *tmp103 false
   311 label *label68
   312 set :canStart *tmp103
-    * op greaterThanEq *tmp104 :net_power :neededPower
-    * jump *label72 equal *tmp104 false
+  313 jump *label72 lessThan :net_power :neededPower
   314 set .OUTPUT_3 .OUTPUT_2
   315 set .OUTPUT_2 .OUTPUT_1
   316 set .OUTPUT_1 1
   317 jump *label73 always
   318 label *label72
   319 label *label73
-    * op equal *tmp106 .OUTPUT_1 0
-    * jump *label74 equal *tmp106 false
+  320 jump *label74 notEqual .OUTPUT_1 0
   321 op mul :availablePower 6300 :boosts
   322 op div :ratio :neededPower :availablePower
-    * op lessThan *tmp110 :ratio 1
-    * jump *label76 equal *tmp110 false
+  323 jump *label76 greaterThanEq :ratio 1
   324 op add :nextStart @time 2000
   325 jump *label77 always
   326 label *label76
 
   330 label *label75
   331 jump *label78 equal :canStart false
   332 label *label81
-    * op greaterThan *tmp113 @time :nextStart
-    * jump *label78 equal *tmp113 false
+  333 jump *label78 lessThanEq @time :nextStart
   334 jump *label80 always
   335 label *label80
   336 jump *label82 equal FAST_START false
 
   346 jump *label79 always
   347 label *label78
   348 label *label79
-    * op greaterThanEq *tmp120 .REACTORS_ON :reactors
-    * jump *label84 equal *tmp120 false
+  349 jump *label84 lessThan .REACTORS_ON :reactors
   350 label *label88
-    * op greaterThan *tmp121 @time :nextStart
-    * jump *label84 equal *tmp121 false
+  351 jump *label84 lessThanEq @time :nextStart
   352 jump *label87 always
   353 label *label87
-    * op greaterThan *tmp122 .OUTPUT_3 0
-    * jump *label84 equal *tmp122 false
+  354 jump *label84 lessThanEq .OUTPUT_3 0
   355 jump *label86 always
   356 label *label86
   357 set .MODE 2
 
   370 jump *label91 equal .COOLANT_FLAG false
   371 label *label94
   372 sensor *tmp125 tank1 @totalLiquids
-    * op lessThan *tmp126 *tmp125 750
-    * jump *label91 equal *tmp126 false
+  373 jump *label91 greaterThanEq *tmp125 750
   374 jump *label93 always
   375 label *label93
   376 set .MODE 0
 
   382 jump *label95 equal .FUEL_FLAG false
   383 label *label98
   384 sensor *tmp129 vault1 @blast-compound
-    * op lessThan *tmp130 *tmp129 700
-    * jump *label95 equal *tmp130 false
+  385 jump *label95 greaterThanEq *tmp129 700
   386 jump *label97 always
   387 label *label97
   388 set .MODE 0
 
   394 jump *label101 notEqual .COOLANT_FLAG false
   395 label *label102
   396 sensor *tmp133 tank1 @totalLiquids
-    * op greaterThan *tmp134 *tmp133 1000
-    * jump *label99 equal *tmp134 false
+  397 jump *label99 lessThanEq *tmp133 1000
   398 label *label101
   399 set *tmp135 true
   400 jump *label100 always
 
   405 jump *label105 notEqual .FUEL_FLAG false
   406 label *label106
   407 sensor *tmp136 vault1 @blast-compound
-    * op greaterThan *tmp137 *tmp136 800
-    * jump *label103 equal *tmp137 false
+  408 jump *label103 lessThanEq *tmp136 800
   409 label *label105
   410 set *tmp138 true
   411 jump *label104 always
 
   423 set :commit_level 0
   424 jump *label111 equal .CAN_COMMIT false
   425 label *label115
-    * op lessThan *tmp142 :battery_change 0
-    * jump *label111 equal *tmp142 false
+  426 jump *label111 greaterThanEq :battery_change 0
   427 jump *label114 always
   428 label *label114
-    * op lessThan *tmp143 .REACTORS_ON :reactors
-    * jump *label111 equal *tmp143 false
+  429 jump *label111 greaterThanEq .REACTORS_ON :reactors
   430 jump *label113 always
   431 label *label113
   432 op sub *tmp145 :battery_change 1500
 
   442 jump *label112 always
   443 label *label111
   444 label *label112
-    * op equal *tmp153 :commit_level 0
-    * jump *label116 equal *tmp153 false
+  445 jump *label116 notEqual :commit_level 0
   446 op idiv *tmp155 :min_level 1000
   447 print "\nRestart threshold: [gold]"
   448 print *tmp155
 
   450 label *label116
   451 label *label117
   452 print "[] K"
-    * op lessThan *tmp156 :total_battery :min_level
-    * jump *label120 notEqual *tmp156 false
+  453 jump *label120 lessThan :total_battery :min_level
   454 label *label121
   455 op mul *tmp157 .REACTORS_ON -2500
-    * op lessThan *tmp158 :battery_change *tmp157
-    * jump *label118 equal *tmp158 false
+  456 jump *label118 greaterThanEq :battery_change *tmp157
   457 label *label120
   458 op equal *tmp160 .OVERDRIVE false
   459 op add .RESETS .RESETS *tmp160
 
   462 op add :nextDecommit @time 6000
   463 jump *label119 always
   464 label *label118
-    * op lessThan *tmp162 :battery_level 47500
-    * jump *label124 notEqual *tmp162 false
+  465 jump *label124 lessThan :battery_level 47500
   466 label *label125
-    * op lessThan *tmp163 :battery_change -100
-    * jump *label122 equal *tmp163 false
+  467 jump *label122 greaterThanEq :battery_change -100
   468 label *label124
   469 op add :nextDecommit @time 6000
   470 jump *label123 always
   471 label *label122
   472 label *label123
-    * op greaterThan *tmp166 @time :nextDecommit
-    * jump *label126 equal *tmp166 false
+  473 jump *label126 lessThanEq @time :nextDecommit
   474 jump *label128 equal .OVERDRIVE false
   475 set .OVERDRIVE false
   476 jump *label129 always
 
   482 op add :nextDecommit @time 6000
   483 jump *label127 always
   484 label *label126
-    * op lessThan *tmp172 :total_battery :commit_level
-    * jump *label130 equal *tmp172 false
+  485 jump *label130 greaterThanEq :total_battery :commit_level
   486 op add .REACTORS_ON .REACTORS_ON 1
   487 op add .COMMITS .COMMITS 1
   488 set .CAN_COMMIT false
 
   504 set .OVERDRIVE true
   505 label *label108
   506 op mul *tmp176 PLANT_PROTECTION 47500
-    * op lessThan *tmp177 :total_battery *tmp176
-    * jump *label134 equal *tmp177 false
+  507 jump *label134 greaterThanEq :total_battery *tmp176
   508 set .OUTPUT_2 0
   509 set .OUTPUT_3 0
   510 jump *label135 always
   511 label *label134
   512 label *label135
-    * op equal *tmp179 .OUTPUT_2 0
-    * jump *label136 equal *tmp179 false
-    * op greaterThan *tmp181 :total_battery 47500
-    * jump *label138 equal *tmp181 false
+  513 jump *label136 notEqual .OUTPUT_2 0
+  514 jump *label138 lessThanEq :total_battery 47500
   515 set .OUTPUT_2 1
   516 set .OUTPUT_3 1
   517 jump *label139 always
 
   580 op add :n :n 1
   581 jump *label140 always
   582 label *label142
-    * op notEqual *tmp202 cell2 null
-    * jump *label152 equal *tmp202 false
+  583 jump *label152 equal cell2 null
   584 write :reactors cell2 0
   585 write .REACTORS_ON cell2 2
   586 write .OVERDRIVE cell2 3
 
   592 label *label152
   593 label *label153
   594 op min .REACTORS_ON .REACTORS_ON :reactors
-    * op equal *tmp210 cell1 null
-    * jump *label154 equal *tmp210 false
+  595 jump *label154 notEqual cell1 null
   596 set .STARTUPS 0
   597 set .RESETS 0
   598 set .COMMITS 0

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-40 instructions):
 
    25 jump *label9 notEqual *tmp5 @overdrive-dome
    26 label *label10
    27 set .START :n
-    * jump *label6 always
    28 label *label9
    29 label *label6
    30 label *label4
 
    34 op add :reactors :reactors *tmp7
    35 jump *label11 notEqual :reactors 0
    36 print "No reactor."
-    * jump *label12 always
    37 label *label11
    38 label *label12
    39 printflush message1
 
    94 jump *label22 notEqual :battery_level 0
    95 label *label26
    96 jump *label22 lessThanEq :consumption 0
-    * jump *label25 always
    97 label *label25
    98 jump *label22 notEqual :production 0
-    * jump *label24 always
    99 label *label24
   100 set *tmp53 true
   101 jump *label23 always
 
   119 print "\nMin. consumption: "
   120 print :min_consumption
   121 printflush message2
-    * jump *label32 always
   122 label *label31
   123 label *label32
   124 jump *label28 always
 
   126 set :failure_cnt 0
   127 label *label28
   128 label *label21
-    * jump *label19 always
   129 label *label18
   130 label *label19
   131 jump *label34 notEqual .MODE 0
 
   163 print " ([gold]"
   164 print :multiplier
   165 print "x[])"
-    * jump *label41 always
   166 label *label40
   167 label *label41
   168 print "\n=================================="
   169 sensor *tmp68 tank1 @totalLiquids
   170 jump *label42 greaterThanEq *tmp68 750
   171 print "\n[salmon]Cryofluid level critical![]"
-    * jump *label43 always
   172 label *label42
   173 label *label43
   174 sensor *tmp71 vault1 @blast-compound
   175 jump *label44 greaterThanEq *tmp71 700
   176 print "\n[salmon]Blast compound level critical![]"
-    * jump *label45 always
   177 label *label44
   178 label *label45
   179 jump *label46 notEqual :enough_battery false
 
   183 print :missing_battery
   184 print " "
   185 print "K[] of additional storage to internal battery."
-    * jump *label47 always
   186 label *label46
   187 label *label47
   188 print "\n"
 
   229 set :failure_cnt 0
   230 set .GENERATOR true
   231 set .REASON "Unknown -- out of power?"
-    * jump *label52 always
   232 label *label51
   233 label *label52
   234 jump *label48 always
 
   277 print :neededPower
   278 print "["
   279 print "]"
-    * jump *label64 always
   280 label *label63
   281 label *label64
   282 jump *label65 lessThanEq :net_power 100
   283 set .OVERDRIVE true
-    * jump *label66 always
   284 label *label65
   285 label *label66
   286 jump *label67 greaterThanEq .REACTORS_ON :reactors
   287 label *label71
   288 jump *label67 lessThanEq :net_power 1000
-    * jump *label70 always
   289 label *label70
   290 jump *label67 lessThan :total_battery 25000
-    * jump *label69 always
   291 label *label69
   292 set *tmp103 true
   293 jump *label68 always
 
   299 set .OUTPUT_3 .OUTPUT_2
   300 set .OUTPUT_2 .OUTPUT_1
   301 set .OUTPUT_1 1
-    * jump *label73 always
   302 label *label72
   303 label *label73
   304 jump *label74 notEqual .OUTPUT_1 0
 
   306 op div :ratio :neededPower :availablePower
   307 jump *label76 greaterThanEq :ratio 1
   308 op add :nextStart @time 2000
-    * jump *label77 always
   309 label *label76
   310 label *label77
-    * jump *label75 always
   311 label *label74
   312 label *label75
   313 jump *label78 equal :canStart false
   314 label *label81
   315 jump *label78 lessThanEq @time :nextStart
-    * jump *label80 always
   316 label *label80
   317 jump *label82 equal FAST_START false
   318 op idiv *tmp115 :total_battery 25000
 
   324 op add *tmp117 .REACTORS_ON :start_at_once
   325 op min .REACTORS_ON *tmp117 :reactors
   326 op add :nextStart @time 2000
-    * jump *label79 always
   327 label *label78
   328 label *label79
   329 jump *label84 lessThan .REACTORS_ON :reactors
   330 label *label88
   331 jump *label84 lessThanEq @time :nextStart
-    * jump *label87 always
   332 label *label87
   333 jump *label84 lessThanEq .OUTPUT_3 0
-    * jump *label86 always
   334 label *label86
   335 set .MODE 2
   336 op add :nextDecommit @time 6000
   337 set .COOLANT_FLAG 0
   338 set .FUEL_FLAG 0
   339 set .GENERATOR false
-    * jump *label85 always
   340 label *label84
   341 label *label85
   342 label *label60
 
   348 label *label94
   349 sensor *tmp125 tank1 @totalLiquids
   350 jump *label91 greaterThanEq *tmp125 750
-    * jump *label93 always
   351 label *label93
   352 set .MODE 0
   353 control enabled switch1 false
   354 set .REASON "Cryo level too low"
-    * jump *label92 always
   355 label *label91
   356 label *label92
   357 jump *label95 equal .FUEL_FLAG false
   358 label *label98
   359 sensor *tmp129 vault1 @blast-compound
   360 jump *label95 greaterThanEq *tmp129 700
-    * jump *label97 always
   361 label *label97
   362 set .MODE 0
   363 control enabled switch1 false
   364 set .REASON "Blast compound level too low"
-    * jump *label96 always
   365 label *label95
   366 label *label96
   367 jump *label101 notEqual .COOLANT_FLAG false
 
   390 label *label110
   391 sensor *tmp139 switch2 @enabled
   392 jump *label107 equal *tmp139 false
-    * jump *label109 always
   393 label *label109
   394 op mul :min_level 0.5 :required_capacity
   395 set :commit_level 0
   396 jump *label111 equal .CAN_COMMIT false
   397 label *label115
   398 jump *label111 greaterThanEq :battery_change 0
-    * jump *label114 always
   399 label *label114
   400 jump *label111 greaterThanEq .REACTORS_ON :reactors
-    * jump *label113 always
   401 label *label113
   402 op sub *tmp145 :battery_change 1500
   403 op sub :p *tmp145 1000
 
   409 op idiv *tmp152 :commit_level 1000
   410 print "\nCommit threshold:   [gold]"
   411 print *tmp152
-    * jump *label112 always
   412 label *label111
   413 label *label112
   414 jump *label116 notEqual :commit_level 0
   415 op idiv *tmp155 :min_level 1000
   416 print "\nRestart threshold: [gold]"
   417 print *tmp155
-    * jump *label117 always
   418 label *label116
   419 label *label117
   420 print "[] K"
 
   435 jump *label122 greaterThanEq :battery_change -100
   436 label *label124
   437 op add :nextDecommit @time 6000
-    * jump *label123 always
   438 label *label122
   439 label *label123
   440 jump *label126 lessThanEq @time :nextDecommit
 
   453 op add .REACTORS_ON .REACTORS_ON 1
   454 op add .COMMITS .COMMITS 1
   455 set .CAN_COMMIT false
-    * jump *label131 always
   456 label *label130
   457 label *label131
   458 label *label127
 
   473 jump *label134 greaterThanEq :total_battery *tmp176
   474 set .OUTPUT_2 0
   475 set .OUTPUT_3 0
-    * jump *label135 always
   476 label *label134
   477 label *label135
   478 jump *label136 notEqual .OUTPUT_2 0
 
   483 label *label138
   484 print "\n*** [gold]Surge tower 2 offline[] ***"
   485 label *label139
-    * jump *label137 always
   486 label *label136
   487 label *label137
-    * jump *label48 always
   488 label *label89
   489 label *label48
   490 print "\n"
 
   516 jump *label146 equal :enabled false
   517 sensor *tmp197 :block @timescale
   518 op add :boosts :boosts *tmp197
-    * jump *label147 always
   519 label *label146
   520 label *label147
   521 jump *label143 always
 
   535 jump *label150 notEqual *tmp191 @armored-conveyor
   536 label *label151
   537 control enabled :block :startup
-    * jump *label143 always
   538 label *label150
   539 label *label143
   540 label *label141
 
   549 op add :reactors :reactors *tmp207
   550 read *tmp208 cell2 4
   551 op add :boosts :boosts *tmp208
-    * jump *label153 always
   552 label *label152
   553 label *label153
   554 op min .REACTORS_ON .REACTORS_ON :reactors

Modifications by Iterated phase, Expression Optimization, pass 1, iteration 1 (-1 instructions):
 
   249 label *label56
   250 set :nextBattery *tmp83
   251 sensor *tmp85 :nextBattery @powerNetOut
-    * op mul *tmp86 *tmp85 1.05
-    * op floor *tmp87 *tmp86
+  252 op idiv *tmp87 *tmp85 0.9523809523809523
   253 op max :neededPower *tmp87 1000
   254 jump *label59 notEqual .REACTORS_ON 0
   255 jump *label61 lessThan :total_battery 25000

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-1 instructions):
     0 set PLANT_PROTECTION 1
     1 set FAST_START 1
     2 set .START 0
-    * set .FUEL_FLAG .START
-    * set .COOLANT_FLAG .FUEL_FLAG
+    3 set .FUEL_FLAG 0
+    4 set .COOLANT_FLAG .START
     5 set :reactors 0
     6 label *label0
     7 jump *label2 notEqual :reactors 0
 
   105 set :failure2 *tmp53
   106 jump *label29 notEqual :failure1 false
   107 label *label30
-    * jump *label27 equal :failure2 false
+  108 jump *label27 equal *tmp53 false
   109 label *label29
   110 op add :failure_cnt :failure_cnt 1
   111 read *tmp55 cell2 1
 
   146 set *tmp60 null
   147 label *label33
   148 set .STR_MODE *tmp60
-    * print .STR_MODE
+  149 print *tmp60
   150 print ","
   151 print " reactors [green]"
   152 print .REACTORS_ON
 
   248 set *tmp83 battery2
   249 label *label56
   250 set :nextBattery *tmp83
-    * sensor *tmp85 :nextBattery @powerNetOut
+  251 sensor *tmp85 *tmp83 @powerNetOut
   252 op idiv *tmp87 *tmp85 0.9523809523809523
   253 op max :neededPower *tmp87 1000
   254 jump *label59 notEqual .REACTORS_ON 0
 
   309 label *label77
   310 label *label74
   311 label *label75
-    * jump *label78 equal :canStart false
+  312 jump *label78 equal *tmp103 false
   313 label *label81
   314 jump *label78 lessThanEq @time :nextStart
   315 label *label80
 
   320 set *tmp115 1
   321 label *label83
   322 set :start_at_once *tmp115
-    * op add *tmp117 .REACTORS_ON :start_at_once
+  323 op add *tmp117 .REACTORS_ON *tmp115
   324 op min .REACTORS_ON *tmp117 :reactors
   325 op add :nextStart @time 2000
   326 label *label78
 
   390 sensor *tmp139 switch2 @enabled
   391 jump *label107 equal *tmp139 false
   392 label *label109
-    * op mul :min_level 0.5 :required_capacity
+  393 op mul :min_level :reactors 50000
   394 set :commit_level 0
   395 jump *label111 equal .CAN_COMMIT false
   396 label *label115
 
   399 jump *label111 greaterThanEq .REACTORS_ON :reactors
   400 label *label113
   401 op sub *tmp145 :battery_change 1500
-    * op sub :p *tmp145 1000
+  402 op sub :p :battery_change 2500
   403 op mul *tmp147 :p 0.00472972972972973
   404 op add *tmp148 -5 *tmp147
   405 op mul *tmp149 :p *tmp148
 
   501 op equal :startup .MODE 1
   502 set :reactors 0
   503 set :boosts 0
-    * set :enabled true
   504 set :n .START
   505 label *label140
   506 jump *label142 greaterThanEq :n @links

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
     1 set FAST_START 1
     2 set .START 0
     3 set .FUEL_FLAG 0
-    * set .COOLANT_FLAG .START
+    4 set .COOLANT_FLAG 0
     5 set :reactors 0
     6 label *label0
     7 jump *label2 notEqual :reactors 0
 
   102 label *label22
   103 set *tmp53 false
   104 label *label23
-    * set :failure2 *tmp53
   105 jump *label29 notEqual :failure1 false
   106 label *label30
   107 jump *label27 equal *tmp53 false
 
   144 label *label38
   145 set *tmp60 null
   146 label *label33
-    * set .STR_MODE *tmp60
   147 print *tmp60
   148 print ","
   149 print " reactors [green]"
 
   245 label *label55
   246 set *tmp83 battery2
   247 label *label56
-    * set :nextBattery *tmp83
   248 sensor *tmp85 *tmp83 @powerNetOut
   249 op idiv *tmp87 *tmp85 0.9523809523809523
   250 op max :neededPower *tmp87 1000
 
   290 label *label67
   291 set *tmp103 false
   292 label *label68
-    * set :canStart *tmp103
   293 jump *label72 lessThan :net_power :neededPower
   294 set .OUTPUT_3 .OUTPUT_2
   295 set .OUTPUT_2 .OUTPUT_1
 
   315 label *label82
   316 set *tmp115 1
   317 label *label83
-    * set :start_at_once *tmp115
   318 op add *tmp117 .REACTORS_ON *tmp115
   319 op min .REACTORS_ON *tmp117 :reactors
   320 op add :nextStart @time 2000
 
   393 label *label114
   394 jump *label111 greaterThanEq .REACTORS_ON :reactors
   395 label *label113
-    * op sub *tmp145 :battery_change 1500
   396 op sub :p :battery_change 2500
   397 op mul *tmp147 :p 0.00472972972972973
   398 op add *tmp148 -5 *tmp147

Modifications by Iterated phase, Loop Optimization, pass 1, iteration 1 (-1 instructions):
 
     4 set .COOLANT_FLAG 0
     5 set :reactors 0
     6 label *label0
-    * jump *label2 notEqual :reactors 0
+    7 label *label156
     8 set :reactors 0
     9 set :n @links
    10 label *label3
    11 jump *label5 lessThanEq :n 0
+   12 label *label157
    13 op sub :n :n 1
    14 getlink :block :n
    15 print "Found: "
 
    29 label *label9
    30 label *label6
    31 label *label4
-    * jump *label3 always
+   32 jump *label157 greaterThan :n 0
    33 label *label5
    34 read *tmp7 cell2 1
    35 op add :reactors :reactors *tmp7
 
    39 label *label12
    40 printflush message1
    41 label *label1
-    * jump *label0 always
+   42 jump *label156 equal :reactors 0
    43 label *label2
    44 read .MODE cell1 0
    45 read .OUTPUT_1 cell1 1
 
   499 set :n .START
   500 label *label140
   501 jump *label142 greaterThanEq :n @links
+  502 label *label158
   503 getlink :block :n
   504 sensor *tmp191 :block @type
   505 jump *label144 notEqual *tmp191 @impact-reactor
 
   533 label *label143
   534 label *label141
   535 op add :n :n 1
-    * jump *label140 always
+  536 jump *label158 lessThan :n @links
   537 label *label142
   538 jump *label152 equal cell2 null
   539 write :reactors cell2 0

Modifications by Iterated phase, If Expression Optimization, pass 1, iteration 1 (-9 instructions):
 
    53 read .RESETS cell1 9
    54 read .COMMITS cell1 10
    55 set :reactors .REACTORS_ON
-    * jump *label13 notEqual .MODE 0
-    * set .REASON "Processor reset"
-    * jump *label14 always
-    * label *label13
-    * set .REASON "Reason unknown -- out of power?"
-    * label *label14
+   56 select .REASON equal .MODE 0 "Processor reset" "Reason unknown -- out of power?"
    57 op notEqual *tmp24 .MODE 0
    58 control enabled switch1 *tmp24
    59 set :failure_cnt 0
 
   230 jump *label53 notEqual .MODE 1
   231 label *label54
   232 jump *label55 equal .OUTPUT_1 false
-    * jump *label57 equal .OUTPUT_2 false
-    * set *tmp84 battery4
-    * jump *label58 always
-    * label *label57
-    * set *tmp84 battery3
-    * label *label58
+  233 select *tmp84 notEqual .OUTPUT_2 false battery4 battery3
   234 set *tmp83 *tmp84
   235 jump *label56 always
   236 label *label55
 
   266 print "]"
   267 label *label63
   268 label *label64
-    * jump *label65 lessThanEq :net_power 100
-    * set .OVERDRIVE true
-    * label *label65
-    * label *label66
+  269 select .OVERDRIVE greaterThan :net_power 100 true .OVERDRIVE
   270 jump *label67 greaterThanEq .REACTORS_ON :reactors
   271 label *label71
   272 jump *label67 lessThanEq :net_power 1000
 
   297 label *label81
   298 jump *label78 lessThanEq @time :nextStart
   299 label *label80
-    * jump *label82 equal FAST_START false
-    * op idiv *tmp115 :total_battery 25000
-    * jump *label83 always
-    * label *label82
-    * set *tmp115 1
-    * label *label83
+  300 op idiv *tmp227 :total_battery 25000
+  301 select *tmp115 notEqual FAST_START false *tmp227 1
   302 op add *tmp117 .REACTORS_ON *tmp115
   303 op min .REACTORS_ON *tmp117 :reactors
   304 op add :nextStart @time 2000

Modifications by Iterated phase, If Expression Optimization, pass 1, iteration 2 (-3 instructions):
 
   229 label *label49
   230 jump *label53 notEqual .MODE 1
   231 label *label54
-    * jump *label55 equal .OUTPUT_1 false
-    * select *tmp84 notEqual .OUTPUT_2 false battery4 battery3
-    * set *tmp83 *tmp84
-    * jump *label56 always
-    * label *label55
-    * set *tmp83 battery2
-    * label *label56
+  232 select *tmp244 notEqual .OUTPUT_2 false battery4 battery3
+  233 select *tmp83 notEqual .OUTPUT_1 false *tmp244 battery2
   234 sensor *tmp85 *tmp83 @powerNetOut
   235 op idiv *tmp87 *tmp85 0.9523809523809523
   236 op max :neededPower *tmp87 1000

Modifications by Iterated phase, If Expression Optimization, pass 1, iteration 3 (-2 instructions):
 
    87 label *label20
    88 op mul :min_consumption .REACTORS_ON 1200
    89 op lessThan :failure1 :consumption :min_consumption
-    * jump *label22 notEqual :battery_level 0
+   90 set *tmp53 false
+   91 jump *label23 notEqual :battery_level 0
    92 label *label26
-    * jump *label22 lessThanEq :consumption 0
+   93 jump *label23 lessThanEq :consumption 0
    94 label *label25
-    * jump *label22 notEqual :production 0
+   95 jump *label23 notEqual :production 0
    96 label *label24
    97 set *tmp53 true
    98 jump *label23 always
-    * label *label22
-    * set *tmp53 false
    99 label *label23
   100 jump *label29 notEqual :failure1 false
   101 label *label30
 
   261 label *label63
   262 label *label64
   263 select .OVERDRIVE greaterThan :net_power 100 true .OVERDRIVE
-    * jump *label67 greaterThanEq .REACTORS_ON :reactors
+  264 set *tmp103 false
+  265 jump *label68 greaterThanEq .REACTORS_ON :reactors
   266 label *label71
-    * jump *label67 lessThanEq :net_power 1000
+  267 jump *label68 lessThanEq :net_power 1000
   268 label *label70
-    * jump *label67 lessThan :total_battery 25000
+  269 jump *label68 lessThan :total_battery 25000
   270 label *label69
   271 set *tmp103 true
   272 jump *label68 always
-    * label *label67
-    * set *tmp103 false
   273 label *label68
   274 jump *label72 lessThan :net_power :neededPower
   275 set .OUTPUT_3 .OUTPUT_2
 
   340 sensor *tmp133 tank1 @totalLiquids
   341 jump *label99 lessThanEq *tmp133 1000
   342 label *label101
-    * set *tmp135 true
+  343 set .COOLANT_FLAG true
   344 jump *label100 always
   345 label *label99
-    * set *tmp135 false
+  346 set .COOLANT_FLAG false
   347 label *label100
-    * set .COOLANT_FLAG *tmp135
   348 jump *label105 notEqual .FUEL_FLAG false
   349 label *label106
   350 sensor *tmp136 vault1 @blast-compound
   351 jump *label103 lessThanEq *tmp136 800
   352 label *label105
-    * set *tmp138 true
+  353 set .FUEL_FLAG true
   354 jump *label104 always
   355 label *label103
-    * set *tmp138 false
+  356 set .FUEL_FLAG false
   357 label *label104
-    * set .FUEL_FLAG *tmp138
   358 jump *label107 equal :enough_battery false
   359 label *label110
   360 sensor *tmp139 switch2 @enabled

Modifications by Convert case at line 419:9 (segments: 1, padded low) (+75 instructions):
 
   476 label *label158
   477 getlink :block :n
   478 sensor *tmp191 :block @type
-    * jump *label144 notEqual *tmp191 @impact-reactor
+  479 sensor *tmp280 *tmp191 @id
+  480 jump *label159 greaterThanEq *tmp280 83
+  481 multijump *label161 *tmp280 0 (m:*label160)
+  482 multilabel *label161 (m:*label160)
+  483 jump *label159 always
+  484 multilabel *label162 (m:*label160)
+  485 jump *label159 always
+  486 multilabel *label163 (m:*label160)
+  487 jump *label159 always
+  488 multilabel *label164 (m:*label160)
+  489 jump *label159 always
+  490 multilabel *label165 (m:*label160)
+  491 jump *label159 always
+  492 multilabel *label166 (m:*label160)
+  493 jump *label159 always
+  494 multilabel *label167 (m:*label160)
+  495 jump *label159 always
+  496 multilabel *label168 (m:*label160)
+  497 jump *label159 always
+  498 multilabel *label169 (m:*label160)
+  499 jump *label159 always
+  500 multilabel *label170 (m:*label160)
+  501 jump *label159 always
+  502 multilabel *label171 (m:*label160)
+  503 jump *label159 always
+  504 multilabel *label172 (m:*label160)
+  505 jump *label159 always
+  506 multilabel *label173 (m:*label160)
+  507 jump *label159 always
+  508 multilabel *label174 (m:*label160)
+  509 jump *label159 always
+  510 multilabel *label175 (m:*label160)
+  511 jump *label159 always
+  512 multilabel *label176 (m:*label160)
+  513 jump *label159 always
+  514 multilabel *label177 (m:*label160)
+  515 jump *label159 always
+  516 multilabel *label178 (m:*label160)
+  517 jump *label159 always
+  518 multilabel *label179 (m:*label160)
+  519 jump *label159 always
+  520 multilabel *label180 (m:*label160)
+  521 jump *label159 always
+  522 multilabel *label181 (m:*label160)
+  523 jump *label159 always
+  524 multilabel *label182 (m:*label160)
+  525 jump *label159 always
+  526 multilabel *label183 (m:*label160)
+  527 jump *label159 always
+  528 multilabel *label184 (m:*label160)
+  529 jump *label159 always
+  530 multilabel *label185 (m:*label160)
+  531 jump *label159 always
+  532 multilabel *label186 (m:*label160)
+  533 jump *label159 always
+  534 multilabel *label187 (m:*label160)
+  535 jump *label159 always
+  536 multilabel *label188 (m:*label160)
+  537 jump *label159 always
+  538 multilabel *label189 (m:*label160)
+  539 jump *label159 always
+  540 multilabel *label190 (m:*label160)
+  541 jump *label159 always
+  542 multilabel *label191 (m:*label160)
+  543 jump *label159 always
+  544 multilabel *label192 (m:*label160)
+  545 jump *label159 always
+  546 multilabel *label193 (m:*label160)
+  547 jump *label159 always
+  548 multilabel *label194 (m:*label160)
+  549 jump *label159 always
+  550 multilabel *label195 (m:*label160)
+  551 jump *label159 always
+  552 multilabel *label196 (m:*label160)
+  553 jump *label159 always
+  554 multilabel *label197 (m:*label160)
+  555 jump *label159 always
+  556 multilabel *label198 (m:*label160)
+  557 jump *label149 always
+  558 multilabel *label199 (m:*label160)
+  559 jump *label149 always
+  560 multilabel *label200 (m:*label160)
+  561 jump *label159 always
+  562 multilabel *label201 (m:*label160)
+  563 jump *label159 always
+  564 multilabel *label202 (m:*label160)
+  565 jump *label151 always
+  566 multilabel *label203 (m:*label160)
+  567 jump *label151 always
+  568 multilabel *label204 (m:*label160)
+  569 jump *label151 always
+  570 multilabel *label205 (m:*label160)
+  571 jump *label151 always
+  572 multilabel *label206 (m:*label160)
+  573 jump *label159 always
+  574 multilabel *label207 (m:*label160)
+  575 jump *label159 always
+  576 multilabel *label208 (m:*label160)
+  577 jump *label159 always
+  578 multilabel *label209 (m:*label160)
+  579 jump *label159 always
+  580 multilabel *label210 (m:*label160)
+  581 jump *label159 always
+  582 multilabel *label211 (m:*label160)
+  583 jump *label159 always
+  584 multilabel *label212 (m:*label160)
+  585 jump *label159 always
+  586 multilabel *label213 (m:*label160)
+  587 jump *label159 always
+  588 multilabel *label214 (m:*label160)
+  589 jump *label159 always
+  590 multilabel *label215 (m:*label160)
+  591 jump *label159 always
+  592 multilabel *label216 (m:*label160)
+  593 jump *label159 always
+  594 multilabel *label217 (m:*label160)
+  595 jump *label159 always
+  596 multilabel *label218 (m:*label160)
+  597 jump *label159 always
+  598 multilabel *label219 (m:*label160)
+  599 jump *label159 always
+  600 multilabel *label220 (m:*label160)
+  601 jump *label159 always
+  602 multilabel *label221 (m:*label160)
+  603 jump *label151 always
+  604 multilabel *label222 (m:*label160)
+  605 jump *label151 always
+  606 multilabel *label223 (m:*label160)
+  607 jump *label151 always
+  608 multilabel *label224 (m:*label160)
+  609 jump *label159 always
+  610 multilabel *label225 (m:*label160)
+  611 jump *label159 always
+  612 multilabel *label226 (m:*label160)
+  613 jump *label159 always
+  614 multilabel *label227 (m:*label160)
+  615 jump *label159 always
+  616 multilabel *label228 (m:*label160)
+  617 jump *label159 always
+  618 multilabel *label229 (m:*label160)
+  619 jump *label159 always
+  620 multilabel *label230 (m:*label160)
+  621 jump *label159 always
+  622 multilabel *label231 (m:*label160)
+  623 jump *label159 always
+  624 multilabel *label232 (m:*label160)
+  625 jump *label159 always
+  626 multilabel *label233 (m:*label160)
+  627 jump *label159 always
+  628 multilabel *label234 (m:*label160)
+  629 jump *label159 always
+  630 multilabel *label235 (m:*label160)
+  631 jump *label159 always
+  632 multilabel *label236 (m:*label160)
+  633 jump *label159 always
+  634 multilabel *label237 (m:*label160)
+  635 jump *label159 always
+  636 multilabel *label238 (m:*label160)
+  637 jump *label159 always
+  638 multilabel *label239 (m:*label160)
+  639 jump *label159 always
+  640 multilabel *label240 (m:*label160)
+  641 jump *label159 always
+  642 multilabel *label241 (m:*label160)
+  643 jump *label159 always
+  644 multilabel *label242 (m:*label160)
+  645 jump *label159 always
+  646 multilabel *label243 (m:*label160)
   647 label *label145
-    * op add :reactors :reactors 1
-    * op lessThanEq :enabled :reactors .REACTORS_ON
-    * control enabled :block :enabled
-    * jump *label146 equal :enabled false
-    * sensor *tmp197 :block @timescale
-    * op add :boosts :boosts *tmp197
-    * label *label146
-    * label *label147
-    * jump *label143 always
+  648 op add :reactors :reactors 1
+  649 op lessThanEq :enabled :reactors .REACTORS_ON
+  650 control enabled :block :enabled
+  651 jump *label244 equal :enabled false
+  652 sensor *tmp197 :block @timescale
+  653 op add :boosts :boosts *tmp197
+  654 label *label244
+  655 label *label245
+  656 jump *label143 always
   657 label *label144
-    * jump *label149 equal *tmp191 @overdrive-projector
-    * jump *label148 notEqual *tmp191 @overdrive-dome
   658 label *label149
   659 control enabled :block .OVERDRIVE
   660 jump *label143 always
   661 label *label148
-    * jump *label151 equal *tmp191 @conduit
-    * jump *label151 equal *tmp191 @pulse-conduit
-    * jump *label151 equal *tmp191 @plated-conduit
-    * jump *label151 equal *tmp191 @conveyor
-    * jump *label151 equal *tmp191 @titanium-conveyor
-    * jump *label151 equal *tmp191 @plastanium-conveyor
-    * jump *label150 notEqual *tmp191 @armored-conveyor
   662 label *label151
   663 control enabled :block :startup
   664 label *label150
+  665 label *label159
   666 label *label143
   667 label *label141
   668 op add :n :n 1

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-1 instructions):
 
     2 set .START 0
     3 set .FUEL_FLAG 0
     4 set .COOLANT_FLAG 0
-    * set :reactors 0
     5 label *label0
     6 label *label156
     7 set :reactors 0
 
   471 set :boosts 0
   472 set :n .START
   473 label *label140
-    * jump *label142 greaterThanEq :n @links
+  474 jump *label142 greaterThanEq .START @links
   475 label *label158
   476 getlink :block :n
   477 sensor *tmp191 :block @type

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-2 instructions):
 
    94 jump *label23 notEqual :production 0
    95 label *label24
    96 set *tmp53 true
-    * jump *label23 always
    97 label *label23
    98 jump *label29 notEqual :failure1 false
    99 label *label30
 
   267 jump *label68 lessThan :total_battery 25000
   268 label *label69
   269 set *tmp103 true
-    * jump *label68 always
   270 label *label68
   271 jump *label72 lessThan :net_power :neededPower
   272 set .OUTPUT_3 .OUTPUT_2

Modifications by Jumps phase, Jump Normalization, pass 4, iteration 1:
 
     2 set .START 0
     3 set .FUEL_FLAG 0
     4 set .COOLANT_FLAG 0
-    * label *label0
     5 label *label156
     6 set :reactors 0
     7 set :n @links
-    * label *label3
     8 jump *label5 lessThanEq :n 0
     9 label *label157
    10 op sub :n :n 1
 
    14 print "\n"
    15 sensor *tmp5 :block @type
    16 jump *label7 notEqual *tmp5 @impact-reactor
-    * label *label8
    17 set .START :n
    18 op add :reactors :reactors 1
    19 jump *label6 always
 
    24 set .START :n
    25 label *label9
    26 label *label6
-    * label *label4
    27 jump *label157 greaterThan :n 0
    28 label *label5
    29 read *tmp7 cell2 1
 
    31 jump *label11 notEqual :reactors 0
    32 print "No reactor."
    33 label *label11
-    * label *label12
    34 printflush message1
-    * label *label1
    35 jump *label156 equal :reactors 0
-    * label *label2
    36 read .MODE cell1 0
    37 read .OUTPUT_1 cell1 1
    38 read .OUTPUT_2 cell1 2
 
    81 op lessThan :failure1 :consumption :min_consumption
    82 set *tmp53 false
    83 jump *label23 notEqual :battery_level 0
-    * label *label26
    84 jump *label23 lessThanEq :consumption 0
-    * label *label25
    85 jump *label23 notEqual :production 0
-    * label *label24
    86 set *tmp53 true
    87 label *label23
    88 jump *label29 notEqual :failure1 false
-    * label *label30
    89 jump *label27 equal *tmp53 false
    90 label *label29
    91 op add :failure_cnt :failure_cnt 1
 
   101 print :min_consumption
   102 printflush message2
   103 label *label31
-    * label *label32
   104 jump *label28 always
   105 label *label27
   106 set :failure_cnt 0
   107 label *label28
   108 label *label21
   109 label *label18
-    * label *label19
   110 jump *label34 notEqual .MODE 0
-    * label *label35
   111 set *tmp60 "[salmon]SHUTDOWN[]"
   112 jump *label33 always
   113 label *label34
   114 jump *label36 notEqual .MODE 1
-    * label *label37
   115 set *tmp60 "[gold]STARTUP[]"
   116 jump *label33 always
   117 label *label36
   118 jump *label38 notEqual .MODE 2
-    * label *label39
   119 set *tmp60 "[green]RUNNING[]"
   120 jump *label33 always
   121 label *label38
 
   139 print :multiplier
   140 print "x[])"
   141 label *label40
-    * label *label41
   142 print "\n=================================="
   143 sensor *tmp68 tank1 @totalLiquids
   144 jump *label42 greaterThanEq *tmp68 750
   145 print "\n[salmon]Cryofluid level critical![]"
   146 label *label42
-    * label *label43
   147 sensor *tmp71 vault1 @blast-compound
   148 jump *label44 greaterThanEq *tmp71 700
   149 print "\n[salmon]Blast compound level critical![]"
   150 label *label44
-    * label *label45
   151 jump *label46 notEqual :enough_battery false
   152 print "\n[salmon]Insufficient battery storage![]"
   153 print "\n"
 
   156 print " "
   157 print "K[] of additional storage to internal battery."
   158 label *label46
-    * label *label47
   159 print "\n"
   160 print "Internal battery:    [gold]"
   161 print :battery_level_str
 
   180 print "["
   181 print "]"
   182 jump *label49 notEqual .MODE 0
-    * label *label50
   183 set .REACTORS_ON 0
   184 set .OVERDRIVE 0
   185 set .OUTPUT_1 0
 
   200 set .GENERATOR true
   201 set .REASON "Unknown -- out of power?"
   202 label *label51
-    * label *label52
   203 jump *label48 always
   204 label *label49
   205 jump *label53 notEqual .MODE 1
-    * label *label54
   206 select *tmp244 notEqual .OUTPUT_2 false battery4 battery3
   207 select *tmp83 notEqual .OUTPUT_1 false *tmp244 battery2
   208 sensor *tmp85 *tmp83 @powerNetOut
 
   234 print "["
   235 print "]"
   236 label *label63
-    * label *label64
   237 select .OVERDRIVE greaterThan :net_power 100 true .OVERDRIVE
   238 set *tmp103 false
   239 jump *label68 greaterThanEq .REACTORS_ON :reactors
-    * label *label71
   240 jump *label68 lessThanEq :net_power 1000
-    * label *label70
   241 jump *label68 lessThan :total_battery 25000
-    * label *label69
   242 set *tmp103 true
   243 label *label68
   244 jump *label72 lessThan :net_power :neededPower
 
   246 set .OUTPUT_2 .OUTPUT_1
   247 set .OUTPUT_1 1
   248 label *label72
-    * label *label73
   249 jump *label74 notEqual .OUTPUT_1 0
   250 op mul :availablePower 6300 :boosts
   251 op div :ratio :neededPower :availablePower
   252 jump *label76 greaterThanEq :ratio 1
   253 op add :nextStart @time 2000
   254 label *label76
-    * label *label77
   255 label *label74
-    * label *label75
   256 jump *label78 equal *tmp103 false
-    * label *label81
   257 jump *label78 lessThanEq @time :nextStart
-    * label *label80
   258 op idiv *tmp227 :total_battery 25000
   259 select *tmp115 notEqual FAST_START false *tmp227 1
   260 op add *tmp117 .REACTORS_ON *tmp115
   261 op min .REACTORS_ON *tmp117 :reactors
   262 op add :nextStart @time 2000
   263 label *label78
-    * label *label79
   264 jump *label84 lessThan .REACTORS_ON :reactors
-    * label *label88
   265 jump *label84 lessThanEq @time :nextStart
-    * label *label87
   266 jump *label84 lessThanEq .OUTPUT_3 0
-    * label *label86
   267 set .MODE 2
   268 op add :nextDecommit @time 6000
   269 set .COOLANT_FLAG 0
   270 set .FUEL_FLAG 0
   271 set .GENERATOR false
   272 label *label84
-    * label *label85
   273 label *label60
   274 jump *label48 always
   275 label *label53
   276 jump *label89 notEqual .MODE 2
-    * label *label90
   277 jump *label91 equal .COOLANT_FLAG false
-    * label *label94
   278 sensor *tmp125 tank1 @totalLiquids
   279 jump *label91 greaterThanEq *tmp125 750
-    * label *label93
   280 set .MODE 0
   281 control enabled switch1 false
   282 set .REASON "Cryo level too low"
   283 label *label91
-    * label *label92
   284 jump *label95 equal .FUEL_FLAG false
-    * label *label98
   285 sensor *tmp129 vault1 @blast-compound
   286 jump *label95 greaterThanEq *tmp129 700
-    * label *label97
   287 set .MODE 0
   288 control enabled switch1 false
   289 set .REASON "Blast compound level too low"
   290 label *label95
-    * label *label96
   291 jump *label101 notEqual .COOLANT_FLAG false
-    * label *label102
   292 sensor *tmp133 tank1 @totalLiquids
   293 jump *label99 lessThanEq *tmp133 1000
   294 label *label101
 
   298 set .COOLANT_FLAG false
   299 label *label100
   300 jump *label105 notEqual .FUEL_FLAG false
-    * label *label106
   301 sensor *tmp136 vault1 @blast-compound
   302 jump *label103 lessThanEq *tmp136 800
   303 label *label105
 
   307 set .FUEL_FLAG false
   308 label *label104
   309 jump *label107 equal :enough_battery false
-    * label *label110
   310 sensor *tmp139 switch2 @enabled
   311 jump *label107 equal *tmp139 false
-    * label *label109
   312 op mul :min_level :reactors 50000
   313 set :commit_level 0
   314 jump *label111 equal .CAN_COMMIT false
-    * label *label115
   315 jump *label111 greaterThanEq :battery_change 0
-    * label *label114
   316 jump *label111 greaterThanEq .REACTORS_ON :reactors
-    * label *label113
   317 op sub :p :battery_change 2500
   318 op mul *tmp147 :p 0.00472972972972973
   319 op add *tmp148 -5 *tmp147
 
   324 print "\nCommit threshold:   [gold]"
   325 print *tmp152
   326 label *label111
-    * label *label112
   327 jump *label116 notEqual :commit_level 0
   328 op idiv *tmp155 :min_level 1000
   329 print "\nRestart threshold: [gold]"
   330 print *tmp155
   331 label *label116
-    * label *label117
   332 print "[] K"
   333 jump *label120 lessThan :total_battery :min_level
-    * label *label121
   334 op mul *tmp157 .REACTORS_ON -2500
   335 jump *label118 greaterThanEq :battery_change *tmp157
   336 label *label120
 
   342 jump *label119 always
   343 label *label118
   344 jump *label124 lessThan :battery_level 47500
-    * label *label125
   345 jump *label122 greaterThanEq :battery_change -100
   346 label *label124
   347 op add :nextDecommit @time 6000
   348 label *label122
-    * label *label123
   349 jump *label126 lessThanEq @time :nextDecommit
   350 jump *label128 equal .OVERDRIVE false
   351 set .OVERDRIVE false
 
   363 op add .COMMITS .COMMITS 1
   364 set .CAN_COMMIT false
   365 label *label130
-    * label *label131
   366 label *label127
   367 label *label119
   368 jump *label108 always
 
   382 set .OUTPUT_2 0
   383 set .OUTPUT_3 0
   384 label *label134
-    * label *label135
   385 jump *label136 notEqual .OUTPUT_2 0
   386 jump *label138 lessThanEq :total_battery 47500
   387 set .OUTPUT_2 1
 
   391 print "\n*** [gold]Surge tower 2 offline[] ***"
   392 label *label139
   393 label *label136
-    * label *label137
   394 label *label89
   395 label *label48
   396 print "\n"
 
   409 set :reactors 0
   410 set :boosts 0
   411 set :n .START
-    * label *label140
   412 jump *label142 greaterThanEq .START @links
   413 label *label158
   414 getlink :block :n
 
   581 multilabel *label242 (m:*label160)
   582 jump *label159 always
   583 multilabel *label243 (m:*label160)
-    * label *label145
   584 op add :reactors :reactors 1
   585 op lessThanEq :enabled :reactors .REACTORS_ON
   586 control enabled :block :enabled
 
   588 sensor *tmp197 :block @timescale
   589 op add :boosts :boosts *tmp197
   590 label *label244
-    * label *label245
   591 jump *label143 always
-    * label *label144
   592 label *label149
   593 control enabled :block .OVERDRIVE
   594 jump *label143 always
-    * label *label148
   595 label *label151
   596 control enabled :block :startup
-    * label *label150
   597 label *label159
   598 label *label143
-    * label *label141
   599 op add :n :n 1
   600 jump *label158 lessThan :n @links
   601 label *label142
 
   608 read *tmp208 cell2 4
   609 op add :boosts :boosts *tmp208
   610 label *label152
-    * label *label153
   611 op min .REACTORS_ON .REACTORS_ON :reactors
   612 jump *label154 notEqual cell1 null
   613 set .STARTUPS 0
 
   627 write .RESETS cell1 9
   628 write .COMMITS cell1 10
   629 label *label155
-    * label *label16
   630 jump *label15 always
-    * label *label17
   631 end

Modifications by Jumps phase, Jump Threading, pass 4, iteration 1:
 
    91 op add :failure_cnt :failure_cnt 1
    92 read *tmp55 cell2 1
    93 op add *tmp56 10 *tmp55
-    * jump *label31 lessThanEq :failure_cnt *tmp56
+   94 jump *label28 lessThanEq :failure_cnt *tmp56
    95 set .MODE 0
    96 control enabled switch1 false
    97 set .REASON "Unknown -- out of power?"
 
   192 print .REASON
   193 print "[]"
   194 sensor *tmp81 switch1 @enabled
-    * jump *label51 equal *tmp81 false
+  195 jump *label48 equal *tmp81 false
   196 set .MODE 1
   197 op add .STARTUPS .STARTUPS 1
   198 set :nextStart 0
 
   212 jump *label61 lessThan :total_battery 25000
   213 set .REACTORS_ON 1
   214 op add :nextStart @time 2000
-    * jump *label62 always
+  215 jump *label48 always
   216 label *label61
   217 print "\nRequired startup energy: [gold]"
   218 print 25
   219 print " K[]"
   220 label *label62
-    * jump *label60 always
+  221 jump *label48 always
   222 label *label59
   223 op add *tmp94 .OUTPUT_1 .OUTPUT_2
   224 op add :outputs *tmp94 .OUTPUT_3
 
   261 op min .REACTORS_ON *tmp117 :reactors
   262 op add :nextStart @time 2000
   263 label *label78
-    * jump *label84 lessThan .REACTORS_ON :reactors
-    * jump *label84 lessThanEq @time :nextStart
-    * jump *label84 lessThanEq .OUTPUT_3 0
+  264 jump *label48 lessThan .REACTORS_ON :reactors
+  265 jump *label48 lessThanEq @time :nextStart
+  266 jump *label48 lessThanEq .OUTPUT_3 0
   267 set .MODE 2
   268 op add :nextDecommit @time 6000
   269 set .COOLANT_FLAG 0
 
   339 set .OVERDRIVE true
   340 set .REACTORS_ON :reactors
   341 op add :nextDecommit @time 6000
-    * jump *label119 always
+  342 jump *label108 always
   343 label *label118
   344 jump *label124 lessThan :battery_level 47500
   345 jump *label122 greaterThanEq :battery_change -100
 
   356 set .CAN_COMMIT true
   357 label *label129
   358 op add :nextDecommit @time 6000
-    * jump *label127 always
+  359 jump *label108 always
   360 label *label126
-    * jump *label130 greaterThanEq :total_battery :commit_level
+  361 jump *label108 greaterThanEq :total_battery :commit_level
   362 op add .REACTORS_ON .REACTORS_ON 1
   363 op add .COMMITS .COMMITS 1
   364 set .CAN_COMMIT false
 
   584 op add :reactors :reactors 1
   585 op lessThanEq :enabled :reactors .REACTORS_ON
   586 control enabled :block :enabled
-    * jump *label244 equal :enabled false
+  587 jump *label143 equal :enabled false
   588 sensor *tmp197 :block @timescale
   589 op add :boosts :boosts *tmp197
   590 label *label244
 
   613 set .STARTUPS 0
   614 set .RESETS 0
   615 set .COMMITS 0
-    * jump *label155 always
+  616 jump *label15 always
   617 label *label154
   618 write .MODE cell1 0
   619 write .OUTPUT_1 cell1 1

Modifications by Jumps phase, Unreachable Code Elimination, pass 4, iteration 1 (-1 instructions):
 
   100 print "\nMin. consumption: "
   101 print :min_consumption
   102 printflush message2
-    * label *label31
   103 jump *label28 always
   104 label *label27
   105 set :failure_cnt 0
 
   198 set :failure_cnt 0
   199 set .GENERATOR true
   200 set .REASON "Unknown -- out of power?"
-    * label *label51
   201 jump *label48 always
   202 label *label49
   203 jump *label53 notEqual .MODE 1
 
   215 print "\nRequired startup energy: [gold]"
   216 print 25
   217 print " K[]"
-    * label *label62
   218 jump *label48 always
   219 label *label59
   220 op add *tmp94 .OUTPUT_1 .OUTPUT_2
 
   266 set .COOLANT_FLAG 0
   267 set .FUEL_FLAG 0
   268 set .GENERATOR false
-    * label *label84
-    * label *label60
   269 jump *label48 always
   270 label *label53
   271 jump *label89 notEqual .MODE 2
 
   357 op add .REACTORS_ON .REACTORS_ON 1
   358 op add .COMMITS .COMMITS 1
   359 set .CAN_COMMIT false
-    * label *label130
-    * label *label127
-    * label *label119
   360 jump *label108 always
   361 label *label107
   362 sensor *tmp174 switch2 @enabled
 
   579 jump *label143 equal :enabled false
   580 sensor *tmp197 :block @timescale
   581 op add :boosts :boosts *tmp197
-    * label *label244
   582 jump *label143 always
   583 label *label149
   584 control enabled :block .OVERDRIVE
 
   617 write .STARTUPS cell1 8
   618 write .RESETS cell1 9
   619 write .COMMITS cell1 10
-    * label *label155
   620 jump *label15 always
-    * end

Modifications by Final phase, Print Merging, iteration 1 (-39 instructions):
 
     9 label *label157
    10 op sub :n :n 1
    11 getlink :block :n
-    * print "Found: "
-    * print :block
-    * print "\n"
+   12 print "Found: {0}\n"
+   13 format :block
    14 sensor *tmp5 :block @type
    15 jump *label7 notEqual *tmp5 @impact-reactor
    16 set .START :n
 
    94 set .MODE 0
    95 control enabled switch1 false
    96 set .REASON "Unknown -- out of power?"
-    * print "Consumption: "
-    * print :consumption
-    * print "\nMin. consumption: "
+   97 print "Consumption: {0}\nMin. consumption: "
+   98 format :consumption
    99 print :min_consumption
   100 printflush message2
   101 jump *label28 always
 
   119 set *tmp60 null
   120 label *label33
   121 print *tmp60
-    * print ","
-    * print " reactors [green]"
-    * print .REACTORS_ON
-    * print "/"
-    * print :reactors
-    * print "["
-    * print "]"
+  122 print ", reactors [green]{0}/{0}[]"
+  123 format .REACTORS_ON
+  124 format :reactors
   125 jump *label40 equal .OVERDRIVE false
   126 op mul *tmp63 100 :boosts
   127 op div *tmp64 *tmp63 .REACTORS_ON
   128 op add *tmp65 *tmp64 0.5
   129 op floor *tmp66 *tmp65
   130 op div :multiplier *tmp66 100
-    * print " ([gold]"
-    * print :multiplier
-    * print "x[])"
+  131 print " ([gold]{0}x[])"
+  132 format :multiplier
   133 label *label40
   134 print "\n=================================="
   135 sensor *tmp68 tank1 @totalLiquids
 
   141 print "\n[salmon]Blast compound level critical![]"
   142 label *label44
   143 jump *label46 notEqual :enough_battery false
-    * print "\n[salmon]Insufficient battery storage![]"
-    * print "\n"
-    * print "Link [gold]"
-    * print :missing_battery
-    * print " "
-    * print "K[] of additional storage to internal battery."
+  144 print "\n[salmon]Insufficient battery storage![]\nLink [gold]{0} K[] of additional storage to internal battery."
+  145 format :missing_battery
   146 label *label46
-    * print "\n"
-    * print "Internal battery:    [gold]"
-    * print :battery_level_str
-    * print "["
-    * print "]/[green]50[] K"
-    * print "\n"
-    * print "Total battery:        [gold]"
-    * print :total_battery_str
-    * print "["
-    * print "]/[green]"
-    * print :total_capacity_str
-    * print "["
-    * print "] K"
-    * print "\n"
-    * print "Battery change:     [gold]"
-    * print :battery_change
-    * print "["
-    * print "]"
-    * print "\n"
-    * print "Power balance:       [gold]"
-    * print :net_power
-    * print "["
-    * print "]"
+  147 print "\nInternal battery:    [gold]{0}[]/[green]50[] K\nTotal battery:        [gold]{0}[]/[green]{0}[] K\nBattery change:     [gold]{0}[]\nPower balance:       [gold]{0}[]"
+  148 format :battery_level_str
+  149 format :total_battery_str
+  150 format :total_capacity_str
+  151 format :battery_change
+  152 format :net_power
   153 jump *label49 notEqual .MODE 0
   154 set .REACTORS_ON 0
   155 set .OVERDRIVE 0
 
   159 op greaterThanEq *tmp78 :net_power -150
   160 op lessThan *tmp79 :total_battery 47500
   161 op land .GENERATOR *tmp78 *tmp79
-    * print "\nShutdown reason: [gold]"
-    * print .REASON
-    * print "[]"
+  162 print "\nShutdown reason: [gold]{0}[]"
+  163 format .REASON
   164 sensor *tmp81 switch1 @enabled
   165 jump *label48 equal *tmp81 false
   166 set .MODE 1
 
   183 op add :nextStart @time 2000
   184 jump *label48 always
   185 label *label61
-    * print "\nRequired startup energy: [gold]"
-    * print 25
-    * print " K[]"
+  186 print "\nRequired startup energy: [gold]25 K[]"
   187 jump *label48 always
   188 label *label59
   189 op add *tmp94 .OUTPUT_1 .OUTPUT_2
   190 op add :outputs *tmp94 .OUTPUT_3
-    * print "\n"
-    * print "[gold]"
-    * print :outputs
-    * print "["
-    * print "] surge tower(s) online"
+  191 print "\n[gold]{0}[] surge tower(s) online"
+  192 format :outputs
   193 jump *label63 notEqual .OUTPUT_3 0
-    * print "\n"
-    * print "Required power level: [gold]"
-    * print :neededPower
-    * print "["
-    * print "]"
+  194 print "\nRequired power level: [gold]{0}[]"
+  195 format :neededPower
   196 label *label63
   197 select .OVERDRIVE greaterThan :net_power 100 true .OVERDRIVE
   198 set *tmp103 false
 
   348 label *label136
   349 label *label89
   350 label *label48
-    * print "\n"
-    * print .STARTUPS
-    * print "-"
-    * print .RESETS
-    * print "-"
+  351 print "\n{0}-{0}-"
+  352 format .STARTUPS
+  353 format .RESETS
   354 print .COMMITS
   355 printflush message1
   356 control enabled diode1 .OUTPUT_1

Final code before resolving virtual instructions:

set PLANT_PROTECTION 1
set FAST_START 1
set .START 0
set .FUEL_FLAG 0
set .COOLANT_FLAG 0
label *label156
set :reactors 0
set :n @links
jump *label5 lessThanEq :n 0
label *label157
op sub :n :n 1
getlink :block :n
print "Found: {0}\n"
format :block
sensor *tmp5 :block @type
jump *label7 notEqual *tmp5 @impact-reactor
set .START :n
op add :reactors :reactors 1
jump *label6 always
label *label7
jump *label10 equal *tmp5 @overdrive-projector
jump *label9 notEqual *tmp5 @overdrive-dome
label *label10
set .START :n
label *label9
label *label6
jump *label157 greaterThan :n 0
label *label5
read *tmp7 cell2 1
op add :reactors :reactors *tmp7
jump *label11 notEqual :reactors 0
print "No reactor."
label *label11
printflush message1
jump *label156 equal :reactors 0
read .MODE cell1 0
read .OUTPUT_1 cell1 1
read .OUTPUT_2 cell1 2
read .OUTPUT_3 cell1 3
read .REACTORS_ON cell1 4
read .OVERDRIVE cell1 5
read .GENERATOR cell1 6
read .CAN_COMMIT cell1 7
read .STARTUPS cell1 8
read .RESETS cell1 9
read .COMMITS cell1 10
set :reactors .REACTORS_ON
select .REASON equal .MODE 0 "Processor reset" "Reason unknown -- out of power?"
op notEqual *tmp24 .MODE 0
control enabled switch1 *tmp24
set :failure_cnt 0
set :boosts 0
set :nextStart 0
op add :nextDecommit @time 6000
label *label15
sensor *tmp26 battery1 @totalPower
op floor :battery_level *tmp26
op idiv :battery_level_str :battery_level 1000
sensor *tmp29 battery1 @powerNetStored
op floor :total_battery *tmp29
op idiv :total_battery_str :total_battery 1000
sensor :consumption battery1 @powerNetOut
read :production bank1 509
read :net_power bank1 510
read :battery_change bank1 511
sensor :total_capacity battery1 @powerNetCapacity
op idiv :total_capacity_str :total_capacity 1000
op mul :required_capacity 100000 :reactors
op greaterThanEq :enough_battery :total_capacity :required_capacity
op sub *tmp40 :required_capacity :total_capacity
op div *tmp41 *tmp40 1000
op ceil :missing_battery *tmp41
jump *label18 equal .MODE 0
sensor *tmp45 switch1 @enabled
jump *label20 notEqual *tmp45 false
set .MODE 0
set .REASON "Manual power off"
jump *label21 always
label *label20
op mul :min_consumption .REACTORS_ON 1200
op lessThan :failure1 :consumption :min_consumption
set *tmp53 false
jump *label23 notEqual :battery_level 0
jump *label23 lessThanEq :consumption 0
jump *label23 notEqual :production 0
set *tmp53 true
label *label23
jump *label29 notEqual :failure1 false
jump *label27 equal *tmp53 false
label *label29
op add :failure_cnt :failure_cnt 1
read *tmp55 cell2 1
op add *tmp56 10 *tmp55
jump *label28 lessThanEq :failure_cnt *tmp56
set .MODE 0
control enabled switch1 false
set .REASON "Unknown -- out of power?"
print "Consumption: {0}\nMin. consumption: "
format :consumption
print :min_consumption
printflush message2
jump *label28 always
label *label27
set :failure_cnt 0
label *label28
label *label21
label *label18
jump *label34 notEqual .MODE 0
set *tmp60 "[salmon]SHUTDOWN[]"
jump *label33 always
label *label34
jump *label36 notEqual .MODE 1
set *tmp60 "[gold]STARTUP[]"
jump *label33 always
label *label36
jump *label38 notEqual .MODE 2
set *tmp60 "[green]RUNNING[]"
jump *label33 always
label *label38
set *tmp60 null
label *label33
print *tmp60
print ", reactors [green]{0}/{0}[]"
format .REACTORS_ON
format :reactors
jump *label40 equal .OVERDRIVE false
op mul *tmp63 100 :boosts
op div *tmp64 *tmp63 .REACTORS_ON
op add *tmp65 *tmp64 0.5
op floor *tmp66 *tmp65
op div :multiplier *tmp66 100
print " ([gold]{0}x[])"
format :multiplier
label *label40
print "\n=================================="
sensor *tmp68 tank1 @totalLiquids
jump *label42 greaterThanEq *tmp68 750
print "\n[salmon]Cryofluid level critical![]"
label *label42
sensor *tmp71 vault1 @blast-compound
jump *label44 greaterThanEq *tmp71 700
print "\n[salmon]Blast compound level critical![]"
label *label44
jump *label46 notEqual :enough_battery false
print "\n[salmon]Insufficient battery storage![]\nLink [gold]{0} K[] of additional storage to internal battery."
format :missing_battery
label *label46
print "\nInternal battery:    [gold]{0}[]/[green]50[] K\nTotal battery:        [gold]{0}[]/[green]{0}[] K\nBattery change:     [gold]{0}[]\nPower balance:       [gold]{0}[]"
format :battery_level_str
format :total_battery_str
format :total_capacity_str
format :battery_change
format :net_power
jump *label49 notEqual .MODE 0
set .REACTORS_ON 0
set .OVERDRIVE 0
set .OUTPUT_1 0
set .OUTPUT_2 0
set .OUTPUT_3 0
op greaterThanEq *tmp78 :net_power -150
op lessThan *tmp79 :total_battery 47500
op land .GENERATOR *tmp78 *tmp79
print "\nShutdown reason: [gold]{0}[]"
format .REASON
sensor *tmp81 switch1 @enabled
jump *label48 equal *tmp81 false
set .MODE 1
op add .STARTUPS .STARTUPS 1
set :nextStart 0
set :failure_cnt 0
set .GENERATOR true
set .REASON "Unknown -- out of power?"
jump *label48 always
label *label49
jump *label53 notEqual .MODE 1
select *tmp244 notEqual .OUTPUT_2 false battery4 battery3
select *tmp83 notEqual .OUTPUT_1 false *tmp244 battery2
sensor *tmp85 *tmp83 @powerNetOut
op idiv *tmp87 *tmp85 0.9523809523809523
op max :neededPower *tmp87 1000
jump *label59 notEqual .REACTORS_ON 0
jump *label61 lessThan :total_battery 25000
set .REACTORS_ON 1
op add :nextStart @time 2000
jump *label48 always
label *label61
print "\nRequired startup energy: [gold]25 K[]"
jump *label48 always
label *label59
op add *tmp94 .OUTPUT_1 .OUTPUT_2
op add :outputs *tmp94 .OUTPUT_3
print "\n[gold]{0}[] surge tower(s) online"
format :outputs
jump *label63 notEqual .OUTPUT_3 0
print "\nRequired power level: [gold]{0}[]"
format :neededPower
label *label63
select .OVERDRIVE greaterThan :net_power 100 true .OVERDRIVE
set *tmp103 false
jump *label68 greaterThanEq .REACTORS_ON :reactors
jump *label68 lessThanEq :net_power 1000
jump *label68 lessThan :total_battery 25000
set *tmp103 true
label *label68
jump *label72 lessThan :net_power :neededPower
set .OUTPUT_3 .OUTPUT_2
set .OUTPUT_2 .OUTPUT_1
set .OUTPUT_1 1
label *label72
jump *label74 notEqual .OUTPUT_1 0
op mul :availablePower 6300 :boosts
op div :ratio :neededPower :availablePower
jump *label76 greaterThanEq :ratio 1
op add :nextStart @time 2000
label *label76
label *label74
jump *label78 equal *tmp103 false
jump *label78 lessThanEq @time :nextStart
op idiv *tmp227 :total_battery 25000
select *tmp115 notEqual FAST_START false *tmp227 1
op add *tmp117 .REACTORS_ON *tmp115
op min .REACTORS_ON *tmp117 :reactors
op add :nextStart @time 2000
label *label78
jump *label48 lessThan .REACTORS_ON :reactors
jump *label48 lessThanEq @time :nextStart
jump *label48 lessThanEq .OUTPUT_3 0
set .MODE 2
op add :nextDecommit @time 6000
set .COOLANT_FLAG 0
set .FUEL_FLAG 0
set .GENERATOR false
jump *label48 always
label *label53
jump *label89 notEqual .MODE 2
jump *label91 equal .COOLANT_FLAG false
sensor *tmp125 tank1 @totalLiquids
jump *label91 greaterThanEq *tmp125 750
set .MODE 0
control enabled switch1 false
set .REASON "Cryo level too low"
label *label91
jump *label95 equal .FUEL_FLAG false
sensor *tmp129 vault1 @blast-compound
jump *label95 greaterThanEq *tmp129 700
set .MODE 0
control enabled switch1 false
set .REASON "Blast compound level too low"
label *label95
jump *label101 notEqual .COOLANT_FLAG false
sensor *tmp133 tank1 @totalLiquids
jump *label99 lessThanEq *tmp133 1000
label *label101
set .COOLANT_FLAG true
jump *label100 always
label *label99
set .COOLANT_FLAG false
label *label100
jump *label105 notEqual .FUEL_FLAG false
sensor *tmp136 vault1 @blast-compound
jump *label103 lessThanEq *tmp136 800
label *label105
set .FUEL_FLAG true
jump *label104 always
label *label103
set .FUEL_FLAG false
label *label104
jump *label107 equal :enough_battery false
sensor *tmp139 switch2 @enabled
jump *label107 equal *tmp139 false
op mul :min_level :reactors 50000
set :commit_level 0
jump *label111 equal .CAN_COMMIT false
jump *label111 greaterThanEq :battery_change 0
jump *label111 greaterThanEq .REACTORS_ON :reactors
op sub :p :battery_change 2500
op mul *tmp147 :p 0.00472972972972973
op add *tmp148 -5 *tmp147
op mul *tmp149 :p *tmp148
op add :commit_margin 25000 *tmp149
op add :commit_level :min_level :commit_margin
op idiv *tmp152 :commit_level 1000
print "\nCommit threshold:   [gold]"
print *tmp152
label *label111
jump *label116 notEqual :commit_level 0
op idiv *tmp155 :min_level 1000
print "\nRestart threshold: [gold]"
print *tmp155
label *label116
print "[] K"
jump *label120 lessThan :total_battery :min_level
op mul *tmp157 .REACTORS_ON -2500
jump *label118 greaterThanEq :battery_change *tmp157
label *label120
op equal *tmp160 .OVERDRIVE false
op add .RESETS .RESETS *tmp160
set .OVERDRIVE true
set .REACTORS_ON :reactors
op add :nextDecommit @time 6000
jump *label108 always
label *label118
jump *label124 lessThan :battery_level 47500
jump *label122 greaterThanEq :battery_change -100
label *label124
op add :nextDecommit @time 6000
label *label122
jump *label126 lessThanEq @time :nextDecommit
jump *label128 equal .OVERDRIVE false
set .OVERDRIVE false
jump *label129 always
label *label128
op sub *tmp169 .REACTORS_ON 1
op max .REACTORS_ON *tmp169 1
set .CAN_COMMIT true
label *label129
op add :nextDecommit @time 6000
jump *label108 always
label *label126
jump *label108 greaterThanEq :total_battery :commit_level
op add .REACTORS_ON .REACTORS_ON 1
op add .COMMITS .COMMITS 1
set .CAN_COMMIT false
jump *label108 always
label *label107
sensor *tmp174 switch2 @enabled
jump *label132 equal *tmp174 false
print "\n[salmon]Load adapting not possible.[]"
jump *label133 always
label *label132
print "\n[gold]Load adapting not active.[]"
label *label133
set .REACTORS_ON :reactors
set .OVERDRIVE true
label *label108
op mul *tmp176 PLANT_PROTECTION 47500
jump *label134 greaterThanEq :total_battery *tmp176
set .OUTPUT_2 0
set .OUTPUT_3 0
label *label134
jump *label136 notEqual .OUTPUT_2 0
jump *label138 lessThanEq :total_battery 47500
set .OUTPUT_2 1
set .OUTPUT_3 1
jump *label139 always
label *label138
print "\n*** [gold]Surge tower 2 offline[] ***"
label *label139
label *label136
label *label89
label *label48
print "\n{0}-{0}-"
format .STARTUPS
format .RESETS
print .COMMITS
printflush message1
control enabled diode1 .OUTPUT_1
control enabled diode2 .OUTPUT_2
control enabled diode3 .OUTPUT_3
control enabled generator1 .GENERATOR
control enabled generator2 .GENERATOR
op equal :startup .MODE 1
set :reactors 0
set :boosts 0
set :n .START
jump *label142 greaterThanEq .START @links
label *label158
getlink :block :n
sensor *tmp191 :block @type
sensor *tmp280 *tmp191 @id
jump *label159 greaterThanEq *tmp280 83
multijump *label161 *tmp280 0
multilabel *label161
jump *label159 always
multilabel *label162
jump *label159 always
multilabel *label163
jump *label159 always
multilabel *label164
jump *label159 always
multilabel *label165
jump *label159 always
multilabel *label166
jump *label159 always
multilabel *label167
jump *label159 always
multilabel *label168
jump *label159 always
multilabel *label169
jump *label159 always
multilabel *label170
jump *label159 always
multilabel *label171
jump *label159 always
multilabel *label172
jump *label159 always
multilabel *label173
jump *label159 always
multilabel *label174
jump *label159 always
multilabel *label175
jump *label159 always
multilabel *label176
jump *label159 always
multilabel *label177
jump *label159 always
multilabel *label178
jump *label159 always
multilabel *label179
jump *label159 always
multilabel *label180
jump *label159 always
multilabel *label181
jump *label159 always
multilabel *label182
jump *label159 always
multilabel *label183
jump *label159 always
multilabel *label184
jump *label159 always
multilabel *label185
jump *label159 always
multilabel *label186
jump *label159 always
multilabel *label187
jump *label159 always
multilabel *label188
jump *label159 always
multilabel *label189
jump *label159 always
multilabel *label190
jump *label159 always
multilabel *label191
jump *label159 always
multilabel *label192
jump *label159 always
multilabel *label193
jump *label159 always
multilabel *label194
jump *label159 always
multilabel *label195
jump *label159 always
multilabel *label196
jump *label159 always
multilabel *label197
jump *label159 always
multilabel *label198
jump *label149 always
multilabel *label199
jump *label149 always
multilabel *label200
jump *label159 always
multilabel *label201
jump *label159 always
multilabel *label202
jump *label151 always
multilabel *label203
jump *label151 always
multilabel *label204
jump *label151 always
multilabel *label205
jump *label151 always
multilabel *label206
jump *label159 always
multilabel *label207
jump *label159 always
multilabel *label208
jump *label159 always
multilabel *label209
jump *label159 always
multilabel *label210
jump *label159 always
multilabel *label211
jump *label159 always
multilabel *label212
jump *label159 always
multilabel *label213
jump *label159 always
multilabel *label214
jump *label159 always
multilabel *label215
jump *label159 always
multilabel *label216
jump *label159 always
multilabel *label217
jump *label159 always
multilabel *label218
jump *label159 always
multilabel *label219
jump *label159 always
multilabel *label220
jump *label159 always
multilabel *label221
jump *label151 always
multilabel *label222
jump *label151 always
multilabel *label223
jump *label151 always
multilabel *label224
jump *label159 always
multilabel *label225
jump *label159 always
multilabel *label226
jump *label159 always
multilabel *label227
jump *label159 always
multilabel *label228
jump *label159 always
multilabel *label229
jump *label159 always
multilabel *label230
jump *label159 always
multilabel *label231
jump *label159 always
multilabel *label232
jump *label159 always
multilabel *label233
jump *label159 always
multilabel *label234
jump *label159 always
multilabel *label235
jump *label159 always
multilabel *label236
jump *label159 always
multilabel *label237
jump *label159 always
multilabel *label238
jump *label159 always
multilabel *label239
jump *label159 always
multilabel *label240
jump *label159 always
multilabel *label241
jump *label159 always
multilabel *label242
jump *label159 always
multilabel *label243
op add :reactors :reactors 1
op lessThanEq :enabled :reactors .REACTORS_ON
control enabled :block :enabled
jump *label143 equal :enabled false
sensor *tmp197 :block @timescale
op add :boosts :boosts *tmp197
jump *label143 always
label *label149
control enabled :block .OVERDRIVE
jump *label143 always
label *label151
control enabled :block :startup
label *label159
label *label143
op add :n :n 1
jump *label158 lessThan :n @links
label *label142
jump *label152 equal cell2 null
write :reactors cell2 0
write .REACTORS_ON cell2 2
write .OVERDRIVE cell2 3
read *tmp207 cell2 1
op add :reactors :reactors *tmp207
read *tmp208 cell2 4
op add :boosts :boosts *tmp208
label *label152
op min .REACTORS_ON .REACTORS_ON :reactors
jump *label154 notEqual cell1 null
set .STARTUPS 0
set .RESETS 0
set .COMMITS 0
jump *label15 always
label *label154
write .MODE cell1 0
write .OUTPUT_1 cell1 1
write .OUTPUT_2 cell1 2
write .OUTPUT_3 cell1 3
write .REACTORS_ON cell1 4
write .OVERDRIVE cell1 5
write .GENERATOR cell1 6
write .CAN_COMMIT cell1 7
write .STARTUPS cell1 8
write .RESETS cell1 9
write .COMMITS cell1 10
jump *label15 always
