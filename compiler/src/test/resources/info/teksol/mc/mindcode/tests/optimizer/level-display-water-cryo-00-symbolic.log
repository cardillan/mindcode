   127 instructions before optimizations.
     9 instructions eliminated by Temp Variables Elimination (5 iterations).
     1 instructions eliminated by Case Expression Optimization.
     9 instructions eliminated by Dead Code Elimination (4 iterations).
     7 instructions eliminated by Condition Optimization (4 iterations).
     5 instructions eliminated by Single Step Elimination (2 passes, 6 iterations).
     5 instructions eliminated by Data Flow Optimization (5 iterations).
     1 instructions added by Loop Optimization (2 iterations).
     2 loops improved by Loop Optimization.
     5 instructions eliminated by Jump Straightening (5 iterations).
     1 instructions updated by Jump Threading.
     6 instructions eliminated by Print Merging.
    81 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 913):
  * Replicate loop condition at line 43:1                        size    +1, benefit       25.0, efficiency     25.000 (+1 instructions)

Modifications by Initial phase, Case Expression Optimization, iteration 1 (-1 instructions):
 
    27 print "\nFound: "
    28 print :block
    29 sensor *tmp8 :block @type
-    * set *tmp9 *tmp8
-    * jump *label11 equal *tmp9 @message
+   30 jump *label11 equal *tmp8 @message
    31 jump *label10 always
    32 label *label11
    33 set .MESSAGE :block
    34 set *tmp7 .MESSAGE
    35 jump *label9 always
    36 label *label10
-    * jump *label13 equal *tmp9 @switch
+   37 jump *label13 equal *tmp8 @switch
    38 jump *label12 always
    39 label *label13
    40 set .SWITCH :block
    41 set *tmp7 .SWITCH
    42 jump *label9 always
    43 label *label12
-    * jump *label15 equal *tmp9 @liquid-tank
+   44 jump *label15 equal *tmp8 @liquid-tank
    45 jump *label14 always
    46 label *label15
    47 set .TANK_CRYO .TANK_WATER
 
    49 set *tmp7 .TANK_WATER
    50 jump *label9 always
    51 label *label14
-    * jump *label17 equal *tmp9 @logic-display
+   52 jump *label17 equal *tmp8 @logic-display
    53 jump *label16 always
    54 label *label17
    55 set .DISPLAY :block

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-9 instructions):
 
    31 jump *label10 always
    32 label *label11
    33 set .MESSAGE :block
-    * set *tmp7 .MESSAGE
    34 jump *label9 always
    35 label *label10
    36 jump *label13 equal *tmp8 @switch
    37 jump *label12 always
    38 label *label13
    39 set .SWITCH :block
-    * set *tmp7 .SWITCH
    40 jump *label9 always
    41 label *label12
    42 jump *label15 equal *tmp8 @liquid-tank
 
    44 label *label15
    45 set .TANK_CRYO .TANK_WATER
    46 set .TANK_WATER :block
-    * set *tmp7 .TANK_WATER
    47 jump *label9 always
    48 label *label14
    49 jump *label17 equal *tmp8 @logic-display
    50 jump *label16 always
    51 label *label17
    52 set .DISPLAY :block
-    * set *tmp7 .DISPLAY
    53 jump *label9 always
    54 label *label16
-    * set *tmp7 null
    55 label *label9
    56 label *label7
    57 jump *label6 always
 
    67 op equal *tmp10 .TANK_CRYO null
    68 jump *label18 equal *tmp10 false
    69 print "\nNo cryofluid or water tank."
-    * set *tmp11 "\nNo cryofluid or water tank."
    70 jump *label19 always
    71 label *label18
-    * set *tmp11 null
    72 label *label19
    73 op equal *tmp12 .DISPLAY null
    74 jump *label20 equal *tmp12 false
    75 print "\nNo display."
-    * set *tmp13 "\nNo display."
    76 jump *label21 always
    77 label *label20
-    * set *tmp13 null
    78 label *label21
    79 printflush .MESSAGE
    80 label *label1

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-9 instructions):
 
    15 jump *label2 always
    16 label *label3
    17 print "Water and Cryofluid Level Meter"
-    * set *tmp3 @links
-    * set :n *tmp3
+   18 set :n @links
    19 label *label6
    20 op greaterThan *tmp4 :n 0
    21 jump *label8 equal *tmp4 false
-    * op sub *tmp5 :n 1
-    * set :n *tmp5
-    * getlink *tmp6 :n
-    * set :block *tmp6
+   22 op sub :n :n 1
+   23 getlink :block :n
    24 print "\nFound: "
    25 print :block
    26 sensor *tmp8 :block @type
 
    78 jump *label0 always
    79 label *label2
    80 set .MULTIPLIER 0.03666666666666667
-    * set *tmp14 .SWITCH
-    * control enabled *tmp14 0
+   81 control enabled .SWITCH 0
    82 label *label22
    83 sensor *tmp16 .SWITCH @enabled
    84 op equal *tmp17 *tmp16 0
    85 jump *label24 equal *tmp17 false
-    * set *tmp18 @time
-    * set :start_time *tmp18
+   86 set :start_time @time
    87 draw clear 0 0 0
    88 draw color 255 255 255 255
    89 draw image 20 10 @water 16 0
 
    91 draw color 90 100 170 255
    92 draw rect 14 20 12 55
    93 draw color 255 255 16 255
-    * sensor *tmp19 .TANK_WATER @totalLiquids
-    * set :water *tmp19
+   94 sensor :water .TANK_WATER @totalLiquids
    95 op mul *tmp20 :water .MULTIPLIER
-    * op add *tmp21 *tmp20 20
-    * set :pos *tmp21
+   96 op add :pos *tmp20 20
    97 op add *tmp22 :pos 7
    98 op sub *tmp23 :pos 7
    99 draw triangle 6 *tmp22 14 :pos 6 *tmp23
 
   103 draw color 110 200 230 255
   104 draw rect 54 20 12 55
   105 draw color 255 255 16 255
-    * sensor *tmp26 .TANK_CRYO @totalLiquids
-    * set :cryo *tmp26
+  106 sensor :cryo .TANK_CRYO @totalLiquids
   107 op mul *tmp27 :cryo .MULTIPLIER
-    * op add *tmp28 *tmp27 20
-    * set :pos *tmp28
+  108 op add :pos *tmp27 20
   109 op add *tmp29 :pos 7
   110 op sub *tmp30 :pos 7
   111 draw triangle 46 *tmp29 54 :pos 46 *tmp30

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-5 instructions):
 
    11 jump *label4 always
    12 label *label4
    13 op equal *tmp2 .DISPLAY null
-    * jump *label3 notEqual *tmp2 false
-    * jump *label2 always
+   14 jump *label2 equal *tmp2 false
    15 label *label3
    16 print "Water and Cryofluid Level Meter"
    17 set :n @links
 
    23 print "\nFound: "
    24 print :block
    25 sensor *tmp8 :block @type
-    * jump *label11 equal *tmp8 @message
-    * jump *label10 always
+   26 jump *label10 notEqual *tmp8 @message
    27 label *label11
    28 set .MESSAGE :block
    29 jump *label9 always
    30 label *label10
-    * jump *label13 equal *tmp8 @switch
-    * jump *label12 always
+   31 jump *label12 notEqual *tmp8 @switch
    32 label *label13
    33 set .SWITCH :block
    34 jump *label9 always
    35 label *label12
-    * jump *label15 equal *tmp8 @liquid-tank
-    * jump *label14 always
+   36 jump *label14 notEqual *tmp8 @liquid-tank
    37 label *label15
    38 set .TANK_CRYO .TANK_WATER
    39 set .TANK_WATER :block
    40 jump *label9 always
    41 label *label14
-    * jump *label17 equal *tmp8 @logic-display
-    * jump *label16 always
+   42 jump *label16 notEqual *tmp8 @logic-display
    43 label *label17
    44 set .DISPLAY :block
    45 jump *label9 always

Modifications by Iterated phase, Condition Optimization, pass 1, iteration 1 (-7 instructions):
 
     3 set .SWITCH null
     4 set .DISPLAY null
     5 label *label0
-    * op equal *tmp0 .TANK_CRYO null
-    * jump *label3 notEqual *tmp0 false
+    6 jump *label3 equal .TANK_CRYO null
     7 label *label5
-    * op equal *tmp1 .TANK_WATER null
-    * jump *label3 notEqual *tmp1 false
+    8 jump *label3 equal .TANK_WATER null
     9 jump *label4 always
    10 label *label4
-    * op equal *tmp2 .DISPLAY null
-    * jump *label2 equal *tmp2 false
+   11 jump *label2 notEqual .DISPLAY null
    12 label *label3
    13 print "Water and Cryofluid Level Meter"
    14 set :n @links
    15 label *label6
-    * op greaterThan *tmp4 :n 0
-    * jump *label8 equal *tmp4 false
+   16 jump *label8 lessThanEq :n 0
    17 op sub :n :n 1
    18 getlink :block :n
    19 print "\nFound: "
 
    52 print .TANK_WATER
    53 print "\nCryo tank: "
    54 print .TANK_CRYO
-    * op equal *tmp10 .TANK_CRYO null
-    * jump *label18 equal *tmp10 false
+   55 jump *label18 notEqual .TANK_CRYO null
    56 print "\nNo cryofluid or water tank."
    57 jump *label19 always
    58 label *label18
    59 label *label19
-    * op equal *tmp12 .DISPLAY null
-    * jump *label20 equal *tmp12 false
+   60 jump *label20 notEqual .DISPLAY null
    61 print "\nNo display."
    62 jump *label21 always
    63 label *label20
 
    70 control enabled .SWITCH 0
    71 label *label22
    72 sensor *tmp16 .SWITCH @enabled
-    * op equal *tmp17 *tmp16 0
-    * jump *label24 equal *tmp17 false
+   73 jump *label24 notEqual *tmp16 0
    74 set :start_time @time
    75 draw clear 0 0 0
    76 draw color 255 255 255 255

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-4 instructions):
 
     6 jump *label3 equal .TANK_CRYO null
     7 label *label5
     8 jump *label3 equal .TANK_WATER null
-    * jump *label4 always
     9 label *label4
    10 jump *label2 notEqual .DISPLAY null
    11 label *label3
 
    37 jump *label16 notEqual *tmp8 @logic-display
    38 label *label17
    39 set .DISPLAY :block
-    * jump *label9 always
    40 label *label16
    41 label *label9
    42 label *label7
 
    52 print .TANK_CRYO
    53 jump *label18 notEqual .TANK_CRYO null
    54 print "\nNo cryofluid or water tank."
-    * jump *label19 always
    55 label *label18
    56 label *label19
    57 jump *label20 notEqual .DISPLAY null
    58 print "\nNo display."
-    * jump *label21 always
    59 label *label20
    60 label *label21
    61 printflush .MESSAGE

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    76 draw rect 14 20 12 55
    77 draw color 255 255 16 255
    78 sensor :water .TANK_WATER @totalLiquids
-    * op mul *tmp20 :water .MULTIPLIER
+   79 op mul *tmp20 :water 0.03666666666666667
    80 op add :pos *tmp20 20
    81 op add *tmp22 :pos 7
    82 op sub *tmp23 :pos 7
    83 draw triangle 6 *tmp22 14 :pos 6 *tmp23
    84 op add *tmp24 :pos 7
    85 op sub *tmp25 :pos 7
-    * draw triangle 34 *tmp24 26 :pos 34 *tmp25
+   86 draw triangle 34 *tmp22 26 :pos 34 *tmp23
    87 draw color 110 200 230 255
    88 draw rect 54 20 12 55
    89 draw color 255 255 16 255
    90 sensor :cryo .TANK_CRYO @totalLiquids
-    * op mul *tmp27 :cryo .MULTIPLIER
+   91 op mul *tmp27 :cryo 0.03666666666666667
    92 op add :pos *tmp27 20
    93 op add *tmp29 :pos 7
    94 op sub *tmp30 :pos 7
    95 draw triangle 46 *tmp29 54 :pos 46 *tmp30
    96 op add *tmp31 :pos 7
    97 op sub *tmp32 :pos 7
-    * draw triangle 74 *tmp31 66 :pos 74 *tmp32
+   98 draw triangle 74 *tmp29 66 :pos 74 *tmp30
    99 drawflush .DISPLAY
   100 print "Water and Cryofluid Level Meter"
   101 op mul *tmp33 100 :water

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-5 instructions):
 
    62 label *label1
    63 jump *label0 always
    64 label *label2
-    * set .MULTIPLIER 0.03666666666666667
    65 control enabled .SWITCH 0
    66 label *label22
    67 sensor *tmp16 .SWITCH @enabled
 
    80 op add *tmp22 :pos 7
    81 op sub *tmp23 :pos 7
    82 draw triangle 6 *tmp22 14 :pos 6 *tmp23
-    * op add *tmp24 :pos 7
-    * op sub *tmp25 :pos 7
    83 draw triangle 34 *tmp22 26 :pos 34 *tmp23
    84 draw color 110 200 230 255
    85 draw rect 54 20 12 55
 
    90 op add *tmp29 :pos 7
    91 op sub *tmp30 :pos 7
    92 draw triangle 46 *tmp29 54 :pos 46 *tmp30
-    * op add *tmp31 :pos 7
-    * op sub *tmp32 :pos 7
    93 draw triangle 74 *tmp29 66 :pos 74 *tmp30
    94 drawflush .DISPLAY
    95 print "Water and Cryofluid Level Meter"

Modifications by Iterated phase, Loop Optimization, pass 1, iteration 1:
 
    13 set :n @links
    14 label *label6
    15 jump *label8 lessThanEq :n 0
+   16 label *label25
    17 op sub :n :n 1
    18 getlink :block :n
    19 print "\nFound: "
 
    41 label *label16
    42 label *label9
    43 label *label7
-    * jump *label6 always
+   44 jump *label25 greaterThan :n 0
    45 label *label8
    46 print "\nMessage: "
    47 print .MESSAGE

Modifications by Replicate loop condition at line 43:1 (+1 instructions):
 
    67 label *label22
    68 sensor *tmp16 .SWITCH @enabled
    69 jump *label24 notEqual *tmp16 0
+   70 label *label26
    71 set :start_time @time
    72 draw clear 0 0 0
    73 draw color 255 255 255 255
 
   108 print *tmp37
   109 printflush .MESSAGE
   110 label *label23
-    * jump *label22 always
+  111 sensor *tmp16 .SWITCH @enabled
+  112 jump *label26 equal *tmp16 0
   113 label *label24
   114 end

Modifications by Jumps phase, Jump Threading, pass 3, iteration 1:
+    0 label __start__
     1 set .TANK_WATER null
     2 set .TANK_CRYO null
     3 set .MESSAGE null
 
    55 label *label2
    56 control enabled .SWITCH 0
    57 sensor *tmp16 .SWITCH @enabled
-    * jump *label24 notEqual *tmp16 0
+   58 jump __start__ notEqual *tmp16 0
    59 label *label26
    60 set :start_time @time
    61 draw clear 0 0 0

Modifications by Jumps phase, Single Step Elimination, pass 3, iteration 1 (-1 instructions):
 
    98 printflush .MESSAGE
    99 sensor *tmp16 .SWITCH @enabled
   100 jump *label26 equal *tmp16 0
-    * end

Modifications by Final phase, Print Merging, iteration 1 (-6 instructions):
 
    36 label *label9
    37 jump *label25 greaterThan :n 0
    38 label *label8
-    * print "\nMessage: "
-    * print .MESSAGE
-    * print "\nSwitch: "
-    * print .SWITCH
-    * print "\nWater tank: "
-    * print .TANK_WATER
-    * print "\nCryo tank: "
+   39 print "\nMessage: {0}\nSwitch: {0}\nWater tank: {0}\nCryo tank: "
+   40 format .MESSAGE
+   41 format .SWITCH
+   42 format .TANK_WATER
    43 print .TANK_CRYO
    44 jump *label18 notEqual .TANK_CRYO null
    45 print "\nNo cryofluid or water tank."
 
    80 draw triangle 46 *tmp29 54 :pos 46 *tmp30
    81 draw triangle 74 *tmp29 66 :pos 74 *tmp30
    82 drawflush .DISPLAY
-    * print "Water and Cryofluid Level Meter"
+   83 print "Water and Cryofluid Level Meter\nWater level: {0}\nCryofluid level: {0}\nElapsed: "
    84 op mul *tmp33 100 :water
    85 op idiv *tmp34 *tmp33 100
-    * print "\nWater level: "
-    * print *tmp34
+   86 format *tmp34
    87 op mul *tmp35 100 :cryo
    88 op idiv *tmp36 *tmp35 100
-    * print "\nCryofluid level: "
-    * print *tmp36
+   89 format *tmp36
    90 op sub *tmp37 @time :start_time
-    * print "\nElapsed: "
    91 print *tmp37
    92 printflush .MESSAGE
    93 sensor *tmp16 .SWITCH @enabled

Final code before resolving virtual instructions:

label __start__
set .TANK_WATER null
set .TANK_CRYO null
set .MESSAGE null
set .SWITCH null
set .DISPLAY null
label *label0
jump *label3 equal .TANK_CRYO null
jump *label3 equal .TANK_WATER null
jump *label2 notEqual .DISPLAY null
label *label3
print "Water and Cryofluid Level Meter"
set :n @links
jump *label8 lessThanEq :n 0
label *label25
op sub :n :n 1
getlink :block :n
print "\nFound: "
print :block
sensor *tmp8 :block @type
jump *label10 notEqual *tmp8 @message
set .MESSAGE :block
jump *label9 always
label *label10
jump *label12 notEqual *tmp8 @switch
set .SWITCH :block
jump *label9 always
label *label12
jump *label14 notEqual *tmp8 @liquid-tank
set .TANK_CRYO .TANK_WATER
set .TANK_WATER :block
jump *label9 always
label *label14
jump *label16 notEqual *tmp8 @logic-display
set .DISPLAY :block
label *label16
label *label9
jump *label25 greaterThan :n 0
label *label8
print "\nMessage: {0}\nSwitch: {0}\nWater tank: {0}\nCryo tank: "
format .MESSAGE
format .SWITCH
format .TANK_WATER
print .TANK_CRYO
jump *label18 notEqual .TANK_CRYO null
print "\nNo cryofluid or water tank."
label *label18
jump *label20 notEqual .DISPLAY null
print "\nNo display."
label *label20
printflush .MESSAGE
jump *label0 always
label *label2
control enabled .SWITCH 0
sensor *tmp16 .SWITCH @enabled
jump __start__ notEqual *tmp16 0
label *label26
set :start_time @time
draw clear 0 0 0
draw color 255 255 255 255
draw image 20 10 @water 16 0
draw image 60 10 @cryofluid 16 0
draw color 90 100 170 255
draw rect 14 20 12 55
draw color 255 255 16 255
sensor :water .TANK_WATER @totalLiquids
op mul *tmp20 :water 0.03666666666666667
op add :pos *tmp20 20
op add *tmp22 :pos 7
op sub *tmp23 :pos 7
draw triangle 6 *tmp22 14 :pos 6 *tmp23
draw triangle 34 *tmp22 26 :pos 34 *tmp23
draw color 110 200 230 255
draw rect 54 20 12 55
draw color 255 255 16 255
sensor :cryo .TANK_CRYO @totalLiquids
op mul *tmp27 :cryo 0.03666666666666667
op add :pos *tmp27 20
op add *tmp29 :pos 7
op sub *tmp30 :pos 7
draw triangle 46 *tmp29 54 :pos 46 *tmp30
draw triangle 74 *tmp29 66 :pos 74 *tmp30
drawflush .DISPLAY
print "Water and Cryofluid Level Meter\nWater level: {0}\nCryofluid level: {0}\nElapsed: "
op mul *tmp33 100 :water
op idiv *tmp34 *tmp33 100
format *tmp34
op mul *tmp35 100 :cryo
op idiv *tmp36 *tmp35 100
format *tmp36
op sub *tmp37 @time :start_time
print *tmp37
printflush .MESSAGE
sensor *tmp16 .SWITCH @enabled
jump *label26 equal *tmp16 0
