   684 instructions before optimizations.
    63 instructions eliminated by Temp Variables Elimination (6 iterations).
    60 instructions eliminated by Dead Code Elimination (11 iterations).
     3 instructions eliminated by Jump Normalization (2 passes, 5 iterations).
    37 instructions eliminated by Condition Optimization (2 passes, 7 iterations).
    40 instructions eliminated by Single Step Elimination (3 passes, 8 iterations).
     3 instructions eliminated by Expression Optimization (3 iterations).
    21 instructions eliminated by Boolean Optimization (2 passes, 6 iterations).
       2 short-circuited expressions turned to full evaluations.
       5 fully-evaluated expressions optimized using selects.
    83 instructions eliminated by Data Flow Optimization (9 passes, 29 iterations).
   499 instructions added by Function Inlining (10 iterations).
    17 function calls inlined by Function Inlining.
     5 instructions eliminated by Jump Straightening (6 iterations).
    33 instructions updated by Jump Threading.
     7 instructions eliminated by Unreachable Code Elimination (2 iterations).
   131 instructions eliminated by Print Merging.
   730 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 548):
  * Inline function 'kilo' defined at line 117:1                 size    +3, benefit      218.8, efficiency     72.917 (-4 instructions)
    Inline function 'update_fuel' defined at line 121:1          size    +5, benefit      337.5, efficiency     67.500
    Inline function 'calc_charge_req' defined at line 126:1      size   +54, benefit      503.9, efficiency      9.332
  ! Inline function 'start_reactor' defined at line 140:1        size  +559, benefit      687.5, efficiency      1.230
    Inline function 'check_radar' defined at line 259:1          size   +21, benefit      175.0, efficiency      8.333
    Inline function call at line 69:22                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 73:23                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 74:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 75:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 76:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 77:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 80:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 82:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 84:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 86:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 88:23                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 89:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 91:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 93:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 96:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 102:15                          size    +2, benefit       87.5, efficiency     43.750
    Inline function call at line 103:14                          size    +2, benefit       87.5, efficiency     43.750
    Inline function call at line 105:15                          size    +2, benefit       43.8, efficiency     21.875
    Inline function call at line 173:26                          size   +11, benefit        3.9, efficiency      0.355

Pass 1: speed optimization selection (cost limit 552):
  * Inline function 'update_fuel' defined at line 121:1          size    +5, benefit      337.5, efficiency     67.500 (-9 instructions)
    Inline function 'calc_charge_req' defined at line 126:1      size   +54, benefit      503.9, efficiency      9.332
  ! Inline function 'start_reactor' defined at line 140:1        size  +559, benefit      687.5, efficiency      1.230
    Inline function 'check_radar' defined at line 259:1          size   +21, benefit      175.0, efficiency      8.333
    Inline function call at line 69:22                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 73:23                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 74:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 75:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 76:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 77:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 80:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 82:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 84:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 86:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 88:23                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 89:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 91:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 93:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 96:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 173:26                          size   +11, benefit        3.9, efficiency      0.355

Pass 1: speed optimization selection (cost limit 561):
  * Inline function 'calc_charge_req' defined at line 126:1      size   +54, benefit      503.9, efficiency      9.332 (+33 instructions)
    Inline function 'start_reactor' defined at line 140:1        size  +559, benefit      687.5, efficiency      1.230
    Inline function 'check_radar' defined at line 259:1          size   +21, benefit      175.0, efficiency      8.333
    Inline function call at line 69:22                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 73:23                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 74:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 75:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 76:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 77:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 80:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 84:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 88:23                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 89:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 91:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 93:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 173:26                          size   +11, benefit        3.9, efficiency      0.355

Pass 1: speed optimization selection (cost limit 528):
  ! Inline function 'start_reactor' defined at line 140:1        size  +587, benefit      687.5, efficiency      1.171
  * Inline function 'check_radar' defined at line 259:1          size   +21, benefit      175.0, efficiency      8.333 (+6 instructions)
    Inline function call at line 69:22                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 80:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 84:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 88:23                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 89:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 91:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 93:14                           size  +147, benefit      137.5, efficiency      0.935

Pass 1: speed optimization selection (cost limit 522):
  ! Inline function 'start_reactor' defined at line 140:1        size  +587, benefit      687.5, efficiency      1.171
  * Inline function call at line 80:14                           size  +147, benefit      137.5, efficiency      0.935 (+139 instructions)
    Inline function call at line 84:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 89:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 91:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 93:14                           size  +147, benefit      137.5, efficiency      0.935

Pass 1: speed optimization selection (cost limit 383):
  ! Inline function 'start_reactor' defined at line 140:1        size  +440, benefit      550.0, efficiency      1.250
  * Inline function call at line 84:14                           size  +147, benefit      137.5, efficiency      0.935 (+140 instructions)
    Inline function call at line 89:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 91:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 93:14                           size  +147, benefit      137.5, efficiency      0.935

Pass 1: speed optimization selection (cost limit 243):
  ! Inline function 'start_reactor' defined at line 140:1        size  +293, benefit      412.5, efficiency      1.408
  * Inline function call at line 89:14                           size  +147, benefit      137.5, efficiency      0.935 (+140 instructions)
    Inline function call at line 91:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 93:14                           size  +147, benefit      137.5, efficiency      0.935

Pass 1: speed optimization selection (cost limit 103):
  ! Inline function 'start_reactor' defined at line 140:1        size  +146, benefit      275.0, efficiency      1.884
  ! Inline function call at line 91:14                           size  +147, benefit      137.5, efficiency      0.935
  ! Inline function call at line 93:14                           size  +147, benefit      137.5, efficiency      0.935

Pass 2: speed optimization selection (cost limit 131):
  ! Inline function 'start_reactor' defined at line 140:1        size  +143, benefit      275.0, efficiency      1.923
  ! Inline function call at line 91:14                           size  +144, benefit      137.5, efficiency      0.955
  ! Inline function call at line 93:14                           size  +144, benefit      137.5, efficiency      0.955

Pass 3: speed optimization selection (cost limit 131):
  ! Inline function 'start_reactor' defined at line 140:1        size  +143, benefit      275.0, efficiency      1.923
  ! Inline function call at line 91:14                           size  +144, benefit      137.5, efficiency      0.955
  ! Inline function call at line 93:14                           size  +144, benefit      137.5, efficiency      0.955

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-20 instructions):
 
    74 print "\n"
    75 set *tmp8 true
    76 jump *label11 always
-    * set *tmp12 null
    77 jump *label13 always
    78 label *label12
-    * set *tmp12 null
    79 label *label13
    80 set *tmp8 false
    81 jump *label11 always
 
   134 setaddr :update_fuel*retaddr *label22 (h:*label22)
   135 call *label1 *invalid :update_fuel*retval (m:*label22) (h:*label22)
   136 label *label22
-    * set *tmp19 :update_fuel*retval
   137 set :start_reactor:reactor reactor2
   138 set :start_reactor:reactor_num 2
   139 set :start_reactor:emerg_shutdown :emerg_shutdown
 
   151 setaddr :update_fuel*retaddr *label24 (h:*label24)
   152 call *label1 *invalid :update_fuel*retval (m:*label24) (h:*label24)
   153 label *label24
-    * set *tmp21 :update_fuel*retval
   154 set :check_radar:unit .TOWER
   155 setaddr :check_radar*retaddr *label25 (h:*label25)
   156 call *label4 *invalid :check_radar*retval (m:*label25) (h:*label25)
 
   210 setaddr :update_fuel*retaddr *label34 (h:*label34)
   211 call *label1 *invalid :update_fuel*retval (m:*label34) (h:*label34)
   212 label *label34
-    * set *tmp27 :update_fuel*retval
   213 jump *label37 notEqual :fuel_1 false
   214 label *label39
   215 jump *label37 notEqual :fuel_2 false
 
   263 print "\n"
   264 set *tmp40 null
   265 label *label47
-    * set *tmp39 *tmp40
   266 jump *label42 always
   267 label *label41
   268 op equal *tmp41 :throttle_blast:reactors_fueled false
 
   289 print "n"
   290 set *tmp42 null
   291 label *label49
-    * set *tmp39 *tmp42
   292 label *label42
   293 op lessThan *tmp43 :throttle_blast:fuel_stored :throttle_blast:limit
   294 set *tmp29 *tmp43
 
   326 control enabled generator2 true
   327 set *tmp53 true
   328 label *label54
-    * set *tmp47 *tmp53
   329 label *label52
   330 set :kilo:val .AVG_SURPLUS
   331 setaddr :kilo*retaddr *label57 (h:*label57)
 
   356 print :surplus
   357 print "kW flow."
   358 print "\n"
-    * set *tmp62 null
   359 jump *label60 always
   360 label *label59
   361 print "Power "
 
   385 label *label67
   386 set *tmp73 null
   387 label *label68
-    * set *tmp71 *tmp73
   388 jump *label64 always
   389 label *label63
-    * set *tmp71 null
   390 label *label64
   391 op lessThan *tmp74 :update_reactors_desired:stored 0.8
   392 jump *label69 equal *tmp74 false
 
   410 label *label70
   411 set *tmp64 *tmp77
   412 label *label62
-    * set *tmp62 *tmp64
   413 label *label60
   414 op notEqual *tmp83 .REACTORS_DESIRED 5
   415 jump *label73 equal *tmp83 false
 
   417 print .REACTORS_DESIRED
   418 print "/5 reactors."
   419 print "\n"
-    * set *tmp84 null
   420 jump *label74 always
   421 label *label73
-    * set *tmp84 null
   422 label *label74
   423 printflush message1
   424 label *label8
 
   470 label *label84
   471 set :calc_charge_req*retval 0
   472 jump *label81 always
-    * set *tmp99 null
   473 jump *label83 always
   474 label *label82
-    * set *tmp99 null
   475 label *label83
   476 op sub *tmp100 30 :calc_charge_req:secs
   477 set :calc_charge_req:time_left *tmp100
 
   521 print "emergency mode"
   522 print "\n"
   523 set :start_reactor:supply_fuel false
-    * set *tmp119 :start_reactor:supply_fuel
   524 jump *label88 always
   525 label *label87
   526 jump *label89 equal :start_reactor:enabled false
 
   736 label *label113
   737 set *tmp122 *tmp166
   738 label *label90
-    * set *tmp119 *tmp122
   739 label *label88
   740 sensor *tmp188 :start_reactor:reactor @enabled
   741 op notEqual *tmp189 :start_reactor:enabled *tmp188
   742 jump *label126 equal *tmp189 false
   743 set *tmp191 @tick
   744 set .RET_T_STARTUP *tmp191
-    * set *tmp190 .RET_T_STARTUP
   745 jump *label127 always
   746 label *label126
-    * set *tmp190 null
   747 label *label127
   748 set :start_reactor*retval :start_reactor:supply_fuel
   749 jump *label86 always

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-12 instructions):
 
   256 jump *label46 equal :throttle_blast:emerg_shutdown false
   257 print " Enemies detected."
   258 print "\n"
-    * set *tmp40 null
   259 jump *label47 always
   260 label *label46
   261 print " Critical power."
   262 print "\n"
-    * set *tmp40 null
   263 label *label47
   264 jump *label42 always
   265 label *label41
 
   274 print " "
   275 print "(due to emergency)"
   276 print "\n"
-    * set *tmp42 null
   277 jump *label49 always
   278 label *label48
   279 set :throttle_blast:limit .FUEL_LIMIT
 
   284 print :throttle_blast:limit
   285 print "\"
   286 print "n"
-    * set *tmp42 null
   287 label *label49
   288 label *label42
   289 op lessThan *tmp43 :throttle_blast:fuel_stored :throttle_blast:limit
 
   315 print "\n"
   316 control enabled generator1 false
   317 control enabled generator2 false
-    * set *tmp53 false
   318 jump *label54 always
   319 label *label53
   320 control enabled generator1 true
   321 control enabled generator2 true
-    * set *tmp53 true
   322 label *label54
   323 label *label52
   324 set :kilo:val .AVG_SURPLUS
 
   374 jump *label67 equal *tmp72 false
   375 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   376 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
-    * set *tmp73 .AVG_SURPLUS
   377 jump *label68 always
   378 label *label67
-    * set *tmp73 null
   379 label *label68
   380 jump *label64 always
   381 label *label63
 
   400 label *label69
   401 set *tmp77 null
   402 label *label70
-    * set *tmp64 *tmp77
   403 label *label62
   404 label *label60
   405 op notEqual *tmp83 .REACTORS_DESIRED 5
 
   443 set *tmp93 .FUEL_OFF
   444 label *label80
   445 control config *tmp90 *tmp93
-    * set :update_fuel*retval *tmp93
   446 label *label76
   447 return :update_fuel*retaddr
   448 end
 
   630 label *label94
   631 set *tmp124 *tmp130
   632 label *label92
-    * set *tmp122 *tmp124
   633 jump *label90 always
   634 label *label89
   635 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   723 label *label115
   724 set *tmp166 *tmp169
   725 label *label113
-    * set *tmp122 *tmp166
   726 label *label90
   727 label *label88
   728 sensor *tmp188 :start_reactor:reactor @enabled

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-6 instructions):
 
   395 op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
   396 op min *tmp82 5 *tmp81
   397 set .REACTORS_DESIRED *tmp82
-    * set *tmp77 .REACTORS_DESIRED
   398 jump *label70 always
   399 label *label69
-    * set *tmp77 null
   400 label *label70
   401 label *label62
   402 label *label60
 
   518 control enabled *tmp125 false
   519 print "STOP unwanted"
   520 print "\n"
-    * set *tmp124 null
   521 jump *label92 always
   522 label *label91
   523 op greaterThan *tmp127 :start_reactor:reactor_num 1
 
   625 label *label98
   626 set *tmp130 *tmp134
   627 label *label94
-    * set *tmp124 *tmp130
   628 label *label92
   629 jump *label90 always
   630 label *label89
 
   644 print "IDLE"
   645 print "\n"
   646 set :start_reactor:supply_fuel false
-    * set *tmp166 :start_reactor:supply_fuel
   647 jump *label113 always
   648 label *label112
   649 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
 
   716 label *label117
   717 set *tmp169 *tmp177
   718 label *label115
-    * set *tmp166 *tmp169
   719 label *label113
   720 label *label90
   721 label *label88

Modifications by Initial phase, Dead Code Elimination, iteration 4 (-4 instructions):
 
   532 control enabled *tmp131 false
   533 print "STOP system fuel low"
   534 print "\n"
-    * set *tmp130 null
   535 jump *label94 always
   536 label *label93
   537 op lessThanEq *tmp133 :start_reactor:fuel 1
 
   622 label *label100
   623 set *tmp134 *tmp138
   624 label *label98
-    * set *tmp130 *tmp134
   625 label *label94
   626 label *label92
   627 jump *label90 always
 
   662 print "W)"
   663 print "\n"
   664 set :start_reactor:supply_fuel false
-    * set *tmp169 :start_reactor:supply_fuel
   665 jump *label115 always
   666 label *label114
   667 jump *label116 equal :start_reactor:fuel_on false
 
   711 label *label123
   712 set *tmp177 *tmp183
   713 label *label117
-    * set *tmp169 *tmp177
   714 label *label115
   715 label *label113
   716 label *label90

Modifications by Initial phase, Dead Code Elimination, iteration 5 (-4 instructions):
 
   540 control enabled *tmp135 false
   541 print "STOP fuel low"
   542 print "\n"
-    * set *tmp134 null
   543 jump *label98 always
   544 label *label97
   545 op lessThanEq *tmp137 :start_reactor:cryo .CRYO_ABORT
 
   619 label *label102
   620 set *tmp138 *tmp142
   621 label *label100
-    * set *tmp134 *tmp138
   622 label *label98
   623 label *label94
   624 label *label92
 
   680 print "\n"
   681 set *tmp180 null
   682 label *label121
-    * set *tmp177 *tmp180
   683 jump *label117 always
   684 label *label116
   685 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
 
   706 label *label125
   707 set *tmp183 *tmp185
   708 label *label123
-    * set *tmp177 *tmp183
   709 label *label117
   710 label *label115
   711 label *label113

Modifications by Initial phase, Dead Code Elimination, iteration 6 (-6 instructions):
 
   548 control enabled *tmp139 false
   549 print "STOP out of cryo"
   550 print "\n"
-    * set *tmp138 null
   551 jump *label100 always
   552 label *label99
   553 op lessThan *tmp141 :start_reactor:secs 30
 
   616 label *label109
   617 set *tmp142 *tmp152
   618 label *label102
-    * set *tmp138 *tmp142
   619 label *label100
   620 label *label98
   621 label *label94
 
   671 jump *label120 equal *tmp179 false
   672 print "WAIT fuel"
   673 print "\n"
-    * set *tmp180 null
   674 jump *label121 always
   675 label *label120
   676 print "WAIT system fuel"
   677 print "\n"
-    * set *tmp180 null
   678 label *label121
   679 jump *label117 always
   680 label *label116
 
   683 jump *label122 equal *tmp182 false
   684 print "WAIT buffer fuel"
   685 print "\n"
-    * set *tmp183 null
   686 jump *label123 always
   687 label *label122
   688 op lessThan *tmp184 :start_reactor:cryo :start_reactor:cryo_req
 
   699 control enabled *tmp186 true
   700 set *tmp185 true
   701 label *label125
-    * set *tmp183 *tmp185
   702 label *label123
   703 label *label117
   704 label *label115

Modifications by Initial phase, Dead Code Elimination, iteration 7 (-4 instructions):
 
   585 print "\n"
   586 set *tmp146 null
   587 label *label105
-    * set *tmp142 *tmp146
   588 jump *label102 always
   589 label *label101
   590 op lessThan *tmp150 :start_reactor:charge .PWR_ABANDON
 
   613 print "\n"
   614 set *tmp152 null
   615 label *label109
-    * set *tmp142 *tmp152
   616 label *label102
   617 label *label100
   618 label *label98
 
   687 jump *label124 equal *tmp184 false
   688 print "WAIT cryo"
   689 print "\n"
-    * set *tmp185 null
   690 jump *label125 always
   691 label *label124
   692 print "STARTUP"
 
   694 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
   695 set *tmp186 :start_reactor:reactor
   696 control enabled *tmp186 true
-    * set *tmp185 true
   697 label *label125
   698 label *label123
   699 label *label117

Modifications by Initial phase, Dead Code Elimination, iteration 8 (-4 instructions):
 
   571 print "START FAIL battery"
   572 print "\n"
   573 set :start_reactor:supply_fuel false
-    * set *tmp146 :start_reactor:supply_fuel
   574 jump *label105 always
   575 label *label104
   576 op sub *tmp149 30 :start_reactor:secs
 
   582 print :start_reactor:charge_req
   583 print "J"
   584 print "\n"
-    * set *tmp146 null
   585 label *label105
   586 jump *label102 always
   587 label *label101
 
   597 print "ABANDON - battery crit"
   598 print "\n"
   599 set :start_reactor:supply_fuel false
-    * set *tmp152 :start_reactor:supply_fuel
   600 jump *label109 always
   601 label *label108
   602 op idiv *tmp155 :start_reactor:secs 6
 
   608 print " "
   609 print "mins"
   610 print "\n"
-    * set *tmp152 null
   611 label *label109
   612 label *label102
   613 label *label100

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-63 instructions):
 
    25 sensor *tmp0 node1 @powerNetIn
    26 sensor *tmp1 node1 @powerNetOut
    27 op sub *tmp2 *tmp0 *tmp1
-    * op floor *tmp3 *tmp2
-    * set :surplus *tmp3
+   28 op floor :surplus *tmp2
    29 op greaterThan *tmp4 :surplus 10000
    30 jump *label5 equal *tmp4 false
-    * op sub *tmp6 @tick 3600
-    * set *tmp5 *tmp6
+   31 op sub *tmp5 @tick 3600
    32 jump *label6 always
    33 label *label5
    34 set *tmp5 @tick
 
    58 setaddr :check_radar*retaddr *label10 (h:*label10)
    59 call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
    60 label *label10
-    * set *tmp7 :check_radar*retval
-    * set :emerg_shutdown *tmp7
+   61 set :emerg_shutdown :check_radar*retval
    62 op notEqual *tmp9 switch1 null
    63 jump *label12 equal *tmp9 false
    64 label *label15
 
    84 setaddr :calc_charge_req*retaddr *label16 (h:*label16)
    85 call *label2 *invalid :calc_charge_req*retval (m:*label16) (h:*label16)
    86 label *label16
-    * set *tmp13 :calc_charge_req*retval
-    * set .START_POWER_REQ *tmp13
+   87 set .START_POWER_REQ :calc_charge_req*retval
    88 set :calc_charge_req:reactor reactor2
    89 set :calc_charge_req:time :t_startup2
    90 setaddr :calc_charge_req*retaddr *label17 (h:*label17)
    91 call *label2 *invalid :calc_charge_req*retval (m:*label17) (h:*label17)
    92 label *label17
-    * set *tmp14 :calc_charge_req*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp14
+   93 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
    94 set :calc_charge_req:reactor reactor3
    95 set :calc_charge_req:time :t_startup3
    96 setaddr :calc_charge_req*retaddr *label18 (h:*label18)
    97 call *label2 *invalid :calc_charge_req*retval (m:*label18) (h:*label18)
    98 label *label18
-    * set *tmp15 :calc_charge_req*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp15
+   99 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   100 set :calc_charge_req:reactor reactor4
   101 set :calc_charge_req:time :t_startup4
   102 setaddr :calc_charge_req*retaddr *label19 (h:*label19)
   103 call *label2 *invalid :calc_charge_req*retval (m:*label19) (h:*label19)
   104 label *label19
-    * set *tmp16 :calc_charge_req*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp16
+  105 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   106 set :calc_charge_req:reactor reactor5
   107 set :calc_charge_req:time :t_startup5
   108 setaddr :calc_charge_req*retaddr *label20 (h:*label20)
   109 call *label2 *invalid :calc_charge_req*retval (m:*label20) (h:*label20)
   110 label *label20
-    * set *tmp17 :calc_charge_req*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp17
+  111 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   112 set :start_reactor:reactor reactor1
   113 set :start_reactor:reactor_num 1
   114 set :start_reactor:emerg_shutdown :emerg_shutdown
 
   117 setaddr :start_reactor*retaddr *label21 (h:*label21)
   118 call *label3 *invalid :start_reactor*retval (m:*label21) (h:*label21)
   119 label *label21
-    * set *tmp18 :start_reactor*retval
-    * set :fuel_1 *tmp18
+  120 set :fuel_1 :start_reactor*retval
   121 set :t_startup1 .RET_T_STARTUP
   122 set :update_fuel:fuel :fuel_1
   123 set :update_fuel:uld_in .ULD_IN_1
 
   133 setaddr :start_reactor*retaddr *label23 (h:*label23)
   134 call *label3 *invalid :start_reactor*retval (m:*label23) (h:*label23)
   135 label *label23
-    * set *tmp20 :start_reactor*retval
-    * set :fuel_2 *tmp20
+  136 set :fuel_2 :start_reactor*retval
   137 set :t_startup2 .RET_T_STARTUP
   138 set :update_fuel:fuel :fuel_2
   139 set :update_fuel:uld_in .ULD_IN_2
 
   145 setaddr :check_radar*retaddr *label25 (h:*label25)
   146 call *label4 *invalid :check_radar*retval (m:*label25) (h:*label25)
   147 label *label25
-    * set *tmp22 :check_radar*retval
-    * op or :emerg_shutdown :emerg_shutdown *tmp22
+  148 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
   149 set :start_reactor:reactor reactor3
   150 set :start_reactor:reactor_num 3
   151 set :start_reactor:emerg_shutdown :emerg_shutdown
 
   154 setaddr :start_reactor*retaddr *label26 (h:*label26)
   155 call *label3 *invalid :start_reactor*retval (m:*label26) (h:*label26)
   156 label *label26
-    * set *tmp23 :start_reactor*retval
-    * set :fuel_3 *tmp23
+  157 set :fuel_3 :start_reactor*retval
   158 set :t_startup3 .RET_T_STARTUP
   159 set :start_reactor:reactor reactor4
   160 set :start_reactor:reactor_num 4
 
   164 setaddr :start_reactor*retaddr *label27 (h:*label27)
   165 call *label3 *invalid :start_reactor*retval (m:*label27) (h:*label27)
   166 label *label27
-    * set *tmp24 :start_reactor*retval
-    * set :fuel_4 *tmp24
+  167 set :fuel_4 :start_reactor*retval
   168 set :t_startup4 .RET_T_STARTUP
   169 set :start_reactor:reactor reactor5
   170 set :start_reactor:reactor_num 5
 
   174 setaddr :start_reactor*retaddr *label28 (h:*label28)
   175 call *label3 *invalid :start_reactor*retval (m:*label28) (h:*label28)
   176 label *label28
-    * set *tmp25 :start_reactor*retval
-    * set :fuel_5 *tmp25
+  177 set :fuel_5 :start_reactor*retval
   178 set :t_startup5 .RET_T_STARTUP
   179 jump *label31 notEqual :fuel_3 false
   180 label *label33
 
   212 set :throttle_blast:reactors_fueled *tmp28
   213 set :throttle_blast:emerg_shutdown :emerg_shutdown
   214 sensor *tmp30 .NODE @powerNetStored
-    * op floor *tmp31 *tmp30
-    * set :throttle_blast:charge *tmp31
+  215 op floor :throttle_blast:charge *tmp30
   216 sensor *tmp32 .NODE @powerNetIn
   217 sensor *tmp33 .NODE @powerNetOut
   218 op sub *tmp34 *tmp32 *tmp33
-    * op floor *tmp35 *tmp34
-    * set :throttle_blast:surplus *tmp35
-    * sensor *tmp36 .CONTAINER @blast-compound
-    * set :throttle_blast:fuel_stored *tmp36
+  219 op floor :throttle_blast:surplus *tmp34
+  220 sensor :throttle_blast:fuel_stored .CONTAINER @blast-compound
   221 op lessThan *tmp37 :throttle_blast:charge .PWR_ABORT
   222 jump *label44 equal *tmp37 false
   223 label *label45
 
   269 print "n"
   270 label *label49
   271 label *label42
-    * op lessThan *tmp43 :throttle_blast:fuel_stored :throttle_blast:limit
-    * set *tmp29 *tmp43
+  272 op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
   273 jump *label40 always
   274 set *tmp29 null
   275 label *label40
 
   284 control config *tmp44 *tmp46
   285 sensor *tmp48 .NODE @powerNetStored
   286 sensor *tmp49 .NODE @powerNetCapacity
-    * op div *tmp50 *tmp48 *tmp49
-    * set :diff_generators:stored_pc *tmp50
+  287 op div :diff_generators:stored_pc *tmp48 *tmp49
   288 op greaterThan *tmp51 :diff_generators:stored_pc 0.9
   289 jump *label53 equal *tmp51 false
   290 label *label56
 
   306 setaddr :kilo*retaddr *label57 (h:*label57)
   307 call *label0 *invalid :kilo*retval (m:*label57) (h:*label57)
   308 label *label57
-    * set *tmp58 :kilo*retval
-    * set :surplus *tmp58
-    * sensor *tmp59 .NODE @powerNetStored
-    * set :kilo:val *tmp59
+  309 set :surplus :kilo*retval
+  310 sensor :kilo:val .NODE @powerNetStored
   311 setaddr :kilo*retaddr *label58 (h:*label58)
   312 call *label0 *invalid :kilo*retval (m:*label58) (h:*label58)
   313 label *label58
-    * set *tmp60 :kilo*retval
-    * set :charge *tmp60
+  314 set :charge :kilo*retval
   315 op greaterThan *tmp61 .START_POWER_REQ 0
   316 jump *label59 equal *tmp61 false
   317 set :kilo:val .START_POWER_REQ
   318 setaddr :kilo*retaddr *label61 (h:*label61)
   319 call *label0 *invalid :kilo*retval (m:*label61) (h:*label61)
   320 label *label61
-    * set *tmp63 :kilo*retval
-    * set :req *tmp63
+  321 set :req :kilo*retval
   322 print "Req "
   323 print :req
   324 print "kJ / "
 
   337 print "\n"
   338 sensor *tmp65 .NODE @powerNetStored
   339 sensor *tmp66 .NODE @powerNetCapacity
-    * op div *tmp67 *tmp65 *tmp66
-    * set :update_reactors_desired:stored *tmp67
+  340 op div :update_reactors_desired:stored *tmp65 *tmp66
   341 op greaterThan *tmp68 :update_reactors_desired:stored 0.98
   342 jump *label63 equal *tmp68 false
   343 label *label66
 
   366 label *label71
   367 op sub *tmp78 .AVG_SURPLUS .GOAL_BUFFER
   368 op idiv *tmp79 *tmp78 .GENERATOR_OUTPUT
-    * op max *tmp80 1 *tmp79
-    * set :update_reactors_desired:needed *tmp80
+  369 op max :update_reactors_desired:needed 1 *tmp79
   370 op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
-    * op min *tmp82 5 *tmp81
-    * set .REACTORS_DESIRED *tmp82
+  371 op min .REACTORS_DESIRED 5 *tmp81
   372 jump *label70 always
   373 label *label69
   374 label *label70
 
   390 end
   391 label *label0
   392 op idiv *tmp85 :kilo:val 100
-    * op div *tmp86 *tmp85 10
-    * set :kilo*retval *tmp86
+  393 op div :kilo*retval *tmp85 10
   394 jump *label75 always
   395 set :kilo*retval null
   396 label *label75
 
   419 end
   420 label *label2
   421 op sub *tmp94 @tick :calc_charge_req:time
-    * op idiv *tmp95 *tmp94 60
-    * set :calc_charge_req:secs *tmp95
+  422 op idiv :calc_charge_req:secs *tmp94 60
   423 op greaterThan *tmp96 :calc_charge_req:secs 30
   424 jump *label84 notEqual *tmp96 false
   425 label *label85
 
   433 jump *label83 always
   434 label *label82
   435 label *label83
-    * op sub *tmp100 30 :calc_charge_req:secs
-    * set :calc_charge_req:time_left *tmp100
+  436 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   437 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   438 op mul *tmp102 *tmp101 25
-    * op floor *tmp103 *tmp102
-    * set :calc_charge_req:charge_req *tmp103
+  439 op floor :calc_charge_req:charge_req *tmp102
   440 set :calc_charge_req*retval :calc_charge_req:charge_req
   441 jump *label81 always
   442 set :calc_charge_req*retval null
 
   446 label *label3
   447 set .RET_T_STARTUP :start_reactor:t_startup
   448 op sub *tmp104 @tick :start_reactor:t_startup
-    * op idiv *tmp105 *tmp104 60
-    * set :start_reactor:secs *tmp105
-    * sensor *tmp106 :start_reactor:reactor @blast-compound
-    * set :start_reactor:fuel *tmp106
+  449 op idiv :start_reactor:secs *tmp104 60
+  450 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
   451 set :start_reactor:supply_fuel true
-    * sensor *tmp107 .CONTAINER @blast-compound
-    * set :start_reactor:fuel_stored *tmp107
-    * sensor *tmp108 :start_reactor:reactor @cryofluid
-    * set :start_reactor:cryo *tmp108
+  452 sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
+  453 sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
   454 sensor *tmp109 .NODE @powerNetStored
-    * op floor *tmp110 *tmp109
-    * set :start_reactor:charge *tmp110
+  455 op floor :start_reactor:charge *tmp109
   456 sensor *tmp111 .NODE @powerNetIn
   457 sensor *tmp112 .NODE @powerNetOut
   458 op sub *tmp113 *tmp111 *tmp112
-    * op floor *tmp114 *tmp113
-    * set :start_reactor:surplus *tmp114
+  459 op floor :start_reactor:surplus *tmp113
   460 op mul *tmp115 .AVG_SURPLUS 0.8
   461 op mul *tmp116 :start_reactor:surplus 0.2
-    * op add *tmp117 *tmp115 *tmp116
-    * set .AVG_SURPLUS *tmp117
-    * sensor *tmp118 :start_reactor:reactor @enabled
-    * set :start_reactor:enabled *tmp118
+  462 op add .AVG_SURPLUS *tmp115 *tmp116
+  463 sensor :start_reactor:enabled :start_reactor:reactor @enabled
   464 print "#"
   465 print :start_reactor:reactor_num
   466 print " "
   467 print "- "
   468 jump *label87 equal :start_reactor:emerg_shutdown false
-    * set *tmp120 :start_reactor:reactor
-    * control enabled *tmp120 false
+  469 control enabled :start_reactor:reactor false
   470 print "emergency mode"
   471 print "\n"
   472 set :start_reactor:supply_fuel false
 
   475 jump *label89 equal :start_reactor:enabled false
   476 op lessThan *tmp123 .REACTORS_DESIRED :start_reactor:reactor_num
   477 jump *label91 equal *tmp123 false
-    * set *tmp125 :start_reactor:reactor
-    * control enabled *tmp125 false
+  478 control enabled :start_reactor:reactor false
   479 print "STOP unwanted"
   480 print "\n"
   481 jump *label92 always
 
   488 jump *label93 equal *tmp129 false
   489 jump *label95 always
   490 label *label95
-    * set *tmp131 :start_reactor:reactor
-    * control enabled *tmp131 false
+  491 control enabled :start_reactor:reactor false
   492 print "STOP system fuel low"
   493 print "\n"
   494 jump *label94 always
   495 label *label93
   496 op lessThanEq *tmp133 :start_reactor:fuel 1
   497 jump *label97 equal *tmp133 false
-    * set *tmp135 :start_reactor:reactor
-    * control enabled *tmp135 false
+  498 control enabled :start_reactor:reactor false
   499 print "STOP fuel low"
   500 print "\n"
   501 jump *label98 always
   502 label *label97
   503 op lessThanEq *tmp137 :start_reactor:cryo .CRYO_ABORT
   504 jump *label99 equal *tmp137 false
-    * set *tmp139 :start_reactor:reactor
-    * control enabled *tmp139 false
+  505 control enabled :start_reactor:reactor false
   506 print "STOP out of cryo"
   507 print "\n"
   508 jump *label100 always
 
   523 jump *label104 equal *tmp145 false
   524 jump *label106 always
   525 label *label106
-    * set *tmp147 :start_reactor:reactor
-    * control enabled *tmp147 false
+  526 control enabled :start_reactor:reactor false
   527 print "START FAIL battery"
   528 print "\n"
   529 set :start_reactor:supply_fuel false
   530 jump *label105 always
   531 label *label104
-    * op sub *tmp149 30 :start_reactor:secs
-    * set :start_reactor:time_left *tmp149
+  532 op sub :start_reactor:time_left 30 :start_reactor:secs
   533 print "Starting "
   534 print :start_reactor:time_left
   535 print " "
 
   547 jump *label108 equal *tmp151 false
   548 jump *label110 always
   549 label *label110
-    * set *tmp153 :start_reactor:reactor
-    * control enabled *tmp153 false
+  550 control enabled :start_reactor:reactor false
   551 print "ABANDON - battery crit"
   552 print "\n"
   553 set :start_reactor:supply_fuel false
   554 jump *label109 always
   555 label *label108
-    * op idiv *tmp155 :start_reactor:secs 6
-    * set :start_reactor:mins *tmp155
-    * op div *tmp156 :start_reactor:mins 10
-    * set :start_reactor:mins *tmp156
+  556 op idiv :start_reactor:mins :start_reactor:secs 6
+  557 op div :start_reactor:mins :start_reactor:mins 10
   558 print "RUN "
   559 print :start_reactor:mins
   560 print " "
 
   571 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
   572 op sub *tmp158 *tmp157 .PWR_ABORT
   573 op div *tmp159 *tmp158 .PWR_REQ
-    * op mul *tmp160 *tmp159 .PWR_RESERVE
-    * set :start_reactor:charge_units *tmp160
+  574 op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
   575 op div *tmp161 :start_reactor:surplus .FLOW_REQ
-    * op max *tmp162 -0.1 *tmp161
-    * set :start_reactor:flow_units *tmp162
+  576 op max :start_reactor:flow_units -0.1 *tmp161
   577 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
-    * op add *tmp164 .CRYO_REQ *tmp163
-    * set :start_reactor:cryo_req *tmp164
+  578 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
   579 op lessThan *tmp165 .REACTORS_DESIRED :start_reactor:reactor_num
   580 jump *label112 equal *tmp165 false
   581 print "IDLE"
 
   588 jump *label114 equal *tmp168 false
   589 op mul *tmp170 :start_reactor:flow_units 1000
   590 op floor *tmp171 *tmp170
-    * op div *tmp172 *tmp171 10
-    * set :start_reactor:flow *tmp172
+  591 op div :start_reactor:flow *tmp171 10
   592 op mul *tmp173 :start_reactor:charge_units 1000
   593 op floor *tmp174 *tmp173
-    * op div *tmp175 *tmp174 10
-    * set :start_reactor:charge *tmp175
+  594 op div :start_reactor:charge *tmp174 10
   595 print "WAIT power. (%"
   596 print :start_reactor:charge
   597 print "J + %"
 
   635 print "STARTUP"
   636 print "\n"
   637 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * set *tmp186 :start_reactor:reactor
-    * control enabled *tmp186 true
+  638 control enabled :start_reactor:reactor true
   639 label *label125
   640 label *label123
   641 label *label117
 
   646 sensor *tmp188 :start_reactor:reactor @enabled
   647 op notEqual *tmp189 :start_reactor:enabled *tmp188
   648 jump *label126 equal *tmp189 false
-    * set *tmp191 @tick
-    * set .RET_T_STARTUP *tmp191
+  649 set .RET_T_STARTUP @tick
   650 jump *label127 always
   651 label *label126
   652 label *label127
 
   657 return :start_reactor*retaddr
   658 end
   659 label *label4
-    * radar enemy any any health :check_radar:unit 1 *tmp192
-    * set :check_radar:enemy_found *tmp192
+  660 radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
   661 op notEqual *tmp193 :check_radar:enemy_found null
   662 jump *label129 equal *tmp193 false
   663 control enabled projector1 true
   664 control enabled projector2 true
-    * set *tmp197 .ULD_IN_1
-    * control config *tmp197 .FUEL_OFF
-    * set *tmp199 .ULD_OUT_1
-    * control config *tmp199 .FUEL
-    * set *tmp201 .ULD_IN_2
-    * control config *tmp201 .FUEL_OFF
-    * set *tmp203 .ULD_OUT_2
-    * control config *tmp203 .FUEL
-    * set *tmp205 .ULD_IN_MANY
-    * control config *tmp205 .FUEL_OFF
-    * set *tmp207 .ULD_OUT_MANY
-    * control config *tmp207 .FUEL
-    * set *tmp209 .ULD_MIXER
-    * control config *tmp209 .FUEL_OFF
+  665 control config .ULD_IN_1 .FUEL_OFF
+  666 control config .ULD_OUT_1 .FUEL
+  667 control config .ULD_IN_2 .FUEL_OFF
+  668 control config .ULD_OUT_2 .FUEL
+  669 control config .ULD_IN_MANY .FUEL_OFF
+  670 control config .ULD_OUT_MANY .FUEL
+  671 control config .ULD_MIXER .FUEL_OFF
   672 control enabled reactor1 false
   673 control enabled reactor2 false
   674 control enabled reactor3 false

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-1 instructions):
 
    43 set .REACTORS_DESIRED 5
    44 set .AVG_SURPLUS 500
    45 label *label7
-    * jump *label9 equal true false
    46 set .ULD_IN_1 unloader1
    47 set .ULD_OUT_1 unloader2
    48 set .ULD_IN_2 unloader3

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-5 instructions):
 
   180 jump *label31 notEqual :fuel_4 false
   181 jump *label32 always
   182 label *label32
-    * jump *label31 notEqual :fuel_5 false
-    * jump *label29 always
+  183 jump *label29 equal :fuel_5 false
   184 label *label31
   185 set *tmp26 true
   186 jump *label30 always
 
   199 jump *label37 notEqual :fuel_2 false
   200 jump *label38 always
   201 label *label38
-    * jump *label37 notEqual :fuel_many false
-    * jump *label35 always
+  202 jump *label35 equal :fuel_many false
   203 label *label37
   204 set *tmp28 true
   205 jump *label36 always
 
   219 jump *label44 equal *tmp37 false
   220 label *label45
   221 op lessThan *tmp38 :throttle_blast:surplus .FLOW_ABORT
-    * jump *label44 equal *tmp38 false
-    * jump *label43 always
+  222 jump *label43 notEqual *tmp38 false
   223 label *label44
-    * jump *label43 notEqual :throttle_blast:emerg_shutdown false
-    * jump *label41 always
+  224 jump *label41 equal :throttle_blast:emerg_shutdown false
   225 label *label43
   226 set :throttle_blast:limit 0
   227 print "Central Fuel at "
 
   420 label *label85
   421 sensor *tmp97 :calc_charge_req:reactor @enabled
   422 op equal *tmp98 *tmp97 false
-    * jump *label84 notEqual *tmp98 false
-    * jump *label82 always
+  423 jump *label82 equal *tmp98 false
   424 label *label84
   425 set :calc_charge_req*retval 0
   426 jump *label81 always

Modifications by Iterated phase, Condition Optimization, pass 1, iteration 1 (-36 instructions):
 
    26 sensor *tmp1 node1 @powerNetOut
    27 op sub *tmp2 *tmp0 *tmp1
    28 op floor :surplus *tmp2
-    * op greaterThan *tmp4 :surplus 10000
-    * jump *label5 equal *tmp4 false
+   29 jump *label5 lessThanEq :surplus 10000
    30 op sub *tmp5 @tick 3600
    31 jump *label6 always
    32 label *label5
 
    57 call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
    58 label *label10
    59 set :emerg_shutdown :check_radar*retval
-    * op notEqual *tmp9 switch1 null
-    * jump *label12 equal *tmp9 false
+   60 jump *label12 equal switch1 null
    61 label *label15
    62 sensor *tmp10 switch1 @enabled
-    * op equal *tmp11 *tmp10 false
-    * jump *label12 equal *tmp11 false
+   63 jump *label12 notEqual *tmp10 false
    64 jump *label14 always
    65 label *label14
    66 print "User has disabled emergency switch"
 
   212 op sub *tmp34 *tmp32 *tmp33
   213 op floor :throttle_blast:surplus *tmp34
   214 sensor :throttle_blast:fuel_stored .CONTAINER @blast-compound
-    * op lessThan *tmp37 :throttle_blast:charge .PWR_ABORT
-    * jump *label44 equal *tmp37 false
+  215 jump *label44 greaterThanEq :throttle_blast:charge .PWR_ABORT
   216 label *label45
-    * op lessThan *tmp38 :throttle_blast:surplus .FLOW_ABORT
-    * jump *label43 notEqual *tmp38 false
+  217 jump *label43 lessThan :throttle_blast:surplus .FLOW_ABORT
   218 label *label44
   219 jump *label41 equal :throttle_blast:emerg_shutdown false
   220 label *label43
 
   236 label *label47
   237 jump *label42 always
   238 label *label41
-    * op equal *tmp41 :throttle_blast:reactors_fueled false
-    * jump *label48 equal *tmp41 false
+  239 jump *label48 notEqual :throttle_blast:reactors_fueled false
   240 set :throttle_blast:limit .FUEL_LIMIT_LOW
   241 print "Fuel "
   242 print :throttle_blast:fuel_stored
 
   274 sensor *tmp48 .NODE @powerNetStored
   275 sensor *tmp49 .NODE @powerNetCapacity
   276 op div :diff_generators:stored_pc *tmp48 *tmp49
-    * op greaterThan *tmp51 :diff_generators:stored_pc 0.9
-    * jump *label53 equal *tmp51 false
+  277 jump *label53 lessThanEq :diff_generators:stored_pc 0.9
   278 label *label56
-    * op lessThan *tmp52 .START_POWER_REQ 10
-    * jump *label53 equal *tmp52 false
+  279 jump *label53 greaterThanEq .START_POWER_REQ 10
   280 jump *label55 always
   281 label *label55
   282 print "Differential now idle."
 
   299 call *label0 *invalid :kilo*retval (m:*label58) (h:*label58)
   300 label *label58
   301 set :charge :kilo*retval
-    * op greaterThan *tmp61 .START_POWER_REQ 0
-    * jump *label59 equal *tmp61 false
+  302 jump *label59 lessThanEq .START_POWER_REQ 0
   303 set :kilo:val .START_POWER_REQ
   304 setaddr :kilo*retaddr *label61 (h:*label61)
   305 call *label0 *invalid :kilo*retval (m:*label61) (h:*label61)
 
   324 sensor *tmp65 .NODE @powerNetStored
   325 sensor *tmp66 .NODE @powerNetCapacity
   326 op div :update_reactors_desired:stored *tmp65 *tmp66
-    * op greaterThan *tmp68 :update_reactors_desired:stored 0.98
-    * jump *label63 equal *tmp68 false
+  327 jump *label63 lessThanEq :update_reactors_desired:stored 0.98
   328 label *label66
   329 op add *tmp69 .GENERATOR_OUTPUT .GOAL_BUFFER
-    * op greaterThan *tmp70 .AVG_SURPLUS *tmp69
-    * jump *label63 equal *tmp70 false
+  330 jump *label63 lessThanEq .AVG_SURPLUS *tmp69
   331 jump *label65 always
   332 label *label65
-    * op greaterThan *tmp72 .REACTORS_DESIRED 2
-    * jump *label67 equal *tmp72 false
+  333 jump *label67 lessThanEq .REACTORS_DESIRED 2
   334 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   335 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
   336 jump *label68 always
 
   339 jump *label64 always
   340 label *label63
   341 label *label64
-    * op lessThan *tmp74 :update_reactors_desired:stored 0.8
-    * jump *label69 equal *tmp74 false
+  342 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
   343 label *label72
   344 op mul *tmp75 .GOAL_BUFFER 0.8
-    * op lessThan *tmp76 .AVG_SURPLUS *tmp75
-    * jump *label69 equal *tmp76 false
+  345 jump *label69 greaterThanEq .AVG_SURPLUS *tmp75
   346 jump *label71 always
   347 label *label71
   348 op sub *tmp78 .AVG_SURPLUS .GOAL_BUFFER
 
   355 label *label70
   356 label *label62
   357 label *label60
-    * op notEqual *tmp83 .REACTORS_DESIRED 5
-    * jump *label73 equal *tmp83 false
+  358 jump *label73 equal .REACTORS_DESIRED 5
   359 print "Require only "
   360 print .REACTORS_DESIRED
   361 print "/5 reactors."
 
   386 label *label78
   387 control config *tmp87 *tmp89
   388 set *tmp90 :update_fuel:uld_out
-    * op equal *tmp92 :update_fuel:fuel false
-    * jump *label79 equal *tmp92 false
+  389 jump *label79 notEqual :update_fuel:fuel false
   390 set *tmp93 .FUEL
   391 jump *label80 always
   392 label *label79
 
   399 label *label2
   400 op sub *tmp94 @tick :calc_charge_req:time
   401 op idiv :calc_charge_req:secs *tmp94 60
-    * op greaterThan *tmp96 :calc_charge_req:secs 30
-    * jump *label84 notEqual *tmp96 false
+  402 jump *label84 greaterThan :calc_charge_req:secs 30
   403 label *label85
   404 sensor *tmp97 :calc_charge_req:reactor @enabled
-    * op equal *tmp98 *tmp97 false
-    * jump *label82 equal *tmp98 false
+  405 jump *label82 notEqual *tmp97 false
   406 label *label84
   407 set :calc_charge_req*retval 0
   408 jump *label81 always
 
   449 jump *label88 always
   450 label *label87
   451 jump *label89 equal :start_reactor:enabled false
-    * op lessThan *tmp123 .REACTORS_DESIRED :start_reactor:reactor_num
-    * jump *label91 equal *tmp123 false
+  452 jump *label91 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
   453 control enabled :start_reactor:reactor false
   454 print "STOP unwanted"
   455 print "\n"
   456 jump *label92 always
   457 label *label91
-    * op greaterThan *tmp127 :start_reactor:reactor_num 1
-    * jump *label93 equal *tmp127 false
+  458 jump *label93 lessThanEq :start_reactor:reactor_num 1
   459 label *label96
   460 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
-    * op lessThan *tmp129 :start_reactor:fuel_stored *tmp128
-    * jump *label93 equal *tmp129 false
+  461 jump *label93 greaterThanEq :start_reactor:fuel_stored *tmp128
   462 jump *label95 always
   463 label *label95
   464 control enabled :start_reactor:reactor false
 
   466 print "\n"
   467 jump *label94 always
   468 label *label93
-    * op lessThanEq *tmp133 :start_reactor:fuel 1
-    * jump *label97 equal *tmp133 false
+  469 jump *label97 greaterThan :start_reactor:fuel 1
   470 control enabled :start_reactor:reactor false
   471 print "STOP fuel low"
   472 print "\n"
   473 jump *label98 always
   474 label *label97
-    * op lessThanEq *tmp137 :start_reactor:cryo .CRYO_ABORT
-    * jump *label99 equal *tmp137 false
+  475 jump *label99 greaterThan :start_reactor:cryo .CRYO_ABORT
   476 control enabled :start_reactor:reactor false
   477 print "STOP out of cryo"
   478 print "\n"
   479 jump *label100 always
   480 label *label99
-    * op lessThan *tmp141 :start_reactor:secs 30
-    * jump *label101 equal *tmp141 false
+  481 jump *label101 greaterThanEq :start_reactor:secs 30
   482 set :calc_charge_req:reactor :start_reactor:reactor
   483 set :calc_charge_req:time :start_reactor:t_startup
   484 setaddr :calc_charge_req*retaddr *label103 (h:*label103)
 
   486 label *label103
   487 set :start_reactor:charge_req :calc_charge_req*retval
   488 op sub *tmp143 :start_reactor:charge :start_reactor:charge_req
-    * op lessThan *tmp144 *tmp143 .PWR_ABORT
-    * jump *label104 equal *tmp144 false
+  489 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   490 label *label107
-    * op lessThan *tmp145 :start_reactor:surplus .FLOW_ABORT
-    * jump *label104 equal *tmp145 false
+  491 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
   492 jump *label106 always
   493 label *label106
   494 control enabled :start_reactor:reactor false
 
   508 label *label105
   509 jump *label102 always
   510 label *label101
-    * op lessThan *tmp150 :start_reactor:charge .PWR_ABANDON
-    * jump *label108 equal *tmp150 false
+  511 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
   512 label *label111
-    * op lessThan *tmp151 :start_reactor:surplus .FLOW_ABORT
-    * jump *label108 equal *tmp151 false
+  513 jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
   514 jump *label110 always
   515 label *label110
   516 control enabled :start_reactor:reactor false
 
   542 op max :start_reactor:flow_units -0.1 *tmp161
   543 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
   544 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
-    * op lessThan *tmp165 .REACTORS_DESIRED :start_reactor:reactor_num
-    * jump *label112 equal *tmp165 false
+  545 jump *label112 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
   546 print "IDLE"
   547 print "\n"
   548 set :start_reactor:supply_fuel false
   549 jump *label113 always
   550 label *label112
   551 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
-    * op lessThan *tmp168 *tmp167 1
-    * jump *label114 equal *tmp168 false
+  552 jump *label114 greaterThanEq *tmp167 1
   553 op mul *tmp170 :start_reactor:flow_units 1000
   554 op floor *tmp171 *tmp170
   555 op div :start_reactor:flow *tmp171 10
 
   567 label *label114
   568 jump *label116 equal :start_reactor:fuel_on false
   569 label *label119
-    * op lessThan *tmp176 :start_reactor:fuel .FUEL_REQ
-    * jump *label116 equal *tmp176 false
+  570 jump *label116 greaterThanEq :start_reactor:fuel .FUEL_REQ
   571 jump *label118 always
   572 label *label118
   573 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
-    * op greaterThan *tmp179 *tmp178 .FUEL_REQ
-    * jump *label120 equal *tmp179 false
+  574 jump *label120 lessThanEq *tmp178 .FUEL_REQ
   575 print "WAIT fuel"
   576 print "\n"
   577 jump *label121 always
 
   582 jump *label117 always
   583 label *label116
   584 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
-    * op lessThan *tmp182 :start_reactor:fuel_stored *tmp181
-    * jump *label122 equal *tmp182 false
+  585 jump *label122 greaterThanEq :start_reactor:fuel_stored *tmp181
   586 print "WAIT buffer fuel"
   587 print "\n"
   588 jump *label123 always
   589 label *label122
-    * op lessThan *tmp184 :start_reactor:cryo :start_reactor:cryo_req
-    * jump *label124 equal *tmp184 false
+  590 jump *label124 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
   591 print "WAIT cryo"
   592 print "\n"
   593 jump *label125 always
 
   604 label *label90
   605 label *label88
   606 sensor *tmp188 :start_reactor:reactor @enabled
-    * op notEqual *tmp189 :start_reactor:enabled *tmp188
-    * jump *label126 equal *tmp189 false
+  607 jump *label126 equal :start_reactor:enabled *tmp188
   608 set .RET_T_STARTUP @tick
   609 jump *label127 always
   610 label *label126
 
   617 end
   618 label *label4
   619 radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
-    * op notEqual *tmp193 :check_radar:enemy_found null
-    * jump *label129 equal *tmp193 false
+  620 jump *label129 equal :check_radar:enemy_found null
   621 control enabled projector1 true
   622 control enabled projector2 true
   623 control config .ULD_IN_1 .FUEL_OFF

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-17 instructions):
 
    61 label *label15
    62 sensor *tmp10 switch1 @enabled
    63 jump *label12 notEqual *tmp10 false
-    * jump *label14 always
    64 label *label14
    65 print "User has disabled emergency switch"
    66 print "\n"
    67 set *tmp8 true
    68 jump *label11 always
-    * jump *label13 always
    69 label *label12
    70 label *label13
    71 set *tmp8 false
 
   173 jump *label31 notEqual :fuel_3 false
   174 label *label33
   175 jump *label31 notEqual :fuel_4 false
-    * jump *label32 always
   176 label *label32
   177 jump *label29 equal :fuel_5 false
   178 label *label31
 
   191 jump *label37 notEqual :fuel_1 false
   192 label *label39
   193 jump *label37 notEqual :fuel_2 false
-    * jump *label38 always
   194 label *label38
   195 jump *label35 equal :fuel_many false
   196 label *label37
 
   273 jump *label53 lessThanEq :diff_generators:stored_pc 0.9
   274 label *label56
   275 jump *label53 greaterThanEq .START_POWER_REQ 10
-    * jump *label55 always
   276 label *label55
   277 print "Differential now idle."
   278 print "\n"
 
   323 label *label66
   324 op add *tmp69 .GENERATOR_OUTPUT .GOAL_BUFFER
   325 jump *label63 lessThanEq .AVG_SURPLUS *tmp69
-    * jump *label65 always
   326 label *label65
   327 jump *label67 lessThanEq .REACTORS_DESIRED 2
   328 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   329 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
-    * jump *label68 always
   330 label *label67
   331 label *label68
-    * jump *label64 always
   332 label *label63
   333 label *label64
   334 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
   335 label *label72
   336 op mul *tmp75 .GOAL_BUFFER 0.8
   337 jump *label69 greaterThanEq .AVG_SURPLUS *tmp75
-    * jump *label71 always
   338 label *label71
   339 op sub *tmp78 .AVG_SURPLUS .GOAL_BUFFER
   340 op idiv *tmp79 *tmp78 .GENERATOR_OUTPUT
   341 op max :update_reactors_desired:needed 1 *tmp79
   342 op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
   343 op min .REACTORS_DESIRED 5 *tmp81
-    * jump *label70 always
   344 label *label69
   345 label *label70
   346 label *label62
 
   350 print .REACTORS_DESIRED
   351 print "/5 reactors."
   352 print "\n"
-    * jump *label74 always
   353 label *label73
   354 label *label74
   355 printflush message1
 
   395 label *label84
   396 set :calc_charge_req*retval 0
   397 jump *label81 always
-    * jump *label83 always
   398 label *label82
   399 label *label83
   400 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
 
   447 label *label96
   448 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
   449 jump *label93 greaterThanEq :start_reactor:fuel_stored *tmp128
-    * jump *label95 always
   450 label *label95
   451 control enabled :start_reactor:reactor false
   452 print "STOP system fuel low"
 
   476 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   477 label *label107
   478 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * jump *label106 always
   479 label *label106
   480 control enabled :start_reactor:reactor false
   481 print "START FAIL battery"
 
   497 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
   498 label *label111
   499 jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * jump *label110 always
   500 label *label110
   501 control enabled :start_reactor:reactor false
   502 print "ABANDON - battery crit"
 
   553 jump *label116 equal :start_reactor:fuel_on false
   554 label *label119
   555 jump *label116 greaterThanEq :start_reactor:fuel .FUEL_REQ
-    * jump *label118 always
   556 label *label118
   557 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   558 jump *label120 lessThanEq *tmp178 .FUEL_REQ
 
   590 sensor *tmp188 :start_reactor:reactor @enabled
   591 jump *label126 equal :start_reactor:enabled *tmp188
   592 set .RET_T_STARTUP @tick
-    * jump *label127 always
   593 label *label126
   594 label *label127
   595 set :start_reactor*retval :start_reactor:supply_fuel

Modifications by Iterated phase, Expression Optimization, pass 1, iteration 1 (-3 instructions):
 
   399 label *label83
   400 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   401 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
-    * op mul *tmp102 *tmp101 25
-    * op floor :calc_charge_req:charge_req *tmp102
+  402 op idiv :calc_charge_req:charge_req *tmp101 0.04
   403 set :calc_charge_req*retval :calc_charge_req:charge_req
   404 jump *label81 always
   405 set :calc_charge_req*retval null
 
   534 label *label112
   535 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
   536 jump *label114 greaterThanEq *tmp167 1
-    * op mul *tmp170 :start_reactor:flow_units 1000
-    * op floor *tmp171 *tmp170
+  537 op idiv *tmp171 :start_reactor:flow_units 0.001
   538 op div :start_reactor:flow *tmp171 10
-    * op mul *tmp173 :start_reactor:charge_units 1000
-    * op floor *tmp174 *tmp173
+  539 op idiv *tmp174 :start_reactor:charge_units 0.001
   540 op div :start_reactor:charge *tmp174 10
   541 print "WAIT power. (%"
   542 print :start_reactor:charge

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-7 instructions):
 
    33 set *tmp5 @tick
    34 label *label6
    35 set :start_time *tmp5
-    * set :t_startup1 :start_time
-    * set :t_startup2 :start_time
-    * set :t_startup3 :start_time
-    * set :t_startup4 :start_time
-    * set :t_startup5 :start_time
-    * set .RET_T_STARTUP :t_startup1
+   36 set :t_startup1 *tmp5
+   37 set :t_startup2 *tmp5
+   38 set :t_startup3 *tmp5
+   39 set :t_startup4 *tmp5
+   40 set :t_startup5 *tmp5
+   41 set .RET_T_STARTUP :start_time
    42 set .REACTORS_DESIRED 5
    43 set .AVG_SURPLUS 500
    44 label *label7
 
    52 set .TOWER cyclone1
    53 set .CONTAINER vault1
    54 set .NODE node1
-    * set :check_radar:unit .TOWER
+   55 set :check_radar:unit cyclone1
    56 setaddr :check_radar*retaddr *label10 (h:*label10)
    57 call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
    58 label *label10
 
    70 label *label13
    71 set *tmp8 false
    72 jump *label11 always
-    * set *tmp8 null
    73 label *label11
-    * op or :emerg_shutdown :emerg_shutdown *tmp8
+   74 op or :emerg_shutdown :check_radar*retval *tmp8
    75 set :calc_charge_req:reactor reactor1
    76 set :calc_charge_req:time :t_startup1
    77 setaddr :calc_charge_req*retaddr *label16 (h:*label16)
 
   112 label *label21
   113 set :fuel_1 :start_reactor*retval
   114 set :t_startup1 .RET_T_STARTUP
-    * set :update_fuel:fuel :fuel_1
-    * set :update_fuel:uld_in .ULD_IN_1
-    * set :update_fuel:uld_out .ULD_OUT_1
+  115 set :update_fuel:fuel :start_reactor*retval
+  116 set :update_fuel:uld_in unloader1
+  117 set :update_fuel:uld_out unloader2
   118 setaddr :update_fuel*retaddr *label22 (h:*label22)
   119 call *label1 *invalid :update_fuel*retval (m:*label22) (h:*label22)
   120 label *label22
 
   128 label *label23
   129 set :fuel_2 :start_reactor*retval
   130 set :t_startup2 .RET_T_STARTUP
-    * set :update_fuel:fuel :fuel_2
-    * set :update_fuel:uld_in .ULD_IN_2
-    * set :update_fuel:uld_out .ULD_OUT_2
+  131 set :update_fuel:fuel :start_reactor*retval
+  132 set :update_fuel:uld_in unloader3
+  133 set :update_fuel:uld_out unloader4
   134 setaddr :update_fuel*retaddr *label24 (h:*label24)
   135 call *label1 *invalid :update_fuel*retval (m:*label24) (h:*label24)
   136 label *label24
-    * set :check_radar:unit .TOWER
+  137 set :check_radar:unit cyclone1
   138 setaddr :check_radar*retaddr *label25 (h:*label25)
   139 call *label4 *invalid :check_radar*retval (m:*label25) (h:*label25)
   140 label *label25
 
   173 label *label33
   174 jump *label31 notEqual :fuel_4 false
   175 label *label32
-    * jump *label29 equal :fuel_5 false
+  176 jump *label29 equal :start_reactor*retval false
   177 label *label31
   178 set *tmp26 true
   179 jump *label30 always
 
   181 set *tmp26 false
   182 label *label30
   183 set :fuel_many *tmp26
-    * set :update_fuel:fuel :fuel_many
-    * set :update_fuel:uld_in .ULD_IN_MANY
-    * set :update_fuel:uld_out .ULD_OUT_MANY
+  184 set :update_fuel:fuel *tmp26
+  185 set :update_fuel:uld_in unloader5
+  186 set :update_fuel:uld_out unloader6
   187 setaddr :update_fuel*retaddr *label34 (h:*label34)
   188 call *label1 *invalid :update_fuel*retval (m:*label34) (h:*label34)
   189 label *label34
 
   191 label *label39
   192 jump *label37 notEqual :fuel_2 false
   193 label *label38
-    * jump *label35 equal :fuel_many false
+  194 jump *label35 equal *tmp26 false
   195 label *label37
   196 set *tmp28 true
   197 jump *label36 always
 
   200 label *label36
   201 set :throttle_blast:reactors_fueled *tmp28
   202 set :throttle_blast:emerg_shutdown :emerg_shutdown
-    * sensor *tmp30 .NODE @powerNetStored
+  203 sensor *tmp30 node1 @powerNetStored
   204 op floor :throttle_blast:charge *tmp30
-    * sensor *tmp32 .NODE @powerNetIn
-    * sensor *tmp33 .NODE @powerNetOut
+  205 sensor *tmp32 node1 @powerNetIn
+  206 sensor *tmp33 node1 @powerNetOut
   207 op sub *tmp34 *tmp32 *tmp33
   208 op floor :throttle_blast:surplus *tmp34
-    * sensor :throttle_blast:fuel_stored .CONTAINER @blast-compound
-    * jump *label44 greaterThanEq :throttle_blast:charge .PWR_ABORT
+  209 sensor :throttle_blast:fuel_stored vault1 @blast-compound
+  210 jump *label44 greaterThanEq :throttle_blast:charge 5000
   211 label *label45
-    * jump *label43 lessThan :throttle_blast:surplus .FLOW_ABORT
+  212 jump *label43 lessThan :throttle_blast:surplus -500
   213 label *label44
-    * jump *label41 equal :throttle_blast:emerg_shutdown false
+  214 jump *label41 equal :emerg_shutdown false
   215 label *label43
   216 set :throttle_blast:limit 0
   217 print "Central Fuel at "
   218 print :throttle_blast:fuel_stored
   219 print " "
   220 print "/ "
-    * print :throttle_blast:limit
+  221 print 0
   222 print " "
   223 print "- "
-    * jump *label46 equal :throttle_blast:emerg_shutdown false
+  224 jump *label46 equal :emerg_shutdown false
   225 print " Enemies detected."
   226 print "\n"
   227 jump *label47 always
 
   231 label *label47
   232 jump *label42 always
   233 label *label41
-    * jump *label48 notEqual :throttle_blast:reactors_fueled false
-    * set :throttle_blast:limit .FUEL_LIMIT_LOW
+  234 jump *label48 notEqual *tmp28 false
+  235 set :throttle_blast:limit 150
   236 print "Fuel "
   237 print :throttle_blast:fuel_stored
   238 print " "
   239 print "/ "
-    * print :throttle_blast:limit
+  240 print .FUEL_LIMIT_LOW
   241 print " "
   242 print "(due to emergency)"
   243 print "\n"
   244 jump *label49 always
   245 label *label48
-    * set :throttle_blast:limit .FUEL_LIMIT
+  246 set :throttle_blast:limit 800
   247 print "Fuel "
   248 print :throttle_blast:fuel_stored
   249 print " "
   250 print "/ "
-    * print :throttle_blast:limit
+  251 print .FUEL_LIMIT
   252 print "\"
   253 print "n"
   254 label *label49
   255 label *label42
   256 op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
   257 jump *label40 always
-    * set *tmp29 null
   258 label *label40
   259 set :feed_mixers *tmp29
-    * set *tmp44 .ULD_MIXER
-    * jump *label50 equal :feed_mixers false
-    * set *tmp46 .MIXER_IN
+  260 set *tmp44 unloader7
+  261 jump *label50 equal *tmp29 false
+  262 set *tmp46 @pyratite
   263 jump *label51 always
   264 label *label50
-    * set *tmp46 .FUEL_OFF
+  265 set *tmp46 @scrap
   266 label *label51
-    * control config *tmp44 *tmp46
-    * sensor *tmp48 .NODE @powerNetStored
-    * sensor *tmp49 .NODE @powerNetCapacity
+  267 control config .ULD_MIXER *tmp46
+  268 sensor *tmp48 node1 @powerNetStored
+  269 sensor *tmp49 node1 @powerNetCapacity
   270 op div :diff_generators:stored_pc *tmp48 *tmp49
   271 jump *label53 lessThanEq :diff_generators:stored_pc 0.9
   272 label *label56
 
   287 call *label0 *invalid :kilo*retval (m:*label57) (h:*label57)
   288 label *label57
   289 set :surplus :kilo*retval
-    * sensor :kilo:val .NODE @powerNetStored
+  290 sensor :kilo:val node1 @powerNetStored
   291 setaddr :kilo*retaddr *label58 (h:*label58)
   292 call *label0 *invalid :kilo*retval (m:*label58) (h:*label58)
   293 label *label58
 
   299 label *label61
   300 set :req :kilo*retval
   301 print "Req "
-    * print :req
+  302 print :kilo*retval
   303 print "kJ / "
   304 print :charge
   305 print "kJ. "
 
   311 print "Power "
   312 print :surplus
   313 print "kW, "
-    * print :charge
+  314 print :kilo*retval
   315 print "kJ"
   316 print "\n"
-    * sensor *tmp65 .NODE @powerNetStored
-    * sensor *tmp66 .NODE @powerNetCapacity
+  317 sensor *tmp65 node1 @powerNetStored
+  318 sensor *tmp66 node1 @powerNetCapacity
   319 op div :update_reactors_desired:stored *tmp65 *tmp66
   320 jump *label63 lessThanEq :update_reactors_desired:stored 0.98
   321 label *label66
-    * op add *tmp69 .GENERATOR_OUTPUT .GOAL_BUFFER
-    * jump *label63 lessThanEq .AVG_SURPLUS *tmp69
+  322 op add *tmp69 6500 10000
+  323 jump *label63 lessThanEq .AVG_SURPLUS 16500
   324 label *label65
   325 jump *label67 lessThanEq .REACTORS_DESIRED 2
   326 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
-    * op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
+  327 op sub .AVG_SURPLUS .AVG_SURPLUS 6500
   328 label *label67
   329 label *label68
   330 label *label63
   331 label *label64
   332 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
   333 label *label72
-    * op mul *tmp75 .GOAL_BUFFER 0.8
-    * jump *label69 greaterThanEq .AVG_SURPLUS *tmp75
+  334 op mul *tmp75 10000 0.8
+  335 jump *label69 greaterThanEq .AVG_SURPLUS 8000
   336 label *label71
-    * op sub *tmp78 .AVG_SURPLUS .GOAL_BUFFER
-    * op idiv *tmp79 *tmp78 .GENERATOR_OUTPUT
+  337 op sub *tmp78 .AVG_SURPLUS 10000
+  338 op idiv *tmp79 *tmp78 6500
   339 op max :update_reactors_desired:needed 1 *tmp79
   340 op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
   341 op min .REACTORS_DESIRED 5 *tmp81
 
   359 op idiv *tmp85 :kilo:val 100
   360 op div :kilo*retval *tmp85 10
   361 jump *label75 always
-    * set :kilo*retval null
   362 label *label75
   363 return :kilo*retaddr
   364 end
 
   370 label *label77
   371 set *tmp89 .FUEL_OFF
   372 label *label78
-    * control config *tmp87 *tmp89
+  373 control config :update_fuel:uld_in *tmp89
   374 set *tmp90 :update_fuel:uld_out
   375 jump *label79 notEqual :update_fuel:fuel false
   376 set *tmp93 .FUEL
 
   378 label *label79
   379 set *tmp93 .FUEL_OFF
   380 label *label80
-    * control config *tmp90 *tmp93
+  381 control config :update_fuel:uld_out *tmp93
   382 label *label76
   383 return :update_fuel*retaddr
   384 end
 
   399 op idiv :calc_charge_req:charge_req *tmp101 0.04
   400 set :calc_charge_req*retval :calc_charge_req:charge_req
   401 jump *label81 always
-    * set :calc_charge_req*retval null
   402 label *label81
   403 return :calc_charge_req*retaddr
   404 end
 
   467 call *label2 *invalid :calc_charge_req*retval (m:*label103) (h:*label103)
   468 label *label103
   469 set :start_reactor:charge_req :calc_charge_req*retval
-    * op sub *tmp143 :start_reactor:charge :start_reactor:charge_req
+  470 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   471 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   472 label *label107
   473 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
 
   483 print :start_reactor:time_left
   484 print " "
   485 print "secs, req "
-    * print :start_reactor:charge_req
+  486 print :calc_charge_req*retval
   487 print "J"
   488 print "\n"
   489 label *label105
 
   587 label *label127
   588 set :start_reactor*retval :start_reactor:supply_fuel
   589 jump *label86 always
-    * set :start_reactor*retval null
   590 label *label86
   591 return :start_reactor*retaddr
   592 end
 
   609 control enabled reactor5 false
   610 set :check_radar*retval true
   611 jump *label128 always
-    * set *tmp194 null
   612 jump *label130 always
   613 label *label129
   614 control enabled projector1 false
   615 control enabled projector2 false
   616 set :check_radar*retval false
   617 jump *label128 always
-    * set *tmp194 null
   618 label *label130
-    * set :check_radar*retval *tmp194
+  619 set :check_radar*retval null
   620 label *label128
   621 return :check_radar*retaddr
   622 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-17 instructions):
     0 printflush message1
     1 set .FUEL @blast-compound
     2 set .FUEL_OFF @scrap
-    * set .MIXER_IN @pyratite
     3 set .PWR_REQ 23000
     4 set .FLOW_REQ 2000
     5 set .PWR_ABANDON 2000
 
    11 set .FUEL_LIMIT_LOW 150
    12 set .FUEL_LIMIT 800
    13 set .FUEL_TOT_ABORT 15
-    * set .GENERATOR_OUTPUT 6500
-    * set .GOAL_BUFFER 10000
    14 set .CRYO_REQ 3
    15 set .CRYO_REQ_EA 2
    16 set .CRYO_ABORT 1
 
    35 set :t_startup3 *tmp5
    36 set :t_startup4 *tmp5
    37 set :t_startup5 *tmp5
-    * set .RET_T_STARTUP :start_time
+   38 set .RET_T_STARTUP *tmp5
    39 set .REACTORS_DESIRED 5
    40 set .AVG_SURPLUS 500
    41 label *label7
 
    46 set .ULD_IN_MANY unloader5
    47 set .ULD_OUT_MANY unloader6
    48 set .ULD_MIXER unloader7
-    * set .TOWER cyclone1
    49 set .CONTAINER vault1
    50 set .NODE node1
    51 set :check_radar:unit cyclone1
    52 setaddr :check_radar*retaddr *label10 (h:*label10)
    53 call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
    54 label *label10
-    * set :emerg_shutdown :check_radar*retval
    55 jump *label12 equal switch1 null
    56 label *label15
    57 sensor *tmp10 switch1 @enabled
 
   175 label *label29
   176 set *tmp26 false
   177 label *label30
-    * set :fuel_many *tmp26
   178 set :update_fuel:fuel *tmp26
   179 set :update_fuel:uld_in unloader5
   180 set :update_fuel:uld_out unloader6
 
   192 label *label35
   193 set *tmp28 false
   194 label *label36
-    * set :throttle_blast:reactors_fueled *tmp28
-    * set :throttle_blast:emerg_shutdown :emerg_shutdown
   195 sensor *tmp30 node1 @powerNetStored
   196 op floor :throttle_blast:charge *tmp30
   197 sensor *tmp32 node1 @powerNetIn
 
   229 print :throttle_blast:fuel_stored
   230 print " "
   231 print "/ "
-    * print .FUEL_LIMIT_LOW
+  232 print 150
   233 print " "
   234 print "(due to emergency)"
   235 print "\n"
 
   240 print :throttle_blast:fuel_stored
   241 print " "
   242 print "/ "
-    * print .FUEL_LIMIT
+  243 print 800
   244 print "\"
   245 print "n"
   246 label *label49
 
   248 op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
   249 jump *label40 always
   250 label *label40
-    * set :feed_mixers *tmp29
-    * set *tmp44 unloader7
   251 jump *label50 equal *tmp29 false
   252 set *tmp46 @pyratite
   253 jump *label51 always
   254 label *label50
   255 set *tmp46 @scrap
   256 label *label51
-    * control config .ULD_MIXER *tmp46
+  257 control config unloader7 *tmp46
   258 sensor *tmp48 node1 @powerNetStored
   259 sensor *tmp49 node1 @powerNetCapacity
   260 op div :diff_generators:stored_pc *tmp48 *tmp49
 
   287 setaddr :kilo*retaddr *label61 (h:*label61)
   288 call *label0 *invalid :kilo*retval (m:*label61) (h:*label61)
   289 label *label61
-    * set :req :kilo*retval
   290 print "Req "
   291 print :kilo*retval
   292 print "kJ / "
 
   308 op div :update_reactors_desired:stored *tmp65 *tmp66
   309 jump *label63 lessThanEq :update_reactors_desired:stored 0.98
   310 label *label66
-    * op add *tmp69 6500 10000
   311 jump *label63 lessThanEq .AVG_SURPLUS 16500
   312 label *label65
   313 jump *label67 lessThanEq .REACTORS_DESIRED 2
 
   319 label *label64
   320 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
   321 label *label72
-    * op mul *tmp75 10000 0.8
   322 jump *label69 greaterThanEq .AVG_SURPLUS 8000
   323 label *label71
   324 op sub *tmp78 .AVG_SURPLUS 10000
 
   350 return :kilo*retaddr
   351 end
   352 label *label1
-    * set *tmp87 :update_fuel:uld_in
   353 jump *label77 equal :update_fuel:fuel false
   354 set *tmp89 .FUEL
   355 jump *label78 always
 
   357 set *tmp89 .FUEL_OFF
   358 label *label78
   359 control config :update_fuel:uld_in *tmp89
-    * set *tmp90 :update_fuel:uld_out
   360 jump *label79 notEqual :update_fuel:fuel false
   361 set *tmp93 .FUEL
   362 jump *label80 always
 
   451 setaddr :calc_charge_req*retaddr *label103 (h:*label103)
   452 call *label2 *invalid :calc_charge_req*retval (m:*label103) (h:*label103)
   453 label *label103
-    * set :start_reactor:charge_req :calc_charge_req*retval
   454 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   455 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   456 label *label107
 
   600 set :check_radar*retval false
   601 jump *label128 always
   602 label *label130
-    * set :check_radar*retval null
   603 label *label128
   604 return :check_radar*retaddr
   605 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-3 instructions):
 
     8 set .FLOW_ABORT -500
     9 set .FUEL_REQ 10
    10 set .FUEL_TOT_REQ 45
-    * set .FUEL_LIMIT_LOW 150
-    * set .FUEL_LIMIT 800
    11 set .FUEL_TOT_ABORT 15
    12 set .CRYO_REQ 3
    13 set .CRYO_REQ_EA 2
 
    27 label *label5
    28 set *tmp5 @tick
    29 label *label6
-    * set :start_time *tmp5
    30 set :t_startup1 *tmp5
    31 set :t_startup2 *tmp5
    32 set :t_startup3 *tmp5

Modifications by Iterated phase, Boolean Optimization, pass 1, iteration 1 (-20 instructions):
 
    21 sensor *tmp1 node1 @powerNetOut
    22 op sub *tmp2 *tmp0 *tmp1
    23 op floor :surplus *tmp2
-    * jump *label5 lessThanEq :surplus 10000
-    * op sub *tmp5 @tick 3600
-    * jump *label6 always
-    * label *label5
-    * set *tmp5 @tick
-    * label *label6
+   24 op sub *tmp218 @tick 3600
+   25 select *tmp5 greaterThan :surplus 10000 *tmp218 @tick
    26 set :t_startup1 *tmp5
    27 set :t_startup2 *tmp5
    28 set :t_startup3 *tmp5
 
    46 call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
    47 label *label10
    48 jump *label12 equal switch1 null
-    * label *label15
    49 sensor *tmp10 switch1 @enabled
    50 jump *label12 notEqual *tmp10 false
-    * label *label14
    51 print "User has disabled emergency switch"
    52 print "\n"
    53 set *tmp8 true
 
   155 label *label28
   156 set :fuel_5 :start_reactor*retval
   157 set :t_startup5 .RET_T_STARTUP
-    * jump *label31 notEqual :fuel_3 false
-    * label *label33
-    * jump *label31 notEqual :fuel_4 false
-    * label *label32
-    * jump *label29 equal :start_reactor*retval false
-    * label *label31
-    * set *tmp26 true
-    * jump *label30 always
-    * label *label29
-    * set *tmp26 false
-    * label *label30
+  158 op or *tmp219 :fuel_3 :fuel_4
+  159 op or *tmp26 *tmp219 :start_reactor*retval
   160 set :update_fuel:fuel *tmp26
   161 set :update_fuel:uld_in unloader5
   162 set :update_fuel:uld_out unloader6
   163 setaddr :update_fuel*retaddr *label34 (h:*label34)
   164 call *label1 *invalid :update_fuel*retval (m:*label34) (h:*label34)
   165 label *label34
-    * jump *label37 notEqual :fuel_1 false
-    * label *label39
-    * jump *label37 notEqual :fuel_2 false
-    * label *label38
-    * jump *label35 equal *tmp26 false
-    * label *label37
-    * set *tmp28 true
-    * jump *label36 always
-    * label *label35
-    * set *tmp28 false
-    * label *label36
+  166 op or *tmp220 :fuel_1 :fuel_2
+  167 op or *tmp28 *tmp220 *tmp26
   168 sensor *tmp30 node1 @powerNetStored
   169 op floor :throttle_blast:charge *tmp30
   170 sensor *tmp32 node1 @powerNetIn
 
   173 op floor :throttle_blast:surplus *tmp34
   174 sensor :throttle_blast:fuel_stored vault1 @blast-compound
   175 jump *label44 greaterThanEq :throttle_blast:charge 5000
-    * label *label45
   176 jump *label43 lessThan :throttle_blast:surplus -500
   177 label *label44
   178 jump *label41 equal :emerg_shutdown false
 
   220 op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
   221 jump *label40 always
   222 label *label40
-    * jump *label50 equal *tmp29 false
-    * set *tmp46 @pyratite
-    * jump *label51 always
-    * label *label50
-    * set *tmp46 @scrap
-    * label *label51
+  223 select *tmp46 notEqual *tmp29 false @pyratite @scrap
   224 control config unloader7 *tmp46
   225 sensor *tmp48 node1 @powerNetStored
   226 sensor *tmp49 node1 @powerNetCapacity
   227 op div :diff_generators:stored_pc *tmp48 *tmp49
   228 jump *label53 lessThanEq :diff_generators:stored_pc 0.9
-    * label *label56
   229 jump *label53 greaterThanEq .START_POWER_REQ 10
-    * label *label55
   230 print "Differential now idle."
   231 print "\n"
   232 control enabled generator1 false
 
   272 sensor *tmp66 node1 @powerNetCapacity
   273 op div :update_reactors_desired:stored *tmp65 *tmp66
   274 jump *label63 lessThanEq :update_reactors_desired:stored 0.98
-    * label *label66
   275 jump *label63 lessThanEq .AVG_SURPLUS 16500
-    * label *label65
   276 jump *label67 lessThanEq .REACTORS_DESIRED 2
   277 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   278 op sub .AVG_SURPLUS .AVG_SURPLUS 6500
 
   281 label *label63
   282 label *label64
   283 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
-    * label *label72
   284 jump *label69 greaterThanEq .AVG_SURPLUS 8000
-    * label *label71
   285 op sub *tmp78 .AVG_SURPLUS 10000
   286 op idiv *tmp79 *tmp78 6500
   287 op max :update_reactors_desired:needed 1 *tmp79
 
   311 return :kilo*retaddr
   312 end
   313 label *label1
-    * jump *label77 equal :update_fuel:fuel false
-    * set *tmp89 .FUEL
-    * jump *label78 always
-    * label *label77
-    * set *tmp89 .FUEL_OFF
-    * label *label78
+  314 select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
   315 control config :update_fuel:uld_in *tmp89
-    * jump *label79 notEqual :update_fuel:fuel false
-    * set *tmp93 .FUEL
-    * jump *label80 always
-    * label *label79
-    * set *tmp93 .FUEL_OFF
-    * label *label80
+  316 select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
   317 control config :update_fuel:uld_out *tmp93
   318 label *label76
   319 return :update_fuel*retaddr
 
   322 op sub *tmp94 @tick :calc_charge_req:time
   323 op idiv :calc_charge_req:secs *tmp94 60
   324 jump *label84 greaterThan :calc_charge_req:secs 30
-    * label *label85
   325 sensor *tmp97 :calc_charge_req:reactor @enabled
   326 jump *label82 notEqual *tmp97 false
   327 label *label84
 
   374 jump *label92 always
   375 label *label91
   376 jump *label93 lessThanEq :start_reactor:reactor_num 1
-    * label *label96
   377 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
   378 jump *label93 greaterThanEq :start_reactor:fuel_stored *tmp128
-    * label *label95
   379 control enabled :start_reactor:reactor false
   380 print "STOP system fuel low"
   381 print "\n"
 
   401 label *label103
   402 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   403 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
-    * label *label107
   404 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * label *label106
   405 control enabled :start_reactor:reactor false
   406 print "START FAIL battery"
   407 print "\n"
 
   420 jump *label102 always
   421 label *label101
   422 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
-    * label *label111
   423 jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * label *label110
   424 control enabled :start_reactor:reactor false
   425 print "ABANDON - battery crit"
   426 print "\n"
 
   472 jump *label115 always
   473 label *label114
   474 jump *label116 equal :start_reactor:fuel_on false
-    * label *label119
   475 jump *label116 greaterThanEq :start_reactor:fuel .FUEL_REQ
-    * label *label118
   476 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   477 jump *label120 lessThanEq *tmp178 .FUEL_REQ
   478 print "WAIT fuel"
 
   506 label *label113
   507 label *label90
   508 label *label88
-    * sensor *tmp188 :start_reactor:reactor @enabled
-    * jump *label126 equal :start_reactor:enabled *tmp188
-    * set .RET_T_STARTUP @tick
-    * label *label126
-    * label *label127
+  509 sensor *tmp188 :start_reactor:reactor @enabled
+  510 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick .RET_T_STARTUP
   511 set :start_reactor*retval :start_reactor:supply_fuel
   512 jump *label86 always
   513 label *label86

Modifications by Inline function 'kilo' defined at line 117:1 (-2 instructions):
 
   238 label *label54
   239 label *label52
   240 set :kilo:val .AVG_SURPLUS
-    * setaddr :kilo*retaddr *label57 (h:*label57)
-    * call *label0 *invalid :kilo*retval (m:*label57) (h:*label57)
-    * label *label57
+  241 label *label133
+  242 op idiv *tmp85 :kilo:val 100
+  243 op div :kilo*retval *tmp85 10
+  244 jump *label134 always
+  245 label *label134
   246 set :surplus :kilo*retval
   247 sensor :kilo:val node1 @powerNetStored
-    * setaddr :kilo*retaddr *label58 (h:*label58)
-    * call *label0 *invalid :kilo*retval (m:*label58) (h:*label58)
-    * label *label58
+  248 label *label135
+  249 op idiv *tmp85 :kilo:val 100
+  250 op div :kilo*retval *tmp85 10
+  251 jump *label136 always
+  252 label *label136
   253 set :charge :kilo*retval
   254 jump *label59 lessThanEq .START_POWER_REQ 0
   255 set :kilo:val .START_POWER_REQ
-    * setaddr :kilo*retaddr *label61 (h:*label61)
-    * call *label0 *invalid :kilo*retval (m:*label61) (h:*label61)
-    * label *label61
+  256 label *label137
+  257 op idiv *tmp85 :kilo:val 100
+  258 op div :kilo*retval *tmp85 10
+  259 jump *label138 always
+  260 label *label138
   261 print "Req "
   262 print :kilo*retval
   263 print "kJ / "
 
   309 jump *label7 always
   310 label *label9
   311 end
-    * label *label0
-    * op idiv *tmp85 :kilo:val 100
-    * op div :kilo*retval *tmp85 10
-    * jump *label75 always
-    * label *label75
-    * return :kilo*retaddr
-    * end
   312 label *label1
   313 select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
   314 control config :update_fuel:uld_in *tmp89

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   239 label *label52
   240 set :kilo:val .AVG_SURPLUS
   241 label *label133
-    * op idiv *tmp85 :kilo:val 100
+  242 op idiv *tmp85 .AVG_SURPLUS 100
   243 op div :kilo*retval *tmp85 10
   244 jump *label134 always
   245 label *label134
 
   254 jump *label59 lessThanEq .START_POWER_REQ 0
   255 set :kilo:val .START_POWER_REQ
   256 label *label137
-    * op idiv *tmp85 :kilo:val 100
+  257 op idiv *tmp85 .START_POWER_REQ 100
   258 op div :kilo*retval *tmp85 10
   259 jump *label138 always
   260 label *label138

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-2 instructions):
 
   237 control enabled generator2 true
   238 label *label54
   239 label *label52
-    * set :kilo:val .AVG_SURPLUS
   240 label *label133
   241 op idiv *tmp85 .AVG_SURPLUS 100
   242 op div :kilo*retval *tmp85 10
 
   251 label *label136
   252 set :charge :kilo*retval
   253 jump *label59 lessThanEq .START_POWER_REQ 0
-    * set :kilo:val .START_POWER_REQ
   254 label *label137
   255 op idiv *tmp85 .START_POWER_REQ 100
   256 op div :kilo*retval *tmp85 10

Modifications by Inline function 'update_fuel' defined at line 121:1:
 
   101 set :update_fuel:fuel :start_reactor*retval
   102 set :update_fuel:uld_in unloader1
   103 set :update_fuel:uld_out unloader2
-    * setaddr :update_fuel*retaddr *label22 (h:*label22)
-    * call *label1 *invalid :update_fuel*retval (m:*label22) (h:*label22)
-    * label *label22
+  104 label *label139
+  105 select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
+  106 control config :update_fuel:uld_in *tmp89
+  107 select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
+  108 control config :update_fuel:uld_out *tmp93
+  109 label *label140
   110 set :start_reactor:reactor reactor2
   111 set :start_reactor:reactor_num 2
   112 set :start_reactor:emerg_shutdown :emerg_shutdown
 
   120 set :update_fuel:fuel :start_reactor*retval
   121 set :update_fuel:uld_in unloader3
   122 set :update_fuel:uld_out unloader4
-    * setaddr :update_fuel*retaddr *label24 (h:*label24)
-    * call *label1 *invalid :update_fuel*retval (m:*label24) (h:*label24)
-    * label *label24
+  123 label *label141
+  124 select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
+  125 control config :update_fuel:uld_in *tmp89
+  126 select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
+  127 control config :update_fuel:uld_out *tmp93
+  128 label *label142
   129 set :check_radar:unit cyclone1
   130 setaddr :check_radar*retaddr *label25 (h:*label25)
   131 call *label4 *invalid :check_radar*retval (m:*label25) (h:*label25)
 
   166 set :update_fuel:fuel *tmp26
   167 set :update_fuel:uld_in unloader5
   168 set :update_fuel:uld_out unloader6
-    * setaddr :update_fuel*retaddr *label34 (h:*label34)
-    * call *label1 *invalid :update_fuel*retval (m:*label34) (h:*label34)
-    * label *label34
+  169 label *label143
+  170 select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
+  171 control config :update_fuel:uld_in *tmp89
+  172 select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
+  173 control config :update_fuel:uld_out *tmp93
+  174 label *label144
   175 op or *tmp220 :fuel_1 :fuel_2
   176 op or *tmp28 *tmp220 *tmp26
   177 sensor *tmp30 node1 @powerNetStored
 
   316 jump *label7 always
   317 label *label9
   318 end
-    * label *label1
-    * select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_in *tmp89
-    * select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_out *tmp93
-    * label *label76
-    * return :update_fuel*retaddr
-    * end
   319 label *label2
   320 op sub *tmp94 @tick :calc_charge_req:time
   321 op idiv :calc_charge_req:secs *tmp94 60

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   102 set :update_fuel:uld_in unloader1
   103 set :update_fuel:uld_out unloader2
   104 label *label139
-    * select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_in *tmp89
-    * select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_out *tmp93
+  105 select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
+  106 control config unloader1 *tmp89
+  107 select *tmp93 equal :start_reactor*retval false @blast-compound @scrap
+  108 control config unloader2 *tmp93
   109 label *label140
   110 set :start_reactor:reactor reactor2
   111 set :start_reactor:reactor_num 2
 
   121 set :update_fuel:uld_in unloader3
   122 set :update_fuel:uld_out unloader4
   123 label *label141
-    * select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_in *tmp89
-    * select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_out *tmp93
+  124 select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
+  125 control config unloader3 *tmp89
+  126 select *tmp93 equal :start_reactor*retval false @blast-compound @scrap
+  127 control config unloader4 *tmp93
   128 label *label142
   129 set :check_radar:unit cyclone1
   130 setaddr :check_radar*retaddr *label25 (h:*label25)
 
   167 set :update_fuel:uld_in unloader5
   168 set :update_fuel:uld_out unloader6
   169 label *label143
-    * select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_in *tmp89
-    * select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_out *tmp93
+  170 select *tmp89 notEqual *tmp26 false @blast-compound @scrap
+  171 control config unloader5 *tmp89
+  172 select *tmp93 equal *tmp26 false @blast-compound @scrap
+  173 control config unloader6 *tmp93
   174 label *label144
   175 op or *tmp220 :fuel_1 :fuel_2
   176 op or *tmp28 *tmp220 *tmp26

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-9 instructions):
 
    98 label *label21
    99 set :fuel_1 :start_reactor*retval
   100 set :t_startup1 .RET_T_STARTUP
-    * set :update_fuel:fuel :start_reactor*retval
-    * set :update_fuel:uld_in unloader1
-    * set :update_fuel:uld_out unloader2
   101 label *label139
   102 select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
   103 control config unloader1 *tmp89
 
   114 label *label23
   115 set :fuel_2 :start_reactor*retval
   116 set :t_startup2 .RET_T_STARTUP
-    * set :update_fuel:fuel :start_reactor*retval
-    * set :update_fuel:uld_in unloader3
-    * set :update_fuel:uld_out unloader4
   117 label *label141
   118 select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
   119 control config unloader3 *tmp89
 
   157 set :t_startup5 .RET_T_STARTUP
   158 op or *tmp219 :fuel_3 :fuel_4
   159 op or *tmp26 *tmp219 :start_reactor*retval
-    * set :update_fuel:fuel *tmp26
-    * set :update_fuel:uld_in unloader5
-    * set :update_fuel:uld_out unloader6
   160 label *label143
   161 select *tmp89 notEqual *tmp26 false @blast-compound @scrap
   162 control config unloader5 *tmp89

Modifications by Inline function 'calc_charge_req' defined at line 126:1 (+46 instructions):
 
    60 op or :emerg_shutdown :check_radar*retval *tmp8
    61 set :calc_charge_req:reactor reactor1
    62 set :calc_charge_req:time :t_startup1
-    * setaddr :calc_charge_req*retaddr *label16 (h:*label16)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label16) (h:*label16)
-    * label *label16
+   63 label *label145
+   64 op sub *tmp94 @tick :calc_charge_req:time
+   65 op idiv :calc_charge_req:secs *tmp94 60
+   66 jump *label146 greaterThan :calc_charge_req:secs 30
+   67 sensor *tmp97 :calc_charge_req:reactor @enabled
+   68 jump *label147 notEqual *tmp97 false
+   69 label *label146
+   70 set :calc_charge_req*retval 0
+   71 jump *label149 always
+   72 label *label147
+   73 label *label148
+   74 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+   75 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+   76 op idiv :calc_charge_req:charge_req *tmp101 0.04
+   77 set :calc_charge_req*retval :calc_charge_req:charge_req
+   78 jump *label149 always
+   79 label *label149
    80 set .START_POWER_REQ :calc_charge_req*retval
    81 set :calc_charge_req:reactor reactor2
    82 set :calc_charge_req:time :t_startup2
-    * setaddr :calc_charge_req*retaddr *label17 (h:*label17)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label17) (h:*label17)
-    * label *label17
+   83 label *label150
+   84 op sub *tmp94 @tick :calc_charge_req:time
+   85 op idiv :calc_charge_req:secs *tmp94 60
+   86 jump *label151 greaterThan :calc_charge_req:secs 30
+   87 sensor *tmp97 :calc_charge_req:reactor @enabled
+   88 jump *label152 notEqual *tmp97 false
+   89 label *label151
+   90 set :calc_charge_req*retval 0
+   91 jump *label154 always
+   92 label *label152
+   93 label *label153
+   94 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+   95 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+   96 op idiv :calc_charge_req:charge_req *tmp101 0.04
+   97 set :calc_charge_req*retval :calc_charge_req:charge_req
+   98 jump *label154 always
+   99 label *label154
   100 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   101 set :calc_charge_req:reactor reactor3
   102 set :calc_charge_req:time :t_startup3
-    * setaddr :calc_charge_req*retaddr *label18 (h:*label18)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label18) (h:*label18)
-    * label *label18
+  103 label *label155
+  104 op sub *tmp94 @tick :calc_charge_req:time
+  105 op idiv :calc_charge_req:secs *tmp94 60
+  106 jump *label156 greaterThan :calc_charge_req:secs 30
+  107 sensor *tmp97 :calc_charge_req:reactor @enabled
+  108 jump *label157 notEqual *tmp97 false
+  109 label *label156
+  110 set :calc_charge_req*retval 0
+  111 jump *label159 always
+  112 label *label157
+  113 label *label158
+  114 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  115 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  116 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  117 set :calc_charge_req*retval :calc_charge_req:charge_req
+  118 jump *label159 always
+  119 label *label159
   120 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   121 set :calc_charge_req:reactor reactor4
   122 set :calc_charge_req:time :t_startup4
-    * setaddr :calc_charge_req*retaddr *label19 (h:*label19)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label19) (h:*label19)
-    * label *label19
+  123 label *label160
+  124 op sub *tmp94 @tick :calc_charge_req:time
+  125 op idiv :calc_charge_req:secs *tmp94 60
+  126 jump *label161 greaterThan :calc_charge_req:secs 30
+  127 sensor *tmp97 :calc_charge_req:reactor @enabled
+  128 jump *label162 notEqual *tmp97 false
+  129 label *label161
+  130 set :calc_charge_req*retval 0
+  131 jump *label164 always
+  132 label *label162
+  133 label *label163
+  134 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  135 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  136 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  137 set :calc_charge_req*retval :calc_charge_req:charge_req
+  138 jump *label164 always
+  139 label *label164
   140 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   141 set :calc_charge_req:reactor reactor5
   142 set :calc_charge_req:time :t_startup5
-    * setaddr :calc_charge_req*retaddr *label20 (h:*label20)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label20) (h:*label20)
-    * label *label20
+  143 label *label165
+  144 op sub *tmp94 @tick :calc_charge_req:time
+  145 op idiv :calc_charge_req:secs *tmp94 60
+  146 jump *label166 greaterThan :calc_charge_req:secs 30
+  147 sensor *tmp97 :calc_charge_req:reactor @enabled
+  148 jump *label167 notEqual *tmp97 false
+  149 label *label166
+  150 set :calc_charge_req*retval 0
+  151 jump *label169 always
+  152 label *label167
+  153 label *label168
+  154 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  155 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  156 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  157 set :calc_charge_req*retval :calc_charge_req:charge_req
+  158 jump *label169 always
+  159 label *label169
   160 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   161 set :start_reactor:reactor reactor1
   162 set :start_reactor:reactor_num 1
 
   377 jump *label7 always
   378 label *label9
   379 end
-    * label *label2
-    * op sub *tmp94 @tick :calc_charge_req:time
-    * op idiv :calc_charge_req:secs *tmp94 60
-    * jump *label84 greaterThan :calc_charge_req:secs 30
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
-    * jump *label82 notEqual *tmp97 false
-    * label *label84
-    * set :calc_charge_req*retval 0
-    * jump *label81 always
-    * label *label82
-    * label *label83
-    * op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
-    * op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
-    * op idiv :calc_charge_req:charge_req *tmp101 0.04
-    * set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label81 always
-    * label *label81
-    * return :calc_charge_req*retaddr
-    * end
   380 label *label3
   381 set .RET_T_STARTUP :start_reactor:t_startup
   382 op sub *tmp104 @tick :start_reactor:t_startup
 
   436 jump *label101 greaterThanEq :start_reactor:secs 30
   437 set :calc_charge_req:reactor :start_reactor:reactor
   438 set :calc_charge_req:time :start_reactor:t_startup
-    * setaddr :calc_charge_req*retaddr *label103 (h:*label103)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label103) (h:*label103)
-    * label *label103
+  439 label *label170
+  440 op sub *tmp94 @tick :calc_charge_req:time
+  441 op idiv :calc_charge_req:secs *tmp94 60
+  442 jump *label171 greaterThan :calc_charge_req:secs 30
+  443 sensor *tmp97 :calc_charge_req:reactor @enabled
+  444 jump *label172 notEqual *tmp97 false
+  445 label *label171
+  446 set :calc_charge_req*retval 0
+  447 jump *label174 always
+  448 label *label172
+  449 label *label173
+  450 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  451 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  452 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  453 set :calc_charge_req*retval :calc_charge_req:charge_req
+  454 jump *label174 always
+  455 label *label174
   456 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   457 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   458 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    61 set :calc_charge_req:reactor reactor1
    62 set :calc_charge_req:time :t_startup1
    63 label *label145
-    * op sub *tmp94 @tick :calc_charge_req:time
+   64 op sub *tmp94 @tick :t_startup1
    65 op idiv :calc_charge_req:secs *tmp94 60
    66 jump *label146 greaterThan :calc_charge_req:secs 30
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+   67 sensor *tmp97 reactor1 @enabled
    68 jump *label147 notEqual *tmp97 false
    69 label *label146
    70 set :calc_charge_req*retval 0
 
    81 set :calc_charge_req:reactor reactor2
    82 set :calc_charge_req:time :t_startup2
    83 label *label150
-    * op sub *tmp94 @tick :calc_charge_req:time
+   84 op sub *tmp94 @tick :t_startup2
    85 op idiv :calc_charge_req:secs *tmp94 60
    86 jump *label151 greaterThan :calc_charge_req:secs 30
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+   87 sensor *tmp97 reactor2 @enabled
    88 jump *label152 notEqual *tmp97 false
    89 label *label151
    90 set :calc_charge_req*retval 0
 
   101 set :calc_charge_req:reactor reactor3
   102 set :calc_charge_req:time :t_startup3
   103 label *label155
-    * op sub *tmp94 @tick :calc_charge_req:time
+  104 op sub *tmp94 @tick :t_startup3
   105 op idiv :calc_charge_req:secs *tmp94 60
   106 jump *label156 greaterThan :calc_charge_req:secs 30
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+  107 sensor *tmp97 reactor3 @enabled
   108 jump *label157 notEqual *tmp97 false
   109 label *label156
   110 set :calc_charge_req*retval 0
 
   121 set :calc_charge_req:reactor reactor4
   122 set :calc_charge_req:time :t_startup4
   123 label *label160
-    * op sub *tmp94 @tick :calc_charge_req:time
+  124 op sub *tmp94 @tick :t_startup4
   125 op idiv :calc_charge_req:secs *tmp94 60
   126 jump *label161 greaterThan :calc_charge_req:secs 30
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+  127 sensor *tmp97 reactor4 @enabled
   128 jump *label162 notEqual *tmp97 false
   129 label *label161
   130 set :calc_charge_req*retval 0
 
   141 set :calc_charge_req:reactor reactor5
   142 set :calc_charge_req:time :t_startup5
   143 label *label165
-    * op sub *tmp94 @tick :calc_charge_req:time
+  144 op sub *tmp94 @tick :t_startup5
   145 op idiv :calc_charge_req:secs *tmp94 60
   146 jump *label166 greaterThan :calc_charge_req:secs 30
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+  147 sensor *tmp97 reactor5 @enabled
   148 jump *label167 notEqual *tmp97 false
   149 label *label166
   150 set :calc_charge_req*retval 0
 
   437 set :calc_charge_req:reactor :start_reactor:reactor
   438 set :calc_charge_req:time :start_reactor:t_startup
   439 label *label170
-    * op sub *tmp94 @tick :calc_charge_req:time
+  440 op sub *tmp94 @tick :start_reactor:t_startup
   441 op idiv :calc_charge_req:secs *tmp94 60
   442 jump *label171 greaterThan :calc_charge_req:secs 30
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+  443 sensor *tmp97 :start_reactor:reactor @enabled
   444 jump *label172 notEqual *tmp97 false
   445 label *label171
   446 set :calc_charge_req*retval 0
 
   561 label *label90
   562 label *label88
   563 sensor *tmp188 :start_reactor:reactor @enabled
-    * select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick .RET_T_STARTUP
+  564 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
   565 set :start_reactor*retval :start_reactor:supply_fuel
   566 jump *label86 always
   567 label *label86

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-13 instructions):
 
    58 jump *label11 always
    59 label *label11
    60 op or :emerg_shutdown :check_radar*retval *tmp8
-    * set :calc_charge_req:reactor reactor1
-    * set :calc_charge_req:time :t_startup1
    61 label *label145
    62 op sub *tmp94 @tick :t_startup1
    63 op idiv :calc_charge_req:secs *tmp94 60
 
    76 jump *label149 always
    77 label *label149
    78 set .START_POWER_REQ :calc_charge_req*retval
-    * set :calc_charge_req:reactor reactor2
-    * set :calc_charge_req:time :t_startup2
    79 label *label150
    80 op sub *tmp94 @tick :t_startup2
    81 op idiv :calc_charge_req:secs *tmp94 60
 
    94 jump *label154 always
    95 label *label154
    96 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * set :calc_charge_req:reactor reactor3
-    * set :calc_charge_req:time :t_startup3
    97 label *label155
    98 op sub *tmp94 @tick :t_startup3
    99 op idiv :calc_charge_req:secs *tmp94 60
 
   112 jump *label159 always
   113 label *label159
   114 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * set :calc_charge_req:reactor reactor4
-    * set :calc_charge_req:time :t_startup4
   115 label *label160
   116 op sub *tmp94 @tick :t_startup4
   117 op idiv :calc_charge_req:secs *tmp94 60
 
   130 jump *label164 always
   131 label *label164
   132 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * set :calc_charge_req:reactor reactor5
-    * set :calc_charge_req:time :t_startup5
   133 label *label165
   134 op sub *tmp94 @tick :t_startup5
   135 op idiv :calc_charge_req:secs *tmp94 60
 
   368 label *label9
   369 end
   370 label *label3
-    * set .RET_T_STARTUP :start_reactor:t_startup
   371 op sub *tmp104 @tick :start_reactor:t_startup
   372 op idiv :start_reactor:secs *tmp104 60
   373 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
 
   423 jump *label100 always
   424 label *label99
   425 jump *label101 greaterThanEq :start_reactor:secs 30
-    * set :calc_charge_req:reactor :start_reactor:reactor
-    * set :calc_charge_req:time :start_reactor:t_startup
   426 label *label170
   427 op sub *tmp94 @tick :start_reactor:t_startup
   428 op idiv :calc_charge_req:secs *tmp94 60

Modifications by Inline function 'check_radar' defined at line 259:1 (+17 instructions):
 
    42 set .CONTAINER vault1
    43 set .NODE node1
    44 set :check_radar:unit cyclone1
-    * setaddr :check_radar*retaddr *label10 (h:*label10)
-    * call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
-    * label *label10
+   45 label *label175
+   46 radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
+   47 jump *label176 equal :check_radar:enemy_found null
+   48 control enabled projector1 true
+   49 control enabled projector2 true
+   50 control config .ULD_IN_1 .FUEL_OFF
+   51 control config .ULD_OUT_1 .FUEL
+   52 control config .ULD_IN_2 .FUEL_OFF
+   53 control config .ULD_OUT_2 .FUEL
+   54 control config .ULD_IN_MANY .FUEL_OFF
+   55 control config .ULD_OUT_MANY .FUEL
+   56 control config .ULD_MIXER .FUEL_OFF
+   57 control enabled reactor1 false
+   58 control enabled reactor2 false
+   59 control enabled reactor3 false
+   60 control enabled reactor4 false
+   61 control enabled reactor5 false
+   62 set :check_radar*retval true
+   63 jump *label178 always
+   64 jump *label177 always
+   65 label *label176
+   66 control enabled projector1 false
+   67 control enabled projector2 false
+   68 set :check_radar*retval false
+   69 jump *label178 always
+   70 label *label177
+   71 label *label178
    72 jump *label12 equal switch1 null
    73 sensor *tmp10 switch1 @enabled
    74 jump *label12 notEqual *tmp10 false
 
   205 control config unloader4 *tmp93
   206 label *label142
   207 set :check_radar:unit cyclone1
-    * setaddr :check_radar*retaddr *label25 (h:*label25)
-    * call *label4 *invalid :check_radar*retval (m:*label25) (h:*label25)
-    * label *label25
+  208 label *label179
+  209 radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
+  210 jump *label180 equal :check_radar:enemy_found null
+  211 control enabled projector1 true
+  212 control enabled projector2 true
+  213 control config .ULD_IN_1 .FUEL_OFF
+  214 control config .ULD_OUT_1 .FUEL
+  215 control config .ULD_IN_2 .FUEL_OFF
+  216 control config .ULD_OUT_2 .FUEL
+  217 control config .ULD_IN_MANY .FUEL_OFF
+  218 control config .ULD_OUT_MANY .FUEL
+  219 control config .ULD_MIXER .FUEL_OFF
+  220 control enabled reactor1 false
+  221 control enabled reactor2 false
+  222 control enabled reactor3 false
+  223 control enabled reactor4 false
+  224 control enabled reactor5 false
+  225 set :check_radar*retval true
+  226 jump *label182 always
+  227 jump *label181 always
+  228 label *label180
+  229 control enabled projector1 false
+  230 control enabled projector2 false
+  231 set :check_radar*retval false
+  232 jump *label182 always
+  233 label *label181
+  234 label *label182
   235 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
   236 set :start_reactor:reactor reactor3
   237 set :start_reactor:reactor_num 3
 
   602 label *label86
   603 return :start_reactor*retaddr
   604 end
-    * label *label4
-    * radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
-    * jump *label129 equal :check_radar:enemy_found null
-    * control enabled projector1 true
-    * control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
-    * control enabled reactor1 false
-    * control enabled reactor2 false
-    * control enabled reactor3 false
-    * control enabled reactor4 false
-    * control enabled reactor5 false
-    * set :check_radar*retval true
-    * jump *label128 always
-    * jump *label130 always
-    * label *label129
-    * control enabled projector1 false
-    * control enabled projector2 false
-    * set :check_radar*retval false
-    * jump *label128 always
-    * label *label130
-    * label *label128
-    * return :check_radar*retaddr
-    * end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    43 set .NODE node1
    44 set :check_radar:unit cyclone1
    45 label *label175
-    * radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
+   46 radar enemy any any health cyclone1 1 :check_radar:enemy_found
    47 jump *label176 equal :check_radar:enemy_found null
    48 control enabled projector1 true
    49 control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
+   50 control config unloader1 @scrap
+   51 control config unloader2 @blast-compound
+   52 control config unloader3 @scrap
+   53 control config unloader4 @blast-compound
+   54 control config unloader5 @scrap
+   55 control config unloader6 @blast-compound
+   56 control config unloader7 @scrap
    57 control enabled reactor1 false
    58 control enabled reactor2 false
    59 control enabled reactor3 false
 
   206 label *label142
   207 set :check_radar:unit cyclone1
   208 label *label179
-    * radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
+  209 radar enemy any any health cyclone1 1 :check_radar:enemy_found
   210 jump *label180 equal :check_radar:enemy_found null
   211 control enabled projector1 true
   212 control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
+  213 control config unloader1 @scrap
+  214 control config unloader2 @blast-compound
+  215 control config unloader3 @scrap
+  216 control config unloader4 @blast-compound
+  217 control config unloader5 @scrap
+  218 control config unloader6 @blast-compound
+  219 control config unloader7 @scrap
   220 control enabled reactor1 false
   221 control enabled reactor2 false
   222 control enabled reactor3 false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-11 instructions):
     0 printflush message1
-    * set .FUEL @blast-compound
-    * set .FUEL_OFF @scrap
     1 set .PWR_REQ 23000
     2 set .FLOW_REQ 2000
     3 set .PWR_ABANDON 2000
 
    30 set .REACTORS_DESIRED 5
    31 set .AVG_SURPLUS 500
    32 label *label7
-    * set .ULD_IN_1 unloader1
-    * set .ULD_OUT_1 unloader2
-    * set .ULD_IN_2 unloader3
-    * set .ULD_OUT_2 unloader4
-    * set .ULD_IN_MANY unloader5
-    * set .ULD_OUT_MANY unloader6
-    * set .ULD_MIXER unloader7
    33 set .CONTAINER vault1
    34 set .NODE node1
-    * set :check_radar:unit cyclone1
    35 label *label175
    36 radar enemy any any health cyclone1 1 :check_radar:enemy_found
    37 jump *label176 equal :check_radar:enemy_found null
 
   194 select *tmp93 equal :start_reactor*retval false @blast-compound @scrap
   195 control config unloader4 *tmp93
   196 label *label142
-    * set :check_radar:unit cyclone1
   197 label *label179
   198 radar enemy any any health cyclone1 1 :check_radar:enemy_found
   199 jump *label180 equal :check_radar:enemy_found null

Modifications by Inline function call at line 80:14 (+146 instructions):
 
   167 set :start_reactor:emerg_shutdown :emerg_shutdown
   168 set :start_reactor:fuel_on :fuel_1
   169 set :start_reactor:t_startup :t_startup1
-    * setaddr :start_reactor*retaddr *label21 (h:*label21)
-    * call *label3 *invalid :start_reactor*retval (m:*label21) (h:*label21)
-    * label *label21
+  170 label *label183
+  171 op sub *tmp104 @tick :start_reactor:t_startup
+  172 op idiv :start_reactor:secs *tmp104 60
+  173 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  174 set :start_reactor:supply_fuel true
+  175 sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
+  176 sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
+  177 sensor *tmp109 .NODE @powerNetStored
+  178 op floor :start_reactor:charge *tmp109
+  179 sensor *tmp111 .NODE @powerNetIn
+  180 sensor *tmp112 .NODE @powerNetOut
+  181 op sub *tmp113 *tmp111 *tmp112
+  182 op floor :start_reactor:surplus *tmp113
+  183 op mul *tmp115 .AVG_SURPLUS 0.8
+  184 op mul *tmp116 :start_reactor:surplus 0.2
+  185 op add .AVG_SURPLUS *tmp115 *tmp116
+  186 sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  187 print "#"
+  188 print :start_reactor:reactor_num
+  189 print " "
+  190 print "- "
+  191 jump *label184 equal :start_reactor:emerg_shutdown false
+  192 control enabled :start_reactor:reactor false
+  193 print "emergency mode"
+  194 print "\n"
+  195 set :start_reactor:supply_fuel false
+  196 jump *label218 always
+  197 label *label184
+  198 jump *label204 equal :start_reactor:enabled false
+  199 jump *label185 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  200 control enabled :start_reactor:reactor false
+  201 print "STOP unwanted"
+  202 print "\n"
+  203 jump *label203 always
+  204 label *label185
+  205 jump *label186 lessThanEq :start_reactor:reactor_num 1
+  206 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
+  207 jump *label186 greaterThanEq :start_reactor:fuel_stored *tmp128
+  208 control enabled :start_reactor:reactor false
+  209 print "STOP system fuel low"
+  210 print "\n"
+  211 jump *label202 always
+  212 label *label186
+  213 jump *label187 greaterThan :start_reactor:fuel 1
+  214 control enabled :start_reactor:reactor false
+  215 print "STOP fuel low"
+  216 print "\n"
+  217 jump *label201 always
+  218 label *label187
+  219 jump *label188 greaterThan :start_reactor:cryo .CRYO_ABORT
+  220 control enabled :start_reactor:reactor false
+  221 print "STOP out of cryo"
+  222 print "\n"
+  223 jump *label200 always
+  224 label *label188
+  225 jump *label196 greaterThanEq :start_reactor:secs 30
+  226 label *label189
+  227 op sub *tmp94 @tick :start_reactor:t_startup
+  228 op idiv :calc_charge_req:secs *tmp94 60
+  229 jump *label190 greaterThan :calc_charge_req:secs 30
+  230 sensor *tmp97 :start_reactor:reactor @enabled
+  231 jump *label191 notEqual *tmp97 false
+  232 label *label190
+  233 set :calc_charge_req*retval 0
+  234 jump *label193 always
+  235 label *label191
+  236 label *label192
+  237 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  238 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  239 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  240 set :calc_charge_req*retval :calc_charge_req:charge_req
+  241 jump *label193 always
+  242 label *label193
+  243 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
+  244 jump *label194 greaterThanEq *tmp143 .PWR_ABORT
+  245 jump *label194 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  246 control enabled :start_reactor:reactor false
+  247 print "START FAIL battery"
+  248 print "\n"
+  249 set :start_reactor:supply_fuel false
+  250 jump *label195 always
+  251 label *label194
+  252 op sub :start_reactor:time_left 30 :start_reactor:secs
+  253 print "Starting "
+  254 print :start_reactor:time_left
+  255 print " "
+  256 print "secs, req "
+  257 print :calc_charge_req*retval
+  258 print "J"
+  259 print "\n"
+  260 label *label195
+  261 jump *label199 always
+  262 label *label196
+  263 jump *label197 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  264 jump *label197 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  265 control enabled :start_reactor:reactor false
+  266 print "ABANDON - battery crit"
+  267 print "\n"
+  268 set :start_reactor:supply_fuel false
+  269 jump *label198 always
+  270 label *label197
+  271 op idiv :start_reactor:mins :start_reactor:secs 6
+  272 op div :start_reactor:mins :start_reactor:mins 10
+  273 print "RUN "
+  274 print :start_reactor:mins
+  275 print " "
+  276 print "mins"
+  277 print "\n"
+  278 label *label198
+  279 label *label199
+  280 label *label200
+  281 label *label201
+  282 label *label202
+  283 label *label203
+  284 jump *label217 always
+  285 label *label204
+  286 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
+  287 op sub *tmp158 *tmp157 .PWR_ABORT
+  288 op div *tmp159 *tmp158 .PWR_REQ
+  289 op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
+  290 op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  291 op max :start_reactor:flow_units -0.1 *tmp161
+  292 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
+  293 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
+  294 jump *label205 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  295 print "IDLE"
+  296 print "\n"
+  297 set :start_reactor:supply_fuel false
+  298 jump *label216 always
+  299 label *label205
+  300 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
+  301 jump *label206 greaterThanEq *tmp167 1
+  302 op idiv *tmp171 :start_reactor:flow_units 0.001
+  303 op div :start_reactor:flow *tmp171 10
+  304 op idiv *tmp174 :start_reactor:charge_units 0.001
+  305 op div :start_reactor:charge *tmp174 10
+  306 print "WAIT power. (%"
+  307 print :start_reactor:charge
+  308 print "J + %"
+  309 print :start_reactor:flow
+  310 print "W)"
+  311 print "\n"
+  312 set :start_reactor:supply_fuel false
+  313 jump *label215 always
+  314 label *label206
+  315 jump *label209 equal :start_reactor:fuel_on false
+  316 jump *label209 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  317 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
+  318 jump *label207 lessThanEq *tmp178 .FUEL_REQ
+  319 print "WAIT fuel"
+  320 print "\n"
+  321 jump *label208 always
+  322 label *label207
+  323 print "WAIT system fuel"
+  324 print "\n"
+  325 label *label208
+  326 jump *label214 always
+  327 label *label209
+  328 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
+  329 jump *label210 greaterThanEq :start_reactor:fuel_stored *tmp181
+  330 print "WAIT buffer fuel"
+  331 print "\n"
+  332 jump *label213 always
+  333 label *label210
+  334 jump *label211 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  335 print "WAIT cryo"
+  336 print "\n"
+  337 jump *label212 always
+  338 label *label211
+  339 print "STARTUP"
+  340 print "\n"
+  341 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  342 control enabled :start_reactor:reactor true
+  343 label *label212
+  344 label *label213
+  345 label *label214
+  346 label *label215
+  347 label *label216
+  348 label *label217
+  349 label *label218
+  350 sensor *tmp188 :start_reactor:reactor @enabled
+  351 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  352 set :start_reactor*retval :start_reactor:supply_fuel
+  353 jump *label219 always
+  354 label *label219
   355 set :fuel_1 :start_reactor*retval
   356 set :t_startup1 .RET_T_STARTUP
   357 label *label139

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-1 instructions):
 
    26 set :t_startup3 *tmp5
    27 set :t_startup4 *tmp5
    28 set :t_startup5 *tmp5
-    * set .RET_T_STARTUP *tmp5
    29 set .REACTORS_DESIRED 5
    30 set .AVG_SURPLUS 500
    31 label *label7
 
   167 set :start_reactor:fuel_on :fuel_1
   168 set :start_reactor:t_startup :t_startup1
   169 label *label183
-    * op sub *tmp104 @tick :start_reactor:t_startup
+  170 op sub *tmp104 @tick :t_startup1
   171 op idiv :start_reactor:secs *tmp104 60
-    * sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  172 sensor :start_reactor:fuel reactor1 @blast-compound
   173 set :start_reactor:supply_fuel true
-    * sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
-    * sensor *tmp109 .NODE @powerNetStored
+  174 sensor :start_reactor:fuel_stored vault1 @blast-compound
+  175 sensor :start_reactor:cryo reactor1 @cryofluid
+  176 sensor *tmp109 node1 @powerNetStored
   177 op floor :start_reactor:charge *tmp109
-    * sensor *tmp111 .NODE @powerNetIn
-    * sensor *tmp112 .NODE @powerNetOut
+  178 sensor *tmp111 node1 @powerNetIn
+  179 sensor *tmp112 node1 @powerNetOut
   180 op sub *tmp113 *tmp111 *tmp112
   181 op floor :start_reactor:surplus *tmp113
   182 op mul *tmp115 .AVG_SURPLUS 0.8
   183 op mul *tmp116 :start_reactor:surplus 0.2
   184 op add .AVG_SURPLUS *tmp115 *tmp116
-    * sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  185 sensor :start_reactor:enabled reactor1 @enabled
   186 print "#"
-    * print :start_reactor:reactor_num
+  187 print 1
   188 print " "
   189 print "- "
-    * jump *label184 equal :start_reactor:emerg_shutdown false
-    * control enabled :start_reactor:reactor false
+  190 jump *label184 equal :emerg_shutdown false
+  191 control enabled reactor1 false
   192 print "emergency mode"
   193 print "\n"
   194 set :start_reactor:supply_fuel false
   195 jump *label218 always
   196 label *label184
   197 jump *label204 equal :start_reactor:enabled false
-    * jump *label185 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
-    * control enabled :start_reactor:reactor false
+  198 jump *label185 greaterThanEq .REACTORS_DESIRED 1
+  199 control enabled reactor1 false
   200 print "STOP unwanted"
   201 print "\n"
   202 jump *label203 always
   203 label *label185
-    * jump *label186 lessThanEq :start_reactor:reactor_num 1
-    * op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
-    * jump *label186 greaterThanEq :start_reactor:fuel_stored *tmp128
-    * control enabled :start_reactor:reactor false
+  204 jump *label186 lessThanEq 1 1
+  205 op mul *tmp128 15 1
+  206 jump *label186 greaterThanEq :start_reactor:fuel_stored 15
+  207 control enabled reactor1 false
   208 print "STOP system fuel low"
   209 print "\n"
   210 jump *label202 always
   211 label *label186
   212 jump *label187 greaterThan :start_reactor:fuel 1
-    * control enabled :start_reactor:reactor false
+  213 control enabled reactor1 false
   214 print "STOP fuel low"
   215 print "\n"
   216 jump *label201 always
   217 label *label187
-    * jump *label188 greaterThan :start_reactor:cryo .CRYO_ABORT
-    * control enabled :start_reactor:reactor false
+  218 jump *label188 greaterThan :start_reactor:cryo 1
+  219 control enabled reactor1 false
   220 print "STOP out of cryo"
   221 print "\n"
   222 jump *label200 always
   223 label *label188
   224 jump *label196 greaterThanEq :start_reactor:secs 30
   225 label *label189
-    * op sub *tmp94 @tick :start_reactor:t_startup
+  226 op sub *tmp94 @tick :t_startup1
   227 op idiv :calc_charge_req:secs *tmp94 60
   228 jump *label190 greaterThan :calc_charge_req:secs 30
-    * sensor *tmp97 :start_reactor:reactor @enabled
+  229 sensor *tmp97 reactor1 @enabled
   230 jump *label191 notEqual *tmp97 false
   231 label *label190
   232 set :calc_charge_req*retval 0
 
   240 jump *label193 always
   241 label *label193
   242 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
-    * jump *label194 greaterThanEq *tmp143 .PWR_ABORT
-    * jump *label194 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * control enabled :start_reactor:reactor false
+  243 jump *label194 greaterThanEq *tmp143 5000
+  244 jump *label194 greaterThanEq :start_reactor:surplus -500
+  245 control enabled reactor1 false
   246 print "START FAIL battery"
   247 print "\n"
   248 set :start_reactor:supply_fuel false
 
   259 label *label195
   260 jump *label199 always
   261 label *label196
-    * jump *label197 greaterThanEq :start_reactor:charge .PWR_ABANDON
-    * jump *label197 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * control enabled :start_reactor:reactor false
+  262 jump *label197 greaterThanEq :start_reactor:charge 2000
+  263 jump *label197 greaterThanEq :start_reactor:surplus -500
+  264 control enabled reactor1 false
   265 print "ABANDON - battery crit"
   266 print "\n"
   267 set :start_reactor:supply_fuel false
 
   283 jump *label217 always
   284 label *label204
   285 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
-    * op sub *tmp158 *tmp157 .PWR_ABORT
-    * op div *tmp159 *tmp158 .PWR_REQ
-    * op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
-    * op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  286 op sub *tmp158 *tmp157 5000
+  287 op div *tmp159 *tmp158 23000
+  288 op mul :start_reactor:charge_units *tmp159 0.6
+  289 op div *tmp161 :start_reactor:surplus 2000
   290 op max :start_reactor:flow_units -0.1 *tmp161
-    * op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
-    * op add :start_reactor:cryo_req .CRYO_REQ *tmp163
-    * jump *label205 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  291 op mul *tmp163 2 1
+  292 op add :start_reactor:cryo_req 3 2
+  293 jump *label205 greaterThanEq .REACTORS_DESIRED 1
   294 print "IDLE"
   295 print "\n"
   296 set :start_reactor:supply_fuel false
 
   311 set :start_reactor:supply_fuel false
   312 jump *label215 always
   313 label *label206
-    * jump *label209 equal :start_reactor:fuel_on false
-    * jump *label209 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  314 jump *label209 equal :fuel_1 false
+  315 jump *label209 greaterThanEq :start_reactor:fuel 10
   316 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
-    * jump *label207 lessThanEq *tmp178 .FUEL_REQ
+  317 jump *label207 lessThanEq *tmp178 10
   318 print "WAIT fuel"
   319 print "\n"
   320 jump *label208 always
 
   324 label *label208
   325 jump *label214 always
   326 label *label209
-    * op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
-    * jump *label210 greaterThanEq :start_reactor:fuel_stored *tmp181
+  327 op mul *tmp181 45 1
+  328 jump *label210 greaterThanEq :start_reactor:fuel_stored 45
   329 print "WAIT buffer fuel"
   330 print "\n"
   331 jump *label213 always
   332 label *label210
-    * jump *label211 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  333 jump *label211 greaterThanEq :start_reactor:cryo 5
   334 print "WAIT cryo"
   335 print "\n"
   336 jump *label212 always
   337 label *label211
   338 print "STARTUP"
   339 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor:reactor true
+  340 op add .START_POWER_REQ .START_POWER_REQ 23000
+  341 control enabled reactor1 true
   342 label *label212
   343 label *label213
   344 label *label214
 
   346 label *label216
   347 label *label217
   348 label *label218
-    * sensor *tmp188 :start_reactor:reactor @enabled
-    * select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  349 sensor *tmp188 reactor1 @enabled
+  350 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup1
   351 set :start_reactor*retval :start_reactor:supply_fuel
   352 jump *label219 always
   353 label *label219
-    * set :fuel_1 :start_reactor*retval
+  354 set :fuel_1 :start_reactor:supply_fuel
   355 set :t_startup1 .RET_T_STARTUP
   356 label *label139
-    * select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
+  357 select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
   358 control config unloader1 *tmp89
-    * select *tmp93 equal :start_reactor*retval false @blast-compound @scrap
+  359 select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
   360 control config unloader2 *tmp93
   361 label *label140
   362 set :start_reactor:reactor reactor2

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
   161 jump *label169 always
   162 label *label169
   163 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * set :start_reactor:reactor reactor1
-    * set :start_reactor:reactor_num 1
-    * set :start_reactor:emerg_shutdown :emerg_shutdown
-    * set :start_reactor:fuel_on :fuel_1
-    * set :start_reactor:t_startup :t_startup1
   164 label *label183
   165 op sub *tmp104 @tick :t_startup1
   166 op idiv :start_reactor:secs *tmp104 60
 
   280 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
   281 op sub *tmp158 *tmp157 5000
   282 op div *tmp159 *tmp158 23000
-    * op mul :start_reactor:charge_units *tmp159 0.6
+  283 op div :start_reactor:charge_units *tmp158 38333.333333333336
   284 op div *tmp161 :start_reactor:surplus 2000
   285 op max :start_reactor:flow_units -0.1 *tmp161
   286 op mul *tmp163 2 1
 
   343 label *label218
   344 sensor *tmp188 reactor1 @enabled
   345 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup1
-    * set :start_reactor*retval :start_reactor:supply_fuel
   346 jump *label219 always
   347 label *label219
   348 set :fuel_1 :start_reactor:supply_fuel

Modifications by Inline function call at line 84:14 (+146 instructions):
 
   358 set :start_reactor:emerg_shutdown :emerg_shutdown
   359 set :start_reactor:fuel_on :fuel_2
   360 set :start_reactor:t_startup :t_startup2
-    * setaddr :start_reactor*retaddr *label23 (h:*label23)
-    * call *label3 *invalid :start_reactor*retval (m:*label23) (h:*label23)
-    * label *label23
+  361 label *label220
+  362 op sub *tmp104 @tick :start_reactor:t_startup
+  363 op idiv :start_reactor:secs *tmp104 60
+  364 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  365 set :start_reactor:supply_fuel true
+  366 sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
+  367 sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
+  368 sensor *tmp109 .NODE @powerNetStored
+  369 op floor :start_reactor:charge *tmp109
+  370 sensor *tmp111 .NODE @powerNetIn
+  371 sensor *tmp112 .NODE @powerNetOut
+  372 op sub *tmp113 *tmp111 *tmp112
+  373 op floor :start_reactor:surplus *tmp113
+  374 op mul *tmp115 .AVG_SURPLUS 0.8
+  375 op mul *tmp116 :start_reactor:surplus 0.2
+  376 op add .AVG_SURPLUS *tmp115 *tmp116
+  377 sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  378 print "#"
+  379 print :start_reactor:reactor_num
+  380 print " "
+  381 print "- "
+  382 jump *label221 equal :start_reactor:emerg_shutdown false
+  383 control enabled :start_reactor:reactor false
+  384 print "emergency mode"
+  385 print "\n"
+  386 set :start_reactor:supply_fuel false
+  387 jump *label255 always
+  388 label *label221
+  389 jump *label241 equal :start_reactor:enabled false
+  390 jump *label222 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  391 control enabled :start_reactor:reactor false
+  392 print "STOP unwanted"
+  393 print "\n"
+  394 jump *label240 always
+  395 label *label222
+  396 jump *label223 lessThanEq :start_reactor:reactor_num 1
+  397 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
+  398 jump *label223 greaterThanEq :start_reactor:fuel_stored *tmp128
+  399 control enabled :start_reactor:reactor false
+  400 print "STOP system fuel low"
+  401 print "\n"
+  402 jump *label239 always
+  403 label *label223
+  404 jump *label224 greaterThan :start_reactor:fuel 1
+  405 control enabled :start_reactor:reactor false
+  406 print "STOP fuel low"
+  407 print "\n"
+  408 jump *label238 always
+  409 label *label224
+  410 jump *label225 greaterThan :start_reactor:cryo .CRYO_ABORT
+  411 control enabled :start_reactor:reactor false
+  412 print "STOP out of cryo"
+  413 print "\n"
+  414 jump *label237 always
+  415 label *label225
+  416 jump *label233 greaterThanEq :start_reactor:secs 30
+  417 label *label226
+  418 op sub *tmp94 @tick :start_reactor:t_startup
+  419 op idiv :calc_charge_req:secs *tmp94 60
+  420 jump *label227 greaterThan :calc_charge_req:secs 30
+  421 sensor *tmp97 :start_reactor:reactor @enabled
+  422 jump *label228 notEqual *tmp97 false
+  423 label *label227
+  424 set :calc_charge_req*retval 0
+  425 jump *label230 always
+  426 label *label228
+  427 label *label229
+  428 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  429 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  430 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  431 set :calc_charge_req*retval :calc_charge_req:charge_req
+  432 jump *label230 always
+  433 label *label230
+  434 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
+  435 jump *label231 greaterThanEq *tmp143 .PWR_ABORT
+  436 jump *label231 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  437 control enabled :start_reactor:reactor false
+  438 print "START FAIL battery"
+  439 print "\n"
+  440 set :start_reactor:supply_fuel false
+  441 jump *label232 always
+  442 label *label231
+  443 op sub :start_reactor:time_left 30 :start_reactor:secs
+  444 print "Starting "
+  445 print :start_reactor:time_left
+  446 print " "
+  447 print "secs, req "
+  448 print :calc_charge_req*retval
+  449 print "J"
+  450 print "\n"
+  451 label *label232
+  452 jump *label236 always
+  453 label *label233
+  454 jump *label234 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  455 jump *label234 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  456 control enabled :start_reactor:reactor false
+  457 print "ABANDON - battery crit"
+  458 print "\n"
+  459 set :start_reactor:supply_fuel false
+  460 jump *label235 always
+  461 label *label234
+  462 op idiv :start_reactor:mins :start_reactor:secs 6
+  463 op div :start_reactor:mins :start_reactor:mins 10
+  464 print "RUN "
+  465 print :start_reactor:mins
+  466 print " "
+  467 print "mins"
+  468 print "\n"
+  469 label *label235
+  470 label *label236
+  471 label *label237
+  472 label *label238
+  473 label *label239
+  474 label *label240
+  475 jump *label254 always
+  476 label *label241
+  477 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
+  478 op sub *tmp158 *tmp157 .PWR_ABORT
+  479 op div *tmp159 *tmp158 .PWR_REQ
+  480 op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
+  481 op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  482 op max :start_reactor:flow_units -0.1 *tmp161
+  483 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
+  484 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
+  485 jump *label242 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  486 print "IDLE"
+  487 print "\n"
+  488 set :start_reactor:supply_fuel false
+  489 jump *label253 always
+  490 label *label242
+  491 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
+  492 jump *label243 greaterThanEq *tmp167 1
+  493 op idiv *tmp171 :start_reactor:flow_units 0.001
+  494 op div :start_reactor:flow *tmp171 10
+  495 op idiv *tmp174 :start_reactor:charge_units 0.001
+  496 op div :start_reactor:charge *tmp174 10
+  497 print "WAIT power. (%"
+  498 print :start_reactor:charge
+  499 print "J + %"
+  500 print :start_reactor:flow
+  501 print "W)"
+  502 print "\n"
+  503 set :start_reactor:supply_fuel false
+  504 jump *label252 always
+  505 label *label243
+  506 jump *label246 equal :start_reactor:fuel_on false
+  507 jump *label246 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  508 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
+  509 jump *label244 lessThanEq *tmp178 .FUEL_REQ
+  510 print "WAIT fuel"
+  511 print "\n"
+  512 jump *label245 always
+  513 label *label244
+  514 print "WAIT system fuel"
+  515 print "\n"
+  516 label *label245
+  517 jump *label251 always
+  518 label *label246
+  519 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
+  520 jump *label247 greaterThanEq :start_reactor:fuel_stored *tmp181
+  521 print "WAIT buffer fuel"
+  522 print "\n"
+  523 jump *label250 always
+  524 label *label247
+  525 jump *label248 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  526 print "WAIT cryo"
+  527 print "\n"
+  528 jump *label249 always
+  529 label *label248
+  530 print "STARTUP"
+  531 print "\n"
+  532 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  533 control enabled :start_reactor:reactor true
+  534 label *label249
+  535 label *label250
+  536 label *label251
+  537 label *label252
+  538 label *label253
+  539 label *label254
+  540 label *label255
+  541 sensor *tmp188 :start_reactor:reactor @enabled
+  542 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  543 set :start_reactor*retval :start_reactor:supply_fuel
+  544 jump *label256 always
+  545 label *label256
   546 set :fuel_2 :start_reactor*retval
   547 set :t_startup2 .RET_T_STARTUP
   548 label *label141

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   359 set :start_reactor:fuel_on :fuel_2
   360 set :start_reactor:t_startup :t_startup2
   361 label *label220
-    * op sub *tmp104 @tick :start_reactor:t_startup
+  362 op sub *tmp104 @tick :t_startup2
   363 op idiv :start_reactor:secs *tmp104 60
-    * sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  364 sensor :start_reactor:fuel reactor2 @blast-compound
   365 set :start_reactor:supply_fuel true
-    * sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
-    * sensor *tmp109 .NODE @powerNetStored
+  366 sensor :start_reactor:fuel_stored vault1 @blast-compound
+  367 sensor :start_reactor:cryo reactor2 @cryofluid
+  368 sensor *tmp109 node1 @powerNetStored
   369 op floor :start_reactor:charge *tmp109
-    * sensor *tmp111 .NODE @powerNetIn
-    * sensor *tmp112 .NODE @powerNetOut
+  370 sensor *tmp111 node1 @powerNetIn
+  371 sensor *tmp112 node1 @powerNetOut
   372 op sub *tmp113 *tmp111 *tmp112
   373 op floor :start_reactor:surplus *tmp113
   374 op mul *tmp115 .AVG_SURPLUS 0.8
   375 op mul *tmp116 :start_reactor:surplus 0.2
   376 op add .AVG_SURPLUS *tmp115 *tmp116
-    * sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  377 sensor :start_reactor:enabled reactor2 @enabled
   378 print "#"
-    * print :start_reactor:reactor_num
+  379 print 2
   380 print " "
   381 print "- "
-    * jump *label221 equal :start_reactor:emerg_shutdown false
-    * control enabled :start_reactor:reactor false
+  382 jump *label221 equal :emerg_shutdown false
+  383 control enabled reactor2 false
   384 print "emergency mode"
   385 print "\n"
   386 set :start_reactor:supply_fuel false
   387 jump *label255 always
   388 label *label221
   389 jump *label241 equal :start_reactor:enabled false
-    * jump *label222 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
-    * control enabled :start_reactor:reactor false
+  390 jump *label222 greaterThanEq .REACTORS_DESIRED 2
+  391 control enabled reactor2 false
   392 print "STOP unwanted"
   393 print "\n"
   394 jump *label240 always
   395 label *label222
-    * jump *label223 lessThanEq :start_reactor:reactor_num 1
-    * op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
-    * jump *label223 greaterThanEq :start_reactor:fuel_stored *tmp128
-    * control enabled :start_reactor:reactor false
+  396 jump *label223 lessThanEq 2 1
+  397 op mul *tmp128 15 2
+  398 jump *label223 greaterThanEq :start_reactor:fuel_stored 30
+  399 control enabled reactor2 false
   400 print "STOP system fuel low"
   401 print "\n"
   402 jump *label239 always
   403 label *label223
   404 jump *label224 greaterThan :start_reactor:fuel 1
-    * control enabled :start_reactor:reactor false
+  405 control enabled reactor2 false
   406 print "STOP fuel low"
   407 print "\n"
   408 jump *label238 always
   409 label *label224
-    * jump *label225 greaterThan :start_reactor:cryo .CRYO_ABORT
-    * control enabled :start_reactor:reactor false
+  410 jump *label225 greaterThan :start_reactor:cryo 1
+  411 control enabled reactor2 false
   412 print "STOP out of cryo"
   413 print "\n"
   414 jump *label237 always
   415 label *label225
   416 jump *label233 greaterThanEq :start_reactor:secs 30
   417 label *label226
-    * op sub *tmp94 @tick :start_reactor:t_startup
+  418 op sub *tmp94 @tick :t_startup2
   419 op idiv :calc_charge_req:secs *tmp94 60
   420 jump *label227 greaterThan :calc_charge_req:secs 30
-    * sensor *tmp97 :start_reactor:reactor @enabled
+  421 sensor *tmp97 reactor2 @enabled
   422 jump *label228 notEqual *tmp97 false
   423 label *label227
   424 set :calc_charge_req*retval 0
 
   432 jump *label230 always
   433 label *label230
   434 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
-    * jump *label231 greaterThanEq *tmp143 .PWR_ABORT
-    * jump *label231 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * control enabled :start_reactor:reactor false
+  435 jump *label231 greaterThanEq *tmp143 5000
+  436 jump *label231 greaterThanEq :start_reactor:surplus -500
+  437 control enabled reactor2 false
   438 print "START FAIL battery"
   439 print "\n"
   440 set :start_reactor:supply_fuel false
 
   451 label *label232
   452 jump *label236 always
   453 label *label233
-    * jump *label234 greaterThanEq :start_reactor:charge .PWR_ABANDON
-    * jump *label234 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * control enabled :start_reactor:reactor false
+  454 jump *label234 greaterThanEq :start_reactor:charge 2000
+  455 jump *label234 greaterThanEq :start_reactor:surplus -500
+  456 control enabled reactor2 false
   457 print "ABANDON - battery crit"
   458 print "\n"
   459 set :start_reactor:supply_fuel false
 
   475 jump *label254 always
   476 label *label241
   477 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
-    * op sub *tmp158 *tmp157 .PWR_ABORT
-    * op div *tmp159 *tmp158 .PWR_REQ
-    * op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
-    * op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  478 op sub *tmp158 *tmp157 5000
+  479 op div *tmp159 *tmp158 23000
+  480 op mul :start_reactor:charge_units *tmp159 0.6
+  481 op div *tmp161 :start_reactor:surplus 2000
   482 op max :start_reactor:flow_units -0.1 *tmp161
-    * op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
-    * op add :start_reactor:cryo_req .CRYO_REQ *tmp163
-    * jump *label242 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  483 op mul *tmp163 2 2
+  484 op add :start_reactor:cryo_req 3 4
+  485 jump *label242 greaterThanEq .REACTORS_DESIRED 2
   486 print "IDLE"
   487 print "\n"
   488 set :start_reactor:supply_fuel false
 
   503 set :start_reactor:supply_fuel false
   504 jump *label252 always
   505 label *label243
-    * jump *label246 equal :start_reactor:fuel_on false
-    * jump *label246 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  506 jump *label246 equal :fuel_2 false
+  507 jump *label246 greaterThanEq :start_reactor:fuel 10
   508 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
-    * jump *label244 lessThanEq *tmp178 .FUEL_REQ
+  509 jump *label244 lessThanEq *tmp178 10
   510 print "WAIT fuel"
   511 print "\n"
   512 jump *label245 always
 
   516 label *label245
   517 jump *label251 always
   518 label *label246
-    * op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
-    * jump *label247 greaterThanEq :start_reactor:fuel_stored *tmp181
+  519 op mul *tmp181 45 2
+  520 jump *label247 greaterThanEq :start_reactor:fuel_stored 90
   521 print "WAIT buffer fuel"
   522 print "\n"
   523 jump *label250 always
   524 label *label247
-    * jump *label248 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  525 jump *label248 greaterThanEq :start_reactor:cryo 7
   526 print "WAIT cryo"
   527 print "\n"
   528 jump *label249 always
   529 label *label248
   530 print "STARTUP"
   531 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor:reactor true
+  532 op add .START_POWER_REQ .START_POWER_REQ 23000
+  533 control enabled reactor2 true
   534 label *label249
   535 label *label250
   536 label *label251
 
   538 label *label253
   539 label *label254
   540 label *label255
-    * sensor *tmp188 :start_reactor:reactor @enabled
-    * select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  541 sensor *tmp188 reactor2 @enabled
+  542 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup2
   543 set :start_reactor*retval :start_reactor:supply_fuel
   544 jump *label256 always
   545 label *label256
-    * set :fuel_2 :start_reactor*retval
+  546 set :fuel_2 :start_reactor:supply_fuel
   547 set :t_startup2 .RET_T_STARTUP
   548 label *label141
-    * select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
+  549 select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
   550 control config unloader3 *tmp89
-    * select *tmp93 equal :start_reactor*retval false @blast-compound @scrap
+  551 select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
   552 control config unloader4 *tmp93
   553 label *label142
   554 label *label179

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
   353 select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
   354 control config unloader2 *tmp93
   355 label *label140
-    * set :start_reactor:reactor reactor2
-    * set :start_reactor:reactor_num 2
-    * set :start_reactor:emerg_shutdown :emerg_shutdown
-    * set :start_reactor:fuel_on :fuel_2
-    * set :start_reactor:t_startup :t_startup2
   356 label *label220
   357 op sub *tmp104 @tick :t_startup2
   358 op idiv :start_reactor:secs *tmp104 60
 
   472 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
   473 op sub *tmp158 *tmp157 5000
   474 op div *tmp159 *tmp158 23000
-    * op mul :start_reactor:charge_units *tmp159 0.6
+  475 op div :start_reactor:charge_units *tmp158 38333.333333333336
   476 op div *tmp161 :start_reactor:surplus 2000
   477 op max :start_reactor:flow_units -0.1 *tmp161
   478 op mul *tmp163 2 2
 
   535 label *label255
   536 sensor *tmp188 reactor2 @enabled
   537 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup2
-    * set :start_reactor*retval :start_reactor:supply_fuel
   538 jump *label256 always
   539 label *label256
   540 set :fuel_2 :start_reactor:supply_fuel

Modifications by Inline function call at line 89:14 (+146 instructions):
 
   578 set :start_reactor:emerg_shutdown :emerg_shutdown
   579 set :start_reactor:fuel_on :fuel_3
   580 set :start_reactor:t_startup :t_startup3
-    * setaddr :start_reactor*retaddr *label26 (h:*label26)
-    * call *label3 *invalid :start_reactor*retval (m:*label26) (h:*label26)
-    * label *label26
+  581 label *label257
+  582 op sub *tmp104 @tick :start_reactor:t_startup
+  583 op idiv :start_reactor:secs *tmp104 60
+  584 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  585 set :start_reactor:supply_fuel true
+  586 sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
+  587 sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
+  588 sensor *tmp109 .NODE @powerNetStored
+  589 op floor :start_reactor:charge *tmp109
+  590 sensor *tmp111 .NODE @powerNetIn
+  591 sensor *tmp112 .NODE @powerNetOut
+  592 op sub *tmp113 *tmp111 *tmp112
+  593 op floor :start_reactor:surplus *tmp113
+  594 op mul *tmp115 .AVG_SURPLUS 0.8
+  595 op mul *tmp116 :start_reactor:surplus 0.2
+  596 op add .AVG_SURPLUS *tmp115 *tmp116
+  597 sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  598 print "#"
+  599 print :start_reactor:reactor_num
+  600 print " "
+  601 print "- "
+  602 jump *label258 equal :start_reactor:emerg_shutdown false
+  603 control enabled :start_reactor:reactor false
+  604 print "emergency mode"
+  605 print "\n"
+  606 set :start_reactor:supply_fuel false
+  607 jump *label292 always
+  608 label *label258
+  609 jump *label278 equal :start_reactor:enabled false
+  610 jump *label259 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  611 control enabled :start_reactor:reactor false
+  612 print "STOP unwanted"
+  613 print "\n"
+  614 jump *label277 always
+  615 label *label259
+  616 jump *label260 lessThanEq :start_reactor:reactor_num 1
+  617 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
+  618 jump *label260 greaterThanEq :start_reactor:fuel_stored *tmp128
+  619 control enabled :start_reactor:reactor false
+  620 print "STOP system fuel low"
+  621 print "\n"
+  622 jump *label276 always
+  623 label *label260
+  624 jump *label261 greaterThan :start_reactor:fuel 1
+  625 control enabled :start_reactor:reactor false
+  626 print "STOP fuel low"
+  627 print "\n"
+  628 jump *label275 always
+  629 label *label261
+  630 jump *label262 greaterThan :start_reactor:cryo .CRYO_ABORT
+  631 control enabled :start_reactor:reactor false
+  632 print "STOP out of cryo"
+  633 print "\n"
+  634 jump *label274 always
+  635 label *label262
+  636 jump *label270 greaterThanEq :start_reactor:secs 30
+  637 label *label263
+  638 op sub *tmp94 @tick :start_reactor:t_startup
+  639 op idiv :calc_charge_req:secs *tmp94 60
+  640 jump *label264 greaterThan :calc_charge_req:secs 30
+  641 sensor *tmp97 :start_reactor:reactor @enabled
+  642 jump *label265 notEqual *tmp97 false
+  643 label *label264
+  644 set :calc_charge_req*retval 0
+  645 jump *label267 always
+  646 label *label265
+  647 label *label266
+  648 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  649 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  650 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  651 set :calc_charge_req*retval :calc_charge_req:charge_req
+  652 jump *label267 always
+  653 label *label267
+  654 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
+  655 jump *label268 greaterThanEq *tmp143 .PWR_ABORT
+  656 jump *label268 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  657 control enabled :start_reactor:reactor false
+  658 print "START FAIL battery"
+  659 print "\n"
+  660 set :start_reactor:supply_fuel false
+  661 jump *label269 always
+  662 label *label268
+  663 op sub :start_reactor:time_left 30 :start_reactor:secs
+  664 print "Starting "
+  665 print :start_reactor:time_left
+  666 print " "
+  667 print "secs, req "
+  668 print :calc_charge_req*retval
+  669 print "J"
+  670 print "\n"
+  671 label *label269
+  672 jump *label273 always
+  673 label *label270
+  674 jump *label271 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  675 jump *label271 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  676 control enabled :start_reactor:reactor false
+  677 print "ABANDON - battery crit"
+  678 print "\n"
+  679 set :start_reactor:supply_fuel false
+  680 jump *label272 always
+  681 label *label271
+  682 op idiv :start_reactor:mins :start_reactor:secs 6
+  683 op div :start_reactor:mins :start_reactor:mins 10
+  684 print "RUN "
+  685 print :start_reactor:mins
+  686 print " "
+  687 print "mins"
+  688 print "\n"
+  689 label *label272
+  690 label *label273
+  691 label *label274
+  692 label *label275
+  693 label *label276
+  694 label *label277
+  695 jump *label291 always
+  696 label *label278
+  697 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
+  698 op sub *tmp158 *tmp157 .PWR_ABORT
+  699 op div *tmp159 *tmp158 .PWR_REQ
+  700 op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
+  701 op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  702 op max :start_reactor:flow_units -0.1 *tmp161
+  703 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
+  704 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
+  705 jump *label279 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  706 print "IDLE"
+  707 print "\n"
+  708 set :start_reactor:supply_fuel false
+  709 jump *label290 always
+  710 label *label279
+  711 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
+  712 jump *label280 greaterThanEq *tmp167 1
+  713 op idiv *tmp171 :start_reactor:flow_units 0.001
+  714 op div :start_reactor:flow *tmp171 10
+  715 op idiv *tmp174 :start_reactor:charge_units 0.001
+  716 op div :start_reactor:charge *tmp174 10
+  717 print "WAIT power. (%"
+  718 print :start_reactor:charge
+  719 print "J + %"
+  720 print :start_reactor:flow
+  721 print "W)"
+  722 print "\n"
+  723 set :start_reactor:supply_fuel false
+  724 jump *label289 always
+  725 label *label280
+  726 jump *label283 equal :start_reactor:fuel_on false
+  727 jump *label283 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  728 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
+  729 jump *label281 lessThanEq *tmp178 .FUEL_REQ
+  730 print "WAIT fuel"
+  731 print "\n"
+  732 jump *label282 always
+  733 label *label281
+  734 print "WAIT system fuel"
+  735 print "\n"
+  736 label *label282
+  737 jump *label288 always
+  738 label *label283
+  739 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
+  740 jump *label284 greaterThanEq :start_reactor:fuel_stored *tmp181
+  741 print "WAIT buffer fuel"
+  742 print "\n"
+  743 jump *label287 always
+  744 label *label284
+  745 jump *label285 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  746 print "WAIT cryo"
+  747 print "\n"
+  748 jump *label286 always
+  749 label *label285
+  750 print "STARTUP"
+  751 print "\n"
+  752 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  753 control enabled :start_reactor:reactor true
+  754 label *label286
+  755 label *label287
+  756 label *label288
+  757 label *label289
+  758 label *label290
+  759 label *label291
+  760 label *label292
+  761 sensor *tmp188 :start_reactor:reactor @enabled
+  762 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  763 set :start_reactor*retval :start_reactor:supply_fuel
+  764 jump *label293 always
+  765 label *label293
   766 set :fuel_3 :start_reactor*retval
   767 set :t_startup3 .RET_T_STARTUP
   768 set :start_reactor:reactor reactor4

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   579 set :start_reactor:fuel_on :fuel_3
   580 set :start_reactor:t_startup :t_startup3
   581 label *label257
-    * op sub *tmp104 @tick :start_reactor:t_startup
+  582 op sub *tmp104 @tick :t_startup3
   583 op idiv :start_reactor:secs *tmp104 60
-    * sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  584 sensor :start_reactor:fuel reactor3 @blast-compound
   585 set :start_reactor:supply_fuel true
-    * sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
-    * sensor *tmp109 .NODE @powerNetStored
+  586 sensor :start_reactor:fuel_stored vault1 @blast-compound
+  587 sensor :start_reactor:cryo reactor3 @cryofluid
+  588 sensor *tmp109 node1 @powerNetStored
   589 op floor :start_reactor:charge *tmp109
-    * sensor *tmp111 .NODE @powerNetIn
-    * sensor *tmp112 .NODE @powerNetOut
+  590 sensor *tmp111 node1 @powerNetIn
+  591 sensor *tmp112 node1 @powerNetOut
   592 op sub *tmp113 *tmp111 *tmp112
   593 op floor :start_reactor:surplus *tmp113
   594 op mul *tmp115 .AVG_SURPLUS 0.8
   595 op mul *tmp116 :start_reactor:surplus 0.2
   596 op add .AVG_SURPLUS *tmp115 *tmp116
-    * sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  597 sensor :start_reactor:enabled reactor3 @enabled
   598 print "#"
-    * print :start_reactor:reactor_num
+  599 print 3
   600 print " "
   601 print "- "
-    * jump *label258 equal :start_reactor:emerg_shutdown false
-    * control enabled :start_reactor:reactor false
+  602 jump *label258 equal :emerg_shutdown false
+  603 control enabled reactor3 false
   604 print "emergency mode"
   605 print "\n"
   606 set :start_reactor:supply_fuel false
   607 jump *label292 always
   608 label *label258
   609 jump *label278 equal :start_reactor:enabled false
-    * jump *label259 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
-    * control enabled :start_reactor:reactor false
+  610 jump *label259 greaterThanEq .REACTORS_DESIRED 3
+  611 control enabled reactor3 false
   612 print "STOP unwanted"
   613 print "\n"
   614 jump *label277 always
   615 label *label259
-    * jump *label260 lessThanEq :start_reactor:reactor_num 1
-    * op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
-    * jump *label260 greaterThanEq :start_reactor:fuel_stored *tmp128
-    * control enabled :start_reactor:reactor false
+  616 jump *label260 lessThanEq 3 1
+  617 op mul *tmp128 15 3
+  618 jump *label260 greaterThanEq :start_reactor:fuel_stored 45
+  619 control enabled reactor3 false
   620 print "STOP system fuel low"
   621 print "\n"
   622 jump *label276 always
   623 label *label260
   624 jump *label261 greaterThan :start_reactor:fuel 1
-    * control enabled :start_reactor:reactor false
+  625 control enabled reactor3 false
   626 print "STOP fuel low"
   627 print "\n"
   628 jump *label275 always
   629 label *label261
-    * jump *label262 greaterThan :start_reactor:cryo .CRYO_ABORT
-    * control enabled :start_reactor:reactor false
+  630 jump *label262 greaterThan :start_reactor:cryo 1
+  631 control enabled reactor3 false
   632 print "STOP out of cryo"
   633 print "\n"
   634 jump *label274 always
   635 label *label262
   636 jump *label270 greaterThanEq :start_reactor:secs 30
   637 label *label263
-    * op sub *tmp94 @tick :start_reactor:t_startup
+  638 op sub *tmp94 @tick :t_startup3
   639 op idiv :calc_charge_req:secs *tmp94 60
   640 jump *label264 greaterThan :calc_charge_req:secs 30
-    * sensor *tmp97 :start_reactor:reactor @enabled
+  641 sensor *tmp97 reactor3 @enabled
   642 jump *label265 notEqual *tmp97 false
   643 label *label264
   644 set :calc_charge_req*retval 0
 
   652 jump *label267 always
   653 label *label267
   654 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
-    * jump *label268 greaterThanEq *tmp143 .PWR_ABORT
-    * jump *label268 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * control enabled :start_reactor:reactor false
+  655 jump *label268 greaterThanEq *tmp143 5000
+  656 jump *label268 greaterThanEq :start_reactor:surplus -500
+  657 control enabled reactor3 false
   658 print "START FAIL battery"
   659 print "\n"
   660 set :start_reactor:supply_fuel false
 
   671 label *label269
   672 jump *label273 always
   673 label *label270
-    * jump *label271 greaterThanEq :start_reactor:charge .PWR_ABANDON
-    * jump *label271 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * control enabled :start_reactor:reactor false
+  674 jump *label271 greaterThanEq :start_reactor:charge 2000
+  675 jump *label271 greaterThanEq :start_reactor:surplus -500
+  676 control enabled reactor3 false
   677 print "ABANDON - battery crit"
   678 print "\n"
   679 set :start_reactor:supply_fuel false
 
   695 jump *label291 always
   696 label *label278
   697 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
-    * op sub *tmp158 *tmp157 .PWR_ABORT
-    * op div *tmp159 *tmp158 .PWR_REQ
-    * op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
-    * op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  698 op sub *tmp158 *tmp157 5000
+  699 op div *tmp159 *tmp158 23000
+  700 op mul :start_reactor:charge_units *tmp159 0.6
+  701 op div *tmp161 :start_reactor:surplus 2000
   702 op max :start_reactor:flow_units -0.1 *tmp161
-    * op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
-    * op add :start_reactor:cryo_req .CRYO_REQ *tmp163
-    * jump *label279 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  703 op mul *tmp163 2 3
+  704 op add :start_reactor:cryo_req 3 6
+  705 jump *label279 greaterThanEq .REACTORS_DESIRED 3
   706 print "IDLE"
   707 print "\n"
   708 set :start_reactor:supply_fuel false
 
   723 set :start_reactor:supply_fuel false
   724 jump *label289 always
   725 label *label280
-    * jump *label283 equal :start_reactor:fuel_on false
-    * jump *label283 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  726 jump *label283 equal :fuel_3 false
+  727 jump *label283 greaterThanEq :start_reactor:fuel 10
   728 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
-    * jump *label281 lessThanEq *tmp178 .FUEL_REQ
+  729 jump *label281 lessThanEq *tmp178 10
   730 print "WAIT fuel"
   731 print "\n"
   732 jump *label282 always
 
   736 label *label282
   737 jump *label288 always
   738 label *label283
-    * op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
-    * jump *label284 greaterThanEq :start_reactor:fuel_stored *tmp181
+  739 op mul *tmp181 45 3
+  740 jump *label284 greaterThanEq :start_reactor:fuel_stored 135
   741 print "WAIT buffer fuel"
   742 print "\n"
   743 jump *label287 always
   744 label *label284
-    * jump *label285 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  745 jump *label285 greaterThanEq :start_reactor:cryo 9
   746 print "WAIT cryo"
   747 print "\n"
   748 jump *label286 always
   749 label *label285
   750 print "STARTUP"
   751 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor:reactor true
+  752 op add .START_POWER_REQ .START_POWER_REQ 23000
+  753 control enabled reactor3 true
   754 label *label286
   755 label *label287
   756 label *label288
 
   758 label *label290
   759 label *label291
   760 label *label292
-    * sensor *tmp188 :start_reactor:reactor @enabled
-    * select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  761 sensor *tmp188 reactor3 @enabled
+  762 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup3
   763 set :start_reactor*retval :start_reactor:supply_fuel
   764 jump *label293 always
   765 label *label293
-    * set :fuel_3 :start_reactor*retval
+  766 set :fuel_3 :start_reactor:supply_fuel
   767 set :t_startup3 .RET_T_STARTUP
   768 set :start_reactor:reactor reactor4
   769 set :start_reactor:reactor_num 4

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
   573 label *label181
   574 label *label182
   575 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
-    * set :start_reactor:reactor reactor3
-    * set :start_reactor:reactor_num 3
-    * set :start_reactor:emerg_shutdown :emerg_shutdown
-    * set :start_reactor:fuel_on :fuel_3
-    * set :start_reactor:t_startup :t_startup3
   576 label *label257
   577 op sub *tmp104 @tick :t_startup3
   578 op idiv :start_reactor:secs *tmp104 60
 
   692 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
   693 op sub *tmp158 *tmp157 5000
   694 op div *tmp159 *tmp158 23000
-    * op mul :start_reactor:charge_units *tmp159 0.6
+  695 op div :start_reactor:charge_units *tmp158 38333.333333333336
   696 op div *tmp161 :start_reactor:surplus 2000
   697 op max :start_reactor:flow_units -0.1 *tmp161
   698 op mul *tmp163 2 3
 
   755 label *label292
   756 sensor *tmp188 reactor3 @enabled
   757 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup3
-    * set :start_reactor*retval :start_reactor:supply_fuel
   758 jump *label293 always
   759 label *label293
   760 set :fuel_3 :start_reactor:supply_fuel

Modifications by Iterated phase, Jump Normalization, pass 2, iteration 1 (-2 instructions):
 
   196 print "\n"
   197 jump *label203 always
   198 label *label185
-    * jump *label186 lessThanEq 1 1
+  199 jump *label186 always
   200 op mul *tmp128 15 1
   201 jump *label186 greaterThanEq :start_reactor:fuel_stored 15
   202 control enabled reactor1 false
 
   388 print "\n"
   389 jump *label240 always
   390 label *label222
-    * jump *label223 lessThanEq 2 1
   391 op mul *tmp128 15 2
   392 jump *label223 greaterThanEq :start_reactor:fuel_stored 30
   393 control enabled reactor2 false
 
   607 print "\n"
   608 jump *label277 always
   609 label *label259
-    * jump *label260 lessThanEq 3 1
   610 op mul *tmp128 15 3
   611 jump *label260 greaterThanEq :start_reactor:fuel_stored 45
   612 control enabled reactor3 false

Modifications by Iterated phase, Condition Optimization, pass 2, iteration 1 (-1 instructions):
 
   839 print "n"
   840 label *label49
   841 label *label42
-    * op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
   842 jump *label40 always
   843 label *label40
-    * select *tmp46 notEqual *tmp29 false @pyratite @scrap
+  844 select *tmp46 lessThan :throttle_blast:fuel_stored :throttle_blast:limit @pyratite @scrap
   845 control config unloader7 *tmp46
   846 sensor *tmp48 node1 @powerNetStored
   847 sensor *tmp49 node1 @powerNetCapacity

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-22 instructions):
 
    49 control enabled reactor4 false
    50 control enabled reactor5 false
    51 set :check_radar*retval true
-    * jump *label178 always
    52 jump *label177 always
    53 label *label176
    54 control enabled projector1 false
    55 control enabled projector2 false
    56 set :check_radar*retval false
-    * jump *label178 always
    57 label *label177
    58 label *label178
    59 jump *label12 equal switch1 null
 
    66 label *label12
    67 label *label13
    68 set *tmp8 false
-    * jump *label11 always
    69 label *label11
    70 op or :emerg_shutdown :check_radar*retval *tmp8
    71 label *label145
 
    83 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
    84 op idiv :calc_charge_req:charge_req *tmp101 0.04
    85 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label149 always
    86 label *label149
    87 set .START_POWER_REQ :calc_charge_req*retval
    88 label *label150
 
   100 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   101 op idiv :calc_charge_req:charge_req *tmp101 0.04
   102 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label154 always
   103 label *label154
   104 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   105 label *label155
 
   117 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   118 op idiv :calc_charge_req:charge_req *tmp101 0.04
   119 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label159 always
   120 label *label159
   121 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   122 label *label160
 
   134 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   135 op idiv :calc_charge_req:charge_req *tmp101 0.04
   136 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label164 always
   137 label *label164
   138 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   139 label *label165
 
   151 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   152 op idiv :calc_charge_req:charge_req *tmp101 0.04
   153 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label169 always
   154 label *label169
   155 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   156 label *label183
 
   224 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   225 op idiv :calc_charge_req:charge_req *tmp101 0.04
   226 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label193 always
   227 label *label193
   228 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   229 jump *label194 greaterThanEq *tmp143 5000
 
   334 label *label218
   335 sensor *tmp188 reactor1 @enabled
   336 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup1
-    * jump *label219 always
   337 label *label219
   338 set :fuel_1 :start_reactor:supply_fuel
   339 set :t_startup1 .RET_T_STARTUP
 
   413 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   414 op idiv :calc_charge_req:charge_req *tmp101 0.04
   415 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label230 always
   416 label *label230
   417 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   418 jump *label231 greaterThanEq *tmp143 5000
 
   523 label *label255
   524 sensor *tmp188 reactor2 @enabled
   525 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup2
-    * jump *label256 always
   526 label *label256
   527 set :fuel_2 :start_reactor:supply_fuel
   528 set :t_startup2 .RET_T_STARTUP
 
   550 control enabled reactor4 false
   551 control enabled reactor5 false
   552 set :check_radar*retval true
-    * jump *label182 always
   553 jump *label181 always
   554 label *label180
   555 control enabled projector1 false
   556 control enabled projector2 false
   557 set :check_radar*retval false
-    * jump *label182 always
   558 label *label181
   559 label *label182
   560 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
 
   628 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   629 op idiv :calc_charge_req:charge_req *tmp101 0.04
   630 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label267 always
   631 label *label267
   632 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   633 jump *label268 greaterThanEq *tmp143 5000
 
   738 label *label292
   739 sensor *tmp188 reactor3 @enabled
   740 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup3
-    * jump *label293 always
   741 label *label293
   742 set :fuel_3 :start_reactor:supply_fuel
   743 set :t_startup3 .RET_T_STARTUP
 
   823 print "n"
   824 label *label49
   825 label *label42
-    * jump *label40 always
   826 label *label40
   827 select *tmp46 lessThan :throttle_blast:fuel_stored :throttle_blast:limit @pyratite @scrap
   828 control config unloader7 *tmp46
 
   844 label *label133
   845 op idiv *tmp85 .AVG_SURPLUS 100
   846 op div :kilo*retval *tmp85 10
-    * jump *label134 always
   847 label *label134
   848 set :surplus :kilo*retval
   849 sensor :kilo:val node1 @powerNetStored
   850 label *label135
   851 op idiv *tmp85 :kilo:val 100
   852 op div :kilo*retval *tmp85 10
-    * jump *label136 always
   853 label *label136
   854 set :charge :kilo*retval
   855 jump *label59 lessThanEq .START_POWER_REQ 0
   856 label *label137
   857 op idiv *tmp85 .START_POWER_REQ 100
   858 op div :kilo*retval *tmp85 10
-    * jump *label138 always
   859 label *label138
   860 print "Req "
   861 print :kilo*retval
 
   979 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   980 op idiv :calc_charge_req:charge_req *tmp101 0.04
   981 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label174 always
   982 label *label174
   983 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   984 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
 
  1090 sensor *tmp188 :start_reactor:reactor @enabled
  1091 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
  1092 set :start_reactor*retval :start_reactor:supply_fuel
-    * jump *label86 always
  1093 label *label86
  1094 return :start_reactor*retaddr
  1095 end

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-2 instructions):
 
   843 label *label52
   844 label *label133
   845 op idiv *tmp85 .AVG_SURPLUS 100
-    * op div :kilo*retval *tmp85 10
+  846 op div :surplus *tmp85 10
   847 label *label134
-    * set :surplus :kilo*retval
   848 sensor :kilo:val node1 @powerNetStored
   849 label *label135
   850 op idiv *tmp85 :kilo:val 100
 
   911 op sub *tmp104 @tick :start_reactor:t_startup
   912 op idiv :start_reactor:secs *tmp104 60
   913 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
-    * set :start_reactor:supply_fuel true
+  914 set :start_reactor*retval true
   915 sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
   916 sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
   917 sensor *tmp109 .NODE @powerNetStored
 
   932 control enabled :start_reactor:reactor false
   933 print "emergency mode"
   934 print "\n"
-    * set :start_reactor:supply_fuel false
+  935 set :start_reactor*retval false
   936 jump *label88 always
   937 label *label87
   938 jump *label89 equal :start_reactor:enabled false
 
   985 control enabled :start_reactor:reactor false
   986 print "START FAIL battery"
   987 print "\n"
-    * set :start_reactor:supply_fuel false
+  988 set :start_reactor*retval false
   989 jump *label105 always
   990 label *label104
   991 op sub :start_reactor:time_left 30 :start_reactor:secs
 
  1004 control enabled :start_reactor:reactor false
  1005 print "ABANDON - battery crit"
  1006 print "\n"
-    * set :start_reactor:supply_fuel false
+ 1007 set :start_reactor*retval false
  1008 jump *label109 always
  1009 label *label108
  1010 op idiv :start_reactor:mins :start_reactor:secs 6
 
  1033 jump *label112 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
  1034 print "IDLE"
  1035 print "\n"
-    * set :start_reactor:supply_fuel false
+ 1036 set :start_reactor*retval false
  1037 jump *label113 always
  1038 label *label112
  1039 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
 
  1048 print :start_reactor:flow
  1049 print "W)"
  1050 print "\n"
-    * set :start_reactor:supply_fuel false
+ 1051 set :start_reactor*retval false
  1052 jump *label115 always
  1053 label *label114
  1054 jump *label116 equal :start_reactor:fuel_on false
 
  1088 label *label88
  1089 sensor *tmp188 :start_reactor:reactor @enabled
  1090 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
-    * set :start_reactor*retval :start_reactor:supply_fuel
  1091 label *label86
  1092 return :start_reactor*retaddr
  1093 end

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2:
 
   761 label *label28
   762 set :fuel_5 :start_reactor*retval
   763 set :t_startup5 .RET_T_STARTUP
-    * op or *tmp219 :fuel_3 :fuel_4
+  764 op or *tmp219 :start_reactor:supply_fuel :fuel_4
   765 op or *tmp26 *tmp219 :start_reactor*retval
   766 label *label143
   767 select *tmp89 notEqual *tmp26 false @blast-compound @scrap

Modifications by Iterated phase, Boolean Optimization, pass 2, iteration 1 (-1 instructions):
 
   190 label *label185
   191 jump *label186 always
   192 op mul *tmp128 15 1
-    * jump *label186 greaterThanEq :start_reactor:fuel_stored 15
   193 control enabled reactor1 false
   194 print "STOP system fuel low"
   195 print "\n"

Modifications by Jumps phase, Unreachable Code Elimination, pass 4, iteration 1 (-7 instructions):
 
    31 label *label7
    32 set .CONTAINER vault1
    33 set .NODE node1
-    * label *label175
    34 radar enemy any any health cyclone1 1 :check_radar:enemy_found
    35 jump *label176 equal :check_radar:enemy_found null
    36 control enabled projector1 true
 
    54 control enabled projector2 false
    55 set :check_radar*retval false
    56 label *label177
-    * label *label178
    57 jump *label12 equal switch1 null
    58 sensor *tmp10 switch1 @enabled
    59 jump *label12 notEqual *tmp10 false
 
    62 set *tmp8 true
    63 jump *label11 always
    64 label *label12
-    * label *label13
    65 set *tmp8 false
    66 label *label11
    67 op or :emerg_shutdown :check_radar*retval *tmp8
-    * label *label145
    68 op sub *tmp94 @tick :t_startup1
    69 op idiv :calc_charge_req:secs *tmp94 60
    70 jump *label146 greaterThan :calc_charge_req:secs 30
 
    74 set :calc_charge_req*retval 0
    75 jump *label149 always
    76 label *label147
-    * label *label148
    77 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
    78 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
    79 op idiv :calc_charge_req:charge_req *tmp101 0.04
    80 set :calc_charge_req*retval :calc_charge_req:charge_req
    81 label *label149
    82 set .START_POWER_REQ :calc_charge_req*retval
-    * label *label150
    83 op sub *tmp94 @tick :t_startup2
    84 op idiv :calc_charge_req:secs *tmp94 60
    85 jump *label151 greaterThan :calc_charge_req:secs 30
 
    89 set :calc_charge_req*retval 0
    90 jump *label154 always
    91 label *label152
-    * label *label153
    92 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
    93 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
    94 op idiv :calc_charge_req:charge_req *tmp101 0.04
    95 set :calc_charge_req*retval :calc_charge_req:charge_req
    96 label *label154
    97 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * label *label155
    98 op sub *tmp94 @tick :t_startup3
    99 op idiv :calc_charge_req:secs *tmp94 60
   100 jump *label156 greaterThan :calc_charge_req:secs 30
 
   104 set :calc_charge_req*retval 0
   105 jump *label159 always
   106 label *label157
-    * label *label158
   107 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   108 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   109 op idiv :calc_charge_req:charge_req *tmp101 0.04
   110 set :calc_charge_req*retval :calc_charge_req:charge_req
   111 label *label159
   112 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * label *label160
   113 op sub *tmp94 @tick :t_startup4
   114 op idiv :calc_charge_req:secs *tmp94 60
   115 jump *label161 greaterThan :calc_charge_req:secs 30
 
   119 set :calc_charge_req*retval 0
   120 jump *label164 always
   121 label *label162
-    * label *label163
   122 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   123 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   124 op idiv :calc_charge_req:charge_req *tmp101 0.04
   125 set :calc_charge_req*retval :calc_charge_req:charge_req
   126 label *label164
   127 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * label *label165
   128 op sub *tmp94 @tick :t_startup5
   129 op idiv :calc_charge_req:secs *tmp94 60
   130 jump *label166 greaterThan :calc_charge_req:secs 30
 
   134 set :calc_charge_req*retval 0
   135 jump *label169 always
   136 label *label167
-    * label *label168
   137 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   138 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   139 op idiv :calc_charge_req:charge_req *tmp101 0.04
   140 set :calc_charge_req*retval :calc_charge_req:charge_req
   141 label *label169
   142 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * label *label183
   143 op sub *tmp104 @tick :t_startup1
   144 op idiv :start_reactor:secs *tmp104 60
   145 sensor :start_reactor:fuel reactor1 @blast-compound
 
   175 jump *label203 always
   176 label *label185
   177 jump *label186 always
-    * op mul *tmp128 15 1
-    * control enabled reactor1 false
-    * print "STOP system fuel low"
-    * print "\n"
-    * jump *label202 always
   178 label *label186
   179 jump *label187 greaterThan :start_reactor:fuel 1
   180 control enabled reactor1 false
 
   189 jump *label200 always
   190 label *label188
   191 jump *label196 greaterThanEq :start_reactor:secs 30
-    * label *label189
   192 op sub *tmp94 @tick :t_startup1
   193 op idiv :calc_charge_req:secs *tmp94 60
   194 jump *label190 greaterThan :calc_charge_req:secs 30
 
   198 set :calc_charge_req*retval 0
   199 jump *label193 always
   200 label *label191
-    * label *label192
   201 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   202 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   203 op idiv :calc_charge_req:charge_req *tmp101 0.04
 
   312 label *label218
   313 sensor *tmp188 reactor1 @enabled
   314 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup1
-    * label *label219
   315 set :fuel_1 :start_reactor:supply_fuel
   316 set :t_startup1 .RET_T_STARTUP
-    * label *label139
   317 select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
   318 control config unloader1 *tmp89
   319 select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
   320 control config unloader2 *tmp93
-    * label *label140
-    * label *label220
   321 op sub *tmp104 @tick :t_startup2
   322 op idiv :start_reactor:secs *tmp104 60
   323 sensor :start_reactor:fuel reactor2 @blast-compound
 
   372 jump *label237 always
   373 label *label225
   374 jump *label233 greaterThanEq :start_reactor:secs 30
-    * label *label226
   375 op sub *tmp94 @tick :t_startup2
   376 op idiv :calc_charge_req:secs *tmp94 60
   377 jump *label227 greaterThan :calc_charge_req:secs 30
 
   381 set :calc_charge_req*retval 0
   382 jump *label230 always
   383 label *label228
-    * label *label229
   384 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   385 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   386 op idiv :calc_charge_req:charge_req *tmp101 0.04
 
   495 label *label255
   496 sensor *tmp188 reactor2 @enabled
   497 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup2
-    * label *label256
   498 set :fuel_2 :start_reactor:supply_fuel
   499 set :t_startup2 .RET_T_STARTUP
-    * label *label141
   500 select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
   501 control config unloader3 *tmp89
   502 select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
   503 control config unloader4 *tmp93
-    * label *label142
-    * label *label179
   504 radar enemy any any health cyclone1 1 :check_radar:enemy_found
   505 jump *label180 equal :check_radar:enemy_found null
   506 control enabled projector1 true
 
   524 control enabled projector2 false
   525 set :check_radar*retval false
   526 label *label181
-    * label *label182
   527 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
-    * label *label257
   528 op sub *tmp104 @tick :t_startup3
   529 op idiv :start_reactor:secs *tmp104 60
   530 sensor :start_reactor:fuel reactor3 @blast-compound
 
   579 jump *label274 always
   580 label *label262
   581 jump *label270 greaterThanEq :start_reactor:secs 30
-    * label *label263
   582 op sub *tmp94 @tick :t_startup3
   583 op idiv :calc_charge_req:secs *tmp94 60
   584 jump *label264 greaterThan :calc_charge_req:secs 30
 
   588 set :calc_charge_req*retval 0
   589 jump *label267 always
   590 label *label265
-    * label *label266
   591 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   592 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   593 op idiv :calc_charge_req:charge_req *tmp101 0.04
 
   702 label *label292
   703 sensor *tmp188 reactor3 @enabled
   704 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup3
-    * label *label293
   705 set :fuel_3 :start_reactor:supply_fuel
   706 set :t_startup3 .RET_T_STARTUP
   707 set :start_reactor:reactor reactor4
 
   726 set :t_startup5 .RET_T_STARTUP
   727 op or *tmp219 :start_reactor:supply_fuel :fuel_4
   728 op or *tmp26 *tmp219 :start_reactor*retval
-    * label *label143
   729 select *tmp89 notEqual *tmp26 false @blast-compound @scrap
   730 control config unloader5 *tmp89
   731 select *tmp93 equal *tmp26 false @blast-compound @scrap
   732 control config unloader6 *tmp93
-    * label *label144
   733 op or *tmp220 :fuel_1 :fuel_2
   734 op or *tmp28 *tmp220 *tmp26
   735 sensor *tmp30 node1 @powerNetStored
 
   784 print "n"
   785 label *label49
   786 label *label42
-    * label *label40
   787 select *tmp46 lessThan :throttle_blast:fuel_stored :throttle_blast:limit @pyratite @scrap
   788 control config unloader7 *tmp46
   789 sensor *tmp48 node1 @powerNetStored
 
   800 control enabled generator1 true
   801 control enabled generator2 true
   802 label *label54
-    * label *label52
-    * label *label133
   803 op idiv *tmp85 .AVG_SURPLUS 100
   804 op div :surplus *tmp85 10
-    * label *label134
   805 sensor :kilo:val node1 @powerNetStored
-    * label *label135
   806 op idiv *tmp85 :kilo:val 100
   807 op div :kilo*retval *tmp85 10
-    * label *label136
   808 set :charge :kilo*retval
   809 jump *label59 lessThanEq .START_POWER_REQ 0
-    * label *label137
   810 op idiv *tmp85 .START_POWER_REQ 100
   811 op div :kilo*retval *tmp85 10
-    * label *label138
   812 print "Req "
   813 print :kilo*retval
   814 print "kJ / "
 
   834 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   835 op sub .AVG_SURPLUS .AVG_SURPLUS 6500
   836 label *label67
-    * label *label68
   837 label *label63
-    * label *label64
   838 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
   839 jump *label69 greaterThanEq .AVG_SURPLUS 8000
   840 op sub *tmp78 .AVG_SURPLUS 10000
 
   843 op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
   844 op min .REACTORS_DESIRED 5 *tmp81
   845 label *label69
-    * label *label70
-    * label *label62
   846 label *label60
   847 jump *label73 equal .REACTORS_DESIRED 5
   848 print "Require only "
 
   850 print "/5 reactors."
   851 print "\n"
   852 label *label73
-    * label *label74
   853 printflush message1
-    * label *label8
   854 jump *label7 always
-    * label *label9
-    * end
   855 label *label3
   856 op sub *tmp104 @tick :start_reactor:t_startup
   857 op idiv :start_reactor:secs *tmp104 60
 
   908 jump *label100 always
   909 label *label99
   910 jump *label101 greaterThanEq :start_reactor:secs 30
-    * label *label170
   911 op sub *tmp94 @tick :start_reactor:t_startup
   912 op idiv :calc_charge_req:secs *tmp94 60
   913 jump *label171 greaterThan :calc_charge_req:secs 30
 
   917 set :calc_charge_req*retval 0
   918 jump *label174 always
   919 label *label172
-    * label *label173
   920 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   921 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   922 op idiv :calc_charge_req:charge_req *tmp101 0.04
 
  1031 label *label88
  1032 sensor *tmp188 :start_reactor:reactor @enabled
  1033 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
-    * label *label86
  1034 return :start_reactor*retaddr
-    * end

Modifications by Jumps phase, Jump Threading, pass 4, iteration 1:
 
   168 jump *label218 always
   169 label *label184
   170 jump *label204 equal :start_reactor:enabled false
-    * jump *label185 greaterThanEq .REACTORS_DESIRED 1
+  171 jump *label186 greaterThanEq .REACTORS_DESIRED 1
   172 control enabled reactor1 false
   173 print "STOP unwanted"
   174 print "\n"
-    * jump *label203 always
+  175 jump *label217 always
   176 label *label185
   177 jump *label186 always
   178 label *label186
 
   180 control enabled reactor1 false
   181 print "STOP fuel low"
   182 print "\n"
-    * jump *label201 always
+  183 jump *label217 always
   184 label *label187
   185 jump *label188 greaterThan :start_reactor:cryo 1
   186 control enabled reactor1 false
   187 print "STOP out of cryo"
   188 print "\n"
-    * jump *label200 always
+  189 jump *label217 always
   190 label *label188
   191 jump *label196 greaterThanEq :start_reactor:secs 30
   192 op sub *tmp94 @tick :t_startup1
 
   210 print "START FAIL battery"
   211 print "\n"
   212 set :start_reactor:supply_fuel false
-    * jump *label195 always
+  213 jump *label217 always
   214 label *label194
   215 op sub :start_reactor:time_left 30 :start_reactor:secs
   216 print "Starting "
 
   221 print "J"
   222 print "\n"
   223 label *label195
-    * jump *label199 always
+  224 jump *label217 always
   225 label *label196
   226 jump *label197 greaterThanEq :start_reactor:charge 2000
   227 jump *label197 greaterThanEq :start_reactor:surplus -500
 
   229 print "ABANDON - battery crit"
   230 print "\n"
   231 set :start_reactor:supply_fuel false
-    * jump *label198 always
+  232 jump *label217 always
   233 label *label197
   234 op idiv :start_reactor:mins :start_reactor:secs 6
   235 op div :start_reactor:mins :start_reactor:mins 10
 
   280 jump *label207 lessThanEq *tmp178 10
   281 print "WAIT fuel"
   282 print "\n"
-    * jump *label208 always
+  283 jump *label214 always
   284 label *label207
   285 print "WAIT system fuel"
   286 print "\n"
 
   349 control enabled reactor2 false
   350 print "STOP unwanted"
   351 print "\n"
-    * jump *label240 always
+  352 jump *label254 always
   353 label *label222
   354 op mul *tmp128 15 2
   355 jump *label223 greaterThanEq :start_reactor:fuel_stored 30
   356 control enabled reactor2 false
   357 print "STOP system fuel low"
   358 print "\n"
-    * jump *label239 always
+  359 jump *label254 always
   360 label *label223
   361 jump *label224 greaterThan :start_reactor:fuel 1
   362 control enabled reactor2 false
   363 print "STOP fuel low"
   364 print "\n"
-    * jump *label238 always
+  365 jump *label254 always
   366 label *label224
   367 jump *label225 greaterThan :start_reactor:cryo 1
   368 control enabled reactor2 false
   369 print "STOP out of cryo"
   370 print "\n"
-    * jump *label237 always
+  371 jump *label254 always
   372 label *label225
   373 jump *label233 greaterThanEq :start_reactor:secs 30
   374 op sub *tmp94 @tick :t_startup2
 
   392 print "START FAIL battery"
   393 print "\n"
   394 set :start_reactor:supply_fuel false
-    * jump *label232 always
+  395 jump *label254 always
   396 label *label231
   397 op sub :start_reactor:time_left 30 :start_reactor:secs
   398 print "Starting "
 
   403 print "J"
   404 print "\n"
   405 label *label232
-    * jump *label236 always
+  406 jump *label254 always
   407 label *label233
   408 jump *label234 greaterThanEq :start_reactor:charge 2000
   409 jump *label234 greaterThanEq :start_reactor:surplus -500
 
   411 print "ABANDON - battery crit"
   412 print "\n"
   413 set :start_reactor:supply_fuel false
-    * jump *label235 always
+  414 jump *label254 always
   415 label *label234
   416 op idiv :start_reactor:mins :start_reactor:secs 6
   417 op div :start_reactor:mins :start_reactor:mins 10
 
   463 jump *label244 lessThanEq *tmp178 10
   464 print "WAIT fuel"
   465 print "\n"
-    * jump *label245 always
+  466 jump *label251 always
   467 label *label244
   468 print "WAIT system fuel"
   469 print "\n"
 
   556 control enabled reactor3 false
   557 print "STOP unwanted"
   558 print "\n"
-    * jump *label277 always
+  559 jump *label291 always
   560 label *label259
   561 op mul *tmp128 15 3
   562 jump *label260 greaterThanEq :start_reactor:fuel_stored 45
   563 control enabled reactor3 false
   564 print "STOP system fuel low"
   565 print "\n"
-    * jump *label276 always
+  566 jump *label291 always
   567 label *label260
   568 jump *label261 greaterThan :start_reactor:fuel 1
   569 control enabled reactor3 false
   570 print "STOP fuel low"
   571 print "\n"
-    * jump *label275 always
+  572 jump *label291 always
   573 label *label261
   574 jump *label262 greaterThan :start_reactor:cryo 1
   575 control enabled reactor3 false
   576 print "STOP out of cryo"
   577 print "\n"
-    * jump *label274 always
+  578 jump *label291 always
   579 label *label262
   580 jump *label270 greaterThanEq :start_reactor:secs 30
   581 op sub *tmp94 @tick :t_startup3
 
   599 print "START FAIL battery"
   600 print "\n"
   601 set :start_reactor:supply_fuel false
-    * jump *label269 always
+  602 jump *label291 always
   603 label *label268
   604 op sub :start_reactor:time_left 30 :start_reactor:secs
   605 print "Starting "
 
   610 print "J"
   611 print "\n"
   612 label *label269
-    * jump *label273 always
+  613 jump *label291 always
   614 label *label270
   615 jump *label271 greaterThanEq :start_reactor:charge 2000
   616 jump *label271 greaterThanEq :start_reactor:surplus -500
 
   618 print "ABANDON - battery crit"
   619 print "\n"
   620 set :start_reactor:supply_fuel false
-    * jump *label272 always
+  621 jump *label291 always
   622 label *label271
   623 op idiv :start_reactor:mins :start_reactor:secs 6
   624 op div :start_reactor:mins :start_reactor:mins 10
 
   670 jump *label281 lessThanEq *tmp178 10
   671 print "WAIT fuel"
   672 print "\n"
-    * jump *label282 always
+  673 jump *label288 always
   674 label *label281
   675 print "WAIT system fuel"
   676 print "\n"
 
   754 jump *label46 equal :emerg_shutdown false
   755 print " Enemies detected."
   756 print "\n"
-    * jump *label47 always
+  757 jump *label42 always
   758 label *label46
   759 print " Critical power."
   760 print "\n"
 
   884 control enabled :start_reactor:reactor false
   885 print "STOP unwanted"
   886 print "\n"
-    * jump *label92 always
+  887 jump *label90 always
   888 label *label91
   889 jump *label93 lessThanEq :start_reactor:reactor_num 1
   890 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
 
   892 control enabled :start_reactor:reactor false
   893 print "STOP system fuel low"
   894 print "\n"
-    * jump *label94 always
+  895 jump *label90 always
   896 label *label93
   897 jump *label97 greaterThan :start_reactor:fuel 1
   898 control enabled :start_reactor:reactor false
   899 print "STOP fuel low"
   900 print "\n"
-    * jump *label98 always
+  901 jump *label90 always
   902 label *label97
   903 jump *label99 greaterThan :start_reactor:cryo .CRYO_ABORT
   904 control enabled :start_reactor:reactor false
   905 print "STOP out of cryo"
   906 print "\n"
-    * jump *label100 always
+  907 jump *label90 always
   908 label *label99
   909 jump *label101 greaterThanEq :start_reactor:secs 30
   910 op sub *tmp94 @tick :start_reactor:t_startup
 
   928 print "START FAIL battery"
   929 print "\n"
   930 set :start_reactor*retval false
-    * jump *label105 always
+  931 jump *label90 always
   932 label *label104
   933 op sub :start_reactor:time_left 30 :start_reactor:secs
   934 print "Starting "
 
   939 print "J"
   940 print "\n"
   941 label *label105
-    * jump *label102 always
+  942 jump *label90 always
   943 label *label101
   944 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
   945 jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
 
   947 print "ABANDON - battery crit"
   948 print "\n"
   949 set :start_reactor*retval false
-    * jump *label109 always
+  950 jump *label90 always
   951 label *label108
   952 op idiv :start_reactor:mins :start_reactor:secs 6
   953 op div :start_reactor:mins :start_reactor:mins 10
 
   999 jump *label120 lessThanEq *tmp178 .FUEL_REQ
  1000 print "WAIT fuel"
  1001 print "\n"
-    * jump *label121 always
+ 1002 jump *label117 always
  1003 label *label120
  1004 print "WAIT system fuel"
  1005 print "\n"

Modifications by Jumps phase, Single Step Elimination, pass 4, iteration 1 (-1 instructions):
 
   173 print "STOP unwanted"
   174 print "\n"
   175 jump *label217 always
-    * jump *label186 always
   176 label *label186
   177 jump *label187 greaterThan :start_reactor:fuel 1
   178 control enabled reactor1 false

Modifications by Final phase, Print Merging, iteration 1 (-131 instructions):
 
    57 jump *label12 equal switch1 null
    58 sensor *tmp10 switch1 @enabled
    59 jump *label12 notEqual *tmp10 false
-    * print "User has disabled emergency switch"
-    * print "\n"
+   60 print "User has disabled emergency switch\n"
    61 set *tmp8 true
    62 jump *label11 always
    63 label *label12
 
   155 op mul *tmp116 :start_reactor:surplus 0.2
   156 op add .AVG_SURPLUS *tmp115 *tmp116
   157 sensor :start_reactor:enabled reactor1 @enabled
-    * print "#"
-    * print 1
-    * print " "
-    * print "- "
+  158 print "#1 - "
   159 jump *label184 equal :emerg_shutdown false
   160 control enabled reactor1 false
-    * print "emergency mode"
-    * print "\n"
+  161 print "emergency mode\n"
   162 set :start_reactor:supply_fuel false
   163 jump *label218 always
   164 label *label184
   165 jump *label204 equal :start_reactor:enabled false
   166 jump *label186 greaterThanEq .REACTORS_DESIRED 1
   167 control enabled reactor1 false
-    * print "STOP unwanted"
-    * print "\n"
+  168 print "STOP unwanted\n"
   169 jump *label217 always
   170 label *label186
   171 jump *label187 greaterThan :start_reactor:fuel 1
   172 control enabled reactor1 false
-    * print "STOP fuel low"
-    * print "\n"
+  173 print "STOP fuel low\n"
   174 jump *label217 always
   175 label *label187
   176 jump *label188 greaterThan :start_reactor:cryo 1
   177 control enabled reactor1 false
-    * print "STOP out of cryo"
-    * print "\n"
+  178 print "STOP out of cryo\n"
   179 jump *label217 always
   180 label *label188
   181 jump *label196 greaterThanEq :start_reactor:secs 30
 
   197 jump *label194 greaterThanEq *tmp143 5000
   198 jump *label194 greaterThanEq :start_reactor:surplus -500
   199 control enabled reactor1 false
-    * print "START FAIL battery"
-    * print "\n"
+  200 print "START FAIL battery\n"
   201 set :start_reactor:supply_fuel false
   202 jump *label217 always
   203 label *label194
   204 op sub :start_reactor:time_left 30 :start_reactor:secs
-    * print "Starting "
-    * print :start_reactor:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req*retval
-    * print "J"
-    * print "\n"
+  205 print "Starting {0} secs, req {0}J\n"
+  206 format :start_reactor:time_left
+  207 format :calc_charge_req*retval
   208 jump *label217 always
   209 label *label196
   210 jump *label197 greaterThanEq :start_reactor:charge 2000
   211 jump *label197 greaterThanEq :start_reactor:surplus -500
   212 control enabled reactor1 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  213 print "ABANDON - battery crit\n"
   214 set :start_reactor:supply_fuel false
   215 jump *label217 always
   216 label *label197
   217 op idiv :start_reactor:mins :start_reactor:secs 6
   218 op div :start_reactor:mins :start_reactor:mins 10
-    * print "RUN "
-    * print :start_reactor:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  219 print "RUN {0} mins\n"
+  220 format :start_reactor:mins
   221 jump *label217 always
   222 label *label204
   223 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   229 op mul *tmp163 2 1
   230 op add :start_reactor:cryo_req 3 2
   231 jump *label205 greaterThanEq .REACTORS_DESIRED 1
-    * print "IDLE"
-    * print "\n"
+  232 print "IDLE\n"
   233 set :start_reactor:supply_fuel false
   234 jump *label216 always
   235 label *label205
 
   239 op div :start_reactor:flow *tmp171 10
   240 op idiv *tmp174 :start_reactor:charge_units 0.001
   241 op div :start_reactor:charge *tmp174 10
-    * print "WAIT power. (%"
-    * print :start_reactor:charge
-    * print "J + %"
-    * print :start_reactor:flow
-    * print "W)"
-    * print "\n"
+  242 print "WAIT power. (%{0}J + %{0}W)\n"
+  243 format :start_reactor:charge
+  244 format :start_reactor:flow
   245 set :start_reactor:supply_fuel false
   246 jump *label215 always
   247 label *label206
 
   249 jump *label209 greaterThanEq :start_reactor:fuel 10
   250 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   251 jump *label207 lessThanEq *tmp178 10
-    * print "WAIT fuel"
-    * print "\n"
+  252 print "WAIT fuel\n"
   253 jump *label214 always
   254 label *label207
-    * print "WAIT system fuel"
-    * print "\n"
+  255 print "WAIT system fuel\n"
   256 jump *label214 always
   257 label *label209
   258 op mul *tmp181 45 1
   259 jump *label210 greaterThanEq :start_reactor:fuel_stored 45
-    * print "WAIT buffer fuel"
-    * print "\n"
+  260 print "WAIT buffer fuel\n"
   261 jump *label213 always
   262 label *label210
   263 jump *label211 greaterThanEq :start_reactor:cryo 5
-    * print "WAIT cryo"
-    * print "\n"
+  264 print "WAIT cryo\n"
   265 jump *label212 always
   266 label *label211
-    * print "STARTUP"
-    * print "\n"
+  267 print "STARTUP\n"
   268 op add .START_POWER_REQ .START_POWER_REQ 23000
   269 control enabled reactor1 true
   270 label *label212
 
   298 op mul *tmp116 :start_reactor:surplus 0.2
   299 op add .AVG_SURPLUS *tmp115 *tmp116
   300 sensor :start_reactor:enabled reactor2 @enabled
-    * print "#"
-    * print 2
-    * print " "
-    * print "- "
+  301 print "#2 - "
   302 jump *label221 equal :emerg_shutdown false
   303 control enabled reactor2 false
-    * print "emergency mode"
-    * print "\n"
+  304 print "emergency mode\n"
   305 set :start_reactor:supply_fuel false
   306 jump *label255 always
   307 label *label221
   308 jump *label241 equal :start_reactor:enabled false
   309 jump *label222 greaterThanEq .REACTORS_DESIRED 2
   310 control enabled reactor2 false
-    * print "STOP unwanted"
-    * print "\n"
+  311 print "STOP unwanted\n"
   312 jump *label254 always
   313 label *label222
   314 op mul *tmp128 15 2
   315 jump *label223 greaterThanEq :start_reactor:fuel_stored 30
   316 control enabled reactor2 false
-    * print "STOP system fuel low"
-    * print "\n"
+  317 print "STOP system fuel low\n"
   318 jump *label254 always
   319 label *label223
   320 jump *label224 greaterThan :start_reactor:fuel 1
   321 control enabled reactor2 false
-    * print "STOP fuel low"
-    * print "\n"
+  322 print "STOP fuel low\n"
   323 jump *label254 always
   324 label *label224
   325 jump *label225 greaterThan :start_reactor:cryo 1
   326 control enabled reactor2 false
-    * print "STOP out of cryo"
-    * print "\n"
+  327 print "STOP out of cryo\n"
   328 jump *label254 always
   329 label *label225
   330 jump *label233 greaterThanEq :start_reactor:secs 30
 
   346 jump *label231 greaterThanEq *tmp143 5000
   347 jump *label231 greaterThanEq :start_reactor:surplus -500
   348 control enabled reactor2 false
-    * print "START FAIL battery"
-    * print "\n"
+  349 print "START FAIL battery\n"
   350 set :start_reactor:supply_fuel false
   351 jump *label254 always
   352 label *label231
   353 op sub :start_reactor:time_left 30 :start_reactor:secs
-    * print "Starting "
-    * print :start_reactor:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req*retval
-    * print "J"
-    * print "\n"
+  354 print "Starting {0} secs, req {0}J\n"
+  355 format :start_reactor:time_left
+  356 format :calc_charge_req*retval
   357 jump *label254 always
   358 label *label233
   359 jump *label234 greaterThanEq :start_reactor:charge 2000
   360 jump *label234 greaterThanEq :start_reactor:surplus -500
   361 control enabled reactor2 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  362 print "ABANDON - battery crit\n"
   363 set :start_reactor:supply_fuel false
   364 jump *label254 always
   365 label *label234
   366 op idiv :start_reactor:mins :start_reactor:secs 6
   367 op div :start_reactor:mins :start_reactor:mins 10
-    * print "RUN "
-    * print :start_reactor:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  368 print "RUN {0} mins\n"
+  369 format :start_reactor:mins
   370 jump *label254 always
   371 label *label241
   372 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   378 op mul *tmp163 2 2
   379 op add :start_reactor:cryo_req 3 4
   380 jump *label242 greaterThanEq .REACTORS_DESIRED 2
-    * print "IDLE"
-    * print "\n"
+  381 print "IDLE\n"
   382 set :start_reactor:supply_fuel false
   383 jump *label253 always
   384 label *label242
 
   388 op div :start_reactor:flow *tmp171 10
   389 op idiv *tmp174 :start_reactor:charge_units 0.001
   390 op div :start_reactor:charge *tmp174 10
-    * print "WAIT power. (%"
-    * print :start_reactor:charge
-    * print "J + %"
-    * print :start_reactor:flow
-    * print "W)"
-    * print "\n"
+  391 print "WAIT power. (%{0}J + %{0}W)\n"
+  392 format :start_reactor:charge
+  393 format :start_reactor:flow
   394 set :start_reactor:supply_fuel false
   395 jump *label252 always
   396 label *label243
 
   398 jump *label246 greaterThanEq :start_reactor:fuel 10
   399 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   400 jump *label244 lessThanEq *tmp178 10
-    * print "WAIT fuel"
-    * print "\n"
+  401 print "WAIT fuel\n"
   402 jump *label251 always
   403 label *label244
-    * print "WAIT system fuel"
-    * print "\n"
+  404 print "WAIT system fuel\n"
   405 jump *label251 always
   406 label *label246
   407 op mul *tmp181 45 2
   408 jump *label247 greaterThanEq :start_reactor:fuel_stored 90
-    * print "WAIT buffer fuel"
-    * print "\n"
+  409 print "WAIT buffer fuel\n"
   410 jump *label250 always
   411 label *label247
   412 jump *label248 greaterThanEq :start_reactor:cryo 7
-    * print "WAIT cryo"
-    * print "\n"
+  413 print "WAIT cryo\n"
   414 jump *label249 always
   415 label *label248
-    * print "STARTUP"
-    * print "\n"
+  416 print "STARTUP\n"
   417 op add .START_POWER_REQ .START_POWER_REQ 23000
   418 control enabled reactor2 true
   419 label *label249
 
   471 op mul *tmp116 :start_reactor:surplus 0.2
   472 op add .AVG_SURPLUS *tmp115 *tmp116
   473 sensor :start_reactor:enabled reactor3 @enabled
-    * print "#"
-    * print 3
-    * print " "
-    * print "- "
+  474 print "#3 - "
   475 jump *label258 equal :emerg_shutdown false
   476 control enabled reactor3 false
-    * print "emergency mode"
-    * print "\n"
+  477 print "emergency mode\n"
   478 set :start_reactor:supply_fuel false
   479 jump *label292 always
   480 label *label258
   481 jump *label278 equal :start_reactor:enabled false
   482 jump *label259 greaterThanEq .REACTORS_DESIRED 3
   483 control enabled reactor3 false
-    * print "STOP unwanted"
-    * print "\n"
+  484 print "STOP unwanted\n"
   485 jump *label291 always
   486 label *label259
   487 op mul *tmp128 15 3
   488 jump *label260 greaterThanEq :start_reactor:fuel_stored 45
   489 control enabled reactor3 false
-    * print "STOP system fuel low"
-    * print "\n"
+  490 print "STOP system fuel low\n"
   491 jump *label291 always
   492 label *label260
   493 jump *label261 greaterThan :start_reactor:fuel 1
   494 control enabled reactor3 false
-    * print "STOP fuel low"
-    * print "\n"
+  495 print "STOP fuel low\n"
   496 jump *label291 always
   497 label *label261
   498 jump *label262 greaterThan :start_reactor:cryo 1
   499 control enabled reactor3 false
-    * print "STOP out of cryo"
-    * print "\n"
+  500 print "STOP out of cryo\n"
   501 jump *label291 always
   502 label *label262
   503 jump *label270 greaterThanEq :start_reactor:secs 30
 
   519 jump *label268 greaterThanEq *tmp143 5000
   520 jump *label268 greaterThanEq :start_reactor:surplus -500
   521 control enabled reactor3 false
-    * print "START FAIL battery"
-    * print "\n"
+  522 print "START FAIL battery\n"
   523 set :start_reactor:supply_fuel false
   524 jump *label291 always
   525 label *label268
   526 op sub :start_reactor:time_left 30 :start_reactor:secs
-    * print "Starting "
-    * print :start_reactor:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req*retval
-    * print "J"
-    * print "\n"
+  527 print "Starting {0} secs, req {0}J\n"
+  528 format :start_reactor:time_left
+  529 format :calc_charge_req*retval
   530 jump *label291 always
   531 label *label270
   532 jump *label271 greaterThanEq :start_reactor:charge 2000
   533 jump *label271 greaterThanEq :start_reactor:surplus -500
   534 control enabled reactor3 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  535 print "ABANDON - battery crit\n"
   536 set :start_reactor:supply_fuel false
   537 jump *label291 always
   538 label *label271
   539 op idiv :start_reactor:mins :start_reactor:secs 6
   540 op div :start_reactor:mins :start_reactor:mins 10
-    * print "RUN "
-    * print :start_reactor:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  541 print "RUN {0} mins\n"
+  542 format :start_reactor:mins
   543 jump *label291 always
   544 label *label278
   545 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   551 op mul *tmp163 2 3
   552 op add :start_reactor:cryo_req 3 6
   553 jump *label279 greaterThanEq .REACTORS_DESIRED 3
-    * print "IDLE"
-    * print "\n"
+  554 print "IDLE\n"
   555 set :start_reactor:supply_fuel false
   556 jump *label290 always
   557 label *label279
 
   561 op div :start_reactor:flow *tmp171 10
   562 op idiv *tmp174 :start_reactor:charge_units 0.001
   563 op div :start_reactor:charge *tmp174 10
-    * print "WAIT power. (%"
-    * print :start_reactor:charge
-    * print "J + %"
-    * print :start_reactor:flow
-    * print "W)"
-    * print "\n"
+  564 print "WAIT power. (%{0}J + %{0}W)\n"
+  565 format :start_reactor:charge
+  566 format :start_reactor:flow
   567 set :start_reactor:supply_fuel false
   568 jump *label289 always
   569 label *label280
 
   571 jump *label283 greaterThanEq :start_reactor:fuel 10
   572 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   573 jump *label281 lessThanEq *tmp178 10
-    * print "WAIT fuel"
-    * print "\n"
+  574 print "WAIT fuel\n"
   575 jump *label288 always
   576 label *label281
-    * print "WAIT system fuel"
-    * print "\n"
+  577 print "WAIT system fuel\n"
   578 jump *label288 always
   579 label *label283
   580 op mul *tmp181 45 3
   581 jump *label284 greaterThanEq :start_reactor:fuel_stored 135
-    * print "WAIT buffer fuel"
-    * print "\n"
+  582 print "WAIT buffer fuel\n"
   583 jump *label287 always
   584 label *label284
   585 jump *label285 greaterThanEq :start_reactor:cryo 9
-    * print "WAIT cryo"
-    * print "\n"
+  586 print "WAIT cryo\n"
   587 jump *label286 always
   588 label *label285
-    * print "STARTUP"
-    * print "\n"
+  589 print "STARTUP\n"
   590 op add .START_POWER_REQ .START_POWER_REQ 23000
   591 control enabled reactor3 true
   592 label *label286
 
   641 jump *label41 equal :emerg_shutdown false
   642 label *label43
   643 set :throttle_blast:limit 0
-    * print "Central Fuel at "
-    * print :throttle_blast:fuel_stored
-    * print " "
-    * print "/ "
-    * print 0
-    * print " "
-    * print "- "
+  644 print "Central Fuel at {0} / 0 - "
+  645 format :throttle_blast:fuel_stored
   646 jump *label46 equal :emerg_shutdown false
-    * print " Enemies detected."
-    * print "\n"
+  647 print " Enemies detected.\n"
   648 jump *label42 always
   649 label *label46
-    * print " Critical power."
-    * print "\n"
+  650 print " Critical power.\n"
   651 jump *label42 always
   652 label *label41
   653 jump *label48 notEqual *tmp28 false
   654 set :throttle_blast:limit 150
-    * print "Fuel "
-    * print :throttle_blast:fuel_stored
-    * print " "
-    * print "/ "
-    * print 150
-    * print " "
-    * print "(due to emergency)"
-    * print "\n"
+  655 print "Fuel {0} / 150 (due to emergency)\n"
+  656 format :throttle_blast:fuel_stored
   657 jump *label49 always
   658 label *label48
   659 set :throttle_blast:limit 800
-    * print "Fuel "
-    * print :throttle_blast:fuel_stored
-    * print " "
-    * print "/ "
-    * print 800
-    * print "\"
-    * print "n"
+  660 print "Fuel {0} / 800\n"
+  661 format :throttle_blast:fuel_stored
   662 label *label49
   663 label *label42
   664 select *tmp46 lessThan :throttle_blast:fuel_stored :throttle_blast:limit @pyratite @scrap
 
   668 op div :diff_generators:stored_pc *tmp48 *tmp49
   669 jump *label53 lessThanEq :diff_generators:stored_pc 0.9
   670 jump *label53 greaterThanEq .START_POWER_REQ 10
-    * print "Differential now idle."
-    * print "\n"
+  671 print "Differential now idle.\n"
   672 control enabled generator1 false
   673 control enabled generator2 false
   674 jump *label54 always
 
   685 jump *label59 lessThanEq .START_POWER_REQ 0
   686 op idiv *tmp85 .START_POWER_REQ 100
   687 op div :kilo*retval *tmp85 10
-    * print "Req "
-    * print :kilo*retval
-    * print "kJ / "
-    * print :charge
-    * print "kJ. "
-    * print :surplus
-    * print "kW flow."
-    * print "\n"
+  688 print "Req {0}kJ / {0}kJ. {0}kW flow.\n"
+  689 format :kilo*retval
+  690 format :charge
+  691 format :surplus
   692 jump *label60 always
   693 label *label59
-    * print "Power "
-    * print :surplus
-    * print "kW, "
-    * print :kilo*retval
-    * print "kJ"
-    * print "\n"
+  694 print "Power {0}kW, {0}kJ\n"
+  695 format :surplus
+  696 format :kilo*retval
   697 sensor *tmp65 node1 @powerNetStored
   698 sensor *tmp66 node1 @powerNetCapacity
   699 op div :update_reactors_desired:stored *tmp65 *tmp66
 
   714 label *label69
   715 label *label60
   716 jump *label73 equal .REACTORS_DESIRED 5
-    * print "Require only "
-    * print .REACTORS_DESIRED
-    * print "/5 reactors."
-    * print "\n"
+  717 print "Require only {0}/5 reactors.\n"
+  718 format .REACTORS_DESIRED
   719 label *label73
   720 printflush message1
   721 jump *label7 always
 
   736 op mul *tmp116 :start_reactor:surplus 0.2
   737 op add .AVG_SURPLUS *tmp115 *tmp116
   738 sensor :start_reactor:enabled :start_reactor:reactor @enabled
-    * print "#"
-    * print :start_reactor:reactor_num
-    * print " "
-    * print "- "
+  739 print "#{0} - "
+  740 format :start_reactor:reactor_num
   741 jump *label87 equal :start_reactor:emerg_shutdown false
   742 control enabled :start_reactor:reactor false
-    * print "emergency mode"
-    * print "\n"
+  743 print "emergency mode\n"
   744 set :start_reactor*retval false
   745 jump *label88 always
   746 label *label87
   747 jump *label89 equal :start_reactor:enabled false
   748 jump *label91 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
   749 control enabled :start_reactor:reactor false
-    * print "STOP unwanted"
-    * print "\n"
+  750 print "STOP unwanted\n"
   751 jump *label90 always
   752 label *label91
   753 jump *label93 lessThanEq :start_reactor:reactor_num 1
   754 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
   755 jump *label93 greaterThanEq :start_reactor:fuel_stored *tmp128
   756 control enabled :start_reactor:reactor false
-    * print "STOP system fuel low"
-    * print "\n"
+  757 print "STOP system fuel low\n"
   758 jump *label90 always
   759 label *label93
   760 jump *label97 greaterThan :start_reactor:fuel 1
   761 control enabled :start_reactor:reactor false
-    * print "STOP fuel low"
-    * print "\n"
+  762 print "STOP fuel low\n"
   763 jump *label90 always
   764 label *label97
   765 jump *label99 greaterThan :start_reactor:cryo .CRYO_ABORT
   766 control enabled :start_reactor:reactor false
-    * print "STOP out of cryo"
-    * print "\n"
+  767 print "STOP out of cryo\n"
   768 jump *label90 always
   769 label *label99
   770 jump *label101 greaterThanEq :start_reactor:secs 30
 
   786 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   787 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
   788 control enabled :start_reactor:reactor false
-    * print "START FAIL battery"
-    * print "\n"
+  789 print "START FAIL battery\n"
   790 set :start_reactor*retval false
   791 jump *label90 always
   792 label *label104
   793 op sub :start_reactor:time_left 30 :start_reactor:secs
-    * print "Starting "
-    * print :start_reactor:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req*retval
-    * print "J"
-    * print "\n"
+  794 print "Starting {0} secs, req {0}J\n"
+  795 format :start_reactor:time_left
+  796 format :calc_charge_req*retval
   797 jump *label90 always
   798 label *label101
   799 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
   800 jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
   801 control enabled :start_reactor:reactor false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  802 print "ABANDON - battery crit\n"
   803 set :start_reactor*retval false
   804 jump *label90 always
   805 label *label108
   806 op idiv :start_reactor:mins :start_reactor:secs 6
   807 op div :start_reactor:mins :start_reactor:mins 10
-    * print "RUN "
-    * print :start_reactor:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  808 print "RUN {0} mins\n"
+  809 format :start_reactor:mins
   810 jump *label90 always
   811 label *label89
   812 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   818 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
   819 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
   820 jump *label112 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
-    * print "IDLE"
-    * print "\n"
+  821 print "IDLE\n"
   822 set :start_reactor*retval false
   823 jump *label113 always
   824 label *label112
 
   828 op div :start_reactor:flow *tmp171 10
   829 op idiv *tmp174 :start_reactor:charge_units 0.001
   830 op div :start_reactor:charge *tmp174 10
-    * print "WAIT power. (%"
-    * print :start_reactor:charge
-    * print "J + %"
-    * print :start_reactor:flow
-    * print "W)"
-    * print "\n"
+  831 print "WAIT power. (%{0}J + %{0}W)\n"
+  832 format :start_reactor:charge
+  833 format :start_reactor:flow
   834 set :start_reactor*retval false
   835 jump *label115 always
   836 label *label114
 
   838 jump *label116 greaterThanEq :start_reactor:fuel .FUEL_REQ
   839 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   840 jump *label120 lessThanEq *tmp178 .FUEL_REQ
-    * print "WAIT fuel"
-    * print "\n"
+  841 print "WAIT fuel\n"
   842 jump *label117 always
   843 label *label120
-    * print "WAIT system fuel"
-    * print "\n"
+  844 print "WAIT system fuel\n"
   845 jump *label117 always
   846 label *label116
   847 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
   848 jump *label122 greaterThanEq :start_reactor:fuel_stored *tmp181
-    * print "WAIT buffer fuel"
-    * print "\n"
+  849 print "WAIT buffer fuel\n"
   850 jump *label123 always
   851 label *label122
   852 jump *label124 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
-    * print "WAIT cryo"
-    * print "\n"
+  853 print "WAIT cryo\n"
   854 jump *label125 always
   855 label *label124
-    * print "STARTUP"
-    * print "\n"
+  856 print "STARTUP\n"
   857 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
   858 control enabled :start_reactor:reactor true
   859 label *label125

Final code before resolving virtual instructions:

printflush message1
set .PWR_REQ 23000
set .FLOW_REQ 2000
set .PWR_ABANDON 2000
set .PWR_ABORT 5000
set .PWR_RESERVE 0.6
set .FLOW_ABORT -500
set .FUEL_REQ 10
set .FUEL_TOT_REQ 45
set .FUEL_TOT_ABORT 15
set .CRYO_REQ 3
set .CRYO_REQ_EA 2
set .CRYO_ABORT 1
set :fuel_1 false
set :fuel_2 false
set :fuel_3 false
set :fuel_4 false
set :fuel_5 false
sensor *tmp0 node1 @powerNetIn
sensor *tmp1 node1 @powerNetOut
op sub *tmp2 *tmp0 *tmp1
op floor :surplus *tmp2
op sub *tmp218 @tick 3600
select *tmp5 greaterThan :surplus 10000 *tmp218 @tick
set :t_startup1 *tmp5
set :t_startup2 *tmp5
set :t_startup3 *tmp5
set :t_startup4 *tmp5
set :t_startup5 *tmp5
set .REACTORS_DESIRED 5
set .AVG_SURPLUS 500
label *label7
set .CONTAINER vault1
set .NODE node1
radar enemy any any health cyclone1 1 :check_radar:enemy_found
jump *label176 equal :check_radar:enemy_found null
control enabled projector1 true
control enabled projector2 true
control config unloader1 @scrap
control config unloader2 @blast-compound
control config unloader3 @scrap
control config unloader4 @blast-compound
control config unloader5 @scrap
control config unloader6 @blast-compound
control config unloader7 @scrap
control enabled reactor1 false
control enabled reactor2 false
control enabled reactor3 false
control enabled reactor4 false
control enabled reactor5 false
set :check_radar*retval true
jump *label177 always
label *label176
control enabled projector1 false
control enabled projector2 false
set :check_radar*retval false
label *label177
jump *label12 equal switch1 null
sensor *tmp10 switch1 @enabled
jump *label12 notEqual *tmp10 false
print "User has disabled emergency switch\n"
set *tmp8 true
jump *label11 always
label *label12
set *tmp8 false
label *label11
op or :emerg_shutdown :check_radar*retval *tmp8
op sub *tmp94 @tick :t_startup1
op idiv :calc_charge_req:secs *tmp94 60
jump *label146 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor1 @enabled
jump *label147 notEqual *tmp97 false
label *label146
set :calc_charge_req*retval 0
jump *label149 always
label *label147
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label149
set .START_POWER_REQ :calc_charge_req*retval
op sub *tmp94 @tick :t_startup2
op idiv :calc_charge_req:secs *tmp94 60
jump *label151 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor2 @enabled
jump *label152 notEqual *tmp97 false
label *label151
set :calc_charge_req*retval 0
jump *label154 always
label *label152
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label154
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
op sub *tmp94 @tick :t_startup3
op idiv :calc_charge_req:secs *tmp94 60
jump *label156 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor3 @enabled
jump *label157 notEqual *tmp97 false
label *label156
set :calc_charge_req*retval 0
jump *label159 always
label *label157
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label159
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
op sub *tmp94 @tick :t_startup4
op idiv :calc_charge_req:secs *tmp94 60
jump *label161 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor4 @enabled
jump *label162 notEqual *tmp97 false
label *label161
set :calc_charge_req*retval 0
jump *label164 always
label *label162
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label164
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
op sub *tmp94 @tick :t_startup5
op idiv :calc_charge_req:secs *tmp94 60
jump *label166 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor5 @enabled
jump *label167 notEqual *tmp97 false
label *label166
set :calc_charge_req*retval 0
jump *label169 always
label *label167
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label169
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
op sub *tmp104 @tick :t_startup1
op idiv :start_reactor:secs *tmp104 60
sensor :start_reactor:fuel reactor1 @blast-compound
set :start_reactor:supply_fuel true
sensor :start_reactor:fuel_stored vault1 @blast-compound
sensor :start_reactor:cryo reactor1 @cryofluid
sensor *tmp109 node1 @powerNetStored
op floor :start_reactor:charge *tmp109
sensor *tmp111 node1 @powerNetIn
sensor *tmp112 node1 @powerNetOut
op sub *tmp113 *tmp111 *tmp112
op floor :start_reactor:surplus *tmp113
op mul *tmp115 .AVG_SURPLUS 0.8
op mul *tmp116 :start_reactor:surplus 0.2
op add .AVG_SURPLUS *tmp115 *tmp116
sensor :start_reactor:enabled reactor1 @enabled
print "#1 - "
jump *label184 equal :emerg_shutdown false
control enabled reactor1 false
print "emergency mode\n"
set :start_reactor:supply_fuel false
jump *label218 always
label *label184
jump *label204 equal :start_reactor:enabled false
jump *label186 greaterThanEq .REACTORS_DESIRED 1
control enabled reactor1 false
print "STOP unwanted\n"
jump *label217 always
label *label186
jump *label187 greaterThan :start_reactor:fuel 1
control enabled reactor1 false
print "STOP fuel low\n"
jump *label217 always
label *label187
jump *label188 greaterThan :start_reactor:cryo 1
control enabled reactor1 false
print "STOP out of cryo\n"
jump *label217 always
label *label188
jump *label196 greaterThanEq :start_reactor:secs 30
op sub *tmp94 @tick :t_startup1
op idiv :calc_charge_req:secs *tmp94 60
jump *label190 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor1 @enabled
jump *label191 notEqual *tmp97 false
label *label190
set :calc_charge_req*retval 0
jump *label193 always
label *label191
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label193
op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
jump *label194 greaterThanEq *tmp143 5000
jump *label194 greaterThanEq :start_reactor:surplus -500
control enabled reactor1 false
print "START FAIL battery\n"
set :start_reactor:supply_fuel false
jump *label217 always
label *label194
op sub :start_reactor:time_left 30 :start_reactor:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor:time_left
format :calc_charge_req*retval
jump *label217 always
label *label196
jump *label197 greaterThanEq :start_reactor:charge 2000
jump *label197 greaterThanEq :start_reactor:surplus -500
control enabled reactor1 false
print "ABANDON - battery crit\n"
set :start_reactor:supply_fuel false
jump *label217 always
label *label197
op idiv :start_reactor:mins :start_reactor:secs 6
op div :start_reactor:mins :start_reactor:mins 10
print "RUN {0} mins\n"
format :start_reactor:mins
jump *label217 always
label *label204
op sub *tmp157 :start_reactor:charge .START_POWER_REQ
op sub *tmp158 *tmp157 5000
op div *tmp159 *tmp158 23000
op div :start_reactor:charge_units *tmp158 38333.333333333336
op div *tmp161 :start_reactor:surplus 2000
op max :start_reactor:flow_units -0.1 *tmp161
op mul *tmp163 2 1
op add :start_reactor:cryo_req 3 2
jump *label205 greaterThanEq .REACTORS_DESIRED 1
print "IDLE\n"
set :start_reactor:supply_fuel false
jump *label216 always
label *label205
op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
jump *label206 greaterThanEq *tmp167 1
op idiv *tmp171 :start_reactor:flow_units 0.001
op div :start_reactor:flow *tmp171 10
op idiv *tmp174 :start_reactor:charge_units 0.001
op div :start_reactor:charge *tmp174 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor:charge
format :start_reactor:flow
set :start_reactor:supply_fuel false
jump *label215 always
label *label206
jump *label209 equal :fuel_1 false
jump *label209 greaterThanEq :start_reactor:fuel 10
op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
jump *label207 lessThanEq *tmp178 10
print "WAIT fuel\n"
jump *label214 always
label *label207
print "WAIT system fuel\n"
jump *label214 always
label *label209
op mul *tmp181 45 1
jump *label210 greaterThanEq :start_reactor:fuel_stored 45
print "WAIT buffer fuel\n"
jump *label213 always
label *label210
jump *label211 greaterThanEq :start_reactor:cryo 5
print "WAIT cryo\n"
jump *label212 always
label *label211
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor1 true
label *label212
label *label213
label *label214
label *label215
label *label216
label *label217
label *label218
sensor *tmp188 reactor1 @enabled
select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup1
set :fuel_1 :start_reactor:supply_fuel
set :t_startup1 .RET_T_STARTUP
select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
control config unloader1 *tmp89
select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
control config unloader2 *tmp93
op sub *tmp104 @tick :t_startup2
op idiv :start_reactor:secs *tmp104 60
sensor :start_reactor:fuel reactor2 @blast-compound
set :start_reactor:supply_fuel true
sensor :start_reactor:fuel_stored vault1 @blast-compound
sensor :start_reactor:cryo reactor2 @cryofluid
sensor *tmp109 node1 @powerNetStored
op floor :start_reactor:charge *tmp109
sensor *tmp111 node1 @powerNetIn
sensor *tmp112 node1 @powerNetOut
op sub *tmp113 *tmp111 *tmp112
op floor :start_reactor:surplus *tmp113
op mul *tmp115 .AVG_SURPLUS 0.8
op mul *tmp116 :start_reactor:surplus 0.2
op add .AVG_SURPLUS *tmp115 *tmp116
sensor :start_reactor:enabled reactor2 @enabled
print "#2 - "
jump *label221 equal :emerg_shutdown false
control enabled reactor2 false
print "emergency mode\n"
set :start_reactor:supply_fuel false
jump *label255 always
label *label221
jump *label241 equal :start_reactor:enabled false
jump *label222 greaterThanEq .REACTORS_DESIRED 2
control enabled reactor2 false
print "STOP unwanted\n"
jump *label254 always
label *label222
op mul *tmp128 15 2
jump *label223 greaterThanEq :start_reactor:fuel_stored 30
control enabled reactor2 false
print "STOP system fuel low\n"
jump *label254 always
label *label223
jump *label224 greaterThan :start_reactor:fuel 1
control enabled reactor2 false
print "STOP fuel low\n"
jump *label254 always
label *label224
jump *label225 greaterThan :start_reactor:cryo 1
control enabled reactor2 false
print "STOP out of cryo\n"
jump *label254 always
label *label225
jump *label233 greaterThanEq :start_reactor:secs 30
op sub *tmp94 @tick :t_startup2
op idiv :calc_charge_req:secs *tmp94 60
jump *label227 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor2 @enabled
jump *label228 notEqual *tmp97 false
label *label227
set :calc_charge_req*retval 0
jump *label230 always
label *label228
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label230
op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
jump *label231 greaterThanEq *tmp143 5000
jump *label231 greaterThanEq :start_reactor:surplus -500
control enabled reactor2 false
print "START FAIL battery\n"
set :start_reactor:supply_fuel false
jump *label254 always
label *label231
op sub :start_reactor:time_left 30 :start_reactor:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor:time_left
format :calc_charge_req*retval
jump *label254 always
label *label233
jump *label234 greaterThanEq :start_reactor:charge 2000
jump *label234 greaterThanEq :start_reactor:surplus -500
control enabled reactor2 false
print "ABANDON - battery crit\n"
set :start_reactor:supply_fuel false
jump *label254 always
label *label234
op idiv :start_reactor:mins :start_reactor:secs 6
op div :start_reactor:mins :start_reactor:mins 10
print "RUN {0} mins\n"
format :start_reactor:mins
jump *label254 always
label *label241
op sub *tmp157 :start_reactor:charge .START_POWER_REQ
op sub *tmp158 *tmp157 5000
op div *tmp159 *tmp158 23000
op div :start_reactor:charge_units *tmp158 38333.333333333336
op div *tmp161 :start_reactor:surplus 2000
op max :start_reactor:flow_units -0.1 *tmp161
op mul *tmp163 2 2
op add :start_reactor:cryo_req 3 4
jump *label242 greaterThanEq .REACTORS_DESIRED 2
print "IDLE\n"
set :start_reactor:supply_fuel false
jump *label253 always
label *label242
op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
jump *label243 greaterThanEq *tmp167 1
op idiv *tmp171 :start_reactor:flow_units 0.001
op div :start_reactor:flow *tmp171 10
op idiv *tmp174 :start_reactor:charge_units 0.001
op div :start_reactor:charge *tmp174 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor:charge
format :start_reactor:flow
set :start_reactor:supply_fuel false
jump *label252 always
label *label243
jump *label246 equal :fuel_2 false
jump *label246 greaterThanEq :start_reactor:fuel 10
op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
jump *label244 lessThanEq *tmp178 10
print "WAIT fuel\n"
jump *label251 always
label *label244
print "WAIT system fuel\n"
jump *label251 always
label *label246
op mul *tmp181 45 2
jump *label247 greaterThanEq :start_reactor:fuel_stored 90
print "WAIT buffer fuel\n"
jump *label250 always
label *label247
jump *label248 greaterThanEq :start_reactor:cryo 7
print "WAIT cryo\n"
jump *label249 always
label *label248
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor2 true
label *label249
label *label250
label *label251
label *label252
label *label253
label *label254
label *label255
sensor *tmp188 reactor2 @enabled
select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup2
set :fuel_2 :start_reactor:supply_fuel
set :t_startup2 .RET_T_STARTUP
select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
control config unloader3 *tmp89
select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
control config unloader4 *tmp93
radar enemy any any health cyclone1 1 :check_radar:enemy_found
jump *label180 equal :check_radar:enemy_found null
control enabled projector1 true
control enabled projector2 true
control config unloader1 @scrap
control config unloader2 @blast-compound
control config unloader3 @scrap
control config unloader4 @blast-compound
control config unloader5 @scrap
control config unloader6 @blast-compound
control config unloader7 @scrap
control enabled reactor1 false
control enabled reactor2 false
control enabled reactor3 false
control enabled reactor4 false
control enabled reactor5 false
set :check_radar*retval true
jump *label181 always
label *label180
control enabled projector1 false
control enabled projector2 false
set :check_radar*retval false
label *label181
op or :emerg_shutdown :emerg_shutdown :check_radar*retval
op sub *tmp104 @tick :t_startup3
op idiv :start_reactor:secs *tmp104 60
sensor :start_reactor:fuel reactor3 @blast-compound
set :start_reactor:supply_fuel true
sensor :start_reactor:fuel_stored vault1 @blast-compound
sensor :start_reactor:cryo reactor3 @cryofluid
sensor *tmp109 node1 @powerNetStored
op floor :start_reactor:charge *tmp109
sensor *tmp111 node1 @powerNetIn
sensor *tmp112 node1 @powerNetOut
op sub *tmp113 *tmp111 *tmp112
op floor :start_reactor:surplus *tmp113
op mul *tmp115 .AVG_SURPLUS 0.8
op mul *tmp116 :start_reactor:surplus 0.2
op add .AVG_SURPLUS *tmp115 *tmp116
sensor :start_reactor:enabled reactor3 @enabled
print "#3 - "
jump *label258 equal :emerg_shutdown false
control enabled reactor3 false
print "emergency mode\n"
set :start_reactor:supply_fuel false
jump *label292 always
label *label258
jump *label278 equal :start_reactor:enabled false
jump *label259 greaterThanEq .REACTORS_DESIRED 3
control enabled reactor3 false
print "STOP unwanted\n"
jump *label291 always
label *label259
op mul *tmp128 15 3
jump *label260 greaterThanEq :start_reactor:fuel_stored 45
control enabled reactor3 false
print "STOP system fuel low\n"
jump *label291 always
label *label260
jump *label261 greaterThan :start_reactor:fuel 1
control enabled reactor3 false
print "STOP fuel low\n"
jump *label291 always
label *label261
jump *label262 greaterThan :start_reactor:cryo 1
control enabled reactor3 false
print "STOP out of cryo\n"
jump *label291 always
label *label262
jump *label270 greaterThanEq :start_reactor:secs 30
op sub *tmp94 @tick :t_startup3
op idiv :calc_charge_req:secs *tmp94 60
jump *label264 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor3 @enabled
jump *label265 notEqual *tmp97 false
label *label264
set :calc_charge_req*retval 0
jump *label267 always
label *label265
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label267
op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
jump *label268 greaterThanEq *tmp143 5000
jump *label268 greaterThanEq :start_reactor:surplus -500
control enabled reactor3 false
print "START FAIL battery\n"
set :start_reactor:supply_fuel false
jump *label291 always
label *label268
op sub :start_reactor:time_left 30 :start_reactor:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor:time_left
format :calc_charge_req*retval
jump *label291 always
label *label270
jump *label271 greaterThanEq :start_reactor:charge 2000
jump *label271 greaterThanEq :start_reactor:surplus -500
control enabled reactor3 false
print "ABANDON - battery crit\n"
set :start_reactor:supply_fuel false
jump *label291 always
label *label271
op idiv :start_reactor:mins :start_reactor:secs 6
op div :start_reactor:mins :start_reactor:mins 10
print "RUN {0} mins\n"
format :start_reactor:mins
jump *label291 always
label *label278
op sub *tmp157 :start_reactor:charge .START_POWER_REQ
op sub *tmp158 *tmp157 5000
op div *tmp159 *tmp158 23000
op div :start_reactor:charge_units *tmp158 38333.333333333336
op div *tmp161 :start_reactor:surplus 2000
op max :start_reactor:flow_units -0.1 *tmp161
op mul *tmp163 2 3
op add :start_reactor:cryo_req 3 6
jump *label279 greaterThanEq .REACTORS_DESIRED 3
print "IDLE\n"
set :start_reactor:supply_fuel false
jump *label290 always
label *label279
op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
jump *label280 greaterThanEq *tmp167 1
op idiv *tmp171 :start_reactor:flow_units 0.001
op div :start_reactor:flow *tmp171 10
op idiv *tmp174 :start_reactor:charge_units 0.001
op div :start_reactor:charge *tmp174 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor:charge
format :start_reactor:flow
set :start_reactor:supply_fuel false
jump *label289 always
label *label280
jump *label283 equal :fuel_3 false
jump *label283 greaterThanEq :start_reactor:fuel 10
op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
jump *label281 lessThanEq *tmp178 10
print "WAIT fuel\n"
jump *label288 always
label *label281
print "WAIT system fuel\n"
jump *label288 always
label *label283
op mul *tmp181 45 3
jump *label284 greaterThanEq :start_reactor:fuel_stored 135
print "WAIT buffer fuel\n"
jump *label287 always
label *label284
jump *label285 greaterThanEq :start_reactor:cryo 9
print "WAIT cryo\n"
jump *label286 always
label *label285
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor3 true
label *label286
label *label287
label *label288
label *label289
label *label290
label *label291
label *label292
sensor *tmp188 reactor3 @enabled
select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup3
set :fuel_3 :start_reactor:supply_fuel
set :t_startup3 .RET_T_STARTUP
set :start_reactor:reactor reactor4
set :start_reactor:reactor_num 4
set :start_reactor:emerg_shutdown :emerg_shutdown
set :start_reactor:fuel_on :fuel_4
set :start_reactor:t_startup :t_startup4
setaddr :start_reactor*retaddr *label27
call *label3 *invalid :start_reactor*retval
label *label27
set :fuel_4 :start_reactor*retval
set :t_startup4 .RET_T_STARTUP
set :start_reactor:reactor reactor5
set :start_reactor:reactor_num 5
set :start_reactor:emerg_shutdown :emerg_shutdown
set :start_reactor:fuel_on :fuel_5
set :start_reactor:t_startup :t_startup5
setaddr :start_reactor*retaddr *label28
call *label3 *invalid :start_reactor*retval
label *label28
set :fuel_5 :start_reactor*retval
set :t_startup5 .RET_T_STARTUP
op or *tmp219 :start_reactor:supply_fuel :fuel_4
op or *tmp26 *tmp219 :start_reactor*retval
select *tmp89 notEqual *tmp26 false @blast-compound @scrap
control config unloader5 *tmp89
select *tmp93 equal *tmp26 false @blast-compound @scrap
control config unloader6 *tmp93
op or *tmp220 :fuel_1 :fuel_2
op or *tmp28 *tmp220 *tmp26
sensor *tmp30 node1 @powerNetStored
op floor :throttle_blast:charge *tmp30
sensor *tmp32 node1 @powerNetIn
sensor *tmp33 node1 @powerNetOut
op sub *tmp34 *tmp32 *tmp33
op floor :throttle_blast:surplus *tmp34
sensor :throttle_blast:fuel_stored vault1 @blast-compound
jump *label44 greaterThanEq :throttle_blast:charge 5000
jump *label43 lessThan :throttle_blast:surplus -500
label *label44
jump *label41 equal :emerg_shutdown false
label *label43
set :throttle_blast:limit 0
print "Central Fuel at {0} / 0 - "
format :throttle_blast:fuel_stored
jump *label46 equal :emerg_shutdown false
print " Enemies detected.\n"
jump *label42 always
label *label46
print " Critical power.\n"
jump *label42 always
label *label41
jump *label48 notEqual *tmp28 false
set :throttle_blast:limit 150
print "Fuel {0} / 150 (due to emergency)\n"
format :throttle_blast:fuel_stored
jump *label49 always
label *label48
set :throttle_blast:limit 800
print "Fuel {0} / 800\n"
format :throttle_blast:fuel_stored
label *label49
label *label42
select *tmp46 lessThan :throttle_blast:fuel_stored :throttle_blast:limit @pyratite @scrap
control config unloader7 *tmp46
sensor *tmp48 node1 @powerNetStored
sensor *tmp49 node1 @powerNetCapacity
op div :diff_generators:stored_pc *tmp48 *tmp49
jump *label53 lessThanEq :diff_generators:stored_pc 0.9
jump *label53 greaterThanEq .START_POWER_REQ 10
print "Differential now idle.\n"
control enabled generator1 false
control enabled generator2 false
jump *label54 always
label *label53
control enabled generator1 true
control enabled generator2 true
label *label54
op idiv *tmp85 .AVG_SURPLUS 100
op div :surplus *tmp85 10
sensor :kilo:val node1 @powerNetStored
op idiv *tmp85 :kilo:val 100
op div :kilo*retval *tmp85 10
set :charge :kilo*retval
jump *label59 lessThanEq .START_POWER_REQ 0
op idiv *tmp85 .START_POWER_REQ 100
op div :kilo*retval *tmp85 10
print "Req {0}kJ / {0}kJ. {0}kW flow.\n"
format :kilo*retval
format :charge
format :surplus
jump *label60 always
label *label59
print "Power {0}kW, {0}kJ\n"
format :surplus
format :kilo*retval
sensor *tmp65 node1 @powerNetStored
sensor *tmp66 node1 @powerNetCapacity
op div :update_reactors_desired:stored *tmp65 *tmp66
jump *label63 lessThanEq :update_reactors_desired:stored 0.98
jump *label63 lessThanEq .AVG_SURPLUS 16500
jump *label67 lessThanEq .REACTORS_DESIRED 2
op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
op sub .AVG_SURPLUS .AVG_SURPLUS 6500
label *label67
label *label63
jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
jump *label69 greaterThanEq .AVG_SURPLUS 8000
op sub *tmp78 .AVG_SURPLUS 10000
op idiv *tmp79 *tmp78 6500
op max :update_reactors_desired:needed 1 *tmp79
op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
op min .REACTORS_DESIRED 5 *tmp81
label *label69
label *label60
jump *label73 equal .REACTORS_DESIRED 5
print "Require only {0}/5 reactors.\n"
format .REACTORS_DESIRED
label *label73
printflush message1
jump *label7 always
label *label3
op sub *tmp104 @tick :start_reactor:t_startup
op idiv :start_reactor:secs *tmp104 60
sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
set :start_reactor*retval true
sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
sensor *tmp109 .NODE @powerNetStored
op floor :start_reactor:charge *tmp109
sensor *tmp111 .NODE @powerNetIn
sensor *tmp112 .NODE @powerNetOut
op sub *tmp113 *tmp111 *tmp112
op floor :start_reactor:surplus *tmp113
op mul *tmp115 .AVG_SURPLUS 0.8
op mul *tmp116 :start_reactor:surplus 0.2
op add .AVG_SURPLUS *tmp115 *tmp116
sensor :start_reactor:enabled :start_reactor:reactor @enabled
print "#{0} - "
format :start_reactor:reactor_num
jump *label87 equal :start_reactor:emerg_shutdown false
control enabled :start_reactor:reactor false
print "emergency mode\n"
set :start_reactor*retval false
jump *label88 always
label *label87
jump *label89 equal :start_reactor:enabled false
jump *label91 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
control enabled :start_reactor:reactor false
print "STOP unwanted\n"
jump *label90 always
label *label91
jump *label93 lessThanEq :start_reactor:reactor_num 1
op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
jump *label93 greaterThanEq :start_reactor:fuel_stored *tmp128
control enabled :start_reactor:reactor false
print "STOP system fuel low\n"
jump *label90 always
label *label93
jump *label97 greaterThan :start_reactor:fuel 1
control enabled :start_reactor:reactor false
print "STOP fuel low\n"
jump *label90 always
label *label97
jump *label99 greaterThan :start_reactor:cryo .CRYO_ABORT
control enabled :start_reactor:reactor false
print "STOP out of cryo\n"
jump *label90 always
label *label99
jump *label101 greaterThanEq :start_reactor:secs 30
op sub *tmp94 @tick :start_reactor:t_startup
op idiv :calc_charge_req:secs *tmp94 60
jump *label171 greaterThan :calc_charge_req:secs 30
sensor *tmp97 :start_reactor:reactor @enabled
jump *label172 notEqual *tmp97 false
label *label171
set :calc_charge_req*retval 0
jump *label174 always
label *label172
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label174
op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
jump *label104 greaterThanEq *tmp143 .PWR_ABORT
jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
control enabled :start_reactor:reactor false
print "START FAIL battery\n"
set :start_reactor*retval false
jump *label90 always
label *label104
op sub :start_reactor:time_left 30 :start_reactor:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor:time_left
format :calc_charge_req*retval
jump *label90 always
label *label101
jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
control enabled :start_reactor:reactor false
print "ABANDON - battery crit\n"
set :start_reactor*retval false
jump *label90 always
label *label108
op idiv :start_reactor:mins :start_reactor:secs 6
op div :start_reactor:mins :start_reactor:mins 10
print "RUN {0} mins\n"
format :start_reactor:mins
jump *label90 always
label *label89
op sub *tmp157 :start_reactor:charge .START_POWER_REQ
op sub *tmp158 *tmp157 .PWR_ABORT
op div *tmp159 *tmp158 .PWR_REQ
op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
op div *tmp161 :start_reactor:surplus .FLOW_REQ
op max :start_reactor:flow_units -0.1 *tmp161
op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
op add :start_reactor:cryo_req .CRYO_REQ *tmp163
jump *label112 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
print "IDLE\n"
set :start_reactor*retval false
jump *label113 always
label *label112
op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
jump *label114 greaterThanEq *tmp167 1
op idiv *tmp171 :start_reactor:flow_units 0.001
op div :start_reactor:flow *tmp171 10
op idiv *tmp174 :start_reactor:charge_units 0.001
op div :start_reactor:charge *tmp174 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor:charge
format :start_reactor:flow
set :start_reactor*retval false
jump *label115 always
label *label114
jump *label116 equal :start_reactor:fuel_on false
jump *label116 greaterThanEq :start_reactor:fuel .FUEL_REQ
op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
jump *label120 lessThanEq *tmp178 .FUEL_REQ
print "WAIT fuel\n"
jump *label117 always
label *label120
print "WAIT system fuel\n"
jump *label117 always
label *label116
op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
jump *label122 greaterThanEq :start_reactor:fuel_stored *tmp181
print "WAIT buffer fuel\n"
jump *label123 always
label *label122
jump *label124 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
print "WAIT cryo\n"
jump *label125 always
label *label124
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
control enabled :start_reactor:reactor true
label *label125
label *label123
label *label117
label *label115
label *label113
label *label90
label *label88
sensor *tmp188 :start_reactor:reactor @enabled
select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
return :start_reactor*retaddr
