   684 instructions before optimizations.
    63 instructions eliminated by Temp Variables Elimination (6 iterations).
    60 instructions eliminated by Dead Code Elimination (11 iterations).
     3 instructions eliminated by Jump Normalization (2 passes, 5 iterations).
    36 instructions eliminated by Jump Optimization (5 iterations).
    39 instructions eliminated by Single Step Elimination (2 passes, 7 iterations).
     3 instructions eliminated by Expression Optimization (3 iterations).
    12 instructions eliminated by If Expression Optimization (4 iterations).
    83 instructions eliminated by Data Flow Optimization (9 passes, 29 iterations).
   499 instructions added by Function Inlining (10 iterations).
    17 function calls inlined by Function Inlining.
     5 instructions eliminated by Jump Straightening (5 iterations).
    34 instructions updated by Jump Threading.
    11 instructions eliminated by Unreachable Code Elimination (2 iterations).
   131 instructions eliminated by Print Merging.
   737 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 540):
  * Inline function 'kilo' defined at line 117:1                 size    +3, benefit      218.8, efficiency     72.917 (-4 instructions)
    Inline function 'update_fuel' defined at line 121:1          size    +5, benefit      337.5, efficiency     67.500
    Inline function 'calc_charge_req' defined at line 126:1      size   +54, benefit      503.9, efficiency      9.332
  ! Inline function 'start_reactor' defined at line 140:1        size  +559, benefit      687.5, efficiency      1.230
    Inline function 'check_radar' defined at line 259:1          size   +21, benefit      175.0, efficiency      8.333
    Inline function call at line 69:22                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 73:23                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 74:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 75:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 76:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 77:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 80:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 82:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 84:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 86:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 88:23                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 89:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 91:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 93:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 96:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 102:15                          size    +2, benefit       87.5, efficiency     43.750
    Inline function call at line 103:14                          size    +2, benefit       87.5, efficiency     43.750
    Inline function call at line 105:15                          size    +2, benefit       43.8, efficiency     21.875
    Inline function call at line 173:26                          size   +11, benefit        3.9, efficiency      0.355

Pass 1: speed optimization selection (cost limit 544):
  * Inline function 'update_fuel' defined at line 121:1          size    +5, benefit      337.5, efficiency     67.500 (-9 instructions)
    Inline function 'calc_charge_req' defined at line 126:1      size   +54, benefit      503.9, efficiency      9.332
  ! Inline function 'start_reactor' defined at line 140:1        size  +559, benefit      687.5, efficiency      1.230
    Inline function 'check_radar' defined at line 259:1          size   +21, benefit      175.0, efficiency      8.333
    Inline function call at line 69:22                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 73:23                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 74:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 75:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 76:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 77:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 80:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 82:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 84:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 86:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 88:23                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 89:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 91:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 93:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 96:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 173:26                          size   +11, benefit        3.9, efficiency      0.355

Pass 1: speed optimization selection (cost limit 553):
  * Inline function 'calc_charge_req' defined at line 126:1      size   +54, benefit      503.9, efficiency      9.332 (+33 instructions)
  ! Inline function 'start_reactor' defined at line 140:1        size  +559, benefit      687.5, efficiency      1.230
    Inline function 'check_radar' defined at line 259:1          size   +21, benefit      175.0, efficiency      8.333
    Inline function call at line 69:22                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 73:23                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 74:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 75:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 76:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 77:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 80:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 84:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 88:23                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 89:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 91:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 93:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 173:26                          size   +11, benefit        3.9, efficiency      0.355

Pass 1: speed optimization selection (cost limit 520):
  ! Inline function 'start_reactor' defined at line 140:1        size  +587, benefit      687.5, efficiency      1.171
  * Inline function 'check_radar' defined at line 259:1          size   +21, benefit      175.0, efficiency      8.333 (+6 instructions)
    Inline function call at line 69:22                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 80:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 84:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 88:23                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 89:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 91:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 93:14                           size  +147, benefit      137.5, efficiency      0.935

Pass 1: speed optimization selection (cost limit 514):
  ! Inline function 'start_reactor' defined at line 140:1        size  +587, benefit      687.5, efficiency      1.171
  * Inline function call at line 80:14                           size  +147, benefit      137.5, efficiency      0.935 (+139 instructions)
    Inline function call at line 84:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 89:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 91:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 93:14                           size  +147, benefit      137.5, efficiency      0.935

Pass 1: speed optimization selection (cost limit 375):
  ! Inline function 'start_reactor' defined at line 140:1        size  +440, benefit      550.0, efficiency      1.250
  * Inline function call at line 84:14                           size  +147, benefit      137.5, efficiency      0.935 (+140 instructions)
    Inline function call at line 89:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 91:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 93:14                           size  +147, benefit      137.5, efficiency      0.935

Pass 1: speed optimization selection (cost limit 235):
  ! Inline function 'start_reactor' defined at line 140:1        size  +293, benefit      412.5, efficiency      1.408
  * Inline function call at line 89:14                           size  +147, benefit      137.5, efficiency      0.935 (+140 instructions)
    Inline function call at line 91:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 93:14                           size  +147, benefit      137.5, efficiency      0.935

Pass 1: speed optimization selection (cost limit 95):
  ! Inline function 'start_reactor' defined at line 140:1        size  +146, benefit      275.0, efficiency      1.884
  ! Inline function call at line 91:14                           size  +147, benefit      137.5, efficiency      0.935
  ! Inline function call at line 93:14                           size  +147, benefit      137.5, efficiency      0.935

Pass 2: speed optimization selection (cost limit 121):
  ! Inline function 'start_reactor' defined at line 140:1        size  +143, benefit      275.0, efficiency      1.923
  ! Inline function call at line 91:14                           size  +144, benefit      137.5, efficiency      0.955
  ! Inline function call at line 93:14                           size  +144, benefit      137.5, efficiency      0.955

Pass 3: speed optimization selection (cost limit 121):
  ! Inline function 'start_reactor' defined at line 140:1        size  +143, benefit      275.0, efficiency      1.923
  ! Inline function call at line 91:14                           size  +144, benefit      137.5, efficiency      0.955
  ! Inline function call at line 93:14                           size  +144, benefit      137.5, efficiency      0.955

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-20 instructions):
 
    74 print "\n"
    75 set *tmp8 true
    76 jump *label11 always
-    * set *tmp12 null
    77 jump *label13 always
    78 label *label12
-    * set *tmp12 null
    79 label *label13
    80 set *tmp8 false
    81 jump *label11 always
 
   134 setaddr :update_fuel*retaddr *label22 (h:*label22)
   135 call *label1 *invalid :update_fuel*retval (m:*label22) (h:*label22)
   136 label *label22
-    * set *tmp19 :update_fuel*retval
   137 set :start_reactor:reactor reactor2
   138 set :start_reactor:reactor_num 2
   139 set :start_reactor:emerg_shutdown :emerg_shutdown
 
   151 setaddr :update_fuel*retaddr *label24 (h:*label24)
   152 call *label1 *invalid :update_fuel*retval (m:*label24) (h:*label24)
   153 label *label24
-    * set *tmp21 :update_fuel*retval
   154 set :check_radar:unit .TOWER
   155 setaddr :check_radar*retaddr *label25 (h:*label25)
   156 call *label4 *invalid :check_radar*retval (m:*label25) (h:*label25)
 
   210 setaddr :update_fuel*retaddr *label34 (h:*label34)
   211 call *label1 *invalid :update_fuel*retval (m:*label34) (h:*label34)
   212 label *label34
-    * set *tmp27 :update_fuel*retval
   213 jump *label37 notEqual :fuel_1 false
   214 label *label39
   215 jump *label37 notEqual :fuel_2 false
 
   263 print "\n"
   264 set *tmp40 null
   265 label *label47
-    * set *tmp39 *tmp40
   266 jump *label42 always
   267 label *label41
   268 op equal *tmp41 :throttle_blast:reactors_fueled false
 
   289 print "n"
   290 set *tmp42 null
   291 label *label49
-    * set *tmp39 *tmp42
   292 label *label42
   293 op lessThan *tmp43 :throttle_blast:fuel_stored :throttle_blast:limit
   294 set *tmp29 *tmp43
 
   326 control enabled generator2 true
   327 set *tmp53 true
   328 label *label54
-    * set *tmp47 *tmp53
   329 label *label52
   330 set :kilo:val .AVG_SURPLUS
   331 setaddr :kilo*retaddr *label57 (h:*label57)
 
   356 print :surplus
   357 print "kW flow."
   358 print "\n"
-    * set *tmp62 null
   359 jump *label60 always
   360 label *label59
   361 print "Power "
 
   385 label *label67
   386 set *tmp73 null
   387 label *label68
-    * set *tmp71 *tmp73
   388 jump *label64 always
   389 label *label63
-    * set *tmp71 null
   390 label *label64
   391 op lessThan *tmp74 :update_reactors_desired:stored 0.8
   392 jump *label69 equal *tmp74 false
 
   410 label *label70
   411 set *tmp64 *tmp77
   412 label *label62
-    * set *tmp62 *tmp64
   413 label *label60
   414 op notEqual *tmp83 .REACTORS_DESIRED 5
   415 jump *label73 equal *tmp83 false
 
   417 print .REACTORS_DESIRED
   418 print "/5 reactors."
   419 print "\n"
-    * set *tmp84 null
   420 jump *label74 always
   421 label *label73
-    * set *tmp84 null
   422 label *label74
   423 printflush message1
   424 label *label8
 
   470 label *label84
   471 set :calc_charge_req*retval 0
   472 jump *label81 always
-    * set *tmp99 null
   473 jump *label83 always
   474 label *label82
-    * set *tmp99 null
   475 label *label83
   476 op sub *tmp100 30 :calc_charge_req:secs
   477 set :calc_charge_req:time_left *tmp100
 
   521 print "emergency mode"
   522 print "\n"
   523 set :start_reactor:supply_fuel false
-    * set *tmp119 :start_reactor:supply_fuel
   524 jump *label88 always
   525 label *label87
   526 jump *label89 equal :start_reactor:enabled false
 
   736 label *label113
   737 set *tmp122 *tmp166
   738 label *label90
-    * set *tmp119 *tmp122
   739 label *label88
   740 sensor *tmp188 :start_reactor:reactor @enabled
   741 op notEqual *tmp189 :start_reactor:enabled *tmp188
   742 jump *label126 equal *tmp189 false
   743 set *tmp191 @tick
   744 set .RET_T_STARTUP *tmp191
-    * set *tmp190 .RET_T_STARTUP
   745 jump *label127 always
   746 label *label126
-    * set *tmp190 null
   747 label *label127
   748 set :start_reactor*retval :start_reactor:supply_fuel
   749 jump *label86 always

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-12 instructions):
 
   256 jump *label46 equal :throttle_blast:emerg_shutdown false
   257 print " Enemies detected."
   258 print "\n"
-    * set *tmp40 null
   259 jump *label47 always
   260 label *label46
   261 print " Critical power."
   262 print "\n"
-    * set *tmp40 null
   263 label *label47
   264 jump *label42 always
   265 label *label41
 
   274 print " "
   275 print "(due to emergency)"
   276 print "\n"
-    * set *tmp42 null
   277 jump *label49 always
   278 label *label48
   279 set :throttle_blast:limit .FUEL_LIMIT
 
   284 print :throttle_blast:limit
   285 print "\"
   286 print "n"
-    * set *tmp42 null
   287 label *label49
   288 label *label42
   289 op lessThan *tmp43 :throttle_blast:fuel_stored :throttle_blast:limit
 
   315 print "\n"
   316 control enabled generator1 false
   317 control enabled generator2 false
-    * set *tmp53 false
   318 jump *label54 always
   319 label *label53
   320 control enabled generator1 true
   321 control enabled generator2 true
-    * set *tmp53 true
   322 label *label54
   323 label *label52
   324 set :kilo:val .AVG_SURPLUS
 
   374 jump *label67 equal *tmp72 false
   375 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   376 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
-    * set *tmp73 .AVG_SURPLUS
   377 jump *label68 always
   378 label *label67
-    * set *tmp73 null
   379 label *label68
   380 jump *label64 always
   381 label *label63
 
   400 label *label69
   401 set *tmp77 null
   402 label *label70
-    * set *tmp64 *tmp77
   403 label *label62
   404 label *label60
   405 op notEqual *tmp83 .REACTORS_DESIRED 5
 
   443 set *tmp93 .FUEL_OFF
   444 label *label80
   445 control config *tmp90 *tmp93
-    * set :update_fuel*retval *tmp93
   446 label *label76
   447 return :update_fuel*retaddr
   448 end
 
   630 label *label94
   631 set *tmp124 *tmp130
   632 label *label92
-    * set *tmp122 *tmp124
   633 jump *label90 always
   634 label *label89
   635 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   723 label *label115
   724 set *tmp166 *tmp169
   725 label *label113
-    * set *tmp122 *tmp166
   726 label *label90
   727 label *label88
   728 sensor *tmp188 :start_reactor:reactor @enabled

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-6 instructions):
 
   395 op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
   396 op min *tmp82 5 *tmp81
   397 set .REACTORS_DESIRED *tmp82
-    * set *tmp77 .REACTORS_DESIRED
   398 jump *label70 always
   399 label *label69
-    * set *tmp77 null
   400 label *label70
   401 label *label62
   402 label *label60
 
   518 control enabled *tmp125 false
   519 print "STOP unwanted"
   520 print "\n"
-    * set *tmp124 null
   521 jump *label92 always
   522 label *label91
   523 op greaterThan *tmp127 :start_reactor:reactor_num 1
 
   625 label *label98
   626 set *tmp130 *tmp134
   627 label *label94
-    * set *tmp124 *tmp130
   628 label *label92
   629 jump *label90 always
   630 label *label89
 
   644 print "IDLE"
   645 print "\n"
   646 set :start_reactor:supply_fuel false
-    * set *tmp166 :start_reactor:supply_fuel
   647 jump *label113 always
   648 label *label112
   649 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
 
   716 label *label117
   717 set *tmp169 *tmp177
   718 label *label115
-    * set *tmp166 *tmp169
   719 label *label113
   720 label *label90
   721 label *label88

Modifications by Initial phase, Dead Code Elimination, iteration 4 (-4 instructions):
 
   532 control enabled *tmp131 false
   533 print "STOP system fuel low"
   534 print "\n"
-    * set *tmp130 null
   535 jump *label94 always
   536 label *label93
   537 op lessThanEq *tmp133 :start_reactor:fuel 1
 
   622 label *label100
   623 set *tmp134 *tmp138
   624 label *label98
-    * set *tmp130 *tmp134
   625 label *label94
   626 label *label92
   627 jump *label90 always
 
   662 print "W)"
   663 print "\n"
   664 set :start_reactor:supply_fuel false
-    * set *tmp169 :start_reactor:supply_fuel
   665 jump *label115 always
   666 label *label114
   667 jump *label116 equal :start_reactor:fuel_on false
 
   711 label *label123
   712 set *tmp177 *tmp183
   713 label *label117
-    * set *tmp169 *tmp177
   714 label *label115
   715 label *label113
   716 label *label90

Modifications by Initial phase, Dead Code Elimination, iteration 5 (-4 instructions):
 
   540 control enabled *tmp135 false
   541 print "STOP fuel low"
   542 print "\n"
-    * set *tmp134 null
   543 jump *label98 always
   544 label *label97
   545 op lessThanEq *tmp137 :start_reactor:cryo .CRYO_ABORT
 
   619 label *label102
   620 set *tmp138 *tmp142
   621 label *label100
-    * set *tmp134 *tmp138
   622 label *label98
   623 label *label94
   624 label *label92
 
   680 print "\n"
   681 set *tmp180 null
   682 label *label121
-    * set *tmp177 *tmp180
   683 jump *label117 always
   684 label *label116
   685 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
 
   706 label *label125
   707 set *tmp183 *tmp185
   708 label *label123
-    * set *tmp177 *tmp183
   709 label *label117
   710 label *label115
   711 label *label113

Modifications by Initial phase, Dead Code Elimination, iteration 6 (-6 instructions):
 
   548 control enabled *tmp139 false
   549 print "STOP out of cryo"
   550 print "\n"
-    * set *tmp138 null
   551 jump *label100 always
   552 label *label99
   553 op lessThan *tmp141 :start_reactor:secs 30
 
   616 label *label109
   617 set *tmp142 *tmp152
   618 label *label102
-    * set *tmp138 *tmp142
   619 label *label100
   620 label *label98
   621 label *label94
 
   671 jump *label120 equal *tmp179 false
   672 print "WAIT fuel"
   673 print "\n"
-    * set *tmp180 null
   674 jump *label121 always
   675 label *label120
   676 print "WAIT system fuel"
   677 print "\n"
-    * set *tmp180 null
   678 label *label121
   679 jump *label117 always
   680 label *label116
 
   683 jump *label122 equal *tmp182 false
   684 print "WAIT buffer fuel"
   685 print "\n"
-    * set *tmp183 null
   686 jump *label123 always
   687 label *label122
   688 op lessThan *tmp184 :start_reactor:cryo :start_reactor:cryo_req
 
   699 control enabled *tmp186 true
   700 set *tmp185 true
   701 label *label125
-    * set *tmp183 *tmp185
   702 label *label123
   703 label *label117
   704 label *label115

Modifications by Initial phase, Dead Code Elimination, iteration 7 (-4 instructions):
 
   585 print "\n"
   586 set *tmp146 null
   587 label *label105
-    * set *tmp142 *tmp146
   588 jump *label102 always
   589 label *label101
   590 op lessThan *tmp150 :start_reactor:charge .PWR_ABANDON
 
   613 print "\n"
   614 set *tmp152 null
   615 label *label109
-    * set *tmp142 *tmp152
   616 label *label102
   617 label *label100
   618 label *label98
 
   687 jump *label124 equal *tmp184 false
   688 print "WAIT cryo"
   689 print "\n"
-    * set *tmp185 null
   690 jump *label125 always
   691 label *label124
   692 print "STARTUP"
 
   694 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
   695 set *tmp186 :start_reactor:reactor
   696 control enabled *tmp186 true
-    * set *tmp185 true
   697 label *label125
   698 label *label123
   699 label *label117

Modifications by Initial phase, Dead Code Elimination, iteration 8 (-4 instructions):
 
   571 print "START FAIL battery"
   572 print "\n"
   573 set :start_reactor:supply_fuel false
-    * set *tmp146 :start_reactor:supply_fuel
   574 jump *label105 always
   575 label *label104
   576 op sub *tmp149 30 :start_reactor:secs
 
   582 print :start_reactor:charge_req
   583 print "J"
   584 print "\n"
-    * set *tmp146 null
   585 label *label105
   586 jump *label102 always
   587 label *label101
 
   597 print "ABANDON - battery crit"
   598 print "\n"
   599 set :start_reactor:supply_fuel false
-    * set *tmp152 :start_reactor:supply_fuel
   600 jump *label109 always
   601 label *label108
   602 op idiv *tmp155 :start_reactor:secs 6
 
   608 print " "
   609 print "mins"
   610 print "\n"
-    * set *tmp152 null
   611 label *label109
   612 label *label102
   613 label *label100

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-63 instructions):
 
    25 sensor *tmp0 node1 @powerNetIn
    26 sensor *tmp1 node1 @powerNetOut
    27 op sub *tmp2 *tmp0 *tmp1
-    * op floor *tmp3 *tmp2
-    * set :surplus *tmp3
+   28 op floor :surplus *tmp2
    29 op greaterThan *tmp4 :surplus 10000
    30 jump *label5 equal *tmp4 false
-    * op sub *tmp6 @tick 3600
-    * set *tmp5 *tmp6
+   31 op sub *tmp5 @tick 3600
    32 jump *label6 always
    33 label *label5
    34 set *tmp5 @tick
 
    58 setaddr :check_radar*retaddr *label10 (h:*label10)
    59 call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
    60 label *label10
-    * set *tmp7 :check_radar*retval
-    * set :emerg_shutdown *tmp7
+   61 set :emerg_shutdown :check_radar*retval
    62 op notEqual *tmp9 switch1 null
    63 jump *label12 equal *tmp9 false
    64 label *label15
 
    84 setaddr :calc_charge_req*retaddr *label16 (h:*label16)
    85 call *label2 *invalid :calc_charge_req*retval (m:*label16) (h:*label16)
    86 label *label16
-    * set *tmp13 :calc_charge_req*retval
-    * set .START_POWER_REQ *tmp13
+   87 set .START_POWER_REQ :calc_charge_req*retval
    88 set :calc_charge_req:reactor reactor2
    89 set :calc_charge_req:time :t_startup2
    90 setaddr :calc_charge_req*retaddr *label17 (h:*label17)
    91 call *label2 *invalid :calc_charge_req*retval (m:*label17) (h:*label17)
    92 label *label17
-    * set *tmp14 :calc_charge_req*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp14
+   93 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
    94 set :calc_charge_req:reactor reactor3
    95 set :calc_charge_req:time :t_startup3
    96 setaddr :calc_charge_req*retaddr *label18 (h:*label18)
    97 call *label2 *invalid :calc_charge_req*retval (m:*label18) (h:*label18)
    98 label *label18
-    * set *tmp15 :calc_charge_req*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp15
+   99 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   100 set :calc_charge_req:reactor reactor4
   101 set :calc_charge_req:time :t_startup4
   102 setaddr :calc_charge_req*retaddr *label19 (h:*label19)
   103 call *label2 *invalid :calc_charge_req*retval (m:*label19) (h:*label19)
   104 label *label19
-    * set *tmp16 :calc_charge_req*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp16
+  105 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   106 set :calc_charge_req:reactor reactor5
   107 set :calc_charge_req:time :t_startup5
   108 setaddr :calc_charge_req*retaddr *label20 (h:*label20)
   109 call *label2 *invalid :calc_charge_req*retval (m:*label20) (h:*label20)
   110 label *label20
-    * set *tmp17 :calc_charge_req*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp17
+  111 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   112 set :start_reactor:reactor reactor1
   113 set :start_reactor:reactor_num 1
   114 set :start_reactor:emerg_shutdown :emerg_shutdown
 
   117 setaddr :start_reactor*retaddr *label21 (h:*label21)
   118 call *label3 *invalid :start_reactor*retval (m:*label21) (h:*label21)
   119 label *label21
-    * set *tmp18 :start_reactor*retval
-    * set :fuel_1 *tmp18
+  120 set :fuel_1 :start_reactor*retval
   121 set :t_startup1 .RET_T_STARTUP
   122 set :update_fuel:fuel :fuel_1
   123 set :update_fuel:uld_in .ULD_IN_1
 
   133 setaddr :start_reactor*retaddr *label23 (h:*label23)
   134 call *label3 *invalid :start_reactor*retval (m:*label23) (h:*label23)
   135 label *label23
-    * set *tmp20 :start_reactor*retval
-    * set :fuel_2 *tmp20
+  136 set :fuel_2 :start_reactor*retval
   137 set :t_startup2 .RET_T_STARTUP
   138 set :update_fuel:fuel :fuel_2
   139 set :update_fuel:uld_in .ULD_IN_2
 
   145 setaddr :check_radar*retaddr *label25 (h:*label25)
   146 call *label4 *invalid :check_radar*retval (m:*label25) (h:*label25)
   147 label *label25
-    * set *tmp22 :check_radar*retval
-    * op or :emerg_shutdown :emerg_shutdown *tmp22
+  148 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
   149 set :start_reactor:reactor reactor3
   150 set :start_reactor:reactor_num 3
   151 set :start_reactor:emerg_shutdown :emerg_shutdown
 
   154 setaddr :start_reactor*retaddr *label26 (h:*label26)
   155 call *label3 *invalid :start_reactor*retval (m:*label26) (h:*label26)
   156 label *label26
-    * set *tmp23 :start_reactor*retval
-    * set :fuel_3 *tmp23
+  157 set :fuel_3 :start_reactor*retval
   158 set :t_startup3 .RET_T_STARTUP
   159 set :start_reactor:reactor reactor4
   160 set :start_reactor:reactor_num 4
 
   164 setaddr :start_reactor*retaddr *label27 (h:*label27)
   165 call *label3 *invalid :start_reactor*retval (m:*label27) (h:*label27)
   166 label *label27
-    * set *tmp24 :start_reactor*retval
-    * set :fuel_4 *tmp24
+  167 set :fuel_4 :start_reactor*retval
   168 set :t_startup4 .RET_T_STARTUP
   169 set :start_reactor:reactor reactor5
   170 set :start_reactor:reactor_num 5
 
   174 setaddr :start_reactor*retaddr *label28 (h:*label28)
   175 call *label3 *invalid :start_reactor*retval (m:*label28) (h:*label28)
   176 label *label28
-    * set *tmp25 :start_reactor*retval
-    * set :fuel_5 *tmp25
+  177 set :fuel_5 :start_reactor*retval
   178 set :t_startup5 .RET_T_STARTUP
   179 jump *label31 notEqual :fuel_3 false
   180 label *label33
 
   212 set :throttle_blast:reactors_fueled *tmp28
   213 set :throttle_blast:emerg_shutdown :emerg_shutdown
   214 sensor *tmp30 .NODE @powerNetStored
-    * op floor *tmp31 *tmp30
-    * set :throttle_blast:charge *tmp31
+  215 op floor :throttle_blast:charge *tmp30
   216 sensor *tmp32 .NODE @powerNetIn
   217 sensor *tmp33 .NODE @powerNetOut
   218 op sub *tmp34 *tmp32 *tmp33
-    * op floor *tmp35 *tmp34
-    * set :throttle_blast:surplus *tmp35
-    * sensor *tmp36 .CONTAINER @blast-compound
-    * set :throttle_blast:fuel_stored *tmp36
+  219 op floor :throttle_blast:surplus *tmp34
+  220 sensor :throttle_blast:fuel_stored .CONTAINER @blast-compound
   221 op lessThan *tmp37 :throttle_blast:charge .PWR_ABORT
   222 jump *label44 equal *tmp37 false
   223 label *label45
 
   269 print "n"
   270 label *label49
   271 label *label42
-    * op lessThan *tmp43 :throttle_blast:fuel_stored :throttle_blast:limit
-    * set *tmp29 *tmp43
+  272 op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
   273 jump *label40 always
   274 set *tmp29 null
   275 label *label40
 
   284 control config *tmp44 *tmp46
   285 sensor *tmp48 .NODE @powerNetStored
   286 sensor *tmp49 .NODE @powerNetCapacity
-    * op div *tmp50 *tmp48 *tmp49
-    * set :diff_generators:stored_pc *tmp50
+  287 op div :diff_generators:stored_pc *tmp48 *tmp49
   288 op greaterThan *tmp51 :diff_generators:stored_pc 0.9
   289 jump *label53 equal *tmp51 false
   290 label *label56
 
   306 setaddr :kilo*retaddr *label57 (h:*label57)
   307 call *label0 *invalid :kilo*retval (m:*label57) (h:*label57)
   308 label *label57
-    * set *tmp58 :kilo*retval
-    * set :surplus *tmp58
-    * sensor *tmp59 .NODE @powerNetStored
-    * set :kilo:val *tmp59
+  309 set :surplus :kilo*retval
+  310 sensor :kilo:val .NODE @powerNetStored
   311 setaddr :kilo*retaddr *label58 (h:*label58)
   312 call *label0 *invalid :kilo*retval (m:*label58) (h:*label58)
   313 label *label58
-    * set *tmp60 :kilo*retval
-    * set :charge *tmp60
+  314 set :charge :kilo*retval
   315 op greaterThan *tmp61 .START_POWER_REQ 0
   316 jump *label59 equal *tmp61 false
   317 set :kilo:val .START_POWER_REQ
   318 setaddr :kilo*retaddr *label61 (h:*label61)
   319 call *label0 *invalid :kilo*retval (m:*label61) (h:*label61)
   320 label *label61
-    * set *tmp63 :kilo*retval
-    * set :req *tmp63
+  321 set :req :kilo*retval
   322 print "Req "
   323 print :req
   324 print "kJ / "
 
   337 print "\n"
   338 sensor *tmp65 .NODE @powerNetStored
   339 sensor *tmp66 .NODE @powerNetCapacity
-    * op div *tmp67 *tmp65 *tmp66
-    * set :update_reactors_desired:stored *tmp67
+  340 op div :update_reactors_desired:stored *tmp65 *tmp66
   341 op greaterThan *tmp68 :update_reactors_desired:stored 0.98
   342 jump *label63 equal *tmp68 false
   343 label *label66
 
   366 label *label71
   367 op sub *tmp78 .AVG_SURPLUS .GOAL_BUFFER
   368 op idiv *tmp79 *tmp78 .GENERATOR_OUTPUT
-    * op max *tmp80 1 *tmp79
-    * set :update_reactors_desired:needed *tmp80
+  369 op max :update_reactors_desired:needed 1 *tmp79
   370 op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
-    * op min *tmp82 5 *tmp81
-    * set .REACTORS_DESIRED *tmp82
+  371 op min .REACTORS_DESIRED 5 *tmp81
   372 jump *label70 always
   373 label *label69
   374 label *label70
 
   390 end
   391 label *label0
   392 op idiv *tmp85 :kilo:val 100
-    * op div *tmp86 *tmp85 10
-    * set :kilo*retval *tmp86
+  393 op div :kilo*retval *tmp85 10
   394 jump *label75 always
   395 set :kilo*retval null
   396 label *label75
 
   419 end
   420 label *label2
   421 op sub *tmp94 @tick :calc_charge_req:time
-    * op idiv *tmp95 *tmp94 60
-    * set :calc_charge_req:secs *tmp95
+  422 op idiv :calc_charge_req:secs *tmp94 60
   423 op greaterThan *tmp96 :calc_charge_req:secs 30
   424 jump *label84 notEqual *tmp96 false
   425 label *label85
 
   433 jump *label83 always
   434 label *label82
   435 label *label83
-    * op sub *tmp100 30 :calc_charge_req:secs
-    * set :calc_charge_req:time_left *tmp100
+  436 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   437 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   438 op mul *tmp102 *tmp101 25
-    * op floor *tmp103 *tmp102
-    * set :calc_charge_req:charge_req *tmp103
+  439 op floor :calc_charge_req:charge_req *tmp102
   440 set :calc_charge_req*retval :calc_charge_req:charge_req
   441 jump *label81 always
   442 set :calc_charge_req*retval null
 
   446 label *label3
   447 set .RET_T_STARTUP :start_reactor:t_startup
   448 op sub *tmp104 @tick :start_reactor:t_startup
-    * op idiv *tmp105 *tmp104 60
-    * set :start_reactor:secs *tmp105
-    * sensor *tmp106 :start_reactor:reactor @blast-compound
-    * set :start_reactor:fuel *tmp106
+  449 op idiv :start_reactor:secs *tmp104 60
+  450 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
   451 set :start_reactor:supply_fuel true
-    * sensor *tmp107 .CONTAINER @blast-compound
-    * set :start_reactor:fuel_stored *tmp107
-    * sensor *tmp108 :start_reactor:reactor @cryofluid
-    * set :start_reactor:cryo *tmp108
+  452 sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
+  453 sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
   454 sensor *tmp109 .NODE @powerNetStored
-    * op floor *tmp110 *tmp109
-    * set :start_reactor:charge *tmp110
+  455 op floor :start_reactor:charge *tmp109
   456 sensor *tmp111 .NODE @powerNetIn
   457 sensor *tmp112 .NODE @powerNetOut
   458 op sub *tmp113 *tmp111 *tmp112
-    * op floor *tmp114 *tmp113
-    * set :start_reactor:surplus *tmp114
+  459 op floor :start_reactor:surplus *tmp113
   460 op mul *tmp115 .AVG_SURPLUS 0.8
   461 op mul *tmp116 :start_reactor:surplus 0.2
-    * op add *tmp117 *tmp115 *tmp116
-    * set .AVG_SURPLUS *tmp117
-    * sensor *tmp118 :start_reactor:reactor @enabled
-    * set :start_reactor:enabled *tmp118
+  462 op add .AVG_SURPLUS *tmp115 *tmp116
+  463 sensor :start_reactor:enabled :start_reactor:reactor @enabled
   464 print "#"
   465 print :start_reactor:reactor_num
   466 print " "
   467 print "- "
   468 jump *label87 equal :start_reactor:emerg_shutdown false
-    * set *tmp120 :start_reactor:reactor
-    * control enabled *tmp120 false
+  469 control enabled :start_reactor:reactor false
   470 print "emergency mode"
   471 print "\n"
   472 set :start_reactor:supply_fuel false
 
   475 jump *label89 equal :start_reactor:enabled false
   476 op lessThan *tmp123 .REACTORS_DESIRED :start_reactor:reactor_num
   477 jump *label91 equal *tmp123 false
-    * set *tmp125 :start_reactor:reactor
-    * control enabled *tmp125 false
+  478 control enabled :start_reactor:reactor false
   479 print "STOP unwanted"
   480 print "\n"
   481 jump *label92 always
 
   488 jump *label93 equal *tmp129 false
   489 jump *label95 always
   490 label *label95
-    * set *tmp131 :start_reactor:reactor
-    * control enabled *tmp131 false
+  491 control enabled :start_reactor:reactor false
   492 print "STOP system fuel low"
   493 print "\n"
   494 jump *label94 always
   495 label *label93
   496 op lessThanEq *tmp133 :start_reactor:fuel 1
   497 jump *label97 equal *tmp133 false
-    * set *tmp135 :start_reactor:reactor
-    * control enabled *tmp135 false
+  498 control enabled :start_reactor:reactor false
   499 print "STOP fuel low"
   500 print "\n"
   501 jump *label98 always
   502 label *label97
   503 op lessThanEq *tmp137 :start_reactor:cryo .CRYO_ABORT
   504 jump *label99 equal *tmp137 false
-    * set *tmp139 :start_reactor:reactor
-    * control enabled *tmp139 false
+  505 control enabled :start_reactor:reactor false
   506 print "STOP out of cryo"
   507 print "\n"
   508 jump *label100 always
 
   523 jump *label104 equal *tmp145 false
   524 jump *label106 always
   525 label *label106
-    * set *tmp147 :start_reactor:reactor
-    * control enabled *tmp147 false
+  526 control enabled :start_reactor:reactor false
   527 print "START FAIL battery"
   528 print "\n"
   529 set :start_reactor:supply_fuel false
   530 jump *label105 always
   531 label *label104
-    * op sub *tmp149 30 :start_reactor:secs
-    * set :start_reactor:time_left *tmp149
+  532 op sub :start_reactor:time_left 30 :start_reactor:secs
   533 print "Starting "
   534 print :start_reactor:time_left
   535 print " "
 
   547 jump *label108 equal *tmp151 false
   548 jump *label110 always
   549 label *label110
-    * set *tmp153 :start_reactor:reactor
-    * control enabled *tmp153 false
+  550 control enabled :start_reactor:reactor false
   551 print "ABANDON - battery crit"
   552 print "\n"
   553 set :start_reactor:supply_fuel false
   554 jump *label109 always
   555 label *label108
-    * op idiv *tmp155 :start_reactor:secs 6
-    * set :start_reactor:mins *tmp155
-    * op div *tmp156 :start_reactor:mins 10
-    * set :start_reactor:mins *tmp156
+  556 op idiv :start_reactor:mins :start_reactor:secs 6
+  557 op div :start_reactor:mins :start_reactor:mins 10
   558 print "RUN "
   559 print :start_reactor:mins
   560 print " "
 
   571 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
   572 op sub *tmp158 *tmp157 .PWR_ABORT
   573 op div *tmp159 *tmp158 .PWR_REQ
-    * op mul *tmp160 *tmp159 .PWR_RESERVE
-    * set :start_reactor:charge_units *tmp160
+  574 op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
   575 op div *tmp161 :start_reactor:surplus .FLOW_REQ
-    * op max *tmp162 -0.1 *tmp161
-    * set :start_reactor:flow_units *tmp162
+  576 op max :start_reactor:flow_units -0.1 *tmp161
   577 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
-    * op add *tmp164 .CRYO_REQ *tmp163
-    * set :start_reactor:cryo_req *tmp164
+  578 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
   579 op lessThan *tmp165 .REACTORS_DESIRED :start_reactor:reactor_num
   580 jump *label112 equal *tmp165 false
   581 print "IDLE"
 
   588 jump *label114 equal *tmp168 false
   589 op mul *tmp170 :start_reactor:flow_units 1000
   590 op floor *tmp171 *tmp170
-    * op div *tmp172 *tmp171 10
-    * set :start_reactor:flow *tmp172
+  591 op div :start_reactor:flow *tmp171 10
   592 op mul *tmp173 :start_reactor:charge_units 1000
   593 op floor *tmp174 *tmp173
-    * op div *tmp175 *tmp174 10
-    * set :start_reactor:charge *tmp175
+  594 op div :start_reactor:charge *tmp174 10
   595 print "WAIT power. (%"
   596 print :start_reactor:charge
   597 print "J + %"
 
   635 print "STARTUP"
   636 print "\n"
   637 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * set *tmp186 :start_reactor:reactor
-    * control enabled *tmp186 true
+  638 control enabled :start_reactor:reactor true
   639 label *label125
   640 label *label123
   641 label *label117
 
   646 sensor *tmp188 :start_reactor:reactor @enabled
   647 op notEqual *tmp189 :start_reactor:enabled *tmp188
   648 jump *label126 equal *tmp189 false
-    * set *tmp191 @tick
-    * set .RET_T_STARTUP *tmp191
+  649 set .RET_T_STARTUP @tick
   650 jump *label127 always
   651 label *label126
   652 label *label127
 
   657 return :start_reactor*retaddr
   658 end
   659 label *label4
-    * radar enemy any any health :check_radar:unit 1 *tmp192
-    * set :check_radar:enemy_found *tmp192
+  660 radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
   661 op notEqual *tmp193 :check_radar:enemy_found null
   662 jump *label129 equal *tmp193 false
   663 control enabled projector1 true
   664 control enabled projector2 true
-    * set *tmp197 .ULD_IN_1
-    * control config *tmp197 .FUEL_OFF
-    * set *tmp199 .ULD_OUT_1
-    * control config *tmp199 .FUEL
-    * set *tmp201 .ULD_IN_2
-    * control config *tmp201 .FUEL_OFF
-    * set *tmp203 .ULD_OUT_2
-    * control config *tmp203 .FUEL
-    * set *tmp205 .ULD_IN_MANY
-    * control config *tmp205 .FUEL_OFF
-    * set *tmp207 .ULD_OUT_MANY
-    * control config *tmp207 .FUEL
-    * set *tmp209 .ULD_MIXER
-    * control config *tmp209 .FUEL_OFF
+  665 control config .ULD_IN_1 .FUEL_OFF
+  666 control config .ULD_OUT_1 .FUEL
+  667 control config .ULD_IN_2 .FUEL_OFF
+  668 control config .ULD_OUT_2 .FUEL
+  669 control config .ULD_IN_MANY .FUEL_OFF
+  670 control config .ULD_OUT_MANY .FUEL
+  671 control config .ULD_MIXER .FUEL_OFF
   672 control enabled reactor1 false
   673 control enabled reactor2 false
   674 control enabled reactor3 false

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-1 instructions):
 
    43 set .REACTORS_DESIRED 5
    44 set .AVG_SURPLUS 500
    45 label *label7
-    * jump *label9 equal true false
    46 set .ULD_IN_1 unloader1
    47 set .ULD_OUT_1 unloader2
    48 set .ULD_IN_2 unloader3

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-5 instructions):
 
   180 jump *label31 notEqual :fuel_4 false
   181 jump *label32 always
   182 label *label32
-    * jump *label31 notEqual :fuel_5 false
-    * jump *label29 always
+  183 jump *label29 equal :fuel_5 false
   184 label *label31
   185 set *tmp26 true
   186 jump *label30 always
 
   199 jump *label37 notEqual :fuel_2 false
   200 jump *label38 always
   201 label *label38
-    * jump *label37 notEqual :fuel_many false
-    * jump *label35 always
+  202 jump *label35 equal :fuel_many false
   203 label *label37
   204 set *tmp28 true
   205 jump *label36 always
 
   219 jump *label44 equal *tmp37 false
   220 label *label45
   221 op lessThan *tmp38 :throttle_blast:surplus .FLOW_ABORT
-    * jump *label44 equal *tmp38 false
-    * jump *label43 always
+  222 jump *label43 notEqual *tmp38 false
   223 label *label44
-    * jump *label43 notEqual :throttle_blast:emerg_shutdown false
-    * jump *label41 always
+  224 jump *label41 equal :throttle_blast:emerg_shutdown false
   225 label *label43
   226 set :throttle_blast:limit 0
   227 print "Central Fuel at "
 
   420 label *label85
   421 sensor *tmp97 :calc_charge_req:reactor @enabled
   422 op equal *tmp98 *tmp97 false
-    * jump *label84 notEqual *tmp98 false
-    * jump *label82 always
+  423 jump *label82 equal *tmp98 false
   424 label *label84
   425 set :calc_charge_req*retval 0
   426 jump *label81 always

Modifications by Iterated phase, Jump Optimization, pass 1, iteration 1 (-36 instructions):
 
    26 sensor *tmp1 node1 @powerNetOut
    27 op sub *tmp2 *tmp0 *tmp1
    28 op floor :surplus *tmp2
-    * op greaterThan *tmp4 :surplus 10000
-    * jump *label5 equal *tmp4 false
+   29 jump *label5 lessThanEq :surplus 10000
    30 op sub *tmp5 @tick 3600
    31 jump *label6 always
    32 label *label5
 
    57 call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
    58 label *label10
    59 set :emerg_shutdown :check_radar*retval
-    * op notEqual *tmp9 switch1 null
-    * jump *label12 equal *tmp9 false
+   60 jump *label12 equal switch1 null
    61 label *label15
    62 sensor *tmp10 switch1 @enabled
-    * op equal *tmp11 *tmp10 false
-    * jump *label12 equal *tmp11 false
+   63 jump *label12 notEqual *tmp10 false
    64 jump *label14 always
    65 label *label14
    66 print "User has disabled emergency switch"
 
   212 op sub *tmp34 *tmp32 *tmp33
   213 op floor :throttle_blast:surplus *tmp34
   214 sensor :throttle_blast:fuel_stored .CONTAINER @blast-compound
-    * op lessThan *tmp37 :throttle_blast:charge .PWR_ABORT
-    * jump *label44 equal *tmp37 false
+  215 jump *label44 greaterThanEq :throttle_blast:charge .PWR_ABORT
   216 label *label45
-    * op lessThan *tmp38 :throttle_blast:surplus .FLOW_ABORT
-    * jump *label43 notEqual *tmp38 false
+  217 jump *label43 lessThan :throttle_blast:surplus .FLOW_ABORT
   218 label *label44
   219 jump *label41 equal :throttle_blast:emerg_shutdown false
   220 label *label43
 
   236 label *label47
   237 jump *label42 always
   238 label *label41
-    * op equal *tmp41 :throttle_blast:reactors_fueled false
-    * jump *label48 equal *tmp41 false
+  239 jump *label48 notEqual :throttle_blast:reactors_fueled false
   240 set :throttle_blast:limit .FUEL_LIMIT_LOW
   241 print "Fuel "
   242 print :throttle_blast:fuel_stored
 
   274 sensor *tmp48 .NODE @powerNetStored
   275 sensor *tmp49 .NODE @powerNetCapacity
   276 op div :diff_generators:stored_pc *tmp48 *tmp49
-    * op greaterThan *tmp51 :diff_generators:stored_pc 0.9
-    * jump *label53 equal *tmp51 false
+  277 jump *label53 lessThanEq :diff_generators:stored_pc 0.9
   278 label *label56
-    * op lessThan *tmp52 .START_POWER_REQ 10
-    * jump *label53 equal *tmp52 false
+  279 jump *label53 greaterThanEq .START_POWER_REQ 10
   280 jump *label55 always
   281 label *label55
   282 print "Differential now idle."
 
   299 call *label0 *invalid :kilo*retval (m:*label58) (h:*label58)
   300 label *label58
   301 set :charge :kilo*retval
-    * op greaterThan *tmp61 .START_POWER_REQ 0
-    * jump *label59 equal *tmp61 false
+  302 jump *label59 lessThanEq .START_POWER_REQ 0
   303 set :kilo:val .START_POWER_REQ
   304 setaddr :kilo*retaddr *label61 (h:*label61)
   305 call *label0 *invalid :kilo*retval (m:*label61) (h:*label61)
 
   324 sensor *tmp65 .NODE @powerNetStored
   325 sensor *tmp66 .NODE @powerNetCapacity
   326 op div :update_reactors_desired:stored *tmp65 *tmp66
-    * op greaterThan *tmp68 :update_reactors_desired:stored 0.98
-    * jump *label63 equal *tmp68 false
+  327 jump *label63 lessThanEq :update_reactors_desired:stored 0.98
   328 label *label66
   329 op add *tmp69 .GENERATOR_OUTPUT .GOAL_BUFFER
-    * op greaterThan *tmp70 .AVG_SURPLUS *tmp69
-    * jump *label63 equal *tmp70 false
+  330 jump *label63 lessThanEq .AVG_SURPLUS *tmp69
   331 jump *label65 always
   332 label *label65
-    * op greaterThan *tmp72 .REACTORS_DESIRED 2
-    * jump *label67 equal *tmp72 false
+  333 jump *label67 lessThanEq .REACTORS_DESIRED 2
   334 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   335 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
   336 jump *label68 always
 
   339 jump *label64 always
   340 label *label63
   341 label *label64
-    * op lessThan *tmp74 :update_reactors_desired:stored 0.8
-    * jump *label69 equal *tmp74 false
+  342 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
   343 label *label72
   344 op mul *tmp75 .GOAL_BUFFER 0.8
-    * op lessThan *tmp76 .AVG_SURPLUS *tmp75
-    * jump *label69 equal *tmp76 false
+  345 jump *label69 greaterThanEq .AVG_SURPLUS *tmp75
   346 jump *label71 always
   347 label *label71
   348 op sub *tmp78 .AVG_SURPLUS .GOAL_BUFFER
 
   355 label *label70
   356 label *label62
   357 label *label60
-    * op notEqual *tmp83 .REACTORS_DESIRED 5
-    * jump *label73 equal *tmp83 false
+  358 jump *label73 equal .REACTORS_DESIRED 5
   359 print "Require only "
   360 print .REACTORS_DESIRED
   361 print "/5 reactors."
 
   386 label *label78
   387 control config *tmp87 *tmp89
   388 set *tmp90 :update_fuel:uld_out
-    * op equal *tmp92 :update_fuel:fuel false
-    * jump *label79 equal *tmp92 false
+  389 jump *label79 notEqual :update_fuel:fuel false
   390 set *tmp93 .FUEL
   391 jump *label80 always
   392 label *label79
 
   399 label *label2
   400 op sub *tmp94 @tick :calc_charge_req:time
   401 op idiv :calc_charge_req:secs *tmp94 60
-    * op greaterThan *tmp96 :calc_charge_req:secs 30
-    * jump *label84 notEqual *tmp96 false
+  402 jump *label84 greaterThan :calc_charge_req:secs 30
   403 label *label85
   404 sensor *tmp97 :calc_charge_req:reactor @enabled
-    * op equal *tmp98 *tmp97 false
-    * jump *label82 equal *tmp98 false
+  405 jump *label82 notEqual *tmp97 false
   406 label *label84
   407 set :calc_charge_req*retval 0
   408 jump *label81 always
 
   449 jump *label88 always
   450 label *label87
   451 jump *label89 equal :start_reactor:enabled false
-    * op lessThan *tmp123 .REACTORS_DESIRED :start_reactor:reactor_num
-    * jump *label91 equal *tmp123 false
+  452 jump *label91 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
   453 control enabled :start_reactor:reactor false
   454 print "STOP unwanted"
   455 print "\n"
   456 jump *label92 always
   457 label *label91
-    * op greaterThan *tmp127 :start_reactor:reactor_num 1
-    * jump *label93 equal *tmp127 false
+  458 jump *label93 lessThanEq :start_reactor:reactor_num 1
   459 label *label96
   460 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
-    * op lessThan *tmp129 :start_reactor:fuel_stored *tmp128
-    * jump *label93 equal *tmp129 false
+  461 jump *label93 greaterThanEq :start_reactor:fuel_stored *tmp128
   462 jump *label95 always
   463 label *label95
   464 control enabled :start_reactor:reactor false
 
   466 print "\n"
   467 jump *label94 always
   468 label *label93
-    * op lessThanEq *tmp133 :start_reactor:fuel 1
-    * jump *label97 equal *tmp133 false
+  469 jump *label97 greaterThan :start_reactor:fuel 1
   470 control enabled :start_reactor:reactor false
   471 print "STOP fuel low"
   472 print "\n"
   473 jump *label98 always
   474 label *label97
-    * op lessThanEq *tmp137 :start_reactor:cryo .CRYO_ABORT
-    * jump *label99 equal *tmp137 false
+  475 jump *label99 greaterThan :start_reactor:cryo .CRYO_ABORT
   476 control enabled :start_reactor:reactor false
   477 print "STOP out of cryo"
   478 print "\n"
   479 jump *label100 always
   480 label *label99
-    * op lessThan *tmp141 :start_reactor:secs 30
-    * jump *label101 equal *tmp141 false
+  481 jump *label101 greaterThanEq :start_reactor:secs 30
   482 set :calc_charge_req:reactor :start_reactor:reactor
   483 set :calc_charge_req:time :start_reactor:t_startup
   484 setaddr :calc_charge_req*retaddr *label103 (h:*label103)
 
   486 label *label103
   487 set :start_reactor:charge_req :calc_charge_req*retval
   488 op sub *tmp143 :start_reactor:charge :start_reactor:charge_req
-    * op lessThan *tmp144 *tmp143 .PWR_ABORT
-    * jump *label104 equal *tmp144 false
+  489 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   490 label *label107
-    * op lessThan *tmp145 :start_reactor:surplus .FLOW_ABORT
-    * jump *label104 equal *tmp145 false
+  491 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
   492 jump *label106 always
   493 label *label106
   494 control enabled :start_reactor:reactor false
 
   508 label *label105
   509 jump *label102 always
   510 label *label101
-    * op lessThan *tmp150 :start_reactor:charge .PWR_ABANDON
-    * jump *label108 equal *tmp150 false
+  511 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
   512 label *label111
-    * op lessThan *tmp151 :start_reactor:surplus .FLOW_ABORT
-    * jump *label108 equal *tmp151 false
+  513 jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
   514 jump *label110 always
   515 label *label110
   516 control enabled :start_reactor:reactor false
 
   542 op max :start_reactor:flow_units -0.1 *tmp161
   543 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
   544 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
-    * op lessThan *tmp165 .REACTORS_DESIRED :start_reactor:reactor_num
-    * jump *label112 equal *tmp165 false
+  545 jump *label112 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
   546 print "IDLE"
   547 print "\n"
   548 set :start_reactor:supply_fuel false
   549 jump *label113 always
   550 label *label112
   551 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
-    * op lessThan *tmp168 *tmp167 1
-    * jump *label114 equal *tmp168 false
+  552 jump *label114 greaterThanEq *tmp167 1
   553 op mul *tmp170 :start_reactor:flow_units 1000
   554 op floor *tmp171 *tmp170
   555 op div :start_reactor:flow *tmp171 10
 
   567 label *label114
   568 jump *label116 equal :start_reactor:fuel_on false
   569 label *label119
-    * op lessThan *tmp176 :start_reactor:fuel .FUEL_REQ
-    * jump *label116 equal *tmp176 false
+  570 jump *label116 greaterThanEq :start_reactor:fuel .FUEL_REQ
   571 jump *label118 always
   572 label *label118
   573 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
-    * op greaterThan *tmp179 *tmp178 .FUEL_REQ
-    * jump *label120 equal *tmp179 false
+  574 jump *label120 lessThanEq *tmp178 .FUEL_REQ
   575 print "WAIT fuel"
   576 print "\n"
   577 jump *label121 always
 
   582 jump *label117 always
   583 label *label116
   584 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
-    * op lessThan *tmp182 :start_reactor:fuel_stored *tmp181
-    * jump *label122 equal *tmp182 false
+  585 jump *label122 greaterThanEq :start_reactor:fuel_stored *tmp181
   586 print "WAIT buffer fuel"
   587 print "\n"
   588 jump *label123 always
   589 label *label122
-    * op lessThan *tmp184 :start_reactor:cryo :start_reactor:cryo_req
-    * jump *label124 equal *tmp184 false
+  590 jump *label124 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
   591 print "WAIT cryo"
   592 print "\n"
   593 jump *label125 always
 
   604 label *label90
   605 label *label88
   606 sensor *tmp188 :start_reactor:reactor @enabled
-    * op notEqual *tmp189 :start_reactor:enabled *tmp188
-    * jump *label126 equal *tmp189 false
+  607 jump *label126 equal :start_reactor:enabled *tmp188
   608 set .RET_T_STARTUP @tick
   609 jump *label127 always
   610 label *label126
 
   617 end
   618 label *label4
   619 radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
-    * op notEqual *tmp193 :check_radar:enemy_found null
-    * jump *label129 equal *tmp193 false
+  620 jump *label129 equal :check_radar:enemy_found null
   621 control enabled projector1 true
   622 control enabled projector2 true
   623 control config .ULD_IN_1 .FUEL_OFF

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-17 instructions):
 
    61 label *label15
    62 sensor *tmp10 switch1 @enabled
    63 jump *label12 notEqual *tmp10 false
-    * jump *label14 always
    64 label *label14
    65 print "User has disabled emergency switch"
    66 print "\n"
    67 set *tmp8 true
    68 jump *label11 always
-    * jump *label13 always
    69 label *label12
    70 label *label13
    71 set *tmp8 false
 
   173 jump *label31 notEqual :fuel_3 false
   174 label *label33
   175 jump *label31 notEqual :fuel_4 false
-    * jump *label32 always
   176 label *label32
   177 jump *label29 equal :fuel_5 false
   178 label *label31
 
   191 jump *label37 notEqual :fuel_1 false
   192 label *label39
   193 jump *label37 notEqual :fuel_2 false
-    * jump *label38 always
   194 label *label38
   195 jump *label35 equal :fuel_many false
   196 label *label37
 
   273 jump *label53 lessThanEq :diff_generators:stored_pc 0.9
   274 label *label56
   275 jump *label53 greaterThanEq .START_POWER_REQ 10
-    * jump *label55 always
   276 label *label55
   277 print "Differential now idle."
   278 print "\n"
 
   323 label *label66
   324 op add *tmp69 .GENERATOR_OUTPUT .GOAL_BUFFER
   325 jump *label63 lessThanEq .AVG_SURPLUS *tmp69
-    * jump *label65 always
   326 label *label65
   327 jump *label67 lessThanEq .REACTORS_DESIRED 2
   328 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   329 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
-    * jump *label68 always
   330 label *label67
   331 label *label68
-    * jump *label64 always
   332 label *label63
   333 label *label64
   334 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
   335 label *label72
   336 op mul *tmp75 .GOAL_BUFFER 0.8
   337 jump *label69 greaterThanEq .AVG_SURPLUS *tmp75
-    * jump *label71 always
   338 label *label71
   339 op sub *tmp78 .AVG_SURPLUS .GOAL_BUFFER
   340 op idiv *tmp79 *tmp78 .GENERATOR_OUTPUT
   341 op max :update_reactors_desired:needed 1 *tmp79
   342 op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
   343 op min .REACTORS_DESIRED 5 *tmp81
-    * jump *label70 always
   344 label *label69
   345 label *label70
   346 label *label62
 
   350 print .REACTORS_DESIRED
   351 print "/5 reactors."
   352 print "\n"
-    * jump *label74 always
   353 label *label73
   354 label *label74
   355 printflush message1
 
   395 label *label84
   396 set :calc_charge_req*retval 0
   397 jump *label81 always
-    * jump *label83 always
   398 label *label82
   399 label *label83
   400 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
 
   447 label *label96
   448 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
   449 jump *label93 greaterThanEq :start_reactor:fuel_stored *tmp128
-    * jump *label95 always
   450 label *label95
   451 control enabled :start_reactor:reactor false
   452 print "STOP system fuel low"
 
   476 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   477 label *label107
   478 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * jump *label106 always
   479 label *label106
   480 control enabled :start_reactor:reactor false
   481 print "START FAIL battery"
 
   497 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
   498 label *label111
   499 jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * jump *label110 always
   500 label *label110
   501 control enabled :start_reactor:reactor false
   502 print "ABANDON - battery crit"
 
   553 jump *label116 equal :start_reactor:fuel_on false
   554 label *label119
   555 jump *label116 greaterThanEq :start_reactor:fuel .FUEL_REQ
-    * jump *label118 always
   556 label *label118
   557 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   558 jump *label120 lessThanEq *tmp178 .FUEL_REQ
 
   590 sensor *tmp188 :start_reactor:reactor @enabled
   591 jump *label126 equal :start_reactor:enabled *tmp188
   592 set .RET_T_STARTUP @tick
-    * jump *label127 always
   593 label *label126
   594 label *label127
   595 set :start_reactor*retval :start_reactor:supply_fuel

Modifications by Iterated phase, Expression Optimization, pass 1, iteration 1 (-3 instructions):
 
   399 label *label83
   400 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   401 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
-    * op mul *tmp102 *tmp101 25
-    * op floor :calc_charge_req:charge_req *tmp102
+  402 op idiv :calc_charge_req:charge_req *tmp101 0.04
   403 set :calc_charge_req*retval :calc_charge_req:charge_req
   404 jump *label81 always
   405 set :calc_charge_req*retval null
 
   534 label *label112
   535 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
   536 jump *label114 greaterThanEq *tmp167 1
-    * op mul *tmp170 :start_reactor:flow_units 1000
-    * op floor *tmp171 *tmp170
+  537 op idiv *tmp171 :start_reactor:flow_units 0.001
   538 op div :start_reactor:flow *tmp171 10
-    * op mul *tmp173 :start_reactor:charge_units 1000
-    * op floor *tmp174 *tmp173
+  539 op idiv *tmp174 :start_reactor:charge_units 0.001
   540 op div :start_reactor:charge *tmp174 10
   541 print "WAIT power. (%"
   542 print :start_reactor:charge

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-7 instructions):
 
    33 set *tmp5 @tick
    34 label *label6
    35 set :start_time *tmp5
-    * set :t_startup1 :start_time
-    * set :t_startup2 :start_time
-    * set :t_startup3 :start_time
-    * set :t_startup4 :start_time
-    * set :t_startup5 :start_time
-    * set .RET_T_STARTUP :t_startup1
+   36 set :t_startup1 *tmp5
+   37 set :t_startup2 *tmp5
+   38 set :t_startup3 *tmp5
+   39 set :t_startup4 *tmp5
+   40 set :t_startup5 *tmp5
+   41 set .RET_T_STARTUP :start_time
    42 set .REACTORS_DESIRED 5
    43 set .AVG_SURPLUS 500
    44 label *label7
 
    52 set .TOWER cyclone1
    53 set .CONTAINER vault1
    54 set .NODE node1
-    * set :check_radar:unit .TOWER
+   55 set :check_radar:unit cyclone1
    56 setaddr :check_radar*retaddr *label10 (h:*label10)
    57 call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
    58 label *label10
 
    70 label *label13
    71 set *tmp8 false
    72 jump *label11 always
-    * set *tmp8 null
    73 label *label11
-    * op or :emerg_shutdown :emerg_shutdown *tmp8
+   74 op or :emerg_shutdown :check_radar*retval *tmp8
    75 set :calc_charge_req:reactor reactor1
    76 set :calc_charge_req:time :t_startup1
    77 setaddr :calc_charge_req*retaddr *label16 (h:*label16)
 
   112 label *label21
   113 set :fuel_1 :start_reactor*retval
   114 set :t_startup1 .RET_T_STARTUP
-    * set :update_fuel:fuel :fuel_1
-    * set :update_fuel:uld_in .ULD_IN_1
-    * set :update_fuel:uld_out .ULD_OUT_1
+  115 set :update_fuel:fuel :start_reactor*retval
+  116 set :update_fuel:uld_in unloader1
+  117 set :update_fuel:uld_out unloader2
   118 setaddr :update_fuel*retaddr *label22 (h:*label22)
   119 call *label1 *invalid :update_fuel*retval (m:*label22) (h:*label22)
   120 label *label22
 
   128 label *label23
   129 set :fuel_2 :start_reactor*retval
   130 set :t_startup2 .RET_T_STARTUP
-    * set :update_fuel:fuel :fuel_2
-    * set :update_fuel:uld_in .ULD_IN_2
-    * set :update_fuel:uld_out .ULD_OUT_2
+  131 set :update_fuel:fuel :start_reactor*retval
+  132 set :update_fuel:uld_in unloader3
+  133 set :update_fuel:uld_out unloader4
   134 setaddr :update_fuel*retaddr *label24 (h:*label24)
   135 call *label1 *invalid :update_fuel*retval (m:*label24) (h:*label24)
   136 label *label24
-    * set :check_radar:unit .TOWER
+  137 set :check_radar:unit cyclone1
   138 setaddr :check_radar*retaddr *label25 (h:*label25)
   139 call *label4 *invalid :check_radar*retval (m:*label25) (h:*label25)
   140 label *label25
 
   173 label *label33
   174 jump *label31 notEqual :fuel_4 false
   175 label *label32
-    * jump *label29 equal :fuel_5 false
+  176 jump *label29 equal :start_reactor*retval false
   177 label *label31
   178 set *tmp26 true
   179 jump *label30 always
 
   181 set *tmp26 false
   182 label *label30
   183 set :fuel_many *tmp26
-    * set :update_fuel:fuel :fuel_many
-    * set :update_fuel:uld_in .ULD_IN_MANY
-    * set :update_fuel:uld_out .ULD_OUT_MANY
+  184 set :update_fuel:fuel *tmp26
+  185 set :update_fuel:uld_in unloader5
+  186 set :update_fuel:uld_out unloader6
   187 setaddr :update_fuel*retaddr *label34 (h:*label34)
   188 call *label1 *invalid :update_fuel*retval (m:*label34) (h:*label34)
   189 label *label34
 
   191 label *label39
   192 jump *label37 notEqual :fuel_2 false
   193 label *label38
-    * jump *label35 equal :fuel_many false
+  194 jump *label35 equal *tmp26 false
   195 label *label37
   196 set *tmp28 true
   197 jump *label36 always
 
   200 label *label36
   201 set :throttle_blast:reactors_fueled *tmp28
   202 set :throttle_blast:emerg_shutdown :emerg_shutdown
-    * sensor *tmp30 .NODE @powerNetStored
+  203 sensor *tmp30 node1 @powerNetStored
   204 op floor :throttle_blast:charge *tmp30
-    * sensor *tmp32 .NODE @powerNetIn
-    * sensor *tmp33 .NODE @powerNetOut
+  205 sensor *tmp32 node1 @powerNetIn
+  206 sensor *tmp33 node1 @powerNetOut
   207 op sub *tmp34 *tmp32 *tmp33
   208 op floor :throttle_blast:surplus *tmp34
-    * sensor :throttle_blast:fuel_stored .CONTAINER @blast-compound
-    * jump *label44 greaterThanEq :throttle_blast:charge .PWR_ABORT
+  209 sensor :throttle_blast:fuel_stored vault1 @blast-compound
+  210 jump *label44 greaterThanEq :throttle_blast:charge 5000
   211 label *label45
-    * jump *label43 lessThan :throttle_blast:surplus .FLOW_ABORT
+  212 jump *label43 lessThan :throttle_blast:surplus -500
   213 label *label44
-    * jump *label41 equal :throttle_blast:emerg_shutdown false
+  214 jump *label41 equal :emerg_shutdown false
   215 label *label43
   216 set :throttle_blast:limit 0
   217 print "Central Fuel at "
   218 print :throttle_blast:fuel_stored
   219 print " "
   220 print "/ "
-    * print :throttle_blast:limit
+  221 print 0
   222 print " "
   223 print "- "
-    * jump *label46 equal :throttle_blast:emerg_shutdown false
+  224 jump *label46 equal :emerg_shutdown false
   225 print " Enemies detected."
   226 print "\n"
   227 jump *label47 always
 
   231 label *label47
   232 jump *label42 always
   233 label *label41
-    * jump *label48 notEqual :throttle_blast:reactors_fueled false
-    * set :throttle_blast:limit .FUEL_LIMIT_LOW
+  234 jump *label48 notEqual *tmp28 false
+  235 set :throttle_blast:limit 150
   236 print "Fuel "
   237 print :throttle_blast:fuel_stored
   238 print " "
   239 print "/ "
-    * print :throttle_blast:limit
+  240 print .FUEL_LIMIT_LOW
   241 print " "
   242 print "(due to emergency)"
   243 print "\n"
   244 jump *label49 always
   245 label *label48
-    * set :throttle_blast:limit .FUEL_LIMIT
+  246 set :throttle_blast:limit 800
   247 print "Fuel "
   248 print :throttle_blast:fuel_stored
   249 print " "
   250 print "/ "
-    * print :throttle_blast:limit
+  251 print .FUEL_LIMIT
   252 print "\"
   253 print "n"
   254 label *label49
   255 label *label42
   256 op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
   257 jump *label40 always
-    * set *tmp29 null
   258 label *label40
   259 set :feed_mixers *tmp29
-    * set *tmp44 .ULD_MIXER
-    * jump *label50 equal :feed_mixers false
-    * set *tmp46 .MIXER_IN
+  260 set *tmp44 unloader7
+  261 jump *label50 equal *tmp29 false
+  262 set *tmp46 @pyratite
   263 jump *label51 always
   264 label *label50
-    * set *tmp46 .FUEL_OFF
+  265 set *tmp46 @scrap
   266 label *label51
-    * control config *tmp44 *tmp46
-    * sensor *tmp48 .NODE @powerNetStored
-    * sensor *tmp49 .NODE @powerNetCapacity
+  267 control config .ULD_MIXER *tmp46
+  268 sensor *tmp48 node1 @powerNetStored
+  269 sensor *tmp49 node1 @powerNetCapacity
   270 op div :diff_generators:stored_pc *tmp48 *tmp49
   271 jump *label53 lessThanEq :diff_generators:stored_pc 0.9
   272 label *label56
 
   287 call *label0 *invalid :kilo*retval (m:*label57) (h:*label57)
   288 label *label57
   289 set :surplus :kilo*retval
-    * sensor :kilo:val .NODE @powerNetStored
+  290 sensor :kilo:val node1 @powerNetStored
   291 setaddr :kilo*retaddr *label58 (h:*label58)
   292 call *label0 *invalid :kilo*retval (m:*label58) (h:*label58)
   293 label *label58
 
   299 label *label61
   300 set :req :kilo*retval
   301 print "Req "
-    * print :req
+  302 print :kilo*retval
   303 print "kJ / "
   304 print :charge
   305 print "kJ. "
 
   311 print "Power "
   312 print :surplus
   313 print "kW, "
-    * print :charge
+  314 print :kilo*retval
   315 print "kJ"
   316 print "\n"
-    * sensor *tmp65 .NODE @powerNetStored
-    * sensor *tmp66 .NODE @powerNetCapacity
+  317 sensor *tmp65 node1 @powerNetStored
+  318 sensor *tmp66 node1 @powerNetCapacity
   319 op div :update_reactors_desired:stored *tmp65 *tmp66
   320 jump *label63 lessThanEq :update_reactors_desired:stored 0.98
   321 label *label66
-    * op add *tmp69 .GENERATOR_OUTPUT .GOAL_BUFFER
-    * jump *label63 lessThanEq .AVG_SURPLUS *tmp69
+  322 op add *tmp69 6500 10000
+  323 jump *label63 lessThanEq .AVG_SURPLUS 16500
   324 label *label65
   325 jump *label67 lessThanEq .REACTORS_DESIRED 2
   326 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
-    * op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
+  327 op sub .AVG_SURPLUS .AVG_SURPLUS 6500
   328 label *label67
   329 label *label68
   330 label *label63
   331 label *label64
   332 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
   333 label *label72
-    * op mul *tmp75 .GOAL_BUFFER 0.8
-    * jump *label69 greaterThanEq .AVG_SURPLUS *tmp75
+  334 op mul *tmp75 10000 0.8
+  335 jump *label69 greaterThanEq .AVG_SURPLUS 8000
   336 label *label71
-    * op sub *tmp78 .AVG_SURPLUS .GOAL_BUFFER
-    * op idiv *tmp79 *tmp78 .GENERATOR_OUTPUT
+  337 op sub *tmp78 .AVG_SURPLUS 10000
+  338 op idiv *tmp79 *tmp78 6500
   339 op max :update_reactors_desired:needed 1 *tmp79
   340 op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
   341 op min .REACTORS_DESIRED 5 *tmp81
 
   359 op idiv *tmp85 :kilo:val 100
   360 op div :kilo*retval *tmp85 10
   361 jump *label75 always
-    * set :kilo*retval null
   362 label *label75
   363 return :kilo*retaddr
   364 end
 
   370 label *label77
   371 set *tmp89 .FUEL_OFF
   372 label *label78
-    * control config *tmp87 *tmp89
+  373 control config :update_fuel:uld_in *tmp89
   374 set *tmp90 :update_fuel:uld_out
   375 jump *label79 notEqual :update_fuel:fuel false
   376 set *tmp93 .FUEL
 
   378 label *label79
   379 set *tmp93 .FUEL_OFF
   380 label *label80
-    * control config *tmp90 *tmp93
+  381 control config :update_fuel:uld_out *tmp93
   382 label *label76
   383 return :update_fuel*retaddr
   384 end
 
   399 op idiv :calc_charge_req:charge_req *tmp101 0.04
   400 set :calc_charge_req*retval :calc_charge_req:charge_req
   401 jump *label81 always
-    * set :calc_charge_req*retval null
   402 label *label81
   403 return :calc_charge_req*retaddr
   404 end
 
   467 call *label2 *invalid :calc_charge_req*retval (m:*label103) (h:*label103)
   468 label *label103
   469 set :start_reactor:charge_req :calc_charge_req*retval
-    * op sub *tmp143 :start_reactor:charge :start_reactor:charge_req
+  470 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   471 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   472 label *label107
   473 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
 
   483 print :start_reactor:time_left
   484 print " "
   485 print "secs, req "
-    * print :start_reactor:charge_req
+  486 print :calc_charge_req*retval
   487 print "J"
   488 print "\n"
   489 label *label105
 
   587 label *label127
   588 set :start_reactor*retval :start_reactor:supply_fuel
   589 jump *label86 always
-    * set :start_reactor*retval null
   590 label *label86
   591 return :start_reactor*retaddr
   592 end
 
   609 control enabled reactor5 false
   610 set :check_radar*retval true
   611 jump *label128 always
-    * set *tmp194 null
   612 jump *label130 always
   613 label *label129
   614 control enabled projector1 false
   615 control enabled projector2 false
   616 set :check_radar*retval false
   617 jump *label128 always
-    * set *tmp194 null
   618 label *label130
-    * set :check_radar*retval *tmp194
+  619 set :check_radar*retval null
   620 label *label128
   621 return :check_radar*retaddr
   622 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-17 instructions):
     0 printflush message1
     1 set .FUEL @blast-compound
     2 set .FUEL_OFF @scrap
-    * set .MIXER_IN @pyratite
     3 set .PWR_REQ 23000
     4 set .FLOW_REQ 2000
     5 set .PWR_ABANDON 2000
 
    11 set .FUEL_LIMIT_LOW 150
    12 set .FUEL_LIMIT 800
    13 set .FUEL_TOT_ABORT 15
-    * set .GENERATOR_OUTPUT 6500
-    * set .GOAL_BUFFER 10000
    14 set .CRYO_REQ 3
    15 set .CRYO_REQ_EA 2
    16 set .CRYO_ABORT 1
 
    35 set :t_startup3 *tmp5
    36 set :t_startup4 *tmp5
    37 set :t_startup5 *tmp5
-    * set .RET_T_STARTUP :start_time
+   38 set .RET_T_STARTUP *tmp5
    39 set .REACTORS_DESIRED 5
    40 set .AVG_SURPLUS 500
    41 label *label7
 
    46 set .ULD_IN_MANY unloader5
    47 set .ULD_OUT_MANY unloader6
    48 set .ULD_MIXER unloader7
-    * set .TOWER cyclone1
    49 set .CONTAINER vault1
    50 set .NODE node1
    51 set :check_radar:unit cyclone1
    52 setaddr :check_radar*retaddr *label10 (h:*label10)
    53 call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
    54 label *label10
-    * set :emerg_shutdown :check_radar*retval
    55 jump *label12 equal switch1 null
    56 label *label15
    57 sensor *tmp10 switch1 @enabled
 
   175 label *label29
   176 set *tmp26 false
   177 label *label30
-    * set :fuel_many *tmp26
   178 set :update_fuel:fuel *tmp26
   179 set :update_fuel:uld_in unloader5
   180 set :update_fuel:uld_out unloader6
 
   192 label *label35
   193 set *tmp28 false
   194 label *label36
-    * set :throttle_blast:reactors_fueled *tmp28
-    * set :throttle_blast:emerg_shutdown :emerg_shutdown
   195 sensor *tmp30 node1 @powerNetStored
   196 op floor :throttle_blast:charge *tmp30
   197 sensor *tmp32 node1 @powerNetIn
 
   229 print :throttle_blast:fuel_stored
   230 print " "
   231 print "/ "
-    * print .FUEL_LIMIT_LOW
+  232 print 150
   233 print " "
   234 print "(due to emergency)"
   235 print "\n"
 
   240 print :throttle_blast:fuel_stored
   241 print " "
   242 print "/ "
-    * print .FUEL_LIMIT
+  243 print 800
   244 print "\"
   245 print "n"
   246 label *label49
 
   248 op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
   249 jump *label40 always
   250 label *label40
-    * set :feed_mixers *tmp29
-    * set *tmp44 unloader7
   251 jump *label50 equal *tmp29 false
   252 set *tmp46 @pyratite
   253 jump *label51 always
   254 label *label50
   255 set *tmp46 @scrap
   256 label *label51
-    * control config .ULD_MIXER *tmp46
+  257 control config unloader7 *tmp46
   258 sensor *tmp48 node1 @powerNetStored
   259 sensor *tmp49 node1 @powerNetCapacity
   260 op div :diff_generators:stored_pc *tmp48 *tmp49
 
   287 setaddr :kilo*retaddr *label61 (h:*label61)
   288 call *label0 *invalid :kilo*retval (m:*label61) (h:*label61)
   289 label *label61
-    * set :req :kilo*retval
   290 print "Req "
   291 print :kilo*retval
   292 print "kJ / "
 
   308 op div :update_reactors_desired:stored *tmp65 *tmp66
   309 jump *label63 lessThanEq :update_reactors_desired:stored 0.98
   310 label *label66
-    * op add *tmp69 6500 10000
   311 jump *label63 lessThanEq .AVG_SURPLUS 16500
   312 label *label65
   313 jump *label67 lessThanEq .REACTORS_DESIRED 2
 
   319 label *label64
   320 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
   321 label *label72
-    * op mul *tmp75 10000 0.8
   322 jump *label69 greaterThanEq .AVG_SURPLUS 8000
   323 label *label71
   324 op sub *tmp78 .AVG_SURPLUS 10000
 
   350 return :kilo*retaddr
   351 end
   352 label *label1
-    * set *tmp87 :update_fuel:uld_in
   353 jump *label77 equal :update_fuel:fuel false
   354 set *tmp89 .FUEL
   355 jump *label78 always
 
   357 set *tmp89 .FUEL_OFF
   358 label *label78
   359 control config :update_fuel:uld_in *tmp89
-    * set *tmp90 :update_fuel:uld_out
   360 jump *label79 notEqual :update_fuel:fuel false
   361 set *tmp93 .FUEL
   362 jump *label80 always
 
   451 setaddr :calc_charge_req*retaddr *label103 (h:*label103)
   452 call *label2 *invalid :calc_charge_req*retval (m:*label103) (h:*label103)
   453 label *label103
-    * set :start_reactor:charge_req :calc_charge_req*retval
   454 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   455 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   456 label *label107
 
   600 set :check_radar*retval false
   601 jump *label128 always
   602 label *label130
-    * set :check_radar*retval null
   603 label *label128
   604 return :check_radar*retaddr
   605 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-3 instructions):
 
     8 set .FLOW_ABORT -500
     9 set .FUEL_REQ 10
    10 set .FUEL_TOT_REQ 45
-    * set .FUEL_LIMIT_LOW 150
-    * set .FUEL_LIMIT 800
    11 set .FUEL_TOT_ABORT 15
    12 set .CRYO_REQ 3
    13 set .CRYO_REQ_EA 2
 
    27 label *label5
    28 set *tmp5 @tick
    29 label *label6
-    * set :start_time *tmp5
    30 set :t_startup1 *tmp5
    31 set :t_startup2 *tmp5
    32 set :t_startup3 *tmp5

Modifications by Iterated phase, If Expression Optimization, pass 1, iteration 1 (-12 instructions):
 
    21 sensor *tmp1 node1 @powerNetOut
    22 op sub *tmp2 *tmp0 *tmp1
    23 op floor :surplus *tmp2
-    * jump *label5 lessThanEq :surplus 10000
-    * op sub *tmp5 @tick 3600
-    * jump *label6 always
-    * label *label5
-    * set *tmp5 @tick
-    * label *label6
+   24 op sub *tmp218 @tick 3600
+   25 select *tmp5 greaterThan :surplus 10000 *tmp218 @tick
    26 set :t_startup1 *tmp5
    27 set :t_startup2 *tmp5
    28 set :t_startup3 *tmp5
 
   241 op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
   242 jump *label40 always
   243 label *label40
-    * jump *label50 equal *tmp29 false
-    * set *tmp46 @pyratite
-    * jump *label51 always
-    * label *label50
-    * set *tmp46 @scrap
-    * label *label51
+  244 select *tmp46 notEqual *tmp29 false @pyratite @scrap
   245 control config unloader7 *tmp46
   246 sensor *tmp48 node1 @powerNetStored
   247 sensor *tmp49 node1 @powerNetCapacity
 
   338 return :kilo*retaddr
   339 end
   340 label *label1
-    * jump *label77 equal :update_fuel:fuel false
-    * set *tmp89 .FUEL
-    * jump *label78 always
-    * label *label77
-    * set *tmp89 .FUEL_OFF
-    * label *label78
+  341 select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
   342 control config :update_fuel:uld_in *tmp89
-    * jump *label79 notEqual :update_fuel:fuel false
-    * set *tmp93 .FUEL
-    * jump *label80 always
-    * label *label79
-    * set *tmp93 .FUEL_OFF
-    * label *label80
+  343 select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
   344 control config :update_fuel:uld_out *tmp93
   345 label *label76
   346 return :update_fuel*retaddr
 
   542 label *label113
   543 label *label90
   544 label *label88
-    * sensor *tmp188 :start_reactor:reactor @enabled
-    * jump *label126 equal :start_reactor:enabled *tmp188
-    * set .RET_T_STARTUP @tick
-    * label *label126
-    * label *label127
+  545 sensor *tmp188 :start_reactor:reactor @enabled
+  546 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick .RET_T_STARTUP
   547 set :start_reactor*retval :start_reactor:supply_fuel
   548 jump *label86 always
   549 label *label86

Modifications by Iterated phase, If Expression Optimization, pass 1, iteration 2:
 
   157 label *label28
   158 set :fuel_5 :start_reactor*retval
   159 set :t_startup5 .RET_T_STARTUP
+  160 set *tmp26 false
   161 jump *label31 notEqual :fuel_3 false
   162 label *label33
   163 jump *label31 notEqual :fuel_4 false
   164 label *label32
-    * jump *label29 equal :start_reactor*retval false
+  165 jump *label30 equal :start_reactor*retval false
   166 label *label31
   167 set *tmp26 true
   168 jump *label30 always
-    * label *label29
-    * set *tmp26 false
   169 label *label30
   170 set :update_fuel:fuel *tmp26
   171 set :update_fuel:uld_in unloader5
 
   173 setaddr :update_fuel*retaddr *label34 (h:*label34)
   174 call *label1 *invalid :update_fuel*retval (m:*label34) (h:*label34)
   175 label *label34
+  176 set *tmp28 false
   177 jump *label37 notEqual :fuel_1 false
   178 label *label39
   179 jump *label37 notEqual :fuel_2 false
   180 label *label38
-    * jump *label35 equal *tmp26 false
+  181 jump *label36 equal *tmp26 false
   182 label *label37
   183 set *tmp28 true
   184 jump *label36 always
-    * label *label35
-    * set *tmp28 false
   185 label *label36
   186 sensor *tmp30 node1 @powerNetStored
   187 op floor :throttle_blast:charge *tmp30

Modifications by Inline function 'kilo' defined at line 117:1 (-2 instructions):
 
   259 label *label54
   260 label *label52
   261 set :kilo:val .AVG_SURPLUS
-    * setaddr :kilo*retaddr *label57 (h:*label57)
-    * call *label0 *invalid :kilo*retval (m:*label57) (h:*label57)
-    * label *label57
+  262 label *label131
+  263 op idiv *tmp85 :kilo:val 100
+  264 op div :kilo*retval *tmp85 10
+  265 jump *label132 always
+  266 label *label132
   267 set :surplus :kilo*retval
   268 sensor :kilo:val node1 @powerNetStored
-    * setaddr :kilo*retaddr *label58 (h:*label58)
-    * call *label0 *invalid :kilo*retval (m:*label58) (h:*label58)
-    * label *label58
+  269 label *label133
+  270 op idiv *tmp85 :kilo:val 100
+  271 op div :kilo*retval *tmp85 10
+  272 jump *label134 always
+  273 label *label134
   274 set :charge :kilo*retval
   275 jump *label59 lessThanEq .START_POWER_REQ 0
   276 set :kilo:val .START_POWER_REQ
-    * setaddr :kilo*retaddr *label61 (h:*label61)
-    * call *label0 *invalid :kilo*retval (m:*label61) (h:*label61)
-    * label *label61
+  277 label *label135
+  278 op idiv *tmp85 :kilo:val 100
+  279 op div :kilo*retval *tmp85 10
+  280 jump *label136 always
+  281 label *label136
   282 print "Req "
   283 print :kilo*retval
   284 print "kJ / "
 
   334 jump *label7 always
   335 label *label9
   336 end
-    * label *label0
-    * op idiv *tmp85 :kilo:val 100
-    * op div :kilo*retval *tmp85 10
-    * jump *label75 always
-    * label *label75
-    * return :kilo*retaddr
-    * end
   337 label *label1
   338 select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
   339 control config :update_fuel:uld_in *tmp89

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   260 label *label52
   261 set :kilo:val .AVG_SURPLUS
   262 label *label131
-    * op idiv *tmp85 :kilo:val 100
+  263 op idiv *tmp85 .AVG_SURPLUS 100
   264 op div :kilo*retval *tmp85 10
   265 jump *label132 always
   266 label *label132
 
   275 jump *label59 lessThanEq .START_POWER_REQ 0
   276 set :kilo:val .START_POWER_REQ
   277 label *label135
-    * op idiv *tmp85 :kilo:val 100
+  278 op idiv *tmp85 .START_POWER_REQ 100
   279 op div :kilo*retval *tmp85 10
   280 jump *label136 always
   281 label *label136

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-2 instructions):
 
   258 control enabled generator2 true
   259 label *label54
   260 label *label52
-    * set :kilo:val .AVG_SURPLUS
   261 label *label131
   262 op idiv *tmp85 .AVG_SURPLUS 100
   263 op div :kilo*retval *tmp85 10
 
   272 label *label134
   273 set :charge :kilo*retval
   274 jump *label59 lessThanEq .START_POWER_REQ 0
-    * set :kilo:val .START_POWER_REQ
   275 label *label135
   276 op idiv *tmp85 .START_POWER_REQ 100
   277 op div :kilo*retval *tmp85 10

Modifications by Inline function 'update_fuel' defined at line 121:1:
 
   103 set :update_fuel:fuel :start_reactor*retval
   104 set :update_fuel:uld_in unloader1
   105 set :update_fuel:uld_out unloader2
-    * setaddr :update_fuel*retaddr *label22 (h:*label22)
-    * call *label1 *invalid :update_fuel*retval (m:*label22) (h:*label22)
-    * label *label22
+  106 label *label137
+  107 select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
+  108 control config :update_fuel:uld_in *tmp89
+  109 select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
+  110 control config :update_fuel:uld_out *tmp93
+  111 label *label138
   112 set :start_reactor:reactor reactor2
   113 set :start_reactor:reactor_num 2
   114 set :start_reactor:emerg_shutdown :emerg_shutdown
 
   122 set :update_fuel:fuel :start_reactor*retval
   123 set :update_fuel:uld_in unloader3
   124 set :update_fuel:uld_out unloader4
-    * setaddr :update_fuel*retaddr *label24 (h:*label24)
-    * call *label1 *invalid :update_fuel*retval (m:*label24) (h:*label24)
-    * label *label24
+  125 label *label139
+  126 select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
+  127 control config :update_fuel:uld_in *tmp89
+  128 select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
+  129 control config :update_fuel:uld_out *tmp93
+  130 label *label140
   131 set :check_radar:unit cyclone1
   132 setaddr :check_radar*retaddr *label25 (h:*label25)
   133 call *label4 *invalid :check_radar*retval (m:*label25) (h:*label25)
 
   176 set :update_fuel:fuel *tmp26
   177 set :update_fuel:uld_in unloader5
   178 set :update_fuel:uld_out unloader6
-    * setaddr :update_fuel*retaddr *label34 (h:*label34)
-    * call *label1 *invalid :update_fuel*retval (m:*label34) (h:*label34)
-    * label *label34
+  179 label *label141
+  180 select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
+  181 control config :update_fuel:uld_in *tmp89
+  182 select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
+  183 control config :update_fuel:uld_out *tmp93
+  184 label *label142
   185 set *tmp28 false
   186 jump *label37 notEqual :fuel_1 false
   187 label *label39
 
   341 jump *label7 always
   342 label *label9
   343 end
-    * label *label1
-    * select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_in *tmp89
-    * select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_out *tmp93
-    * label *label76
-    * return :update_fuel*retaddr
-    * end
   344 label *label2
   345 op sub *tmp94 @tick :calc_charge_req:time
   346 op idiv :calc_charge_req:secs *tmp94 60

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   104 set :update_fuel:uld_in unloader1
   105 set :update_fuel:uld_out unloader2
   106 label *label137
-    * select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_in *tmp89
-    * select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_out *tmp93
+  107 select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
+  108 control config unloader1 *tmp89
+  109 select *tmp93 equal :start_reactor*retval false @blast-compound @scrap
+  110 control config unloader2 *tmp93
   111 label *label138
   112 set :start_reactor:reactor reactor2
   113 set :start_reactor:reactor_num 2
 
   123 set :update_fuel:uld_in unloader3
   124 set :update_fuel:uld_out unloader4
   125 label *label139
-    * select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_in *tmp89
-    * select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_out *tmp93
+  126 select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
+  127 control config unloader3 *tmp89
+  128 select *tmp93 equal :start_reactor*retval false @blast-compound @scrap
+  129 control config unloader4 *tmp93
   130 label *label140
   131 set :check_radar:unit cyclone1
   132 setaddr :check_radar*retaddr *label25 (h:*label25)
 
   177 set :update_fuel:uld_in unloader5
   178 set :update_fuel:uld_out unloader6
   179 label *label141
-    * select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_in *tmp89
-    * select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_out *tmp93
+  180 select *tmp89 notEqual *tmp26 false @blast-compound @scrap
+  181 control config unloader5 *tmp89
+  182 select *tmp93 equal *tmp26 false @blast-compound @scrap
+  183 control config unloader6 *tmp93
   184 label *label142
   185 set *tmp28 false
   186 jump *label37 notEqual :fuel_1 false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-9 instructions):
 
   100 label *label21
   101 set :fuel_1 :start_reactor*retval
   102 set :t_startup1 .RET_T_STARTUP
-    * set :update_fuel:fuel :start_reactor*retval
-    * set :update_fuel:uld_in unloader1
-    * set :update_fuel:uld_out unloader2
   103 label *label137
   104 select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
   105 control config unloader1 *tmp89
 
   116 label *label23
   117 set :fuel_2 :start_reactor*retval
   118 set :t_startup2 .RET_T_STARTUP
-    * set :update_fuel:fuel :start_reactor*retval
-    * set :update_fuel:uld_in unloader3
-    * set :update_fuel:uld_out unloader4
   119 label *label139
   120 select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
   121 control config unloader3 *tmp89
 
   167 set *tmp26 true
   168 jump *label30 always
   169 label *label30
-    * set :update_fuel:fuel *tmp26
-    * set :update_fuel:uld_in unloader5
-    * set :update_fuel:uld_out unloader6
   170 label *label141
   171 select *tmp89 notEqual *tmp26 false @blast-compound @scrap
   172 control config unloader5 *tmp89

Modifications by Inline function 'calc_charge_req' defined at line 126:1 (+46 instructions):
 
    62 op or :emerg_shutdown :check_radar*retval *tmp8
    63 set :calc_charge_req:reactor reactor1
    64 set :calc_charge_req:time :t_startup1
-    * setaddr :calc_charge_req*retaddr *label16 (h:*label16)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label16) (h:*label16)
-    * label *label16
+   65 label *label143
+   66 op sub *tmp94 @tick :calc_charge_req:time
+   67 op idiv :calc_charge_req:secs *tmp94 60
+   68 jump *label145 greaterThan :calc_charge_req:secs 30
+   69 label *label144
+   70 sensor *tmp97 :calc_charge_req:reactor @enabled
+   71 jump *label146 notEqual *tmp97 false
+   72 label *label145
+   73 set :calc_charge_req*retval 0
+   74 jump *label148 always
+   75 label *label146
+   76 label *label147
+   77 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+   78 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+   79 op idiv :calc_charge_req:charge_req *tmp101 0.04
+   80 set :calc_charge_req*retval :calc_charge_req:charge_req
+   81 jump *label148 always
+   82 label *label148
    83 set .START_POWER_REQ :calc_charge_req*retval
    84 set :calc_charge_req:reactor reactor2
    85 set :calc_charge_req:time :t_startup2
-    * setaddr :calc_charge_req*retaddr *label17 (h:*label17)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label17) (h:*label17)
-    * label *label17
+   86 label *label149
+   87 op sub *tmp94 @tick :calc_charge_req:time
+   88 op idiv :calc_charge_req:secs *tmp94 60
+   89 jump *label151 greaterThan :calc_charge_req:secs 30
+   90 label *label150
+   91 sensor *tmp97 :calc_charge_req:reactor @enabled
+   92 jump *label152 notEqual *tmp97 false
+   93 label *label151
+   94 set :calc_charge_req*retval 0
+   95 jump *label154 always
+   96 label *label152
+   97 label *label153
+   98 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+   99 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  100 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  101 set :calc_charge_req*retval :calc_charge_req:charge_req
+  102 jump *label154 always
+  103 label *label154
   104 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   105 set :calc_charge_req:reactor reactor3
   106 set :calc_charge_req:time :t_startup3
-    * setaddr :calc_charge_req*retaddr *label18 (h:*label18)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label18) (h:*label18)
-    * label *label18
+  107 label *label155
+  108 op sub *tmp94 @tick :calc_charge_req:time
+  109 op idiv :calc_charge_req:secs *tmp94 60
+  110 jump *label157 greaterThan :calc_charge_req:secs 30
+  111 label *label156
+  112 sensor *tmp97 :calc_charge_req:reactor @enabled
+  113 jump *label158 notEqual *tmp97 false
+  114 label *label157
+  115 set :calc_charge_req*retval 0
+  116 jump *label160 always
+  117 label *label158
+  118 label *label159
+  119 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  120 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  121 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  122 set :calc_charge_req*retval :calc_charge_req:charge_req
+  123 jump *label160 always
+  124 label *label160
   125 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   126 set :calc_charge_req:reactor reactor4
   127 set :calc_charge_req:time :t_startup4
-    * setaddr :calc_charge_req*retaddr *label19 (h:*label19)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label19) (h:*label19)
-    * label *label19
+  128 label *label161
+  129 op sub *tmp94 @tick :calc_charge_req:time
+  130 op idiv :calc_charge_req:secs *tmp94 60
+  131 jump *label163 greaterThan :calc_charge_req:secs 30
+  132 label *label162
+  133 sensor *tmp97 :calc_charge_req:reactor @enabled
+  134 jump *label164 notEqual *tmp97 false
+  135 label *label163
+  136 set :calc_charge_req*retval 0
+  137 jump *label166 always
+  138 label *label164
+  139 label *label165
+  140 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  141 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  142 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  143 set :calc_charge_req*retval :calc_charge_req:charge_req
+  144 jump *label166 always
+  145 label *label166
   146 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   147 set :calc_charge_req:reactor reactor5
   148 set :calc_charge_req:time :t_startup5
-    * setaddr :calc_charge_req*retaddr *label20 (h:*label20)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label20) (h:*label20)
-    * label *label20
+  149 label *label167
+  150 op sub *tmp94 @tick :calc_charge_req:time
+  151 op idiv :calc_charge_req:secs *tmp94 60
+  152 jump *label169 greaterThan :calc_charge_req:secs 30
+  153 label *label168
+  154 sensor *tmp97 :calc_charge_req:reactor @enabled
+  155 jump *label170 notEqual *tmp97 false
+  156 label *label169
+  157 set :calc_charge_req*retval 0
+  158 jump *label172 always
+  159 label *label170
+  160 label *label171
+  161 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  162 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  163 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  164 set :calc_charge_req*retval :calc_charge_req:charge_req
+  165 jump *label172 always
+  166 label *label172
   167 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   168 set :start_reactor:reactor reactor1
   169 set :start_reactor:reactor_num 1
 
   407 jump *label7 always
   408 label *label9
   409 end
-    * label *label2
-    * op sub *tmp94 @tick :calc_charge_req:time
-    * op idiv :calc_charge_req:secs *tmp94 60
-    * jump *label84 greaterThan :calc_charge_req:secs 30
-    * label *label85
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
-    * jump *label82 notEqual *tmp97 false
-    * label *label84
-    * set :calc_charge_req*retval 0
-    * jump *label81 always
-    * label *label82
-    * label *label83
-    * op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
-    * op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
-    * op idiv :calc_charge_req:charge_req *tmp101 0.04
-    * set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label81 always
-    * label *label81
-    * return :calc_charge_req*retaddr
-    * end
   410 label *label3
   411 set .RET_T_STARTUP :start_reactor:t_startup
   412 op sub *tmp104 @tick :start_reactor:t_startup
 
   468 jump *label101 greaterThanEq :start_reactor:secs 30
   469 set :calc_charge_req:reactor :start_reactor:reactor
   470 set :calc_charge_req:time :start_reactor:t_startup
-    * setaddr :calc_charge_req*retaddr *label103 (h:*label103)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label103) (h:*label103)
-    * label *label103
+  471 label *label173
+  472 op sub *tmp94 @tick :calc_charge_req:time
+  473 op idiv :calc_charge_req:secs *tmp94 60
+  474 jump *label175 greaterThan :calc_charge_req:secs 30
+  475 label *label174
+  476 sensor *tmp97 :calc_charge_req:reactor @enabled
+  477 jump *label176 notEqual *tmp97 false
+  478 label *label175
+  479 set :calc_charge_req*retval 0
+  480 jump *label178 always
+  481 label *label176
+  482 label *label177
+  483 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  484 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  485 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  486 set :calc_charge_req*retval :calc_charge_req:charge_req
+  487 jump *label178 always
+  488 label *label178
   489 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   490 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   491 label *label107

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    63 set :calc_charge_req:reactor reactor1
    64 set :calc_charge_req:time :t_startup1
    65 label *label143
-    * op sub *tmp94 @tick :calc_charge_req:time
+   66 op sub *tmp94 @tick :t_startup1
    67 op idiv :calc_charge_req:secs *tmp94 60
    68 jump *label145 greaterThan :calc_charge_req:secs 30
    69 label *label144
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+   70 sensor *tmp97 reactor1 @enabled
    71 jump *label146 notEqual *tmp97 false
    72 label *label145
    73 set :calc_charge_req*retval 0
 
    84 set :calc_charge_req:reactor reactor2
    85 set :calc_charge_req:time :t_startup2
    86 label *label149
-    * op sub *tmp94 @tick :calc_charge_req:time
+   87 op sub *tmp94 @tick :t_startup2
    88 op idiv :calc_charge_req:secs *tmp94 60
    89 jump *label151 greaterThan :calc_charge_req:secs 30
    90 label *label150
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+   91 sensor *tmp97 reactor2 @enabled
    92 jump *label152 notEqual *tmp97 false
    93 label *label151
    94 set :calc_charge_req*retval 0
 
   105 set :calc_charge_req:reactor reactor3
   106 set :calc_charge_req:time :t_startup3
   107 label *label155
-    * op sub *tmp94 @tick :calc_charge_req:time
+  108 op sub *tmp94 @tick :t_startup3
   109 op idiv :calc_charge_req:secs *tmp94 60
   110 jump *label157 greaterThan :calc_charge_req:secs 30
   111 label *label156
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+  112 sensor *tmp97 reactor3 @enabled
   113 jump *label158 notEqual *tmp97 false
   114 label *label157
   115 set :calc_charge_req*retval 0
 
   126 set :calc_charge_req:reactor reactor4
   127 set :calc_charge_req:time :t_startup4
   128 label *label161
-    * op sub *tmp94 @tick :calc_charge_req:time
+  129 op sub *tmp94 @tick :t_startup4
   130 op idiv :calc_charge_req:secs *tmp94 60
   131 jump *label163 greaterThan :calc_charge_req:secs 30
   132 label *label162
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+  133 sensor *tmp97 reactor4 @enabled
   134 jump *label164 notEqual *tmp97 false
   135 label *label163
   136 set :calc_charge_req*retval 0
 
   147 set :calc_charge_req:reactor reactor5
   148 set :calc_charge_req:time :t_startup5
   149 label *label167
-    * op sub *tmp94 @tick :calc_charge_req:time
+  150 op sub *tmp94 @tick :t_startup5
   151 op idiv :calc_charge_req:secs *tmp94 60
   152 jump *label169 greaterThan :calc_charge_req:secs 30
   153 label *label168
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+  154 sensor *tmp97 reactor5 @enabled
   155 jump *label170 notEqual *tmp97 false
   156 label *label169
   157 set :calc_charge_req*retval 0
 
   469 set :calc_charge_req:reactor :start_reactor:reactor
   470 set :calc_charge_req:time :start_reactor:t_startup
   471 label *label173
-    * op sub *tmp94 @tick :calc_charge_req:time
+  472 op sub *tmp94 @tick :start_reactor:t_startup
   473 op idiv :calc_charge_req:secs *tmp94 60
   474 jump *label175 greaterThan :calc_charge_req:secs 30
   475 label *label174
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+  476 sensor *tmp97 :start_reactor:reactor @enabled
   477 jump *label176 notEqual *tmp97 false
   478 label *label175
   479 set :calc_charge_req*retval 0
 
   600 label *label90
   601 label *label88
   602 sensor *tmp188 :start_reactor:reactor @enabled
-    * select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick .RET_T_STARTUP
+  603 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
   604 set :start_reactor*retval :start_reactor:supply_fuel
   605 jump *label86 always
   606 label *label86

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-13 instructions):
 
    60 jump *label11 always
    61 label *label11
    62 op or :emerg_shutdown :check_radar*retval *tmp8
-    * set :calc_charge_req:reactor reactor1
-    * set :calc_charge_req:time :t_startup1
    63 label *label143
    64 op sub *tmp94 @tick :t_startup1
    65 op idiv :calc_charge_req:secs *tmp94 60
 
    79 jump *label148 always
    80 label *label148
    81 set .START_POWER_REQ :calc_charge_req*retval
-    * set :calc_charge_req:reactor reactor2
-    * set :calc_charge_req:time :t_startup2
    82 label *label149
    83 op sub *tmp94 @tick :t_startup2
    84 op idiv :calc_charge_req:secs *tmp94 60
 
    98 jump *label154 always
    99 label *label154
   100 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * set :calc_charge_req:reactor reactor3
-    * set :calc_charge_req:time :t_startup3
   101 label *label155
   102 op sub *tmp94 @tick :t_startup3
   103 op idiv :calc_charge_req:secs *tmp94 60
 
   117 jump *label160 always
   118 label *label160
   119 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * set :calc_charge_req:reactor reactor4
-    * set :calc_charge_req:time :t_startup4
   120 label *label161
   121 op sub *tmp94 @tick :t_startup4
   122 op idiv :calc_charge_req:secs *tmp94 60
 
   136 jump *label166 always
   137 label *label166
   138 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * set :calc_charge_req:reactor reactor5
-    * set :calc_charge_req:time :t_startup5
   139 label *label167
   140 op sub *tmp94 @tick :t_startup5
   141 op idiv :calc_charge_req:secs *tmp94 60
 
   398 label *label9
   399 end
   400 label *label3
-    * set .RET_T_STARTUP :start_reactor:t_startup
   401 op sub *tmp104 @tick :start_reactor:t_startup
   402 op idiv :start_reactor:secs *tmp104 60
   403 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
 
   455 jump *label100 always
   456 label *label99
   457 jump *label101 greaterThanEq :start_reactor:secs 30
-    * set :calc_charge_req:reactor :start_reactor:reactor
-    * set :calc_charge_req:time :start_reactor:t_startup
   458 label *label173
   459 op sub *tmp94 @tick :start_reactor:t_startup
   460 op idiv :calc_charge_req:secs *tmp94 60

Modifications by Inline function 'check_radar' defined at line 259:1 (+17 instructions):
 
    42 set .CONTAINER vault1
    43 set .NODE node1
    44 set :check_radar:unit cyclone1
-    * setaddr :check_radar*retaddr *label10 (h:*label10)
-    * call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
-    * label *label10
+   45 label *label179
+   46 radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
+   47 jump *label180 equal :check_radar:enemy_found null
+   48 control enabled projector1 true
+   49 control enabled projector2 true
+   50 control config .ULD_IN_1 .FUEL_OFF
+   51 control config .ULD_OUT_1 .FUEL
+   52 control config .ULD_IN_2 .FUEL_OFF
+   53 control config .ULD_OUT_2 .FUEL
+   54 control config .ULD_IN_MANY .FUEL_OFF
+   55 control config .ULD_OUT_MANY .FUEL
+   56 control config .ULD_MIXER .FUEL_OFF
+   57 control enabled reactor1 false
+   58 control enabled reactor2 false
+   59 control enabled reactor3 false
+   60 control enabled reactor4 false
+   61 control enabled reactor5 false
+   62 set :check_radar*retval true
+   63 jump *label182 always
+   64 jump *label181 always
+   65 label *label180
+   66 control enabled projector1 false
+   67 control enabled projector2 false
+   68 set :check_radar*retval false
+   69 jump *label182 always
+   70 label *label181
+   71 label *label182
    72 jump *label12 equal switch1 null
    73 label *label15
    74 sensor *tmp10 switch1 @enabled
 
   212 control config unloader4 *tmp93
   213 label *label140
   214 set :check_radar:unit cyclone1
-    * setaddr :check_radar*retaddr *label25 (h:*label25)
-    * call *label4 *invalid :check_radar*retval (m:*label25) (h:*label25)
-    * label *label25
+  215 label *label183
+  216 radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
+  217 jump *label184 equal :check_radar:enemy_found null
+  218 control enabled projector1 true
+  219 control enabled projector2 true
+  220 control config .ULD_IN_1 .FUEL_OFF
+  221 control config .ULD_OUT_1 .FUEL
+  222 control config .ULD_IN_2 .FUEL_OFF
+  223 control config .ULD_OUT_2 .FUEL
+  224 control config .ULD_IN_MANY .FUEL_OFF
+  225 control config .ULD_OUT_MANY .FUEL
+  226 control config .ULD_MIXER .FUEL_OFF
+  227 control enabled reactor1 false
+  228 control enabled reactor2 false
+  229 control enabled reactor3 false
+  230 control enabled reactor4 false
+  231 control enabled reactor5 false
+  232 set :check_radar*retval true
+  233 jump *label186 always
+  234 jump *label185 always
+  235 label *label184
+  236 control enabled projector1 false
+  237 control enabled projector2 false
+  238 set :check_radar*retval false
+  239 jump *label186 always
+  240 label *label185
+  241 label *label186
   242 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
   243 set :start_reactor:reactor reactor3
   244 set :start_reactor:reactor_num 3
 
   641 label *label86
   642 return :start_reactor*retaddr
   643 end
-    * label *label4
-    * radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
-    * jump *label129 equal :check_radar:enemy_found null
-    * control enabled projector1 true
-    * control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
-    * control enabled reactor1 false
-    * control enabled reactor2 false
-    * control enabled reactor3 false
-    * control enabled reactor4 false
-    * control enabled reactor5 false
-    * set :check_radar*retval true
-    * jump *label128 always
-    * jump *label130 always
-    * label *label129
-    * control enabled projector1 false
-    * control enabled projector2 false
-    * set :check_radar*retval false
-    * jump *label128 always
-    * label *label130
-    * label *label128
-    * return :check_radar*retaddr
-    * end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    43 set .NODE node1
    44 set :check_radar:unit cyclone1
    45 label *label179
-    * radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
+   46 radar enemy any any health cyclone1 1 :check_radar:enemy_found
    47 jump *label180 equal :check_radar:enemy_found null
    48 control enabled projector1 true
    49 control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
+   50 control config unloader1 @scrap
+   51 control config unloader2 @blast-compound
+   52 control config unloader3 @scrap
+   53 control config unloader4 @blast-compound
+   54 control config unloader5 @scrap
+   55 control config unloader6 @blast-compound
+   56 control config unloader7 @scrap
    57 control enabled reactor1 false
    58 control enabled reactor2 false
    59 control enabled reactor3 false
 
   213 label *label140
   214 set :check_radar:unit cyclone1
   215 label *label183
-    * radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
+  216 radar enemy any any health cyclone1 1 :check_radar:enemy_found
   217 jump *label184 equal :check_radar:enemy_found null
   218 control enabled projector1 true
   219 control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
+  220 control config unloader1 @scrap
+  221 control config unloader2 @blast-compound
+  222 control config unloader3 @scrap
+  223 control config unloader4 @blast-compound
+  224 control config unloader5 @scrap
+  225 control config unloader6 @blast-compound
+  226 control config unloader7 @scrap
   227 control enabled reactor1 false
   228 control enabled reactor2 false
   229 control enabled reactor3 false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-11 instructions):
     0 printflush message1
-    * set .FUEL @blast-compound
-    * set .FUEL_OFF @scrap
     1 set .PWR_REQ 23000
     2 set .FLOW_REQ 2000
     3 set .PWR_ABANDON 2000
 
    30 set .REACTORS_DESIRED 5
    31 set .AVG_SURPLUS 500
    32 label *label7
-    * set .ULD_IN_1 unloader1
-    * set .ULD_OUT_1 unloader2
-    * set .ULD_IN_2 unloader3
-    * set .ULD_OUT_2 unloader4
-    * set .ULD_IN_MANY unloader5
-    * set .ULD_OUT_MANY unloader6
-    * set .ULD_MIXER unloader7
    33 set .CONTAINER vault1
    34 set .NODE node1
-    * set :check_radar:unit cyclone1
    35 label *label179
    36 radar enemy any any health cyclone1 1 :check_radar:enemy_found
    37 jump *label180 equal :check_radar:enemy_found null
 
   201 select *tmp93 equal :start_reactor*retval false @blast-compound @scrap
   202 control config unloader4 *tmp93
   203 label *label140
-    * set :check_radar:unit cyclone1
   204 label *label183
   205 radar enemy any any health cyclone1 1 :check_radar:enemy_found
   206 jump *label184 equal :check_radar:enemy_found null

Modifications by Inline function call at line 80:14 (+146 instructions):
 
   174 set :start_reactor:emerg_shutdown :emerg_shutdown
   175 set :start_reactor:fuel_on :fuel_1
   176 set :start_reactor:t_startup :t_startup1
-    * setaddr :start_reactor*retaddr *label21 (h:*label21)
-    * call *label3 *invalid :start_reactor*retval (m:*label21) (h:*label21)
-    * label *label21
+  177 label *label187
+  178 op sub *tmp104 @tick :start_reactor:t_startup
+  179 op idiv :start_reactor:secs *tmp104 60
+  180 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  181 set :start_reactor:supply_fuel true
+  182 sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
+  183 sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
+  184 sensor *tmp109 .NODE @powerNetStored
+  185 op floor :start_reactor:charge *tmp109
+  186 sensor *tmp111 .NODE @powerNetIn
+  187 sensor *tmp112 .NODE @powerNetOut
+  188 op sub *tmp113 *tmp111 *tmp112
+  189 op floor :start_reactor:surplus *tmp113
+  190 op mul *tmp115 .AVG_SURPLUS 0.8
+  191 op mul *tmp116 :start_reactor:surplus 0.2
+  192 op add .AVG_SURPLUS *tmp115 *tmp116
+  193 sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  194 print "#"
+  195 print :start_reactor:reactor_num
+  196 print " "
+  197 print "- "
+  198 jump *label188 equal :start_reactor:emerg_shutdown false
+  199 control enabled :start_reactor:reactor false
+  200 print "emergency mode"
+  201 print "\n"
+  202 set :start_reactor:supply_fuel false
+  203 jump *label231 always
+  204 label *label188
+  205 jump *label215 equal :start_reactor:enabled false
+  206 jump *label189 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  207 control enabled :start_reactor:reactor false
+  208 print "STOP unwanted"
+  209 print "\n"
+  210 jump *label214 always
+  211 label *label189
+  212 jump *label192 lessThanEq :start_reactor:reactor_num 1
+  213 label *label190
+  214 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
+  215 jump *label192 greaterThanEq :start_reactor:fuel_stored *tmp128
+  216 label *label191
+  217 control enabled :start_reactor:reactor false
+  218 print "STOP system fuel low"
+  219 print "\n"
+  220 jump *label213 always
+  221 label *label192
+  222 jump *label193 greaterThan :start_reactor:fuel 1
+  223 control enabled :start_reactor:reactor false
+  224 print "STOP fuel low"
+  225 print "\n"
+  226 jump *label212 always
+  227 label *label193
+  228 jump *label194 greaterThan :start_reactor:cryo .CRYO_ABORT
+  229 control enabled :start_reactor:reactor false
+  230 print "STOP out of cryo"
+  231 print "\n"
+  232 jump *label211 always
+  233 label *label194
+  234 jump *label205 greaterThanEq :start_reactor:secs 30
+  235 label *label195
+  236 op sub *tmp94 @tick :start_reactor:t_startup
+  237 op idiv :calc_charge_req:secs *tmp94 60
+  238 jump *label197 greaterThan :calc_charge_req:secs 30
+  239 label *label196
+  240 sensor *tmp97 :start_reactor:reactor @enabled
+  241 jump *label198 notEqual *tmp97 false
+  242 label *label197
+  243 set :calc_charge_req*retval 0
+  244 jump *label200 always
+  245 label *label198
+  246 label *label199
+  247 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  248 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  249 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  250 set :calc_charge_req*retval :calc_charge_req:charge_req
+  251 jump *label200 always
+  252 label *label200
+  253 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
+  254 jump *label203 greaterThanEq *tmp143 .PWR_ABORT
+  255 label *label201
+  256 jump *label203 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  257 label *label202
+  258 control enabled :start_reactor:reactor false
+  259 print "START FAIL battery"
+  260 print "\n"
+  261 set :start_reactor:supply_fuel false
+  262 jump *label204 always
+  263 label *label203
+  264 op sub :start_reactor:time_left 30 :start_reactor:secs
+  265 print "Starting "
+  266 print :start_reactor:time_left
+  267 print " "
+  268 print "secs, req "
+  269 print :calc_charge_req*retval
+  270 print "J"
+  271 print "\n"
+  272 label *label204
+  273 jump *label210 always
+  274 label *label205
+  275 jump *label208 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  276 label *label206
+  277 jump *label208 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  278 label *label207
+  279 control enabled :start_reactor:reactor false
+  280 print "ABANDON - battery crit"
+  281 print "\n"
+  282 set :start_reactor:supply_fuel false
+  283 jump *label209 always
+  284 label *label208
+  285 op idiv :start_reactor:mins :start_reactor:secs 6
+  286 op div :start_reactor:mins :start_reactor:mins 10
+  287 print "RUN "
+  288 print :start_reactor:mins
+  289 print " "
+  290 print "mins"
+  291 print "\n"
+  292 label *label209
+  293 label *label210
+  294 label *label211
+  295 label *label212
+  296 label *label213
+  297 label *label214
+  298 jump *label230 always
+  299 label *label215
+  300 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
+  301 op sub *tmp158 *tmp157 .PWR_ABORT
+  302 op div *tmp159 *tmp158 .PWR_REQ
+  303 op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
+  304 op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  305 op max :start_reactor:flow_units -0.1 *tmp161
+  306 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
+  307 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
+  308 jump *label216 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  309 print "IDLE"
+  310 print "\n"
+  311 set :start_reactor:supply_fuel false
+  312 jump *label229 always
+  313 label *label216
+  314 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
+  315 jump *label217 greaterThanEq *tmp167 1
+  316 op idiv *tmp171 :start_reactor:flow_units 0.001
+  317 op div :start_reactor:flow *tmp171 10
+  318 op idiv *tmp174 :start_reactor:charge_units 0.001
+  319 op div :start_reactor:charge *tmp174 10
+  320 print "WAIT power. (%"
+  321 print :start_reactor:charge
+  322 print "J + %"
+  323 print :start_reactor:flow
+  324 print "W)"
+  325 print "\n"
+  326 set :start_reactor:supply_fuel false
+  327 jump *label228 always
+  328 label *label217
+  329 jump *label222 equal :start_reactor:fuel_on false
+  330 label *label218
+  331 jump *label222 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  332 label *label219
+  333 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
+  334 jump *label220 lessThanEq *tmp178 .FUEL_REQ
+  335 print "WAIT fuel"
+  336 print "\n"
+  337 jump *label221 always
+  338 label *label220
+  339 print "WAIT system fuel"
+  340 print "\n"
+  341 label *label221
+  342 jump *label227 always
+  343 label *label222
+  344 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
+  345 jump *label223 greaterThanEq :start_reactor:fuel_stored *tmp181
+  346 print "WAIT buffer fuel"
+  347 print "\n"
+  348 jump *label226 always
+  349 label *label223
+  350 jump *label224 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  351 print "WAIT cryo"
+  352 print "\n"
+  353 jump *label225 always
+  354 label *label224
+  355 print "STARTUP"
+  356 print "\n"
+  357 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  358 control enabled :start_reactor:reactor true
+  359 label *label225
+  360 label *label226
+  361 label *label227
+  362 label *label228
+  363 label *label229
+  364 label *label230
+  365 label *label231
+  366 sensor *tmp188 :start_reactor:reactor @enabled
+  367 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  368 set :start_reactor*retval :start_reactor:supply_fuel
+  369 jump *label232 always
+  370 label *label232
   371 set :fuel_1 :start_reactor*retval
   372 set :t_startup1 .RET_T_STARTUP
   373 label *label137

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-1 instructions):
 
    26 set :t_startup3 *tmp5
    27 set :t_startup4 *tmp5
    28 set :t_startup5 *tmp5
-    * set .RET_T_STARTUP *tmp5
    29 set .REACTORS_DESIRED 5
    30 set .AVG_SURPLUS 500
    31 label *label7
 
   174 set :start_reactor:fuel_on :fuel_1
   175 set :start_reactor:t_startup :t_startup1
   176 label *label187
-    * op sub *tmp104 @tick :start_reactor:t_startup
+  177 op sub *tmp104 @tick :t_startup1
   178 op idiv :start_reactor:secs *tmp104 60
-    * sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  179 sensor :start_reactor:fuel reactor1 @blast-compound
   180 set :start_reactor:supply_fuel true
-    * sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
-    * sensor *tmp109 .NODE @powerNetStored
+  181 sensor :start_reactor:fuel_stored vault1 @blast-compound
+  182 sensor :start_reactor:cryo reactor1 @cryofluid
+  183 sensor *tmp109 node1 @powerNetStored
   184 op floor :start_reactor:charge *tmp109
-    * sensor *tmp111 .NODE @powerNetIn
-    * sensor *tmp112 .NODE @powerNetOut
+  185 sensor *tmp111 node1 @powerNetIn
+  186 sensor *tmp112 node1 @powerNetOut
   187 op sub *tmp113 *tmp111 *tmp112
   188 op floor :start_reactor:surplus *tmp113
   189 op mul *tmp115 .AVG_SURPLUS 0.8
   190 op mul *tmp116 :start_reactor:surplus 0.2
   191 op add .AVG_SURPLUS *tmp115 *tmp116
-    * sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  192 sensor :start_reactor:enabled reactor1 @enabled
   193 print "#"
-    * print :start_reactor:reactor_num
+  194 print 1
   195 print " "
   196 print "- "
-    * jump *label188 equal :start_reactor:emerg_shutdown false
-    * control enabled :start_reactor:reactor false
+  197 jump *label188 equal :emerg_shutdown false
+  198 control enabled reactor1 false
   199 print "emergency mode"
   200 print "\n"
   201 set :start_reactor:supply_fuel false
   202 jump *label231 always
   203 label *label188
   204 jump *label215 equal :start_reactor:enabled false
-    * jump *label189 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
-    * control enabled :start_reactor:reactor false
+  205 jump *label189 greaterThanEq .REACTORS_DESIRED 1
+  206 control enabled reactor1 false
   207 print "STOP unwanted"
   208 print "\n"
   209 jump *label214 always
   210 label *label189
-    * jump *label192 lessThanEq :start_reactor:reactor_num 1
+  211 jump *label192 lessThanEq 1 1
   212 label *label190
-    * op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
-    * jump *label192 greaterThanEq :start_reactor:fuel_stored *tmp128
+  213 op mul *tmp128 15 1
+  214 jump *label192 greaterThanEq :start_reactor:fuel_stored 15
   215 label *label191
-    * control enabled :start_reactor:reactor false
+  216 control enabled reactor1 false
   217 print "STOP system fuel low"
   218 print "\n"
   219 jump *label213 always
   220 label *label192
   221 jump *label193 greaterThan :start_reactor:fuel 1
-    * control enabled :start_reactor:reactor false
+  222 control enabled reactor1 false
   223 print "STOP fuel low"
   224 print "\n"
   225 jump *label212 always
   226 label *label193
-    * jump *label194 greaterThan :start_reactor:cryo .CRYO_ABORT
-    * control enabled :start_reactor:reactor false
+  227 jump *label194 greaterThan :start_reactor:cryo 1
+  228 control enabled reactor1 false
   229 print "STOP out of cryo"
   230 print "\n"
   231 jump *label211 always
   232 label *label194
   233 jump *label205 greaterThanEq :start_reactor:secs 30
   234 label *label195
-    * op sub *tmp94 @tick :start_reactor:t_startup
+  235 op sub *tmp94 @tick :t_startup1
   236 op idiv :calc_charge_req:secs *tmp94 60
   237 jump *label197 greaterThan :calc_charge_req:secs 30
   238 label *label196
-    * sensor *tmp97 :start_reactor:reactor @enabled
+  239 sensor *tmp97 reactor1 @enabled
   240 jump *label198 notEqual *tmp97 false
   241 label *label197
   242 set :calc_charge_req*retval 0
 
   250 jump *label200 always
   251 label *label200
   252 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
-    * jump *label203 greaterThanEq *tmp143 .PWR_ABORT
+  253 jump *label203 greaterThanEq *tmp143 5000
   254 label *label201
-    * jump *label203 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  255 jump *label203 greaterThanEq :start_reactor:surplus -500
   256 label *label202
-    * control enabled :start_reactor:reactor false
+  257 control enabled reactor1 false
   258 print "START FAIL battery"
   259 print "\n"
   260 set :start_reactor:supply_fuel false
 
   271 label *label204
   272 jump *label210 always
   273 label *label205
-    * jump *label208 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  274 jump *label208 greaterThanEq :start_reactor:charge 2000
   275 label *label206
-    * jump *label208 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  276 jump *label208 greaterThanEq :start_reactor:surplus -500
   277 label *label207
-    * control enabled :start_reactor:reactor false
+  278 control enabled reactor1 false
   279 print "ABANDON - battery crit"
   280 print "\n"
   281 set :start_reactor:supply_fuel false
 
   297 jump *label230 always
   298 label *label215
   299 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
-    * op sub *tmp158 *tmp157 .PWR_ABORT
-    * op div *tmp159 *tmp158 .PWR_REQ
-    * op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
-    * op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  300 op sub *tmp158 *tmp157 5000
+  301 op div *tmp159 *tmp158 23000
+  302 op mul :start_reactor:charge_units *tmp159 0.6
+  303 op div *tmp161 :start_reactor:surplus 2000
   304 op max :start_reactor:flow_units -0.1 *tmp161
-    * op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
-    * op add :start_reactor:cryo_req .CRYO_REQ *tmp163
-    * jump *label216 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  305 op mul *tmp163 2 1
+  306 op add :start_reactor:cryo_req 3 2
+  307 jump *label216 greaterThanEq .REACTORS_DESIRED 1
   308 print "IDLE"
   309 print "\n"
   310 set :start_reactor:supply_fuel false
 
   325 set :start_reactor:supply_fuel false
   326 jump *label228 always
   327 label *label217
-    * jump *label222 equal :start_reactor:fuel_on false
+  328 jump *label222 equal :fuel_1 false
   329 label *label218
-    * jump *label222 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  330 jump *label222 greaterThanEq :start_reactor:fuel 10
   331 label *label219
   332 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
-    * jump *label220 lessThanEq *tmp178 .FUEL_REQ
+  333 jump *label220 lessThanEq *tmp178 10
   334 print "WAIT fuel"
   335 print "\n"
   336 jump *label221 always
 
   340 label *label221
   341 jump *label227 always
   342 label *label222
-    * op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
-    * jump *label223 greaterThanEq :start_reactor:fuel_stored *tmp181
+  343 op mul *tmp181 45 1
+  344 jump *label223 greaterThanEq :start_reactor:fuel_stored 45
   345 print "WAIT buffer fuel"
   346 print "\n"
   347 jump *label226 always
   348 label *label223
-    * jump *label224 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  349 jump *label224 greaterThanEq :start_reactor:cryo 5
   350 print "WAIT cryo"
   351 print "\n"
   352 jump *label225 always
   353 label *label224
   354 print "STARTUP"
   355 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor:reactor true
+  356 op add .START_POWER_REQ .START_POWER_REQ 23000
+  357 control enabled reactor1 true
   358 label *label225
   359 label *label226
   360 label *label227
 
   362 label *label229
   363 label *label230
   364 label *label231
-    * sensor *tmp188 :start_reactor:reactor @enabled
-    * select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  365 sensor *tmp188 reactor1 @enabled
+  366 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup1
   367 set :start_reactor*retval :start_reactor:supply_fuel
   368 jump *label232 always
   369 label *label232
-    * set :fuel_1 :start_reactor*retval
+  370 set :fuel_1 :start_reactor:supply_fuel
   371 set :t_startup1 .RET_T_STARTUP
   372 label *label137
-    * select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
+  373 select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
   374 control config unloader1 *tmp89
-    * select *tmp93 equal :start_reactor*retval false @blast-compound @scrap
+  375 select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
   376 control config unloader2 *tmp93
   377 label *label138
   378 set :start_reactor:reactor reactor2

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
   168 jump *label172 always
   169 label *label172
   170 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * set :start_reactor:reactor reactor1
-    * set :start_reactor:reactor_num 1
-    * set :start_reactor:emerg_shutdown :emerg_shutdown
-    * set :start_reactor:fuel_on :fuel_1
-    * set :start_reactor:t_startup :t_startup1
   171 label *label187
   172 op sub *tmp104 @tick :t_startup1
   173 op idiv :start_reactor:secs *tmp104 60
 
   294 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
   295 op sub *tmp158 *tmp157 5000
   296 op div *tmp159 *tmp158 23000
-    * op mul :start_reactor:charge_units *tmp159 0.6
+  297 op div :start_reactor:charge_units *tmp158 38333.333333333336
   298 op div *tmp161 :start_reactor:surplus 2000
   299 op max :start_reactor:flow_units -0.1 *tmp161
   300 op mul *tmp163 2 1
 
   359 label *label231
   360 sensor *tmp188 reactor1 @enabled
   361 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup1
-    * set :start_reactor*retval :start_reactor:supply_fuel
   362 jump *label232 always
   363 label *label232
   364 set :fuel_1 :start_reactor:supply_fuel

Modifications by Inline function call at line 84:14 (+146 instructions):
 
   374 set :start_reactor:emerg_shutdown :emerg_shutdown
   375 set :start_reactor:fuel_on :fuel_2
   376 set :start_reactor:t_startup :t_startup2
-    * setaddr :start_reactor*retaddr *label23 (h:*label23)
-    * call *label3 *invalid :start_reactor*retval (m:*label23) (h:*label23)
-    * label *label23
+  377 label *label233
+  378 op sub *tmp104 @tick :start_reactor:t_startup
+  379 op idiv :start_reactor:secs *tmp104 60
+  380 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  381 set :start_reactor:supply_fuel true
+  382 sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
+  383 sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
+  384 sensor *tmp109 .NODE @powerNetStored
+  385 op floor :start_reactor:charge *tmp109
+  386 sensor *tmp111 .NODE @powerNetIn
+  387 sensor *tmp112 .NODE @powerNetOut
+  388 op sub *tmp113 *tmp111 *tmp112
+  389 op floor :start_reactor:surplus *tmp113
+  390 op mul *tmp115 .AVG_SURPLUS 0.8
+  391 op mul *tmp116 :start_reactor:surplus 0.2
+  392 op add .AVG_SURPLUS *tmp115 *tmp116
+  393 sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  394 print "#"
+  395 print :start_reactor:reactor_num
+  396 print " "
+  397 print "- "
+  398 jump *label234 equal :start_reactor:emerg_shutdown false
+  399 control enabled :start_reactor:reactor false
+  400 print "emergency mode"
+  401 print "\n"
+  402 set :start_reactor:supply_fuel false
+  403 jump *label277 always
+  404 label *label234
+  405 jump *label261 equal :start_reactor:enabled false
+  406 jump *label235 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  407 control enabled :start_reactor:reactor false
+  408 print "STOP unwanted"
+  409 print "\n"
+  410 jump *label260 always
+  411 label *label235
+  412 jump *label238 lessThanEq :start_reactor:reactor_num 1
+  413 label *label236
+  414 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
+  415 jump *label238 greaterThanEq :start_reactor:fuel_stored *tmp128
+  416 label *label237
+  417 control enabled :start_reactor:reactor false
+  418 print "STOP system fuel low"
+  419 print "\n"
+  420 jump *label259 always
+  421 label *label238
+  422 jump *label239 greaterThan :start_reactor:fuel 1
+  423 control enabled :start_reactor:reactor false
+  424 print "STOP fuel low"
+  425 print "\n"
+  426 jump *label258 always
+  427 label *label239
+  428 jump *label240 greaterThan :start_reactor:cryo .CRYO_ABORT
+  429 control enabled :start_reactor:reactor false
+  430 print "STOP out of cryo"
+  431 print "\n"
+  432 jump *label257 always
+  433 label *label240
+  434 jump *label251 greaterThanEq :start_reactor:secs 30
+  435 label *label241
+  436 op sub *tmp94 @tick :start_reactor:t_startup
+  437 op idiv :calc_charge_req:secs *tmp94 60
+  438 jump *label243 greaterThan :calc_charge_req:secs 30
+  439 label *label242
+  440 sensor *tmp97 :start_reactor:reactor @enabled
+  441 jump *label244 notEqual *tmp97 false
+  442 label *label243
+  443 set :calc_charge_req*retval 0
+  444 jump *label246 always
+  445 label *label244
+  446 label *label245
+  447 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  448 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  449 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  450 set :calc_charge_req*retval :calc_charge_req:charge_req
+  451 jump *label246 always
+  452 label *label246
+  453 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
+  454 jump *label249 greaterThanEq *tmp143 .PWR_ABORT
+  455 label *label247
+  456 jump *label249 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  457 label *label248
+  458 control enabled :start_reactor:reactor false
+  459 print "START FAIL battery"
+  460 print "\n"
+  461 set :start_reactor:supply_fuel false
+  462 jump *label250 always
+  463 label *label249
+  464 op sub :start_reactor:time_left 30 :start_reactor:secs
+  465 print "Starting "
+  466 print :start_reactor:time_left
+  467 print " "
+  468 print "secs, req "
+  469 print :calc_charge_req*retval
+  470 print "J"
+  471 print "\n"
+  472 label *label250
+  473 jump *label256 always
+  474 label *label251
+  475 jump *label254 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  476 label *label252
+  477 jump *label254 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  478 label *label253
+  479 control enabled :start_reactor:reactor false
+  480 print "ABANDON - battery crit"
+  481 print "\n"
+  482 set :start_reactor:supply_fuel false
+  483 jump *label255 always
+  484 label *label254
+  485 op idiv :start_reactor:mins :start_reactor:secs 6
+  486 op div :start_reactor:mins :start_reactor:mins 10
+  487 print "RUN "
+  488 print :start_reactor:mins
+  489 print " "
+  490 print "mins"
+  491 print "\n"
+  492 label *label255
+  493 label *label256
+  494 label *label257
+  495 label *label258
+  496 label *label259
+  497 label *label260
+  498 jump *label276 always
+  499 label *label261
+  500 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
+  501 op sub *tmp158 *tmp157 .PWR_ABORT
+  502 op div *tmp159 *tmp158 .PWR_REQ
+  503 op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
+  504 op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  505 op max :start_reactor:flow_units -0.1 *tmp161
+  506 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
+  507 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
+  508 jump *label262 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  509 print "IDLE"
+  510 print "\n"
+  511 set :start_reactor:supply_fuel false
+  512 jump *label275 always
+  513 label *label262
+  514 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
+  515 jump *label263 greaterThanEq *tmp167 1
+  516 op idiv *tmp171 :start_reactor:flow_units 0.001
+  517 op div :start_reactor:flow *tmp171 10
+  518 op idiv *tmp174 :start_reactor:charge_units 0.001
+  519 op div :start_reactor:charge *tmp174 10
+  520 print "WAIT power. (%"
+  521 print :start_reactor:charge
+  522 print "J + %"
+  523 print :start_reactor:flow
+  524 print "W)"
+  525 print "\n"
+  526 set :start_reactor:supply_fuel false
+  527 jump *label274 always
+  528 label *label263
+  529 jump *label268 equal :start_reactor:fuel_on false
+  530 label *label264
+  531 jump *label268 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  532 label *label265
+  533 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
+  534 jump *label266 lessThanEq *tmp178 .FUEL_REQ
+  535 print "WAIT fuel"
+  536 print "\n"
+  537 jump *label267 always
+  538 label *label266
+  539 print "WAIT system fuel"
+  540 print "\n"
+  541 label *label267
+  542 jump *label273 always
+  543 label *label268
+  544 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
+  545 jump *label269 greaterThanEq :start_reactor:fuel_stored *tmp181
+  546 print "WAIT buffer fuel"
+  547 print "\n"
+  548 jump *label272 always
+  549 label *label269
+  550 jump *label270 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  551 print "WAIT cryo"
+  552 print "\n"
+  553 jump *label271 always
+  554 label *label270
+  555 print "STARTUP"
+  556 print "\n"
+  557 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  558 control enabled :start_reactor:reactor true
+  559 label *label271
+  560 label *label272
+  561 label *label273
+  562 label *label274
+  563 label *label275
+  564 label *label276
+  565 label *label277
+  566 sensor *tmp188 :start_reactor:reactor @enabled
+  567 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  568 set :start_reactor*retval :start_reactor:supply_fuel
+  569 jump *label278 always
+  570 label *label278
   571 set :fuel_2 :start_reactor*retval
   572 set :t_startup2 .RET_T_STARTUP
   573 label *label139

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   375 set :start_reactor:fuel_on :fuel_2
   376 set :start_reactor:t_startup :t_startup2
   377 label *label233
-    * op sub *tmp104 @tick :start_reactor:t_startup
+  378 op sub *tmp104 @tick :t_startup2
   379 op idiv :start_reactor:secs *tmp104 60
-    * sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  380 sensor :start_reactor:fuel reactor2 @blast-compound
   381 set :start_reactor:supply_fuel true
-    * sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
-    * sensor *tmp109 .NODE @powerNetStored
+  382 sensor :start_reactor:fuel_stored vault1 @blast-compound
+  383 sensor :start_reactor:cryo reactor2 @cryofluid
+  384 sensor *tmp109 node1 @powerNetStored
   385 op floor :start_reactor:charge *tmp109
-    * sensor *tmp111 .NODE @powerNetIn
-    * sensor *tmp112 .NODE @powerNetOut
+  386 sensor *tmp111 node1 @powerNetIn
+  387 sensor *tmp112 node1 @powerNetOut
   388 op sub *tmp113 *tmp111 *tmp112
   389 op floor :start_reactor:surplus *tmp113
   390 op mul *tmp115 .AVG_SURPLUS 0.8
   391 op mul *tmp116 :start_reactor:surplus 0.2
   392 op add .AVG_SURPLUS *tmp115 *tmp116
-    * sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  393 sensor :start_reactor:enabled reactor2 @enabled
   394 print "#"
-    * print :start_reactor:reactor_num
+  395 print 2
   396 print " "
   397 print "- "
-    * jump *label234 equal :start_reactor:emerg_shutdown false
-    * control enabled :start_reactor:reactor false
+  398 jump *label234 equal :emerg_shutdown false
+  399 control enabled reactor2 false
   400 print "emergency mode"
   401 print "\n"
   402 set :start_reactor:supply_fuel false
   403 jump *label277 always
   404 label *label234
   405 jump *label261 equal :start_reactor:enabled false
-    * jump *label235 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
-    * control enabled :start_reactor:reactor false
+  406 jump *label235 greaterThanEq .REACTORS_DESIRED 2
+  407 control enabled reactor2 false
   408 print "STOP unwanted"
   409 print "\n"
   410 jump *label260 always
   411 label *label235
-    * jump *label238 lessThanEq :start_reactor:reactor_num 1
+  412 jump *label238 lessThanEq 2 1
   413 label *label236
-    * op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
-    * jump *label238 greaterThanEq :start_reactor:fuel_stored *tmp128
+  414 op mul *tmp128 15 2
+  415 jump *label238 greaterThanEq :start_reactor:fuel_stored 30
   416 label *label237
-    * control enabled :start_reactor:reactor false
+  417 control enabled reactor2 false
   418 print "STOP system fuel low"
   419 print "\n"
   420 jump *label259 always
   421 label *label238
   422 jump *label239 greaterThan :start_reactor:fuel 1
-    * control enabled :start_reactor:reactor false
+  423 control enabled reactor2 false
   424 print "STOP fuel low"
   425 print "\n"
   426 jump *label258 always
   427 label *label239
-    * jump *label240 greaterThan :start_reactor:cryo .CRYO_ABORT
-    * control enabled :start_reactor:reactor false
+  428 jump *label240 greaterThan :start_reactor:cryo 1
+  429 control enabled reactor2 false
   430 print "STOP out of cryo"
   431 print "\n"
   432 jump *label257 always
   433 label *label240
   434 jump *label251 greaterThanEq :start_reactor:secs 30
   435 label *label241
-    * op sub *tmp94 @tick :start_reactor:t_startup
+  436 op sub *tmp94 @tick :t_startup2
   437 op idiv :calc_charge_req:secs *tmp94 60
   438 jump *label243 greaterThan :calc_charge_req:secs 30
   439 label *label242
-    * sensor *tmp97 :start_reactor:reactor @enabled
+  440 sensor *tmp97 reactor2 @enabled
   441 jump *label244 notEqual *tmp97 false
   442 label *label243
   443 set :calc_charge_req*retval 0
 
   451 jump *label246 always
   452 label *label246
   453 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
-    * jump *label249 greaterThanEq *tmp143 .PWR_ABORT
+  454 jump *label249 greaterThanEq *tmp143 5000
   455 label *label247
-    * jump *label249 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  456 jump *label249 greaterThanEq :start_reactor:surplus -500
   457 label *label248
-    * control enabled :start_reactor:reactor false
+  458 control enabled reactor2 false
   459 print "START FAIL battery"
   460 print "\n"
   461 set :start_reactor:supply_fuel false
 
   472 label *label250
   473 jump *label256 always
   474 label *label251
-    * jump *label254 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  475 jump *label254 greaterThanEq :start_reactor:charge 2000
   476 label *label252
-    * jump *label254 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  477 jump *label254 greaterThanEq :start_reactor:surplus -500
   478 label *label253
-    * control enabled :start_reactor:reactor false
+  479 control enabled reactor2 false
   480 print "ABANDON - battery crit"
   481 print "\n"
   482 set :start_reactor:supply_fuel false
 
   498 jump *label276 always
   499 label *label261
   500 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
-    * op sub *tmp158 *tmp157 .PWR_ABORT
-    * op div *tmp159 *tmp158 .PWR_REQ
-    * op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
-    * op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  501 op sub *tmp158 *tmp157 5000
+  502 op div *tmp159 *tmp158 23000
+  503 op mul :start_reactor:charge_units *tmp159 0.6
+  504 op div *tmp161 :start_reactor:surplus 2000
   505 op max :start_reactor:flow_units -0.1 *tmp161
-    * op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
-    * op add :start_reactor:cryo_req .CRYO_REQ *tmp163
-    * jump *label262 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  506 op mul *tmp163 2 2
+  507 op add :start_reactor:cryo_req 3 4
+  508 jump *label262 greaterThanEq .REACTORS_DESIRED 2
   509 print "IDLE"
   510 print "\n"
   511 set :start_reactor:supply_fuel false
 
   526 set :start_reactor:supply_fuel false
   527 jump *label274 always
   528 label *label263
-    * jump *label268 equal :start_reactor:fuel_on false
+  529 jump *label268 equal :fuel_2 false
   530 label *label264
-    * jump *label268 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  531 jump *label268 greaterThanEq :start_reactor:fuel 10
   532 label *label265
   533 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
-    * jump *label266 lessThanEq *tmp178 .FUEL_REQ
+  534 jump *label266 lessThanEq *tmp178 10
   535 print "WAIT fuel"
   536 print "\n"
   537 jump *label267 always
 
   541 label *label267
   542 jump *label273 always
   543 label *label268
-    * op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
-    * jump *label269 greaterThanEq :start_reactor:fuel_stored *tmp181
+  544 op mul *tmp181 45 2
+  545 jump *label269 greaterThanEq :start_reactor:fuel_stored 90
   546 print "WAIT buffer fuel"
   547 print "\n"
   548 jump *label272 always
   549 label *label269
-    * jump *label270 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  550 jump *label270 greaterThanEq :start_reactor:cryo 7
   551 print "WAIT cryo"
   552 print "\n"
   553 jump *label271 always
   554 label *label270
   555 print "STARTUP"
   556 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor:reactor true
+  557 op add .START_POWER_REQ .START_POWER_REQ 23000
+  558 control enabled reactor2 true
   559 label *label271
   560 label *label272
   561 label *label273
 
   563 label *label275
   564 label *label276
   565 label *label277
-    * sensor *tmp188 :start_reactor:reactor @enabled
-    * select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  566 sensor *tmp188 reactor2 @enabled
+  567 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup2
   568 set :start_reactor*retval :start_reactor:supply_fuel
   569 jump *label278 always
   570 label *label278
-    * set :fuel_2 :start_reactor*retval
+  571 set :fuel_2 :start_reactor:supply_fuel
   572 set :t_startup2 .RET_T_STARTUP
   573 label *label139
-    * select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
+  574 select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
   575 control config unloader3 *tmp89
-    * select *tmp93 equal :start_reactor*retval false @blast-compound @scrap
+  576 select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
   577 control config unloader4 *tmp93
   578 label *label140
   579 label *label183

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
   369 select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
   370 control config unloader2 *tmp93
   371 label *label138
-    * set :start_reactor:reactor reactor2
-    * set :start_reactor:reactor_num 2
-    * set :start_reactor:emerg_shutdown :emerg_shutdown
-    * set :start_reactor:fuel_on :fuel_2
-    * set :start_reactor:t_startup :t_startup2
   372 label *label233
   373 op sub *tmp104 @tick :t_startup2
   374 op idiv :start_reactor:secs *tmp104 60
 
   495 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
   496 op sub *tmp158 *tmp157 5000
   497 op div *tmp159 *tmp158 23000
-    * op mul :start_reactor:charge_units *tmp159 0.6
+  498 op div :start_reactor:charge_units *tmp158 38333.333333333336
   499 op div *tmp161 :start_reactor:surplus 2000
   500 op max :start_reactor:flow_units -0.1 *tmp161
   501 op mul *tmp163 2 2
 
   560 label *label277
   561 sensor *tmp188 reactor2 @enabled
   562 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup2
-    * set :start_reactor*retval :start_reactor:supply_fuel
   563 jump *label278 always
   564 label *label278
   565 set :fuel_2 :start_reactor:supply_fuel

Modifications by Inline function call at line 89:14 (+146 instructions):
 
   603 set :start_reactor:emerg_shutdown :emerg_shutdown
   604 set :start_reactor:fuel_on :fuel_3
   605 set :start_reactor:t_startup :t_startup3
-    * setaddr :start_reactor*retaddr *label26 (h:*label26)
-    * call *label3 *invalid :start_reactor*retval (m:*label26) (h:*label26)
-    * label *label26
+  606 label *label279
+  607 op sub *tmp104 @tick :start_reactor:t_startup
+  608 op idiv :start_reactor:secs *tmp104 60
+  609 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  610 set :start_reactor:supply_fuel true
+  611 sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
+  612 sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
+  613 sensor *tmp109 .NODE @powerNetStored
+  614 op floor :start_reactor:charge *tmp109
+  615 sensor *tmp111 .NODE @powerNetIn
+  616 sensor *tmp112 .NODE @powerNetOut
+  617 op sub *tmp113 *tmp111 *tmp112
+  618 op floor :start_reactor:surplus *tmp113
+  619 op mul *tmp115 .AVG_SURPLUS 0.8
+  620 op mul *tmp116 :start_reactor:surplus 0.2
+  621 op add .AVG_SURPLUS *tmp115 *tmp116
+  622 sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  623 print "#"
+  624 print :start_reactor:reactor_num
+  625 print " "
+  626 print "- "
+  627 jump *label280 equal :start_reactor:emerg_shutdown false
+  628 control enabled :start_reactor:reactor false
+  629 print "emergency mode"
+  630 print "\n"
+  631 set :start_reactor:supply_fuel false
+  632 jump *label323 always
+  633 label *label280
+  634 jump *label307 equal :start_reactor:enabled false
+  635 jump *label281 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  636 control enabled :start_reactor:reactor false
+  637 print "STOP unwanted"
+  638 print "\n"
+  639 jump *label306 always
+  640 label *label281
+  641 jump *label284 lessThanEq :start_reactor:reactor_num 1
+  642 label *label282
+  643 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
+  644 jump *label284 greaterThanEq :start_reactor:fuel_stored *tmp128
+  645 label *label283
+  646 control enabled :start_reactor:reactor false
+  647 print "STOP system fuel low"
+  648 print "\n"
+  649 jump *label305 always
+  650 label *label284
+  651 jump *label285 greaterThan :start_reactor:fuel 1
+  652 control enabled :start_reactor:reactor false
+  653 print "STOP fuel low"
+  654 print "\n"
+  655 jump *label304 always
+  656 label *label285
+  657 jump *label286 greaterThan :start_reactor:cryo .CRYO_ABORT
+  658 control enabled :start_reactor:reactor false
+  659 print "STOP out of cryo"
+  660 print "\n"
+  661 jump *label303 always
+  662 label *label286
+  663 jump *label297 greaterThanEq :start_reactor:secs 30
+  664 label *label287
+  665 op sub *tmp94 @tick :start_reactor:t_startup
+  666 op idiv :calc_charge_req:secs *tmp94 60
+  667 jump *label289 greaterThan :calc_charge_req:secs 30
+  668 label *label288
+  669 sensor *tmp97 :start_reactor:reactor @enabled
+  670 jump *label290 notEqual *tmp97 false
+  671 label *label289
+  672 set :calc_charge_req*retval 0
+  673 jump *label292 always
+  674 label *label290
+  675 label *label291
+  676 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  677 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  678 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  679 set :calc_charge_req*retval :calc_charge_req:charge_req
+  680 jump *label292 always
+  681 label *label292
+  682 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
+  683 jump *label295 greaterThanEq *tmp143 .PWR_ABORT
+  684 label *label293
+  685 jump *label295 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  686 label *label294
+  687 control enabled :start_reactor:reactor false
+  688 print "START FAIL battery"
+  689 print "\n"
+  690 set :start_reactor:supply_fuel false
+  691 jump *label296 always
+  692 label *label295
+  693 op sub :start_reactor:time_left 30 :start_reactor:secs
+  694 print "Starting "
+  695 print :start_reactor:time_left
+  696 print " "
+  697 print "secs, req "
+  698 print :calc_charge_req*retval
+  699 print "J"
+  700 print "\n"
+  701 label *label296
+  702 jump *label302 always
+  703 label *label297
+  704 jump *label300 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  705 label *label298
+  706 jump *label300 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  707 label *label299
+  708 control enabled :start_reactor:reactor false
+  709 print "ABANDON - battery crit"
+  710 print "\n"
+  711 set :start_reactor:supply_fuel false
+  712 jump *label301 always
+  713 label *label300
+  714 op idiv :start_reactor:mins :start_reactor:secs 6
+  715 op div :start_reactor:mins :start_reactor:mins 10
+  716 print "RUN "
+  717 print :start_reactor:mins
+  718 print " "
+  719 print "mins"
+  720 print "\n"
+  721 label *label301
+  722 label *label302
+  723 label *label303
+  724 label *label304
+  725 label *label305
+  726 label *label306
+  727 jump *label322 always
+  728 label *label307
+  729 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
+  730 op sub *tmp158 *tmp157 .PWR_ABORT
+  731 op div *tmp159 *tmp158 .PWR_REQ
+  732 op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
+  733 op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  734 op max :start_reactor:flow_units -0.1 *tmp161
+  735 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
+  736 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
+  737 jump *label308 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  738 print "IDLE"
+  739 print "\n"
+  740 set :start_reactor:supply_fuel false
+  741 jump *label321 always
+  742 label *label308
+  743 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
+  744 jump *label309 greaterThanEq *tmp167 1
+  745 op idiv *tmp171 :start_reactor:flow_units 0.001
+  746 op div :start_reactor:flow *tmp171 10
+  747 op idiv *tmp174 :start_reactor:charge_units 0.001
+  748 op div :start_reactor:charge *tmp174 10
+  749 print "WAIT power. (%"
+  750 print :start_reactor:charge
+  751 print "J + %"
+  752 print :start_reactor:flow
+  753 print "W)"
+  754 print "\n"
+  755 set :start_reactor:supply_fuel false
+  756 jump *label320 always
+  757 label *label309
+  758 jump *label314 equal :start_reactor:fuel_on false
+  759 label *label310
+  760 jump *label314 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  761 label *label311
+  762 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
+  763 jump *label312 lessThanEq *tmp178 .FUEL_REQ
+  764 print "WAIT fuel"
+  765 print "\n"
+  766 jump *label313 always
+  767 label *label312
+  768 print "WAIT system fuel"
+  769 print "\n"
+  770 label *label313
+  771 jump *label319 always
+  772 label *label314
+  773 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
+  774 jump *label315 greaterThanEq :start_reactor:fuel_stored *tmp181
+  775 print "WAIT buffer fuel"
+  776 print "\n"
+  777 jump *label318 always
+  778 label *label315
+  779 jump *label316 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  780 print "WAIT cryo"
+  781 print "\n"
+  782 jump *label317 always
+  783 label *label316
+  784 print "STARTUP"
+  785 print "\n"
+  786 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  787 control enabled :start_reactor:reactor true
+  788 label *label317
+  789 label *label318
+  790 label *label319
+  791 label *label320
+  792 label *label321
+  793 label *label322
+  794 label *label323
+  795 sensor *tmp188 :start_reactor:reactor @enabled
+  796 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  797 set :start_reactor*retval :start_reactor:supply_fuel
+  798 jump *label324 always
+  799 label *label324
   800 set :fuel_3 :start_reactor*retval
   801 set :t_startup3 .RET_T_STARTUP
   802 set :start_reactor:reactor reactor4

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   604 set :start_reactor:fuel_on :fuel_3
   605 set :start_reactor:t_startup :t_startup3
   606 label *label279
-    * op sub *tmp104 @tick :start_reactor:t_startup
+  607 op sub *tmp104 @tick :t_startup3
   608 op idiv :start_reactor:secs *tmp104 60
-    * sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  609 sensor :start_reactor:fuel reactor3 @blast-compound
   610 set :start_reactor:supply_fuel true
-    * sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
-    * sensor *tmp109 .NODE @powerNetStored
+  611 sensor :start_reactor:fuel_stored vault1 @blast-compound
+  612 sensor :start_reactor:cryo reactor3 @cryofluid
+  613 sensor *tmp109 node1 @powerNetStored
   614 op floor :start_reactor:charge *tmp109
-    * sensor *tmp111 .NODE @powerNetIn
-    * sensor *tmp112 .NODE @powerNetOut
+  615 sensor *tmp111 node1 @powerNetIn
+  616 sensor *tmp112 node1 @powerNetOut
   617 op sub *tmp113 *tmp111 *tmp112
   618 op floor :start_reactor:surplus *tmp113
   619 op mul *tmp115 .AVG_SURPLUS 0.8
   620 op mul *tmp116 :start_reactor:surplus 0.2
   621 op add .AVG_SURPLUS *tmp115 *tmp116
-    * sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  622 sensor :start_reactor:enabled reactor3 @enabled
   623 print "#"
-    * print :start_reactor:reactor_num
+  624 print 3
   625 print " "
   626 print "- "
-    * jump *label280 equal :start_reactor:emerg_shutdown false
-    * control enabled :start_reactor:reactor false
+  627 jump *label280 equal :emerg_shutdown false
+  628 control enabled reactor3 false
   629 print "emergency mode"
   630 print "\n"
   631 set :start_reactor:supply_fuel false
   632 jump *label323 always
   633 label *label280
   634 jump *label307 equal :start_reactor:enabled false
-    * jump *label281 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
-    * control enabled :start_reactor:reactor false
+  635 jump *label281 greaterThanEq .REACTORS_DESIRED 3
+  636 control enabled reactor3 false
   637 print "STOP unwanted"
   638 print "\n"
   639 jump *label306 always
   640 label *label281
-    * jump *label284 lessThanEq :start_reactor:reactor_num 1
+  641 jump *label284 lessThanEq 3 1
   642 label *label282
-    * op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
-    * jump *label284 greaterThanEq :start_reactor:fuel_stored *tmp128
+  643 op mul *tmp128 15 3
+  644 jump *label284 greaterThanEq :start_reactor:fuel_stored 45
   645 label *label283
-    * control enabled :start_reactor:reactor false
+  646 control enabled reactor3 false
   647 print "STOP system fuel low"
   648 print "\n"
   649 jump *label305 always
   650 label *label284
   651 jump *label285 greaterThan :start_reactor:fuel 1
-    * control enabled :start_reactor:reactor false
+  652 control enabled reactor3 false
   653 print "STOP fuel low"
   654 print "\n"
   655 jump *label304 always
   656 label *label285
-    * jump *label286 greaterThan :start_reactor:cryo .CRYO_ABORT
-    * control enabled :start_reactor:reactor false
+  657 jump *label286 greaterThan :start_reactor:cryo 1
+  658 control enabled reactor3 false
   659 print "STOP out of cryo"
   660 print "\n"
   661 jump *label303 always
   662 label *label286
   663 jump *label297 greaterThanEq :start_reactor:secs 30
   664 label *label287
-    * op sub *tmp94 @tick :start_reactor:t_startup
+  665 op sub *tmp94 @tick :t_startup3
   666 op idiv :calc_charge_req:secs *tmp94 60
   667 jump *label289 greaterThan :calc_charge_req:secs 30
   668 label *label288
-    * sensor *tmp97 :start_reactor:reactor @enabled
+  669 sensor *tmp97 reactor3 @enabled
   670 jump *label290 notEqual *tmp97 false
   671 label *label289
   672 set :calc_charge_req*retval 0
 
   680 jump *label292 always
   681 label *label292
   682 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
-    * jump *label295 greaterThanEq *tmp143 .PWR_ABORT
+  683 jump *label295 greaterThanEq *tmp143 5000
   684 label *label293
-    * jump *label295 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  685 jump *label295 greaterThanEq :start_reactor:surplus -500
   686 label *label294
-    * control enabled :start_reactor:reactor false
+  687 control enabled reactor3 false
   688 print "START FAIL battery"
   689 print "\n"
   690 set :start_reactor:supply_fuel false
 
   701 label *label296
   702 jump *label302 always
   703 label *label297
-    * jump *label300 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  704 jump *label300 greaterThanEq :start_reactor:charge 2000
   705 label *label298
-    * jump *label300 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  706 jump *label300 greaterThanEq :start_reactor:surplus -500
   707 label *label299
-    * control enabled :start_reactor:reactor false
+  708 control enabled reactor3 false
   709 print "ABANDON - battery crit"
   710 print "\n"
   711 set :start_reactor:supply_fuel false
 
   727 jump *label322 always
   728 label *label307
   729 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
-    * op sub *tmp158 *tmp157 .PWR_ABORT
-    * op div *tmp159 *tmp158 .PWR_REQ
-    * op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
-    * op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  730 op sub *tmp158 *tmp157 5000
+  731 op div *tmp159 *tmp158 23000
+  732 op mul :start_reactor:charge_units *tmp159 0.6
+  733 op div *tmp161 :start_reactor:surplus 2000
   734 op max :start_reactor:flow_units -0.1 *tmp161
-    * op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
-    * op add :start_reactor:cryo_req .CRYO_REQ *tmp163
-    * jump *label308 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  735 op mul *tmp163 2 3
+  736 op add :start_reactor:cryo_req 3 6
+  737 jump *label308 greaterThanEq .REACTORS_DESIRED 3
   738 print "IDLE"
   739 print "\n"
   740 set :start_reactor:supply_fuel false
 
   755 set :start_reactor:supply_fuel false
   756 jump *label320 always
   757 label *label309
-    * jump *label314 equal :start_reactor:fuel_on false
+  758 jump *label314 equal :fuel_3 false
   759 label *label310
-    * jump *label314 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  760 jump *label314 greaterThanEq :start_reactor:fuel 10
   761 label *label311
   762 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
-    * jump *label312 lessThanEq *tmp178 .FUEL_REQ
+  763 jump *label312 lessThanEq *tmp178 10
   764 print "WAIT fuel"
   765 print "\n"
   766 jump *label313 always
 
   770 label *label313
   771 jump *label319 always
   772 label *label314
-    * op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
-    * jump *label315 greaterThanEq :start_reactor:fuel_stored *tmp181
+  773 op mul *tmp181 45 3
+  774 jump *label315 greaterThanEq :start_reactor:fuel_stored 135
   775 print "WAIT buffer fuel"
   776 print "\n"
   777 jump *label318 always
   778 label *label315
-    * jump *label316 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  779 jump *label316 greaterThanEq :start_reactor:cryo 9
   780 print "WAIT cryo"
   781 print "\n"
   782 jump *label317 always
   783 label *label316
   784 print "STARTUP"
   785 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor:reactor true
+  786 op add .START_POWER_REQ .START_POWER_REQ 23000
+  787 control enabled reactor3 true
   788 label *label317
   789 label *label318
   790 label *label319
 
   792 label *label321
   793 label *label322
   794 label *label323
-    * sensor *tmp188 :start_reactor:reactor @enabled
-    * select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  795 sensor *tmp188 reactor3 @enabled
+  796 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup3
   797 set :start_reactor*retval :start_reactor:supply_fuel
   798 jump *label324 always
   799 label *label324
-    * set :fuel_3 :start_reactor*retval
+  800 set :fuel_3 :start_reactor:supply_fuel
   801 set :t_startup3 .RET_T_STARTUP
   802 set :start_reactor:reactor reactor4
   803 set :start_reactor:reactor_num 4

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
   598 label *label185
   599 label *label186
   600 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
-    * set :start_reactor:reactor reactor3
-    * set :start_reactor:reactor_num 3
-    * set :start_reactor:emerg_shutdown :emerg_shutdown
-    * set :start_reactor:fuel_on :fuel_3
-    * set :start_reactor:t_startup :t_startup3
   601 label *label279
   602 op sub *tmp104 @tick :t_startup3
   603 op idiv :start_reactor:secs *tmp104 60
 
   724 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
   725 op sub *tmp158 *tmp157 5000
   726 op div *tmp159 *tmp158 23000
-    * op mul :start_reactor:charge_units *tmp159 0.6
+  727 op div :start_reactor:charge_units *tmp158 38333.333333333336
   728 op div *tmp161 :start_reactor:surplus 2000
   729 op max :start_reactor:flow_units -0.1 *tmp161
   730 op mul *tmp163 2 3
 
   789 label *label323
   790 sensor *tmp188 reactor3 @enabled
   791 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup3
-    * set :start_reactor*retval :start_reactor:supply_fuel
   792 jump *label324 always
   793 label *label324
   794 set :fuel_3 :start_reactor:supply_fuel

Modifications by Iterated phase, Jump Normalization, pass 2, iteration 1 (-2 instructions):
 
   203 print "\n"
   204 jump *label214 always
   205 label *label189
-    * jump *label192 lessThanEq 1 1
+  206 jump *label192 always
   207 label *label190
   208 op mul *tmp128 15 1
   209 jump *label192 greaterThanEq :start_reactor:fuel_stored 15
 
   404 print "\n"
   405 jump *label260 always
   406 label *label235
-    * jump *label238 lessThanEq 2 1
   407 label *label236
   408 op mul *tmp128 15 2
   409 jump *label238 greaterThanEq :start_reactor:fuel_stored 30
 
   632 print "\n"
   633 jump *label306 always
   634 label *label281
-    * jump *label284 lessThanEq 3 1
   635 label *label282
   636 op mul *tmp128 15 3
   637 jump *label284 greaterThanEq :start_reactor:fuel_stored 45

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-22 instructions):
 
    55 control enabled projector1 false
    56 control enabled projector2 false
    57 set :check_radar*retval false
-    * jump *label182 always
    58 label *label181
    59 label *label182
    60 jump *label12 equal switch1 null
 
    69 label *label12
    70 label *label13
    71 set *tmp8 false
-    * jump *label11 always
    72 label *label11
    73 op or :emerg_shutdown :check_radar*retval *tmp8
    74 label *label143
 
    87 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
    88 op idiv :calc_charge_req:charge_req *tmp101 0.04
    89 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label148 always
    90 label *label148
    91 set .START_POWER_REQ :calc_charge_req*retval
    92 label *label149
 
   105 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   106 op idiv :calc_charge_req:charge_req *tmp101 0.04
   107 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label154 always
   108 label *label154
   109 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   110 label *label155
 
   123 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   124 op idiv :calc_charge_req:charge_req *tmp101 0.04
   125 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label160 always
   126 label *label160
   127 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   128 label *label161
 
   141 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   142 op idiv :calc_charge_req:charge_req *tmp101 0.04
   143 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label166 always
   144 label *label166
   145 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   146 label *label167
 
   159 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   160 op idiv :calc_charge_req:charge_req *tmp101 0.04
   161 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label172 always
   162 label *label172
   163 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   164 label *label187
 
   235 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   236 op idiv :calc_charge_req:charge_req *tmp101 0.04
   237 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label200 always
   238 label *label200
   239 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   240 jump *label203 greaterThanEq *tmp143 5000
 
   351 label *label231
   352 sensor *tmp188 reactor1 @enabled
   353 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup1
-    * jump *label232 always
   354 label *label232
   355 set :fuel_1 :start_reactor:supply_fuel
   356 set :t_startup1 .RET_T_STARTUP
 
   433 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   434 op idiv :calc_charge_req:charge_req *tmp101 0.04
   435 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label246 always
   436 label *label246
   437 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   438 jump *label249 greaterThanEq *tmp143 5000
 
   549 label *label277
   550 sensor *tmp188 reactor2 @enabled
   551 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup2
-    * jump *label278 always
   552 label *label278
   553 set :fuel_2 :start_reactor:supply_fuel
   554 set :t_startup2 .RET_T_STARTUP
 
   582 control enabled projector1 false
   583 control enabled projector2 false
   584 set :check_radar*retval false
-    * jump *label186 always
   585 label *label185
   586 label *label186
   587 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
 
   658 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   659 op idiv :calc_charge_req:charge_req *tmp101 0.04
   660 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label292 always
   661 label *label292
   662 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   663 jump *label295 greaterThanEq *tmp143 5000
 
   774 label *label323
   775 sensor *tmp188 reactor3 @enabled
   776 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup3
-    * jump *label324 always
   777 label *label324
   778 set :fuel_3 :start_reactor:supply_fuel
   779 set :t_startup3 .RET_T_STARTUP
 
   805 jump *label30 equal :start_reactor*retval false
   806 label *label31
   807 set *tmp26 true
-    * jump *label30 always
   808 label *label30
   809 label *label141
   810 select *tmp89 notEqual *tmp26 false @blast-compound @scrap
 
   820 jump *label36 equal *tmp26 false
   821 label *label37
   822 set *tmp28 true
-    * jump *label36 always
   823 label *label36
   824 sensor *tmp30 node1 @powerNetStored
   825 op floor :throttle_blast:charge *tmp30
 
   875 label *label49
   876 label *label42
   877 op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
-    * jump *label40 always
   878 label *label40
   879 select *tmp46 notEqual *tmp29 false @pyratite @scrap
   880 control config unloader7 *tmp46
 
   898 label *label131
   899 op idiv *tmp85 .AVG_SURPLUS 100
   900 op div :kilo*retval *tmp85 10
-    * jump *label132 always
   901 label *label132
   902 set :surplus :kilo*retval
   903 sensor :kilo:val node1 @powerNetStored
   904 label *label133
   905 op idiv *tmp85 :kilo:val 100
   906 op div :kilo*retval *tmp85 10
-    * jump *label134 always
   907 label *label134
   908 set :charge :kilo*retval
   909 jump *label59 lessThanEq .START_POWER_REQ 0
   910 label *label135
   911 op idiv *tmp85 .START_POWER_REQ 100
   912 op div :kilo*retval *tmp85 10
-    * jump *label136 always
   913 label *label136
   914 print "Req "
   915 print :kilo*retval
 
  1040 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
  1041 op idiv :calc_charge_req:charge_req *tmp101 0.04
  1042 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label178 always
  1043 label *label178
  1044 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
  1045 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
 
  1157 sensor *tmp188 :start_reactor:reactor @enabled
  1158 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
  1159 set :start_reactor*retval :start_reactor:supply_fuel
-    * jump *label86 always
  1160 label *label86
  1161 return :start_reactor*retaddr
  1162 end

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-2 instructions):
 
   897 label *label52
   898 label *label131
   899 op idiv *tmp85 .AVG_SURPLUS 100
-    * op div :kilo*retval *tmp85 10
+  900 op div :surplus *tmp85 10
   901 label *label132
-    * set :surplus :kilo*retval
   902 sensor :kilo:val node1 @powerNetStored
   903 label *label133
   904 op idiv *tmp85 :kilo:val 100
 
   969 op sub *tmp104 @tick :start_reactor:t_startup
   970 op idiv :start_reactor:secs *tmp104 60
   971 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
-    * set :start_reactor:supply_fuel true
+  972 set :start_reactor*retval true
   973 sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
   974 sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
   975 sensor *tmp109 .NODE @powerNetStored
 
   990 control enabled :start_reactor:reactor false
   991 print "emergency mode"
   992 print "\n"
-    * set :start_reactor:supply_fuel false
+  993 set :start_reactor*retval false
   994 jump *label88 always
   995 label *label87
   996 jump *label89 equal :start_reactor:enabled false
 
  1048 control enabled :start_reactor:reactor false
  1049 print "START FAIL battery"
  1050 print "\n"
-    * set :start_reactor:supply_fuel false
+ 1051 set :start_reactor*retval false
  1052 jump *label105 always
  1053 label *label104
  1054 op sub :start_reactor:time_left 30 :start_reactor:secs
 
  1069 control enabled :start_reactor:reactor false
  1070 print "ABANDON - battery crit"
  1071 print "\n"
-    * set :start_reactor:supply_fuel false
+ 1072 set :start_reactor*retval false
  1073 jump *label109 always
  1074 label *label108
  1075 op idiv :start_reactor:mins :start_reactor:secs 6
 
  1098 jump *label112 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
  1099 print "IDLE"
  1100 print "\n"
-    * set :start_reactor:supply_fuel false
+ 1101 set :start_reactor*retval false
  1102 jump *label113 always
  1103 label *label112
  1104 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
 
  1113 print :start_reactor:flow
  1114 print "W)"
  1115 print "\n"
-    * set :start_reactor:supply_fuel false
+ 1116 set :start_reactor*retval false
  1117 jump *label115 always
  1118 label *label114
  1119 jump *label116 equal :start_reactor:fuel_on false
 
  1155 label *label88
  1156 sensor *tmp188 :start_reactor:reactor @enabled
  1157 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
-    * set :start_reactor*retval :start_reactor:supply_fuel
  1158 label *label86
  1159 return :start_reactor*retaddr
  1160 end

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2:
 
   798 set :fuel_5 :start_reactor*retval
   799 set :t_startup5 .RET_T_STARTUP
   800 set *tmp26 false
-    * jump *label31 notEqual :fuel_3 false
+  801 jump *label31 notEqual :start_reactor:supply_fuel false
   802 label *label33
   803 jump *label31 notEqual :fuel_4 false
   804 label *label32

Modifications by Jumps phase, Jump Normalization, pass 4, iteration 1:
 
    31 label *label7
    32 set .CONTAINER vault1
    33 set .NODE node1
-    * label *label179
    34 radar enemy any any health cyclone1 1 :check_radar:enemy_found
    35 jump *label180 equal :check_radar:enemy_found null
    36 control enabled projector1 true
 
    57 label *label181
    58 label *label182
    59 jump *label12 equal switch1 null
-    * label *label15
    60 sensor *tmp10 switch1 @enabled
    61 jump *label12 notEqual *tmp10 false
-    * label *label14
    62 print "User has disabled emergency switch"
    63 print "\n"
    64 set *tmp8 true
    65 jump *label11 always
    66 label *label12
-    * label *label13
    67 set *tmp8 false
    68 label *label11
    69 op or :emerg_shutdown :check_radar*retval *tmp8
-    * label *label143
    70 op sub *tmp94 @tick :t_startup1
    71 op idiv :calc_charge_req:secs *tmp94 60
    72 jump *label145 greaterThan :calc_charge_req:secs 30
-    * label *label144
    73 sensor *tmp97 reactor1 @enabled
    74 jump *label146 notEqual *tmp97 false
    75 label *label145
    76 set :calc_charge_req*retval 0
    77 jump *label148 always
    78 label *label146
-    * label *label147
    79 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
    80 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
    81 op idiv :calc_charge_req:charge_req *tmp101 0.04
    82 set :calc_charge_req*retval :calc_charge_req:charge_req
    83 label *label148
    84 set .START_POWER_REQ :calc_charge_req*retval
-    * label *label149
    85 op sub *tmp94 @tick :t_startup2
    86 op idiv :calc_charge_req:secs *tmp94 60
    87 jump *label151 greaterThan :calc_charge_req:secs 30
-    * label *label150
    88 sensor *tmp97 reactor2 @enabled
    89 jump *label152 notEqual *tmp97 false
    90 label *label151
    91 set :calc_charge_req*retval 0
    92 jump *label154 always
    93 label *label152
-    * label *label153
    94 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
    95 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
    96 op idiv :calc_charge_req:charge_req *tmp101 0.04
    97 set :calc_charge_req*retval :calc_charge_req:charge_req
    98 label *label154
    99 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * label *label155
   100 op sub *tmp94 @tick :t_startup3
   101 op idiv :calc_charge_req:secs *tmp94 60
   102 jump *label157 greaterThan :calc_charge_req:secs 30
-    * label *label156
   103 sensor *tmp97 reactor3 @enabled
   104 jump *label158 notEqual *tmp97 false
   105 label *label157
   106 set :calc_charge_req*retval 0
   107 jump *label160 always
   108 label *label158
-    * label *label159
   109 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   110 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   111 op idiv :calc_charge_req:charge_req *tmp101 0.04
   112 set :calc_charge_req*retval :calc_charge_req:charge_req
   113 label *label160
   114 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * label *label161
   115 op sub *tmp94 @tick :t_startup4
   116 op idiv :calc_charge_req:secs *tmp94 60
   117 jump *label163 greaterThan :calc_charge_req:secs 30
-    * label *label162
   118 sensor *tmp97 reactor4 @enabled
   119 jump *label164 notEqual *tmp97 false
   120 label *label163
   121 set :calc_charge_req*retval 0
   122 jump *label166 always
   123 label *label164
-    * label *label165
   124 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   125 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   126 op idiv :calc_charge_req:charge_req *tmp101 0.04
   127 set :calc_charge_req*retval :calc_charge_req:charge_req
   128 label *label166
   129 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * label *label167
   130 op sub *tmp94 @tick :t_startup5
   131 op idiv :calc_charge_req:secs *tmp94 60
   132 jump *label169 greaterThan :calc_charge_req:secs 30
-    * label *label168
   133 sensor *tmp97 reactor5 @enabled
   134 jump *label170 notEqual *tmp97 false
   135 label *label169
   136 set :calc_charge_req*retval 0
   137 jump *label172 always
   138 label *label170
-    * label *label171
   139 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   140 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   141 op idiv :calc_charge_req:charge_req *tmp101 0.04
   142 set :calc_charge_req*retval :calc_charge_req:charge_req
   143 label *label172
   144 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * label *label187
   145 op sub *tmp104 @tick :t_startup1
   146 op idiv :start_reactor:secs *tmp104 60
   147 sensor :start_reactor:fuel reactor1 @blast-compound
 
   177 jump *label214 always
   178 label *label189
   179 jump *label192 always
-    * label *label190
   180 op mul *tmp128 15 1
   181 jump *label192 greaterThanEq :start_reactor:fuel_stored 15
-    * label *label191
   182 control enabled reactor1 false
   183 print "STOP system fuel low"
   184 print "\n"
 
   197 jump *label211 always
   198 label *label194
   199 jump *label205 greaterThanEq :start_reactor:secs 30
-    * label *label195
   200 op sub *tmp94 @tick :t_startup1
   201 op idiv :calc_charge_req:secs *tmp94 60
   202 jump *label197 greaterThan :calc_charge_req:secs 30
-    * label *label196
   203 sensor *tmp97 reactor1 @enabled
   204 jump *label198 notEqual *tmp97 false
   205 label *label197
   206 set :calc_charge_req*retval 0
   207 jump *label200 always
   208 label *label198
-    * label *label199
   209 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   210 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   211 op idiv :calc_charge_req:charge_req *tmp101 0.04
 
   213 label *label200
   214 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   215 jump *label203 greaterThanEq *tmp143 5000
-    * label *label201
   216 jump *label203 greaterThanEq :start_reactor:surplus -500
-    * label *label202
   217 control enabled reactor1 false
   218 print "START FAIL battery"
   219 print "\n"
 
   232 jump *label210 always
   233 label *label205
   234 jump *label208 greaterThanEq :start_reactor:charge 2000
-    * label *label206
   235 jump *label208 greaterThanEq :start_reactor:surplus -500
-    * label *label207
   236 control enabled reactor1 false
   237 print "ABANDON - battery crit"
   238 print "\n"
 
   284 jump *label228 always
   285 label *label217
   286 jump *label222 equal :fuel_1 false
-    * label *label218
   287 jump *label222 greaterThanEq :start_reactor:fuel 10
-    * label *label219
   288 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   289 jump *label220 lessThanEq *tmp178 10
   290 print "WAIT fuel"
 
   320 label *label231
   321 sensor *tmp188 reactor1 @enabled
   322 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup1
-    * label *label232
   323 set :fuel_1 :start_reactor:supply_fuel
   324 set :t_startup1 .RET_T_STARTUP
-    * label *label137
   325 select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
   326 control config unloader1 *tmp89
   327 select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
   328 control config unloader2 *tmp93
-    * label *label138
-    * label *label233
   329 op sub *tmp104 @tick :t_startup2
   330 op idiv :start_reactor:secs *tmp104 60
   331 sensor :start_reactor:fuel reactor2 @blast-compound
 
   360 print "\n"
   361 jump *label260 always
   362 label *label235
-    * label *label236
   363 op mul *tmp128 15 2
   364 jump *label238 greaterThanEq :start_reactor:fuel_stored 30
-    * label *label237
   365 control enabled reactor2 false
   366 print "STOP system fuel low"
   367 print "\n"
 
   380 jump *label257 always
   381 label *label240
   382 jump *label251 greaterThanEq :start_reactor:secs 30
-    * label *label241
   383 op sub *tmp94 @tick :t_startup2
   384 op idiv :calc_charge_req:secs *tmp94 60
   385 jump *label243 greaterThan :calc_charge_req:secs 30
-    * label *label242
   386 sensor *tmp97 reactor2 @enabled
   387 jump *label244 notEqual *tmp97 false
   388 label *label243
   389 set :calc_charge_req*retval 0
   390 jump *label246 always
   391 label *label244
-    * label *label245
   392 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   393 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   394 op idiv :calc_charge_req:charge_req *tmp101 0.04
 
   396 label *label246
   397 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   398 jump *label249 greaterThanEq *tmp143 5000
-    * label *label247
   399 jump *label249 greaterThanEq :start_reactor:surplus -500
-    * label *label248
   400 control enabled reactor2 false
   401 print "START FAIL battery"
   402 print "\n"
 
   415 jump *label256 always
   416 label *label251
   417 jump *label254 greaterThanEq :start_reactor:charge 2000
-    * label *label252
   418 jump *label254 greaterThanEq :start_reactor:surplus -500
-    * label *label253
   419 control enabled reactor2 false
   420 print "ABANDON - battery crit"
   421 print "\n"
 
   467 jump *label274 always
   468 label *label263
   469 jump *label268 equal :fuel_2 false
-    * label *label264
   470 jump *label268 greaterThanEq :start_reactor:fuel 10
-    * label *label265
   471 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   472 jump *label266 lessThanEq *tmp178 10
   473 print "WAIT fuel"
 
   503 label *label277
   504 sensor *tmp188 reactor2 @enabled
   505 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup2
-    * label *label278
   506 set :fuel_2 :start_reactor:supply_fuel
   507 set :t_startup2 .RET_T_STARTUP
-    * label *label139
   508 select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
   509 control config unloader3 *tmp89
   510 select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
   511 control config unloader4 *tmp93
-    * label *label140
-    * label *label183
   512 radar enemy any any health cyclone1 1 :check_radar:enemy_found
   513 jump *label184 equal :check_radar:enemy_found null
   514 control enabled projector1 true
 
   535 label *label185
   536 label *label186
   537 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
-    * label *label279
   538 op sub *tmp104 @tick :t_startup3
   539 op idiv :start_reactor:secs *tmp104 60
   540 sensor :start_reactor:fuel reactor3 @blast-compound
 
   569 print "\n"
   570 jump *label306 always
   571 label *label281
-    * label *label282
   572 op mul *tmp128 15 3
   573 jump *label284 greaterThanEq :start_reactor:fuel_stored 45
-    * label *label283
   574 control enabled reactor3 false
   575 print "STOP system fuel low"
   576 print "\n"
 
   589 jump *label303 always
   590 label *label286
   591 jump *label297 greaterThanEq :start_reactor:secs 30
-    * label *label287
   592 op sub *tmp94 @tick :t_startup3
   593 op idiv :calc_charge_req:secs *tmp94 60
   594 jump *label289 greaterThan :calc_charge_req:secs 30
-    * label *label288
   595 sensor *tmp97 reactor3 @enabled
   596 jump *label290 notEqual *tmp97 false
   597 label *label289
   598 set :calc_charge_req*retval 0
   599 jump *label292 always
   600 label *label290
-    * label *label291
   601 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   602 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   603 op idiv :calc_charge_req:charge_req *tmp101 0.04
 
   605 label *label292
   606 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   607 jump *label295 greaterThanEq *tmp143 5000
-    * label *label293
   608 jump *label295 greaterThanEq :start_reactor:surplus -500
-    * label *label294
   609 control enabled reactor3 false
   610 print "START FAIL battery"
   611 print "\n"
 
   624 jump *label302 always
   625 label *label297
   626 jump *label300 greaterThanEq :start_reactor:charge 2000
-    * label *label298
   627 jump *label300 greaterThanEq :start_reactor:surplus -500
-    * label *label299
   628 control enabled reactor3 false
   629 print "ABANDON - battery crit"
   630 print "\n"
 
   676 jump *label320 always
   677 label *label309
   678 jump *label314 equal :fuel_3 false
-    * label *label310
   679 jump *label314 greaterThanEq :start_reactor:fuel 10
-    * label *label311
   680 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   681 jump *label312 lessThanEq *tmp178 10
   682 print "WAIT fuel"
 
   712 label *label323
   713 sensor *tmp188 reactor3 @enabled
   714 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup3
-    * label *label324
   715 set :fuel_3 :start_reactor:supply_fuel
   716 set :t_startup3 .RET_T_STARTUP
   717 set :start_reactor:reactor reactor4
 
   736 set :t_startup5 .RET_T_STARTUP
   737 set *tmp26 false
   738 jump *label31 notEqual :start_reactor:supply_fuel false
-    * label *label33
   739 jump *label31 notEqual :fuel_4 false
-    * label *label32
   740 jump *label30 equal :start_reactor*retval false
   741 label *label31
   742 set *tmp26 true
   743 label *label30
-    * label *label141
   744 select *tmp89 notEqual *tmp26 false @blast-compound @scrap
   745 control config unloader5 *tmp89
   746 select *tmp93 equal *tmp26 false @blast-compound @scrap
   747 control config unloader6 *tmp93
-    * label *label142
   748 set *tmp28 false
   749 jump *label37 notEqual :fuel_1 false
-    * label *label39
   750 jump *label37 notEqual :fuel_2 false
-    * label *label38
   751 jump *label36 equal *tmp26 false
   752 label *label37
   753 set *tmp28 true
 
   760 op floor :throttle_blast:surplus *tmp34
   761 sensor :throttle_blast:fuel_stored vault1 @blast-compound
   762 jump *label44 greaterThanEq :throttle_blast:charge 5000
-    * label *label45
   763 jump *label43 lessThan :throttle_blast:surplus -500
   764 label *label44
   765 jump *label41 equal :emerg_shutdown false
 
   805 label *label49
   806 label *label42
   807 op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
-    * label *label40
   808 select *tmp46 notEqual *tmp29 false @pyratite @scrap
   809 control config unloader7 *tmp46
   810 sensor *tmp48 node1 @powerNetStored
   811 sensor *tmp49 node1 @powerNetCapacity
   812 op div :diff_generators:stored_pc *tmp48 *tmp49
   813 jump *label53 lessThanEq :diff_generators:stored_pc 0.9
-    * label *label56
   814 jump *label53 greaterThanEq .START_POWER_REQ 10
-    * label *label55
   815 print "Differential now idle."
   816 print "\n"
   817 control enabled generator1 false
 
   821 control enabled generator1 true
   822 control enabled generator2 true
   823 label *label54
-    * label *label52
-    * label *label131
   824 op idiv *tmp85 .AVG_SURPLUS 100
   825 op div :surplus *tmp85 10
-    * label *label132
   826 sensor :kilo:val node1 @powerNetStored
-    * label *label133
   827 op idiv *tmp85 :kilo:val 100
   828 op div :kilo*retval *tmp85 10
-    * label *label134
   829 set :charge :kilo*retval
   830 jump *label59 lessThanEq .START_POWER_REQ 0
-    * label *label135
   831 op idiv *tmp85 .START_POWER_REQ 100
   832 op div :kilo*retval *tmp85 10
-    * label *label136
   833 print "Req "
   834 print :kilo*retval
   835 print "kJ / "
 
   850 sensor *tmp66 node1 @powerNetCapacity
   851 op div :update_reactors_desired:stored *tmp65 *tmp66
   852 jump *label63 lessThanEq :update_reactors_desired:stored 0.98
-    * label *label66
   853 jump *label63 lessThanEq .AVG_SURPLUS 16500
-    * label *label65
   854 jump *label67 lessThanEq .REACTORS_DESIRED 2
   855 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   856 op sub .AVG_SURPLUS .AVG_SURPLUS 6500
   857 label *label67
-    * label *label68
   858 label *label63
-    * label *label64
   859 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
-    * label *label72
   860 jump *label69 greaterThanEq .AVG_SURPLUS 8000
-    * label *label71
   861 op sub *tmp78 .AVG_SURPLUS 10000
   862 op idiv *tmp79 *tmp78 6500
   863 op max :update_reactors_desired:needed 1 *tmp79
   864 op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
   865 op min .REACTORS_DESIRED 5 *tmp81
   866 label *label69
-    * label *label70
-    * label *label62
   867 label *label60
   868 jump *label73 equal .REACTORS_DESIRED 5
   869 print "Require only "
 
   871 print "/5 reactors."
   872 print "\n"
   873 label *label73
-    * label *label74
   874 printflush message1
-    * label *label8
   875 jump *label7 always
-    * label *label9
   876 end
   877 label *label3
   878 op sub *tmp104 @tick :start_reactor:t_startup
 
   910 jump *label92 always
   911 label *label91
   912 jump *label93 lessThanEq :start_reactor:reactor_num 1
-    * label *label96
   913 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
   914 jump *label93 greaterThanEq :start_reactor:fuel_stored *tmp128
-    * label *label95
   915 control enabled :start_reactor:reactor false
   916 print "STOP system fuel low"
   917 print "\n"
 
   930 jump *label100 always
   931 label *label99
   932 jump *label101 greaterThanEq :start_reactor:secs 30
-    * label *label173
   933 op sub *tmp94 @tick :start_reactor:t_startup
   934 op idiv :calc_charge_req:secs *tmp94 60
   935 jump *label175 greaterThan :calc_charge_req:secs 30
-    * label *label174
   936 sensor *tmp97 :start_reactor:reactor @enabled
   937 jump *label176 notEqual *tmp97 false
   938 label *label175
   939 set :calc_charge_req*retval 0
   940 jump *label178 always
   941 label *label176
-    * label *label177
   942 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   943 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   944 op idiv :calc_charge_req:charge_req *tmp101 0.04
 
   946 label *label178
   947 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   948 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
-    * label *label107
   949 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * label *label106
   950 control enabled :start_reactor:reactor false
   951 print "START FAIL battery"
   952 print "\n"
 
   965 jump *label102 always
   966 label *label101
   967 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
-    * label *label111
   968 jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * label *label110
   969 control enabled :start_reactor:reactor false
   970 print "ABANDON - battery crit"
   971 print "\n"
 
  1017 jump *label115 always
  1018 label *label114
  1019 jump *label116 equal :start_reactor:fuel_on false
-    * label *label119
  1020 jump *label116 greaterThanEq :start_reactor:fuel .FUEL_REQ
-    * label *label118
  1021 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
  1022 jump *label120 lessThanEq *tmp178 .FUEL_REQ
  1023 print "WAIT fuel"
 
  1053 label *label88
  1054 sensor *tmp188 :start_reactor:reactor @enabled
  1055 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
-    * label *label86
  1056 return :start_reactor*retaddr
  1057 end

Modifications by Jumps phase, Jump Threading, pass 4, iteration 1:
 
   170 jump *label231 always
   171 label *label188
   172 jump *label215 equal :start_reactor:enabled false
-    * jump *label189 greaterThanEq .REACTORS_DESIRED 1
+  173 jump *label192 greaterThanEq .REACTORS_DESIRED 1
   174 control enabled reactor1 false
   175 print "STOP unwanted"
   176 print "\n"
-    * jump *label214 always
+  177 jump *label230 always
   178 label *label189
   179 jump *label192 always
   180 op mul *tmp128 15 1
 
   182 control enabled reactor1 false
   183 print "STOP system fuel low"
   184 print "\n"
-    * jump *label213 always
+  185 jump *label230 always
   186 label *label192
   187 jump *label193 greaterThan :start_reactor:fuel 1
   188 control enabled reactor1 false
   189 print "STOP fuel low"
   190 print "\n"
-    * jump *label212 always
+  191 jump *label230 always
   192 label *label193
   193 jump *label194 greaterThan :start_reactor:cryo 1
   194 control enabled reactor1 false
   195 print "STOP out of cryo"
   196 print "\n"
-    * jump *label211 always
+  197 jump *label230 always
   198 label *label194
   199 jump *label205 greaterThanEq :start_reactor:secs 30
   200 op sub *tmp94 @tick :t_startup1
 
   218 print "START FAIL battery"
   219 print "\n"
   220 set :start_reactor:supply_fuel false
-    * jump *label204 always
+  221 jump *label230 always
   222 label *label203
   223 op sub :start_reactor:time_left 30 :start_reactor:secs
   224 print "Starting "
 
   229 print "J"
   230 print "\n"
   231 label *label204
-    * jump *label210 always
+  232 jump *label230 always
   233 label *label205
   234 jump *label208 greaterThanEq :start_reactor:charge 2000
   235 jump *label208 greaterThanEq :start_reactor:surplus -500
 
   237 print "ABANDON - battery crit"
   238 print "\n"
   239 set :start_reactor:supply_fuel false
-    * jump *label209 always
+  240 jump *label230 always
   241 label *label208
   242 op idiv :start_reactor:mins :start_reactor:secs 6
   243 op div :start_reactor:mins :start_reactor:mins 10
 
   289 jump *label220 lessThanEq *tmp178 10
   290 print "WAIT fuel"
   291 print "\n"
-    * jump *label221 always
+  292 jump *label227 always
   293 label *label220
   294 print "WAIT system fuel"
   295 print "\n"
 
   358 control enabled reactor2 false
   359 print "STOP unwanted"
   360 print "\n"
-    * jump *label260 always
+  361 jump *label276 always
   362 label *label235
   363 op mul *tmp128 15 2
   364 jump *label238 greaterThanEq :start_reactor:fuel_stored 30
   365 control enabled reactor2 false
   366 print "STOP system fuel low"
   367 print "\n"
-    * jump *label259 always
+  368 jump *label276 always
   369 label *label238
   370 jump *label239 greaterThan :start_reactor:fuel 1
   371 control enabled reactor2 false
   372 print "STOP fuel low"
   373 print "\n"
-    * jump *label258 always
+  374 jump *label276 always
   375 label *label239
   376 jump *label240 greaterThan :start_reactor:cryo 1
   377 control enabled reactor2 false
   378 print "STOP out of cryo"
   379 print "\n"
-    * jump *label257 always
+  380 jump *label276 always
   381 label *label240
   382 jump *label251 greaterThanEq :start_reactor:secs 30
   383 op sub *tmp94 @tick :t_startup2
 
   401 print "START FAIL battery"
   402 print "\n"
   403 set :start_reactor:supply_fuel false
-    * jump *label250 always
+  404 jump *label276 always
   405 label *label249
   406 op sub :start_reactor:time_left 30 :start_reactor:secs
   407 print "Starting "
 
   412 print "J"
   413 print "\n"
   414 label *label250
-    * jump *label256 always
+  415 jump *label276 always
   416 label *label251
   417 jump *label254 greaterThanEq :start_reactor:charge 2000
   418 jump *label254 greaterThanEq :start_reactor:surplus -500
 
   420 print "ABANDON - battery crit"
   421 print "\n"
   422 set :start_reactor:supply_fuel false
-    * jump *label255 always
+  423 jump *label276 always
   424 label *label254
   425 op idiv :start_reactor:mins :start_reactor:secs 6
   426 op div :start_reactor:mins :start_reactor:mins 10
 
   472 jump *label266 lessThanEq *tmp178 10
   473 print "WAIT fuel"
   474 print "\n"
-    * jump *label267 always
+  475 jump *label273 always
   476 label *label266
   477 print "WAIT system fuel"
   478 print "\n"
 
   567 control enabled reactor3 false
   568 print "STOP unwanted"
   569 print "\n"
-    * jump *label306 always
+  570 jump *label322 always
   571 label *label281
   572 op mul *tmp128 15 3
   573 jump *label284 greaterThanEq :start_reactor:fuel_stored 45
   574 control enabled reactor3 false
   575 print "STOP system fuel low"
   576 print "\n"
-    * jump *label305 always
+  577 jump *label322 always
   578 label *label284
   579 jump *label285 greaterThan :start_reactor:fuel 1
   580 control enabled reactor3 false
   581 print "STOP fuel low"
   582 print "\n"
-    * jump *label304 always
+  583 jump *label322 always
   584 label *label285
   585 jump *label286 greaterThan :start_reactor:cryo 1
   586 control enabled reactor3 false
   587 print "STOP out of cryo"
   588 print "\n"
-    * jump *label303 always
+  589 jump *label322 always
   590 label *label286
   591 jump *label297 greaterThanEq :start_reactor:secs 30
   592 op sub *tmp94 @tick :t_startup3
 
   610 print "START FAIL battery"
   611 print "\n"
   612 set :start_reactor:supply_fuel false
-    * jump *label296 always
+  613 jump *label322 always
   614 label *label295
   615 op sub :start_reactor:time_left 30 :start_reactor:secs
   616 print "Starting "
 
   621 print "J"
   622 print "\n"
   623 label *label296
-    * jump *label302 always
+  624 jump *label322 always
   625 label *label297
   626 jump *label300 greaterThanEq :start_reactor:charge 2000
   627 jump *label300 greaterThanEq :start_reactor:surplus -500
 
   629 print "ABANDON - battery crit"
   630 print "\n"
   631 set :start_reactor:supply_fuel false
-    * jump *label301 always
+  632 jump *label322 always
   633 label *label300
   634 op idiv :start_reactor:mins :start_reactor:secs 6
   635 op div :start_reactor:mins :start_reactor:mins 10
 
   681 jump *label312 lessThanEq *tmp178 10
   682 print "WAIT fuel"
   683 print "\n"
-    * jump *label313 always
+  684 jump *label319 always
   685 label *label312
   686 print "WAIT system fuel"
   687 print "\n"
 
   775 jump *label46 equal :emerg_shutdown false
   776 print " Enemies detected."
   777 print "\n"
-    * jump *label47 always
+  778 jump *label42 always
   779 label *label46
   780 print " Critical power."
   781 print "\n"
 
   907 control enabled :start_reactor:reactor false
   908 print "STOP unwanted"
   909 print "\n"
-    * jump *label92 always
+  910 jump *label90 always
   911 label *label91
   912 jump *label93 lessThanEq :start_reactor:reactor_num 1
   913 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
 
   915 control enabled :start_reactor:reactor false
   916 print "STOP system fuel low"
   917 print "\n"
-    * jump *label94 always
+  918 jump *label90 always
   919 label *label93
   920 jump *label97 greaterThan :start_reactor:fuel 1
   921 control enabled :start_reactor:reactor false
   922 print "STOP fuel low"
   923 print "\n"
-    * jump *label98 always
+  924 jump *label90 always
   925 label *label97
   926 jump *label99 greaterThan :start_reactor:cryo .CRYO_ABORT
   927 control enabled :start_reactor:reactor false
   928 print "STOP out of cryo"
   929 print "\n"
-    * jump *label100 always
+  930 jump *label90 always
   931 label *label99
   932 jump *label101 greaterThanEq :start_reactor:secs 30
   933 op sub *tmp94 @tick :start_reactor:t_startup
 
   951 print "START FAIL battery"
   952 print "\n"
   953 set :start_reactor*retval false
-    * jump *label105 always
+  954 jump *label90 always
   955 label *label104
   956 op sub :start_reactor:time_left 30 :start_reactor:secs
   957 print "Starting "
 
   962 print "J"
   963 print "\n"
   964 label *label105
-    * jump *label102 always
+  965 jump *label90 always
   966 label *label101
   967 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
   968 jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
 
   970 print "ABANDON - battery crit"
   971 print "\n"
   972 set :start_reactor*retval false
-    * jump *label109 always
+  973 jump *label90 always
   974 label *label108
   975 op idiv :start_reactor:mins :start_reactor:secs 6
   976 op div :start_reactor:mins :start_reactor:mins 10
 
  1022 jump *label120 lessThanEq *tmp178 .FUEL_REQ
  1023 print "WAIT fuel"
  1024 print "\n"
-    * jump *label121 always
+ 1025 jump *label117 always
  1026 label *label120
  1027 print "WAIT system fuel"
  1028 print "\n"

Modifications by Jumps phase, Unreachable Code Elimination, pass 4, iteration 1 (-11 instructions):
 
    49 control enabled reactor5 false
    50 set :check_radar*retval true
    51 jump *label182 always
-    * jump *label181 always
    52 label *label180
    53 control enabled projector1 false
    54 control enabled projector2 false
 
   174 print "STOP unwanted"
   175 print "\n"
   176 jump *label230 always
-    * label *label189
-    * jump *label192 always
-    * op mul *tmp128 15 1
-    * jump *label192 greaterThanEq :start_reactor:fuel_stored 15
-    * control enabled reactor1 false
-    * print "STOP system fuel low"
-    * print "\n"
-    * jump *label230 always
   177 label *label192
   178 jump *label193 greaterThan :start_reactor:fuel 1
   179 control enabled reactor1 false
 
   219 print :calc_charge_req*retval
   220 print "J"
   221 print "\n"
-    * label *label204
   222 jump *label230 always
   223 label *label205
   224 jump *label208 greaterThanEq :start_reactor:charge 2000
 
   236 print " "
   237 print "mins"
   238 print "\n"
-    * label *label209
-    * label *label210
-    * label *label211
-    * label *label212
-    * label *label213
-    * label *label214
   239 jump *label230 always
   240 label *label215
   241 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   277 label *label220
   278 print "WAIT system fuel"
   279 print "\n"
-    * label *label221
   280 jump *label227 always
   281 label *label222
   282 op mul *tmp181 45 1
 
   394 print :calc_charge_req*retval
   395 print "J"
   396 print "\n"
-    * label *label250
   397 jump *label276 always
   398 label *label251
   399 jump *label254 greaterThanEq :start_reactor:charge 2000
 
   411 print " "
   412 print "mins"
   413 print "\n"
-    * label *label255
-    * label *label256
-    * label *label257
-    * label *label258
-    * label *label259
-    * label *label260
   414 jump *label276 always
   415 label *label261
   416 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   452 label *label266
   453 print "WAIT system fuel"
   454 print "\n"
-    * label *label267
   455 jump *label273 always
   456 label *label268
   457 op mul *tmp181 45 2
 
   502 control enabled reactor5 false
   503 set :check_radar*retval true
   504 jump *label186 always
-    * jump *label185 always
   505 label *label184
   506 control enabled projector1 false
   507 control enabled projector2 false
 
   594 print :calc_charge_req*retval
   595 print "J"
   596 print "\n"
-    * label *label296
   597 jump *label322 always
   598 label *label297
   599 jump *label300 greaterThanEq :start_reactor:charge 2000
 
   611 print " "
   612 print "mins"
   613 print "\n"
-    * label *label301
-    * label *label302
-    * label *label303
-    * label *label304
-    * label *label305
-    * label *label306
   614 jump *label322 always
   615 label *label307
   616 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   652 label *label312
   653 print "WAIT system fuel"
   654 print "\n"
-    * label *label313
   655 jump *label319 always
   656 label *label314
   657 op mul *tmp181 45 3
 
   745 label *label46
   746 print " Critical power."
   747 print "\n"
-    * label *label47
   748 jump *label42 always
   749 label *label41
   750 jump *label48 notEqual *tmp28 false
 
   838 label *label73
   839 printflush message1
   840 jump *label7 always
-    * end
   841 label *label3
   842 op sub *tmp104 @tick :start_reactor:t_startup
   843 op idiv :start_reactor:secs *tmp104 60
 
   925 print :calc_charge_req*retval
   926 print "J"
   927 print "\n"
-    * label *label105
   928 jump *label90 always
   929 label *label101
   930 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
 
   942 print " "
   943 print "mins"
   944 print "\n"
-    * label *label109
-    * label *label102
-    * label *label100
-    * label *label98
-    * label *label94
-    * label *label92
   945 jump *label90 always
   946 label *label89
   947 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   983 label *label120
   984 print "WAIT system fuel"
   985 print "\n"
-    * label *label121
   986 jump *label117 always
   987 label *label116
   988 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
 
  1010 sensor *tmp188 :start_reactor:reactor @enabled
  1011 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
  1012 return :start_reactor*retaddr
-    * end

Modifications by Jumps phase, Dead Code Elimination, pass 4, iteration 1:
 
    53 control enabled projector1 false
    54 control enabled projector2 false
    55 set :check_radar*retval false
-    * label *label181
    56 label *label182
    57 jump *label12 equal switch1 null
    58 sensor *tmp10 switch1 @enabled
 
   505 control enabled projector1 false
   506 control enabled projector2 false
   507 set :check_radar*retval false
-    * label *label185
   508 label *label186
   509 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
   510 op sub *tmp104 @tick :t_startup3

Modifications by Final phase, Print Merging, iteration 1 (-131 instructions):
 
    57 jump *label12 equal switch1 null
    58 sensor *tmp10 switch1 @enabled
    59 jump *label12 notEqual *tmp10 false
-    * print "User has disabled emergency switch"
-    * print "\n"
+   60 print "User has disabled emergency switch\n"
    61 set *tmp8 true
    62 jump *label11 always
    63 label *label12
 
   155 op mul *tmp116 :start_reactor:surplus 0.2
   156 op add .AVG_SURPLUS *tmp115 *tmp116
   157 sensor :start_reactor:enabled reactor1 @enabled
-    * print "#"
-    * print 1
-    * print " "
-    * print "- "
+  158 print "#1 - "
   159 jump *label188 equal :emerg_shutdown false
   160 control enabled reactor1 false
-    * print "emergency mode"
-    * print "\n"
+  161 print "emergency mode\n"
   162 set :start_reactor:supply_fuel false
   163 jump *label231 always
   164 label *label188
   165 jump *label215 equal :start_reactor:enabled false
   166 jump *label192 greaterThanEq .REACTORS_DESIRED 1
   167 control enabled reactor1 false
-    * print "STOP unwanted"
-    * print "\n"
+  168 print "STOP unwanted\n"
   169 jump *label230 always
   170 label *label192
   171 jump *label193 greaterThan :start_reactor:fuel 1
   172 control enabled reactor1 false
-    * print "STOP fuel low"
-    * print "\n"
+  173 print "STOP fuel low\n"
   174 jump *label230 always
   175 label *label193
   176 jump *label194 greaterThan :start_reactor:cryo 1
   177 control enabled reactor1 false
-    * print "STOP out of cryo"
-    * print "\n"
+  178 print "STOP out of cryo\n"
   179 jump *label230 always
   180 label *label194
   181 jump *label205 greaterThanEq :start_reactor:secs 30
 
   197 jump *label203 greaterThanEq *tmp143 5000
   198 jump *label203 greaterThanEq :start_reactor:surplus -500
   199 control enabled reactor1 false
-    * print "START FAIL battery"
-    * print "\n"
+  200 print "START FAIL battery\n"
   201 set :start_reactor:supply_fuel false
   202 jump *label230 always
   203 label *label203
   204 op sub :start_reactor:time_left 30 :start_reactor:secs
-    * print "Starting "
-    * print :start_reactor:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req*retval
-    * print "J"
-    * print "\n"
+  205 print "Starting {0} secs, req {0}J\n"
+  206 format :start_reactor:time_left
+  207 format :calc_charge_req*retval
   208 jump *label230 always
   209 label *label205
   210 jump *label208 greaterThanEq :start_reactor:charge 2000
   211 jump *label208 greaterThanEq :start_reactor:surplus -500
   212 control enabled reactor1 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  213 print "ABANDON - battery crit\n"
   214 set :start_reactor:supply_fuel false
   215 jump *label230 always
   216 label *label208
   217 op idiv :start_reactor:mins :start_reactor:secs 6
   218 op div :start_reactor:mins :start_reactor:mins 10
-    * print "RUN "
-    * print :start_reactor:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  219 print "RUN {0} mins\n"
+  220 format :start_reactor:mins
   221 jump *label230 always
   222 label *label215
   223 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   229 op mul *tmp163 2 1
   230 op add :start_reactor:cryo_req 3 2
   231 jump *label216 greaterThanEq .REACTORS_DESIRED 1
-    * print "IDLE"
-    * print "\n"
+  232 print "IDLE\n"
   233 set :start_reactor:supply_fuel false
   234 jump *label229 always
   235 label *label216
 
   239 op div :start_reactor:flow *tmp171 10
   240 op idiv *tmp174 :start_reactor:charge_units 0.001
   241 op div :start_reactor:charge *tmp174 10
-    * print "WAIT power. (%"
-    * print :start_reactor:charge
-    * print "J + %"
-    * print :start_reactor:flow
-    * print "W)"
-    * print "\n"
+  242 print "WAIT power. (%{0}J + %{0}W)\n"
+  243 format :start_reactor:charge
+  244 format :start_reactor:flow
   245 set :start_reactor:supply_fuel false
   246 jump *label228 always
   247 label *label217
 
   249 jump *label222 greaterThanEq :start_reactor:fuel 10
   250 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   251 jump *label220 lessThanEq *tmp178 10
-    * print "WAIT fuel"
-    * print "\n"
+  252 print "WAIT fuel\n"
   253 jump *label227 always
   254 label *label220
-    * print "WAIT system fuel"
-    * print "\n"
+  255 print "WAIT system fuel\n"
   256 jump *label227 always
   257 label *label222
   258 op mul *tmp181 45 1
   259 jump *label223 greaterThanEq :start_reactor:fuel_stored 45
-    * print "WAIT buffer fuel"
-    * print "\n"
+  260 print "WAIT buffer fuel\n"
   261 jump *label226 always
   262 label *label223
   263 jump *label224 greaterThanEq :start_reactor:cryo 5
-    * print "WAIT cryo"
-    * print "\n"
+  264 print "WAIT cryo\n"
   265 jump *label225 always
   266 label *label224
-    * print "STARTUP"
-    * print "\n"
+  267 print "STARTUP\n"
   268 op add .START_POWER_REQ .START_POWER_REQ 23000
   269 control enabled reactor1 true
   270 label *label225
 
   298 op mul *tmp116 :start_reactor:surplus 0.2
   299 op add .AVG_SURPLUS *tmp115 *tmp116
   300 sensor :start_reactor:enabled reactor2 @enabled
-    * print "#"
-    * print 2
-    * print " "
-    * print "- "
+  301 print "#2 - "
   302 jump *label234 equal :emerg_shutdown false
   303 control enabled reactor2 false
-    * print "emergency mode"
-    * print "\n"
+  304 print "emergency mode\n"
   305 set :start_reactor:supply_fuel false
   306 jump *label277 always
   307 label *label234
   308 jump *label261 equal :start_reactor:enabled false
   309 jump *label235 greaterThanEq .REACTORS_DESIRED 2
   310 control enabled reactor2 false
-    * print "STOP unwanted"
-    * print "\n"
+  311 print "STOP unwanted\n"
   312 jump *label276 always
   313 label *label235
   314 op mul *tmp128 15 2
   315 jump *label238 greaterThanEq :start_reactor:fuel_stored 30
   316 control enabled reactor2 false
-    * print "STOP system fuel low"
-    * print "\n"
+  317 print "STOP system fuel low\n"
   318 jump *label276 always
   319 label *label238
   320 jump *label239 greaterThan :start_reactor:fuel 1
   321 control enabled reactor2 false
-    * print "STOP fuel low"
-    * print "\n"
+  322 print "STOP fuel low\n"
   323 jump *label276 always
   324 label *label239
   325 jump *label240 greaterThan :start_reactor:cryo 1
   326 control enabled reactor2 false
-    * print "STOP out of cryo"
-    * print "\n"
+  327 print "STOP out of cryo\n"
   328 jump *label276 always
   329 label *label240
   330 jump *label251 greaterThanEq :start_reactor:secs 30
 
   346 jump *label249 greaterThanEq *tmp143 5000
   347 jump *label249 greaterThanEq :start_reactor:surplus -500
   348 control enabled reactor2 false
-    * print "START FAIL battery"
-    * print "\n"
+  349 print "START FAIL battery\n"
   350 set :start_reactor:supply_fuel false
   351 jump *label276 always
   352 label *label249
   353 op sub :start_reactor:time_left 30 :start_reactor:secs
-    * print "Starting "
-    * print :start_reactor:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req*retval
-    * print "J"
-    * print "\n"
+  354 print "Starting {0} secs, req {0}J\n"
+  355 format :start_reactor:time_left
+  356 format :calc_charge_req*retval
   357 jump *label276 always
   358 label *label251
   359 jump *label254 greaterThanEq :start_reactor:charge 2000
   360 jump *label254 greaterThanEq :start_reactor:surplus -500
   361 control enabled reactor2 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  362 print "ABANDON - battery crit\n"
   363 set :start_reactor:supply_fuel false
   364 jump *label276 always
   365 label *label254
   366 op idiv :start_reactor:mins :start_reactor:secs 6
   367 op div :start_reactor:mins :start_reactor:mins 10
-    * print "RUN "
-    * print :start_reactor:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  368 print "RUN {0} mins\n"
+  369 format :start_reactor:mins
   370 jump *label276 always
   371 label *label261
   372 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   378 op mul *tmp163 2 2
   379 op add :start_reactor:cryo_req 3 4
   380 jump *label262 greaterThanEq .REACTORS_DESIRED 2
-    * print "IDLE"
-    * print "\n"
+  381 print "IDLE\n"
   382 set :start_reactor:supply_fuel false
   383 jump *label275 always
   384 label *label262
 
   388 op div :start_reactor:flow *tmp171 10
   389 op idiv *tmp174 :start_reactor:charge_units 0.001
   390 op div :start_reactor:charge *tmp174 10
-    * print "WAIT power. (%"
-    * print :start_reactor:charge
-    * print "J + %"
-    * print :start_reactor:flow
-    * print "W)"
-    * print "\n"
+  391 print "WAIT power. (%{0}J + %{0}W)\n"
+  392 format :start_reactor:charge
+  393 format :start_reactor:flow
   394 set :start_reactor:supply_fuel false
   395 jump *label274 always
   396 label *label263
 
   398 jump *label268 greaterThanEq :start_reactor:fuel 10
   399 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   400 jump *label266 lessThanEq *tmp178 10
-    * print "WAIT fuel"
-    * print "\n"
+  401 print "WAIT fuel\n"
   402 jump *label273 always
   403 label *label266
-    * print "WAIT system fuel"
-    * print "\n"
+  404 print "WAIT system fuel\n"
   405 jump *label273 always
   406 label *label268
   407 op mul *tmp181 45 2
   408 jump *label269 greaterThanEq :start_reactor:fuel_stored 90
-    * print "WAIT buffer fuel"
-    * print "\n"
+  409 print "WAIT buffer fuel\n"
   410 jump *label272 always
   411 label *label269
   412 jump *label270 greaterThanEq :start_reactor:cryo 7
-    * print "WAIT cryo"
-    * print "\n"
+  413 print "WAIT cryo\n"
   414 jump *label271 always
   415 label *label270
-    * print "STARTUP"
-    * print "\n"
+  416 print "STARTUP\n"
   417 op add .START_POWER_REQ .START_POWER_REQ 23000
   418 control enabled reactor2 true
   419 label *label271
 
   471 op mul *tmp116 :start_reactor:surplus 0.2
   472 op add .AVG_SURPLUS *tmp115 *tmp116
   473 sensor :start_reactor:enabled reactor3 @enabled
-    * print "#"
-    * print 3
-    * print " "
-    * print "- "
+  474 print "#3 - "
   475 jump *label280 equal :emerg_shutdown false
   476 control enabled reactor3 false
-    * print "emergency mode"
-    * print "\n"
+  477 print "emergency mode\n"
   478 set :start_reactor:supply_fuel false
   479 jump *label323 always
   480 label *label280
   481 jump *label307 equal :start_reactor:enabled false
   482 jump *label281 greaterThanEq .REACTORS_DESIRED 3
   483 control enabled reactor3 false
-    * print "STOP unwanted"
-    * print "\n"
+  484 print "STOP unwanted\n"
   485 jump *label322 always
   486 label *label281
   487 op mul *tmp128 15 3
   488 jump *label284 greaterThanEq :start_reactor:fuel_stored 45
   489 control enabled reactor3 false
-    * print "STOP system fuel low"
-    * print "\n"
+  490 print "STOP system fuel low\n"
   491 jump *label322 always
   492 label *label284
   493 jump *label285 greaterThan :start_reactor:fuel 1
   494 control enabled reactor3 false
-    * print "STOP fuel low"
-    * print "\n"
+  495 print "STOP fuel low\n"
   496 jump *label322 always
   497 label *label285
   498 jump *label286 greaterThan :start_reactor:cryo 1
   499 control enabled reactor3 false
-    * print "STOP out of cryo"
-    * print "\n"
+  500 print "STOP out of cryo\n"
   501 jump *label322 always
   502 label *label286
   503 jump *label297 greaterThanEq :start_reactor:secs 30
 
   519 jump *label295 greaterThanEq *tmp143 5000
   520 jump *label295 greaterThanEq :start_reactor:surplus -500
   521 control enabled reactor3 false
-    * print "START FAIL battery"
-    * print "\n"
+  522 print "START FAIL battery\n"
   523 set :start_reactor:supply_fuel false
   524 jump *label322 always
   525 label *label295
   526 op sub :start_reactor:time_left 30 :start_reactor:secs
-    * print "Starting "
-    * print :start_reactor:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req*retval
-    * print "J"
-    * print "\n"
+  527 print "Starting {0} secs, req {0}J\n"
+  528 format :start_reactor:time_left
+  529 format :calc_charge_req*retval
   530 jump *label322 always
   531 label *label297
   532 jump *label300 greaterThanEq :start_reactor:charge 2000
   533 jump *label300 greaterThanEq :start_reactor:surplus -500
   534 control enabled reactor3 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  535 print "ABANDON - battery crit\n"
   536 set :start_reactor:supply_fuel false
   537 jump *label322 always
   538 label *label300
   539 op idiv :start_reactor:mins :start_reactor:secs 6
   540 op div :start_reactor:mins :start_reactor:mins 10
-    * print "RUN "
-    * print :start_reactor:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  541 print "RUN {0} mins\n"
+  542 format :start_reactor:mins
   543 jump *label322 always
   544 label *label307
   545 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   551 op mul *tmp163 2 3
   552 op add :start_reactor:cryo_req 3 6
   553 jump *label308 greaterThanEq .REACTORS_DESIRED 3
-    * print "IDLE"
-    * print "\n"
+  554 print "IDLE\n"
   555 set :start_reactor:supply_fuel false
   556 jump *label321 always
   557 label *label308
 
   561 op div :start_reactor:flow *tmp171 10
   562 op idiv *tmp174 :start_reactor:charge_units 0.001
   563 op div :start_reactor:charge *tmp174 10
-    * print "WAIT power. (%"
-    * print :start_reactor:charge
-    * print "J + %"
-    * print :start_reactor:flow
-    * print "W)"
-    * print "\n"
+  564 print "WAIT power. (%{0}J + %{0}W)\n"
+  565 format :start_reactor:charge
+  566 format :start_reactor:flow
   567 set :start_reactor:supply_fuel false
   568 jump *label320 always
   569 label *label309
 
   571 jump *label314 greaterThanEq :start_reactor:fuel 10
   572 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   573 jump *label312 lessThanEq *tmp178 10
-    * print "WAIT fuel"
-    * print "\n"
+  574 print "WAIT fuel\n"
   575 jump *label319 always
   576 label *label312
-    * print "WAIT system fuel"
-    * print "\n"
+  577 print "WAIT system fuel\n"
   578 jump *label319 always
   579 label *label314
   580 op mul *tmp181 45 3
   581 jump *label315 greaterThanEq :start_reactor:fuel_stored 135
-    * print "WAIT buffer fuel"
-    * print "\n"
+  582 print "WAIT buffer fuel\n"
   583 jump *label318 always
   584 label *label315
   585 jump *label316 greaterThanEq :start_reactor:cryo 9
-    * print "WAIT cryo"
-    * print "\n"
+  586 print "WAIT cryo\n"
   587 jump *label317 always
   588 label *label316
-    * print "STARTUP"
-    * print "\n"
+  589 print "STARTUP\n"
   590 op add .START_POWER_REQ .START_POWER_REQ 23000
   591 control enabled reactor3 true
   592 label *label317
 
   651 jump *label41 equal :emerg_shutdown false
   652 label *label43
   653 set :throttle_blast:limit 0
-    * print "Central Fuel at "
-    * print :throttle_blast:fuel_stored
-    * print " "
-    * print "/ "
-    * print 0
-    * print " "
-    * print "- "
+  654 print "Central Fuel at {0} / 0 - "
+  655 format :throttle_blast:fuel_stored
   656 jump *label46 equal :emerg_shutdown false
-    * print " Enemies detected."
-    * print "\n"
+  657 print " Enemies detected.\n"
   658 jump *label42 always
   659 label *label46
-    * print " Critical power."
-    * print "\n"
+  660 print " Critical power.\n"
   661 jump *label42 always
   662 label *label41
   663 jump *label48 notEqual *tmp28 false
   664 set :throttle_blast:limit 150
-    * print "Fuel "
-    * print :throttle_blast:fuel_stored
-    * print " "
-    * print "/ "
-    * print 150
-    * print " "
-    * print "(due to emergency)"
-    * print "\n"
+  665 print "Fuel {0} / 150 (due to emergency)\n"
+  666 format :throttle_blast:fuel_stored
   667 jump *label49 always
   668 label *label48
   669 set :throttle_blast:limit 800
-    * print "Fuel "
-    * print :throttle_blast:fuel_stored
-    * print " "
-    * print "/ "
-    * print 800
-    * print "\"
-    * print "n"
+  670 print "Fuel {0} / 800\n"
+  671 format :throttle_blast:fuel_stored
   672 label *label49
   673 label *label42
   674 op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
 
   679 op div :diff_generators:stored_pc *tmp48 *tmp49
   680 jump *label53 lessThanEq :diff_generators:stored_pc 0.9
   681 jump *label53 greaterThanEq .START_POWER_REQ 10
-    * print "Differential now idle."
-    * print "\n"
+  682 print "Differential now idle.\n"
   683 control enabled generator1 false
   684 control enabled generator2 false
   685 jump *label54 always
 
   696 jump *label59 lessThanEq .START_POWER_REQ 0
   697 op idiv *tmp85 .START_POWER_REQ 100
   698 op div :kilo*retval *tmp85 10
-    * print "Req "
-    * print :kilo*retval
-    * print "kJ / "
-    * print :charge
-    * print "kJ. "
-    * print :surplus
-    * print "kW flow."
-    * print "\n"
+  699 print "Req {0}kJ / {0}kJ. {0}kW flow.\n"
+  700 format :kilo*retval
+  701 format :charge
+  702 format :surplus
   703 jump *label60 always
   704 label *label59
-    * print "Power "
-    * print :surplus
-    * print "kW, "
-    * print :kilo*retval
-    * print "kJ"
-    * print "\n"
+  705 print "Power {0}kW, {0}kJ\n"
+  706 format :surplus
+  707 format :kilo*retval
   708 sensor *tmp65 node1 @powerNetStored
   709 sensor *tmp66 node1 @powerNetCapacity
   710 op div :update_reactors_desired:stored *tmp65 *tmp66
 
   725 label *label69
   726 label *label60
   727 jump *label73 equal .REACTORS_DESIRED 5
-    * print "Require only "
-    * print .REACTORS_DESIRED
-    * print "/5 reactors."
-    * print "\n"
+  728 print "Require only {0}/5 reactors.\n"
+  729 format .REACTORS_DESIRED
   730 label *label73
   731 printflush message1
   732 jump *label7 always
 
   747 op mul *tmp116 :start_reactor:surplus 0.2
   748 op add .AVG_SURPLUS *tmp115 *tmp116
   749 sensor :start_reactor:enabled :start_reactor:reactor @enabled
-    * print "#"
-    * print :start_reactor:reactor_num
-    * print " "
-    * print "- "
+  750 print "#{0} - "
+  751 format :start_reactor:reactor_num
   752 jump *label87 equal :start_reactor:emerg_shutdown false
   753 control enabled :start_reactor:reactor false
-    * print "emergency mode"
-    * print "\n"
+  754 print "emergency mode\n"
   755 set :start_reactor*retval false
   756 jump *label88 always
   757 label *label87
   758 jump *label89 equal :start_reactor:enabled false
   759 jump *label91 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
   760 control enabled :start_reactor:reactor false
-    * print "STOP unwanted"
-    * print "\n"
+  761 print "STOP unwanted\n"
   762 jump *label90 always
   763 label *label91
   764 jump *label93 lessThanEq :start_reactor:reactor_num 1
   765 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
   766 jump *label93 greaterThanEq :start_reactor:fuel_stored *tmp128
   767 control enabled :start_reactor:reactor false
-    * print "STOP system fuel low"
-    * print "\n"
+  768 print "STOP system fuel low\n"
   769 jump *label90 always
   770 label *label93
   771 jump *label97 greaterThan :start_reactor:fuel 1
   772 control enabled :start_reactor:reactor false
-    * print "STOP fuel low"
-    * print "\n"
+  773 print "STOP fuel low\n"
   774 jump *label90 always
   775 label *label97
   776 jump *label99 greaterThan :start_reactor:cryo .CRYO_ABORT
   777 control enabled :start_reactor:reactor false
-    * print "STOP out of cryo"
-    * print "\n"
+  778 print "STOP out of cryo\n"
   779 jump *label90 always
   780 label *label99
   781 jump *label101 greaterThanEq :start_reactor:secs 30
 
   797 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   798 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
   799 control enabled :start_reactor:reactor false
-    * print "START FAIL battery"
-    * print "\n"
+  800 print "START FAIL battery\n"
   801 set :start_reactor*retval false
   802 jump *label90 always
   803 label *label104
   804 op sub :start_reactor:time_left 30 :start_reactor:secs
-    * print "Starting "
-    * print :start_reactor:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req*retval
-    * print "J"
-    * print "\n"
+  805 print "Starting {0} secs, req {0}J\n"
+  806 format :start_reactor:time_left
+  807 format :calc_charge_req*retval
   808 jump *label90 always
   809 label *label101
   810 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
   811 jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
   812 control enabled :start_reactor:reactor false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  813 print "ABANDON - battery crit\n"
   814 set :start_reactor*retval false
   815 jump *label90 always
   816 label *label108
   817 op idiv :start_reactor:mins :start_reactor:secs 6
   818 op div :start_reactor:mins :start_reactor:mins 10
-    * print "RUN "
-    * print :start_reactor:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  819 print "RUN {0} mins\n"
+  820 format :start_reactor:mins
   821 jump *label90 always
   822 label *label89
   823 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   829 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
   830 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
   831 jump *label112 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
-    * print "IDLE"
-    * print "\n"
+  832 print "IDLE\n"
   833 set :start_reactor*retval false
   834 jump *label113 always
   835 label *label112
 
   839 op div :start_reactor:flow *tmp171 10
   840 op idiv *tmp174 :start_reactor:charge_units 0.001
   841 op div :start_reactor:charge *tmp174 10
-    * print "WAIT power. (%"
-    * print :start_reactor:charge
-    * print "J + %"
-    * print :start_reactor:flow
-    * print "W)"
-    * print "\n"
+  842 print "WAIT power. (%{0}J + %{0}W)\n"
+  843 format :start_reactor:charge
+  844 format :start_reactor:flow
   845 set :start_reactor*retval false
   846 jump *label115 always
   847 label *label114
 
   849 jump *label116 greaterThanEq :start_reactor:fuel .FUEL_REQ
   850 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   851 jump *label120 lessThanEq *tmp178 .FUEL_REQ
-    * print "WAIT fuel"
-    * print "\n"
+  852 print "WAIT fuel\n"
   853 jump *label117 always
   854 label *label120
-    * print "WAIT system fuel"
-    * print "\n"
+  855 print "WAIT system fuel\n"
   856 jump *label117 always
   857 label *label116
   858 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
   859 jump *label122 greaterThanEq :start_reactor:fuel_stored *tmp181
-    * print "WAIT buffer fuel"
-    * print "\n"
+  860 print "WAIT buffer fuel\n"
   861 jump *label123 always
   862 label *label122
   863 jump *label124 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
-    * print "WAIT cryo"
-    * print "\n"
+  864 print "WAIT cryo\n"
   865 jump *label125 always
   866 label *label124
-    * print "STARTUP"
-    * print "\n"
+  867 print "STARTUP\n"
   868 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
   869 control enabled :start_reactor:reactor true
   870 label *label125

Final code before resolving virtual instructions:

printflush message1
set .PWR_REQ 23000
set .FLOW_REQ 2000
set .PWR_ABANDON 2000
set .PWR_ABORT 5000
set .PWR_RESERVE 0.6
set .FLOW_ABORT -500
set .FUEL_REQ 10
set .FUEL_TOT_REQ 45
set .FUEL_TOT_ABORT 15
set .CRYO_REQ 3
set .CRYO_REQ_EA 2
set .CRYO_ABORT 1
set :fuel_1 false
set :fuel_2 false
set :fuel_3 false
set :fuel_4 false
set :fuel_5 false
sensor *tmp0 node1 @powerNetIn
sensor *tmp1 node1 @powerNetOut
op sub *tmp2 *tmp0 *tmp1
op floor :surplus *tmp2
op sub *tmp218 @tick 3600
select *tmp5 greaterThan :surplus 10000 *tmp218 @tick
set :t_startup1 *tmp5
set :t_startup2 *tmp5
set :t_startup3 *tmp5
set :t_startup4 *tmp5
set :t_startup5 *tmp5
set .REACTORS_DESIRED 5
set .AVG_SURPLUS 500
label *label7
set .CONTAINER vault1
set .NODE node1
radar enemy any any health cyclone1 1 :check_radar:enemy_found
jump *label180 equal :check_radar:enemy_found null
control enabled projector1 true
control enabled projector2 true
control config unloader1 @scrap
control config unloader2 @blast-compound
control config unloader3 @scrap
control config unloader4 @blast-compound
control config unloader5 @scrap
control config unloader6 @blast-compound
control config unloader7 @scrap
control enabled reactor1 false
control enabled reactor2 false
control enabled reactor3 false
control enabled reactor4 false
control enabled reactor5 false
set :check_radar*retval true
jump *label182 always
label *label180
control enabled projector1 false
control enabled projector2 false
set :check_radar*retval false
label *label182
jump *label12 equal switch1 null
sensor *tmp10 switch1 @enabled
jump *label12 notEqual *tmp10 false
print "User has disabled emergency switch\n"
set *tmp8 true
jump *label11 always
label *label12
set *tmp8 false
label *label11
op or :emerg_shutdown :check_radar*retval *tmp8
op sub *tmp94 @tick :t_startup1
op idiv :calc_charge_req:secs *tmp94 60
jump *label145 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor1 @enabled
jump *label146 notEqual *tmp97 false
label *label145
set :calc_charge_req*retval 0
jump *label148 always
label *label146
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label148
set .START_POWER_REQ :calc_charge_req*retval
op sub *tmp94 @tick :t_startup2
op idiv :calc_charge_req:secs *tmp94 60
jump *label151 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor2 @enabled
jump *label152 notEqual *tmp97 false
label *label151
set :calc_charge_req*retval 0
jump *label154 always
label *label152
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label154
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
op sub *tmp94 @tick :t_startup3
op idiv :calc_charge_req:secs *tmp94 60
jump *label157 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor3 @enabled
jump *label158 notEqual *tmp97 false
label *label157
set :calc_charge_req*retval 0
jump *label160 always
label *label158
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label160
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
op sub *tmp94 @tick :t_startup4
op idiv :calc_charge_req:secs *tmp94 60
jump *label163 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor4 @enabled
jump *label164 notEqual *tmp97 false
label *label163
set :calc_charge_req*retval 0
jump *label166 always
label *label164
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label166
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
op sub *tmp94 @tick :t_startup5
op idiv :calc_charge_req:secs *tmp94 60
jump *label169 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor5 @enabled
jump *label170 notEqual *tmp97 false
label *label169
set :calc_charge_req*retval 0
jump *label172 always
label *label170
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label172
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
op sub *tmp104 @tick :t_startup1
op idiv :start_reactor:secs *tmp104 60
sensor :start_reactor:fuel reactor1 @blast-compound
set :start_reactor:supply_fuel true
sensor :start_reactor:fuel_stored vault1 @blast-compound
sensor :start_reactor:cryo reactor1 @cryofluid
sensor *tmp109 node1 @powerNetStored
op floor :start_reactor:charge *tmp109
sensor *tmp111 node1 @powerNetIn
sensor *tmp112 node1 @powerNetOut
op sub *tmp113 *tmp111 *tmp112
op floor :start_reactor:surplus *tmp113
op mul *tmp115 .AVG_SURPLUS 0.8
op mul *tmp116 :start_reactor:surplus 0.2
op add .AVG_SURPLUS *tmp115 *tmp116
sensor :start_reactor:enabled reactor1 @enabled
print "#1 - "
jump *label188 equal :emerg_shutdown false
control enabled reactor1 false
print "emergency mode\n"
set :start_reactor:supply_fuel false
jump *label231 always
label *label188
jump *label215 equal :start_reactor:enabled false
jump *label192 greaterThanEq .REACTORS_DESIRED 1
control enabled reactor1 false
print "STOP unwanted\n"
jump *label230 always
label *label192
jump *label193 greaterThan :start_reactor:fuel 1
control enabled reactor1 false
print "STOP fuel low\n"
jump *label230 always
label *label193
jump *label194 greaterThan :start_reactor:cryo 1
control enabled reactor1 false
print "STOP out of cryo\n"
jump *label230 always
label *label194
jump *label205 greaterThanEq :start_reactor:secs 30
op sub *tmp94 @tick :t_startup1
op idiv :calc_charge_req:secs *tmp94 60
jump *label197 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor1 @enabled
jump *label198 notEqual *tmp97 false
label *label197
set :calc_charge_req*retval 0
jump *label200 always
label *label198
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label200
op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
jump *label203 greaterThanEq *tmp143 5000
jump *label203 greaterThanEq :start_reactor:surplus -500
control enabled reactor1 false
print "START FAIL battery\n"
set :start_reactor:supply_fuel false
jump *label230 always
label *label203
op sub :start_reactor:time_left 30 :start_reactor:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor:time_left
format :calc_charge_req*retval
jump *label230 always
label *label205
jump *label208 greaterThanEq :start_reactor:charge 2000
jump *label208 greaterThanEq :start_reactor:surplus -500
control enabled reactor1 false
print "ABANDON - battery crit\n"
set :start_reactor:supply_fuel false
jump *label230 always
label *label208
op idiv :start_reactor:mins :start_reactor:secs 6
op div :start_reactor:mins :start_reactor:mins 10
print "RUN {0} mins\n"
format :start_reactor:mins
jump *label230 always
label *label215
op sub *tmp157 :start_reactor:charge .START_POWER_REQ
op sub *tmp158 *tmp157 5000
op div *tmp159 *tmp158 23000
op div :start_reactor:charge_units *tmp158 38333.333333333336
op div *tmp161 :start_reactor:surplus 2000
op max :start_reactor:flow_units -0.1 *tmp161
op mul *tmp163 2 1
op add :start_reactor:cryo_req 3 2
jump *label216 greaterThanEq .REACTORS_DESIRED 1
print "IDLE\n"
set :start_reactor:supply_fuel false
jump *label229 always
label *label216
op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
jump *label217 greaterThanEq *tmp167 1
op idiv *tmp171 :start_reactor:flow_units 0.001
op div :start_reactor:flow *tmp171 10
op idiv *tmp174 :start_reactor:charge_units 0.001
op div :start_reactor:charge *tmp174 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor:charge
format :start_reactor:flow
set :start_reactor:supply_fuel false
jump *label228 always
label *label217
jump *label222 equal :fuel_1 false
jump *label222 greaterThanEq :start_reactor:fuel 10
op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
jump *label220 lessThanEq *tmp178 10
print "WAIT fuel\n"
jump *label227 always
label *label220
print "WAIT system fuel\n"
jump *label227 always
label *label222
op mul *tmp181 45 1
jump *label223 greaterThanEq :start_reactor:fuel_stored 45
print "WAIT buffer fuel\n"
jump *label226 always
label *label223
jump *label224 greaterThanEq :start_reactor:cryo 5
print "WAIT cryo\n"
jump *label225 always
label *label224
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor1 true
label *label225
label *label226
label *label227
label *label228
label *label229
label *label230
label *label231
sensor *tmp188 reactor1 @enabled
select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup1
set :fuel_1 :start_reactor:supply_fuel
set :t_startup1 .RET_T_STARTUP
select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
control config unloader1 *tmp89
select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
control config unloader2 *tmp93
op sub *tmp104 @tick :t_startup2
op idiv :start_reactor:secs *tmp104 60
sensor :start_reactor:fuel reactor2 @blast-compound
set :start_reactor:supply_fuel true
sensor :start_reactor:fuel_stored vault1 @blast-compound
sensor :start_reactor:cryo reactor2 @cryofluid
sensor *tmp109 node1 @powerNetStored
op floor :start_reactor:charge *tmp109
sensor *tmp111 node1 @powerNetIn
sensor *tmp112 node1 @powerNetOut
op sub *tmp113 *tmp111 *tmp112
op floor :start_reactor:surplus *tmp113
op mul *tmp115 .AVG_SURPLUS 0.8
op mul *tmp116 :start_reactor:surplus 0.2
op add .AVG_SURPLUS *tmp115 *tmp116
sensor :start_reactor:enabled reactor2 @enabled
print "#2 - "
jump *label234 equal :emerg_shutdown false
control enabled reactor2 false
print "emergency mode\n"
set :start_reactor:supply_fuel false
jump *label277 always
label *label234
jump *label261 equal :start_reactor:enabled false
jump *label235 greaterThanEq .REACTORS_DESIRED 2
control enabled reactor2 false
print "STOP unwanted\n"
jump *label276 always
label *label235
op mul *tmp128 15 2
jump *label238 greaterThanEq :start_reactor:fuel_stored 30
control enabled reactor2 false
print "STOP system fuel low\n"
jump *label276 always
label *label238
jump *label239 greaterThan :start_reactor:fuel 1
control enabled reactor2 false
print "STOP fuel low\n"
jump *label276 always
label *label239
jump *label240 greaterThan :start_reactor:cryo 1
control enabled reactor2 false
print "STOP out of cryo\n"
jump *label276 always
label *label240
jump *label251 greaterThanEq :start_reactor:secs 30
op sub *tmp94 @tick :t_startup2
op idiv :calc_charge_req:secs *tmp94 60
jump *label243 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor2 @enabled
jump *label244 notEqual *tmp97 false
label *label243
set :calc_charge_req*retval 0
jump *label246 always
label *label244
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label246
op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
jump *label249 greaterThanEq *tmp143 5000
jump *label249 greaterThanEq :start_reactor:surplus -500
control enabled reactor2 false
print "START FAIL battery\n"
set :start_reactor:supply_fuel false
jump *label276 always
label *label249
op sub :start_reactor:time_left 30 :start_reactor:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor:time_left
format :calc_charge_req*retval
jump *label276 always
label *label251
jump *label254 greaterThanEq :start_reactor:charge 2000
jump *label254 greaterThanEq :start_reactor:surplus -500
control enabled reactor2 false
print "ABANDON - battery crit\n"
set :start_reactor:supply_fuel false
jump *label276 always
label *label254
op idiv :start_reactor:mins :start_reactor:secs 6
op div :start_reactor:mins :start_reactor:mins 10
print "RUN {0} mins\n"
format :start_reactor:mins
jump *label276 always
label *label261
op sub *tmp157 :start_reactor:charge .START_POWER_REQ
op sub *tmp158 *tmp157 5000
op div *tmp159 *tmp158 23000
op div :start_reactor:charge_units *tmp158 38333.333333333336
op div *tmp161 :start_reactor:surplus 2000
op max :start_reactor:flow_units -0.1 *tmp161
op mul *tmp163 2 2
op add :start_reactor:cryo_req 3 4
jump *label262 greaterThanEq .REACTORS_DESIRED 2
print "IDLE\n"
set :start_reactor:supply_fuel false
jump *label275 always
label *label262
op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
jump *label263 greaterThanEq *tmp167 1
op idiv *tmp171 :start_reactor:flow_units 0.001
op div :start_reactor:flow *tmp171 10
op idiv *tmp174 :start_reactor:charge_units 0.001
op div :start_reactor:charge *tmp174 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor:charge
format :start_reactor:flow
set :start_reactor:supply_fuel false
jump *label274 always
label *label263
jump *label268 equal :fuel_2 false
jump *label268 greaterThanEq :start_reactor:fuel 10
op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
jump *label266 lessThanEq *tmp178 10
print "WAIT fuel\n"
jump *label273 always
label *label266
print "WAIT system fuel\n"
jump *label273 always
label *label268
op mul *tmp181 45 2
jump *label269 greaterThanEq :start_reactor:fuel_stored 90
print "WAIT buffer fuel\n"
jump *label272 always
label *label269
jump *label270 greaterThanEq :start_reactor:cryo 7
print "WAIT cryo\n"
jump *label271 always
label *label270
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor2 true
label *label271
label *label272
label *label273
label *label274
label *label275
label *label276
label *label277
sensor *tmp188 reactor2 @enabled
select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup2
set :fuel_2 :start_reactor:supply_fuel
set :t_startup2 .RET_T_STARTUP
select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
control config unloader3 *tmp89
select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
control config unloader4 *tmp93
radar enemy any any health cyclone1 1 :check_radar:enemy_found
jump *label184 equal :check_radar:enemy_found null
control enabled projector1 true
control enabled projector2 true
control config unloader1 @scrap
control config unloader2 @blast-compound
control config unloader3 @scrap
control config unloader4 @blast-compound
control config unloader5 @scrap
control config unloader6 @blast-compound
control config unloader7 @scrap
control enabled reactor1 false
control enabled reactor2 false
control enabled reactor3 false
control enabled reactor4 false
control enabled reactor5 false
set :check_radar*retval true
jump *label186 always
label *label184
control enabled projector1 false
control enabled projector2 false
set :check_radar*retval false
label *label186
op or :emerg_shutdown :emerg_shutdown :check_radar*retval
op sub *tmp104 @tick :t_startup3
op idiv :start_reactor:secs *tmp104 60
sensor :start_reactor:fuel reactor3 @blast-compound
set :start_reactor:supply_fuel true
sensor :start_reactor:fuel_stored vault1 @blast-compound
sensor :start_reactor:cryo reactor3 @cryofluid
sensor *tmp109 node1 @powerNetStored
op floor :start_reactor:charge *tmp109
sensor *tmp111 node1 @powerNetIn
sensor *tmp112 node1 @powerNetOut
op sub *tmp113 *tmp111 *tmp112
op floor :start_reactor:surplus *tmp113
op mul *tmp115 .AVG_SURPLUS 0.8
op mul *tmp116 :start_reactor:surplus 0.2
op add .AVG_SURPLUS *tmp115 *tmp116
sensor :start_reactor:enabled reactor3 @enabled
print "#3 - "
jump *label280 equal :emerg_shutdown false
control enabled reactor3 false
print "emergency mode\n"
set :start_reactor:supply_fuel false
jump *label323 always
label *label280
jump *label307 equal :start_reactor:enabled false
jump *label281 greaterThanEq .REACTORS_DESIRED 3
control enabled reactor3 false
print "STOP unwanted\n"
jump *label322 always
label *label281
op mul *tmp128 15 3
jump *label284 greaterThanEq :start_reactor:fuel_stored 45
control enabled reactor3 false
print "STOP system fuel low\n"
jump *label322 always
label *label284
jump *label285 greaterThan :start_reactor:fuel 1
control enabled reactor3 false
print "STOP fuel low\n"
jump *label322 always
label *label285
jump *label286 greaterThan :start_reactor:cryo 1
control enabled reactor3 false
print "STOP out of cryo\n"
jump *label322 always
label *label286
jump *label297 greaterThanEq :start_reactor:secs 30
op sub *tmp94 @tick :t_startup3
op idiv :calc_charge_req:secs *tmp94 60
jump *label289 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor3 @enabled
jump *label290 notEqual *tmp97 false
label *label289
set :calc_charge_req*retval 0
jump *label292 always
label *label290
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label292
op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
jump *label295 greaterThanEq *tmp143 5000
jump *label295 greaterThanEq :start_reactor:surplus -500
control enabled reactor3 false
print "START FAIL battery\n"
set :start_reactor:supply_fuel false
jump *label322 always
label *label295
op sub :start_reactor:time_left 30 :start_reactor:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor:time_left
format :calc_charge_req*retval
jump *label322 always
label *label297
jump *label300 greaterThanEq :start_reactor:charge 2000
jump *label300 greaterThanEq :start_reactor:surplus -500
control enabled reactor3 false
print "ABANDON - battery crit\n"
set :start_reactor:supply_fuel false
jump *label322 always
label *label300
op idiv :start_reactor:mins :start_reactor:secs 6
op div :start_reactor:mins :start_reactor:mins 10
print "RUN {0} mins\n"
format :start_reactor:mins
jump *label322 always
label *label307
op sub *tmp157 :start_reactor:charge .START_POWER_REQ
op sub *tmp158 *tmp157 5000
op div *tmp159 *tmp158 23000
op div :start_reactor:charge_units *tmp158 38333.333333333336
op div *tmp161 :start_reactor:surplus 2000
op max :start_reactor:flow_units -0.1 *tmp161
op mul *tmp163 2 3
op add :start_reactor:cryo_req 3 6
jump *label308 greaterThanEq .REACTORS_DESIRED 3
print "IDLE\n"
set :start_reactor:supply_fuel false
jump *label321 always
label *label308
op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
jump *label309 greaterThanEq *tmp167 1
op idiv *tmp171 :start_reactor:flow_units 0.001
op div :start_reactor:flow *tmp171 10
op idiv *tmp174 :start_reactor:charge_units 0.001
op div :start_reactor:charge *tmp174 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor:charge
format :start_reactor:flow
set :start_reactor:supply_fuel false
jump *label320 always
label *label309
jump *label314 equal :fuel_3 false
jump *label314 greaterThanEq :start_reactor:fuel 10
op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
jump *label312 lessThanEq *tmp178 10
print "WAIT fuel\n"
jump *label319 always
label *label312
print "WAIT system fuel\n"
jump *label319 always
label *label314
op mul *tmp181 45 3
jump *label315 greaterThanEq :start_reactor:fuel_stored 135
print "WAIT buffer fuel\n"
jump *label318 always
label *label315
jump *label316 greaterThanEq :start_reactor:cryo 9
print "WAIT cryo\n"
jump *label317 always
label *label316
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor3 true
label *label317
label *label318
label *label319
label *label320
label *label321
label *label322
label *label323
sensor *tmp188 reactor3 @enabled
select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup3
set :fuel_3 :start_reactor:supply_fuel
set :t_startup3 .RET_T_STARTUP
set :start_reactor:reactor reactor4
set :start_reactor:reactor_num 4
set :start_reactor:emerg_shutdown :emerg_shutdown
set :start_reactor:fuel_on :fuel_4
set :start_reactor:t_startup :t_startup4
setaddr :start_reactor*retaddr *label27
call *label3 *invalid :start_reactor*retval
label *label27
set :fuel_4 :start_reactor*retval
set :t_startup4 .RET_T_STARTUP
set :start_reactor:reactor reactor5
set :start_reactor:reactor_num 5
set :start_reactor:emerg_shutdown :emerg_shutdown
set :start_reactor:fuel_on :fuel_5
set :start_reactor:t_startup :t_startup5
setaddr :start_reactor*retaddr *label28
call *label3 *invalid :start_reactor*retval
label *label28
set :fuel_5 :start_reactor*retval
set :t_startup5 .RET_T_STARTUP
set *tmp26 false
jump *label31 notEqual :start_reactor:supply_fuel false
jump *label31 notEqual :fuel_4 false
jump *label30 equal :start_reactor*retval false
label *label31
set *tmp26 true
label *label30
select *tmp89 notEqual *tmp26 false @blast-compound @scrap
control config unloader5 *tmp89
select *tmp93 equal *tmp26 false @blast-compound @scrap
control config unloader6 *tmp93
set *tmp28 false
jump *label37 notEqual :fuel_1 false
jump *label37 notEqual :fuel_2 false
jump *label36 equal *tmp26 false
label *label37
set *tmp28 true
label *label36
sensor *tmp30 node1 @powerNetStored
op floor :throttle_blast:charge *tmp30
sensor *tmp32 node1 @powerNetIn
sensor *tmp33 node1 @powerNetOut
op sub *tmp34 *tmp32 *tmp33
op floor :throttle_blast:surplus *tmp34
sensor :throttle_blast:fuel_stored vault1 @blast-compound
jump *label44 greaterThanEq :throttle_blast:charge 5000
jump *label43 lessThan :throttle_blast:surplus -500
label *label44
jump *label41 equal :emerg_shutdown false
label *label43
set :throttle_blast:limit 0
print "Central Fuel at {0} / 0 - "
format :throttle_blast:fuel_stored
jump *label46 equal :emerg_shutdown false
print " Enemies detected.\n"
jump *label42 always
label *label46
print " Critical power.\n"
jump *label42 always
label *label41
jump *label48 notEqual *tmp28 false
set :throttle_blast:limit 150
print "Fuel {0} / 150 (due to emergency)\n"
format :throttle_blast:fuel_stored
jump *label49 always
label *label48
set :throttle_blast:limit 800
print "Fuel {0} / 800\n"
format :throttle_blast:fuel_stored
label *label49
label *label42
op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
select *tmp46 notEqual *tmp29 false @pyratite @scrap
control config unloader7 *tmp46
sensor *tmp48 node1 @powerNetStored
sensor *tmp49 node1 @powerNetCapacity
op div :diff_generators:stored_pc *tmp48 *tmp49
jump *label53 lessThanEq :diff_generators:stored_pc 0.9
jump *label53 greaterThanEq .START_POWER_REQ 10
print "Differential now idle.\n"
control enabled generator1 false
control enabled generator2 false
jump *label54 always
label *label53
control enabled generator1 true
control enabled generator2 true
label *label54
op idiv *tmp85 .AVG_SURPLUS 100
op div :surplus *tmp85 10
sensor :kilo:val node1 @powerNetStored
op idiv *tmp85 :kilo:val 100
op div :kilo*retval *tmp85 10
set :charge :kilo*retval
jump *label59 lessThanEq .START_POWER_REQ 0
op idiv *tmp85 .START_POWER_REQ 100
op div :kilo*retval *tmp85 10
print "Req {0}kJ / {0}kJ. {0}kW flow.\n"
format :kilo*retval
format :charge
format :surplus
jump *label60 always
label *label59
print "Power {0}kW, {0}kJ\n"
format :surplus
format :kilo*retval
sensor *tmp65 node1 @powerNetStored
sensor *tmp66 node1 @powerNetCapacity
op div :update_reactors_desired:stored *tmp65 *tmp66
jump *label63 lessThanEq :update_reactors_desired:stored 0.98
jump *label63 lessThanEq .AVG_SURPLUS 16500
jump *label67 lessThanEq .REACTORS_DESIRED 2
op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
op sub .AVG_SURPLUS .AVG_SURPLUS 6500
label *label67
label *label63
jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
jump *label69 greaterThanEq .AVG_SURPLUS 8000
op sub *tmp78 .AVG_SURPLUS 10000
op idiv *tmp79 *tmp78 6500
op max :update_reactors_desired:needed 1 *tmp79
op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
op min .REACTORS_DESIRED 5 *tmp81
label *label69
label *label60
jump *label73 equal .REACTORS_DESIRED 5
print "Require only {0}/5 reactors.\n"
format .REACTORS_DESIRED
label *label73
printflush message1
jump *label7 always
label *label3
op sub *tmp104 @tick :start_reactor:t_startup
op idiv :start_reactor:secs *tmp104 60
sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
set :start_reactor*retval true
sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
sensor *tmp109 .NODE @powerNetStored
op floor :start_reactor:charge *tmp109
sensor *tmp111 .NODE @powerNetIn
sensor *tmp112 .NODE @powerNetOut
op sub *tmp113 *tmp111 *tmp112
op floor :start_reactor:surplus *tmp113
op mul *tmp115 .AVG_SURPLUS 0.8
op mul *tmp116 :start_reactor:surplus 0.2
op add .AVG_SURPLUS *tmp115 *tmp116
sensor :start_reactor:enabled :start_reactor:reactor @enabled
print "#{0} - "
format :start_reactor:reactor_num
jump *label87 equal :start_reactor:emerg_shutdown false
control enabled :start_reactor:reactor false
print "emergency mode\n"
set :start_reactor*retval false
jump *label88 always
label *label87
jump *label89 equal :start_reactor:enabled false
jump *label91 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
control enabled :start_reactor:reactor false
print "STOP unwanted\n"
jump *label90 always
label *label91
jump *label93 lessThanEq :start_reactor:reactor_num 1
op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
jump *label93 greaterThanEq :start_reactor:fuel_stored *tmp128
control enabled :start_reactor:reactor false
print "STOP system fuel low\n"
jump *label90 always
label *label93
jump *label97 greaterThan :start_reactor:fuel 1
control enabled :start_reactor:reactor false
print "STOP fuel low\n"
jump *label90 always
label *label97
jump *label99 greaterThan :start_reactor:cryo .CRYO_ABORT
control enabled :start_reactor:reactor false
print "STOP out of cryo\n"
jump *label90 always
label *label99
jump *label101 greaterThanEq :start_reactor:secs 30
op sub *tmp94 @tick :start_reactor:t_startup
op idiv :calc_charge_req:secs *tmp94 60
jump *label175 greaterThan :calc_charge_req:secs 30
sensor *tmp97 :start_reactor:reactor @enabled
jump *label176 notEqual *tmp97 false
label *label175
set :calc_charge_req*retval 0
jump *label178 always
label *label176
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label178
op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
jump *label104 greaterThanEq *tmp143 .PWR_ABORT
jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
control enabled :start_reactor:reactor false
print "START FAIL battery\n"
set :start_reactor*retval false
jump *label90 always
label *label104
op sub :start_reactor:time_left 30 :start_reactor:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor:time_left
format :calc_charge_req*retval
jump *label90 always
label *label101
jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
control enabled :start_reactor:reactor false
print "ABANDON - battery crit\n"
set :start_reactor*retval false
jump *label90 always
label *label108
op idiv :start_reactor:mins :start_reactor:secs 6
op div :start_reactor:mins :start_reactor:mins 10
print "RUN {0} mins\n"
format :start_reactor:mins
jump *label90 always
label *label89
op sub *tmp157 :start_reactor:charge .START_POWER_REQ
op sub *tmp158 *tmp157 .PWR_ABORT
op div *tmp159 *tmp158 .PWR_REQ
op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
op div *tmp161 :start_reactor:surplus .FLOW_REQ
op max :start_reactor:flow_units -0.1 *tmp161
op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
op add :start_reactor:cryo_req .CRYO_REQ *tmp163
jump *label112 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
print "IDLE\n"
set :start_reactor*retval false
jump *label113 always
label *label112
op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
jump *label114 greaterThanEq *tmp167 1
op idiv *tmp171 :start_reactor:flow_units 0.001
op div :start_reactor:flow *tmp171 10
op idiv *tmp174 :start_reactor:charge_units 0.001
op div :start_reactor:charge *tmp174 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor:charge
format :start_reactor:flow
set :start_reactor*retval false
jump *label115 always
label *label114
jump *label116 equal :start_reactor:fuel_on false
jump *label116 greaterThanEq :start_reactor:fuel .FUEL_REQ
op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
jump *label120 lessThanEq *tmp178 .FUEL_REQ
print "WAIT fuel\n"
jump *label117 always
label *label120
print "WAIT system fuel\n"
jump *label117 always
label *label116
op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
jump *label122 greaterThanEq :start_reactor:fuel_stored *tmp181
print "WAIT buffer fuel\n"
jump *label123 always
label *label122
jump *label124 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
print "WAIT cryo\n"
jump *label125 always
label *label124
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
control enabled :start_reactor:reactor true
label *label125
label *label123
label *label117
label *label115
label *label113
label *label90
label *label88
sensor *tmp188 :start_reactor:reactor @enabled
select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
return :start_reactor*retaddr
