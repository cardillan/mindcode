   661 instructions before optimizations.
    65 instructions eliminated by Temp Variables Elimination.
    77 instructions eliminated by Dead Code Elimination (2 passes, 11 iterations).
     1 instructions eliminated by Jump Normalization (5 iterations).
    18 instructions eliminated by Jump Optimization (2 passes, 5 iterations).
    16 instructions eliminated by Single Step Elimination (2 passes, 7 iterations).
     3 instructions eliminated by Expression Optimization (4 iterations).
     3 instructions eliminated by If Expression Optimization (4 iterations).
    81 instructions eliminated by Data Flow Optimization (9 passes, 31 iterations).
   564 instructions added by Function Inlining (11 iterations).
    17 function calls inlined by Function Inlining.
    33 instructions updated by JumpThreading.
     4 instructions eliminated by Unreachable Code Elimination.
   132 instructions eliminated by Print Merging.
   825 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 520):
  * Inline function 'kilo' defined at line 117:1                 cost     3, benefit      218.8, efficiency       72.9 (-1 instructions)
    Inline function 'update_fuel' defined at line 121:1          cost    13, benefit      337.5, efficiency       26.0
    Inline function 'calc_charge_req' defined at line 126:1      cost    64, benefit      503.9, efficiency        7.9
  ! Inline function 'start_reactor' defined at line 140:1        cost   591, benefit      687.5, efficiency        1.2
    Inline function 'check_radar' defined at line 259:1          cost    21, benefit      175.0, efficiency        8.3
    Inline function call at line 69:22                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 73:23                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 74:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 75:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 76:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 77:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 80:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 82:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 84:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 86:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 88:23                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 89:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 96:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 102:15                          cost     2, benefit       87.5, efficiency       43.8
    Inline function call at line 103:14                          cost     2, benefit       87.5, efficiency       43.8
    Inline function call at line 105:15                          cost     2, benefit       43.8, efficiency       21.9
    Inline function call at line 173:26                          cost    13, benefit        3.9, efficiency        0.3

Pass 1: speed optimization selection (cost limit 521):
  * Inline function 'update_fuel' defined at line 121:1          cost    13, benefit      337.5, efficiency       26.0 (+2 instructions)
    Inline function 'calc_charge_req' defined at line 126:1      cost    64, benefit      503.9, efficiency        7.9
  ! Inline function 'start_reactor' defined at line 140:1        cost   591, benefit      687.5, efficiency        1.2
    Inline function 'check_radar' defined at line 259:1          cost    21, benefit      175.0, efficiency        8.3
    Inline function call at line 69:22                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 73:23                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 74:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 75:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 76:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 77:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 80:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 82:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 84:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 86:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 88:23                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 89:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 96:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 173:26                          cost    13, benefit        3.9, efficiency        0.3

Pass 1: speed optimization selection (cost limit 519):
    Inline function 'calc_charge_req' defined at line 126:1      cost    64, benefit      503.9, efficiency        7.9
  ! Inline function 'start_reactor' defined at line 140:1        cost   591, benefit      687.5, efficiency        1.2
  * Inline function 'check_radar' defined at line 259:1          cost    21, benefit      175.0, efficiency        8.3 (+8 instructions)
    Inline function call at line 69:22                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 73:23                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 74:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 75:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 76:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 77:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 80:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 84:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 88:23                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 89:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 173:26                          cost    13, benefit        3.9, efficiency        0.3

Pass 1: speed optimization selection (cost limit 511):
  * Inline function 'calc_charge_req' defined at line 126:1      cost    64, benefit      503.9, efficiency        7.9 (+50 instructions)
  ! Inline function 'start_reactor' defined at line 140:1        cost   591, benefit      687.5, efficiency        1.2
    Inline function call at line 73:23                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 74:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 75:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 76:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 77:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 80:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 84:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 89:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 173:26                          cost    13, benefit        3.9, efficiency        0.3

Pass 1: speed optimization selection (cost limit 461):
  ! Inline function 'start_reactor' defined at line 140:1        cost   635, benefit      687.5, efficiency        1.1
  * Inline function call at line 80:14                           cost   159, benefit      137.5, efficiency        0.9 (+151 instructions)
    Inline function call at line 84:14                           cost   159, benefit      137.5, efficiency        0.9
    Inline function call at line 89:14                           cost   159, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   159, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   159, benefit      137.5, efficiency        0.9

Pass 1: speed optimization selection (cost limit 310):
  ! Inline function 'start_reactor' defined at line 140:1        cost   476, benefit      550.0, efficiency        1.2
  * Inline function call at line 84:14                           cost   159, benefit      137.5, efficiency        0.9 (+152 instructions)
    Inline function call at line 89:14                           cost   159, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   159, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   159, benefit      137.5, efficiency        0.9

Pass 1: speed optimization selection (cost limit 158):
  ! Inline function 'start_reactor' defined at line 140:1        cost   317, benefit      412.5, efficiency        1.3
  ! Inline function call at line 89:14                           cost   159, benefit      137.5, efficiency        0.9
  ! Inline function call at line 91:14                           cost   159, benefit      137.5, efficiency        0.9
  ! Inline function call at line 93:14                           cost   159, benefit      137.5, efficiency        0.9

Pass 2: speed optimization selection (cost limit 171):
  ! Inline function 'start_reactor' defined at line 140:1        cost   311, benefit      412.5, efficiency        1.3
  * Inline function call at line 89:14                           cost   156, benefit      137.5, efficiency        0.9 (+150 instructions)
    Inline function call at line 91:14                           cost   156, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   156, benefit      137.5, efficiency        0.9

Pass 2: speed optimization selection (cost limit 21):
  ! Inline function 'start_reactor' defined at line 140:1        cost   155, benefit      275.0, efficiency        1.8
  ! Inline function call at line 91:14                           cost   156, benefit      137.5, efficiency        0.9
  ! Inline function call at line 93:14                           cost   156, benefit      137.5, efficiency        0.9

Pass 3: speed optimization selection (cost limit 22):
  ! Inline function 'start_reactor' defined at line 140:1        cost   155, benefit      275.0, efficiency        1.8
  ! Inline function call at line 91:14                           cost   156, benefit      137.5, efficiency        0.9
  ! Inline function call at line 93:14                           cost   156, benefit      137.5, efficiency        0.9

Pass 4: speed optimization selection (cost limit 22):
  ! Inline function 'start_reactor' defined at line 140:1        cost   155, benefit      275.0, efficiency        1.8
  ! Inline function call at line 91:14                           cost   156, benefit      137.5, efficiency        0.9
  ! Inline function call at line 93:14                           cost   156, benefit      137.5, efficiency        0.9

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-20 instructions):
 
    71 print "\n"
    72 set *tmp8 true
    73 jump *label11 always
-    * set *tmp13 null
    74 jump *label13 always
    75 label *label12
-    * set *tmp13 null
    76 label *label13
    77 set *tmp8 false
    78 jump *label11 always
 
   131 setaddr :update_fuel.0*retaddr *label20
   132 call *label1 *invalid :update_fuel.0*retval
   133 label *label20
-    * set *tmp20 :update_fuel.0*retval
   134 set :start_reactor.0:reactor reactor2
   135 set :start_reactor.0:reactor_num 2
   136 set :start_reactor.0:emerg_shutdown :emerg_shutdown
 
   148 setaddr :update_fuel.0*retaddr *label22
   149 call *label1 *invalid :update_fuel.0*retval
   150 label *label22
-    * set *tmp22 :update_fuel.0*retval
   151 set :check_radar.0:unit .TOWER
   152 setaddr :check_radar.0*retaddr *label23
   153 call *label4 *invalid :check_radar.0*retval
 
   196 setaddr :update_fuel.0*retaddr *label27
   197 call *label1 *invalid :update_fuel.0*retval
   198 label *label27
-    * set *tmp29 :update_fuel.0*retval
   199 op or *tmp30 :fuel_1 :fuel_2
   200 op or *tmp31 *tmp30 :fuel_many
   201 set :throttle_blast.0:reactors_fueled *tmp31
 
   233 print "\n"
   234 set *tmp45 null
   235 label *label32
-    * set *tmp44 *tmp45
   236 jump *label30 always
   237 label *label29
   238 op equal *tmp46 :throttle_blast.0:reactors_fueled false
 
   259 print "n"
   260 set *tmp47 null
   261 label *label34
-    * set *tmp44 *tmp47
   262 label *label30
   263 op lessThan *tmp48 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   264 set *tmp32 *tmp48
 
   293 control enabled generator2 true
   294 set *tmp59 true
   295 label *label39
-    * set *tmp52 *tmp59
   296 label *label37
   297 set :kilo.0:val .AVG_SURPLUS
   298 setaddr :kilo.0*retaddr *label40
 
   323 print :surplus
   324 print "kW flow."
   325 print "\n"
-    * set *tmp68 null
   326 jump *label43 always
   327 label *label42
   328 print "Power "
 
   349 label *label48
   350 set *tmp80 null
   351 label *label49
-    * set *tmp78 *tmp80
   352 jump *label47 always
   353 label *label46
-    * set *tmp78 null
   354 label *label47
   355 op lessThan *tmp81 :update_reactors_desired.0:stored 0.8
   356 op mul *tmp82 .GOAL_BUFFER 0.8
 
   371 label *label51
   372 set *tmp70 *tmp85
   373 label *label45
-    * set *tmp68 *tmp70
   374 label *label43
   375 op notEqual *tmp91 .REACTORS_DESIRED 5
   376 jump *label52 equal *tmp91 false
 
   378 print .REACTORS_DESIRED
   379 print "/5 reactors."
   380 print "\n"
-    * set *tmp92 null
   381 jump *label53 always
   382 label *label52
-    * set *tmp92 null
   383 label *label53
   384 printflush message1
   385 label *label8
 
   428 jump *label61 equal *tmp107 false
   429 set :calc_charge_req.0*retval 0
   430 jump *label60 always
-    * set *tmp108 null
   431 jump *label62 always
   432 label *label61
-    * set *tmp108 null
   433 label *label62
   434 op sub *tmp109 30 :calc_charge_req.0:secs
   435 set :calc_charge_req.0:time_left *tmp109
 
   479 print "emergency mode"
   480 print "\n"
   481 set :start_reactor.0:supply_fuel false
-    * set *tmp128 :start_reactor.0:supply_fuel
   482 jump *label65 always
   483 label *label64
   484 jump *label66 equal :start_reactor.0:enabled false
 
   682 label *label84
   683 set *tmp131 *tmp178
   684 label *label67
-    * set *tmp128 *tmp131
   685 label *label65
   686 sensor *tmp201 :start_reactor.0:reactor @enabled
   687 op notEqual *tmp202 :start_reactor.0:enabled *tmp201
   688 jump *label95 equal *tmp202 false
   689 set *tmp204 @tick
   690 set .RET_T_STARTUP *tmp204
-    * set *tmp203 .RET_T_STARTUP
   691 jump *label96 always
   692 label *label95
-    * set *tmp203 null
   693 label *label96
   694 set :start_reactor.0*retval :start_reactor.0:supply_fuel
   695 jump *label63 always

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-12 instructions):
 
   226 jump *label31 equal :throttle_blast.0:emerg_shutdown false
   227 print " Enemies detected."
   228 print "\n"
-    * set *tmp45 null
   229 jump *label32 always
   230 label *label31
   231 print " Critical power."
   232 print "\n"
-    * set *tmp45 null
   233 label *label32
   234 jump *label30 always
   235 label *label29
 
   244 print " "
   245 print "(due to emergency)"
   246 print "\n"
-    * set *tmp47 null
   247 jump *label34 always
   248 label *label33
   249 set :throttle_blast.0:limit .FUEL_LIMIT
 
   254 print :throttle_blast.0:limit
   255 print "\"
   256 print "n"
-    * set *tmp47 null
   257 label *label34
   258 label *label30
   259 op lessThan *tmp48 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
 
   282 print "\n"
   283 control enabled generator1 false
   284 control enabled generator2 false
-    * set *tmp59 false
   285 jump *label39 always
   286 label *label38
   287 control enabled generator1 true
   288 control enabled generator2 true
-    * set *tmp59 true
   289 label *label39
   290 label *label37
   291 set :kilo.0:val .AVG_SURPLUS
 
   338 jump *label48 equal *tmp79 false
   339 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   340 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
-    * set *tmp80 .AVG_SURPLUS
   341 jump *label49 always
   342 label *label48
-    * set *tmp80 null
   343 label *label49
   344 jump *label47 always
   345 label *label46
 
   361 label *label50
   362 set *tmp85 null
   363 label *label51
-    * set *tmp70 *tmp85
   364 label *label45
   365 label *label43
   366 op notEqual *tmp91 .REACTORS_DESIRED 5
 
   404 set *tmp101 .FUEL_OFF
   405 label *label59
   406 control config *tmp98 *tmp101
-    * set :update_fuel.0*retval *tmp101
   407 label *label55
   408 return :update_fuel.0*retaddr
   409 end
 
   579 label *label71
   580 set *tmp133 *tmp140
   581 label *label69
-    * set *tmp131 *tmp133
   582 jump *label67 always
   583 label *label66
   584 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
 
   669 label *label86
   670 set *tmp178 *tmp181
   671 label *label84
-    * set *tmp131 *tmp178
   672 label *label67
   673 label *label65
   674 sensor *tmp201 :start_reactor.0:reactor @enabled

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-6 instructions):
 
   356 op add *tmp89 :update_reactors_desired.0:needed .REACTORS_DESIRED
   357 op min *tmp90 5 *tmp89
   358 set .REACTORS_DESIRED *tmp90
-    * set *tmp85 .REACTORS_DESIRED
   359 jump *label51 always
   360 label *label50
-    * set *tmp85 null
   361 label *label51
   362 label *label45
   363 label *label43
 
   476 control enabled *tmp134 false
   477 print "STOP unwanted"
   478 print "\n"
-    * set *tmp133 null
   479 jump *label69 always
   480 label *label68
   481 op greaterThan *tmp136 :start_reactor.0:reactor_num 1
 
   574 label *label73
   575 set *tmp140 *tmp144
   576 label *label71
-    * set *tmp133 *tmp140
   577 label *label69
   578 jump *label67 always
   579 label *label66
 
   593 print "IDLE"
   594 print "\n"
   595 set :start_reactor.0:supply_fuel false
-    * set *tmp178 :start_reactor.0:supply_fuel
   596 jump *label84 always
   597 label *label83
   598 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
 
   662 label *label88
   663 set *tmp181 *tmp190
   664 label *label86
-    * set *tmp178 *tmp181
   665 label *label84
   666 label *label67
   667 label *label65

Modifications by Initial phase, Dead Code Elimination, iteration 4 (-4 instructions):
 
   487 control enabled *tmp141 false
   488 print "STOP system fuel low"
   489 print "\n"
-    * set *tmp140 null
   490 jump *label71 always
   491 label *label70
   492 op lessThanEq *tmp143 :start_reactor.0:fuel 1
 
   571 label *label75
   572 set *tmp144 *tmp148
   573 label *label73
-    * set *tmp140 *tmp144
   574 label *label71
   575 label *label69
   576 jump *label67 always
 
   611 print "W)"
   612 print "\n"
   613 set :start_reactor.0:supply_fuel false
-    * set *tmp181 :start_reactor.0:supply_fuel
   614 jump *label86 always
   615 label *label85
   616 op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
 
   657 label *label92
   658 set *tmp190 *tmp196
   659 label *label88
-    * set *tmp181 *tmp190
   660 label *label86
   661 label *label84
   662 label *label67

Modifications by Initial phase, Dead Code Elimination, iteration 5 (-4 instructions):
 
   495 control enabled *tmp145 false
   496 print "STOP fuel low"
   497 print "\n"
-    * set *tmp144 null
   498 jump *label73 always
   499 label *label72
   500 op lessThanEq *tmp147 :start_reactor.0:cryo .CRYO_ABORT
 
   568 label *label77
   569 set *tmp148 *tmp152
   570 label *label75
-    * set *tmp144 *tmp148
   571 label *label73
   572 label *label71
   573 label *label69
 
   626 print "\n"
   627 set *tmp193 null
   628 label *label90
-    * set *tmp190 *tmp193
   629 jump *label88 always
   630 label *label87
   631 op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
 
   652 label *label94
   653 set *tmp196 *tmp198
   654 label *label92
-    * set *tmp190 *tmp196
   655 label *label88
   656 label *label86
   657 label *label84

Modifications by Initial phase, Dead Code Elimination, iteration 6 (-6 instructions):
 
   503 control enabled *tmp149 false
   504 print "STOP out of cryo"
   505 print "\n"
-    * set *tmp148 null
   506 jump *label75 always
   507 label *label74
   508 op lessThan *tmp151 :start_reactor.0:secs 30
 
   565 label *label82
   566 set *tmp152 *tmp164
   567 label *label77
-    * set *tmp148 *tmp152
   568 label *label75
   569 label *label73
   570 label *label71
 
   617 jump *label89 equal *tmp192 false
   618 print "WAIT fuel"
   619 print "\n"
-    * set *tmp193 null
   620 jump *label90 always
   621 label *label89
   622 print "WAIT system fuel"
   623 print "\n"
-    * set *tmp193 null
   624 label *label90
   625 jump *label88 always
   626 label *label87
 
   629 jump *label91 equal *tmp195 false
   630 print "WAIT buffer fuel"
   631 print "\n"
-    * set *tmp196 null
   632 jump *label92 always
   633 label *label91
   634 op lessThan *tmp197 :start_reactor.0:cryo :start_reactor.0:cryo_req
 
   645 control enabled *tmp199 true
   646 set *tmp198 true
   647 label *label94
-    * set *tmp196 *tmp198
   648 label *label92
   649 label *label88
   650 label *label86

Modifications by Initial phase, Dead Code Elimination, iteration 7 (-4 instructions):
 
   537 print "\n"
   538 set *tmp157 null
   539 label *label80
-    * set *tmp152 *tmp157
   540 jump *label77 always
   541 label *label76
   542 op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
 
   562 print "\n"
   563 set *tmp164 null
   564 label *label82
-    * set *tmp152 *tmp164
   565 label *label77
   566 label *label75
   567 label *label73
 
   633 jump *label93 equal *tmp197 false
   634 print "WAIT cryo"
   635 print "\n"
-    * set *tmp198 null
   636 jump *label94 always
   637 label *label93
   638 print "STARTUP"
 
   640 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
   641 set *tmp199 :start_reactor.0:reactor
   642 control enabled *tmp199 true
-    * set *tmp198 true
   643 label *label94
   644 label *label92
   645 label *label88

Modifications by Initial phase, Dead Code Elimination, iteration 8 (-4 instructions):
 
   523 print "START FAIL battery"
   524 print "\n"
   525 set :start_reactor.0:supply_fuel false
-    * set *tmp157 :start_reactor.0:supply_fuel
   526 jump *label80 always
   527 label *label79
   528 op sub *tmp160 30 :start_reactor.0:secs
 
   534 print :start_reactor.0:charge_req
   535 print "J"
   536 print "\n"
-    * set *tmp157 null
   537 label *label80
   538 jump *label77 always
   539 label *label76
 
   546 print "ABANDON - battery crit"
   547 print "\n"
   548 set :start_reactor.0:supply_fuel false
-    * set *tmp164 :start_reactor.0:supply_fuel
   549 jump *label82 always
   550 label *label81
   551 op idiv *tmp167 :start_reactor.0:secs 6
 
   557 print " "
   558 print "mins"
   559 print "\n"
-    * set *tmp164 null
   560 label *label82
   561 label *label77
   562 label *label75

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-65 instructions):
 
    25 sensor *tmp0 node1 @powerNetIn
    26 sensor *tmp1 node1 @powerNetOut
    27 op sub *tmp2 *tmp0 *tmp1
-    * op floor *tmp3 *tmp2
-    * set :surplus *tmp3
+   28 op floor :surplus *tmp2
    29 op greaterThan *tmp4 :surplus 10000
    30 jump *label5 equal *tmp4 false
-    * op sub *tmp6 @tick 3600
-    * set *tmp5 *tmp6
+   31 op sub *tmp5 @tick 3600
    32 jump *label6 always
    33 label *label5
    34 set *tmp5 @tick
 
    58 setaddr :check_radar.0*retaddr *label10
    59 call *label4 *invalid :check_radar.0*retval
    60 label *label10
-    * set *tmp7 :check_radar.0*retval
-    * set :emerg_shutdown *tmp7
+   61 set :emerg_shutdown :check_radar.0*retval
    62 op notEqual *tmp9 switch1 null
    63 sensor *tmp10 switch1 @enabled
    64 op equal *tmp11 *tmp10 false
 
    81 setaddr :calc_charge_req.0*retaddr *label14
    82 call *label2 *invalid :calc_charge_req.0*retval
    83 label *label14
-    * set *tmp14 :calc_charge_req.0*retval
-    * set .START_POWER_REQ *tmp14
+   84 set .START_POWER_REQ :calc_charge_req.0*retval
    85 set :calc_charge_req.0:reactor reactor2
    86 set :calc_charge_req.0:time :t_startup2
    87 setaddr :calc_charge_req.0*retaddr *label15
    88 call *label2 *invalid :calc_charge_req.0*retval
    89 label *label15
-    * set *tmp15 :calc_charge_req.0*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp15
+   90 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
    91 set :calc_charge_req.0:reactor reactor3
    92 set :calc_charge_req.0:time :t_startup3
    93 setaddr :calc_charge_req.0*retaddr *label16
    94 call *label2 *invalid :calc_charge_req.0*retval
    95 label *label16
-    * set *tmp16 :calc_charge_req.0*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp16
+   96 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
    97 set :calc_charge_req.0:reactor reactor4
    98 set :calc_charge_req.0:time :t_startup4
    99 setaddr :calc_charge_req.0*retaddr *label17
   100 call *label2 *invalid :calc_charge_req.0*retval
   101 label *label17
-    * set *tmp17 :calc_charge_req.0*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp17
+  102 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   103 set :calc_charge_req.0:reactor reactor5
   104 set :calc_charge_req.0:time :t_startup5
   105 setaddr :calc_charge_req.0*retaddr *label18
   106 call *label2 *invalid :calc_charge_req.0*retval
   107 label *label18
-    * set *tmp18 :calc_charge_req.0*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp18
+  108 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   109 set :start_reactor.0:reactor reactor1
   110 set :start_reactor.0:reactor_num 1
   111 set :start_reactor.0:emerg_shutdown :emerg_shutdown
 
   114 setaddr :start_reactor.0*retaddr *label19
   115 call *label3 *invalid :start_reactor.0*retval
   116 label *label19
-    * set *tmp19 :start_reactor.0*retval
-    * set :fuel_1 *tmp19
+  117 set :fuel_1 :start_reactor.0*retval
   118 set :t_startup1 .RET_T_STARTUP
   119 set :update_fuel.0:fuel :fuel_1
   120 set :update_fuel.0:uld_in .ULD_IN_1
 
   130 setaddr :start_reactor.0*retaddr *label21
   131 call *label3 *invalid :start_reactor.0*retval
   132 label *label21
-    * set *tmp21 :start_reactor.0*retval
-    * set :fuel_2 *tmp21
+  133 set :fuel_2 :start_reactor.0*retval
   134 set :t_startup2 .RET_T_STARTUP
   135 set :update_fuel.0:fuel :fuel_2
   136 set :update_fuel.0:uld_in .ULD_IN_2
 
   142 setaddr :check_radar.0*retaddr *label23
   143 call *label4 *invalid :check_radar.0*retval
   144 label *label23
-    * set *tmp23 :check_radar.0*retval
-    * op or :emerg_shutdown :emerg_shutdown *tmp23
+  145 op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
   146 set :start_reactor.0:reactor reactor3
   147 set :start_reactor.0:reactor_num 3
   148 set :start_reactor.0:emerg_shutdown :emerg_shutdown
 
   151 setaddr :start_reactor.0*retaddr *label24
   152 call *label3 *invalid :start_reactor.0*retval
   153 label *label24
-    * set *tmp24 :start_reactor.0*retval
-    * set :fuel_3 *tmp24
+  154 set :fuel_3 :start_reactor.0*retval
   155 set :t_startup3 .RET_T_STARTUP
   156 set :start_reactor.0:reactor reactor4
   157 set :start_reactor.0:reactor_num 4
 
   161 setaddr :start_reactor.0*retaddr *label25
   162 call *label3 *invalid :start_reactor.0*retval
   163 label *label25
-    * set *tmp25 :start_reactor.0*retval
-    * set :fuel_4 *tmp25
+  164 set :fuel_4 :start_reactor.0*retval
   165 set :t_startup4 .RET_T_STARTUP
   166 set :start_reactor.0:reactor reactor5
   167 set :start_reactor.0:reactor_num 5
 
   171 setaddr :start_reactor.0*retaddr *label26
   172 call *label3 *invalid :start_reactor.0*retval
   173 label *label26
-    * set *tmp26 :start_reactor.0*retval
-    * set :fuel_5 *tmp26
+  174 set :fuel_5 :start_reactor.0*retval
   175 set :t_startup5 .RET_T_STARTUP
   176 op or *tmp27 :fuel_3 :fuel_4
-    * op or *tmp28 *tmp27 :fuel_5
-    * set :fuel_many *tmp28
+  177 op or :fuel_many *tmp27 :fuel_5
   178 set :update_fuel.0:fuel :fuel_many
   179 set :update_fuel.0:uld_in .ULD_IN_MANY
   180 set :update_fuel.0:uld_out .ULD_OUT_MANY
 
   182 call *label1 *invalid :update_fuel.0*retval
   183 label *label27
   184 op or *tmp30 :fuel_1 :fuel_2
-    * op or *tmp31 *tmp30 :fuel_many
-    * set :throttle_blast.0:reactors_fueled *tmp31
+  185 op or :throttle_blast.0:reactors_fueled *tmp30 :fuel_many
   186 set :throttle_blast.0:emerg_shutdown :emerg_shutdown
   187 sensor *tmp33 .NODE @powerNetStored
-    * op floor *tmp34 *tmp33
-    * set :throttle_blast.0:charge *tmp34
+  188 op floor :throttle_blast.0:charge *tmp33
   189 sensor *tmp35 .NODE @powerNetIn
   190 sensor *tmp36 .NODE @powerNetOut
   191 op sub *tmp37 *tmp35 *tmp36
-    * op floor *tmp38 *tmp37
-    * set :throttle_blast.0:surplus *tmp38
-    * sensor *tmp39 .CONTAINER @blast-compound
-    * set :throttle_blast.0:fuel_stored *tmp39
+  192 op floor :throttle_blast.0:surplus *tmp37
+  193 sensor :throttle_blast.0:fuel_stored .CONTAINER @blast-compound
   194 op lessThan *tmp40 :throttle_blast.0:charge .PWR_ABORT
   195 op lessThan *tmp41 :throttle_blast.0:surplus .FLOW_ABORT
   196 op land *tmp42 *tmp40 *tmp41
 
   237 print "n"
   238 label *label34
   239 label *label30
-    * op lessThan *tmp48 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
-    * set *tmp32 *tmp48
+  240 op lessThan *tmp32 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   241 jump *label28 always
   242 set *tmp32 null
   243 label *label28
 
   252 control config *tmp49 *tmp51
   253 sensor *tmp53 .NODE @powerNetStored
   254 sensor *tmp54 .NODE @powerNetCapacity
-    * op div *tmp55 *tmp53 *tmp54
-    * set :diff_generators.0:stored_pc *tmp55
+  255 op div :diff_generators.0:stored_pc *tmp53 *tmp54
   256 op greaterThan *tmp56 :diff_generators.0:stored_pc 0.9
   257 op lessThan *tmp57 .START_POWER_REQ 10
   258 op land *tmp58 *tmp56 *tmp57
 
   271 setaddr :kilo.0*retaddr *label40
   272 call *label0 *invalid :kilo.0*retval
   273 label *label40
-    * set *tmp64 :kilo.0*retval
-    * set :surplus *tmp64
-    * sensor *tmp65 .NODE @powerNetStored
-    * set :kilo.0:val *tmp65
+  274 set :surplus :kilo.0*retval
+  275 sensor :kilo.0:val .NODE @powerNetStored
   276 setaddr :kilo.0*retaddr *label41
   277 call *label0 *invalid :kilo.0*retval
   278 label *label41
-    * set *tmp66 :kilo.0*retval
-    * set :charge *tmp66
+  279 set :charge :kilo.0*retval
   280 op greaterThan *tmp67 .START_POWER_REQ 0
   281 jump *label42 equal *tmp67 false
   282 set :kilo.0:val .START_POWER_REQ
   283 setaddr :kilo.0*retaddr *label44
   284 call *label0 *invalid :kilo.0*retval
   285 label *label44
-    * set *tmp69 :kilo.0*retval
-    * set :req *tmp69
+  286 set :req :kilo.0*retval
   287 print "Req "
   288 print :req
   289 print "kJ / "
 
   302 print "\n"
   303 sensor *tmp71 .NODE @powerNetStored
   304 sensor *tmp72 .NODE @powerNetCapacity
-    * op div *tmp73 *tmp71 *tmp72
-    * set :update_reactors_desired.0:stored *tmp73
+  305 op div :update_reactors_desired.0:stored *tmp71 *tmp72
   306 op greaterThan *tmp74 :update_reactors_desired.0:stored 0.98
   307 op add *tmp75 .GENERATOR_OUTPUT .GOAL_BUFFER
   308 op greaterThan *tmp76 .AVG_SURPLUS *tmp75
 
   325 jump *label50 equal *tmp84 false
   326 op sub *tmp86 .AVG_SURPLUS .GOAL_BUFFER
   327 op idiv *tmp87 *tmp86 .GENERATOR_OUTPUT
-    * op max *tmp88 1 *tmp87
-    * set :update_reactors_desired.0:needed *tmp88
+  328 op max :update_reactors_desired.0:needed 1 *tmp87
   329 op add *tmp89 :update_reactors_desired.0:needed .REACTORS_DESIRED
-    * op min *tmp90 5 *tmp89
-    * set .REACTORS_DESIRED *tmp90
+  330 op min .REACTORS_DESIRED 5 *tmp89
   331 jump *label51 always
   332 label *label50
   333 label *label51
 
   349 end
   350 label *label0
   351 op idiv *tmp93 :kilo.0:val 100
-    * op div *tmp94 *tmp93 10
-    * set :kilo.0*retval *tmp94
+  352 op div :kilo.0*retval *tmp93 10
   353 jump *label54 always
   354 set :kilo.0*retval null
   355 label *label54
 
   378 end
   379 label *label2
   380 op sub *tmp102 @tick :calc_charge_req.0:time
-    * op idiv *tmp103 *tmp102 60
-    * set :calc_charge_req.0:secs *tmp103
+  381 op idiv :calc_charge_req.0:secs *tmp102 60
   382 op greaterThan *tmp104 :calc_charge_req.0:secs 30
   383 sensor *tmp105 :calc_charge_req.0:reactor @enabled
   384 op equal *tmp106 *tmp105 false
 
   389 jump *label62 always
   390 label *label61
   391 label *label62
-    * op sub *tmp109 30 :calc_charge_req.0:secs
-    * set :calc_charge_req.0:time_left *tmp109
+  392 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
   393 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
   394 op mul *tmp111 *tmp110 25
-    * op floor *tmp112 *tmp111
-    * set :calc_charge_req.0:charge_req *tmp112
+  395 op floor :calc_charge_req.0:charge_req *tmp111
   396 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
   397 jump *label60 always
   398 set :calc_charge_req.0*retval null
 
   402 label *label3
   403 set .RET_T_STARTUP :start_reactor.0:t_startup
   404 op sub *tmp113 @tick :start_reactor.0:t_startup
-    * op idiv *tmp114 *tmp113 60
-    * set :start_reactor.0:secs *tmp114
-    * sensor *tmp115 :start_reactor.0:reactor @blast-compound
-    * set :start_reactor.0:fuel *tmp115
+  405 op idiv :start_reactor.0:secs *tmp113 60
+  406 sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
   407 set :start_reactor.0:supply_fuel true
-    * sensor *tmp116 .CONTAINER @blast-compound
-    * set :start_reactor.0:fuel_stored *tmp116
-    * sensor *tmp117 :start_reactor.0:reactor @cryofluid
-    * set :start_reactor.0:cryo *tmp117
+  408 sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
+  409 sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
   410 sensor *tmp118 .NODE @powerNetStored
-    * op floor *tmp119 *tmp118
-    * set :start_reactor.0:charge *tmp119
+  411 op floor :start_reactor.0:charge *tmp118
   412 sensor *tmp120 .NODE @powerNetIn
   413 sensor *tmp121 .NODE @powerNetOut
   414 op sub *tmp122 *tmp120 *tmp121
-    * op floor *tmp123 *tmp122
-    * set :start_reactor.0:surplus *tmp123
+  415 op floor :start_reactor.0:surplus *tmp122
   416 op mul *tmp124 .AVG_SURPLUS 0.8
   417 op mul *tmp125 :start_reactor.0:surplus 0.2
-    * op add *tmp126 *tmp124 *tmp125
-    * set .AVG_SURPLUS *tmp126
-    * sensor *tmp127 :start_reactor.0:reactor @enabled
-    * set :start_reactor.0:enabled *tmp127
+  418 op add .AVG_SURPLUS *tmp124 *tmp125
+  419 sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
   420 print "#"
   421 print :start_reactor.0:reactor_num
   422 print " "
   423 print "- "
   424 jump *label64 equal :start_reactor.0:emerg_shutdown false
-    * set *tmp129 :start_reactor.0:reactor
-    * control enabled *tmp129 false
+  425 control enabled :start_reactor.0:reactor false
   426 print "emergency mode"
   427 print "\n"
   428 set :start_reactor.0:supply_fuel false
 
   431 jump *label66 equal :start_reactor.0:enabled false
   432 op lessThan *tmp132 .REACTORS_DESIRED :start_reactor.0:reactor_num
   433 jump *label68 equal *tmp132 false
-    * set *tmp134 :start_reactor.0:reactor
-    * control enabled *tmp134 false
+  434 control enabled :start_reactor.0:reactor false
   435 print "STOP unwanted"
   436 print "\n"
   437 jump *label69 always
 
   441 op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
   442 op land *tmp139 *tmp136 *tmp138
   443 jump *label70 equal *tmp139 false
-    * set *tmp141 :start_reactor.0:reactor
-    * control enabled *tmp141 false
+  444 control enabled :start_reactor.0:reactor false
   445 print "STOP system fuel low"
   446 print "\n"
   447 jump *label71 always
   448 label *label70
   449 op lessThanEq *tmp143 :start_reactor.0:fuel 1
   450 jump *label72 equal *tmp143 false
-    * set *tmp145 :start_reactor.0:reactor
-    * control enabled *tmp145 false
+  451 control enabled :start_reactor.0:reactor false
   452 print "STOP fuel low"
   453 print "\n"
   454 jump *label73 always
   455 label *label72
   456 op lessThanEq *tmp147 :start_reactor.0:cryo .CRYO_ABORT
   457 jump *label74 equal *tmp147 false
-    * set *tmp149 :start_reactor.0:reactor
-    * control enabled *tmp149 false
+  458 control enabled :start_reactor.0:reactor false
   459 print "STOP out of cryo"
   460 print "\n"
   461 jump *label75 always
 
   473 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
   474 op land *tmp156 *tmp154 *tmp155
   475 jump *label79 equal *tmp156 false
-    * set *tmp158 :start_reactor.0:reactor
-    * control enabled *tmp158 false
+  476 control enabled :start_reactor.0:reactor false
   477 print "START FAIL battery"
   478 print "\n"
   479 set :start_reactor.0:supply_fuel false
   480 jump *label80 always
   481 label *label79
-    * op sub *tmp160 30 :start_reactor.0:secs
-    * set :start_reactor.0:time_left *tmp160
+  482 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
   483 print "Starting "
   484 print :start_reactor.0:time_left
   485 print " "
 
   494 op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
   495 op land *tmp163 *tmp161 *tmp162
   496 jump *label81 equal *tmp163 false
-    * set *tmp165 :start_reactor.0:reactor
-    * control enabled *tmp165 false
+  497 control enabled :start_reactor.0:reactor false
   498 print "ABANDON - battery crit"
   499 print "\n"
   500 set :start_reactor.0:supply_fuel false
   501 jump *label82 always
   502 label *label81
-    * op idiv *tmp167 :start_reactor.0:secs 6
-    * set :start_reactor.0:mins *tmp167
-    * op div *tmp168 :start_reactor.0:mins 10
-    * set :start_reactor.0:mins *tmp168
+  503 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
+  504 op div :start_reactor.0:mins :start_reactor.0:mins 10
   505 print "RUN "
   506 print :start_reactor.0:mins
   507 print " "
 
   518 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
   519 op sub *tmp170 *tmp169 .PWR_ABORT
   520 op div *tmp171 *tmp170 .PWR_REQ
-    * op mul *tmp172 *tmp171 .PWR_RESERVE
-    * set :start_reactor.0:charge_units *tmp172
+  521 op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
   522 op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
-    * op max *tmp174 -0.1 *tmp173
-    * set :start_reactor.0:flow_units *tmp174
+  523 op max :start_reactor.0:flow_units -0.1 *tmp173
   524 op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
-    * op add *tmp176 .CRYO_REQ *tmp175
-    * set :start_reactor.0:cryo_req *tmp176
+  525 op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
   526 op lessThan *tmp177 .REACTORS_DESIRED :start_reactor.0:reactor_num
   527 jump *label83 equal *tmp177 false
   528 print "IDLE"
 
   535 jump *label85 equal *tmp180 false
   536 op mul *tmp182 :start_reactor.0:flow_units 1000
   537 op floor *tmp183 *tmp182
-    * op div *tmp184 *tmp183 10
-    * set :start_reactor.0:flow *tmp184
+  538 op div :start_reactor.0:flow *tmp183 10
   539 op mul *tmp185 :start_reactor.0:charge_units 1000
   540 op floor *tmp186 *tmp185
-    * op div *tmp187 *tmp186 10
-    * set :start_reactor.0:charge *tmp187
+  541 op div :start_reactor.0:charge *tmp186 10
   542 print "WAIT power. (%"
   543 print :start_reactor.0:charge
   544 print "J + %"
 
   579 print "STARTUP"
   580 print "\n"
   581 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * set *tmp199 :start_reactor.0:reactor
-    * control enabled *tmp199 true
+  582 control enabled :start_reactor.0:reactor true
   583 label *label94
   584 label *label92
   585 label *label88
 
   590 sensor *tmp201 :start_reactor.0:reactor @enabled
   591 op notEqual *tmp202 :start_reactor.0:enabled *tmp201
   592 jump *label95 equal *tmp202 false
-    * set *tmp204 @tick
-    * set .RET_T_STARTUP *tmp204
+  593 set .RET_T_STARTUP @tick
   594 jump *label96 always
   595 label *label95
   596 label *label96
 
   601 return :start_reactor.0*retaddr
   602 end
   603 label *label4
-    * radar enemy any any health :check_radar.0:unit 1 *tmp205
-    * set :check_radar.0:enemy_found *tmp205
+  604 radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
   605 op notEqual *tmp206 :check_radar.0:enemy_found null
   606 jump *label98 equal *tmp206 false
   607 control enabled projector1 true
   608 control enabled projector2 true
-    * set *tmp210 .ULD_IN_1
-    * control config *tmp210 .FUEL_OFF
-    * set *tmp212 .ULD_OUT_1
-    * control config *tmp212 .FUEL
-    * set *tmp214 .ULD_IN_2
-    * control config *tmp214 .FUEL_OFF
-    * set *tmp216 .ULD_OUT_2
-    * control config *tmp216 .FUEL
-    * set *tmp218 .ULD_IN_MANY
-    * control config *tmp218 .FUEL_OFF
-    * set *tmp220 .ULD_OUT_MANY
-    * control config *tmp220 .FUEL
-    * set *tmp222 .ULD_MIXER
-    * control config *tmp222 .FUEL_OFF
+  609 control config .ULD_IN_1 .FUEL_OFF
+  610 control config .ULD_OUT_1 .FUEL
+  611 control config .ULD_IN_2 .FUEL_OFF
+  612 control config .ULD_OUT_2 .FUEL
+  613 control config .ULD_IN_MANY .FUEL_OFF
+  614 control config .ULD_OUT_MANY .FUEL
+  615 control config .ULD_MIXER .FUEL_OFF
   616 control enabled reactor1 false
   617 control enabled reactor2 false
   618 control enabled reactor3 false

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-1 instructions):
 
    43 set .REACTORS_DESIRED 5
    44 set .AVG_SURPLUS 500
    45 label *label7
-    * jump *label9 equal true false
    46 set .ULD_IN_1 unloader1
    47 set .ULD_OUT_1 unloader2
    48 set .ULD_IN_2 unloader3

Modifications by Iterated phase, Jump Optimization, pass 1, iteration 1 (-17 instructions):
 
    26 sensor *tmp1 node1 @powerNetOut
    27 op sub *tmp2 *tmp0 *tmp1
    28 op floor :surplus *tmp2
-    * op greaterThan *tmp4 :surplus 10000
-    * jump *label5 equal *tmp4 false
+   29 jump *label5 lessThanEq :surplus 10000
    30 op sub *tmp5 @tick 3600
    31 jump *label6 always
    32 label *label5
 
   212 label *label32
   213 jump *label30 always
   214 label *label29
-    * op equal *tmp46 :throttle_blast.0:reactors_fueled false
-    * jump *label33 equal *tmp46 false
+  215 jump *label33 notEqual :throttle_blast.0:reactors_fueled false
   216 set :throttle_blast.0:limit .FUEL_LIMIT_LOW
   217 print "Fuel "
   218 print :throttle_blast.0:fuel_stored
 
   274 call *label0 *invalid :kilo.0*retval
   275 label *label41
   276 set :charge :kilo.0*retval
-    * op greaterThan *tmp67 .START_POWER_REQ 0
-    * jump *label42 equal *tmp67 false
+  277 jump *label42 lessThanEq .START_POWER_REQ 0
   278 set :kilo.0:val .START_POWER_REQ
   279 setaddr :kilo.0*retaddr *label44
   280 call *label0 *invalid :kilo.0*retval
 
   304 op greaterThan *tmp76 .AVG_SURPLUS *tmp75
   305 op land *tmp77 *tmp74 *tmp76
   306 jump *label46 equal *tmp77 false
-    * op greaterThan *tmp79 .REACTORS_DESIRED 2
-    * jump *label48 equal *tmp79 false
+  307 jump *label48 lessThanEq .REACTORS_DESIRED 2
   308 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   309 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
   310 jump *label49 always
 
   328 label *label51
   329 label *label45
   330 label *label43
-    * op notEqual *tmp91 .REACTORS_DESIRED 5
-    * jump *label52 equal *tmp91 false
+  331 jump *label52 equal .REACTORS_DESIRED 5
   332 print "Require only "
   333 print .REACTORS_DESIRED
   334 print "/5 reactors."
 
   359 label *label57
   360 control config *tmp95 *tmp97
   361 set *tmp98 :update_fuel.0:uld_out
-    * op equal *tmp100 :update_fuel.0:fuel false
-    * jump *label58 equal *tmp100 false
+  362 jump *label58 notEqual :update_fuel.0:fuel false
   363 set *tmp101 .FUEL
   364 jump *label59 always
   365 label *label58
 
   422 jump *label65 always
   423 label *label64
   424 jump *label66 equal :start_reactor.0:enabled false
-    * op lessThan *tmp132 .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * jump *label68 equal *tmp132 false
+  425 jump *label68 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
   426 control enabled :start_reactor.0:reactor false
   427 print "STOP unwanted"
   428 print "\n"
 
   438 print "\n"
   439 jump *label71 always
   440 label *label70
-    * op lessThanEq *tmp143 :start_reactor.0:fuel 1
-    * jump *label72 equal *tmp143 false
+  441 jump *label72 greaterThan :start_reactor.0:fuel 1
   442 control enabled :start_reactor.0:reactor false
   443 print "STOP fuel low"
   444 print "\n"
   445 jump *label73 always
   446 label *label72
-    * op lessThanEq *tmp147 :start_reactor.0:cryo .CRYO_ABORT
-    * jump *label74 equal *tmp147 false
+  447 jump *label74 greaterThan :start_reactor.0:cryo .CRYO_ABORT
   448 control enabled :start_reactor.0:reactor false
   449 print "STOP out of cryo"
   450 print "\n"
   451 jump *label75 always
   452 label *label74
-    * op lessThan *tmp151 :start_reactor.0:secs 30
-    * jump *label76 equal *tmp151 false
+  453 jump *label76 greaterThanEq :start_reactor.0:secs 30
   454 set :calc_charge_req.0:reactor :start_reactor.0:reactor
   455 set :calc_charge_req.0:time :start_reactor.0:t_startup
   456 setaddr :calc_charge_req.0*retaddr *label78
 
   512 op max :start_reactor.0:flow_units -0.1 *tmp173
   513 op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
   514 op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
-    * op lessThan *tmp177 .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * jump *label83 equal *tmp177 false
+  515 jump *label83 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
   516 print "IDLE"
   517 print "\n"
   518 set :start_reactor.0:supply_fuel false
   519 jump *label84 always
   520 label *label83
   521 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
-    * op lessThan *tmp180 *tmp179 1
-    * jump *label85 equal *tmp180 false
+  522 jump *label85 greaterThanEq *tmp179 1
   523 op mul *tmp182 :start_reactor.0:flow_units 1000
   524 op floor *tmp183 *tmp182
   525 op div :start_reactor.0:flow *tmp183 10
 
   539 op land *tmp189 :start_reactor.0:fuel_on *tmp188
   540 jump *label87 equal *tmp189 false
   541 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
-    * op greaterThan *tmp192 *tmp191 .FUEL_REQ
-    * jump *label89 equal *tmp192 false
+  542 jump *label89 lessThanEq *tmp191 .FUEL_REQ
   543 print "WAIT fuel"
   544 print "\n"
   545 jump *label90 always
 
   550 jump *label88 always
   551 label *label87
   552 op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
-    * op lessThan *tmp195 :start_reactor.0:fuel_stored *tmp194
-    * jump *label91 equal *tmp195 false
+  553 jump *label91 greaterThanEq :start_reactor.0:fuel_stored *tmp194
   554 print "WAIT buffer fuel"
   555 print "\n"
   556 jump *label92 always
   557 label *label91
-    * op lessThan *tmp197 :start_reactor.0:cryo :start_reactor.0:cryo_req
-    * jump *label93 equal *tmp197 false
+  558 jump *label93 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
   559 print "WAIT cryo"
   560 print "\n"
   561 jump *label94 always
 
   572 label *label67
   573 label *label65
   574 sensor *tmp201 :start_reactor.0:reactor @enabled
-    * op notEqual *tmp202 :start_reactor.0:enabled *tmp201
-    * jump *label95 equal *tmp202 false
+  575 jump *label95 equal :start_reactor.0:enabled *tmp201
   576 set .RET_T_STARTUP @tick
   577 jump *label96 always
   578 label *label95
 
   585 end
   586 label *label4
   587 radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
-    * op notEqual *tmp206 :check_radar.0:enemy_found null
-    * jump *label98 equal *tmp206 false
+  588 jump *label98 equal :check_radar.0:enemy_found null
   589 control enabled projector1 true
   590 control enabled projector2 true
   591 control config .ULD_IN_1 .FUEL_OFF

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-7 instructions):
 
    66 print "\n"
    67 set *tmp8 true
    68 jump *label11 always
-    * jump *label13 always
    69 label *label12
    70 label *label13
    71 set *tmp8 false
 
   306 jump *label48 lessThanEq .REACTORS_DESIRED 2
   307 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   308 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
-    * jump *label49 always
   309 label *label48
   310 label *label49
-    * jump *label47 always
   311 label *label46
   312 label *label47
   313 op lessThan *tmp81 :update_reactors_desired.0:stored 0.8
 
   320 op max :update_reactors_desired.0:needed 1 *tmp87
   321 op add *tmp89 :update_reactors_desired.0:needed .REACTORS_DESIRED
   322 op min .REACTORS_DESIRED 5 *tmp89
-    * jump *label51 always
   323 label *label50
   324 label *label51
   325 label *label45
 
   329 print .REACTORS_DESIRED
   330 print "/5 reactors."
   331 print "\n"
-    * jump *label53 always
   332 label *label52
   333 label *label53
   334 printflush message1
 
   374 jump *label61 equal *tmp107 false
   375 set :calc_charge_req.0*retval 0
   376 jump *label60 always
-    * jump *label62 always
   377 label *label61
   378 label *label62
   379 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
 
   568 sensor *tmp201 :start_reactor.0:reactor @enabled
   569 jump *label95 equal :start_reactor.0:enabled *tmp201
   570 set .RET_T_STARTUP @tick
-    * jump *label96 always
   571 label *label95
   572 label *label96
   573 set :start_reactor.0*retval :start_reactor.0:supply_fuel

Modifications by Iterated phase, Expression Optimization, pass 1, iteration 1 (-3 instructions):
 
   378 label *label62
   379 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
   380 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
-    * op mul *tmp111 *tmp110 25
-    * op floor :calc_charge_req.0:charge_req *tmp111
+  381 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
   382 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
   383 jump *label60 always
   384 set :calc_charge_req.0*retval null
 
   513 label *label83
   514 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
   515 jump *label85 greaterThanEq *tmp179 1
-    * op mul *tmp182 :start_reactor.0:flow_units 1000
-    * op floor *tmp183 *tmp182
+  516 op idiv *tmp183 :start_reactor.0:flow_units 0.001
   517 op div :start_reactor.0:flow *tmp183 10
-    * op mul *tmp185 :start_reactor.0:charge_units 1000
-    * op floor *tmp186 *tmp185
+  518 op idiv *tmp186 :start_reactor.0:charge_units 0.001
   519 op div :start_reactor.0:charge *tmp186 10
   520 print "WAIT power. (%"
   521 print :start_reactor.0:charge

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-7 instructions):
 
    33 set *tmp5 @tick
    34 label *label6
    35 set :start_time *tmp5
-    * set :t_startup1 :start_time
-    * set :t_startup2 :start_time
-    * set :t_startup3 :start_time
-    * set :t_startup4 :start_time
-    * set :t_startup5 :start_time
-    * set .RET_T_STARTUP :t_startup1
+   36 set :t_startup1 *tmp5
+   37 set :t_startup2 *tmp5
+   38 set :t_startup3 *tmp5
+   39 set :t_startup4 *tmp5
+   40 set :t_startup5 *tmp5
+   41 set .RET_T_STARTUP :start_time
    42 set .REACTORS_DESIRED 5
    43 set .AVG_SURPLUS 500
    44 label *label7
 
    52 set .TOWER cyclone1
    53 set .CONTAINER vault1
    54 set .NODE node1
-    * set :check_radar.0:unit .TOWER
+   55 set :check_radar.0:unit cyclone1
    56 setaddr :check_radar.0*retaddr *label10
    57 call *label4 *invalid :check_radar.0*retval
    58 label *label10
 
    70 label *label13
    71 set *tmp8 false
    72 jump *label11 always
-    * set *tmp8 null
    73 label *label11
-    * op or :emerg_shutdown :emerg_shutdown *tmp8
+   74 op or :emerg_shutdown :check_radar.0*retval *tmp8
    75 set :calc_charge_req.0:reactor reactor1
    76 set :calc_charge_req.0:time :t_startup1
    77 setaddr :calc_charge_req.0*retaddr *label14
 
   112 label *label19
   113 set :fuel_1 :start_reactor.0*retval
   114 set :t_startup1 .RET_T_STARTUP
-    * set :update_fuel.0:fuel :fuel_1
-    * set :update_fuel.0:uld_in .ULD_IN_1
-    * set :update_fuel.0:uld_out .ULD_OUT_1
+  115 set :update_fuel.0:fuel :start_reactor.0*retval
+  116 set :update_fuel.0:uld_in unloader1
+  117 set :update_fuel.0:uld_out unloader2
   118 setaddr :update_fuel.0*retaddr *label20
   119 call *label1 *invalid :update_fuel.0*retval
   120 label *label20
 
   128 label *label21
   129 set :fuel_2 :start_reactor.0*retval
   130 set :t_startup2 .RET_T_STARTUP
-    * set :update_fuel.0:fuel :fuel_2
-    * set :update_fuel.0:uld_in .ULD_IN_2
-    * set :update_fuel.0:uld_out .ULD_OUT_2
+  131 set :update_fuel.0:fuel :start_reactor.0*retval
+  132 set :update_fuel.0:uld_in unloader3
+  133 set :update_fuel.0:uld_out unloader4
   134 setaddr :update_fuel.0*retaddr *label22
   135 call *label1 *invalid :update_fuel.0*retval
   136 label *label22
-    * set :check_radar.0:unit .TOWER
+  137 set :check_radar.0:unit cyclone1
   138 setaddr :check_radar.0*retaddr *label23
   139 call *label4 *invalid :check_radar.0*retval
   140 label *label23
 
   170 set :fuel_5 :start_reactor.0*retval
   171 set :t_startup5 .RET_T_STARTUP
   172 op or *tmp27 :fuel_3 :fuel_4
-    * op or :fuel_many *tmp27 :fuel_5
+  173 op or :fuel_many *tmp27 :start_reactor.0*retval
   174 set :update_fuel.0:fuel :fuel_many
-    * set :update_fuel.0:uld_in .ULD_IN_MANY
-    * set :update_fuel.0:uld_out .ULD_OUT_MANY
+  175 set :update_fuel.0:uld_in unloader5
+  176 set :update_fuel.0:uld_out unloader6
   177 setaddr :update_fuel.0*retaddr *label27
   178 call *label1 *invalid :update_fuel.0*retval
   179 label *label27
   180 op or *tmp30 :fuel_1 :fuel_2
   181 op or :throttle_blast.0:reactors_fueled *tmp30 :fuel_many
   182 set :throttle_blast.0:emerg_shutdown :emerg_shutdown
-    * sensor *tmp33 .NODE @powerNetStored
+  183 sensor *tmp33 node1 @powerNetStored
   184 op floor :throttle_blast.0:charge *tmp33
-    * sensor *tmp35 .NODE @powerNetIn
-    * sensor *tmp36 .NODE @powerNetOut
+  185 sensor *tmp35 node1 @powerNetIn
+  186 sensor *tmp36 node1 @powerNetOut
   187 op sub *tmp37 *tmp35 *tmp36
   188 op floor :throttle_blast.0:surplus *tmp37
-    * sensor :throttle_blast.0:fuel_stored .CONTAINER @blast-compound
-    * op lessThan *tmp40 :throttle_blast.0:charge .PWR_ABORT
-    * op lessThan *tmp41 :throttle_blast.0:surplus .FLOW_ABORT
+  189 sensor :throttle_blast.0:fuel_stored vault1 @blast-compound
+  190 op lessThan *tmp40 :throttle_blast.0:charge 5000
+  191 op lessThan *tmp41 :throttle_blast.0:surplus -500
   192 op land *tmp42 *tmp40 *tmp41
-    * op or *tmp43 *tmp42 :throttle_blast.0:emerg_shutdown
+  193 op or *tmp43 *tmp42 :emerg_shutdown
   194 jump *label29 equal *tmp43 false
   195 set :throttle_blast.0:limit 0
   196 print "Central Fuel at "
   197 print :throttle_blast.0:fuel_stored
   198 print " "
   199 print "/ "
-    * print :throttle_blast.0:limit
+  200 print 0
   201 print " "
   202 print "- "
-    * jump *label31 equal :throttle_blast.0:emerg_shutdown false
+  203 jump *label31 equal :emerg_shutdown false
   204 print " Enemies detected."
   205 print "\n"
   206 jump *label32 always
 
   211 jump *label30 always
   212 label *label29
   213 jump *label33 notEqual :throttle_blast.0:reactors_fueled false
-    * set :throttle_blast.0:limit .FUEL_LIMIT_LOW
+  214 set :throttle_blast.0:limit 150
   215 print "Fuel "
   216 print :throttle_blast.0:fuel_stored
   217 print " "
   218 print "/ "
-    * print :throttle_blast.0:limit
+  219 print .FUEL_LIMIT_LOW
   220 print " "
   221 print "(due to emergency)"
   222 print "\n"
   223 jump *label34 always
   224 label *label33
-    * set :throttle_blast.0:limit .FUEL_LIMIT
+  225 set :throttle_blast.0:limit 800
   226 print "Fuel "
   227 print :throttle_blast.0:fuel_stored
   228 print " "
   229 print "/ "
-    * print :throttle_blast.0:limit
+  230 print .FUEL_LIMIT
   231 print "\"
   232 print "n"
   233 label *label34
   234 label *label30
   235 op lessThan *tmp32 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   236 jump *label28 always
-    * set *tmp32 null
   237 label *label28
   238 set :feed_mixers *tmp32
-    * set *tmp49 .ULD_MIXER
-    * jump *label35 equal :feed_mixers false
-    * set *tmp51 .MIXER_IN
+  239 set *tmp49 unloader7
+  240 jump *label35 equal *tmp32 false
+  241 set *tmp51 @pyratite
   242 jump *label36 always
   243 label *label35
-    * set *tmp51 .FUEL_OFF
+  244 set *tmp51 @scrap
   245 label *label36
-    * control config *tmp49 *tmp51
-    * sensor *tmp53 .NODE @powerNetStored
-    * sensor *tmp54 .NODE @powerNetCapacity
+  246 control config .ULD_MIXER *tmp51
+  247 sensor *tmp53 node1 @powerNetStored
+  248 sensor *tmp54 node1 @powerNetCapacity
   249 op div :diff_generators.0:stored_pc *tmp53 *tmp54
   250 op greaterThan *tmp56 :diff_generators.0:stored_pc 0.9
   251 op lessThan *tmp57 .START_POWER_REQ 10
 
   266 call *label0 *invalid :kilo.0*retval
   267 label *label40
   268 set :surplus :kilo.0*retval
-    * sensor :kilo.0:val .NODE @powerNetStored
+  269 sensor :kilo.0:val node1 @powerNetStored
   270 setaddr :kilo.0*retaddr *label41
   271 call *label0 *invalid :kilo.0*retval
   272 label *label41
 
   278 label *label44
   279 set :req :kilo.0*retval
   280 print "Req "
-    * print :req
+  281 print :kilo.0*retval
   282 print "kJ / "
   283 print :charge
   284 print "kJ. "
 
   290 print "Power "
   291 print :surplus
   292 print "kW, "
-    * print :charge
+  293 print :kilo.0*retval
   294 print "kJ"
   295 print "\n"
-    * sensor *tmp71 .NODE @powerNetStored
-    * sensor *tmp72 .NODE @powerNetCapacity
+  296 sensor *tmp71 node1 @powerNetStored
+  297 sensor *tmp72 node1 @powerNetCapacity
   298 op div :update_reactors_desired.0:stored *tmp71 *tmp72
   299 op greaterThan *tmp74 :update_reactors_desired.0:stored 0.98
-    * op add *tmp75 .GENERATOR_OUTPUT .GOAL_BUFFER
-    * op greaterThan *tmp76 .AVG_SURPLUS *tmp75
+  300 op add *tmp75 6500 10000
+  301 op greaterThan *tmp76 .AVG_SURPLUS 16500
   302 op land *tmp77 *tmp74 *tmp76
   303 jump *label46 equal *tmp77 false
   304 jump *label48 lessThanEq .REACTORS_DESIRED 2
   305 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
-    * op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
+  306 op sub .AVG_SURPLUS .AVG_SURPLUS 6500
   307 label *label48
   308 label *label49
   309 label *label46
   310 label *label47
   311 op lessThan *tmp81 :update_reactors_desired.0:stored 0.8
-    * op mul *tmp82 .GOAL_BUFFER 0.8
-    * op lessThan *tmp83 .AVG_SURPLUS *tmp82
+  312 op mul *tmp82 10000 0.8
+  313 op lessThan *tmp83 .AVG_SURPLUS 8000
   314 op land *tmp84 *tmp81 *tmp83
   315 jump *label50 equal *tmp84 false
-    * op sub *tmp86 .AVG_SURPLUS .GOAL_BUFFER
-    * op idiv *tmp87 *tmp86 .GENERATOR_OUTPUT
+  316 op sub *tmp86 .AVG_SURPLUS 10000
+  317 op idiv *tmp87 *tmp86 6500
   318 op max :update_reactors_desired.0:needed 1 *tmp87
   319 op add *tmp89 :update_reactors_desired.0:needed .REACTORS_DESIRED
   320 op min .REACTORS_DESIRED 5 *tmp89
 
   338 op idiv *tmp93 :kilo.0:val 100
   339 op div :kilo.0*retval *tmp93 10
   340 jump *label54 always
-    * set :kilo.0*retval null
   341 label *label54
   342 return :kilo.0*retaddr
   343 end
 
   349 label *label56
   350 set *tmp97 .FUEL_OFF
   351 label *label57
-    * control config *tmp95 *tmp97
+  352 control config :update_fuel.0:uld_in *tmp97
   353 set *tmp98 :update_fuel.0:uld_out
   354 jump *label58 notEqual :update_fuel.0:fuel false
   355 set *tmp101 .FUEL
 
   357 label *label58
   358 set *tmp101 .FUEL_OFF
   359 label *label59
-    * control config *tmp98 *tmp101
+  360 control config :update_fuel.0:uld_out *tmp101
   361 label *label55
   362 return :update_fuel.0*retaddr
   363 end
 
   378 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
   379 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
   380 jump *label60 always
-    * set :calc_charge_req.0*retval null
   381 label *label60
   382 return :calc_charge_req.0*retaddr
   383 end
 
   446 call *label2 *invalid :calc_charge_req.0*retval
   447 label *label78
   448 set :start_reactor.0:charge_req :calc_charge_req.0*retval
-    * op sub *tmp153 :start_reactor.0:charge :start_reactor.0:charge_req
+  449 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
   450 op lessThan *tmp154 *tmp153 .PWR_ABORT
   451 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
   452 op land *tmp156 *tmp154 *tmp155
 
   462 print :start_reactor.0:time_left
   463 print " "
   464 print "secs, req "
-    * print :start_reactor.0:charge_req
+  465 print :calc_charge_req.0*retval
   466 print "J"
   467 print "\n"
   468 label *label80
 
   565 label *label96
   566 set :start_reactor.0*retval :start_reactor.0:supply_fuel
   567 jump *label63 always
-    * set :start_reactor.0*retval null
   568 label *label63
   569 return :start_reactor.0*retaddr
   570 end
 
   587 control enabled reactor5 false
   588 set :check_radar.0*retval true
   589 jump *label97 always
-    * set *tmp207 null
   590 jump *label99 always
   591 label *label98
   592 control enabled projector1 false
   593 control enabled projector2 false
   594 set :check_radar.0*retval false
   595 jump *label97 always
-    * set *tmp207 null
   596 label *label99
-    * set :check_radar.0*retval *tmp207
+  597 set :check_radar.0*retval null
   598 label *label97
   599 return :check_radar.0*retaddr
   600 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-15 instructions):
     0 printflush message1
     1 set .FUEL @blast-compound
     2 set .FUEL_OFF @scrap
-    * set .MIXER_IN @pyratite
     3 set .PWR_REQ 23000
     4 set .FLOW_REQ 2000
     5 set .PWR_ABANDON 2000
 
    11 set .FUEL_LIMIT_LOW 150
    12 set .FUEL_LIMIT 800
    13 set .FUEL_TOT_ABORT 15
-    * set .GENERATOR_OUTPUT 6500
-    * set .GOAL_BUFFER 10000
    14 set .CRYO_REQ 3
    15 set .CRYO_REQ_EA 2
    16 set .CRYO_ABORT 1
 
    35 set :t_startup3 *tmp5
    36 set :t_startup4 *tmp5
    37 set :t_startup5 *tmp5
-    * set .RET_T_STARTUP :start_time
+   38 set .RET_T_STARTUP *tmp5
    39 set .REACTORS_DESIRED 5
    40 set .AVG_SURPLUS 500
    41 label *label7
 
    46 set .ULD_IN_MANY unloader5
    47 set .ULD_OUT_MANY unloader6
    48 set .ULD_MIXER unloader7
-    * set .TOWER cyclone1
    49 set .CONTAINER vault1
    50 set .NODE node1
    51 set :check_radar.0:unit cyclone1
    52 setaddr :check_radar.0*retaddr *label10
    53 call *label4 *invalid :check_radar.0*retval
    54 label *label10
-    * set :emerg_shutdown :check_radar.0*retval
    55 op notEqual *tmp9 switch1 null
    56 sensor *tmp10 switch1 @enabled
    57 op equal *tmp11 *tmp10 false
 
   174 label *label27
   175 op or *tmp30 :fuel_1 :fuel_2
   176 op or :throttle_blast.0:reactors_fueled *tmp30 :fuel_many
-    * set :throttle_blast.0:emerg_shutdown :emerg_shutdown
   177 sensor *tmp33 node1 @powerNetStored
   178 op floor :throttle_blast.0:charge *tmp33
   179 sensor *tmp35 node1 @powerNetIn
 
   210 print :throttle_blast.0:fuel_stored
   211 print " "
   212 print "/ "
-    * print .FUEL_LIMIT_LOW
+  213 print 150
   214 print " "
   215 print "(due to emergency)"
   216 print "\n"
 
   221 print :throttle_blast.0:fuel_stored
   222 print " "
   223 print "/ "
-    * print .FUEL_LIMIT
+  224 print 800
   225 print "\"
   226 print "n"
   227 label *label34
 
   229 op lessThan *tmp32 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   230 jump *label28 always
   231 label *label28
-    * set :feed_mixers *tmp32
-    * set *tmp49 unloader7
   232 jump *label35 equal *tmp32 false
   233 set *tmp51 @pyratite
   234 jump *label36 always
   235 label *label35
   236 set *tmp51 @scrap
   237 label *label36
-    * control config .ULD_MIXER *tmp51
+  238 control config unloader7 *tmp51
   239 sensor *tmp53 node1 @powerNetStored
   240 sensor *tmp54 node1 @powerNetCapacity
   241 op div :diff_generators.0:stored_pc *tmp53 *tmp54
 
   268 setaddr :kilo.0*retaddr *label44
   269 call *label0 *invalid :kilo.0*retval
   270 label *label44
-    * set :req :kilo.0*retval
   271 print "Req "
   272 print :kilo.0*retval
   273 print "kJ / "
 
   288 sensor *tmp72 node1 @powerNetCapacity
   289 op div :update_reactors_desired.0:stored *tmp71 *tmp72
   290 op greaterThan *tmp74 :update_reactors_desired.0:stored 0.98
-    * op add *tmp75 6500 10000
   291 op greaterThan *tmp76 .AVG_SURPLUS 16500
   292 op land *tmp77 *tmp74 *tmp76
   293 jump *label46 equal *tmp77 false
 
   299 label *label46
   300 label *label47
   301 op lessThan *tmp81 :update_reactors_desired.0:stored 0.8
-    * op mul *tmp82 10000 0.8
   302 op lessThan *tmp83 .AVG_SURPLUS 8000
   303 op land *tmp84 *tmp81 *tmp83
   304 jump *label50 equal *tmp84 false
 
   331 return :kilo.0*retaddr
   332 end
   333 label *label1
-    * set *tmp95 :update_fuel.0:uld_in
   334 jump *label56 equal :update_fuel.0:fuel false
   335 set *tmp97 .FUEL
   336 jump *label57 always
 
   338 set *tmp97 .FUEL_OFF
   339 label *label57
   340 control config :update_fuel.0:uld_in *tmp97
-    * set *tmp98 :update_fuel.0:uld_out
   341 jump *label58 notEqual :update_fuel.0:fuel false
   342 set *tmp101 .FUEL
   343 jump *label59 always
 
   432 setaddr :calc_charge_req.0*retaddr *label78
   433 call *label2 *invalid :calc_charge_req.0*retval
   434 label *label78
-    * set :start_reactor.0:charge_req :calc_charge_req.0*retval
   435 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
   436 op lessThan *tmp154 *tmp153 .PWR_ABORT
   437 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
 
   580 set :check_radar.0*retval false
   581 jump *label97 always
   582 label *label99
-    * set :check_radar.0*retval null
   583 label *label97
   584 return :check_radar.0*retaddr
   585 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-3 instructions):
 
     8 set .FLOW_ABORT -500
     9 set .FUEL_REQ 10
    10 set .FUEL_TOT_REQ 45
-    * set .FUEL_LIMIT_LOW 150
-    * set .FUEL_LIMIT 800
    11 set .FUEL_TOT_ABORT 15
    12 set .CRYO_REQ 3
    13 set .CRYO_REQ_EA 2
 
    27 label *label5
    28 set *tmp5 @tick
    29 label *label6
-    * set :start_time *tmp5
    30 set :t_startup1 *tmp5
    31 set :t_startup2 *tmp5
    32 set :t_startup3 *tmp5

Modifications by Iterated phase, If Expression Optimization, pass 1, iteration 1 (-3 instructions):
 
   227 jump *label28 always
   228 label *label28
   229 jump *label35 equal *tmp32 false
-    * set *tmp51 @pyratite
+  230 control config unloader7 @pyratite
   231 jump *label36 always
   232 label *label35
-    * set *tmp51 @scrap
+  233 control config unloader7 @scrap
   234 label *label36
-    * control config unloader7 *tmp51
   235 sensor *tmp53 node1 @powerNetStored
   236 sensor *tmp54 node1 @powerNetCapacity
   237 op div :diff_generators.0:stored_pc *tmp53 *tmp54
 
   328 end
   329 label *label1
   330 jump *label56 equal :update_fuel.0:fuel false
-    * set *tmp97 .FUEL
+  331 control config :update_fuel.0:uld_in .FUEL
   332 jump *label57 always
   333 label *label56
-    * set *tmp97 .FUEL_OFF
+  334 control config :update_fuel.0:uld_in .FUEL_OFF
   335 label *label57
-    * control config :update_fuel.0:uld_in *tmp97
   336 jump *label58 notEqual :update_fuel.0:fuel false
-    * set *tmp101 .FUEL
+  337 control config :update_fuel.0:uld_out .FUEL
   338 jump *label59 always
   339 label *label58
-    * set *tmp101 .FUEL_OFF
+  340 control config :update_fuel.0:uld_out .FUEL_OFF
   341 label *label59
-    * control config :update_fuel.0:uld_out *tmp101
   342 label *label55
   343 return :update_fuel.0*retaddr
   344 end

Modifications by Inline function 'kilo' defined at line 117:1 (+1 instructions):
 
   251 label *label37
   252 set :kilo.0:val .AVG_SURPLUS
   253 setaddr :kilo.0*retaddr *label40
-    * call *label0 *invalid :kilo.0*retval
-    * label *label40
+  254 label *label100
+  255 op idiv *tmp93 :kilo.0:val 100
+  256 op div :kilo.0*retval *tmp93 10
+  257 jump *label101 always
+  258 label *label101
   259 set :surplus :kilo.0*retval
   260 sensor :kilo.0:val node1 @powerNetStored
   261 setaddr :kilo.0*retaddr *label41
-    * call *label0 *invalid :kilo.0*retval
-    * label *label41
+  262 label *label102
+  263 op idiv *tmp93 :kilo.0:val 100
+  264 op div :kilo.0*retval *tmp93 10
+  265 jump *label103 always
+  266 label *label103
   267 set :charge :kilo.0*retval
   268 jump *label42 lessThanEq .START_POWER_REQ 0
   269 set :kilo.0:val .START_POWER_REQ
   270 setaddr :kilo.0*retaddr *label44
-    * call *label0 *invalid :kilo.0*retval
-    * label *label44
+  271 label *label104
+  272 op idiv *tmp93 :kilo.0:val 100
+  273 op div :kilo.0*retval *tmp93 10
+  274 jump *label105 always
+  275 label *label105
   276 print "Req "
   277 print :kilo.0*retval
   278 print "kJ / "
 
   328 jump *label7 always
   329 label *label9
   330 end
-    * label *label0
-    * op idiv *tmp93 :kilo.0:val 100
-    * op div :kilo.0*retval *tmp93 10
-    * jump *label54 always
-    * label *label54
-    * return :kilo.0*retaddr
-    * end
   331 label *label1
   332 jump *label56 equal :update_fuel.0:fuel false
   333 control config :update_fuel.0:uld_in .FUEL

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   252 set :kilo.0:val .AVG_SURPLUS
   253 setaddr :kilo.0*retaddr *label40
   254 label *label100
-    * op idiv *tmp93 :kilo.0:val 100
+  255 op idiv *tmp93 .AVG_SURPLUS 100
   256 op div :kilo.0*retval *tmp93 10
   257 jump *label101 always
   258 label *label101
 
   269 set :kilo.0:val .START_POWER_REQ
   270 setaddr :kilo.0*retaddr *label44
   271 label *label104
-    * op idiv *tmp93 :kilo.0:val 100
+  272 op idiv *tmp93 .START_POWER_REQ 100
   273 op div :kilo.0*retval *tmp93 10
   274 jump *label105 always
   275 label *label105

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-2 instructions):
 
   249 control enabled generator2 true
   250 label *label39
   251 label *label37
-    * set :kilo.0:val .AVG_SURPLUS
   252 setaddr :kilo.0*retaddr *label40
   253 label *label100
   254 op idiv *tmp93 .AVG_SURPLUS 100
 
   265 label *label103
   266 set :charge :kilo.0*retval
   267 jump *label42 lessThanEq .START_POWER_REQ 0
-    * set :kilo.0:val .START_POWER_REQ
   268 setaddr :kilo.0*retaddr *label44
   269 label *label104
   270 op idiv *tmp93 .START_POWER_REQ 100

Modifications by Inline function 'update_fuel' defined at line 121:1 (+11 instructions):
 
   108 set :update_fuel.0:uld_in unloader1
   109 set :update_fuel.0:uld_out unloader2
   110 setaddr :update_fuel.0*retaddr *label20
-    * call *label1 *invalid :update_fuel.0*retval
-    * label *label20
+  111 label *label106
+  112 jump *label107 equal :update_fuel.0:fuel false
+  113 control config :update_fuel.0:uld_in .FUEL
+  114 jump *label108 always
+  115 label *label107
+  116 control config :update_fuel.0:uld_in .FUEL_OFF
+  117 label *label108
+  118 jump *label109 notEqual :update_fuel.0:fuel false
+  119 control config :update_fuel.0:uld_out .FUEL
+  120 jump *label110 always
+  121 label *label109
+  122 control config :update_fuel.0:uld_out .FUEL_OFF
+  123 label *label110
+  124 label *label111
   125 set :start_reactor.0:reactor reactor2
   126 set :start_reactor.0:reactor_num 2
   127 set :start_reactor.0:emerg_shutdown :emerg_shutdown
 
   136 set :update_fuel.0:uld_in unloader3
   137 set :update_fuel.0:uld_out unloader4
   138 setaddr :update_fuel.0*retaddr *label22
-    * call *label1 *invalid :update_fuel.0*retval
-    * label *label22
+  139 label *label112
+  140 jump *label113 equal :update_fuel.0:fuel false
+  141 control config :update_fuel.0:uld_in .FUEL
+  142 jump *label114 always
+  143 label *label113
+  144 control config :update_fuel.0:uld_in .FUEL_OFF
+  145 label *label114
+  146 jump *label115 notEqual :update_fuel.0:fuel false
+  147 control config :update_fuel.0:uld_out .FUEL
+  148 jump *label116 always
+  149 label *label115
+  150 control config :update_fuel.0:uld_out .FUEL_OFF
+  151 label *label116
+  152 label *label117
   153 set :check_radar.0:unit cyclone1
   154 setaddr :check_radar.0*retaddr *label23
   155 call *label4 *invalid :check_radar.0*retval
 
   191 set :update_fuel.0:uld_in unloader5
   192 set :update_fuel.0:uld_out unloader6
   193 setaddr :update_fuel.0*retaddr *label27
-    * call *label1 *invalid :update_fuel.0*retval
-    * label *label27
+  194 label *label118
+  195 jump *label119 equal :update_fuel.0:fuel false
+  196 control config :update_fuel.0:uld_in .FUEL
+  197 jump *label120 always
+  198 label *label119
+  199 control config :update_fuel.0:uld_in .FUEL_OFF
+  200 label *label120
+  201 jump *label121 notEqual :update_fuel.0:fuel false
+  202 control config :update_fuel.0:uld_out .FUEL
+  203 jump *label122 always
+  204 label *label121
+  205 control config :update_fuel.0:uld_out .FUEL_OFF
+  206 label *label122
+  207 label *label123
   208 op or *tmp30 :fuel_1 :fuel_2
   209 op or :throttle_blast.0:reactors_fueled *tmp30 :fuel_many
   210 sensor *tmp33 node1 @powerNetStored
 
   362 jump *label7 always
   363 label *label9
   364 end
-    * label *label1
-    * jump *label56 equal :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_in .FUEL
-    * jump *label57 always
-    * label *label56
-    * control config :update_fuel.0:uld_in .FUEL_OFF
-    * label *label57
-    * jump *label58 notEqual :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_out .FUEL
-    * jump *label59 always
-    * label *label58
-    * control config :update_fuel.0:uld_out .FUEL_OFF
-    * label *label59
-    * label *label55
-    * return :update_fuel.0*retaddr
-    * end
   365 label *label2
   366 op sub *tmp102 @tick :calc_charge_req.0:time
   367 op idiv :calc_charge_req.0:secs *tmp102 60

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   109 set :update_fuel.0:uld_out unloader2
   110 setaddr :update_fuel.0*retaddr *label20
   111 label *label106
-    * jump *label107 equal :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_in .FUEL
+  112 jump *label107 equal :start_reactor.0*retval false
+  113 control config unloader1 @blast-compound
   114 jump *label108 always
   115 label *label107
-    * control config :update_fuel.0:uld_in .FUEL_OFF
+  116 control config unloader1 @scrap
   117 label *label108
-    * jump *label109 notEqual :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_out .FUEL
+  118 jump *label109 notEqual :start_reactor.0*retval false
+  119 control config unloader2 @blast-compound
   120 jump *label110 always
   121 label *label109
-    * control config :update_fuel.0:uld_out .FUEL_OFF
+  122 control config unloader2 @scrap
   123 label *label110
   124 label *label111
   125 set :start_reactor.0:reactor reactor2
 
   137 set :update_fuel.0:uld_out unloader4
   138 setaddr :update_fuel.0*retaddr *label22
   139 label *label112
-    * jump *label113 equal :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_in .FUEL
+  140 jump *label113 equal :start_reactor.0*retval false
+  141 control config unloader3 @blast-compound
   142 jump *label114 always
   143 label *label113
-    * control config :update_fuel.0:uld_in .FUEL_OFF
+  144 control config unloader3 @scrap
   145 label *label114
-    * jump *label115 notEqual :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_out .FUEL
+  146 jump *label115 notEqual :start_reactor.0*retval false
+  147 control config unloader4 @blast-compound
   148 jump *label116 always
   149 label *label115
-    * control config :update_fuel.0:uld_out .FUEL_OFF
+  150 control config unloader4 @scrap
   151 label *label116
   152 label *label117
   153 set :check_radar.0:unit cyclone1
 
   192 set :update_fuel.0:uld_out unloader6
   193 setaddr :update_fuel.0*retaddr *label27
   194 label *label118
-    * jump *label119 equal :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_in .FUEL
+  195 jump *label119 equal :fuel_many false
+  196 control config unloader5 @blast-compound
   197 jump *label120 always
   198 label *label119
-    * control config :update_fuel.0:uld_in .FUEL_OFF
+  199 control config unloader5 @scrap
   200 label *label120
-    * jump *label121 notEqual :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_out .FUEL
+  201 jump *label121 notEqual :fuel_many false
+  202 control config unloader6 @blast-compound
   203 jump *label122 always
   204 label *label121
-    * control config :update_fuel.0:uld_out .FUEL_OFF
+  205 control config unloader6 @scrap
   206 label *label122
   207 label *label123
   208 op or *tmp30 :fuel_1 :fuel_2

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-9 instructions):
 
   104 label *label19
   105 set :fuel_1 :start_reactor.0*retval
   106 set :t_startup1 .RET_T_STARTUP
-    * set :update_fuel.0:fuel :start_reactor.0*retval
-    * set :update_fuel.0:uld_in unloader1
-    * set :update_fuel.0:uld_out unloader2
   107 setaddr :update_fuel.0*retaddr *label20
   108 label *label106
   109 jump *label107 equal :start_reactor.0*retval false
 
   129 label *label21
   130 set :fuel_2 :start_reactor.0*retval
   131 set :t_startup2 .RET_T_STARTUP
-    * set :update_fuel.0:fuel :start_reactor.0*retval
-    * set :update_fuel.0:uld_in unloader3
-    * set :update_fuel.0:uld_out unloader4
   132 setaddr :update_fuel.0*retaddr *label22
   133 label *label112
   134 jump *label113 equal :start_reactor.0*retval false
 
   181 set :t_startup5 .RET_T_STARTUP
   182 op or *tmp27 :fuel_3 :fuel_4
   183 op or :fuel_many *tmp27 :start_reactor.0*retval
-    * set :update_fuel.0:fuel :fuel_many
-    * set :update_fuel.0:uld_in unloader5
-    * set :update_fuel.0:uld_out unloader6
   184 setaddr :update_fuel.0*retaddr *label27
   185 label *label118
   186 jump *label119 equal :fuel_many false

Modifications by Inline function 'check_radar' defined at line 259:1 (+19 instructions):
 
    47 set .NODE node1
    48 set :check_radar.0:unit cyclone1
    49 setaddr :check_radar.0*retaddr *label10
-    * call *label4 *invalid :check_radar.0*retval
-    * label *label10
+   50 label *label124
+   51 radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
+   52 jump *label125 equal :check_radar.0:enemy_found null
+   53 control enabled projector1 true
+   54 control enabled projector2 true
+   55 control config .ULD_IN_1 .FUEL_OFF
+   56 control config .ULD_OUT_1 .FUEL
+   57 control config .ULD_IN_2 .FUEL_OFF
+   58 control config .ULD_OUT_2 .FUEL
+   59 control config .ULD_IN_MANY .FUEL_OFF
+   60 control config .ULD_OUT_MANY .FUEL
+   61 control config .ULD_MIXER .FUEL_OFF
+   62 control enabled reactor1 false
+   63 control enabled reactor2 false
+   64 control enabled reactor3 false
+   65 control enabled reactor4 false
+   66 control enabled reactor5 false
+   67 set :check_radar.0*retval true
+   68 jump *label127 always
+   69 jump *label126 always
+   70 label *label125
+   71 control enabled projector1 false
+   72 control enabled projector2 false
+   73 set :check_radar.0*retval false
+   74 jump *label127 always
+   75 label *label126
+   76 label *label127
    77 op notEqual *tmp9 switch1 null
    78 sensor *tmp10 switch1 @enabled
    79 op equal *tmp11 *tmp10 false
 
   171 label *label117
   172 set :check_radar.0:unit cyclone1
   173 setaddr :check_radar.0*retaddr *label23
-    * call *label4 *invalid :check_radar.0*retval
-    * label *label23
+  174 label *label128
+  175 radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
+  176 jump *label129 equal :check_radar.0:enemy_found null
+  177 control enabled projector1 true
+  178 control enabled projector2 true
+  179 control config .ULD_IN_1 .FUEL_OFF
+  180 control config .ULD_OUT_1 .FUEL
+  181 control config .ULD_IN_2 .FUEL_OFF
+  182 control config .ULD_OUT_2 .FUEL
+  183 control config .ULD_IN_MANY .FUEL_OFF
+  184 control config .ULD_OUT_MANY .FUEL
+  185 control config .ULD_MIXER .FUEL_OFF
+  186 control enabled reactor1 false
+  187 control enabled reactor2 false
+  188 control enabled reactor3 false
+  189 control enabled reactor4 false
+  190 control enabled reactor5 false
+  191 set :check_radar.0*retval true
+  192 jump *label131 always
+  193 jump *label130 always
+  194 label *label129
+  195 control enabled projector1 false
+  196 control enabled projector2 false
+  197 set :check_radar.0*retval false
+  198 jump *label131 always
+  199 label *label130
+  200 label *label131
   201 op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
   202 set :start_reactor.0:reactor reactor3
   203 set :start_reactor.0:reactor_num 3
 
   609 label *label63
   610 return :start_reactor.0*retaddr
   611 end
-    * label *label4
-    * radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
-    * jump *label98 equal :check_radar.0:enemy_found null
-    * control enabled projector1 true
-    * control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
-    * control enabled reactor1 false
-    * control enabled reactor2 false
-    * control enabled reactor3 false
-    * control enabled reactor4 false
-    * control enabled reactor5 false
-    * set :check_radar.0*retval true
-    * jump *label97 always
-    * jump *label99 always
-    * label *label98
-    * control enabled projector1 false
-    * control enabled projector2 false
-    * set :check_radar.0*retval false
-    * jump *label97 always
-    * label *label99
-    * label *label97
-    * return :check_radar.0*retaddr
-    * end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    48 set :check_radar.0:unit cyclone1
    49 setaddr :check_radar.0*retaddr *label10
    50 label *label124
-    * radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
+   51 radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
    52 jump *label125 equal :check_radar.0:enemy_found null
    53 control enabled projector1 true
    54 control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
+   55 control config unloader1 @scrap
+   56 control config unloader2 @blast-compound
+   57 control config unloader3 @scrap
+   58 control config unloader4 @blast-compound
+   59 control config unloader5 @scrap
+   60 control config unloader6 @blast-compound
+   61 control config unloader7 @scrap
    62 control enabled reactor1 false
    63 control enabled reactor2 false
    64 control enabled reactor3 false
 
   172 set :check_radar.0:unit cyclone1
   173 setaddr :check_radar.0*retaddr *label23
   174 label *label128
-    * radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
+  175 radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
   176 jump *label129 equal :check_radar.0:enemy_found null
   177 control enabled projector1 true
   178 control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
+  179 control config unloader1 @scrap
+  180 control config unloader2 @blast-compound
+  181 control config unloader3 @scrap
+  182 control config unloader4 @blast-compound
+  183 control config unloader5 @scrap
+  184 control config unloader6 @blast-compound
+  185 control config unloader7 @scrap
   186 control enabled reactor1 false
   187 control enabled reactor2 false
   188 control enabled reactor3 false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-11 instructions):
     0 printflush message1
-    * set .FUEL @blast-compound
-    * set .FUEL_OFF @scrap
     1 set .PWR_REQ 23000
     2 set .FLOW_REQ 2000
     3 set .PWR_ABANDON 2000
 
    34 set .REACTORS_DESIRED 5
    35 set .AVG_SURPLUS 500
    36 label *label7
-    * set .ULD_IN_1 unloader1
-    * set .ULD_OUT_1 unloader2
-    * set .ULD_IN_2 unloader3
-    * set .ULD_OUT_2 unloader4
-    * set .ULD_IN_MANY unloader5
-    * set .ULD_OUT_MANY unloader6
-    * set .ULD_MIXER unloader7
    37 set .CONTAINER vault1
    38 set .NODE node1
-    * set :check_radar.0:unit cyclone1
    39 setaddr :check_radar.0*retaddr *label10
    40 label *label124
    41 radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
 
   159 control config unloader4 @scrap
   160 label *label116
   161 label *label117
-    * set :check_radar.0:unit cyclone1
   162 setaddr :check_radar.0*retaddr *label23
   163 label *label128
   164 radar enemy any any health cyclone1 1 :check_radar.0:enemy_found

Modifications by Inline function 'calc_charge_req' defined at line 126:1 (+62 instructions):
 
    82 set :calc_charge_req.0:reactor reactor1
    83 set :calc_charge_req.0:time :t_startup1
    84 setaddr :calc_charge_req.0*retaddr *label14
-    * call *label2 *invalid :calc_charge_req.0*retval
-    * label *label14
+   85 label *label132
+   86 op sub *tmp102 @tick :calc_charge_req.0:time
+   87 op idiv :calc_charge_req.0:secs *tmp102 60
+   88 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+   89 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+   90 op equal *tmp106 *tmp105 false
+   91 op or *tmp107 *tmp104 *tmp106
+   92 jump *label133 equal *tmp107 false
+   93 set :calc_charge_req.0*retval 0
+   94 jump *label135 always
+   95 label *label133
+   96 label *label134
+   97 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+   98 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+   99 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  100 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  101 jump *label135 always
+  102 label *label135
   103 set .START_POWER_REQ :calc_charge_req.0*retval
   104 set :calc_charge_req.0:reactor reactor2
   105 set :calc_charge_req.0:time :t_startup2
   106 setaddr :calc_charge_req.0*retaddr *label15
-    * call *label2 *invalid :calc_charge_req.0*retval
-    * label *label15
+  107 label *label136
+  108 op sub *tmp102 @tick :calc_charge_req.0:time
+  109 op idiv :calc_charge_req.0:secs *tmp102 60
+  110 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  111 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  112 op equal *tmp106 *tmp105 false
+  113 op or *tmp107 *tmp104 *tmp106
+  114 jump *label137 equal *tmp107 false
+  115 set :calc_charge_req.0*retval 0
+  116 jump *label139 always
+  117 label *label137
+  118 label *label138
+  119 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  120 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  121 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  122 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  123 jump *label139 always
+  124 label *label139
   125 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   126 set :calc_charge_req.0:reactor reactor3
   127 set :calc_charge_req.0:time :t_startup3
   128 setaddr :calc_charge_req.0*retaddr *label16
-    * call *label2 *invalid :calc_charge_req.0*retval
-    * label *label16
+  129 label *label140
+  130 op sub *tmp102 @tick :calc_charge_req.0:time
+  131 op idiv :calc_charge_req.0:secs *tmp102 60
+  132 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  133 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  134 op equal *tmp106 *tmp105 false
+  135 op or *tmp107 *tmp104 *tmp106
+  136 jump *label141 equal *tmp107 false
+  137 set :calc_charge_req.0*retval 0
+  138 jump *label143 always
+  139 label *label141
+  140 label *label142
+  141 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  142 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  143 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  144 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  145 jump *label143 always
+  146 label *label143
   147 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   148 set :calc_charge_req.0:reactor reactor4
   149 set :calc_charge_req.0:time :t_startup4
   150 setaddr :calc_charge_req.0*retaddr *label17
-    * call *label2 *invalid :calc_charge_req.0*retval
-    * label *label17
+  151 label *label144
+  152 op sub *tmp102 @tick :calc_charge_req.0:time
+  153 op idiv :calc_charge_req.0:secs *tmp102 60
+  154 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  155 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  156 op equal *tmp106 *tmp105 false
+  157 op or *tmp107 *tmp104 *tmp106
+  158 jump *label145 equal *tmp107 false
+  159 set :calc_charge_req.0*retval 0
+  160 jump *label147 always
+  161 label *label145
+  162 label *label146
+  163 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  164 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  165 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  166 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  167 jump *label147 always
+  168 label *label147
   169 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   170 set :calc_charge_req.0:reactor reactor5
   171 set :calc_charge_req.0:time :t_startup5
   172 setaddr :calc_charge_req.0*retaddr *label18
-    * call *label2 *invalid :calc_charge_req.0*retval
-    * label *label18
+  173 label *label148
+  174 op sub *tmp102 @tick :calc_charge_req.0:time
+  175 op idiv :calc_charge_req.0:secs *tmp102 60
+  176 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  177 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  178 op equal *tmp106 *tmp105 false
+  179 op or *tmp107 *tmp104 *tmp106
+  180 jump *label149 equal *tmp107 false
+  181 set :calc_charge_req.0*retval 0
+  182 jump *label151 always
+  183 label *label149
+  184 label *label150
+  185 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  186 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  187 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  188 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  189 jump *label151 always
+  190 label *label151
   191 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   192 set :start_reactor.0:reactor reactor1
   193 set :start_reactor.0:reactor_num 1
 
   472 jump *label7 always
   473 label *label9
   474 end
-    * label *label2
-    * op sub *tmp102 @tick :calc_charge_req.0:time
-    * op idiv :calc_charge_req.0:secs *tmp102 60
-    * op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
-    * op equal *tmp106 *tmp105 false
-    * op or *tmp107 *tmp104 *tmp106
-    * jump *label61 equal *tmp107 false
-    * set :calc_charge_req.0*retval 0
-    * jump *label60 always
-    * label *label61
-    * label *label62
-    * op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
-    * op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
-    * op idiv :calc_charge_req.0:charge_req *tmp110 0.04
-    * set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
-    * jump *label60 always
-    * label *label60
-    * return :calc_charge_req.0*retaddr
-    * end
   475 label *label3
   476 set .RET_T_STARTUP :start_reactor.0:t_startup
   477 op sub *tmp113 @tick :start_reactor.0:t_startup
 
   534 set :calc_charge_req.0:reactor :start_reactor.0:reactor
   535 set :calc_charge_req.0:time :start_reactor.0:t_startup
   536 setaddr :calc_charge_req.0*retaddr *label78
-    * call *label2 *invalid :calc_charge_req.0*retval
-    * label *label78
+  537 label *label152
+  538 op sub *tmp102 @tick :calc_charge_req.0:time
+  539 op idiv :calc_charge_req.0:secs *tmp102 60
+  540 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  541 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  542 op equal *tmp106 *tmp105 false
+  543 op or *tmp107 *tmp104 *tmp106
+  544 jump *label153 equal *tmp107 false
+  545 set :calc_charge_req.0*retval 0
+  546 jump *label155 always
+  547 label *label153
+  548 label *label154
+  549 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  550 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  551 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  552 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  553 jump *label155 always
+  554 label *label155
   555 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
   556 op lessThan *tmp154 *tmp153 .PWR_ABORT
   557 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    83 set :calc_charge_req.0:time :t_startup1
    84 setaddr :calc_charge_req.0*retaddr *label14
    85 label *label132
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+   86 op sub *tmp102 @tick :t_startup1
    87 op idiv :calc_charge_req.0:secs *tmp102 60
    88 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+   89 sensor *tmp105 reactor1 @enabled
    90 op equal *tmp106 *tmp105 false
    91 op or *tmp107 *tmp104 *tmp106
    92 jump *label133 equal *tmp107 false
 
   105 set :calc_charge_req.0:time :t_startup2
   106 setaddr :calc_charge_req.0*retaddr *label15
   107 label *label136
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+  108 op sub *tmp102 @tick :t_startup2
   109 op idiv :calc_charge_req.0:secs *tmp102 60
   110 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  111 sensor *tmp105 reactor2 @enabled
   112 op equal *tmp106 *tmp105 false
   113 op or *tmp107 *tmp104 *tmp106
   114 jump *label137 equal *tmp107 false
 
   127 set :calc_charge_req.0:time :t_startup3
   128 setaddr :calc_charge_req.0*retaddr *label16
   129 label *label140
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+  130 op sub *tmp102 @tick :t_startup3
   131 op idiv :calc_charge_req.0:secs *tmp102 60
   132 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  133 sensor *tmp105 reactor3 @enabled
   134 op equal *tmp106 *tmp105 false
   135 op or *tmp107 *tmp104 *tmp106
   136 jump *label141 equal *tmp107 false
 
   149 set :calc_charge_req.0:time :t_startup4
   150 setaddr :calc_charge_req.0*retaddr *label17
   151 label *label144
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+  152 op sub *tmp102 @tick :t_startup4
   153 op idiv :calc_charge_req.0:secs *tmp102 60
   154 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  155 sensor *tmp105 reactor4 @enabled
   156 op equal *tmp106 *tmp105 false
   157 op or *tmp107 *tmp104 *tmp106
   158 jump *label145 equal *tmp107 false
 
   171 set :calc_charge_req.0:time :t_startup5
   172 setaddr :calc_charge_req.0*retaddr *label18
   173 label *label148
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+  174 op sub *tmp102 @tick :t_startup5
   175 op idiv :calc_charge_req.0:secs *tmp102 60
   176 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  177 sensor *tmp105 reactor5 @enabled
   178 op equal *tmp106 *tmp105 false
   179 op or *tmp107 *tmp104 *tmp106
   180 jump *label149 equal *tmp107 false
 
   535 set :calc_charge_req.0:time :start_reactor.0:t_startup
   536 setaddr :calc_charge_req.0*retaddr *label78
   537 label *label152
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+  538 op sub *tmp102 @tick :start_reactor.0:t_startup
   539 op idiv :calc_charge_req.0:secs *tmp102 60
   540 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  541 sensor *tmp105 :start_reactor.0:reactor @enabled
   542 op equal *tmp106 *tmp105 false
   543 op or *tmp107 *tmp104 *tmp106
   544 jump *label153 equal *tmp107 false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-12 instructions):
 
    79 jump *label11 always
    80 label *label11
    81 op or :emerg_shutdown :check_radar.0*retval *tmp8
-    * set :calc_charge_req.0:reactor reactor1
-    * set :calc_charge_req.0:time :t_startup1
    82 setaddr :calc_charge_req.0*retaddr *label14
    83 label *label132
    84 op sub *tmp102 @tick :t_startup1
 
    99 jump *label135 always
   100 label *label135
   101 set .START_POWER_REQ :calc_charge_req.0*retval
-    * set :calc_charge_req.0:reactor reactor2
-    * set :calc_charge_req.0:time :t_startup2
   102 setaddr :calc_charge_req.0*retaddr *label15
   103 label *label136
   104 op sub *tmp102 @tick :t_startup2
 
   119 jump *label139 always
   120 label *label139
   121 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * set :calc_charge_req.0:reactor reactor3
-    * set :calc_charge_req.0:time :t_startup3
   122 setaddr :calc_charge_req.0*retaddr *label16
   123 label *label140
   124 op sub *tmp102 @tick :t_startup3
 
   139 jump *label143 always
   140 label *label143
   141 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * set :calc_charge_req.0:reactor reactor4
-    * set :calc_charge_req.0:time :t_startup4
   142 setaddr :calc_charge_req.0*retaddr *label17
   143 label *label144
   144 op sub *tmp102 @tick :t_startup4
 
   159 jump *label147 always
   160 label *label147
   161 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * set :calc_charge_req.0:reactor reactor5
-    * set :calc_charge_req.0:time :t_startup5
   162 setaddr :calc_charge_req.0*retaddr *label18
   163 label *label148
   164 op sub *tmp102 @tick :t_startup5
 
   521 jump *label75 always
   522 label *label74
   523 jump *label76 greaterThanEq :start_reactor.0:secs 30
-    * set :calc_charge_req.0:reactor :start_reactor.0:reactor
-    * set :calc_charge_req.0:time :start_reactor.0:t_startup
   524 setaddr :calc_charge_req.0*retaddr *label78
   525 label *label152
   526 op sub *tmp102 @tick :start_reactor.0:t_startup

Modifications by Inline function call at line 80:14 (+158 instructions):
 
   184 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   185 set :start_reactor.0:fuel_on :fuel_1
   186 set :start_reactor.0:t_startup :t_startup1
-    * setaddr :start_reactor.0*retaddr *label19
-    * call *label3 *invalid :start_reactor.0*retval
-    * label *label19
+  187 label *label156
+  188 set .RET_T_STARTUP :start_reactor.0:t_startup
+  189 op sub *tmp113 @tick :start_reactor.0:t_startup
+  190 op idiv :start_reactor.0:secs *tmp113 60
+  191 sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
+  192 set :start_reactor.0:supply_fuel true
+  193 sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
+  194 sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
+  195 sensor *tmp118 .NODE @powerNetStored
+  196 op floor :start_reactor.0:charge *tmp118
+  197 sensor *tmp120 .NODE @powerNetIn
+  198 sensor *tmp121 .NODE @powerNetOut
+  199 op sub *tmp122 *tmp120 *tmp121
+  200 op floor :start_reactor.0:surplus *tmp122
+  201 op mul *tmp124 .AVG_SURPLUS 0.8
+  202 op mul *tmp125 :start_reactor.0:surplus 0.2
+  203 op add .AVG_SURPLUS *tmp124 *tmp125
+  204 sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
+  205 print "#"
+  206 print :start_reactor.0:reactor_num
+  207 print " "
+  208 print "- "
+  209 jump *label157 equal :start_reactor.0:emerg_shutdown false
+  210 control enabled :start_reactor.0:reactor false
+  211 print "emergency mode"
+  212 print "\n"
+  213 set :start_reactor.0:supply_fuel false
+  214 jump *label190 always
+  215 label *label157
+  216 jump *label176 equal :start_reactor.0:enabled false
+  217 jump *label158 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  218 control enabled :start_reactor.0:reactor false
+  219 print "STOP unwanted"
+  220 print "\n"
+  221 jump *label175 always
+  222 label *label158
+  223 op greaterThan *tmp136 :start_reactor.0:reactor_num 1
+  224 op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
+  225 op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
+  226 op land *tmp139 *tmp136 *tmp138
+  227 jump *label159 equal *tmp139 false
+  228 control enabled :start_reactor.0:reactor false
+  229 print "STOP system fuel low"
+  230 print "\n"
+  231 jump *label174 always
+  232 label *label159
+  233 jump *label160 greaterThan :start_reactor.0:fuel 1
+  234 control enabled :start_reactor.0:reactor false
+  235 print "STOP fuel low"
+  236 print "\n"
+  237 jump *label173 always
+  238 label *label160
+  239 jump *label161 greaterThan :start_reactor.0:cryo .CRYO_ABORT
+  240 control enabled :start_reactor.0:reactor false
+  241 print "STOP out of cryo"
+  242 print "\n"
+  243 jump *label172 always
+  244 label *label161
+  245 jump *label168 greaterThanEq :start_reactor.0:secs 30
+  246 setaddr :calc_charge_req.0*retaddr *label78
+  247 label *label162
+  248 op sub *tmp102 @tick :start_reactor.0:t_startup
+  249 op idiv :calc_charge_req.0:secs *tmp102 60
+  250 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  251 sensor *tmp105 :start_reactor.0:reactor @enabled
+  252 op equal *tmp106 *tmp105 false
+  253 op or *tmp107 *tmp104 *tmp106
+  254 jump *label163 equal *tmp107 false
+  255 set :calc_charge_req.0*retval 0
+  256 jump *label165 always
+  257 label *label163
+  258 label *label164
+  259 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  260 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  261 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  262 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  263 jump *label165 always
+  264 label *label165
+  265 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
+  266 op lessThan *tmp154 *tmp153 .PWR_ABORT
+  267 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
+  268 op land *tmp156 *tmp154 *tmp155
+  269 jump *label166 equal *tmp156 false
+  270 control enabled :start_reactor.0:reactor false
+  271 print "START FAIL battery"
+  272 print "\n"
+  273 set :start_reactor.0:supply_fuel false
+  274 jump *label167 always
+  275 label *label166
+  276 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
+  277 print "Starting "
+  278 print :start_reactor.0:time_left
+  279 print " "
+  280 print "secs, req "
+  281 print :calc_charge_req.0*retval
+  282 print "J"
+  283 print "\n"
+  284 label *label167
+  285 jump *label171 always
+  286 label *label168
+  287 op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
+  288 op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
+  289 op land *tmp163 *tmp161 *tmp162
+  290 jump *label169 equal *tmp163 false
+  291 control enabled :start_reactor.0:reactor false
+  292 print "ABANDON - battery crit"
+  293 print "\n"
+  294 set :start_reactor.0:supply_fuel false
+  295 jump *label170 always
+  296 label *label169
+  297 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
+  298 op div :start_reactor.0:mins :start_reactor.0:mins 10
+  299 print "RUN "
+  300 print :start_reactor.0:mins
+  301 print " "
+  302 print "mins"
+  303 print "\n"
+  304 label *label170
+  305 label *label171
+  306 label *label172
+  307 label *label173
+  308 label *label174
+  309 label *label175
+  310 jump *label189 always
+  311 label *label176
+  312 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
+  313 op sub *tmp170 *tmp169 .PWR_ABORT
+  314 op div *tmp171 *tmp170 .PWR_REQ
+  315 op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
+  316 op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
+  317 op max :start_reactor.0:flow_units -0.1 *tmp173
+  318 op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
+  319 op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
+  320 jump *label177 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  321 print "IDLE"
+  322 print "\n"
+  323 set :start_reactor.0:supply_fuel false
+  324 jump *label188 always
+  325 label *label177
+  326 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
+  327 jump *label178 greaterThanEq *tmp179 1
+  328 op idiv *tmp183 :start_reactor.0:flow_units 0.001
+  329 op div :start_reactor.0:flow *tmp183 10
+  330 op idiv *tmp186 :start_reactor.0:charge_units 0.001
+  331 op div :start_reactor.0:charge *tmp186 10
+  332 print "WAIT power. (%"
+  333 print :start_reactor.0:charge
+  334 print "J + %"
+  335 print :start_reactor.0:flow
+  336 print "W)"
+  337 print "\n"
+  338 set :start_reactor.0:supply_fuel false
+  339 jump *label187 always
+  340 label *label178
+  341 op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
+  342 op land *tmp189 :start_reactor.0:fuel_on *tmp188
+  343 jump *label181 equal *tmp189 false
+  344 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
+  345 jump *label179 lessThanEq *tmp191 .FUEL_REQ
+  346 print "WAIT fuel"
+  347 print "\n"
+  348 jump *label180 always
+  349 label *label179
+  350 print "WAIT system fuel"
+  351 print "\n"
+  352 label *label180
+  353 jump *label186 always
+  354 label *label181
+  355 op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
+  356 jump *label182 greaterThanEq :start_reactor.0:fuel_stored *tmp194
+  357 print "WAIT buffer fuel"
+  358 print "\n"
+  359 jump *label185 always
+  360 label *label182
+  361 jump *label183 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
+  362 print "WAIT cryo"
+  363 print "\n"
+  364 jump *label184 always
+  365 label *label183
+  366 print "STARTUP"
+  367 print "\n"
+  368 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  369 control enabled :start_reactor.0:reactor true
+  370 label *label184
+  371 label *label185
+  372 label *label186
+  373 label *label187
+  374 label *label188
+  375 label *label189
+  376 label *label190
+  377 sensor *tmp201 :start_reactor.0:reactor @enabled
+  378 jump *label191 equal :start_reactor.0:enabled *tmp201
+  379 set .RET_T_STARTUP @tick
+  380 label *label191
+  381 label *label192
+  382 set :start_reactor.0*retval :start_reactor.0:supply_fuel
+  383 jump *label193 always
+  384 label *label193
   385 set :fuel_1 :start_reactor.0*retval
   386 set :t_startup1 .RET_T_STARTUP
   387 setaddr :update_fuel.0*retaddr *label20

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-1 instructions):
 
    30 set :t_startup3 *tmp5
    31 set :t_startup4 *tmp5
    32 set :t_startup5 *tmp5
-    * set .RET_T_STARTUP *tmp5
    33 set .REACTORS_DESIRED 5
    34 set .AVG_SURPLUS 500
    35 label *label7
 
   184 set :start_reactor.0:fuel_on :fuel_1
   185 set :start_reactor.0:t_startup :t_startup1
   186 label *label156
-    * set .RET_T_STARTUP :start_reactor.0:t_startup
-    * op sub *tmp113 @tick :start_reactor.0:t_startup
+  187 set .RET_T_STARTUP :t_startup1
+  188 op sub *tmp113 @tick :t_startup1
   189 op idiv :start_reactor.0:secs *tmp113 60
-    * sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
+  190 sensor :start_reactor.0:fuel reactor1 @blast-compound
   191 set :start_reactor.0:supply_fuel true
-    * sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
-    * sensor *tmp118 .NODE @powerNetStored
+  192 sensor :start_reactor.0:fuel_stored vault1 @blast-compound
+  193 sensor :start_reactor.0:cryo reactor1 @cryofluid
+  194 sensor *tmp118 node1 @powerNetStored
   195 op floor :start_reactor.0:charge *tmp118
-    * sensor *tmp120 .NODE @powerNetIn
-    * sensor *tmp121 .NODE @powerNetOut
+  196 sensor *tmp120 node1 @powerNetIn
+  197 sensor *tmp121 node1 @powerNetOut
   198 op sub *tmp122 *tmp120 *tmp121
   199 op floor :start_reactor.0:surplus *tmp122
   200 op mul *tmp124 .AVG_SURPLUS 0.8
   201 op mul *tmp125 :start_reactor.0:surplus 0.2
   202 op add .AVG_SURPLUS *tmp124 *tmp125
-    * sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
+  203 sensor :start_reactor.0:enabled reactor1 @enabled
   204 print "#"
-    * print :start_reactor.0:reactor_num
+  205 print 1
   206 print " "
   207 print "- "
-    * jump *label157 equal :start_reactor.0:emerg_shutdown false
-    * control enabled :start_reactor.0:reactor false
+  208 jump *label157 equal :emerg_shutdown false
+  209 control enabled reactor1 false
   210 print "emergency mode"
   211 print "\n"
   212 set :start_reactor.0:supply_fuel false
   213 jump *label190 always
   214 label *label157
   215 jump *label176 equal :start_reactor.0:enabled false
-    * jump *label158 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * control enabled :start_reactor.0:reactor false
+  216 jump *label158 greaterThanEq .REACTORS_DESIRED 1
+  217 control enabled reactor1 false
   218 print "STOP unwanted"
   219 print "\n"
   220 jump *label175 always
   221 label *label158
-    * op greaterThan *tmp136 :start_reactor.0:reactor_num 1
-    * op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
-    * op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
-    * op land *tmp139 *tmp136 *tmp138
+  222 op greaterThan *tmp136 1 1
+  223 op mul *tmp137 15 1
+  224 op lessThan *tmp138 :start_reactor.0:fuel_stored 15
+  225 op land *tmp139 false *tmp138
   226 jump *label159 equal *tmp139 false
-    * control enabled :start_reactor.0:reactor false
+  227 control enabled reactor1 false
   228 print "STOP system fuel low"
   229 print "\n"
   230 jump *label174 always
   231 label *label159
   232 jump *label160 greaterThan :start_reactor.0:fuel 1
-    * control enabled :start_reactor.0:reactor false
+  233 control enabled reactor1 false
   234 print "STOP fuel low"
   235 print "\n"
   236 jump *label173 always
   237 label *label160
-    * jump *label161 greaterThan :start_reactor.0:cryo .CRYO_ABORT
-    * control enabled :start_reactor.0:reactor false
+  238 jump *label161 greaterThan :start_reactor.0:cryo 1
+  239 control enabled reactor1 false
   240 print "STOP out of cryo"
   241 print "\n"
   242 jump *label172 always
 
   244 jump *label168 greaterThanEq :start_reactor.0:secs 30
   245 setaddr :calc_charge_req.0*retaddr *label78
   246 label *label162
-    * op sub *tmp102 @tick :start_reactor.0:t_startup
+  247 op sub *tmp102 @tick :t_startup1
   248 op idiv :calc_charge_req.0:secs *tmp102 60
   249 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :start_reactor.0:reactor @enabled
+  250 sensor *tmp105 reactor1 @enabled
   251 op equal *tmp106 *tmp105 false
   252 op or *tmp107 *tmp104 *tmp106
   253 jump *label163 equal *tmp107 false
 
   262 jump *label165 always
   263 label *label165
   264 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
-    * op lessThan *tmp154 *tmp153 .PWR_ABORT
-    * op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
+  265 op lessThan *tmp154 *tmp153 5000
+  266 op lessThan *tmp155 :start_reactor.0:surplus -500
   267 op land *tmp156 *tmp154 *tmp155
   268 jump *label166 equal *tmp156 false
-    * control enabled :start_reactor.0:reactor false
+  269 control enabled reactor1 false
   270 print "START FAIL battery"
   271 print "\n"
   272 set :start_reactor.0:supply_fuel false
 
   283 label *label167
   284 jump *label171 always
   285 label *label168
-    * op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
-    * op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
+  286 op lessThan *tmp161 :start_reactor.0:charge 2000
+  287 op lessThan *tmp162 :start_reactor.0:surplus -500
   288 op land *tmp163 *tmp161 *tmp162
   289 jump *label169 equal *tmp163 false
-    * control enabled :start_reactor.0:reactor false
+  290 control enabled reactor1 false
   291 print "ABANDON - battery crit"
   292 print "\n"
   293 set :start_reactor.0:supply_fuel false
 
   309 jump *label189 always
   310 label *label176
   311 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
-    * op sub *tmp170 *tmp169 .PWR_ABORT
-    * op div *tmp171 *tmp170 .PWR_REQ
-    * op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
-    * op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
+  312 op sub *tmp170 *tmp169 5000
+  313 op div *tmp171 *tmp170 23000
+  314 op mul :start_reactor.0:charge_units *tmp171 0.6
+  315 op div *tmp173 :start_reactor.0:surplus 2000
   316 op max :start_reactor.0:flow_units -0.1 *tmp173
-    * op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
-    * op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
-    * jump *label177 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  317 op mul *tmp175 2 1
+  318 op add :start_reactor.0:cryo_req 3 2
+  319 jump *label177 greaterThanEq .REACTORS_DESIRED 1
   320 print "IDLE"
   321 print "\n"
   322 set :start_reactor.0:supply_fuel false
 
   337 set :start_reactor.0:supply_fuel false
   338 jump *label187 always
   339 label *label178
-    * op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
-    * op land *tmp189 :start_reactor.0:fuel_on *tmp188
+  340 op lessThan *tmp188 :start_reactor.0:fuel 10
+  341 op land *tmp189 :fuel_1 *tmp188
   342 jump *label181 equal *tmp189 false
   343 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
-    * jump *label179 lessThanEq *tmp191 .FUEL_REQ
+  344 jump *label179 lessThanEq *tmp191 10
   345 print "WAIT fuel"
   346 print "\n"
   347 jump *label180 always
 
   351 label *label180
   352 jump *label186 always
   353 label *label181
-    * op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
-    * jump *label182 greaterThanEq :start_reactor.0:fuel_stored *tmp194
+  354 op mul *tmp194 45 1
+  355 jump *label182 greaterThanEq :start_reactor.0:fuel_stored 45
   356 print "WAIT buffer fuel"
   357 print "\n"
   358 jump *label185 always
   359 label *label182
-    * jump *label183 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
+  360 jump *label183 greaterThanEq :start_reactor.0:cryo 5
   361 print "WAIT cryo"
   362 print "\n"
   363 jump *label184 always
   364 label *label183
   365 print "STARTUP"
   366 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor.0:reactor true
+  367 op add .START_POWER_REQ .START_POWER_REQ 23000
+  368 control enabled reactor1 true
   369 label *label184
   370 label *label185
   371 label *label186
 
   373 label *label188
   374 label *label189
   375 label *label190
-    * sensor *tmp201 :start_reactor.0:reactor @enabled
+  376 sensor *tmp201 reactor1 @enabled
   377 jump *label191 equal :start_reactor.0:enabled *tmp201
   378 set .RET_T_STARTUP @tick
   379 label *label191
 
   381 set :start_reactor.0*retval :start_reactor.0:supply_fuel
   382 jump *label193 always
   383 label *label193
-    * set :fuel_1 :start_reactor.0*retval
+  384 set :fuel_1 :start_reactor.0:supply_fuel
   385 set :t_startup1 .RET_T_STARTUP
   386 setaddr :update_fuel.0*retaddr *label20
   387 label *label106
-    * jump *label107 equal :start_reactor.0*retval false
+  388 jump *label107 equal :start_reactor.0:supply_fuel false
   389 control config unloader1 @blast-compound
   390 jump *label108 always
   391 label *label107
   392 control config unloader1 @scrap
   393 label *label108
-    * jump *label109 notEqual :start_reactor.0*retval false
+  394 jump *label109 notEqual :start_reactor.0:supply_fuel false
   395 control config unloader2 @blast-compound
   396 jump *label110 always
   397 label *label109

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
   178 jump *label151 always
   179 label *label151
   180 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * set :start_reactor.0:reactor reactor1
-    * set :start_reactor.0:reactor_num 1
-    * set :start_reactor.0:emerg_shutdown :emerg_shutdown
-    * set :start_reactor.0:fuel_on :fuel_1
-    * set :start_reactor.0:t_startup :t_startup1
   181 label *label156
   182 set .RET_T_STARTUP :t_startup1
   183 op sub *tmp113 @tick :t_startup1
 
   306 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
   307 op sub *tmp170 *tmp169 5000
   308 op div *tmp171 *tmp170 23000
-    * op mul :start_reactor.0:charge_units *tmp171 0.6
+  309 op div :start_reactor.0:charge_units *tmp170 38333.333333333336
   310 op div *tmp173 :start_reactor.0:surplus 2000
   311 op max :start_reactor.0:flow_units -0.1 *tmp173
   312 op mul *tmp175 2 1
 
   373 set .RET_T_STARTUP @tick
   374 label *label191
   375 label *label192
-    * set :start_reactor.0*retval :start_reactor.0:supply_fuel
   376 jump *label193 always
   377 label *label193
   378 set :fuel_1 :start_reactor.0:supply_fuel

Modifications by Inline function call at line 84:14 (+158 instructions):
 
   397 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   398 set :start_reactor.0:fuel_on :fuel_2
   399 set :start_reactor.0:t_startup :t_startup2
-    * setaddr :start_reactor.0*retaddr *label21
-    * call *label3 *invalid :start_reactor.0*retval
-    * label *label21
+  400 label *label194
+  401 set .RET_T_STARTUP :start_reactor.0:t_startup
+  402 op sub *tmp113 @tick :start_reactor.0:t_startup
+  403 op idiv :start_reactor.0:secs *tmp113 60
+  404 sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
+  405 set :start_reactor.0:supply_fuel true
+  406 sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
+  407 sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
+  408 sensor *tmp118 .NODE @powerNetStored
+  409 op floor :start_reactor.0:charge *tmp118
+  410 sensor *tmp120 .NODE @powerNetIn
+  411 sensor *tmp121 .NODE @powerNetOut
+  412 op sub *tmp122 *tmp120 *tmp121
+  413 op floor :start_reactor.0:surplus *tmp122
+  414 op mul *tmp124 .AVG_SURPLUS 0.8
+  415 op mul *tmp125 :start_reactor.0:surplus 0.2
+  416 op add .AVG_SURPLUS *tmp124 *tmp125
+  417 sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
+  418 print "#"
+  419 print :start_reactor.0:reactor_num
+  420 print " "
+  421 print "- "
+  422 jump *label195 equal :start_reactor.0:emerg_shutdown false
+  423 control enabled :start_reactor.0:reactor false
+  424 print "emergency mode"
+  425 print "\n"
+  426 set :start_reactor.0:supply_fuel false
+  427 jump *label228 always
+  428 label *label195
+  429 jump *label214 equal :start_reactor.0:enabled false
+  430 jump *label196 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  431 control enabled :start_reactor.0:reactor false
+  432 print "STOP unwanted"
+  433 print "\n"
+  434 jump *label213 always
+  435 label *label196
+  436 op greaterThan *tmp136 :start_reactor.0:reactor_num 1
+  437 op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
+  438 op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
+  439 op land *tmp139 *tmp136 *tmp138
+  440 jump *label197 equal *tmp139 false
+  441 control enabled :start_reactor.0:reactor false
+  442 print "STOP system fuel low"
+  443 print "\n"
+  444 jump *label212 always
+  445 label *label197
+  446 jump *label198 greaterThan :start_reactor.0:fuel 1
+  447 control enabled :start_reactor.0:reactor false
+  448 print "STOP fuel low"
+  449 print "\n"
+  450 jump *label211 always
+  451 label *label198
+  452 jump *label199 greaterThan :start_reactor.0:cryo .CRYO_ABORT
+  453 control enabled :start_reactor.0:reactor false
+  454 print "STOP out of cryo"
+  455 print "\n"
+  456 jump *label210 always
+  457 label *label199
+  458 jump *label206 greaterThanEq :start_reactor.0:secs 30
+  459 setaddr :calc_charge_req.0*retaddr *label78
+  460 label *label200
+  461 op sub *tmp102 @tick :start_reactor.0:t_startup
+  462 op idiv :calc_charge_req.0:secs *tmp102 60
+  463 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  464 sensor *tmp105 :start_reactor.0:reactor @enabled
+  465 op equal *tmp106 *tmp105 false
+  466 op or *tmp107 *tmp104 *tmp106
+  467 jump *label201 equal *tmp107 false
+  468 set :calc_charge_req.0*retval 0
+  469 jump *label203 always
+  470 label *label201
+  471 label *label202
+  472 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  473 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  474 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  475 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  476 jump *label203 always
+  477 label *label203
+  478 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
+  479 op lessThan *tmp154 *tmp153 .PWR_ABORT
+  480 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
+  481 op land *tmp156 *tmp154 *tmp155
+  482 jump *label204 equal *tmp156 false
+  483 control enabled :start_reactor.0:reactor false
+  484 print "START FAIL battery"
+  485 print "\n"
+  486 set :start_reactor.0:supply_fuel false
+  487 jump *label205 always
+  488 label *label204
+  489 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
+  490 print "Starting "
+  491 print :start_reactor.0:time_left
+  492 print " "
+  493 print "secs, req "
+  494 print :calc_charge_req.0*retval
+  495 print "J"
+  496 print "\n"
+  497 label *label205
+  498 jump *label209 always
+  499 label *label206
+  500 op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
+  501 op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
+  502 op land *tmp163 *tmp161 *tmp162
+  503 jump *label207 equal *tmp163 false
+  504 control enabled :start_reactor.0:reactor false
+  505 print "ABANDON - battery crit"
+  506 print "\n"
+  507 set :start_reactor.0:supply_fuel false
+  508 jump *label208 always
+  509 label *label207
+  510 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
+  511 op div :start_reactor.0:mins :start_reactor.0:mins 10
+  512 print "RUN "
+  513 print :start_reactor.0:mins
+  514 print " "
+  515 print "mins"
+  516 print "\n"
+  517 label *label208
+  518 label *label209
+  519 label *label210
+  520 label *label211
+  521 label *label212
+  522 label *label213
+  523 jump *label227 always
+  524 label *label214
+  525 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
+  526 op sub *tmp170 *tmp169 .PWR_ABORT
+  527 op div *tmp171 *tmp170 .PWR_REQ
+  528 op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
+  529 op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
+  530 op max :start_reactor.0:flow_units -0.1 *tmp173
+  531 op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
+  532 op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
+  533 jump *label215 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  534 print "IDLE"
+  535 print "\n"
+  536 set :start_reactor.0:supply_fuel false
+  537 jump *label226 always
+  538 label *label215
+  539 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
+  540 jump *label216 greaterThanEq *tmp179 1
+  541 op idiv *tmp183 :start_reactor.0:flow_units 0.001
+  542 op div :start_reactor.0:flow *tmp183 10
+  543 op idiv *tmp186 :start_reactor.0:charge_units 0.001
+  544 op div :start_reactor.0:charge *tmp186 10
+  545 print "WAIT power. (%"
+  546 print :start_reactor.0:charge
+  547 print "J + %"
+  548 print :start_reactor.0:flow
+  549 print "W)"
+  550 print "\n"
+  551 set :start_reactor.0:supply_fuel false
+  552 jump *label225 always
+  553 label *label216
+  554 op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
+  555 op land *tmp189 :start_reactor.0:fuel_on *tmp188
+  556 jump *label219 equal *tmp189 false
+  557 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
+  558 jump *label217 lessThanEq *tmp191 .FUEL_REQ
+  559 print "WAIT fuel"
+  560 print "\n"
+  561 jump *label218 always
+  562 label *label217
+  563 print "WAIT system fuel"
+  564 print "\n"
+  565 label *label218
+  566 jump *label224 always
+  567 label *label219
+  568 op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
+  569 jump *label220 greaterThanEq :start_reactor.0:fuel_stored *tmp194
+  570 print "WAIT buffer fuel"
+  571 print "\n"
+  572 jump *label223 always
+  573 label *label220
+  574 jump *label221 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
+  575 print "WAIT cryo"
+  576 print "\n"
+  577 jump *label222 always
+  578 label *label221
+  579 print "STARTUP"
+  580 print "\n"
+  581 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  582 control enabled :start_reactor.0:reactor true
+  583 label *label222
+  584 label *label223
+  585 label *label224
+  586 label *label225
+  587 label *label226
+  588 label *label227
+  589 label *label228
+  590 sensor *tmp201 :start_reactor.0:reactor @enabled
+  591 jump *label229 equal :start_reactor.0:enabled *tmp201
+  592 set .RET_T_STARTUP @tick
+  593 label *label229
+  594 label *label230
+  595 set :start_reactor.0*retval :start_reactor.0:supply_fuel
+  596 jump *label231 always
+  597 label *label231
   598 set :fuel_2 :start_reactor.0*retval
   599 set :t_startup2 .RET_T_STARTUP
   600 setaddr :update_fuel.0*retaddr *label22

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   398 set :start_reactor.0:fuel_on :fuel_2
   399 set :start_reactor.0:t_startup :t_startup2
   400 label *label194
-    * set .RET_T_STARTUP :start_reactor.0:t_startup
-    * op sub *tmp113 @tick :start_reactor.0:t_startup
+  401 set .RET_T_STARTUP :t_startup2
+  402 op sub *tmp113 @tick :t_startup2
   403 op idiv :start_reactor.0:secs *tmp113 60
-    * sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
+  404 sensor :start_reactor.0:fuel reactor2 @blast-compound
   405 set :start_reactor.0:supply_fuel true
-    * sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
-    * sensor *tmp118 .NODE @powerNetStored
+  406 sensor :start_reactor.0:fuel_stored vault1 @blast-compound
+  407 sensor :start_reactor.0:cryo reactor2 @cryofluid
+  408 sensor *tmp118 node1 @powerNetStored
   409 op floor :start_reactor.0:charge *tmp118
-    * sensor *tmp120 .NODE @powerNetIn
-    * sensor *tmp121 .NODE @powerNetOut
+  410 sensor *tmp120 node1 @powerNetIn
+  411 sensor *tmp121 node1 @powerNetOut
   412 op sub *tmp122 *tmp120 *tmp121
   413 op floor :start_reactor.0:surplus *tmp122
   414 op mul *tmp124 .AVG_SURPLUS 0.8
   415 op mul *tmp125 :start_reactor.0:surplus 0.2
   416 op add .AVG_SURPLUS *tmp124 *tmp125
-    * sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
+  417 sensor :start_reactor.0:enabled reactor2 @enabled
   418 print "#"
-    * print :start_reactor.0:reactor_num
+  419 print 2
   420 print " "
   421 print "- "
-    * jump *label195 equal :start_reactor.0:emerg_shutdown false
-    * control enabled :start_reactor.0:reactor false
+  422 jump *label195 equal :emerg_shutdown false
+  423 control enabled reactor2 false
   424 print "emergency mode"
   425 print "\n"
   426 set :start_reactor.0:supply_fuel false
   427 jump *label228 always
   428 label *label195
   429 jump *label214 equal :start_reactor.0:enabled false
-    * jump *label196 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * control enabled :start_reactor.0:reactor false
+  430 jump *label196 greaterThanEq .REACTORS_DESIRED 2
+  431 control enabled reactor2 false
   432 print "STOP unwanted"
   433 print "\n"
   434 jump *label213 always
   435 label *label196
-    * op greaterThan *tmp136 :start_reactor.0:reactor_num 1
-    * op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
-    * op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
-    * op land *tmp139 *tmp136 *tmp138
+  436 op greaterThan *tmp136 2 1
+  437 op mul *tmp137 15 2
+  438 op lessThan *tmp138 :start_reactor.0:fuel_stored 30
+  439 op land *tmp139 true *tmp138
   440 jump *label197 equal *tmp139 false
-    * control enabled :start_reactor.0:reactor false
+  441 control enabled reactor2 false
   442 print "STOP system fuel low"
   443 print "\n"
   444 jump *label212 always
   445 label *label197
   446 jump *label198 greaterThan :start_reactor.0:fuel 1
-    * control enabled :start_reactor.0:reactor false
+  447 control enabled reactor2 false
   448 print "STOP fuel low"
   449 print "\n"
   450 jump *label211 always
   451 label *label198
-    * jump *label199 greaterThan :start_reactor.0:cryo .CRYO_ABORT
-    * control enabled :start_reactor.0:reactor false
+  452 jump *label199 greaterThan :start_reactor.0:cryo 1
+  453 control enabled reactor2 false
   454 print "STOP out of cryo"
   455 print "\n"
   456 jump *label210 always
 
   458 jump *label206 greaterThanEq :start_reactor.0:secs 30
   459 setaddr :calc_charge_req.0*retaddr *label78
   460 label *label200
-    * op sub *tmp102 @tick :start_reactor.0:t_startup
+  461 op sub *tmp102 @tick :t_startup2
   462 op idiv :calc_charge_req.0:secs *tmp102 60
   463 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :start_reactor.0:reactor @enabled
+  464 sensor *tmp105 reactor2 @enabled
   465 op equal *tmp106 *tmp105 false
   466 op or *tmp107 *tmp104 *tmp106
   467 jump *label201 equal *tmp107 false
 
   476 jump *label203 always
   477 label *label203
   478 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
-    * op lessThan *tmp154 *tmp153 .PWR_ABORT
-    * op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
+  479 op lessThan *tmp154 *tmp153 5000
+  480 op lessThan *tmp155 :start_reactor.0:surplus -500
   481 op land *tmp156 *tmp154 *tmp155
   482 jump *label204 equal *tmp156 false
-    * control enabled :start_reactor.0:reactor false
+  483 control enabled reactor2 false
   484 print "START FAIL battery"
   485 print "\n"
   486 set :start_reactor.0:supply_fuel false
 
   497 label *label205
   498 jump *label209 always
   499 label *label206
-    * op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
-    * op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
+  500 op lessThan *tmp161 :start_reactor.0:charge 2000
+  501 op lessThan *tmp162 :start_reactor.0:surplus -500
   502 op land *tmp163 *tmp161 *tmp162
   503 jump *label207 equal *tmp163 false
-    * control enabled :start_reactor.0:reactor false
+  504 control enabled reactor2 false
   505 print "ABANDON - battery crit"
   506 print "\n"
   507 set :start_reactor.0:supply_fuel false
 
   523 jump *label227 always
   524 label *label214
   525 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
-    * op sub *tmp170 *tmp169 .PWR_ABORT
-    * op div *tmp171 *tmp170 .PWR_REQ
-    * op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
-    * op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
+  526 op sub *tmp170 *tmp169 5000
+  527 op div *tmp171 *tmp170 23000
+  528 op mul :start_reactor.0:charge_units *tmp171 0.6
+  529 op div *tmp173 :start_reactor.0:surplus 2000
   530 op max :start_reactor.0:flow_units -0.1 *tmp173
-    * op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
-    * op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
-    * jump *label215 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  531 op mul *tmp175 2 2
+  532 op add :start_reactor.0:cryo_req 3 4
+  533 jump *label215 greaterThanEq .REACTORS_DESIRED 2
   534 print "IDLE"
   535 print "\n"
   536 set :start_reactor.0:supply_fuel false
 
   551 set :start_reactor.0:supply_fuel false
   552 jump *label225 always
   553 label *label216
-    * op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
-    * op land *tmp189 :start_reactor.0:fuel_on *tmp188
+  554 op lessThan *tmp188 :start_reactor.0:fuel 10
+  555 op land *tmp189 :fuel_2 *tmp188
   556 jump *label219 equal *tmp189 false
   557 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
-    * jump *label217 lessThanEq *tmp191 .FUEL_REQ
+  558 jump *label217 lessThanEq *tmp191 10
   559 print "WAIT fuel"
   560 print "\n"
   561 jump *label218 always
 
   565 label *label218
   566 jump *label224 always
   567 label *label219
-    * op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
-    * jump *label220 greaterThanEq :start_reactor.0:fuel_stored *tmp194
+  568 op mul *tmp194 45 2
+  569 jump *label220 greaterThanEq :start_reactor.0:fuel_stored 90
   570 print "WAIT buffer fuel"
   571 print "\n"
   572 jump *label223 always
   573 label *label220
-    * jump *label221 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
+  574 jump *label221 greaterThanEq :start_reactor.0:cryo 7
   575 print "WAIT cryo"
   576 print "\n"
   577 jump *label222 always
   578 label *label221
   579 print "STARTUP"
   580 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor.0:reactor true
+  581 op add .START_POWER_REQ .START_POWER_REQ 23000
+  582 control enabled reactor2 true
   583 label *label222
   584 label *label223
   585 label *label224
 
   587 label *label226
   588 label *label227
   589 label *label228
-    * sensor *tmp201 :start_reactor.0:reactor @enabled
+  590 sensor *tmp201 reactor2 @enabled
   591 jump *label229 equal :start_reactor.0:enabled *tmp201
   592 set .RET_T_STARTUP @tick
   593 label *label229
 
   595 set :start_reactor.0*retval :start_reactor.0:supply_fuel
   596 jump *label231 always
   597 label *label231
-    * set :fuel_2 :start_reactor.0*retval
+  598 set :fuel_2 :start_reactor.0:supply_fuel
   599 set :t_startup2 .RET_T_STARTUP
   600 setaddr :update_fuel.0*retaddr *label22
   601 label *label112
-    * jump *label113 equal :start_reactor.0*retval false
+  602 jump *label113 equal :start_reactor.0:supply_fuel false
   603 control config unloader3 @blast-compound
   604 jump *label114 always
   605 label *label113
   606 control config unloader3 @scrap
   607 label *label114
-    * jump *label115 notEqual :start_reactor.0*retval false
+  608 jump *label115 notEqual :start_reactor.0:supply_fuel false
   609 control config unloader4 @blast-compound
   610 jump *label116 always
   611 label *label115

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
   392 control config unloader2 @scrap
   393 label *label110
   394 label *label111
-    * set :start_reactor.0:reactor reactor2
-    * set :start_reactor.0:reactor_num 2
-    * set :start_reactor.0:emerg_shutdown :emerg_shutdown
-    * set :start_reactor.0:fuel_on :fuel_2
-    * set :start_reactor.0:t_startup :t_startup2
   395 label *label194
   396 set .RET_T_STARTUP :t_startup2
   397 op sub *tmp113 @tick :t_startup2
 
   520 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
   521 op sub *tmp170 *tmp169 5000
   522 op div *tmp171 *tmp170 23000
-    * op mul :start_reactor.0:charge_units *tmp171 0.6
+  523 op div :start_reactor.0:charge_units *tmp170 38333.333333333336
   524 op div *tmp173 :start_reactor.0:surplus 2000
   525 op max :start_reactor.0:flow_units -0.1 *tmp173
   526 op mul *tmp175 2 2
 
   587 set .RET_T_STARTUP @tick
   588 label *label229
   589 label *label230
-    * set :start_reactor.0*retval :start_reactor.0:supply_fuel
   590 jump *label231 always
   591 label *label231
   592 set :fuel_2 :start_reactor.0:supply_fuel

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-9 instructions):
 
    60 control enabled projector1 false
    61 control enabled projector2 false
    62 set :check_radar.0*retval false
-    * jump *label127 always
    63 label *label126
    64 label *label127
    65 op notEqual *tmp9 switch1 null
 
   372 set .RET_T_STARTUP @tick
   373 label *label191
   374 label *label192
-    * jump *label193 always
   375 label *label193
   376 set :fuel_1 :start_reactor.0:supply_fuel
   377 set :t_startup1 .RET_T_STARTUP
 
   585 set .RET_T_STARTUP @tick
   586 label *label229
   587 label *label230
-    * jump *label231 always
   588 label *label231
   589 set :fuel_2 :start_reactor.0:supply_fuel
   590 set :t_startup2 .RET_T_STARTUP
 
   628 control enabled projector1 false
   629 control enabled projector2 false
   630 set :check_radar.0*retval false
-    * jump *label131 always
   631 label *label130
   632 label *label131
   633 op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
 
   733 label *label34
   734 label *label30
   735 op lessThan *tmp32 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
-    * jump *label28 always
   736 label *label28
   737 jump *label35 equal *tmp32 false
   738 control config unloader7 @pyratite
 
   761 label *label100
   762 op idiv *tmp93 .AVG_SURPLUS 100
   763 op div :kilo.0*retval *tmp93 10
-    * jump *label101 always
   764 label *label101
   765 set :surplus :kilo.0*retval
   766 sensor :kilo.0:val node1 @powerNetStored
 
   768 label *label102
   769 op idiv *tmp93 :kilo.0:val 100
   770 op div :kilo.0*retval *tmp93 10
-    * jump *label103 always
   771 label *label103
   772 set :charge :kilo.0*retval
   773 jump *label42 lessThanEq .START_POWER_REQ 0
 
   775 label *label104
   776 op idiv *tmp93 .START_POWER_REQ 100
   777 op div :kilo.0*retval *tmp93 10
-    * jump *label105 always
   778 label *label105
   779 print "Req "
   780 print :kilo.0*retval
 
  1027 label *label95
  1028 label *label96
  1029 set :start_reactor.0*retval :start_reactor.0:supply_fuel
-    * jump *label63 always
  1030 label *label63
  1031 return :start_reactor.0*retaddr
  1032 end

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-4 instructions):
 
    86 op equal *tmp106 *tmp105 false
    87 op or *tmp107 *tmp104 *tmp106
    88 jump *label133 equal *tmp107 false
-    * set :calc_charge_req.0*retval 0
+   89 set .START_POWER_REQ 0
    90 jump *label135 always
    91 label *label133
    92 label *label134
    93 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
    94 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
    95 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
-    * set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+   96 set .START_POWER_REQ :calc_charge_req.0:charge_req
    97 jump *label135 always
    98 label *label135
-    * set .START_POWER_REQ :calc_charge_req.0*retval
    99 setaddr :calc_charge_req.0*retaddr *label15
   100 label *label136
   101 op sub *tmp102 @tick :t_startup2
 
   759 setaddr :kilo.0*retaddr *label40
   760 label *label100
   761 op idiv *tmp93 .AVG_SURPLUS 100
-    * op div :kilo.0*retval *tmp93 10
+  762 op div :surplus *tmp93 10
   763 label *label101
-    * set :surplus :kilo.0*retval
   764 sensor :kilo.0:val node1 @powerNetStored
   765 setaddr :kilo.0*retaddr *label41
   766 label *label102
 
   834 op sub *tmp113 @tick :start_reactor.0:t_startup
   835 op idiv :start_reactor.0:secs *tmp113 60
   836 sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
-    * set :start_reactor.0:supply_fuel true
+  837 set :start_reactor.0*retval true
   838 sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
   839 sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
   840 sensor *tmp118 .NODE @powerNetStored
 
   855 control enabled :start_reactor.0:reactor false
   856 print "emergency mode"
   857 print "\n"
-    * set :start_reactor.0:supply_fuel false
+  858 set :start_reactor.0*retval false
   859 jump *label65 always
   860 label *label64
   861 jump *label66 equal :start_reactor.0:enabled false
 
   903 label *label154
   904 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
   905 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
-    * op idiv :calc_charge_req.0:charge_req *tmp110 0.04
-    * set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  906 op idiv :calc_charge_req.0*retval *tmp110 0.04
   907 jump *label155 always
   908 label *label155
   909 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
 
   914 control enabled :start_reactor.0:reactor false
   915 print "START FAIL battery"
   916 print "\n"
-    * set :start_reactor.0:supply_fuel false
+  917 set :start_reactor.0*retval false
   918 jump *label80 always
   919 label *label79
   920 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
 
   935 control enabled :start_reactor.0:reactor false
   936 print "ABANDON - battery crit"
   937 print "\n"
-    * set :start_reactor.0:supply_fuel false
+  938 set :start_reactor.0*retval false
   939 jump *label82 always
   940 label *label81
   941 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
 
   964 jump *label83 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
   965 print "IDLE"
   966 print "\n"
-    * set :start_reactor.0:supply_fuel false
+  967 set :start_reactor.0*retval false
   968 jump *label84 always
   969 label *label83
   970 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
 
   979 print :start_reactor.0:flow
   980 print "W)"
   981 print "\n"
-    * set :start_reactor.0:supply_fuel false
+  982 set :start_reactor.0*retval false
   983 jump *label86 always
   984 label *label85
   985 op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
 
  1023 set .RET_T_STARTUP @tick
  1024 label *label95
  1025 label *label96
-    * set :start_reactor.0*retval :start_reactor.0:supply_fuel
  1026 label *label63
  1027 return :start_reactor.0*retaddr
  1028 end

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2:
 
   677 control config unloader6 @scrap
   678 label *label122
   679 label *label123
-    * op or *tmp30 :fuel_1 :fuel_2
+  680 op or *tmp30 :fuel_1 :start_reactor.0:supply_fuel
   681 op or :throttle_blast.0:reactors_fueled *tmp30 :fuel_many
   682 sensor *tmp33 node1 @powerNetStored
   683 op floor :throttle_blast.0:charge *tmp33

Modifications by Inline function call at line 89:14 (+155 instructions):
 
   635 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   636 set :start_reactor.0:fuel_on :fuel_3
   637 set :start_reactor.0:t_startup :t_startup3
-    * setaddr :start_reactor.0*retaddr *label24
-    * call *label3 *invalid :start_reactor.0*retval
-    * label *label24
+  638 label *label232
+  639 set .RET_T_STARTUP :start_reactor.0:t_startup
+  640 op sub *tmp113 @tick :start_reactor.0:t_startup
+  641 op idiv :start_reactor.0:secs *tmp113 60
+  642 sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
+  643 set :start_reactor.0*retval true
+  644 sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
+  645 sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
+  646 sensor *tmp118 .NODE @powerNetStored
+  647 op floor :start_reactor.0:charge *tmp118
+  648 sensor *tmp120 .NODE @powerNetIn
+  649 sensor *tmp121 .NODE @powerNetOut
+  650 op sub *tmp122 *tmp120 *tmp121
+  651 op floor :start_reactor.0:surplus *tmp122
+  652 op mul *tmp124 .AVG_SURPLUS 0.8
+  653 op mul *tmp125 :start_reactor.0:surplus 0.2
+  654 op add .AVG_SURPLUS *tmp124 *tmp125
+  655 sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
+  656 print "#"
+  657 print :start_reactor.0:reactor_num
+  658 print " "
+  659 print "- "
+  660 jump *label233 equal :start_reactor.0:emerg_shutdown false
+  661 control enabled :start_reactor.0:reactor false
+  662 print "emergency mode"
+  663 print "\n"
+  664 set :start_reactor.0*retval false
+  665 jump *label266 always
+  666 label *label233
+  667 jump *label252 equal :start_reactor.0:enabled false
+  668 jump *label234 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  669 control enabled :start_reactor.0:reactor false
+  670 print "STOP unwanted"
+  671 print "\n"
+  672 jump *label251 always
+  673 label *label234
+  674 op greaterThan *tmp136 :start_reactor.0:reactor_num 1
+  675 op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
+  676 op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
+  677 op land *tmp139 *tmp136 *tmp138
+  678 jump *label235 equal *tmp139 false
+  679 control enabled :start_reactor.0:reactor false
+  680 print "STOP system fuel low"
+  681 print "\n"
+  682 jump *label250 always
+  683 label *label235
+  684 jump *label236 greaterThan :start_reactor.0:fuel 1
+  685 control enabled :start_reactor.0:reactor false
+  686 print "STOP fuel low"
+  687 print "\n"
+  688 jump *label249 always
+  689 label *label236
+  690 jump *label237 greaterThan :start_reactor.0:cryo .CRYO_ABORT
+  691 control enabled :start_reactor.0:reactor false
+  692 print "STOP out of cryo"
+  693 print "\n"
+  694 jump *label248 always
+  695 label *label237
+  696 jump *label244 greaterThanEq :start_reactor.0:secs 30
+  697 setaddr :calc_charge_req.0*retaddr *label78
+  698 label *label238
+  699 op sub *tmp102 @tick :start_reactor.0:t_startup
+  700 op idiv :calc_charge_req.0:secs *tmp102 60
+  701 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  702 sensor *tmp105 :start_reactor.0:reactor @enabled
+  703 op equal *tmp106 *tmp105 false
+  704 op or *tmp107 *tmp104 *tmp106
+  705 jump *label239 equal *tmp107 false
+  706 set :calc_charge_req.0*retval 0
+  707 jump *label241 always
+  708 label *label239
+  709 label *label240
+  710 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  711 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  712 op idiv :calc_charge_req.0*retval *tmp110 0.04
+  713 jump *label241 always
+  714 label *label241
+  715 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
+  716 op lessThan *tmp154 *tmp153 .PWR_ABORT
+  717 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
+  718 op land *tmp156 *tmp154 *tmp155
+  719 jump *label242 equal *tmp156 false
+  720 control enabled :start_reactor.0:reactor false
+  721 print "START FAIL battery"
+  722 print "\n"
+  723 set :start_reactor.0*retval false
+  724 jump *label243 always
+  725 label *label242
+  726 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
+  727 print "Starting "
+  728 print :start_reactor.0:time_left
+  729 print " "
+  730 print "secs, req "
+  731 print :calc_charge_req.0*retval
+  732 print "J"
+  733 print "\n"
+  734 label *label243
+  735 jump *label247 always
+  736 label *label244
+  737 op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
+  738 op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
+  739 op land *tmp163 *tmp161 *tmp162
+  740 jump *label245 equal *tmp163 false
+  741 control enabled :start_reactor.0:reactor false
+  742 print "ABANDON - battery crit"
+  743 print "\n"
+  744 set :start_reactor.0*retval false
+  745 jump *label246 always
+  746 label *label245
+  747 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
+  748 op div :start_reactor.0:mins :start_reactor.0:mins 10
+  749 print "RUN "
+  750 print :start_reactor.0:mins
+  751 print " "
+  752 print "mins"
+  753 print "\n"
+  754 label *label246
+  755 label *label247
+  756 label *label248
+  757 label *label249
+  758 label *label250
+  759 label *label251
+  760 jump *label265 always
+  761 label *label252
+  762 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
+  763 op sub *tmp170 *tmp169 .PWR_ABORT
+  764 op div *tmp171 *tmp170 .PWR_REQ
+  765 op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
+  766 op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
+  767 op max :start_reactor.0:flow_units -0.1 *tmp173
+  768 op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
+  769 op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
+  770 jump *label253 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  771 print "IDLE"
+  772 print "\n"
+  773 set :start_reactor.0*retval false
+  774 jump *label264 always
+  775 label *label253
+  776 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
+  777 jump *label254 greaterThanEq *tmp179 1
+  778 op idiv *tmp183 :start_reactor.0:flow_units 0.001
+  779 op div :start_reactor.0:flow *tmp183 10
+  780 op idiv *tmp186 :start_reactor.0:charge_units 0.001
+  781 op div :start_reactor.0:charge *tmp186 10
+  782 print "WAIT power. (%"
+  783 print :start_reactor.0:charge
+  784 print "J + %"
+  785 print :start_reactor.0:flow
+  786 print "W)"
+  787 print "\n"
+  788 set :start_reactor.0*retval false
+  789 jump *label263 always
+  790 label *label254
+  791 op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
+  792 op land *tmp189 :start_reactor.0:fuel_on *tmp188
+  793 jump *label257 equal *tmp189 false
+  794 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
+  795 jump *label255 lessThanEq *tmp191 .FUEL_REQ
+  796 print "WAIT fuel"
+  797 print "\n"
+  798 jump *label256 always
+  799 label *label255
+  800 print "WAIT system fuel"
+  801 print "\n"
+  802 label *label256
+  803 jump *label262 always
+  804 label *label257
+  805 op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
+  806 jump *label258 greaterThanEq :start_reactor.0:fuel_stored *tmp194
+  807 print "WAIT buffer fuel"
+  808 print "\n"
+  809 jump *label261 always
+  810 label *label258
+  811 jump *label259 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
+  812 print "WAIT cryo"
+  813 print "\n"
+  814 jump *label260 always
+  815 label *label259
+  816 print "STARTUP"
+  817 print "\n"
+  818 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  819 control enabled :start_reactor.0:reactor true
+  820 label *label260
+  821 label *label261
+  822 label *label262
+  823 label *label263
+  824 label *label264
+  825 label *label265
+  826 label *label266
+  827 sensor *tmp201 :start_reactor.0:reactor @enabled
+  828 jump *label267 equal :start_reactor.0:enabled *tmp201
+  829 set .RET_T_STARTUP @tick
+  830 label *label267
+  831 label *label268
+  832 label *label269
   833 set :fuel_3 :start_reactor.0*retval
   834 set :t_startup3 .RET_T_STARTUP
   835 set :start_reactor.0:reactor reactor4

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-1 instructions):
 
   640 op sub *tmp113 @tick :start_reactor.0:t_startup
   641 op idiv :start_reactor.0:secs *tmp113 60
   642 sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
-    * set :start_reactor.0*retval true
+  643 set :fuel_3 true
   644 sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
   645 sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
   646 sensor *tmp118 .NODE @powerNetStored
 
   661 control enabled :start_reactor.0:reactor false
   662 print "emergency mode"
   663 print "\n"
-    * set :start_reactor.0*retval false
+  664 set :fuel_3 false
   665 jump *label266 always
   666 label *label233
   667 jump *label252 equal :start_reactor.0:enabled false
 
   720 control enabled :start_reactor.0:reactor false
   721 print "START FAIL battery"
   722 print "\n"
-    * set :start_reactor.0*retval false
+  723 set :fuel_3 false
   724 jump *label243 always
   725 label *label242
   726 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
 
   741 control enabled :start_reactor.0:reactor false
   742 print "ABANDON - battery crit"
   743 print "\n"
-    * set :start_reactor.0*retval false
+  744 set :fuel_3 false
   745 jump *label246 always
   746 label *label245
   747 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
 
   770 jump *label253 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
   771 print "IDLE"
   772 print "\n"
-    * set :start_reactor.0*retval false
+  773 set :fuel_3 false
   774 jump *label264 always
   775 label *label253
   776 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
 
   785 print :start_reactor.0:flow
   786 print "W)"
   787 print "\n"
-    * set :start_reactor.0*retval false
+  788 set :fuel_3 false
   789 jump *label263 always
   790 label *label254
   791 op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
 
   830 label *label267
   831 label *label268
   832 label *label269
-    * set :fuel_3 :start_reactor.0*retval
   833 set :t_startup3 .RET_T_STARTUP
   834 set :start_reactor.0:reactor reactor4
   835 set :start_reactor.0:reactor_num 4

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2:
 
   636 set :start_reactor.0:fuel_on :fuel_3
   637 set :start_reactor.0:t_startup :t_startup3
   638 label *label232
-    * set .RET_T_STARTUP :start_reactor.0:t_startup
-    * op sub *tmp113 @tick :start_reactor.0:t_startup
+  639 set .RET_T_STARTUP :t_startup3
+  640 op sub *tmp113 @tick :t_startup3
   641 op idiv :start_reactor.0:secs *tmp113 60
-    * sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
+  642 sensor :start_reactor.0:fuel reactor3 @blast-compound
   643 set :fuel_3 true
-    * sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
-    * sensor *tmp118 .NODE @powerNetStored
+  644 sensor :start_reactor.0:fuel_stored vault1 @blast-compound
+  645 sensor :start_reactor.0:cryo reactor3 @cryofluid
+  646 sensor *tmp118 node1 @powerNetStored
   647 op floor :start_reactor.0:charge *tmp118
-    * sensor *tmp120 .NODE @powerNetIn
-    * sensor *tmp121 .NODE @powerNetOut
+  648 sensor *tmp120 node1 @powerNetIn
+  649 sensor *tmp121 node1 @powerNetOut
   650 op sub *tmp122 *tmp120 *tmp121
   651 op floor :start_reactor.0:surplus *tmp122
   652 op mul *tmp124 .AVG_SURPLUS 0.8
   653 op mul *tmp125 :start_reactor.0:surplus 0.2
   654 op add .AVG_SURPLUS *tmp124 *tmp125
-    * sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
+  655 sensor :start_reactor.0:enabled reactor3 @enabled
   656 print "#"
-    * print :start_reactor.0:reactor_num
+  657 print 3
   658 print " "
   659 print "- "
-    * jump *label233 equal :start_reactor.0:emerg_shutdown false
-    * control enabled :start_reactor.0:reactor false
+  660 jump *label233 equal :emerg_shutdown false
+  661 control enabled reactor3 false
   662 print "emergency mode"
   663 print "\n"
   664 set :fuel_3 false
   665 jump *label266 always
   666 label *label233
   667 jump *label252 equal :start_reactor.0:enabled false
-    * jump *label234 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * control enabled :start_reactor.0:reactor false
+  668 jump *label234 greaterThanEq .REACTORS_DESIRED 3
+  669 control enabled reactor3 false
   670 print "STOP unwanted"
   671 print "\n"
   672 jump *label251 always
   673 label *label234
-    * op greaterThan *tmp136 :start_reactor.0:reactor_num 1
-    * op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
-    * op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
-    * op land *tmp139 *tmp136 *tmp138
+  674 op greaterThan *tmp136 3 1
+  675 op mul *tmp137 15 3
+  676 op lessThan *tmp138 :start_reactor.0:fuel_stored 45
+  677 op land *tmp139 true *tmp138
   678 jump *label235 equal *tmp139 false
-    * control enabled :start_reactor.0:reactor false
+  679 control enabled reactor3 false
   680 print "STOP system fuel low"
   681 print "\n"
   682 jump *label250 always
   683 label *label235
   684 jump *label236 greaterThan :start_reactor.0:fuel 1
-    * control enabled :start_reactor.0:reactor false
+  685 control enabled reactor3 false
   686 print "STOP fuel low"
   687 print "\n"
   688 jump *label249 always
   689 label *label236
-    * jump *label237 greaterThan :start_reactor.0:cryo .CRYO_ABORT
-    * control enabled :start_reactor.0:reactor false
+  690 jump *label237 greaterThan :start_reactor.0:cryo 1
+  691 control enabled reactor3 false
   692 print "STOP out of cryo"
   693 print "\n"
   694 jump *label248 always
 
   696 jump *label244 greaterThanEq :start_reactor.0:secs 30
   697 setaddr :calc_charge_req.0*retaddr *label78
   698 label *label238
-    * op sub *tmp102 @tick :start_reactor.0:t_startup
+  699 op sub *tmp102 @tick :t_startup3
   700 op idiv :calc_charge_req.0:secs *tmp102 60
   701 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :start_reactor.0:reactor @enabled
+  702 sensor *tmp105 reactor3 @enabled
   703 op equal *tmp106 *tmp105 false
   704 op or *tmp107 *tmp104 *tmp106
   705 jump *label239 equal *tmp107 false
 
   713 jump *label241 always
   714 label *label241
   715 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
-    * op lessThan *tmp154 *tmp153 .PWR_ABORT
-    * op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
+  716 op lessThan *tmp154 *tmp153 5000
+  717 op lessThan *tmp155 :start_reactor.0:surplus -500
   718 op land *tmp156 *tmp154 *tmp155
   719 jump *label242 equal *tmp156 false
-    * control enabled :start_reactor.0:reactor false
+  720 control enabled reactor3 false
   721 print "START FAIL battery"
   722 print "\n"
   723 set :fuel_3 false
 
   734 label *label243
   735 jump *label247 always
   736 label *label244
-    * op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
-    * op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
+  737 op lessThan *tmp161 :start_reactor.0:charge 2000
+  738 op lessThan *tmp162 :start_reactor.0:surplus -500
   739 op land *tmp163 *tmp161 *tmp162
   740 jump *label245 equal *tmp163 false
-    * control enabled :start_reactor.0:reactor false
+  741 control enabled reactor3 false
   742 print "ABANDON - battery crit"
   743 print "\n"
   744 set :fuel_3 false
 
   760 jump *label265 always
   761 label *label252
   762 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
-    * op sub *tmp170 *tmp169 .PWR_ABORT
-    * op div *tmp171 *tmp170 .PWR_REQ
-    * op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
-    * op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
+  763 op sub *tmp170 *tmp169 5000
+  764 op div *tmp171 *tmp170 23000
+  765 op mul :start_reactor.0:charge_units *tmp171 0.6
+  766 op div *tmp173 :start_reactor.0:surplus 2000
   767 op max :start_reactor.0:flow_units -0.1 *tmp173
-    * op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
-    * op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
-    * jump *label253 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  768 op mul *tmp175 2 3
+  769 op add :start_reactor.0:cryo_req 3 6
+  770 jump *label253 greaterThanEq .REACTORS_DESIRED 3
   771 print "IDLE"
   772 print "\n"
   773 set :fuel_3 false
 
   788 set :fuel_3 false
   789 jump *label263 always
   790 label *label254
-    * op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
+  791 op lessThan *tmp188 :start_reactor.0:fuel 10
   792 op land *tmp189 :start_reactor.0:fuel_on *tmp188
   793 jump *label257 equal *tmp189 false
   794 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
-    * jump *label255 lessThanEq *tmp191 .FUEL_REQ
+  795 jump *label255 lessThanEq *tmp191 10
   796 print "WAIT fuel"
   797 print "\n"
   798 jump *label256 always
 
   802 label *label256
   803 jump *label262 always
   804 label *label257
-    * op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
-    * jump *label258 greaterThanEq :start_reactor.0:fuel_stored *tmp194
+  805 op mul *tmp194 45 3
+  806 jump *label258 greaterThanEq :start_reactor.0:fuel_stored 135
   807 print "WAIT buffer fuel"
   808 print "\n"
   809 jump *label261 always
   810 label *label258
-    * jump *label259 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
+  811 jump *label259 greaterThanEq :start_reactor.0:cryo 9
   812 print "WAIT cryo"
   813 print "\n"
   814 jump *label260 always
   815 label *label259
   816 print "STARTUP"
   817 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor.0:reactor true
+  818 op add .START_POWER_REQ .START_POWER_REQ 23000
+  819 control enabled reactor3 true
   820 label *label260
   821 label *label261
   822 label *label262
 
   824 label *label264
   825 label *label265
   826 label *label266
-    * sensor *tmp201 :start_reactor.0:reactor @enabled
+  827 sensor *tmp201 reactor3 @enabled
   828 jump *label267 equal :start_reactor.0:enabled *tmp201
   829 set .RET_T_STARTUP @tick
   830 label *label267

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 3 (-4 instructions):
 
   630 label *label130
   631 label *label131
   632 op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
-    * set :start_reactor.0:reactor reactor3
-    * set :start_reactor.0:reactor_num 3
-    * set :start_reactor.0:emerg_shutdown :emerg_shutdown
   633 set :start_reactor.0:fuel_on :fuel_3
-    * set :start_reactor.0:t_startup :t_startup3
   634 label *label232
   635 set .RET_T_STARTUP :t_startup3
   636 op sub *tmp113 @tick :t_startup3
 
   758 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
   759 op sub *tmp170 *tmp169 5000
   760 op div *tmp171 *tmp170 23000
-    * op mul :start_reactor.0:charge_units *tmp171 0.6
+  761 op div :start_reactor.0:charge_units *tmp170 38333.333333333336
   762 op div *tmp173 :start_reactor.0:surplus 2000
   763 op max :start_reactor.0:flow_units -0.1 *tmp173
   764 op mul *tmp175 2 3

Modifications by Iterated phase, Jump Optimization, pass 3, iteration 1 (-1 instructions):
 
   918 print "n"
   919 label *label34
   920 label *label30
-    * op lessThan *tmp32 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   921 label *label28
-    * jump *label35 equal *tmp32 false
+  922 jump *label35 greaterThanEq :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   923 control config unloader7 @pyratite
   924 jump *label36 always
   925 label *label35

Modifications by Final phase, Jump Threading, iteration 1:
 
   210 control enabled reactor1 false
   211 print "STOP unwanted"
   212 print "\n"
-    * jump *label175 always
+  213 jump *label189 always
   214 label *label158
   215 op greaterThan *tmp136 1 1
   216 op mul *tmp137 15 1
 
   220 control enabled reactor1 false
   221 print "STOP system fuel low"
   222 print "\n"
-    * jump *label174 always
+  223 jump *label189 always
   224 label *label159
   225 jump *label160 greaterThan :start_reactor.0:fuel 1
   226 control enabled reactor1 false
   227 print "STOP fuel low"
   228 print "\n"
-    * jump *label173 always
+  229 jump *label189 always
   230 label *label160
   231 jump *label161 greaterThan :start_reactor.0:cryo 1
   232 control enabled reactor1 false
   233 print "STOP out of cryo"
   234 print "\n"
-    * jump *label172 always
+  235 jump *label189 always
   236 label *label161
   237 jump *label168 greaterThanEq :start_reactor.0:secs 30
   238 setaddr :calc_charge_req.0*retaddr *label78
 
   263 print "START FAIL battery"
   264 print "\n"
   265 set :start_reactor.0:supply_fuel false
-    * jump *label167 always
+  266 jump *label189 always
   267 label *label166
   268 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
   269 print "Starting "
 
   274 print "J"
   275 print "\n"
   276 label *label167
-    * jump *label171 always
+  277 jump *label189 always
   278 label *label168
   279 op lessThan *tmp161 :start_reactor.0:charge 2000
   280 op lessThan *tmp162 :start_reactor.0:surplus -500
 
   284 print "ABANDON - battery crit"
   285 print "\n"
   286 set :start_reactor.0:supply_fuel false
-    * jump *label170 always
+  287 jump *label189 always
   288 label *label169
   289 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   290 op div :start_reactor.0:mins :start_reactor.0:mins 10
 
   337 jump *label179 lessThanEq *tmp191 10
   338 print "WAIT fuel"
   339 print "\n"
-    * jump *label180 always
+  340 jump *label186 always
   341 label *label179
   342 print "WAIT system fuel"
   343 print "\n"
 
   423 control enabled reactor2 false
   424 print "STOP unwanted"
   425 print "\n"
-    * jump *label213 always
+  426 jump *label227 always
   427 label *label196
   428 op greaterThan *tmp136 2 1
   429 op mul *tmp137 15 2
 
   433 control enabled reactor2 false
   434 print "STOP system fuel low"
   435 print "\n"
-    * jump *label212 always
+  436 jump *label227 always
   437 label *label197
   438 jump *label198 greaterThan :start_reactor.0:fuel 1
   439 control enabled reactor2 false
   440 print "STOP fuel low"
   441 print "\n"
-    * jump *label211 always
+  442 jump *label227 always
   443 label *label198
   444 jump *label199 greaterThan :start_reactor.0:cryo 1
   445 control enabled reactor2 false
   446 print "STOP out of cryo"
   447 print "\n"
-    * jump *label210 always
+  448 jump *label227 always
   449 label *label199
   450 jump *label206 greaterThanEq :start_reactor.0:secs 30
   451 setaddr :calc_charge_req.0*retaddr *label78
 
   476 print "START FAIL battery"
   477 print "\n"
   478 set :start_reactor.0:supply_fuel false
-    * jump *label205 always
+  479 jump *label227 always
   480 label *label204
   481 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
   482 print "Starting "
 
   487 print "J"
   488 print "\n"
   489 label *label205
-    * jump *label209 always
+  490 jump *label227 always
   491 label *label206
   492 op lessThan *tmp161 :start_reactor.0:charge 2000
   493 op lessThan *tmp162 :start_reactor.0:surplus -500
 
   497 print "ABANDON - battery crit"
   498 print "\n"
   499 set :start_reactor.0:supply_fuel false
-    * jump *label208 always
+  500 jump *label227 always
   501 label *label207
   502 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   503 op div :start_reactor.0:mins :start_reactor.0:mins 10
 
   550 jump *label217 lessThanEq *tmp191 10
   551 print "WAIT fuel"
   552 print "\n"
-    * jump *label218 always
+  553 jump *label224 always
   554 label *label217
   555 print "WAIT system fuel"
   556 print "\n"
 
   665 control enabled reactor3 false
   666 print "STOP unwanted"
   667 print "\n"
-    * jump *label251 always
+  668 jump *label265 always
   669 label *label234
   670 op greaterThan *tmp136 3 1
   671 op mul *tmp137 15 3
 
   675 control enabled reactor3 false
   676 print "STOP system fuel low"
   677 print "\n"
-    * jump *label250 always
+  678 jump *label265 always
   679 label *label235
   680 jump *label236 greaterThan :start_reactor.0:fuel 1
   681 control enabled reactor3 false
   682 print "STOP fuel low"
   683 print "\n"
-    * jump *label249 always
+  684 jump *label265 always
   685 label *label236
   686 jump *label237 greaterThan :start_reactor.0:cryo 1
   687 control enabled reactor3 false
   688 print "STOP out of cryo"
   689 print "\n"
-    * jump *label248 always
+  690 jump *label265 always
   691 label *label237
   692 jump *label244 greaterThanEq :start_reactor.0:secs 30
   693 setaddr :calc_charge_req.0*retaddr *label78
 
   717 print "START FAIL battery"
   718 print "\n"
   719 set :fuel_3 false
-    * jump *label243 always
+  720 jump *label265 always
   721 label *label242
   722 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
   723 print "Starting "
 
   728 print "J"
   729 print "\n"
   730 label *label243
-    * jump *label247 always
+  731 jump *label265 always
   732 label *label244
   733 op lessThan *tmp161 :start_reactor.0:charge 2000
   734 op lessThan *tmp162 :start_reactor.0:surplus -500
 
   738 print "ABANDON - battery crit"
   739 print "\n"
   740 set :fuel_3 false
-    * jump *label246 always
+  741 jump *label265 always
   742 label *label245
   743 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   744 op div :start_reactor.0:mins :start_reactor.0:mins 10
 
   791 jump *label255 lessThanEq *tmp191 10
   792 print "WAIT fuel"
   793 print "\n"
-    * jump *label256 always
+  794 jump *label262 always
   795 label *label255
   796 print "WAIT system fuel"
   797 print "\n"
 
   889 jump *label31 equal :emerg_shutdown false
   890 print " Enemies detected."
   891 print "\n"
-    * jump *label32 always
+  892 jump *label30 always
   893 label *label31
   894 print " Critical power."
   895 print "\n"
 
  1049 control enabled :start_reactor.0:reactor false
  1050 print "STOP unwanted"
  1051 print "\n"
-    * jump *label69 always
+ 1052 jump *label67 always
  1053 label *label68
  1054 op greaterThan *tmp136 :start_reactor.0:reactor_num 1
  1055 op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
 
  1059 control enabled :start_reactor.0:reactor false
  1060 print "STOP system fuel low"
  1061 print "\n"
-    * jump *label71 always
+ 1062 jump *label67 always
  1063 label *label70
  1064 jump *label72 greaterThan :start_reactor.0:fuel 1
  1065 control enabled :start_reactor.0:reactor false
  1066 print "STOP fuel low"
  1067 print "\n"
-    * jump *label73 always
+ 1068 jump *label67 always
  1069 label *label72
  1070 jump *label74 greaterThan :start_reactor.0:cryo .CRYO_ABORT
  1071 control enabled :start_reactor.0:reactor false
  1072 print "STOP out of cryo"
  1073 print "\n"
-    * jump *label75 always
+ 1074 jump *label67 always
  1075 label *label74
  1076 jump *label76 greaterThanEq :start_reactor.0:secs 30
  1077 setaddr :calc_charge_req.0*retaddr *label78
 
  1101 print "START FAIL battery"
  1102 print "\n"
  1103 set :start_reactor.0*retval false
-    * jump *label80 always
+ 1104 jump *label67 always
  1105 label *label79
  1106 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
  1107 print "Starting "
 
  1112 print "J"
  1113 print "\n"
  1114 label *label80
-    * jump *label77 always
+ 1115 jump *label67 always
  1116 label *label76
  1117 op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
  1118 op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
 
  1122 print "ABANDON - battery crit"
  1123 print "\n"
  1124 set :start_reactor.0*retval false
-    * jump *label82 always
+ 1125 jump *label67 always
  1126 label *label81
  1127 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
  1128 op div :start_reactor.0:mins :start_reactor.0:mins 10
 
  1175 jump *label89 lessThanEq *tmp191 .FUEL_REQ
  1176 print "WAIT fuel"
  1177 print "\n"
-    * jump *label90 always
+ 1178 jump *label88 always
  1179 label *label89
  1180 print "WAIT system fuel"
  1181 print "\n"

Modifications by Final phase, Unreachable Code Elimination, iteration 1 (-4 instructions):
 
    55 control enabled reactor5 false
    56 set :check_radar.0*retval true
    57 jump *label127 always
-    * jump *label126 always
    58 label *label125
    59 control enabled projector1 false
    60 control enabled projector2 false
 
   621 control enabled reactor5 false
   622 set :check_radar.0*retval true
   623 jump *label131 always
-    * jump *label130 always
   624 label *label129
   625 control enabled projector1 false
   626 control enabled projector2 false
 
  1011 printflush message1
  1012 label *label8
  1013 jump *label7 always
-    * label *label9
-    * end
  1014 label *label3
  1015 set .RET_T_STARTUP :start_reactor.0:t_startup
  1016 op sub *tmp113 @tick :start_reactor.0:t_startup
 
  1207 label *label96
  1208 label *label63
  1209 return :start_reactor.0*retaddr
-    * end

Modifications by Final phase, Dead Code Elimination, iteration 1 (-17 instructions):
 
    35 label *label7
    36 set .CONTAINER vault1
    37 set .NODE node1
-    * setaddr :check_radar.0*retaddr *label10
    38 label *label124
    39 radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
    40 jump *label125 equal :check_radar.0:enemy_found null
 
    75 jump *label11 always
    76 label *label11
    77 op or :emerg_shutdown :check_radar.0*retval *tmp8
-    * setaddr :calc_charge_req.0*retaddr *label14
    78 label *label132
    79 op sub *tmp102 @tick :t_startup1
    80 op idiv :calc_charge_req.0:secs *tmp102 60
 
    93 set .START_POWER_REQ :calc_charge_req.0:charge_req
    94 jump *label135 always
    95 label *label135
-    * setaddr :calc_charge_req.0*retaddr *label15
    96 label *label136
    97 op sub *tmp102 @tick :t_startup2
    98 op idiv :calc_charge_req.0:secs *tmp102 60
 
   112 jump *label139 always
   113 label *label139
   114 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * setaddr :calc_charge_req.0*retaddr *label16
   115 label *label140
   116 op sub *tmp102 @tick :t_startup3
   117 op idiv :calc_charge_req.0:secs *tmp102 60
 
   131 jump *label143 always
   132 label *label143
   133 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * setaddr :calc_charge_req.0*retaddr *label17
   134 label *label144
   135 op sub *tmp102 @tick :t_startup4
   136 op idiv :calc_charge_req.0:secs *tmp102 60
 
   150 jump *label147 always
   151 label *label147
   152 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * setaddr :calc_charge_req.0*retaddr *label18
   153 label *label148
   154 op sub *tmp102 @tick :t_startup5
   155 op idiv :calc_charge_req.0:secs *tmp102 60
 
   228 jump *label189 always
   229 label *label161
   230 jump *label168 greaterThanEq :start_reactor.0:secs 30
-    * setaddr :calc_charge_req.0*retaddr *label78
   231 label *label162
   232 op sub *tmp102 @tick :t_startup1
   233 op idiv :calc_charge_req.0:secs *tmp102 60
 
   366 label *label193
   367 set :fuel_1 :start_reactor.0:supply_fuel
   368 set :t_startup1 .RET_T_STARTUP
-    * setaddr :update_fuel.0*retaddr *label20
   369 label *label106
   370 jump *label107 equal :start_reactor.0:supply_fuel false
   371 control config unloader1 @blast-compound
 
   439 jump *label227 always
   440 label *label199
   441 jump *label206 greaterThanEq :start_reactor.0:secs 30
-    * setaddr :calc_charge_req.0*retaddr *label78
   442 label *label200
   443 op sub *tmp102 @tick :t_startup2
   444 op idiv :calc_charge_req.0:secs *tmp102 60
 
   577 label *label231
   578 set :fuel_2 :start_reactor.0:supply_fuel
   579 set :t_startup2 .RET_T_STARTUP
-    * setaddr :update_fuel.0*retaddr *label22
   580 label *label112
   581 jump *label113 equal :start_reactor.0:supply_fuel false
   582 control config unloader3 @blast-compound
 
   591 control config unloader4 @scrap
   592 label *label116
   593 label *label117
-    * setaddr :check_radar.0*retaddr *label23
   594 label *label128
   595 radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
   596 jump *label129 equal :check_radar.0:enemy_found null
 
   677 jump *label265 always
   678 label *label237
   679 jump *label244 greaterThanEq :start_reactor.0:secs 30
-    * setaddr :calc_charge_req.0*retaddr *label78
   680 label *label238
   681 op sub *tmp102 @tick :t_startup3
   682 op idiv :calc_charge_req.0:secs *tmp102 60
 
   835 set :t_startup5 .RET_T_STARTUP
   836 op or *tmp27 :fuel_3 :fuel_4
   837 op or :fuel_many *tmp27 :start_reactor.0*retval
-    * setaddr :update_fuel.0*retaddr *label27
   838 label *label118
   839 jump *label119 equal :fuel_many false
   840 control config unloader5 @blast-compound
 
   927 control enabled generator2 true
   928 label *label39
   929 label *label37
-    * setaddr :kilo.0*retaddr *label40
   930 label *label100
   931 op idiv *tmp93 .AVG_SURPLUS 100
   932 op div :surplus *tmp93 10
   933 label *label101
   934 sensor :kilo.0:val node1 @powerNetStored
-    * setaddr :kilo.0*retaddr *label41
   935 label *label102
   936 op idiv *tmp93 :kilo.0:val 100
   937 op div :kilo.0*retval *tmp93 10
   938 label *label103
   939 set :charge :kilo.0*retval
   940 jump *label42 lessThanEq .START_POWER_REQ 0
-    * setaddr :kilo.0*retaddr *label44
   941 label *label104
   942 op idiv *tmp93 .START_POWER_REQ 100
   943 op div :kilo.0*retval *tmp93 10
 
  1054 jump *label67 always
  1055 label *label74
  1056 jump *label76 greaterThanEq :start_reactor.0:secs 30
-    * setaddr :calc_charge_req.0*retaddr *label78
  1057 label *label152
  1058 op sub *tmp102 @tick :start_reactor.0:t_startup
  1059 op idiv :calc_charge_req.0:secs *tmp102 60

Modifications by Final phase, Print Merging, iteration 1 (-132 instructions):
 
    65 op equal *tmp11 *tmp10 false
    66 op land *tmp12 *tmp9 *tmp11
    67 jump *label12 equal *tmp12 false
-    * print "User has disabled emergency switch"
-    * print "\n"
+   68 print "User has disabled emergency switch\n"
    69 set *tmp8 true
    70 jump *label11 always
    71 label *label12
 
   186 op mul *tmp125 :start_reactor.0:surplus 0.2
   187 op add .AVG_SURPLUS *tmp124 *tmp125
   188 sensor :start_reactor.0:enabled reactor1 @enabled
-    * print "#"
-    * print 1
-    * print " "
-    * print "- "
+  189 print "#1 - "
   190 jump *label157 equal :emerg_shutdown false
   191 control enabled reactor1 false
-    * print "emergency mode"
-    * print "\n"
+  192 print "emergency mode\n"
   193 set :start_reactor.0:supply_fuel false
   194 jump *label190 always
   195 label *label157
   196 jump *label176 equal :start_reactor.0:enabled false
   197 jump *label158 greaterThanEq .REACTORS_DESIRED 1
   198 control enabled reactor1 false
-    * print "STOP unwanted"
-    * print "\n"
+  199 print "STOP unwanted\n"
   200 jump *label189 always
   201 label *label158
   202 op greaterThan *tmp136 1 1
 
   205 op land *tmp139 false *tmp138
   206 jump *label159 equal *tmp139 false
   207 control enabled reactor1 false
-    * print "STOP system fuel low"
-    * print "\n"
+  208 print "STOP system fuel low\n"
   209 jump *label189 always
   210 label *label159
   211 jump *label160 greaterThan :start_reactor.0:fuel 1
   212 control enabled reactor1 false
-    * print "STOP fuel low"
-    * print "\n"
+  213 print "STOP fuel low\n"
   214 jump *label189 always
   215 label *label160
   216 jump *label161 greaterThan :start_reactor.0:cryo 1
   217 control enabled reactor1 false
-    * print "STOP out of cryo"
-    * print "\n"
+  218 print "STOP out of cryo\n"
   219 jump *label189 always
   220 label *label161
   221 jump *label168 greaterThanEq :start_reactor.0:secs 30
 
   243 op land *tmp156 *tmp154 *tmp155
   244 jump *label166 equal *tmp156 false
   245 control enabled reactor1 false
-    * print "START FAIL battery"
-    * print "\n"
+  246 print "START FAIL battery\n"
   247 set :start_reactor.0:supply_fuel false
   248 jump *label189 always
   249 label *label166
   250 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
-    * print "Starting "
-    * print :start_reactor.0:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req.0*retval
-    * print "J"
-    * print "\n"
+  251 print "Starting {0} secs, req {0}J\n"
+  252 format :start_reactor.0:time_left
+  253 format :calc_charge_req.0*retval
   254 label *label167
   255 jump *label189 always
   256 label *label168
 
   259 op land *tmp163 *tmp161 *tmp162
   260 jump *label169 equal *tmp163 false
   261 control enabled reactor1 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  262 print "ABANDON - battery crit\n"
   263 set :start_reactor.0:supply_fuel false
   264 jump *label189 always
   265 label *label169
   266 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   267 op div :start_reactor.0:mins :start_reactor.0:mins 10
-    * print "RUN "
-    * print :start_reactor.0:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  268 print "RUN {0} mins\n"
+  269 format :start_reactor.0:mins
   270 label *label170
   271 label *label171
   272 label *label172
 
   284 op mul *tmp175 2 1
   285 op add :start_reactor.0:cryo_req 3 2
   286 jump *label177 greaterThanEq .REACTORS_DESIRED 1
-    * print "IDLE"
-    * print "\n"
+  287 print "IDLE\n"
   288 set :start_reactor.0:supply_fuel false
   289 jump *label188 always
   290 label *label177
 
   294 op div :start_reactor.0:flow *tmp183 10
   295 op idiv *tmp186 :start_reactor.0:charge_units 0.001
   296 op div :start_reactor.0:charge *tmp186 10
-    * print "WAIT power. (%"
-    * print :start_reactor.0:charge
-    * print "J + %"
-    * print :start_reactor.0:flow
-    * print "W)"
-    * print "\n"
+  297 print "WAIT power. (%{0}J + %{0}W)\n"
+  298 format :start_reactor.0:charge
+  299 format :start_reactor.0:flow
   300 set :start_reactor.0:supply_fuel false
   301 jump *label187 always
   302 label *label178
 
   305 jump *label181 equal *tmp189 false
   306 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
   307 jump *label179 lessThanEq *tmp191 10
-    * print "WAIT fuel"
-    * print "\n"
+  308 print "WAIT fuel\n"
   309 jump *label186 always
   310 label *label179
-    * print "WAIT system fuel"
-    * print "\n"
+  311 print "WAIT system fuel\n"
   312 label *label180
   313 jump *label186 always
   314 label *label181
   315 op mul *tmp194 45 1
   316 jump *label182 greaterThanEq :start_reactor.0:fuel_stored 45
-    * print "WAIT buffer fuel"
-    * print "\n"
+  317 print "WAIT buffer fuel\n"
   318 jump *label185 always
   319 label *label182
   320 jump *label183 greaterThanEq :start_reactor.0:cryo 5
-    * print "WAIT cryo"
-    * print "\n"
+  321 print "WAIT cryo\n"
   322 jump *label184 always
   323 label *label183
-    * print "STARTUP"
-    * print "\n"
+  324 print "STARTUP\n"
   325 op add .START_POWER_REQ .START_POWER_REQ 23000
   326 control enabled reactor1 true
   327 label *label184
 
   371 op mul *tmp125 :start_reactor.0:surplus 0.2
   372 op add .AVG_SURPLUS *tmp124 *tmp125
   373 sensor :start_reactor.0:enabled reactor2 @enabled
-    * print "#"
-    * print 2
-    * print " "
-    * print "- "
+  374 print "#2 - "
   375 jump *label195 equal :emerg_shutdown false
   376 control enabled reactor2 false
-    * print "emergency mode"
-    * print "\n"
+  377 print "emergency mode\n"
   378 set :start_reactor.0:supply_fuel false
   379 jump *label228 always
   380 label *label195
   381 jump *label214 equal :start_reactor.0:enabled false
   382 jump *label196 greaterThanEq .REACTORS_DESIRED 2
   383 control enabled reactor2 false
-    * print "STOP unwanted"
-    * print "\n"
+  384 print "STOP unwanted\n"
   385 jump *label227 always
   386 label *label196
   387 op greaterThan *tmp136 2 1
 
   390 op land *tmp139 true *tmp138
   391 jump *label197 equal *tmp139 false
   392 control enabled reactor2 false
-    * print "STOP system fuel low"
-    * print "\n"
+  393 print "STOP system fuel low\n"
   394 jump *label227 always
   395 label *label197
   396 jump *label198 greaterThan :start_reactor.0:fuel 1
   397 control enabled reactor2 false
-    * print "STOP fuel low"
-    * print "\n"
+  398 print "STOP fuel low\n"
   399 jump *label227 always
   400 label *label198
   401 jump *label199 greaterThan :start_reactor.0:cryo 1
   402 control enabled reactor2 false
-    * print "STOP out of cryo"
-    * print "\n"
+  403 print "STOP out of cryo\n"
   404 jump *label227 always
   405 label *label199
   406 jump *label206 greaterThanEq :start_reactor.0:secs 30
 
   428 op land *tmp156 *tmp154 *tmp155
   429 jump *label204 equal *tmp156 false
   430 control enabled reactor2 false
-    * print "START FAIL battery"
-    * print "\n"
+  431 print "START FAIL battery\n"
   432 set :start_reactor.0:supply_fuel false
   433 jump *label227 always
   434 label *label204
   435 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
-    * print "Starting "
-    * print :start_reactor.0:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req.0*retval
-    * print "J"
-    * print "\n"
+  436 print "Starting {0} secs, req {0}J\n"
+  437 format :start_reactor.0:time_left
+  438 format :calc_charge_req.0*retval
   439 label *label205
   440 jump *label227 always
   441 label *label206
 
   444 op land *tmp163 *tmp161 *tmp162
   445 jump *label207 equal *tmp163 false
   446 control enabled reactor2 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  447 print "ABANDON - battery crit\n"
   448 set :start_reactor.0:supply_fuel false
   449 jump *label227 always
   450 label *label207
   451 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   452 op div :start_reactor.0:mins :start_reactor.0:mins 10
-    * print "RUN "
-    * print :start_reactor.0:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  453 print "RUN {0} mins\n"
+  454 format :start_reactor.0:mins
   455 label *label208
   456 label *label209
   457 label *label210
 
   469 op mul *tmp175 2 2
   470 op add :start_reactor.0:cryo_req 3 4
   471 jump *label215 greaterThanEq .REACTORS_DESIRED 2
-    * print "IDLE"
-    * print "\n"
+  472 print "IDLE\n"
   473 set :start_reactor.0:supply_fuel false
   474 jump *label226 always
   475 label *label215
 
   479 op div :start_reactor.0:flow *tmp183 10
   480 op idiv *tmp186 :start_reactor.0:charge_units 0.001
   481 op div :start_reactor.0:charge *tmp186 10
-    * print "WAIT power. (%"
-    * print :start_reactor.0:charge
-    * print "J + %"
-    * print :start_reactor.0:flow
-    * print "W)"
-    * print "\n"
+  482 print "WAIT power. (%{0}J + %{0}W)\n"
+  483 format :start_reactor.0:charge
+  484 format :start_reactor.0:flow
   485 set :start_reactor.0:supply_fuel false
   486 jump *label225 always
   487 label *label216
 
   490 jump *label219 equal *tmp189 false
   491 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
   492 jump *label217 lessThanEq *tmp191 10
-    * print "WAIT fuel"
-    * print "\n"
+  493 print "WAIT fuel\n"
   494 jump *label224 always
   495 label *label217
-    * print "WAIT system fuel"
-    * print "\n"
+  496 print "WAIT system fuel\n"
   497 label *label218
   498 jump *label224 always
   499 label *label219
   500 op mul *tmp194 45 2
   501 jump *label220 greaterThanEq :start_reactor.0:fuel_stored 90
-    * print "WAIT buffer fuel"
-    * print "\n"
+  502 print "WAIT buffer fuel\n"
   503 jump *label223 always
   504 label *label220
   505 jump *label221 greaterThanEq :start_reactor.0:cryo 7
-    * print "WAIT cryo"
-    * print "\n"
+  506 print "WAIT cryo\n"
   507 jump *label222 always
   508 label *label221
-    * print "STARTUP"
-    * print "\n"
+  509 print "STARTUP\n"
   510 op add .START_POWER_REQ .START_POWER_REQ 23000
   511 control enabled reactor2 true
   512 label *label222
 
   583 op mul *tmp125 :start_reactor.0:surplus 0.2
   584 op add .AVG_SURPLUS *tmp124 *tmp125
   585 sensor :start_reactor.0:enabled reactor3 @enabled
-    * print "#"
-    * print 3
-    * print " "
-    * print "- "
+  586 print "#3 - "
   587 jump *label233 equal :emerg_shutdown false
   588 control enabled reactor3 false
-    * print "emergency mode"
-    * print "\n"
+  589 print "emergency mode\n"
   590 set :fuel_3 false
   591 jump *label266 always
   592 label *label233
   593 jump *label252 equal :start_reactor.0:enabled false
   594 jump *label234 greaterThanEq .REACTORS_DESIRED 3
   595 control enabled reactor3 false
-    * print "STOP unwanted"
-    * print "\n"
+  596 print "STOP unwanted\n"
   597 jump *label265 always
   598 label *label234
   599 op greaterThan *tmp136 3 1
 
   602 op land *tmp139 true *tmp138
   603 jump *label235 equal *tmp139 false
   604 control enabled reactor3 false
-    * print "STOP system fuel low"
-    * print "\n"
+  605 print "STOP system fuel low\n"
   606 jump *label265 always
   607 label *label235
   608 jump *label236 greaterThan :start_reactor.0:fuel 1
   609 control enabled reactor3 false
-    * print "STOP fuel low"
-    * print "\n"
+  610 print "STOP fuel low\n"
   611 jump *label265 always
   612 label *label236
   613 jump *label237 greaterThan :start_reactor.0:cryo 1
   614 control enabled reactor3 false
-    * print "STOP out of cryo"
-    * print "\n"
+  615 print "STOP out of cryo\n"
   616 jump *label265 always
   617 label *label237
   618 jump *label244 greaterThanEq :start_reactor.0:secs 30
 
   639 op land *tmp156 *tmp154 *tmp155
   640 jump *label242 equal *tmp156 false
   641 control enabled reactor3 false
-    * print "START FAIL battery"
-    * print "\n"
+  642 print "START FAIL battery\n"
   643 set :fuel_3 false
   644 jump *label265 always
   645 label *label242
   646 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
-    * print "Starting "
-    * print :start_reactor.0:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req.0*retval
-    * print "J"
-    * print "\n"
+  647 print "Starting {0} secs, req {0}J\n"
+  648 format :start_reactor.0:time_left
+  649 format :calc_charge_req.0*retval
   650 label *label243
   651 jump *label265 always
   652 label *label244
 
   655 op land *tmp163 *tmp161 *tmp162
   656 jump *label245 equal *tmp163 false
   657 control enabled reactor3 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  658 print "ABANDON - battery crit\n"
   659 set :fuel_3 false
   660 jump *label265 always
   661 label *label245
   662 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   663 op div :start_reactor.0:mins :start_reactor.0:mins 10
-    * print "RUN "
-    * print :start_reactor.0:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  664 print "RUN {0} mins\n"
+  665 format :start_reactor.0:mins
   666 label *label246
   667 label *label247
   668 label *label248
 
   680 op mul *tmp175 2 3
   681 op add :start_reactor.0:cryo_req 3 6
   682 jump *label253 greaterThanEq .REACTORS_DESIRED 3
-    * print "IDLE"
-    * print "\n"
+  683 print "IDLE\n"
   684 set :fuel_3 false
   685 jump *label264 always
   686 label *label253
 
   690 op div :start_reactor.0:flow *tmp183 10
   691 op idiv *tmp186 :start_reactor.0:charge_units 0.001
   692 op div :start_reactor.0:charge *tmp186 10
-    * print "WAIT power. (%"
-    * print :start_reactor.0:charge
-    * print "J + %"
-    * print :start_reactor.0:flow
-    * print "W)"
-    * print "\n"
+  693 print "WAIT power. (%{0}J + %{0}W)\n"
+  694 format :start_reactor.0:charge
+  695 format :start_reactor.0:flow
   696 set :fuel_3 false
   697 jump *label263 always
   698 label *label254
 
   701 jump *label257 equal *tmp189 false
   702 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
   703 jump *label255 lessThanEq *tmp191 10
-    * print "WAIT fuel"
-    * print "\n"
+  704 print "WAIT fuel\n"
   705 jump *label262 always
   706 label *label255
-    * print "WAIT system fuel"
-    * print "\n"
+  707 print "WAIT system fuel\n"
   708 label *label256
   709 jump *label262 always
   710 label *label257
   711 op mul *tmp194 45 3
   712 jump *label258 greaterThanEq :start_reactor.0:fuel_stored 135
-    * print "WAIT buffer fuel"
-    * print "\n"
+  713 print "WAIT buffer fuel\n"
   714 jump *label261 always
   715 label *label258
   716 jump *label259 greaterThanEq :start_reactor.0:cryo 9
-    * print "WAIT cryo"
-    * print "\n"
+  717 print "WAIT cryo\n"
   718 jump *label260 always
   719 label *label259
-    * print "STARTUP"
-    * print "\n"
+  720 print "STARTUP\n"
   721 op add .START_POWER_REQ .START_POWER_REQ 23000
   722 control enabled reactor3 true
   723 label *label260
 
   785 op or *tmp43 *tmp42 :emerg_shutdown
   786 jump *label29 equal *tmp43 false
   787 set :throttle_blast.0:limit 0
-    * print "Central Fuel at "
-    * print :throttle_blast.0:fuel_stored
-    * print " "
-    * print "/ "
-    * print 0
-    * print " "
-    * print "- "
+  788 print "Central Fuel at {0} / 0 - "
+  789 format :throttle_blast.0:fuel_stored
   790 jump *label31 equal :emerg_shutdown false
-    * print " Enemies detected."
-    * print "\n"
+  791 print " Enemies detected.\n"
   792 jump *label30 always
   793 label *label31
-    * print " Critical power."
-    * print "\n"
+  794 print " Critical power.\n"
   795 label *label32
   796 jump *label30 always
   797 label *label29
   798 jump *label33 notEqual :throttle_blast.0:reactors_fueled false
   799 set :throttle_blast.0:limit 150
-    * print "Fuel "
-    * print :throttle_blast.0:fuel_stored
-    * print " "
-    * print "/ "
-    * print 150
-    * print " "
-    * print "(due to emergency)"
-    * print "\n"
+  800 print "Fuel {0} / 150 (due to emergency)\n"
+  801 format :throttle_blast.0:fuel_stored
   802 jump *label34 always
   803 label *label33
   804 set :throttle_blast.0:limit 800
-    * print "Fuel "
-    * print :throttle_blast.0:fuel_stored
-    * print " "
-    * print "/ "
-    * print 800
-    * print "\"
-    * print "n"
+  805 print "Fuel {0} / 800\n"
+  806 format :throttle_blast.0:fuel_stored
   807 label *label34
   808 label *label30
   809 label *label28
 
   820 op lessThan *tmp57 .START_POWER_REQ 10
   821 op land *tmp58 *tmp56 *tmp57
   822 jump *label38 equal *tmp58 false
-    * print "Differential now idle."
-    * print "\n"
+  823 print "Differential now idle.\n"
   824 control enabled generator1 false
   825 control enabled generator2 false
   826 jump *label39 always
 
   844 op idiv *tmp93 .START_POWER_REQ 100
   845 op div :kilo.0*retval *tmp93 10
   846 label *label105
-    * print "Req "
-    * print :kilo.0*retval
-    * print "kJ / "
-    * print :charge
-    * print "kJ. "
-    * print :surplus
-    * print "kW flow."
-    * print "\n"
+  847 print "Req {0}kJ / {0}kJ. {0}kW flow.\n"
+  848 format :kilo.0*retval
+  849 format :charge
+  850 format :surplus
   851 jump *label43 always
   852 label *label42
-    * print "Power "
-    * print :surplus
-    * print "kW, "
-    * print :kilo.0*retval
-    * print "kJ"
-    * print "\n"
+  853 print "Power {0}kW, {0}kJ\n"
+  854 format :surplus
+  855 format :kilo.0*retval
   856 sensor *tmp71 node1 @powerNetStored
   857 sensor *tmp72 node1 @powerNetCapacity
   858 op div :update_reactors_desired.0:stored *tmp71 *tmp72
 
   881 label *label45
   882 label *label43
   883 jump *label52 equal .REACTORS_DESIRED 5
-    * print "Require only "
-    * print .REACTORS_DESIRED
-    * print "/5 reactors."
-    * print "\n"
+  884 print "Require only {0}/5 reactors.\n"
+  885 format .REACTORS_DESIRED
   886 label *label52
   887 label *label53
   888 printflush message1
 
   906 op mul *tmp125 :start_reactor.0:surplus 0.2
   907 op add .AVG_SURPLUS *tmp124 *tmp125
   908 sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
-    * print "#"
-    * print :start_reactor.0:reactor_num
-    * print " "
-    * print "- "
+  909 print "#{0} - "
+  910 format :start_reactor.0:reactor_num
   911 jump *label64 equal :start_reactor.0:emerg_shutdown false
   912 control enabled :start_reactor.0:reactor false
-    * print "emergency mode"
-    * print "\n"
+  913 print "emergency mode\n"
   914 set :start_reactor.0*retval false
   915 jump *label65 always
   916 label *label64
   917 jump *label66 equal :start_reactor.0:enabled false
   918 jump *label68 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
   919 control enabled :start_reactor.0:reactor false
-    * print "STOP unwanted"
-    * print "\n"
+  920 print "STOP unwanted\n"
   921 jump *label67 always
   922 label *label68
   923 op greaterThan *tmp136 :start_reactor.0:reactor_num 1
 
   926 op land *tmp139 *tmp136 *tmp138
   927 jump *label70 equal *tmp139 false
   928 control enabled :start_reactor.0:reactor false
-    * print "STOP system fuel low"
-    * print "\n"
+  929 print "STOP system fuel low\n"
   930 jump *label67 always
   931 label *label70
   932 jump *label72 greaterThan :start_reactor.0:fuel 1
   933 control enabled :start_reactor.0:reactor false
-    * print "STOP fuel low"
-    * print "\n"
+  934 print "STOP fuel low\n"
   935 jump *label67 always
   936 label *label72
   937 jump *label74 greaterThan :start_reactor.0:cryo .CRYO_ABORT
   938 control enabled :start_reactor.0:reactor false
-    * print "STOP out of cryo"
-    * print "\n"
+  939 print "STOP out of cryo\n"
   940 jump *label67 always
   941 label *label74
   942 jump *label76 greaterThanEq :start_reactor.0:secs 30
 
   963 op land *tmp156 *tmp154 *tmp155
   964 jump *label79 equal *tmp156 false
   965 control enabled :start_reactor.0:reactor false
-    * print "START FAIL battery"
-    * print "\n"
+  966 print "START FAIL battery\n"
   967 set :start_reactor.0*retval false
   968 jump *label67 always
   969 label *label79
   970 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
-    * print "Starting "
-    * print :start_reactor.0:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req.0*retval
-    * print "J"
-    * print "\n"
+  971 print "Starting {0} secs, req {0}J\n"
+  972 format :start_reactor.0:time_left
+  973 format :calc_charge_req.0*retval
   974 label *label80
   975 jump *label67 always
   976 label *label76
 
   979 op land *tmp163 *tmp161 *tmp162
   980 jump *label81 equal *tmp163 false
   981 control enabled :start_reactor.0:reactor false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  982 print "ABANDON - battery crit\n"
   983 set :start_reactor.0*retval false
   984 jump *label67 always
   985 label *label81
   986 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   987 op div :start_reactor.0:mins :start_reactor.0:mins 10
-    * print "RUN "
-    * print :start_reactor.0:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  988 print "RUN {0} mins\n"
+  989 format :start_reactor.0:mins
   990 label *label82
   991 label *label77
   992 label *label75
 
  1004 op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
  1005 op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
  1006 jump *label83 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * print "IDLE"
-    * print "\n"
+ 1007 print "IDLE\n"
  1008 set :start_reactor.0*retval false
  1009 jump *label84 always
  1010 label *label83
 
  1014 op div :start_reactor.0:flow *tmp183 10
  1015 op idiv *tmp186 :start_reactor.0:charge_units 0.001
  1016 op div :start_reactor.0:charge *tmp186 10
-    * print "WAIT power. (%"
-    * print :start_reactor.0:charge
-    * print "J + %"
-    * print :start_reactor.0:flow
-    * print "W)"
-    * print "\n"
+ 1017 print "WAIT power. (%{0}J + %{0}W)\n"
+ 1018 format :start_reactor.0:charge
+ 1019 format :start_reactor.0:flow
  1020 set :start_reactor.0*retval false
  1021 jump *label86 always
  1022 label *label85
 
  1025 jump *label87 equal *tmp189 false
  1026 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
  1027 jump *label89 lessThanEq *tmp191 .FUEL_REQ
-    * print "WAIT fuel"
-    * print "\n"
+ 1028 print "WAIT fuel\n"
  1029 jump *label88 always
  1030 label *label89
-    * print "WAIT system fuel"
-    * print "\n"
+ 1031 print "WAIT system fuel\n"
  1032 label *label90
  1033 jump *label88 always
  1034 label *label87
  1035 op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
  1036 jump *label91 greaterThanEq :start_reactor.0:fuel_stored *tmp194
-    * print "WAIT buffer fuel"
-    * print "\n"
+ 1037 print "WAIT buffer fuel\n"
  1038 jump *label92 always
  1039 label *label91
  1040 jump *label93 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
-    * print "WAIT cryo"
-    * print "\n"
+ 1041 print "WAIT cryo\n"
  1042 jump *label94 always
  1043 label *label93
-    * print "STARTUP"
-    * print "\n"
+ 1044 print "STARTUP\n"
  1045 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
  1046 control enabled :start_reactor.0:reactor true
  1047 label *label94

Final code before resolving virtual instructions:

printflush message1
set .PWR_REQ 23000
set .FLOW_REQ 2000
set .PWR_ABANDON 2000
set .PWR_ABORT 5000
set .PWR_RESERVE 0.6
set .FLOW_ABORT -500
set .FUEL_REQ 10
set .FUEL_TOT_REQ 45
set .FUEL_TOT_ABORT 15
set .CRYO_REQ 3
set .CRYO_REQ_EA 2
set .CRYO_ABORT 1
set :fuel_1 false
set :fuel_2 false
set :fuel_3 false
set :fuel_4 false
set :fuel_5 false
sensor *tmp0 node1 @powerNetIn
sensor *tmp1 node1 @powerNetOut
op sub *tmp2 *tmp0 *tmp1
op floor :surplus *tmp2
jump *label5 lessThanEq :surplus 10000
op sub *tmp5 @tick 3600
jump *label6 always
label *label5
set *tmp5 @tick
label *label6
set :t_startup1 *tmp5
set :t_startup2 *tmp5
set :t_startup3 *tmp5
set :t_startup4 *tmp5
set :t_startup5 *tmp5
set .REACTORS_DESIRED 5
set .AVG_SURPLUS 500
label *label7
set .CONTAINER vault1
set .NODE node1
radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
jump *label125 equal :check_radar.0:enemy_found null
control enabled projector1 true
control enabled projector2 true
control config unloader1 @scrap
control config unloader2 @blast-compound
control config unloader3 @scrap
control config unloader4 @blast-compound
control config unloader5 @scrap
control config unloader6 @blast-compound
control config unloader7 @scrap
control enabled reactor1 false
control enabled reactor2 false
control enabled reactor3 false
control enabled reactor4 false
control enabled reactor5 false
set :check_radar.0*retval true
jump *label127 always
label *label125
control enabled projector1 false
control enabled projector2 false
set :check_radar.0*retval false
label *label127
op notEqual *tmp9 switch1 null
sensor *tmp10 switch1 @enabled
op equal *tmp11 *tmp10 false
op land *tmp12 *tmp9 *tmp11
jump *label12 equal *tmp12 false
print "User has disabled emergency switch\n"
set *tmp8 true
jump *label11 always
label *label12
set *tmp8 false
jump *label11 always
label *label11
op or :emerg_shutdown :check_radar.0*retval *tmp8
op sub *tmp102 @tick :t_startup1
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor1 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label133 equal *tmp107 false
set .START_POWER_REQ 0
jump *label135 always
label *label133
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set .START_POWER_REQ :calc_charge_req.0:charge_req
jump *label135 always
label *label135
op sub *tmp102 @tick :t_startup2
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor2 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label137 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label139 always
label *label137
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
jump *label139 always
label *label139
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
op sub *tmp102 @tick :t_startup3
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor3 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label141 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label143 always
label *label141
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
jump *label143 always
label *label143
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
op sub *tmp102 @tick :t_startup4
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor4 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label145 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label147 always
label *label145
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
jump *label147 always
label *label147
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
op sub *tmp102 @tick :t_startup5
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor5 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label149 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label151 always
label *label149
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
jump *label151 always
label *label151
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
set .RET_T_STARTUP :t_startup1
op sub *tmp113 @tick :t_startup1
op idiv :start_reactor.0:secs *tmp113 60
sensor :start_reactor.0:fuel reactor1 @blast-compound
set :start_reactor.0:supply_fuel true
sensor :start_reactor.0:fuel_stored vault1 @blast-compound
sensor :start_reactor.0:cryo reactor1 @cryofluid
sensor *tmp118 node1 @powerNetStored
op floor :start_reactor.0:charge *tmp118
sensor *tmp120 node1 @powerNetIn
sensor *tmp121 node1 @powerNetOut
op sub *tmp122 *tmp120 *tmp121
op floor :start_reactor.0:surplus *tmp122
op mul *tmp124 .AVG_SURPLUS 0.8
op mul *tmp125 :start_reactor.0:surplus 0.2
op add .AVG_SURPLUS *tmp124 *tmp125
sensor :start_reactor.0:enabled reactor1 @enabled
print "#1 - "
jump *label157 equal :emerg_shutdown false
control enabled reactor1 false
print "emergency mode\n"
set :start_reactor.0:supply_fuel false
jump *label190 always
label *label157
jump *label176 equal :start_reactor.0:enabled false
jump *label158 greaterThanEq .REACTORS_DESIRED 1
control enabled reactor1 false
print "STOP unwanted\n"
jump *label189 always
label *label158
op greaterThan *tmp136 1 1
op mul *tmp137 15 1
op lessThan *tmp138 :start_reactor.0:fuel_stored 15
op land *tmp139 false *tmp138
jump *label159 equal *tmp139 false
control enabled reactor1 false
print "STOP system fuel low\n"
jump *label189 always
label *label159
jump *label160 greaterThan :start_reactor.0:fuel 1
control enabled reactor1 false
print "STOP fuel low\n"
jump *label189 always
label *label160
jump *label161 greaterThan :start_reactor.0:cryo 1
control enabled reactor1 false
print "STOP out of cryo\n"
jump *label189 always
label *label161
jump *label168 greaterThanEq :start_reactor.0:secs 30
op sub *tmp102 @tick :t_startup1
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor1 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label163 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label165 always
label *label163
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
jump *label165 always
label *label165
op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
op lessThan *tmp154 *tmp153 5000
op lessThan *tmp155 :start_reactor.0:surplus -500
op land *tmp156 *tmp154 *tmp155
jump *label166 equal *tmp156 false
control enabled reactor1 false
print "START FAIL battery\n"
set :start_reactor.0:supply_fuel false
jump *label189 always
label *label166
op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor.0:time_left
format :calc_charge_req.0*retval
jump *label189 always
label *label168
op lessThan *tmp161 :start_reactor.0:charge 2000
op lessThan *tmp162 :start_reactor.0:surplus -500
op land *tmp163 *tmp161 *tmp162
jump *label169 equal *tmp163 false
control enabled reactor1 false
print "ABANDON - battery crit\n"
set :start_reactor.0:supply_fuel false
jump *label189 always
label *label169
op idiv :start_reactor.0:mins :start_reactor.0:secs 6
op div :start_reactor.0:mins :start_reactor.0:mins 10
print "RUN {0} mins\n"
format :start_reactor.0:mins
jump *label189 always
label *label176
op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
op sub *tmp170 *tmp169 5000
op div *tmp171 *tmp170 23000
op div :start_reactor.0:charge_units *tmp170 38333.333333333336
op div *tmp173 :start_reactor.0:surplus 2000
op max :start_reactor.0:flow_units -0.1 *tmp173
op mul *tmp175 2 1
op add :start_reactor.0:cryo_req 3 2
jump *label177 greaterThanEq .REACTORS_DESIRED 1
print "IDLE\n"
set :start_reactor.0:supply_fuel false
jump *label188 always
label *label177
op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
jump *label178 greaterThanEq *tmp179 1
op idiv *tmp183 :start_reactor.0:flow_units 0.001
op div :start_reactor.0:flow *tmp183 10
op idiv *tmp186 :start_reactor.0:charge_units 0.001
op div :start_reactor.0:charge *tmp186 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor.0:charge
format :start_reactor.0:flow
set :start_reactor.0:supply_fuel false
jump *label187 always
label *label178
op lessThan *tmp188 :start_reactor.0:fuel 10
op land *tmp189 :fuel_1 *tmp188
jump *label181 equal *tmp189 false
op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
jump *label179 lessThanEq *tmp191 10
print "WAIT fuel\n"
jump *label186 always
label *label179
print "WAIT system fuel\n"
jump *label186 always
label *label181
op mul *tmp194 45 1
jump *label182 greaterThanEq :start_reactor.0:fuel_stored 45
print "WAIT buffer fuel\n"
jump *label185 always
label *label182
jump *label183 greaterThanEq :start_reactor.0:cryo 5
print "WAIT cryo\n"
jump *label184 always
label *label183
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor1 true
label *label184
label *label185
label *label186
label *label187
label *label188
label *label189
label *label190
sensor *tmp201 reactor1 @enabled
jump *label191 equal :start_reactor.0:enabled *tmp201
set .RET_T_STARTUP @tick
label *label191
set :fuel_1 :start_reactor.0:supply_fuel
set :t_startup1 .RET_T_STARTUP
jump *label107 equal :start_reactor.0:supply_fuel false
control config unloader1 @blast-compound
jump *label108 always
label *label107
control config unloader1 @scrap
label *label108
jump *label109 notEqual :start_reactor.0:supply_fuel false
control config unloader2 @blast-compound
jump *label110 always
label *label109
control config unloader2 @scrap
label *label110
set .RET_T_STARTUP :t_startup2
op sub *tmp113 @tick :t_startup2
op idiv :start_reactor.0:secs *tmp113 60
sensor :start_reactor.0:fuel reactor2 @blast-compound
set :start_reactor.0:supply_fuel true
sensor :start_reactor.0:fuel_stored vault1 @blast-compound
sensor :start_reactor.0:cryo reactor2 @cryofluid
sensor *tmp118 node1 @powerNetStored
op floor :start_reactor.0:charge *tmp118
sensor *tmp120 node1 @powerNetIn
sensor *tmp121 node1 @powerNetOut
op sub *tmp122 *tmp120 *tmp121
op floor :start_reactor.0:surplus *tmp122
op mul *tmp124 .AVG_SURPLUS 0.8
op mul *tmp125 :start_reactor.0:surplus 0.2
op add .AVG_SURPLUS *tmp124 *tmp125
sensor :start_reactor.0:enabled reactor2 @enabled
print "#2 - "
jump *label195 equal :emerg_shutdown false
control enabled reactor2 false
print "emergency mode\n"
set :start_reactor.0:supply_fuel false
jump *label228 always
label *label195
jump *label214 equal :start_reactor.0:enabled false
jump *label196 greaterThanEq .REACTORS_DESIRED 2
control enabled reactor2 false
print "STOP unwanted\n"
jump *label227 always
label *label196
op greaterThan *tmp136 2 1
op mul *tmp137 15 2
op lessThan *tmp138 :start_reactor.0:fuel_stored 30
op land *tmp139 true *tmp138
jump *label197 equal *tmp139 false
control enabled reactor2 false
print "STOP system fuel low\n"
jump *label227 always
label *label197
jump *label198 greaterThan :start_reactor.0:fuel 1
control enabled reactor2 false
print "STOP fuel low\n"
jump *label227 always
label *label198
jump *label199 greaterThan :start_reactor.0:cryo 1
control enabled reactor2 false
print "STOP out of cryo\n"
jump *label227 always
label *label199
jump *label206 greaterThanEq :start_reactor.0:secs 30
op sub *tmp102 @tick :t_startup2
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor2 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label201 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label203 always
label *label201
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
jump *label203 always
label *label203
op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
op lessThan *tmp154 *tmp153 5000
op lessThan *tmp155 :start_reactor.0:surplus -500
op land *tmp156 *tmp154 *tmp155
jump *label204 equal *tmp156 false
control enabled reactor2 false
print "START FAIL battery\n"
set :start_reactor.0:supply_fuel false
jump *label227 always
label *label204
op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor.0:time_left
format :calc_charge_req.0*retval
jump *label227 always
label *label206
op lessThan *tmp161 :start_reactor.0:charge 2000
op lessThan *tmp162 :start_reactor.0:surplus -500
op land *tmp163 *tmp161 *tmp162
jump *label207 equal *tmp163 false
control enabled reactor2 false
print "ABANDON - battery crit\n"
set :start_reactor.0:supply_fuel false
jump *label227 always
label *label207
op idiv :start_reactor.0:mins :start_reactor.0:secs 6
op div :start_reactor.0:mins :start_reactor.0:mins 10
print "RUN {0} mins\n"
format :start_reactor.0:mins
jump *label227 always
label *label214
op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
op sub *tmp170 *tmp169 5000
op div *tmp171 *tmp170 23000
op div :start_reactor.0:charge_units *tmp170 38333.333333333336
op div *tmp173 :start_reactor.0:surplus 2000
op max :start_reactor.0:flow_units -0.1 *tmp173
op mul *tmp175 2 2
op add :start_reactor.0:cryo_req 3 4
jump *label215 greaterThanEq .REACTORS_DESIRED 2
print "IDLE\n"
set :start_reactor.0:supply_fuel false
jump *label226 always
label *label215
op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
jump *label216 greaterThanEq *tmp179 1
op idiv *tmp183 :start_reactor.0:flow_units 0.001
op div :start_reactor.0:flow *tmp183 10
op idiv *tmp186 :start_reactor.0:charge_units 0.001
op div :start_reactor.0:charge *tmp186 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor.0:charge
format :start_reactor.0:flow
set :start_reactor.0:supply_fuel false
jump *label225 always
label *label216
op lessThan *tmp188 :start_reactor.0:fuel 10
op land *tmp189 :fuel_2 *tmp188
jump *label219 equal *tmp189 false
op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
jump *label217 lessThanEq *tmp191 10
print "WAIT fuel\n"
jump *label224 always
label *label217
print "WAIT system fuel\n"
jump *label224 always
label *label219
op mul *tmp194 45 2
jump *label220 greaterThanEq :start_reactor.0:fuel_stored 90
print "WAIT buffer fuel\n"
jump *label223 always
label *label220
jump *label221 greaterThanEq :start_reactor.0:cryo 7
print "WAIT cryo\n"
jump *label222 always
label *label221
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor2 true
label *label222
label *label223
label *label224
label *label225
label *label226
label *label227
label *label228
sensor *tmp201 reactor2 @enabled
jump *label229 equal :start_reactor.0:enabled *tmp201
set .RET_T_STARTUP @tick
label *label229
set :fuel_2 :start_reactor.0:supply_fuel
set :t_startup2 .RET_T_STARTUP
jump *label113 equal :start_reactor.0:supply_fuel false
control config unloader3 @blast-compound
jump *label114 always
label *label113
control config unloader3 @scrap
label *label114
jump *label115 notEqual :start_reactor.0:supply_fuel false
control config unloader4 @blast-compound
jump *label116 always
label *label115
control config unloader4 @scrap
label *label116
radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
jump *label129 equal :check_radar.0:enemy_found null
control enabled projector1 true
control enabled projector2 true
control config unloader1 @scrap
control config unloader2 @blast-compound
control config unloader3 @scrap
control config unloader4 @blast-compound
control config unloader5 @scrap
control config unloader6 @blast-compound
control config unloader7 @scrap
control enabled reactor1 false
control enabled reactor2 false
control enabled reactor3 false
control enabled reactor4 false
control enabled reactor5 false
set :check_radar.0*retval true
jump *label131 always
label *label129
control enabled projector1 false
control enabled projector2 false
set :check_radar.0*retval false
label *label131
op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
set :start_reactor.0:fuel_on :fuel_3
set .RET_T_STARTUP :t_startup3
op sub *tmp113 @tick :t_startup3
op idiv :start_reactor.0:secs *tmp113 60
sensor :start_reactor.0:fuel reactor3 @blast-compound
set :fuel_3 true
sensor :start_reactor.0:fuel_stored vault1 @blast-compound
sensor :start_reactor.0:cryo reactor3 @cryofluid
sensor *tmp118 node1 @powerNetStored
op floor :start_reactor.0:charge *tmp118
sensor *tmp120 node1 @powerNetIn
sensor *tmp121 node1 @powerNetOut
op sub *tmp122 *tmp120 *tmp121
op floor :start_reactor.0:surplus *tmp122
op mul *tmp124 .AVG_SURPLUS 0.8
op mul *tmp125 :start_reactor.0:surplus 0.2
op add .AVG_SURPLUS *tmp124 *tmp125
sensor :start_reactor.0:enabled reactor3 @enabled
print "#3 - "
jump *label233 equal :emerg_shutdown false
control enabled reactor3 false
print "emergency mode\n"
set :fuel_3 false
jump *label266 always
label *label233
jump *label252 equal :start_reactor.0:enabled false
jump *label234 greaterThanEq .REACTORS_DESIRED 3
control enabled reactor3 false
print "STOP unwanted\n"
jump *label265 always
label *label234
op greaterThan *tmp136 3 1
op mul *tmp137 15 3
op lessThan *tmp138 :start_reactor.0:fuel_stored 45
op land *tmp139 true *tmp138
jump *label235 equal *tmp139 false
control enabled reactor3 false
print "STOP system fuel low\n"
jump *label265 always
label *label235
jump *label236 greaterThan :start_reactor.0:fuel 1
control enabled reactor3 false
print "STOP fuel low\n"
jump *label265 always
label *label236
jump *label237 greaterThan :start_reactor.0:cryo 1
control enabled reactor3 false
print "STOP out of cryo\n"
jump *label265 always
label *label237
jump *label244 greaterThanEq :start_reactor.0:secs 30
op sub *tmp102 @tick :t_startup3
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor3 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label239 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label241 always
label *label239
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0*retval *tmp110 0.04
jump *label241 always
label *label241
op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
op lessThan *tmp154 *tmp153 5000
op lessThan *tmp155 :start_reactor.0:surplus -500
op land *tmp156 *tmp154 *tmp155
jump *label242 equal *tmp156 false
control enabled reactor3 false
print "START FAIL battery\n"
set :fuel_3 false
jump *label265 always
label *label242
op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor.0:time_left
format :calc_charge_req.0*retval
jump *label265 always
label *label244
op lessThan *tmp161 :start_reactor.0:charge 2000
op lessThan *tmp162 :start_reactor.0:surplus -500
op land *tmp163 *tmp161 *tmp162
jump *label245 equal *tmp163 false
control enabled reactor3 false
print "ABANDON - battery crit\n"
set :fuel_3 false
jump *label265 always
label *label245
op idiv :start_reactor.0:mins :start_reactor.0:secs 6
op div :start_reactor.0:mins :start_reactor.0:mins 10
print "RUN {0} mins\n"
format :start_reactor.0:mins
jump *label265 always
label *label252
op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
op sub *tmp170 *tmp169 5000
op div *tmp171 *tmp170 23000
op div :start_reactor.0:charge_units *tmp170 38333.333333333336
op div *tmp173 :start_reactor.0:surplus 2000
op max :start_reactor.0:flow_units -0.1 *tmp173
op mul *tmp175 2 3
op add :start_reactor.0:cryo_req 3 6
jump *label253 greaterThanEq .REACTORS_DESIRED 3
print "IDLE\n"
set :fuel_3 false
jump *label264 always
label *label253
op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
jump *label254 greaterThanEq *tmp179 1
op idiv *tmp183 :start_reactor.0:flow_units 0.001
op div :start_reactor.0:flow *tmp183 10
op idiv *tmp186 :start_reactor.0:charge_units 0.001
op div :start_reactor.0:charge *tmp186 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor.0:charge
format :start_reactor.0:flow
set :fuel_3 false
jump *label263 always
label *label254
op lessThan *tmp188 :start_reactor.0:fuel 10
op land *tmp189 :start_reactor.0:fuel_on *tmp188
jump *label257 equal *tmp189 false
op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
jump *label255 lessThanEq *tmp191 10
print "WAIT fuel\n"
jump *label262 always
label *label255
print "WAIT system fuel\n"
jump *label262 always
label *label257
op mul *tmp194 45 3
jump *label258 greaterThanEq :start_reactor.0:fuel_stored 135
print "WAIT buffer fuel\n"
jump *label261 always
label *label258
jump *label259 greaterThanEq :start_reactor.0:cryo 9
print "WAIT cryo\n"
jump *label260 always
label *label259
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor3 true
label *label260
label *label261
label *label262
label *label263
label *label264
label *label265
label *label266
sensor *tmp201 reactor3 @enabled
jump *label267 equal :start_reactor.0:enabled *tmp201
set .RET_T_STARTUP @tick
label *label267
set :t_startup3 .RET_T_STARTUP
set :start_reactor.0:reactor reactor4
set :start_reactor.0:reactor_num 4
set :start_reactor.0:emerg_shutdown :emerg_shutdown
set :start_reactor.0:fuel_on :fuel_4
set :start_reactor.0:t_startup :t_startup4
setaddr :start_reactor.0*retaddr *label25
call *label3 *invalid :start_reactor.0*retval
label *label25
set :fuel_4 :start_reactor.0*retval
set :t_startup4 .RET_T_STARTUP
set :start_reactor.0:reactor reactor5
set :start_reactor.0:reactor_num 5
set :start_reactor.0:emerg_shutdown :emerg_shutdown
set :start_reactor.0:fuel_on :fuel_5
set :start_reactor.0:t_startup :t_startup5
setaddr :start_reactor.0*retaddr *label26
call *label3 *invalid :start_reactor.0*retval
label *label26
set :fuel_5 :start_reactor.0*retval
set :t_startup5 .RET_T_STARTUP
op or *tmp27 :fuel_3 :fuel_4
op or :fuel_many *tmp27 :start_reactor.0*retval
jump *label119 equal :fuel_many false
control config unloader5 @blast-compound
jump *label120 always
label *label119
control config unloader5 @scrap
label *label120
jump *label121 notEqual :fuel_many false
control config unloader6 @blast-compound
jump *label122 always
label *label121
control config unloader6 @scrap
label *label122
op or *tmp30 :fuel_1 :start_reactor.0:supply_fuel
op or :throttle_blast.0:reactors_fueled *tmp30 :fuel_many
sensor *tmp33 node1 @powerNetStored
op floor :throttle_blast.0:charge *tmp33
sensor *tmp35 node1 @powerNetIn
sensor *tmp36 node1 @powerNetOut
op sub *tmp37 *tmp35 *tmp36
op floor :throttle_blast.0:surplus *tmp37
sensor :throttle_blast.0:fuel_stored vault1 @blast-compound
op lessThan *tmp40 :throttle_blast.0:charge 5000
op lessThan *tmp41 :throttle_blast.0:surplus -500
op land *tmp42 *tmp40 *tmp41
op or *tmp43 *tmp42 :emerg_shutdown
jump *label29 equal *tmp43 false
set :throttle_blast.0:limit 0
print "Central Fuel at {0} / 0 - "
format :throttle_blast.0:fuel_stored
jump *label31 equal :emerg_shutdown false
print " Enemies detected.\n"
jump *label30 always
label *label31
print " Critical power.\n"
jump *label30 always
label *label29
jump *label33 notEqual :throttle_blast.0:reactors_fueled false
set :throttle_blast.0:limit 150
print "Fuel {0} / 150 (due to emergency)\n"
format :throttle_blast.0:fuel_stored
jump *label34 always
label *label33
set :throttle_blast.0:limit 800
print "Fuel {0} / 800\n"
format :throttle_blast.0:fuel_stored
label *label34
label *label30
jump *label35 greaterThanEq :throttle_blast.0:fuel_stored :throttle_blast.0:limit
control config unloader7 @pyratite
jump *label36 always
label *label35
control config unloader7 @scrap
label *label36
sensor *tmp53 node1 @powerNetStored
sensor *tmp54 node1 @powerNetCapacity
op div :diff_generators.0:stored_pc *tmp53 *tmp54
op greaterThan *tmp56 :diff_generators.0:stored_pc 0.9
op lessThan *tmp57 .START_POWER_REQ 10
op land *tmp58 *tmp56 *tmp57
jump *label38 equal *tmp58 false
print "Differential now idle.\n"
control enabled generator1 false
control enabled generator2 false
jump *label39 always
label *label38
control enabled generator1 true
control enabled generator2 true
label *label39
op idiv *tmp93 .AVG_SURPLUS 100
op div :surplus *tmp93 10
sensor :kilo.0:val node1 @powerNetStored
op idiv *tmp93 :kilo.0:val 100
op div :kilo.0*retval *tmp93 10
set :charge :kilo.0*retval
jump *label42 lessThanEq .START_POWER_REQ 0
op idiv *tmp93 .START_POWER_REQ 100
op div :kilo.0*retval *tmp93 10
print "Req {0}kJ / {0}kJ. {0}kW flow.\n"
format :kilo.0*retval
format :charge
format :surplus
jump *label43 always
label *label42
print "Power {0}kW, {0}kJ\n"
format :surplus
format :kilo.0*retval
sensor *tmp71 node1 @powerNetStored
sensor *tmp72 node1 @powerNetCapacity
op div :update_reactors_desired.0:stored *tmp71 *tmp72
op greaterThan *tmp74 :update_reactors_desired.0:stored 0.98
op greaterThan *tmp76 .AVG_SURPLUS 16500
op land *tmp77 *tmp74 *tmp76
jump *label46 equal *tmp77 false
jump *label48 lessThanEq .REACTORS_DESIRED 2
op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
op sub .AVG_SURPLUS .AVG_SURPLUS 6500
label *label48
label *label46
op lessThan *tmp81 :update_reactors_desired.0:stored 0.8
op lessThan *tmp83 .AVG_SURPLUS 8000
op land *tmp84 *tmp81 *tmp83
jump *label50 equal *tmp84 false
op sub *tmp86 .AVG_SURPLUS 10000
op idiv *tmp87 *tmp86 6500
op max :update_reactors_desired.0:needed 1 *tmp87
op add *tmp89 :update_reactors_desired.0:needed .REACTORS_DESIRED
op min .REACTORS_DESIRED 5 *tmp89
label *label50
label *label43
jump *label52 equal .REACTORS_DESIRED 5
print "Require only {0}/5 reactors.\n"
format .REACTORS_DESIRED
label *label52
printflush message1
jump *label7 always
label *label3
set .RET_T_STARTUP :start_reactor.0:t_startup
op sub *tmp113 @tick :start_reactor.0:t_startup
op idiv :start_reactor.0:secs *tmp113 60
sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
set :start_reactor.0*retval true
sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
sensor *tmp118 .NODE @powerNetStored
op floor :start_reactor.0:charge *tmp118
sensor *tmp120 .NODE @powerNetIn
sensor *tmp121 .NODE @powerNetOut
op sub *tmp122 *tmp120 *tmp121
op floor :start_reactor.0:surplus *tmp122
op mul *tmp124 .AVG_SURPLUS 0.8
op mul *tmp125 :start_reactor.0:surplus 0.2
op add .AVG_SURPLUS *tmp124 *tmp125
sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
print "#{0} - "
format :start_reactor.0:reactor_num
jump *label64 equal :start_reactor.0:emerg_shutdown false
control enabled :start_reactor.0:reactor false
print "emergency mode\n"
set :start_reactor.0*retval false
jump *label65 always
label *label64
jump *label66 equal :start_reactor.0:enabled false
jump *label68 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
control enabled :start_reactor.0:reactor false
print "STOP unwanted\n"
jump *label67 always
label *label68
op greaterThan *tmp136 :start_reactor.0:reactor_num 1
op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
op land *tmp139 *tmp136 *tmp138
jump *label70 equal *tmp139 false
control enabled :start_reactor.0:reactor false
print "STOP system fuel low\n"
jump *label67 always
label *label70
jump *label72 greaterThan :start_reactor.0:fuel 1
control enabled :start_reactor.0:reactor false
print "STOP fuel low\n"
jump *label67 always
label *label72
jump *label74 greaterThan :start_reactor.0:cryo .CRYO_ABORT
control enabled :start_reactor.0:reactor false
print "STOP out of cryo\n"
jump *label67 always
label *label74
jump *label76 greaterThanEq :start_reactor.0:secs 30
op sub *tmp102 @tick :start_reactor.0:t_startup
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 :start_reactor.0:reactor @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label153 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label155 always
label *label153
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0*retval *tmp110 0.04
jump *label155 always
label *label155
op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
op lessThan *tmp154 *tmp153 .PWR_ABORT
op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
op land *tmp156 *tmp154 *tmp155
jump *label79 equal *tmp156 false
control enabled :start_reactor.0:reactor false
print "START FAIL battery\n"
set :start_reactor.0*retval false
jump *label67 always
label *label79
op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor.0:time_left
format :calc_charge_req.0*retval
jump *label67 always
label *label76
op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
op land *tmp163 *tmp161 *tmp162
jump *label81 equal *tmp163 false
control enabled :start_reactor.0:reactor false
print "ABANDON - battery crit\n"
set :start_reactor.0*retval false
jump *label67 always
label *label81
op idiv :start_reactor.0:mins :start_reactor.0:secs 6
op div :start_reactor.0:mins :start_reactor.0:mins 10
print "RUN {0} mins\n"
format :start_reactor.0:mins
jump *label67 always
label *label66
op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
op sub *tmp170 *tmp169 .PWR_ABORT
op div *tmp171 *tmp170 .PWR_REQ
op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
op max :start_reactor.0:flow_units -0.1 *tmp173
op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
jump *label83 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
print "IDLE\n"
set :start_reactor.0*retval false
jump *label84 always
label *label83
op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
jump *label85 greaterThanEq *tmp179 1
op idiv *tmp183 :start_reactor.0:flow_units 0.001
op div :start_reactor.0:flow *tmp183 10
op idiv *tmp186 :start_reactor.0:charge_units 0.001
op div :start_reactor.0:charge *tmp186 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor.0:charge
format :start_reactor.0:flow
set :start_reactor.0*retval false
jump *label86 always
label *label85
op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
op land *tmp189 :start_reactor.0:fuel_on *tmp188
jump *label87 equal *tmp189 false
op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
jump *label89 lessThanEq *tmp191 .FUEL_REQ
print "WAIT fuel\n"
jump *label88 always
label *label89
print "WAIT system fuel\n"
jump *label88 always
label *label87
op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
jump *label91 greaterThanEq :start_reactor.0:fuel_stored *tmp194
print "WAIT buffer fuel\n"
jump *label92 always
label *label91
jump *label93 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
print "WAIT cryo\n"
jump *label94 always
label *label93
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
control enabled :start_reactor.0:reactor true
label *label94
label *label92
label *label88
label *label86
label *label84
label *label67
label *label65
sensor *tmp201 :start_reactor.0:reactor @enabled
jump *label95 equal :start_reactor.0:enabled *tmp201
set .RET_T_STARTUP @tick
label *label95
return :start_reactor.0*retaddr
