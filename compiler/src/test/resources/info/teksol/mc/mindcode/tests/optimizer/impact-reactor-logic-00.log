   684 instructions before optimizations.
    63 instructions eliminated by Temp Variables Elimination (6 iterations).
    60 instructions eliminated by Dead Code Elimination (11 iterations).
     3 instructions eliminated by Jump Normalization (2 passes, 5 iterations).
    38 instructions eliminated by Condition Optimization (2 passes, 5 iterations).
    37 instructions eliminated by Single Step Elimination (2 passes, 7 iterations).
     3 instructions eliminated by Expression Optimization (3 iterations).
    18 instructions eliminated by Boolean Optimization (5 iterations).
       2 short-circuited conditions turned to full evaluations.
       7 fully-evaluated conditions turned to a sequence of selects.
    83 instructions eliminated by Data Flow Optimization (9 passes, 29 iterations).
   499 instructions added by Function Inlining (10 iterations).
    17 function calls inlined by Function Inlining.
     5 instructions eliminated by Jump Straightening (5 iterations).
    34 instructions updated by Jump Threading.
    11 instructions eliminated by Unreachable Code Elimination (2 iterations).
   131 instructions eliminated by Print Merging.
   731 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 546):
  * Inline function 'kilo' defined at line 117:1                 size    +3, benefit      218.8, efficiency     72.917 (-4 instructions)
    Inline function 'update_fuel' defined at line 121:1          size    +5, benefit      337.5, efficiency     67.500
    Inline function 'calc_charge_req' defined at line 126:1      size   +54, benefit      503.9, efficiency      9.332
  ! Inline function 'start_reactor' defined at line 140:1        size  +559, benefit      687.5, efficiency      1.230
    Inline function 'check_radar' defined at line 259:1          size   +21, benefit      175.0, efficiency      8.333
    Inline function call at line 69:22                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 73:23                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 74:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 75:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 76:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 77:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 80:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 82:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 84:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 86:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 88:23                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 89:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 91:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 93:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 96:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 102:15                          size    +2, benefit       87.5, efficiency     43.750
    Inline function call at line 103:14                          size    +2, benefit       87.5, efficiency     43.750
    Inline function call at line 105:15                          size    +2, benefit       43.8, efficiency     21.875
    Inline function call at line 173:26                          size   +11, benefit        3.9, efficiency      0.355

Pass 1: speed optimization selection (cost limit 550):
  * Inline function 'update_fuel' defined at line 121:1          size    +5, benefit      337.5, efficiency     67.500 (-9 instructions)
    Inline function 'calc_charge_req' defined at line 126:1      size   +54, benefit      503.9, efficiency      9.332
  ! Inline function 'start_reactor' defined at line 140:1        size  +559, benefit      687.5, efficiency      1.230
    Inline function 'check_radar' defined at line 259:1          size   +21, benefit      175.0, efficiency      8.333
    Inline function call at line 69:22                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 73:23                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 74:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 75:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 76:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 77:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 80:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 82:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 84:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 86:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 88:23                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 89:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 91:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 93:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 96:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 173:26                          size   +11, benefit        3.9, efficiency      0.355

Pass 1: speed optimization selection (cost limit 559):
  * Inline function 'calc_charge_req' defined at line 126:1      size   +54, benefit      503.9, efficiency      9.332 (+33 instructions)
    Inline function 'start_reactor' defined at line 140:1        size  +559, benefit      687.5, efficiency      1.230
    Inline function 'check_radar' defined at line 259:1          size   +21, benefit      175.0, efficiency      8.333
    Inline function call at line 69:22                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 73:23                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 74:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 75:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 76:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 77:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 80:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 84:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 88:23                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 89:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 91:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 93:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 173:26                          size   +11, benefit        3.9, efficiency      0.355

Pass 1: speed optimization selection (cost limit 526):
  ! Inline function 'start_reactor' defined at line 140:1        size  +587, benefit      687.5, efficiency      1.171
  * Inline function 'check_radar' defined at line 259:1          size   +21, benefit      175.0, efficiency      8.333 (+6 instructions)
    Inline function call at line 69:22                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 80:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 84:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 88:23                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 89:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 91:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 93:14                           size  +147, benefit      137.5, efficiency      0.935

Pass 1: speed optimization selection (cost limit 520):
  ! Inline function 'start_reactor' defined at line 140:1        size  +587, benefit      687.5, efficiency      1.171
  * Inline function call at line 80:14                           size  +147, benefit      137.5, efficiency      0.935 (+139 instructions)
    Inline function call at line 84:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 89:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 91:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 93:14                           size  +147, benefit      137.5, efficiency      0.935

Pass 1: speed optimization selection (cost limit 381):
  ! Inline function 'start_reactor' defined at line 140:1        size  +440, benefit      550.0, efficiency      1.250
  * Inline function call at line 84:14                           size  +147, benefit      137.5, efficiency      0.935 (+140 instructions)
    Inline function call at line 89:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 91:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 93:14                           size  +147, benefit      137.5, efficiency      0.935

Pass 1: speed optimization selection (cost limit 241):
  ! Inline function 'start_reactor' defined at line 140:1        size  +293, benefit      412.5, efficiency      1.408
  * Inline function call at line 89:14                           size  +147, benefit      137.5, efficiency      0.935 (+140 instructions)
    Inline function call at line 91:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 93:14                           size  +147, benefit      137.5, efficiency      0.935

Pass 1: speed optimization selection (cost limit 101):
  ! Inline function 'start_reactor' defined at line 140:1        size  +146, benefit      275.0, efficiency      1.884
  ! Inline function call at line 91:14                           size  +147, benefit      137.5, efficiency      0.935
  ! Inline function call at line 93:14                           size  +147, benefit      137.5, efficiency      0.935

Pass 2: speed optimization selection (cost limit 127):
  ! Inline function 'start_reactor' defined at line 140:1        size  +143, benefit      275.0, efficiency      1.923
  ! Inline function call at line 91:14                           size  +144, benefit      137.5, efficiency      0.955
  ! Inline function call at line 93:14                           size  +144, benefit      137.5, efficiency      0.955

Pass 3: speed optimization selection (cost limit 127):
  ! Inline function 'start_reactor' defined at line 140:1        size  +143, benefit      275.0, efficiency      1.923
  ! Inline function call at line 91:14                           size  +144, benefit      137.5, efficiency      0.955
  ! Inline function call at line 93:14                           size  +144, benefit      137.5, efficiency      0.955

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-20 instructions):
 
    74 print "\n"
    75 set *tmp8 true
    76 jump *label11 always
-    * set *tmp12 null
    77 jump *label13 always
    78 label *label12
-    * set *tmp12 null
    79 label *label13
    80 set *tmp8 false
    81 jump *label11 always
 
   134 setaddr :update_fuel*retaddr *label22 (h:*label22)
   135 call *label1 *invalid :update_fuel*retval (m:*label22) (h:*label22)
   136 label *label22
-    * set *tmp19 :update_fuel*retval
   137 set :start_reactor:reactor reactor2
   138 set :start_reactor:reactor_num 2
   139 set :start_reactor:emerg_shutdown :emerg_shutdown
 
   151 setaddr :update_fuel*retaddr *label24 (h:*label24)
   152 call *label1 *invalid :update_fuel*retval (m:*label24) (h:*label24)
   153 label *label24
-    * set *tmp21 :update_fuel*retval
   154 set :check_radar:unit .TOWER
   155 setaddr :check_radar*retaddr *label25 (h:*label25)
   156 call *label4 *invalid :check_radar*retval (m:*label25) (h:*label25)
 
   210 setaddr :update_fuel*retaddr *label34 (h:*label34)
   211 call *label1 *invalid :update_fuel*retval (m:*label34) (h:*label34)
   212 label *label34
-    * set *tmp27 :update_fuel*retval
   213 jump *label37 notEqual :fuel_1 false
   214 label *label39
   215 jump *label37 notEqual :fuel_2 false
 
   263 print "\n"
   264 set *tmp40 null
   265 label *label47
-    * set *tmp39 *tmp40
   266 jump *label42 always
   267 label *label41
   268 op equal *tmp41 :throttle_blast:reactors_fueled false
 
   289 print "n"
   290 set *tmp42 null
   291 label *label49
-    * set *tmp39 *tmp42
   292 label *label42
   293 op lessThan *tmp43 :throttle_blast:fuel_stored :throttle_blast:limit
   294 set *tmp29 *tmp43
 
   326 control enabled generator2 true
   327 set *tmp53 true
   328 label *label54
-    * set *tmp47 *tmp53
   329 label *label52
   330 set :kilo:val .AVG_SURPLUS
   331 setaddr :kilo*retaddr *label57 (h:*label57)
 
   356 print :surplus
   357 print "kW flow."
   358 print "\n"
-    * set *tmp62 null
   359 jump *label60 always
   360 label *label59
   361 print "Power "
 
   385 label *label67
   386 set *tmp73 null
   387 label *label68
-    * set *tmp71 *tmp73
   388 jump *label64 always
   389 label *label63
-    * set *tmp71 null
   390 label *label64
   391 op lessThan *tmp74 :update_reactors_desired:stored 0.8
   392 jump *label69 equal *tmp74 false
 
   410 label *label70
   411 set *tmp64 *tmp77
   412 label *label62
-    * set *tmp62 *tmp64
   413 label *label60
   414 op notEqual *tmp83 .REACTORS_DESIRED 5
   415 jump *label73 equal *tmp83 false
 
   417 print .REACTORS_DESIRED
   418 print "/5 reactors."
   419 print "\n"
-    * set *tmp84 null
   420 jump *label74 always
   421 label *label73
-    * set *tmp84 null
   422 label *label74
   423 printflush message1
   424 label *label8
 
   470 label *label84
   471 set :calc_charge_req*retval 0
   472 jump *label81 always
-    * set *tmp99 null
   473 jump *label83 always
   474 label *label82
-    * set *tmp99 null
   475 label *label83
   476 op sub *tmp100 30 :calc_charge_req:secs
   477 set :calc_charge_req:time_left *tmp100
 
   521 print "emergency mode"
   522 print "\n"
   523 set :start_reactor:supply_fuel false
-    * set *tmp119 :start_reactor:supply_fuel
   524 jump *label88 always
   525 label *label87
   526 jump *label89 equal :start_reactor:enabled false
 
   736 label *label113
   737 set *tmp122 *tmp166
   738 label *label90
-    * set *tmp119 *tmp122
   739 label *label88
   740 sensor *tmp188 :start_reactor:reactor @enabled
   741 op notEqual *tmp189 :start_reactor:enabled *tmp188
   742 jump *label126 equal *tmp189 false
   743 set *tmp191 @tick
   744 set .RET_T_STARTUP *tmp191
-    * set *tmp190 .RET_T_STARTUP
   745 jump *label127 always
   746 label *label126
-    * set *tmp190 null
   747 label *label127
   748 set :start_reactor*retval :start_reactor:supply_fuel
   749 jump *label86 always

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-12 instructions):
 
   256 jump *label46 equal :throttle_blast:emerg_shutdown false
   257 print " Enemies detected."
   258 print "\n"
-    * set *tmp40 null
   259 jump *label47 always
   260 label *label46
   261 print " Critical power."
   262 print "\n"
-    * set *tmp40 null
   263 label *label47
   264 jump *label42 always
   265 label *label41
 
   274 print " "
   275 print "(due to emergency)"
   276 print "\n"
-    * set *tmp42 null
   277 jump *label49 always
   278 label *label48
   279 set :throttle_blast:limit .FUEL_LIMIT
 
   284 print :throttle_blast:limit
   285 print "\"
   286 print "n"
-    * set *tmp42 null
   287 label *label49
   288 label *label42
   289 op lessThan *tmp43 :throttle_blast:fuel_stored :throttle_blast:limit
 
   315 print "\n"
   316 control enabled generator1 false
   317 control enabled generator2 false
-    * set *tmp53 false
   318 jump *label54 always
   319 label *label53
   320 control enabled generator1 true
   321 control enabled generator2 true
-    * set *tmp53 true
   322 label *label54
   323 label *label52
   324 set :kilo:val .AVG_SURPLUS
 
   374 jump *label67 equal *tmp72 false
   375 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   376 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
-    * set *tmp73 .AVG_SURPLUS
   377 jump *label68 always
   378 label *label67
-    * set *tmp73 null
   379 label *label68
   380 jump *label64 always
   381 label *label63
 
   400 label *label69
   401 set *tmp77 null
   402 label *label70
-    * set *tmp64 *tmp77
   403 label *label62
   404 label *label60
   405 op notEqual *tmp83 .REACTORS_DESIRED 5
 
   443 set *tmp93 .FUEL_OFF
   444 label *label80
   445 control config *tmp90 *tmp93
-    * set :update_fuel*retval *tmp93
   446 label *label76
   447 return :update_fuel*retaddr
   448 end
 
   630 label *label94
   631 set *tmp124 *tmp130
   632 label *label92
-    * set *tmp122 *tmp124
   633 jump *label90 always
   634 label *label89
   635 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   723 label *label115
   724 set *tmp166 *tmp169
   725 label *label113
-    * set *tmp122 *tmp166
   726 label *label90
   727 label *label88
   728 sensor *tmp188 :start_reactor:reactor @enabled

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-6 instructions):
 
   395 op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
   396 op min *tmp82 5 *tmp81
   397 set .REACTORS_DESIRED *tmp82
-    * set *tmp77 .REACTORS_DESIRED
   398 jump *label70 always
   399 label *label69
-    * set *tmp77 null
   400 label *label70
   401 label *label62
   402 label *label60
 
   518 control enabled *tmp125 false
   519 print "STOP unwanted"
   520 print "\n"
-    * set *tmp124 null
   521 jump *label92 always
   522 label *label91
   523 op greaterThan *tmp127 :start_reactor:reactor_num 1
 
   625 label *label98
   626 set *tmp130 *tmp134
   627 label *label94
-    * set *tmp124 *tmp130
   628 label *label92
   629 jump *label90 always
   630 label *label89
 
   644 print "IDLE"
   645 print "\n"
   646 set :start_reactor:supply_fuel false
-    * set *tmp166 :start_reactor:supply_fuel
   647 jump *label113 always
   648 label *label112
   649 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
 
   716 label *label117
   717 set *tmp169 *tmp177
   718 label *label115
-    * set *tmp166 *tmp169
   719 label *label113
   720 label *label90
   721 label *label88

Modifications by Initial phase, Dead Code Elimination, iteration 4 (-4 instructions):
 
   532 control enabled *tmp131 false
   533 print "STOP system fuel low"
   534 print "\n"
-    * set *tmp130 null
   535 jump *label94 always
   536 label *label93
   537 op lessThanEq *tmp133 :start_reactor:fuel 1
 
   622 label *label100
   623 set *tmp134 *tmp138
   624 label *label98
-    * set *tmp130 *tmp134
   625 label *label94
   626 label *label92
   627 jump *label90 always
 
   662 print "W)"
   663 print "\n"
   664 set :start_reactor:supply_fuel false
-    * set *tmp169 :start_reactor:supply_fuel
   665 jump *label115 always
   666 label *label114
   667 jump *label116 equal :start_reactor:fuel_on false
 
   711 label *label123
   712 set *tmp177 *tmp183
   713 label *label117
-    * set *tmp169 *tmp177
   714 label *label115
   715 label *label113
   716 label *label90

Modifications by Initial phase, Dead Code Elimination, iteration 5 (-4 instructions):
 
   540 control enabled *tmp135 false
   541 print "STOP fuel low"
   542 print "\n"
-    * set *tmp134 null
   543 jump *label98 always
   544 label *label97
   545 op lessThanEq *tmp137 :start_reactor:cryo .CRYO_ABORT
 
   619 label *label102
   620 set *tmp138 *tmp142
   621 label *label100
-    * set *tmp134 *tmp138
   622 label *label98
   623 label *label94
   624 label *label92
 
   680 print "\n"
   681 set *tmp180 null
   682 label *label121
-    * set *tmp177 *tmp180
   683 jump *label117 always
   684 label *label116
   685 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
 
   706 label *label125
   707 set *tmp183 *tmp185
   708 label *label123
-    * set *tmp177 *tmp183
   709 label *label117
   710 label *label115
   711 label *label113

Modifications by Initial phase, Dead Code Elimination, iteration 6 (-6 instructions):
 
   548 control enabled *tmp139 false
   549 print "STOP out of cryo"
   550 print "\n"
-    * set *tmp138 null
   551 jump *label100 always
   552 label *label99
   553 op lessThan *tmp141 :start_reactor:secs 30
 
   616 label *label109
   617 set *tmp142 *tmp152
   618 label *label102
-    * set *tmp138 *tmp142
   619 label *label100
   620 label *label98
   621 label *label94
 
   671 jump *label120 equal *tmp179 false
   672 print "WAIT fuel"
   673 print "\n"
-    * set *tmp180 null
   674 jump *label121 always
   675 label *label120
   676 print "WAIT system fuel"
   677 print "\n"
-    * set *tmp180 null
   678 label *label121
   679 jump *label117 always
   680 label *label116
 
   683 jump *label122 equal *tmp182 false
   684 print "WAIT buffer fuel"
   685 print "\n"
-    * set *tmp183 null
   686 jump *label123 always
   687 label *label122
   688 op lessThan *tmp184 :start_reactor:cryo :start_reactor:cryo_req
 
   699 control enabled *tmp186 true
   700 set *tmp185 true
   701 label *label125
-    * set *tmp183 *tmp185
   702 label *label123
   703 label *label117
   704 label *label115

Modifications by Initial phase, Dead Code Elimination, iteration 7 (-4 instructions):
 
   585 print "\n"
   586 set *tmp146 null
   587 label *label105
-    * set *tmp142 *tmp146
   588 jump *label102 always
   589 label *label101
   590 op lessThan *tmp150 :start_reactor:charge .PWR_ABANDON
 
   613 print "\n"
   614 set *tmp152 null
   615 label *label109
-    * set *tmp142 *tmp152
   616 label *label102
   617 label *label100
   618 label *label98
 
   687 jump *label124 equal *tmp184 false
   688 print "WAIT cryo"
   689 print "\n"
-    * set *tmp185 null
   690 jump *label125 always
   691 label *label124
   692 print "STARTUP"
 
   694 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
   695 set *tmp186 :start_reactor:reactor
   696 control enabled *tmp186 true
-    * set *tmp185 true
   697 label *label125
   698 label *label123
   699 label *label117

Modifications by Initial phase, Dead Code Elimination, iteration 8 (-4 instructions):
 
   571 print "START FAIL battery"
   572 print "\n"
   573 set :start_reactor:supply_fuel false
-    * set *tmp146 :start_reactor:supply_fuel
   574 jump *label105 always
   575 label *label104
   576 op sub *tmp149 30 :start_reactor:secs
 
   582 print :start_reactor:charge_req
   583 print "J"
   584 print "\n"
-    * set *tmp146 null
   585 label *label105
   586 jump *label102 always
   587 label *label101
 
   597 print "ABANDON - battery crit"
   598 print "\n"
   599 set :start_reactor:supply_fuel false
-    * set *tmp152 :start_reactor:supply_fuel
   600 jump *label109 always
   601 label *label108
   602 op idiv *tmp155 :start_reactor:secs 6
 
   608 print " "
   609 print "mins"
   610 print "\n"
-    * set *tmp152 null
   611 label *label109
   612 label *label102
   613 label *label100

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-63 instructions):
 
    25 sensor *tmp0 node1 @powerNetIn
    26 sensor *tmp1 node1 @powerNetOut
    27 op sub *tmp2 *tmp0 *tmp1
-    * op floor *tmp3 *tmp2
-    * set :surplus *tmp3
+   28 op floor :surplus *tmp2
    29 op greaterThan *tmp4 :surplus 10000
    30 jump *label5 equal *tmp4 false
-    * op sub *tmp6 @tick 3600
-    * set *tmp5 *tmp6
+   31 op sub *tmp5 @tick 3600
    32 jump *label6 always
    33 label *label5
    34 set *tmp5 @tick
 
    58 setaddr :check_radar*retaddr *label10 (h:*label10)
    59 call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
    60 label *label10
-    * set *tmp7 :check_radar*retval
-    * set :emerg_shutdown *tmp7
+   61 set :emerg_shutdown :check_radar*retval
    62 op notEqual *tmp9 switch1 null
    63 jump *label12 equal *tmp9 false
    64 label *label15
 
    84 setaddr :calc_charge_req*retaddr *label16 (h:*label16)
    85 call *label2 *invalid :calc_charge_req*retval (m:*label16) (h:*label16)
    86 label *label16
-    * set *tmp13 :calc_charge_req*retval
-    * set .START_POWER_REQ *tmp13
+   87 set .START_POWER_REQ :calc_charge_req*retval
    88 set :calc_charge_req:reactor reactor2
    89 set :calc_charge_req:time :t_startup2
    90 setaddr :calc_charge_req*retaddr *label17 (h:*label17)
    91 call *label2 *invalid :calc_charge_req*retval (m:*label17) (h:*label17)
    92 label *label17
-    * set *tmp14 :calc_charge_req*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp14
+   93 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
    94 set :calc_charge_req:reactor reactor3
    95 set :calc_charge_req:time :t_startup3
    96 setaddr :calc_charge_req*retaddr *label18 (h:*label18)
    97 call *label2 *invalid :calc_charge_req*retval (m:*label18) (h:*label18)
    98 label *label18
-    * set *tmp15 :calc_charge_req*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp15
+   99 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   100 set :calc_charge_req:reactor reactor4
   101 set :calc_charge_req:time :t_startup4
   102 setaddr :calc_charge_req*retaddr *label19 (h:*label19)
   103 call *label2 *invalid :calc_charge_req*retval (m:*label19) (h:*label19)
   104 label *label19
-    * set *tmp16 :calc_charge_req*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp16
+  105 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   106 set :calc_charge_req:reactor reactor5
   107 set :calc_charge_req:time :t_startup5
   108 setaddr :calc_charge_req*retaddr *label20 (h:*label20)
   109 call *label2 *invalid :calc_charge_req*retval (m:*label20) (h:*label20)
   110 label *label20
-    * set *tmp17 :calc_charge_req*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp17
+  111 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   112 set :start_reactor:reactor reactor1
   113 set :start_reactor:reactor_num 1
   114 set :start_reactor:emerg_shutdown :emerg_shutdown
 
   117 setaddr :start_reactor*retaddr *label21 (h:*label21)
   118 call *label3 *invalid :start_reactor*retval (m:*label21) (h:*label21)
   119 label *label21
-    * set *tmp18 :start_reactor*retval
-    * set :fuel_1 *tmp18
+  120 set :fuel_1 :start_reactor*retval
   121 set :t_startup1 .RET_T_STARTUP
   122 set :update_fuel:fuel :fuel_1
   123 set :update_fuel:uld_in .ULD_IN_1
 
   133 setaddr :start_reactor*retaddr *label23 (h:*label23)
   134 call *label3 *invalid :start_reactor*retval (m:*label23) (h:*label23)
   135 label *label23
-    * set *tmp20 :start_reactor*retval
-    * set :fuel_2 *tmp20
+  136 set :fuel_2 :start_reactor*retval
   137 set :t_startup2 .RET_T_STARTUP
   138 set :update_fuel:fuel :fuel_2
   139 set :update_fuel:uld_in .ULD_IN_2
 
   145 setaddr :check_radar*retaddr *label25 (h:*label25)
   146 call *label4 *invalid :check_radar*retval (m:*label25) (h:*label25)
   147 label *label25
-    * set *tmp22 :check_radar*retval
-    * op or :emerg_shutdown :emerg_shutdown *tmp22
+  148 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
   149 set :start_reactor:reactor reactor3
   150 set :start_reactor:reactor_num 3
   151 set :start_reactor:emerg_shutdown :emerg_shutdown
 
   154 setaddr :start_reactor*retaddr *label26 (h:*label26)
   155 call *label3 *invalid :start_reactor*retval (m:*label26) (h:*label26)
   156 label *label26
-    * set *tmp23 :start_reactor*retval
-    * set :fuel_3 *tmp23
+  157 set :fuel_3 :start_reactor*retval
   158 set :t_startup3 .RET_T_STARTUP
   159 set :start_reactor:reactor reactor4
   160 set :start_reactor:reactor_num 4
 
   164 setaddr :start_reactor*retaddr *label27 (h:*label27)
   165 call *label3 *invalid :start_reactor*retval (m:*label27) (h:*label27)
   166 label *label27
-    * set *tmp24 :start_reactor*retval
-    * set :fuel_4 *tmp24
+  167 set :fuel_4 :start_reactor*retval
   168 set :t_startup4 .RET_T_STARTUP
   169 set :start_reactor:reactor reactor5
   170 set :start_reactor:reactor_num 5
 
   174 setaddr :start_reactor*retaddr *label28 (h:*label28)
   175 call *label3 *invalid :start_reactor*retval (m:*label28) (h:*label28)
   176 label *label28
-    * set *tmp25 :start_reactor*retval
-    * set :fuel_5 *tmp25
+  177 set :fuel_5 :start_reactor*retval
   178 set :t_startup5 .RET_T_STARTUP
   179 jump *label31 notEqual :fuel_3 false
   180 label *label33
 
   212 set :throttle_blast:reactors_fueled *tmp28
   213 set :throttle_blast:emerg_shutdown :emerg_shutdown
   214 sensor *tmp30 .NODE @powerNetStored
-    * op floor *tmp31 *tmp30
-    * set :throttle_blast:charge *tmp31
+  215 op floor :throttle_blast:charge *tmp30
   216 sensor *tmp32 .NODE @powerNetIn
   217 sensor *tmp33 .NODE @powerNetOut
   218 op sub *tmp34 *tmp32 *tmp33
-    * op floor *tmp35 *tmp34
-    * set :throttle_blast:surplus *tmp35
-    * sensor *tmp36 .CONTAINER @blast-compound
-    * set :throttle_blast:fuel_stored *tmp36
+  219 op floor :throttle_blast:surplus *tmp34
+  220 sensor :throttle_blast:fuel_stored .CONTAINER @blast-compound
   221 op lessThan *tmp37 :throttle_blast:charge .PWR_ABORT
   222 jump *label44 equal *tmp37 false
   223 label *label45
 
   269 print "n"
   270 label *label49
   271 label *label42
-    * op lessThan *tmp43 :throttle_blast:fuel_stored :throttle_blast:limit
-    * set *tmp29 *tmp43
+  272 op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
   273 jump *label40 always
   274 set *tmp29 null
   275 label *label40
 
   284 control config *tmp44 *tmp46
   285 sensor *tmp48 .NODE @powerNetStored
   286 sensor *tmp49 .NODE @powerNetCapacity
-    * op div *tmp50 *tmp48 *tmp49
-    * set :diff_generators:stored_pc *tmp50
+  287 op div :diff_generators:stored_pc *tmp48 *tmp49
   288 op greaterThan *tmp51 :diff_generators:stored_pc 0.9
   289 jump *label53 equal *tmp51 false
   290 label *label56
 
   306 setaddr :kilo*retaddr *label57 (h:*label57)
   307 call *label0 *invalid :kilo*retval (m:*label57) (h:*label57)
   308 label *label57
-    * set *tmp58 :kilo*retval
-    * set :surplus *tmp58
-    * sensor *tmp59 .NODE @powerNetStored
-    * set :kilo:val *tmp59
+  309 set :surplus :kilo*retval
+  310 sensor :kilo:val .NODE @powerNetStored
   311 setaddr :kilo*retaddr *label58 (h:*label58)
   312 call *label0 *invalid :kilo*retval (m:*label58) (h:*label58)
   313 label *label58
-    * set *tmp60 :kilo*retval
-    * set :charge *tmp60
+  314 set :charge :kilo*retval
   315 op greaterThan *tmp61 .START_POWER_REQ 0
   316 jump *label59 equal *tmp61 false
   317 set :kilo:val .START_POWER_REQ
   318 setaddr :kilo*retaddr *label61 (h:*label61)
   319 call *label0 *invalid :kilo*retval (m:*label61) (h:*label61)
   320 label *label61
-    * set *tmp63 :kilo*retval
-    * set :req *tmp63
+  321 set :req :kilo*retval
   322 print "Req "
   323 print :req
   324 print "kJ / "
 
   337 print "\n"
   338 sensor *tmp65 .NODE @powerNetStored
   339 sensor *tmp66 .NODE @powerNetCapacity
-    * op div *tmp67 *tmp65 *tmp66
-    * set :update_reactors_desired:stored *tmp67
+  340 op div :update_reactors_desired:stored *tmp65 *tmp66
   341 op greaterThan *tmp68 :update_reactors_desired:stored 0.98
   342 jump *label63 equal *tmp68 false
   343 label *label66
 
   366 label *label71
   367 op sub *tmp78 .AVG_SURPLUS .GOAL_BUFFER
   368 op idiv *tmp79 *tmp78 .GENERATOR_OUTPUT
-    * op max *tmp80 1 *tmp79
-    * set :update_reactors_desired:needed *tmp80
+  369 op max :update_reactors_desired:needed 1 *tmp79
   370 op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
-    * op min *tmp82 5 *tmp81
-    * set .REACTORS_DESIRED *tmp82
+  371 op min .REACTORS_DESIRED 5 *tmp81
   372 jump *label70 always
   373 label *label69
   374 label *label70
 
   390 end
   391 label *label0
   392 op idiv *tmp85 :kilo:val 100
-    * op div *tmp86 *tmp85 10
-    * set :kilo*retval *tmp86
+  393 op div :kilo*retval *tmp85 10
   394 jump *label75 always
   395 set :kilo*retval null
   396 label *label75
 
   419 end
   420 label *label2
   421 op sub *tmp94 @tick :calc_charge_req:time
-    * op idiv *tmp95 *tmp94 60
-    * set :calc_charge_req:secs *tmp95
+  422 op idiv :calc_charge_req:secs *tmp94 60
   423 op greaterThan *tmp96 :calc_charge_req:secs 30
   424 jump *label84 notEqual *tmp96 false
   425 label *label85
 
   433 jump *label83 always
   434 label *label82
   435 label *label83
-    * op sub *tmp100 30 :calc_charge_req:secs
-    * set :calc_charge_req:time_left *tmp100
+  436 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   437 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   438 op mul *tmp102 *tmp101 25
-    * op floor *tmp103 *tmp102
-    * set :calc_charge_req:charge_req *tmp103
+  439 op floor :calc_charge_req:charge_req *tmp102
   440 set :calc_charge_req*retval :calc_charge_req:charge_req
   441 jump *label81 always
   442 set :calc_charge_req*retval null
 
   446 label *label3
   447 set .RET_T_STARTUP :start_reactor:t_startup
   448 op sub *tmp104 @tick :start_reactor:t_startup
-    * op idiv *tmp105 *tmp104 60
-    * set :start_reactor:secs *tmp105
-    * sensor *tmp106 :start_reactor:reactor @blast-compound
-    * set :start_reactor:fuel *tmp106
+  449 op idiv :start_reactor:secs *tmp104 60
+  450 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
   451 set :start_reactor:supply_fuel true
-    * sensor *tmp107 .CONTAINER @blast-compound
-    * set :start_reactor:fuel_stored *tmp107
-    * sensor *tmp108 :start_reactor:reactor @cryofluid
-    * set :start_reactor:cryo *tmp108
+  452 sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
+  453 sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
   454 sensor *tmp109 .NODE @powerNetStored
-    * op floor *tmp110 *tmp109
-    * set :start_reactor:charge *tmp110
+  455 op floor :start_reactor:charge *tmp109
   456 sensor *tmp111 .NODE @powerNetIn
   457 sensor *tmp112 .NODE @powerNetOut
   458 op sub *tmp113 *tmp111 *tmp112
-    * op floor *tmp114 *tmp113
-    * set :start_reactor:surplus *tmp114
+  459 op floor :start_reactor:surplus *tmp113
   460 op mul *tmp115 .AVG_SURPLUS 0.8
   461 op mul *tmp116 :start_reactor:surplus 0.2
-    * op add *tmp117 *tmp115 *tmp116
-    * set .AVG_SURPLUS *tmp117
-    * sensor *tmp118 :start_reactor:reactor @enabled
-    * set :start_reactor:enabled *tmp118
+  462 op add .AVG_SURPLUS *tmp115 *tmp116
+  463 sensor :start_reactor:enabled :start_reactor:reactor @enabled
   464 print "#"
   465 print :start_reactor:reactor_num
   466 print " "
   467 print "- "
   468 jump *label87 equal :start_reactor:emerg_shutdown false
-    * set *tmp120 :start_reactor:reactor
-    * control enabled *tmp120 false
+  469 control enabled :start_reactor:reactor false
   470 print "emergency mode"
   471 print "\n"
   472 set :start_reactor:supply_fuel false
 
   475 jump *label89 equal :start_reactor:enabled false
   476 op lessThan *tmp123 .REACTORS_DESIRED :start_reactor:reactor_num
   477 jump *label91 equal *tmp123 false
-    * set *tmp125 :start_reactor:reactor
-    * control enabled *tmp125 false
+  478 control enabled :start_reactor:reactor false
   479 print "STOP unwanted"
   480 print "\n"
   481 jump *label92 always
 
   488 jump *label93 equal *tmp129 false
   489 jump *label95 always
   490 label *label95
-    * set *tmp131 :start_reactor:reactor
-    * control enabled *tmp131 false
+  491 control enabled :start_reactor:reactor false
   492 print "STOP system fuel low"
   493 print "\n"
   494 jump *label94 always
   495 label *label93
   496 op lessThanEq *tmp133 :start_reactor:fuel 1
   497 jump *label97 equal *tmp133 false
-    * set *tmp135 :start_reactor:reactor
-    * control enabled *tmp135 false
+  498 control enabled :start_reactor:reactor false
   499 print "STOP fuel low"
   500 print "\n"
   501 jump *label98 always
   502 label *label97
   503 op lessThanEq *tmp137 :start_reactor:cryo .CRYO_ABORT
   504 jump *label99 equal *tmp137 false
-    * set *tmp139 :start_reactor:reactor
-    * control enabled *tmp139 false
+  505 control enabled :start_reactor:reactor false
   506 print "STOP out of cryo"
   507 print "\n"
   508 jump *label100 always
 
   523 jump *label104 equal *tmp145 false
   524 jump *label106 always
   525 label *label106
-    * set *tmp147 :start_reactor:reactor
-    * control enabled *tmp147 false
+  526 control enabled :start_reactor:reactor false
   527 print "START FAIL battery"
   528 print "\n"
   529 set :start_reactor:supply_fuel false
   530 jump *label105 always
   531 label *label104
-    * op sub *tmp149 30 :start_reactor:secs
-    * set :start_reactor:time_left *tmp149
+  532 op sub :start_reactor:time_left 30 :start_reactor:secs
   533 print "Starting "
   534 print :start_reactor:time_left
   535 print " "
 
   547 jump *label108 equal *tmp151 false
   548 jump *label110 always
   549 label *label110
-    * set *tmp153 :start_reactor:reactor
-    * control enabled *tmp153 false
+  550 control enabled :start_reactor:reactor false
   551 print "ABANDON - battery crit"
   552 print "\n"
   553 set :start_reactor:supply_fuel false
   554 jump *label109 always
   555 label *label108
-    * op idiv *tmp155 :start_reactor:secs 6
-    * set :start_reactor:mins *tmp155
-    * op div *tmp156 :start_reactor:mins 10
-    * set :start_reactor:mins *tmp156
+  556 op idiv :start_reactor:mins :start_reactor:secs 6
+  557 op div :start_reactor:mins :start_reactor:mins 10
   558 print "RUN "
   559 print :start_reactor:mins
   560 print " "
 
   571 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
   572 op sub *tmp158 *tmp157 .PWR_ABORT
   573 op div *tmp159 *tmp158 .PWR_REQ
-    * op mul *tmp160 *tmp159 .PWR_RESERVE
-    * set :start_reactor:charge_units *tmp160
+  574 op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
   575 op div *tmp161 :start_reactor:surplus .FLOW_REQ
-    * op max *tmp162 -0.1 *tmp161
-    * set :start_reactor:flow_units *tmp162
+  576 op max :start_reactor:flow_units -0.1 *tmp161
   577 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
-    * op add *tmp164 .CRYO_REQ *tmp163
-    * set :start_reactor:cryo_req *tmp164
+  578 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
   579 op lessThan *tmp165 .REACTORS_DESIRED :start_reactor:reactor_num
   580 jump *label112 equal *tmp165 false
   581 print "IDLE"
 
   588 jump *label114 equal *tmp168 false
   589 op mul *tmp170 :start_reactor:flow_units 1000
   590 op floor *tmp171 *tmp170
-    * op div *tmp172 *tmp171 10
-    * set :start_reactor:flow *tmp172
+  591 op div :start_reactor:flow *tmp171 10
   592 op mul *tmp173 :start_reactor:charge_units 1000
   593 op floor *tmp174 *tmp173
-    * op div *tmp175 *tmp174 10
-    * set :start_reactor:charge *tmp175
+  594 op div :start_reactor:charge *tmp174 10
   595 print "WAIT power. (%"
   596 print :start_reactor:charge
   597 print "J + %"
 
   635 print "STARTUP"
   636 print "\n"
   637 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * set *tmp186 :start_reactor:reactor
-    * control enabled *tmp186 true
+  638 control enabled :start_reactor:reactor true
   639 label *label125
   640 label *label123
   641 label *label117
 
   646 sensor *tmp188 :start_reactor:reactor @enabled
   647 op notEqual *tmp189 :start_reactor:enabled *tmp188
   648 jump *label126 equal *tmp189 false
-    * set *tmp191 @tick
-    * set .RET_T_STARTUP *tmp191
+  649 set .RET_T_STARTUP @tick
   650 jump *label127 always
   651 label *label126
   652 label *label127
 
   657 return :start_reactor*retaddr
   658 end
   659 label *label4
-    * radar enemy any any health :check_radar:unit 1 *tmp192
-    * set :check_radar:enemy_found *tmp192
+  660 radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
   661 op notEqual *tmp193 :check_radar:enemy_found null
   662 jump *label129 equal *tmp193 false
   663 control enabled projector1 true
   664 control enabled projector2 true
-    * set *tmp197 .ULD_IN_1
-    * control config *tmp197 .FUEL_OFF
-    * set *tmp199 .ULD_OUT_1
-    * control config *tmp199 .FUEL
-    * set *tmp201 .ULD_IN_2
-    * control config *tmp201 .FUEL_OFF
-    * set *tmp203 .ULD_OUT_2
-    * control config *tmp203 .FUEL
-    * set *tmp205 .ULD_IN_MANY
-    * control config *tmp205 .FUEL_OFF
-    * set *tmp207 .ULD_OUT_MANY
-    * control config *tmp207 .FUEL
-    * set *tmp209 .ULD_MIXER
-    * control config *tmp209 .FUEL_OFF
+  665 control config .ULD_IN_1 .FUEL_OFF
+  666 control config .ULD_OUT_1 .FUEL
+  667 control config .ULD_IN_2 .FUEL_OFF
+  668 control config .ULD_OUT_2 .FUEL
+  669 control config .ULD_IN_MANY .FUEL_OFF
+  670 control config .ULD_OUT_MANY .FUEL
+  671 control config .ULD_MIXER .FUEL_OFF
   672 control enabled reactor1 false
   673 control enabled reactor2 false
   674 control enabled reactor3 false

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-1 instructions):
 
    43 set .REACTORS_DESIRED 5
    44 set .AVG_SURPLUS 500
    45 label *label7
-    * jump *label9 equal true false
    46 set .ULD_IN_1 unloader1
    47 set .ULD_OUT_1 unloader2
    48 set .ULD_IN_2 unloader3

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-5 instructions):
 
   180 jump *label31 notEqual :fuel_4 false
   181 jump *label32 always
   182 label *label32
-    * jump *label31 notEqual :fuel_5 false
-    * jump *label29 always
+  183 jump *label29 equal :fuel_5 false
   184 label *label31
   185 set *tmp26 true
   186 jump *label30 always
 
   199 jump *label37 notEqual :fuel_2 false
   200 jump *label38 always
   201 label *label38
-    * jump *label37 notEqual :fuel_many false
-    * jump *label35 always
+  202 jump *label35 equal :fuel_many false
   203 label *label37
   204 set *tmp28 true
   205 jump *label36 always
 
   219 jump *label44 equal *tmp37 false
   220 label *label45
   221 op lessThan *tmp38 :throttle_blast:surplus .FLOW_ABORT
-    * jump *label44 equal *tmp38 false
-    * jump *label43 always
+  222 jump *label43 notEqual *tmp38 false
   223 label *label44
-    * jump *label43 notEqual :throttle_blast:emerg_shutdown false
-    * jump *label41 always
+  224 jump *label41 equal :throttle_blast:emerg_shutdown false
   225 label *label43
   226 set :throttle_blast:limit 0
   227 print "Central Fuel at "
 
   420 label *label85
   421 sensor *tmp97 :calc_charge_req:reactor @enabled
   422 op equal *tmp98 *tmp97 false
-    * jump *label84 notEqual *tmp98 false
-    * jump *label82 always
+  423 jump *label82 equal *tmp98 false
   424 label *label84
   425 set :calc_charge_req*retval 0
   426 jump *label81 always

Modifications by Iterated phase, Condition Optimization, pass 1, iteration 1 (-36 instructions):
 
    26 sensor *tmp1 node1 @powerNetOut
    27 op sub *tmp2 *tmp0 *tmp1
    28 op floor :surplus *tmp2
-    * op greaterThan *tmp4 :surplus 10000
-    * jump *label5 equal *tmp4 false
+   29 jump *label5 lessThanEq :surplus 10000
    30 op sub *tmp5 @tick 3600
    31 jump *label6 always
    32 label *label5
 
    57 call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
    58 label *label10
    59 set :emerg_shutdown :check_radar*retval
-    * op notEqual *tmp9 switch1 null
-    * jump *label12 equal *tmp9 false
+   60 jump *label12 equal switch1 null
    61 label *label15
    62 sensor *tmp10 switch1 @enabled
-    * op equal *tmp11 *tmp10 false
-    * jump *label12 equal *tmp11 false
+   63 jump *label12 notEqual *tmp10 false
    64 jump *label14 always
    65 label *label14
    66 print "User has disabled emergency switch"
 
   212 op sub *tmp34 *tmp32 *tmp33
   213 op floor :throttle_blast:surplus *tmp34
   214 sensor :throttle_blast:fuel_stored .CONTAINER @blast-compound
-    * op lessThan *tmp37 :throttle_blast:charge .PWR_ABORT
-    * jump *label44 equal *tmp37 false
+  215 jump *label44 greaterThanEq :throttle_blast:charge .PWR_ABORT
   216 label *label45
-    * op lessThan *tmp38 :throttle_blast:surplus .FLOW_ABORT
-    * jump *label43 notEqual *tmp38 false
+  217 jump *label43 lessThan :throttle_blast:surplus .FLOW_ABORT
   218 label *label44
   219 jump *label41 equal :throttle_blast:emerg_shutdown false
   220 label *label43
 
   236 label *label47
   237 jump *label42 always
   238 label *label41
-    * op equal *tmp41 :throttle_blast:reactors_fueled false
-    * jump *label48 equal *tmp41 false
+  239 jump *label48 notEqual :throttle_blast:reactors_fueled false
   240 set :throttle_blast:limit .FUEL_LIMIT_LOW
   241 print "Fuel "
   242 print :throttle_blast:fuel_stored
 
   274 sensor *tmp48 .NODE @powerNetStored
   275 sensor *tmp49 .NODE @powerNetCapacity
   276 op div :diff_generators:stored_pc *tmp48 *tmp49
-    * op greaterThan *tmp51 :diff_generators:stored_pc 0.9
-    * jump *label53 equal *tmp51 false
+  277 jump *label53 lessThanEq :diff_generators:stored_pc 0.9
   278 label *label56
-    * op lessThan *tmp52 .START_POWER_REQ 10
-    * jump *label53 equal *tmp52 false
+  279 jump *label53 greaterThanEq .START_POWER_REQ 10
   280 jump *label55 always
   281 label *label55
   282 print "Differential now idle."
 
   299 call *label0 *invalid :kilo*retval (m:*label58) (h:*label58)
   300 label *label58
   301 set :charge :kilo*retval
-    * op greaterThan *tmp61 .START_POWER_REQ 0
-    * jump *label59 equal *tmp61 false
+  302 jump *label59 lessThanEq .START_POWER_REQ 0
   303 set :kilo:val .START_POWER_REQ
   304 setaddr :kilo*retaddr *label61 (h:*label61)
   305 call *label0 *invalid :kilo*retval (m:*label61) (h:*label61)
 
   324 sensor *tmp65 .NODE @powerNetStored
   325 sensor *tmp66 .NODE @powerNetCapacity
   326 op div :update_reactors_desired:stored *tmp65 *tmp66
-    * op greaterThan *tmp68 :update_reactors_desired:stored 0.98
-    * jump *label63 equal *tmp68 false
+  327 jump *label63 lessThanEq :update_reactors_desired:stored 0.98
   328 label *label66
   329 op add *tmp69 .GENERATOR_OUTPUT .GOAL_BUFFER
-    * op greaterThan *tmp70 .AVG_SURPLUS *tmp69
-    * jump *label63 equal *tmp70 false
+  330 jump *label63 lessThanEq .AVG_SURPLUS *tmp69
   331 jump *label65 always
   332 label *label65
-    * op greaterThan *tmp72 .REACTORS_DESIRED 2
-    * jump *label67 equal *tmp72 false
+  333 jump *label67 lessThanEq .REACTORS_DESIRED 2
   334 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   335 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
   336 jump *label68 always
 
   339 jump *label64 always
   340 label *label63
   341 label *label64
-    * op lessThan *tmp74 :update_reactors_desired:stored 0.8
-    * jump *label69 equal *tmp74 false
+  342 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
   343 label *label72
   344 op mul *tmp75 .GOAL_BUFFER 0.8
-    * op lessThan *tmp76 .AVG_SURPLUS *tmp75
-    * jump *label69 equal *tmp76 false
+  345 jump *label69 greaterThanEq .AVG_SURPLUS *tmp75
   346 jump *label71 always
   347 label *label71
   348 op sub *tmp78 .AVG_SURPLUS .GOAL_BUFFER
 
   355 label *label70
   356 label *label62
   357 label *label60
-    * op notEqual *tmp83 .REACTORS_DESIRED 5
-    * jump *label73 equal *tmp83 false
+  358 jump *label73 equal .REACTORS_DESIRED 5
   359 print "Require only "
   360 print .REACTORS_DESIRED
   361 print "/5 reactors."
 
   386 label *label78
   387 control config *tmp87 *tmp89
   388 set *tmp90 :update_fuel:uld_out
-    * op equal *tmp92 :update_fuel:fuel false
-    * jump *label79 equal *tmp92 false
+  389 jump *label79 notEqual :update_fuel:fuel false
   390 set *tmp93 .FUEL
   391 jump *label80 always
   392 label *label79
 
   399 label *label2
   400 op sub *tmp94 @tick :calc_charge_req:time
   401 op idiv :calc_charge_req:secs *tmp94 60
-    * op greaterThan *tmp96 :calc_charge_req:secs 30
-    * jump *label84 notEqual *tmp96 false
+  402 jump *label84 greaterThan :calc_charge_req:secs 30
   403 label *label85
   404 sensor *tmp97 :calc_charge_req:reactor @enabled
-    * op equal *tmp98 *tmp97 false
-    * jump *label82 equal *tmp98 false
+  405 jump *label82 notEqual *tmp97 false
   406 label *label84
   407 set :calc_charge_req*retval 0
   408 jump *label81 always
 
   449 jump *label88 always
   450 label *label87
   451 jump *label89 equal :start_reactor:enabled false
-    * op lessThan *tmp123 .REACTORS_DESIRED :start_reactor:reactor_num
-    * jump *label91 equal *tmp123 false
+  452 jump *label91 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
   453 control enabled :start_reactor:reactor false
   454 print "STOP unwanted"
   455 print "\n"
   456 jump *label92 always
   457 label *label91
-    * op greaterThan *tmp127 :start_reactor:reactor_num 1
-    * jump *label93 equal *tmp127 false
+  458 jump *label93 lessThanEq :start_reactor:reactor_num 1
   459 label *label96
   460 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
-    * op lessThan *tmp129 :start_reactor:fuel_stored *tmp128
-    * jump *label93 equal *tmp129 false
+  461 jump *label93 greaterThanEq :start_reactor:fuel_stored *tmp128
   462 jump *label95 always
   463 label *label95
   464 control enabled :start_reactor:reactor false
 
   466 print "\n"
   467 jump *label94 always
   468 label *label93
-    * op lessThanEq *tmp133 :start_reactor:fuel 1
-    * jump *label97 equal *tmp133 false
+  469 jump *label97 greaterThan :start_reactor:fuel 1
   470 control enabled :start_reactor:reactor false
   471 print "STOP fuel low"
   472 print "\n"
   473 jump *label98 always
   474 label *label97
-    * op lessThanEq *tmp137 :start_reactor:cryo .CRYO_ABORT
-    * jump *label99 equal *tmp137 false
+  475 jump *label99 greaterThan :start_reactor:cryo .CRYO_ABORT
   476 control enabled :start_reactor:reactor false
   477 print "STOP out of cryo"
   478 print "\n"
   479 jump *label100 always
   480 label *label99
-    * op lessThan *tmp141 :start_reactor:secs 30
-    * jump *label101 equal *tmp141 false
+  481 jump *label101 greaterThanEq :start_reactor:secs 30
   482 set :calc_charge_req:reactor :start_reactor:reactor
   483 set :calc_charge_req:time :start_reactor:t_startup
   484 setaddr :calc_charge_req*retaddr *label103 (h:*label103)
 
   486 label *label103
   487 set :start_reactor:charge_req :calc_charge_req*retval
   488 op sub *tmp143 :start_reactor:charge :start_reactor:charge_req
-    * op lessThan *tmp144 *tmp143 .PWR_ABORT
-    * jump *label104 equal *tmp144 false
+  489 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   490 label *label107
-    * op lessThan *tmp145 :start_reactor:surplus .FLOW_ABORT
-    * jump *label104 equal *tmp145 false
+  491 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
   492 jump *label106 always
   493 label *label106
   494 control enabled :start_reactor:reactor false
 
   508 label *label105
   509 jump *label102 always
   510 label *label101
-    * op lessThan *tmp150 :start_reactor:charge .PWR_ABANDON
-    * jump *label108 equal *tmp150 false
+  511 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
   512 label *label111
-    * op lessThan *tmp151 :start_reactor:surplus .FLOW_ABORT
-    * jump *label108 equal *tmp151 false
+  513 jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
   514 jump *label110 always
   515 label *label110
   516 control enabled :start_reactor:reactor false
 
   542 op max :start_reactor:flow_units -0.1 *tmp161
   543 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
   544 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
-    * op lessThan *tmp165 .REACTORS_DESIRED :start_reactor:reactor_num
-    * jump *label112 equal *tmp165 false
+  545 jump *label112 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
   546 print "IDLE"
   547 print "\n"
   548 set :start_reactor:supply_fuel false
   549 jump *label113 always
   550 label *label112
   551 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
-    * op lessThan *tmp168 *tmp167 1
-    * jump *label114 equal *tmp168 false
+  552 jump *label114 greaterThanEq *tmp167 1
   553 op mul *tmp170 :start_reactor:flow_units 1000
   554 op floor *tmp171 *tmp170
   555 op div :start_reactor:flow *tmp171 10
 
   567 label *label114
   568 jump *label116 equal :start_reactor:fuel_on false
   569 label *label119
-    * op lessThan *tmp176 :start_reactor:fuel .FUEL_REQ
-    * jump *label116 equal *tmp176 false
+  570 jump *label116 greaterThanEq :start_reactor:fuel .FUEL_REQ
   571 jump *label118 always
   572 label *label118
   573 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
-    * op greaterThan *tmp179 *tmp178 .FUEL_REQ
-    * jump *label120 equal *tmp179 false
+  574 jump *label120 lessThanEq *tmp178 .FUEL_REQ
   575 print "WAIT fuel"
   576 print "\n"
   577 jump *label121 always
 
   582 jump *label117 always
   583 label *label116
   584 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
-    * op lessThan *tmp182 :start_reactor:fuel_stored *tmp181
-    * jump *label122 equal *tmp182 false
+  585 jump *label122 greaterThanEq :start_reactor:fuel_stored *tmp181
   586 print "WAIT buffer fuel"
   587 print "\n"
   588 jump *label123 always
   589 label *label122
-    * op lessThan *tmp184 :start_reactor:cryo :start_reactor:cryo_req
-    * jump *label124 equal *tmp184 false
+  590 jump *label124 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
   591 print "WAIT cryo"
   592 print "\n"
   593 jump *label125 always
 
   604 label *label90
   605 label *label88
   606 sensor *tmp188 :start_reactor:reactor @enabled
-    * op notEqual *tmp189 :start_reactor:enabled *tmp188
-    * jump *label126 equal *tmp189 false
+  607 jump *label126 equal :start_reactor:enabled *tmp188
   608 set .RET_T_STARTUP @tick
   609 jump *label127 always
   610 label *label126
 
   617 end
   618 label *label4
   619 radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
-    * op notEqual *tmp193 :check_radar:enemy_found null
-    * jump *label129 equal *tmp193 false
+  620 jump *label129 equal :check_radar:enemy_found null
   621 control enabled projector1 true
   622 control enabled projector2 true
   623 control config .ULD_IN_1 .FUEL_OFF

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-17 instructions):
 
    61 label *label15
    62 sensor *tmp10 switch1 @enabled
    63 jump *label12 notEqual *tmp10 false
-    * jump *label14 always
    64 label *label14
    65 print "User has disabled emergency switch"
    66 print "\n"
    67 set *tmp8 true
    68 jump *label11 always
-    * jump *label13 always
    69 label *label12
    70 label *label13
    71 set *tmp8 false
 
   173 jump *label31 notEqual :fuel_3 false
   174 label *label33
   175 jump *label31 notEqual :fuel_4 false
-    * jump *label32 always
   176 label *label32
   177 jump *label29 equal :fuel_5 false
   178 label *label31
 
   191 jump *label37 notEqual :fuel_1 false
   192 label *label39
   193 jump *label37 notEqual :fuel_2 false
-    * jump *label38 always
   194 label *label38
   195 jump *label35 equal :fuel_many false
   196 label *label37
 
   273 jump *label53 lessThanEq :diff_generators:stored_pc 0.9
   274 label *label56
   275 jump *label53 greaterThanEq .START_POWER_REQ 10
-    * jump *label55 always
   276 label *label55
   277 print "Differential now idle."
   278 print "\n"
 
   323 label *label66
   324 op add *tmp69 .GENERATOR_OUTPUT .GOAL_BUFFER
   325 jump *label63 lessThanEq .AVG_SURPLUS *tmp69
-    * jump *label65 always
   326 label *label65
   327 jump *label67 lessThanEq .REACTORS_DESIRED 2
   328 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   329 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
-    * jump *label68 always
   330 label *label67
   331 label *label68
-    * jump *label64 always
   332 label *label63
   333 label *label64
   334 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
   335 label *label72
   336 op mul *tmp75 .GOAL_BUFFER 0.8
   337 jump *label69 greaterThanEq .AVG_SURPLUS *tmp75
-    * jump *label71 always
   338 label *label71
   339 op sub *tmp78 .AVG_SURPLUS .GOAL_BUFFER
   340 op idiv *tmp79 *tmp78 .GENERATOR_OUTPUT
   341 op max :update_reactors_desired:needed 1 *tmp79
   342 op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
   343 op min .REACTORS_DESIRED 5 *tmp81
-    * jump *label70 always
   344 label *label69
   345 label *label70
   346 label *label62
 
   350 print .REACTORS_DESIRED
   351 print "/5 reactors."
   352 print "\n"
-    * jump *label74 always
   353 label *label73
   354 label *label74
   355 printflush message1
 
   395 label *label84
   396 set :calc_charge_req*retval 0
   397 jump *label81 always
-    * jump *label83 always
   398 label *label82
   399 label *label83
   400 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
 
   447 label *label96
   448 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
   449 jump *label93 greaterThanEq :start_reactor:fuel_stored *tmp128
-    * jump *label95 always
   450 label *label95
   451 control enabled :start_reactor:reactor false
   452 print "STOP system fuel low"
 
   476 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   477 label *label107
   478 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * jump *label106 always
   479 label *label106
   480 control enabled :start_reactor:reactor false
   481 print "START FAIL battery"
 
   497 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
   498 label *label111
   499 jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * jump *label110 always
   500 label *label110
   501 control enabled :start_reactor:reactor false
   502 print "ABANDON - battery crit"
 
   553 jump *label116 equal :start_reactor:fuel_on false
   554 label *label119
   555 jump *label116 greaterThanEq :start_reactor:fuel .FUEL_REQ
-    * jump *label118 always
   556 label *label118
   557 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   558 jump *label120 lessThanEq *tmp178 .FUEL_REQ
 
   590 sensor *tmp188 :start_reactor:reactor @enabled
   591 jump *label126 equal :start_reactor:enabled *tmp188
   592 set .RET_T_STARTUP @tick
-    * jump *label127 always
   593 label *label126
   594 label *label127
   595 set :start_reactor*retval :start_reactor:supply_fuel

Modifications by Iterated phase, Expression Optimization, pass 1, iteration 1 (-3 instructions):
 
   399 label *label83
   400 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   401 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
-    * op mul *tmp102 *tmp101 25
-    * op floor :calc_charge_req:charge_req *tmp102
+  402 op idiv :calc_charge_req:charge_req *tmp101 0.04
   403 set :calc_charge_req*retval :calc_charge_req:charge_req
   404 jump *label81 always
   405 set :calc_charge_req*retval null
 
   534 label *label112
   535 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
   536 jump *label114 greaterThanEq *tmp167 1
-    * op mul *tmp170 :start_reactor:flow_units 1000
-    * op floor *tmp171 *tmp170
+  537 op idiv *tmp171 :start_reactor:flow_units 0.001
   538 op div :start_reactor:flow *tmp171 10
-    * op mul *tmp173 :start_reactor:charge_units 1000
-    * op floor *tmp174 *tmp173
+  539 op idiv *tmp174 :start_reactor:charge_units 0.001
   540 op div :start_reactor:charge *tmp174 10
   541 print "WAIT power. (%"
   542 print :start_reactor:charge

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-7 instructions):
 
    33 set *tmp5 @tick
    34 label *label6
    35 set :start_time *tmp5
-    * set :t_startup1 :start_time
-    * set :t_startup2 :start_time
-    * set :t_startup3 :start_time
-    * set :t_startup4 :start_time
-    * set :t_startup5 :start_time
-    * set .RET_T_STARTUP :t_startup1
+   36 set :t_startup1 *tmp5
+   37 set :t_startup2 *tmp5
+   38 set :t_startup3 *tmp5
+   39 set :t_startup4 *tmp5
+   40 set :t_startup5 *tmp5
+   41 set .RET_T_STARTUP :start_time
    42 set .REACTORS_DESIRED 5
    43 set .AVG_SURPLUS 500
    44 label *label7
 
    52 set .TOWER cyclone1
    53 set .CONTAINER vault1
    54 set .NODE node1
-    * set :check_radar:unit .TOWER
+   55 set :check_radar:unit cyclone1
    56 setaddr :check_radar*retaddr *label10 (h:*label10)
    57 call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
    58 label *label10
 
    70 label *label13
    71 set *tmp8 false
    72 jump *label11 always
-    * set *tmp8 null
    73 label *label11
-    * op or :emerg_shutdown :emerg_shutdown *tmp8
+   74 op or :emerg_shutdown :check_radar*retval *tmp8
    75 set :calc_charge_req:reactor reactor1
    76 set :calc_charge_req:time :t_startup1
    77 setaddr :calc_charge_req*retaddr *label16 (h:*label16)
 
   112 label *label21
   113 set :fuel_1 :start_reactor*retval
   114 set :t_startup1 .RET_T_STARTUP
-    * set :update_fuel:fuel :fuel_1
-    * set :update_fuel:uld_in .ULD_IN_1
-    * set :update_fuel:uld_out .ULD_OUT_1
+  115 set :update_fuel:fuel :start_reactor*retval
+  116 set :update_fuel:uld_in unloader1
+  117 set :update_fuel:uld_out unloader2
   118 setaddr :update_fuel*retaddr *label22 (h:*label22)
   119 call *label1 *invalid :update_fuel*retval (m:*label22) (h:*label22)
   120 label *label22
 
   128 label *label23
   129 set :fuel_2 :start_reactor*retval
   130 set :t_startup2 .RET_T_STARTUP
-    * set :update_fuel:fuel :fuel_2
-    * set :update_fuel:uld_in .ULD_IN_2
-    * set :update_fuel:uld_out .ULD_OUT_2
+  131 set :update_fuel:fuel :start_reactor*retval
+  132 set :update_fuel:uld_in unloader3
+  133 set :update_fuel:uld_out unloader4
   134 setaddr :update_fuel*retaddr *label24 (h:*label24)
   135 call *label1 *invalid :update_fuel*retval (m:*label24) (h:*label24)
   136 label *label24
-    * set :check_radar:unit .TOWER
+  137 set :check_radar:unit cyclone1
   138 setaddr :check_radar*retaddr *label25 (h:*label25)
   139 call *label4 *invalid :check_radar*retval (m:*label25) (h:*label25)
   140 label *label25
 
   173 label *label33
   174 jump *label31 notEqual :fuel_4 false
   175 label *label32
-    * jump *label29 equal :fuel_5 false
+  176 jump *label29 equal :start_reactor*retval false
   177 label *label31
   178 set *tmp26 true
   179 jump *label30 always
 
   181 set *tmp26 false
   182 label *label30
   183 set :fuel_many *tmp26
-    * set :update_fuel:fuel :fuel_many
-    * set :update_fuel:uld_in .ULD_IN_MANY
-    * set :update_fuel:uld_out .ULD_OUT_MANY
+  184 set :update_fuel:fuel *tmp26
+  185 set :update_fuel:uld_in unloader5
+  186 set :update_fuel:uld_out unloader6
   187 setaddr :update_fuel*retaddr *label34 (h:*label34)
   188 call *label1 *invalid :update_fuel*retval (m:*label34) (h:*label34)
   189 label *label34
 
   191 label *label39
   192 jump *label37 notEqual :fuel_2 false
   193 label *label38
-    * jump *label35 equal :fuel_many false
+  194 jump *label35 equal *tmp26 false
   195 label *label37
   196 set *tmp28 true
   197 jump *label36 always
 
   200 label *label36
   201 set :throttle_blast:reactors_fueled *tmp28
   202 set :throttle_blast:emerg_shutdown :emerg_shutdown
-    * sensor *tmp30 .NODE @powerNetStored
+  203 sensor *tmp30 node1 @powerNetStored
   204 op floor :throttle_blast:charge *tmp30
-    * sensor *tmp32 .NODE @powerNetIn
-    * sensor *tmp33 .NODE @powerNetOut
+  205 sensor *tmp32 node1 @powerNetIn
+  206 sensor *tmp33 node1 @powerNetOut
   207 op sub *tmp34 *tmp32 *tmp33
   208 op floor :throttle_blast:surplus *tmp34
-    * sensor :throttle_blast:fuel_stored .CONTAINER @blast-compound
-    * jump *label44 greaterThanEq :throttle_blast:charge .PWR_ABORT
+  209 sensor :throttle_blast:fuel_stored vault1 @blast-compound
+  210 jump *label44 greaterThanEq :throttle_blast:charge 5000
   211 label *label45
-    * jump *label43 lessThan :throttle_blast:surplus .FLOW_ABORT
+  212 jump *label43 lessThan :throttle_blast:surplus -500
   213 label *label44
-    * jump *label41 equal :throttle_blast:emerg_shutdown false
+  214 jump *label41 equal :emerg_shutdown false
   215 label *label43
   216 set :throttle_blast:limit 0
   217 print "Central Fuel at "
   218 print :throttle_blast:fuel_stored
   219 print " "
   220 print "/ "
-    * print :throttle_blast:limit
+  221 print 0
   222 print " "
   223 print "- "
-    * jump *label46 equal :throttle_blast:emerg_shutdown false
+  224 jump *label46 equal :emerg_shutdown false
   225 print " Enemies detected."
   226 print "\n"
   227 jump *label47 always
 
   231 label *label47
   232 jump *label42 always
   233 label *label41
-    * jump *label48 notEqual :throttle_blast:reactors_fueled false
-    * set :throttle_blast:limit .FUEL_LIMIT_LOW
+  234 jump *label48 notEqual *tmp28 false
+  235 set :throttle_blast:limit 150
   236 print "Fuel "
   237 print :throttle_blast:fuel_stored
   238 print " "
   239 print "/ "
-    * print :throttle_blast:limit
+  240 print .FUEL_LIMIT_LOW
   241 print " "
   242 print "(due to emergency)"
   243 print "\n"
   244 jump *label49 always
   245 label *label48
-    * set :throttle_blast:limit .FUEL_LIMIT
+  246 set :throttle_blast:limit 800
   247 print "Fuel "
   248 print :throttle_blast:fuel_stored
   249 print " "
   250 print "/ "
-    * print :throttle_blast:limit
+  251 print .FUEL_LIMIT
   252 print "\"
   253 print "n"
   254 label *label49
   255 label *label42
   256 op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
   257 jump *label40 always
-    * set *tmp29 null
   258 label *label40
   259 set :feed_mixers *tmp29
-    * set *tmp44 .ULD_MIXER
-    * jump *label50 equal :feed_mixers false
-    * set *tmp46 .MIXER_IN
+  260 set *tmp44 unloader7
+  261 jump *label50 equal *tmp29 false
+  262 set *tmp46 @pyratite
   263 jump *label51 always
   264 label *label50
-    * set *tmp46 .FUEL_OFF
+  265 set *tmp46 @scrap
   266 label *label51
-    * control config *tmp44 *tmp46
-    * sensor *tmp48 .NODE @powerNetStored
-    * sensor *tmp49 .NODE @powerNetCapacity
+  267 control config .ULD_MIXER *tmp46
+  268 sensor *tmp48 node1 @powerNetStored
+  269 sensor *tmp49 node1 @powerNetCapacity
   270 op div :diff_generators:stored_pc *tmp48 *tmp49
   271 jump *label53 lessThanEq :diff_generators:stored_pc 0.9
   272 label *label56
 
   287 call *label0 *invalid :kilo*retval (m:*label57) (h:*label57)
   288 label *label57
   289 set :surplus :kilo*retval
-    * sensor :kilo:val .NODE @powerNetStored
+  290 sensor :kilo:val node1 @powerNetStored
   291 setaddr :kilo*retaddr *label58 (h:*label58)
   292 call *label0 *invalid :kilo*retval (m:*label58) (h:*label58)
   293 label *label58
 
   299 label *label61
   300 set :req :kilo*retval
   301 print "Req "
-    * print :req
+  302 print :kilo*retval
   303 print "kJ / "
   304 print :charge
   305 print "kJ. "
 
   311 print "Power "
   312 print :surplus
   313 print "kW, "
-    * print :charge
+  314 print :kilo*retval
   315 print "kJ"
   316 print "\n"
-    * sensor *tmp65 .NODE @powerNetStored
-    * sensor *tmp66 .NODE @powerNetCapacity
+  317 sensor *tmp65 node1 @powerNetStored
+  318 sensor *tmp66 node1 @powerNetCapacity
   319 op div :update_reactors_desired:stored *tmp65 *tmp66
   320 jump *label63 lessThanEq :update_reactors_desired:stored 0.98
   321 label *label66
-    * op add *tmp69 .GENERATOR_OUTPUT .GOAL_BUFFER
-    * jump *label63 lessThanEq .AVG_SURPLUS *tmp69
+  322 op add *tmp69 6500 10000
+  323 jump *label63 lessThanEq .AVG_SURPLUS 16500
   324 label *label65
   325 jump *label67 lessThanEq .REACTORS_DESIRED 2
   326 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
-    * op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
+  327 op sub .AVG_SURPLUS .AVG_SURPLUS 6500
   328 label *label67
   329 label *label68
   330 label *label63
   331 label *label64
   332 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
   333 label *label72
-    * op mul *tmp75 .GOAL_BUFFER 0.8
-    * jump *label69 greaterThanEq .AVG_SURPLUS *tmp75
+  334 op mul *tmp75 10000 0.8
+  335 jump *label69 greaterThanEq .AVG_SURPLUS 8000
   336 label *label71
-    * op sub *tmp78 .AVG_SURPLUS .GOAL_BUFFER
-    * op idiv *tmp79 *tmp78 .GENERATOR_OUTPUT
+  337 op sub *tmp78 .AVG_SURPLUS 10000
+  338 op idiv *tmp79 *tmp78 6500
   339 op max :update_reactors_desired:needed 1 *tmp79
   340 op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
   341 op min .REACTORS_DESIRED 5 *tmp81
 
   359 op idiv *tmp85 :kilo:val 100
   360 op div :kilo*retval *tmp85 10
   361 jump *label75 always
-    * set :kilo*retval null
   362 label *label75
   363 return :kilo*retaddr
   364 end
 
   370 label *label77
   371 set *tmp89 .FUEL_OFF
   372 label *label78
-    * control config *tmp87 *tmp89
+  373 control config :update_fuel:uld_in *tmp89
   374 set *tmp90 :update_fuel:uld_out
   375 jump *label79 notEqual :update_fuel:fuel false
   376 set *tmp93 .FUEL
 
   378 label *label79
   379 set *tmp93 .FUEL_OFF
   380 label *label80
-    * control config *tmp90 *tmp93
+  381 control config :update_fuel:uld_out *tmp93
   382 label *label76
   383 return :update_fuel*retaddr
   384 end
 
   399 op idiv :calc_charge_req:charge_req *tmp101 0.04
   400 set :calc_charge_req*retval :calc_charge_req:charge_req
   401 jump *label81 always
-    * set :calc_charge_req*retval null
   402 label *label81
   403 return :calc_charge_req*retaddr
   404 end
 
   467 call *label2 *invalid :calc_charge_req*retval (m:*label103) (h:*label103)
   468 label *label103
   469 set :start_reactor:charge_req :calc_charge_req*retval
-    * op sub *tmp143 :start_reactor:charge :start_reactor:charge_req
+  470 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   471 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   472 label *label107
   473 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
 
   483 print :start_reactor:time_left
   484 print " "
   485 print "secs, req "
-    * print :start_reactor:charge_req
+  486 print :calc_charge_req*retval
   487 print "J"
   488 print "\n"
   489 label *label105
 
   587 label *label127
   588 set :start_reactor*retval :start_reactor:supply_fuel
   589 jump *label86 always
-    * set :start_reactor*retval null
   590 label *label86
   591 return :start_reactor*retaddr
   592 end
 
   609 control enabled reactor5 false
   610 set :check_radar*retval true
   611 jump *label128 always
-    * set *tmp194 null
   612 jump *label130 always
   613 label *label129
   614 control enabled projector1 false
   615 control enabled projector2 false
   616 set :check_radar*retval false
   617 jump *label128 always
-    * set *tmp194 null
   618 label *label130
-    * set :check_radar*retval *tmp194
+  619 set :check_radar*retval null
   620 label *label128
   621 return :check_radar*retaddr
   622 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-17 instructions):
     0 printflush message1
     1 set .FUEL @blast-compound
     2 set .FUEL_OFF @scrap
-    * set .MIXER_IN @pyratite
     3 set .PWR_REQ 23000
     4 set .FLOW_REQ 2000
     5 set .PWR_ABANDON 2000
 
    11 set .FUEL_LIMIT_LOW 150
    12 set .FUEL_LIMIT 800
    13 set .FUEL_TOT_ABORT 15
-    * set .GENERATOR_OUTPUT 6500
-    * set .GOAL_BUFFER 10000
    14 set .CRYO_REQ 3
    15 set .CRYO_REQ_EA 2
    16 set .CRYO_ABORT 1
 
    35 set :t_startup3 *tmp5
    36 set :t_startup4 *tmp5
    37 set :t_startup5 *tmp5
-    * set .RET_T_STARTUP :start_time
+   38 set .RET_T_STARTUP *tmp5
    39 set .REACTORS_DESIRED 5
    40 set .AVG_SURPLUS 500
    41 label *label7
 
    46 set .ULD_IN_MANY unloader5
    47 set .ULD_OUT_MANY unloader6
    48 set .ULD_MIXER unloader7
-    * set .TOWER cyclone1
    49 set .CONTAINER vault1
    50 set .NODE node1
    51 set :check_radar:unit cyclone1
    52 setaddr :check_radar*retaddr *label10 (h:*label10)
    53 call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
    54 label *label10
-    * set :emerg_shutdown :check_radar*retval
    55 jump *label12 equal switch1 null
    56 label *label15
    57 sensor *tmp10 switch1 @enabled
 
   175 label *label29
   176 set *tmp26 false
   177 label *label30
-    * set :fuel_many *tmp26
   178 set :update_fuel:fuel *tmp26
   179 set :update_fuel:uld_in unloader5
   180 set :update_fuel:uld_out unloader6
 
   192 label *label35
   193 set *tmp28 false
   194 label *label36
-    * set :throttle_blast:reactors_fueled *tmp28
-    * set :throttle_blast:emerg_shutdown :emerg_shutdown
   195 sensor *tmp30 node1 @powerNetStored
   196 op floor :throttle_blast:charge *tmp30
   197 sensor *tmp32 node1 @powerNetIn
 
   229 print :throttle_blast:fuel_stored
   230 print " "
   231 print "/ "
-    * print .FUEL_LIMIT_LOW
+  232 print 150
   233 print " "
   234 print "(due to emergency)"
   235 print "\n"
 
   240 print :throttle_blast:fuel_stored
   241 print " "
   242 print "/ "
-    * print .FUEL_LIMIT
+  243 print 800
   244 print "\"
   245 print "n"
   246 label *label49
 
   248 op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
   249 jump *label40 always
   250 label *label40
-    * set :feed_mixers *tmp29
-    * set *tmp44 unloader7
   251 jump *label50 equal *tmp29 false
   252 set *tmp46 @pyratite
   253 jump *label51 always
   254 label *label50
   255 set *tmp46 @scrap
   256 label *label51
-    * control config .ULD_MIXER *tmp46
+  257 control config unloader7 *tmp46
   258 sensor *tmp48 node1 @powerNetStored
   259 sensor *tmp49 node1 @powerNetCapacity
   260 op div :diff_generators:stored_pc *tmp48 *tmp49
 
   287 setaddr :kilo*retaddr *label61 (h:*label61)
   288 call *label0 *invalid :kilo*retval (m:*label61) (h:*label61)
   289 label *label61
-    * set :req :kilo*retval
   290 print "Req "
   291 print :kilo*retval
   292 print "kJ / "
 
   308 op div :update_reactors_desired:stored *tmp65 *tmp66
   309 jump *label63 lessThanEq :update_reactors_desired:stored 0.98
   310 label *label66
-    * op add *tmp69 6500 10000
   311 jump *label63 lessThanEq .AVG_SURPLUS 16500
   312 label *label65
   313 jump *label67 lessThanEq .REACTORS_DESIRED 2
 
   319 label *label64
   320 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
   321 label *label72
-    * op mul *tmp75 10000 0.8
   322 jump *label69 greaterThanEq .AVG_SURPLUS 8000
   323 label *label71
   324 op sub *tmp78 .AVG_SURPLUS 10000
 
   350 return :kilo*retaddr
   351 end
   352 label *label1
-    * set *tmp87 :update_fuel:uld_in
   353 jump *label77 equal :update_fuel:fuel false
   354 set *tmp89 .FUEL
   355 jump *label78 always
 
   357 set *tmp89 .FUEL_OFF
   358 label *label78
   359 control config :update_fuel:uld_in *tmp89
-    * set *tmp90 :update_fuel:uld_out
   360 jump *label79 notEqual :update_fuel:fuel false
   361 set *tmp93 .FUEL
   362 jump *label80 always
 
   451 setaddr :calc_charge_req*retaddr *label103 (h:*label103)
   452 call *label2 *invalid :calc_charge_req*retval (m:*label103) (h:*label103)
   453 label *label103
-    * set :start_reactor:charge_req :calc_charge_req*retval
   454 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   455 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   456 label *label107
 
   600 set :check_radar*retval false
   601 jump *label128 always
   602 label *label130
-    * set :check_radar*retval null
   603 label *label128
   604 return :check_radar*retaddr
   605 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-3 instructions):
 
     8 set .FLOW_ABORT -500
     9 set .FUEL_REQ 10
    10 set .FUEL_TOT_REQ 45
-    * set .FUEL_LIMIT_LOW 150
-    * set .FUEL_LIMIT 800
    11 set .FUEL_TOT_ABORT 15
    12 set .CRYO_REQ 3
    13 set .CRYO_REQ_EA 2
 
    27 label *label5
    28 set *tmp5 @tick
    29 label *label6
-    * set :start_time *tmp5
    30 set :t_startup1 *tmp5
    31 set :t_startup2 *tmp5
    32 set :t_startup3 *tmp5

Modifications by Iterated phase, Boolean Optimization, pass 1, iteration 1 (-12 instructions):
 
    21 sensor *tmp1 node1 @powerNetOut
    22 op sub *tmp2 *tmp0 *tmp1
    23 op floor :surplus *tmp2
-    * jump *label5 lessThanEq :surplus 10000
-    * op sub *tmp5 @tick 3600
-    * jump *label6 always
-    * label *label5
-    * set *tmp5 @tick
-    * label *label6
+   24 op sub *tmp218 @tick 3600
+   25 select *tmp5 greaterThan :surplus 10000 *tmp218 @tick
    26 set :t_startup1 *tmp5
    27 set :t_startup2 *tmp5
    28 set :t_startup3 *tmp5
 
   157 label *label28
   158 set :fuel_5 :start_reactor*retval
   159 set :t_startup5 .RET_T_STARTUP
-    * jump *label31 notEqual :fuel_3 false
-    * label *label33
-    * jump *label31 notEqual :fuel_4 false
-    * label *label32
-    * jump *label29 equal :start_reactor*retval false
-    * label *label31
+  160 label *label131
+  161 label *label132
+  162 label *label133
+  163 op or *tmp219 :fuel_3 :fuel_4
+  164 op or *tmp220 *tmp219 :start_reactor*retval
+  165 jump *label29 equal *tmp220 false
   166 set *tmp26 true
   167 jump *label30 always
   168 label *label29
 
   174 setaddr :update_fuel*retaddr *label34 (h:*label34)
   175 call *label1 *invalid :update_fuel*retval (m:*label34) (h:*label34)
   176 label *label34
-    * jump *label37 notEqual :fuel_1 false
-    * label *label39
-    * jump *label37 notEqual :fuel_2 false
-    * label *label38
-    * jump *label35 equal *tmp26 false
-    * label *label37
+  177 label *label134
+  178 label *label135
+  179 label *label136
+  180 op or *tmp221 :fuel_1 :fuel_2
+  181 op or *tmp222 *tmp221 *tmp26
+  182 jump *label35 equal *tmp222 false
   183 set *tmp28 true
   184 jump *label36 always
   185 label *label35
 
   241 op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
   242 jump *label40 always
   243 label *label40
-    * jump *label50 equal *tmp29 false
-    * set *tmp46 @pyratite
-    * jump *label51 always
-    * label *label50
-    * set *tmp46 @scrap
-    * label *label51
+  244 select *tmp46 notEqual *tmp29 false @pyratite @scrap
   245 control config unloader7 *tmp46
   246 sensor *tmp48 node1 @powerNetStored
   247 sensor *tmp49 node1 @powerNetCapacity
 
   338 return :kilo*retaddr
   339 end
   340 label *label1
-    * jump *label77 equal :update_fuel:fuel false
-    * set *tmp89 .FUEL
-    * jump *label78 always
-    * label *label77
-    * set *tmp89 .FUEL_OFF
-    * label *label78
+  341 select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
   342 control config :update_fuel:uld_in *tmp89
-    * jump *label79 notEqual :update_fuel:fuel false
-    * set *tmp93 .FUEL
-    * jump *label80 always
-    * label *label79
-    * set *tmp93 .FUEL_OFF
-    * label *label80
+  343 select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
   344 control config :update_fuel:uld_out *tmp93
   345 label *label76
   346 return :update_fuel*retaddr
 
   542 label *label113
   543 label *label90
   544 label *label88
-    * sensor *tmp188 :start_reactor:reactor @enabled
-    * jump *label126 equal :start_reactor:enabled *tmp188
-    * set .RET_T_STARTUP @tick
-    * label *label126
-    * label *label127
+  545 sensor *tmp188 :start_reactor:reactor @enabled
+  546 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick .RET_T_STARTUP
   547 set :start_reactor*retval :start_reactor:supply_fuel
   548 jump *label86 always
   549 label *label86

Modifications by Iterated phase, Boolean Optimization, pass 1, iteration 2 (-6 instructions):
 
   157 label *label28
   158 set :fuel_5 :start_reactor*retval
   159 set :t_startup5 .RET_T_STARTUP
-    * label *label131
-    * label *label132
-    * label *label133
-    * op or *tmp219 :fuel_3 :fuel_4
-    * op or *tmp220 *tmp219 :start_reactor*retval
-    * jump *label29 equal *tmp220 false
-    * set *tmp26 true
-    * jump *label30 always
-    * label *label29
-    * set *tmp26 false
-    * label *label30
+  160 label *label137
+  161 label *label138
+  162 label *label139
+  163 op or *tmp219 :fuel_3 :fuel_4
+  164 op or *tmp220 *tmp219 :start_reactor*retval
+  165 op notEqual *tmp26 *tmp220 false
   166 set :update_fuel:fuel *tmp26
   167 set :update_fuel:uld_in unloader5
   168 set :update_fuel:uld_out unloader6
   169 setaddr :update_fuel*retaddr *label34 (h:*label34)
   170 call *label1 *invalid :update_fuel*retval (m:*label34) (h:*label34)
   171 label *label34
-    * label *label134
-    * label *label135
-    * label *label136
-    * op or *tmp221 :fuel_1 :fuel_2
-    * op or *tmp222 *tmp221 *tmp26
-    * jump *label35 equal *tmp222 false
-    * set *tmp28 true
-    * jump *label36 always
-    * label *label35
-    * set *tmp28 false
-    * label *label36
+  172 label *label140
+  173 label *label141
+  174 label *label142
+  175 op or *tmp221 :fuel_1 :fuel_2
+  176 op or *tmp222 *tmp221 *tmp26
+  177 op notEqual *tmp28 *tmp222 false
   178 sensor *tmp30 node1 @powerNetStored
   179 op floor :throttle_blast:charge *tmp30
   180 sensor *tmp32 node1 @powerNetIn

Modifications by Inline function 'kilo' defined at line 117:1 (-2 instructions):
 
   251 label *label54
   252 label *label52
   253 set :kilo:val .AVG_SURPLUS
-    * setaddr :kilo*retaddr *label57 (h:*label57)
-    * call *label0 *invalid :kilo*retval (m:*label57) (h:*label57)
-    * label *label57
+  254 label *label143
+  255 op idiv *tmp85 :kilo:val 100
+  256 op div :kilo*retval *tmp85 10
+  257 jump *label144 always
+  258 label *label144
   259 set :surplus :kilo*retval
   260 sensor :kilo:val node1 @powerNetStored
-    * setaddr :kilo*retaddr *label58 (h:*label58)
-    * call *label0 *invalid :kilo*retval (m:*label58) (h:*label58)
-    * label *label58
+  261 label *label145
+  262 op idiv *tmp85 :kilo:val 100
+  263 op div :kilo*retval *tmp85 10
+  264 jump *label146 always
+  265 label *label146
   266 set :charge :kilo*retval
   267 jump *label59 lessThanEq .START_POWER_REQ 0
   268 set :kilo:val .START_POWER_REQ
-    * setaddr :kilo*retaddr *label61 (h:*label61)
-    * call *label0 *invalid :kilo*retval (m:*label61) (h:*label61)
-    * label *label61
+  269 label *label147
+  270 op idiv *tmp85 :kilo:val 100
+  271 op div :kilo*retval *tmp85 10
+  272 jump *label148 always
+  273 label *label148
   274 print "Req "
   275 print :kilo*retval
   276 print "kJ / "
 
   326 jump *label7 always
   327 label *label9
   328 end
-    * label *label0
-    * op idiv *tmp85 :kilo:val 100
-    * op div :kilo*retval *tmp85 10
-    * jump *label75 always
-    * label *label75
-    * return :kilo*retaddr
-    * end
   329 label *label1
   330 select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
   331 control config :update_fuel:uld_in *tmp89

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   252 label *label52
   253 set :kilo:val .AVG_SURPLUS
   254 label *label143
-    * op idiv *tmp85 :kilo:val 100
+  255 op idiv *tmp85 .AVG_SURPLUS 100
   256 op div :kilo*retval *tmp85 10
   257 jump *label144 always
   258 label *label144
 
   267 jump *label59 lessThanEq .START_POWER_REQ 0
   268 set :kilo:val .START_POWER_REQ
   269 label *label147
-    * op idiv *tmp85 :kilo:val 100
+  270 op idiv *tmp85 .START_POWER_REQ 100
   271 op div :kilo*retval *tmp85 10
   272 jump *label148 always
   273 label *label148

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-2 instructions):
 
   250 control enabled generator2 true
   251 label *label54
   252 label *label52
-    * set :kilo:val .AVG_SURPLUS
   253 label *label143
   254 op idiv *tmp85 .AVG_SURPLUS 100
   255 op div :kilo*retval *tmp85 10
 
   264 label *label146
   265 set :charge :kilo*retval
   266 jump *label59 lessThanEq .START_POWER_REQ 0
-    * set :kilo:val .START_POWER_REQ
   267 label *label147
   268 op idiv *tmp85 .START_POWER_REQ 100
   269 op div :kilo*retval *tmp85 10

Modifications by Inline function 'update_fuel' defined at line 121:1:
 
   103 set :update_fuel:fuel :start_reactor*retval
   104 set :update_fuel:uld_in unloader1
   105 set :update_fuel:uld_out unloader2
-    * setaddr :update_fuel*retaddr *label22 (h:*label22)
-    * call *label1 *invalid :update_fuel*retval (m:*label22) (h:*label22)
-    * label *label22
+  106 label *label149
+  107 select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
+  108 control config :update_fuel:uld_in *tmp89
+  109 select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
+  110 control config :update_fuel:uld_out *tmp93
+  111 label *label150
   112 set :start_reactor:reactor reactor2
   113 set :start_reactor:reactor_num 2
   114 set :start_reactor:emerg_shutdown :emerg_shutdown
 
   122 set :update_fuel:fuel :start_reactor*retval
   123 set :update_fuel:uld_in unloader3
   124 set :update_fuel:uld_out unloader4
-    * setaddr :update_fuel*retaddr *label24 (h:*label24)
-    * call *label1 *invalid :update_fuel*retval (m:*label24) (h:*label24)
-    * label *label24
+  125 label *label151
+  126 select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
+  127 control config :update_fuel:uld_in *tmp89
+  128 select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
+  129 control config :update_fuel:uld_out *tmp93
+  130 label *label152
   131 set :check_radar:unit cyclone1
   132 setaddr :check_radar*retaddr *label25 (h:*label25)
   133 call *label4 *invalid :check_radar*retval (m:*label25) (h:*label25)
 
   172 set :update_fuel:fuel *tmp26
   173 set :update_fuel:uld_in unloader5
   174 set :update_fuel:uld_out unloader6
-    * setaddr :update_fuel*retaddr *label34 (h:*label34)
-    * call *label1 *invalid :update_fuel*retval (m:*label34) (h:*label34)
-    * label *label34
+  175 label *label153
+  176 select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
+  177 control config :update_fuel:uld_in *tmp89
+  178 select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
+  179 control config :update_fuel:uld_out *tmp93
+  180 label *label154
   181 label *label140
   182 label *label141
   183 label *label142
 
   333 jump *label7 always
   334 label *label9
   335 end
-    * label *label1
-    * select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_in *tmp89
-    * select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_out *tmp93
-    * label *label76
-    * return :update_fuel*retaddr
-    * end
   336 label *label2
   337 op sub *tmp94 @tick :calc_charge_req:time
   338 op idiv :calc_charge_req:secs *tmp94 60

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   104 set :update_fuel:uld_in unloader1
   105 set :update_fuel:uld_out unloader2
   106 label *label149
-    * select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_in *tmp89
-    * select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_out *tmp93
+  107 select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
+  108 control config unloader1 *tmp89
+  109 select *tmp93 equal :start_reactor*retval false @blast-compound @scrap
+  110 control config unloader2 *tmp93
   111 label *label150
   112 set :start_reactor:reactor reactor2
   113 set :start_reactor:reactor_num 2
 
   123 set :update_fuel:uld_in unloader3
   124 set :update_fuel:uld_out unloader4
   125 label *label151
-    * select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_in *tmp89
-    * select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_out *tmp93
+  126 select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
+  127 control config unloader3 *tmp89
+  128 select *tmp93 equal :start_reactor*retval false @blast-compound @scrap
+  129 control config unloader4 *tmp93
   130 label *label152
   131 set :check_radar:unit cyclone1
   132 setaddr :check_radar*retaddr *label25 (h:*label25)
 
   173 set :update_fuel:uld_in unloader5
   174 set :update_fuel:uld_out unloader6
   175 label *label153
-    * select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_in *tmp89
-    * select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_out *tmp93
+  176 select *tmp89 notEqual *tmp26 false @blast-compound @scrap
+  177 control config unloader5 *tmp89
+  178 select *tmp93 equal *tmp26 false @blast-compound @scrap
+  179 control config unloader6 *tmp93
   180 label *label154
   181 label *label140
   182 label *label141

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-9 instructions):
 
   100 label *label21
   101 set :fuel_1 :start_reactor*retval
   102 set :t_startup1 .RET_T_STARTUP
-    * set :update_fuel:fuel :start_reactor*retval
-    * set :update_fuel:uld_in unloader1
-    * set :update_fuel:uld_out unloader2
   103 label *label149
   104 select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
   105 control config unloader1 *tmp89
 
   116 label *label23
   117 set :fuel_2 :start_reactor*retval
   118 set :t_startup2 .RET_T_STARTUP
-    * set :update_fuel:fuel :start_reactor*retval
-    * set :update_fuel:uld_in unloader3
-    * set :update_fuel:uld_out unloader4
   119 label *label151
   120 select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
   121 control config unloader3 *tmp89
 
   163 op or *tmp219 :fuel_3 :fuel_4
   164 op or *tmp220 *tmp219 :start_reactor*retval
   165 op notEqual *tmp26 *tmp220 false
-    * set :update_fuel:fuel *tmp26
-    * set :update_fuel:uld_in unloader5
-    * set :update_fuel:uld_out unloader6
   166 label *label153
   167 select *tmp89 notEqual *tmp26 false @blast-compound @scrap
   168 control config unloader5 *tmp89

Modifications by Inline function 'calc_charge_req' defined at line 126:1 (+46 instructions):
 
    62 op or :emerg_shutdown :check_radar*retval *tmp8
    63 set :calc_charge_req:reactor reactor1
    64 set :calc_charge_req:time :t_startup1
-    * setaddr :calc_charge_req*retaddr *label16 (h:*label16)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label16) (h:*label16)
-    * label *label16
+   65 label *label155
+   66 op sub *tmp94 @tick :calc_charge_req:time
+   67 op idiv :calc_charge_req:secs *tmp94 60
+   68 jump *label157 greaterThan :calc_charge_req:secs 30
+   69 label *label156
+   70 sensor *tmp97 :calc_charge_req:reactor @enabled
+   71 jump *label158 notEqual *tmp97 false
+   72 label *label157
+   73 set :calc_charge_req*retval 0
+   74 jump *label160 always
+   75 label *label158
+   76 label *label159
+   77 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+   78 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+   79 op idiv :calc_charge_req:charge_req *tmp101 0.04
+   80 set :calc_charge_req*retval :calc_charge_req:charge_req
+   81 jump *label160 always
+   82 label *label160
    83 set .START_POWER_REQ :calc_charge_req*retval
    84 set :calc_charge_req:reactor reactor2
    85 set :calc_charge_req:time :t_startup2
-    * setaddr :calc_charge_req*retaddr *label17 (h:*label17)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label17) (h:*label17)
-    * label *label17
+   86 label *label161
+   87 op sub *tmp94 @tick :calc_charge_req:time
+   88 op idiv :calc_charge_req:secs *tmp94 60
+   89 jump *label163 greaterThan :calc_charge_req:secs 30
+   90 label *label162
+   91 sensor *tmp97 :calc_charge_req:reactor @enabled
+   92 jump *label164 notEqual *tmp97 false
+   93 label *label163
+   94 set :calc_charge_req*retval 0
+   95 jump *label166 always
+   96 label *label164
+   97 label *label165
+   98 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+   99 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  100 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  101 set :calc_charge_req*retval :calc_charge_req:charge_req
+  102 jump *label166 always
+  103 label *label166
   104 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   105 set :calc_charge_req:reactor reactor3
   106 set :calc_charge_req:time :t_startup3
-    * setaddr :calc_charge_req*retaddr *label18 (h:*label18)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label18) (h:*label18)
-    * label *label18
+  107 label *label167
+  108 op sub *tmp94 @tick :calc_charge_req:time
+  109 op idiv :calc_charge_req:secs *tmp94 60
+  110 jump *label169 greaterThan :calc_charge_req:secs 30
+  111 label *label168
+  112 sensor *tmp97 :calc_charge_req:reactor @enabled
+  113 jump *label170 notEqual *tmp97 false
+  114 label *label169
+  115 set :calc_charge_req*retval 0
+  116 jump *label172 always
+  117 label *label170
+  118 label *label171
+  119 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  120 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  121 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  122 set :calc_charge_req*retval :calc_charge_req:charge_req
+  123 jump *label172 always
+  124 label *label172
   125 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   126 set :calc_charge_req:reactor reactor4
   127 set :calc_charge_req:time :t_startup4
-    * setaddr :calc_charge_req*retaddr *label19 (h:*label19)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label19) (h:*label19)
-    * label *label19
+  128 label *label173
+  129 op sub *tmp94 @tick :calc_charge_req:time
+  130 op idiv :calc_charge_req:secs *tmp94 60
+  131 jump *label175 greaterThan :calc_charge_req:secs 30
+  132 label *label174
+  133 sensor *tmp97 :calc_charge_req:reactor @enabled
+  134 jump *label176 notEqual *tmp97 false
+  135 label *label175
+  136 set :calc_charge_req*retval 0
+  137 jump *label178 always
+  138 label *label176
+  139 label *label177
+  140 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  141 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  142 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  143 set :calc_charge_req*retval :calc_charge_req:charge_req
+  144 jump *label178 always
+  145 label *label178
   146 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   147 set :calc_charge_req:reactor reactor5
   148 set :calc_charge_req:time :t_startup5
-    * setaddr :calc_charge_req*retaddr *label20 (h:*label20)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label20) (h:*label20)
-    * label *label20
+  149 label *label179
+  150 op sub *tmp94 @tick :calc_charge_req:time
+  151 op idiv :calc_charge_req:secs *tmp94 60
+  152 jump *label181 greaterThan :calc_charge_req:secs 30
+  153 label *label180
+  154 sensor *tmp97 :calc_charge_req:reactor @enabled
+  155 jump *label182 notEqual *tmp97 false
+  156 label *label181
+  157 set :calc_charge_req*retval 0
+  158 jump *label184 always
+  159 label *label182
+  160 label *label183
+  161 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  162 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  163 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  164 set :calc_charge_req*retval :calc_charge_req:charge_req
+  165 jump *label184 always
+  166 label *label184
   167 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   168 set :start_reactor:reactor reactor1
   169 set :start_reactor:reactor_num 1
 
   399 jump *label7 always
   400 label *label9
   401 end
-    * label *label2
-    * op sub *tmp94 @tick :calc_charge_req:time
-    * op idiv :calc_charge_req:secs *tmp94 60
-    * jump *label84 greaterThan :calc_charge_req:secs 30
-    * label *label85
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
-    * jump *label82 notEqual *tmp97 false
-    * label *label84
-    * set :calc_charge_req*retval 0
-    * jump *label81 always
-    * label *label82
-    * label *label83
-    * op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
-    * op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
-    * op idiv :calc_charge_req:charge_req *tmp101 0.04
-    * set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label81 always
-    * label *label81
-    * return :calc_charge_req*retaddr
-    * end
   402 label *label3
   403 set .RET_T_STARTUP :start_reactor:t_startup
   404 op sub *tmp104 @tick :start_reactor:t_startup
 
   460 jump *label101 greaterThanEq :start_reactor:secs 30
   461 set :calc_charge_req:reactor :start_reactor:reactor
   462 set :calc_charge_req:time :start_reactor:t_startup
-    * setaddr :calc_charge_req*retaddr *label103 (h:*label103)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label103) (h:*label103)
-    * label *label103
+  463 label *label185
+  464 op sub *tmp94 @tick :calc_charge_req:time
+  465 op idiv :calc_charge_req:secs *tmp94 60
+  466 jump *label187 greaterThan :calc_charge_req:secs 30
+  467 label *label186
+  468 sensor *tmp97 :calc_charge_req:reactor @enabled
+  469 jump *label188 notEqual *tmp97 false
+  470 label *label187
+  471 set :calc_charge_req*retval 0
+  472 jump *label190 always
+  473 label *label188
+  474 label *label189
+  475 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  476 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  477 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  478 set :calc_charge_req*retval :calc_charge_req:charge_req
+  479 jump *label190 always
+  480 label *label190
   481 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   482 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   483 label *label107

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    63 set :calc_charge_req:reactor reactor1
    64 set :calc_charge_req:time :t_startup1
    65 label *label155
-    * op sub *tmp94 @tick :calc_charge_req:time
+   66 op sub *tmp94 @tick :t_startup1
    67 op idiv :calc_charge_req:secs *tmp94 60
    68 jump *label157 greaterThan :calc_charge_req:secs 30
    69 label *label156
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+   70 sensor *tmp97 reactor1 @enabled
    71 jump *label158 notEqual *tmp97 false
    72 label *label157
    73 set :calc_charge_req*retval 0
 
    84 set :calc_charge_req:reactor reactor2
    85 set :calc_charge_req:time :t_startup2
    86 label *label161
-    * op sub *tmp94 @tick :calc_charge_req:time
+   87 op sub *tmp94 @tick :t_startup2
    88 op idiv :calc_charge_req:secs *tmp94 60
    89 jump *label163 greaterThan :calc_charge_req:secs 30
    90 label *label162
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+   91 sensor *tmp97 reactor2 @enabled
    92 jump *label164 notEqual *tmp97 false
    93 label *label163
    94 set :calc_charge_req*retval 0
 
   105 set :calc_charge_req:reactor reactor3
   106 set :calc_charge_req:time :t_startup3
   107 label *label167
-    * op sub *tmp94 @tick :calc_charge_req:time
+  108 op sub *tmp94 @tick :t_startup3
   109 op idiv :calc_charge_req:secs *tmp94 60
   110 jump *label169 greaterThan :calc_charge_req:secs 30
   111 label *label168
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+  112 sensor *tmp97 reactor3 @enabled
   113 jump *label170 notEqual *tmp97 false
   114 label *label169
   115 set :calc_charge_req*retval 0
 
   126 set :calc_charge_req:reactor reactor4
   127 set :calc_charge_req:time :t_startup4
   128 label *label173
-    * op sub *tmp94 @tick :calc_charge_req:time
+  129 op sub *tmp94 @tick :t_startup4
   130 op idiv :calc_charge_req:secs *tmp94 60
   131 jump *label175 greaterThan :calc_charge_req:secs 30
   132 label *label174
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+  133 sensor *tmp97 reactor4 @enabled
   134 jump *label176 notEqual *tmp97 false
   135 label *label175
   136 set :calc_charge_req*retval 0
 
   147 set :calc_charge_req:reactor reactor5
   148 set :calc_charge_req:time :t_startup5
   149 label *label179
-    * op sub *tmp94 @tick :calc_charge_req:time
+  150 op sub *tmp94 @tick :t_startup5
   151 op idiv :calc_charge_req:secs *tmp94 60
   152 jump *label181 greaterThan :calc_charge_req:secs 30
   153 label *label180
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+  154 sensor *tmp97 reactor5 @enabled
   155 jump *label182 notEqual *tmp97 false
   156 label *label181
   157 set :calc_charge_req*retval 0
 
   461 set :calc_charge_req:reactor :start_reactor:reactor
   462 set :calc_charge_req:time :start_reactor:t_startup
   463 label *label185
-    * op sub *tmp94 @tick :calc_charge_req:time
+  464 op sub *tmp94 @tick :start_reactor:t_startup
   465 op idiv :calc_charge_req:secs *tmp94 60
   466 jump *label187 greaterThan :calc_charge_req:secs 30
   467 label *label186
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+  468 sensor *tmp97 :start_reactor:reactor @enabled
   469 jump *label188 notEqual *tmp97 false
   470 label *label187
   471 set :calc_charge_req*retval 0
 
   592 label *label90
   593 label *label88
   594 sensor *tmp188 :start_reactor:reactor @enabled
-    * select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick .RET_T_STARTUP
+  595 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
   596 set :start_reactor*retval :start_reactor:supply_fuel
   597 jump *label86 always
   598 label *label86

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-13 instructions):
 
    60 jump *label11 always
    61 label *label11
    62 op or :emerg_shutdown :check_radar*retval *tmp8
-    * set :calc_charge_req:reactor reactor1
-    * set :calc_charge_req:time :t_startup1
    63 label *label155
    64 op sub *tmp94 @tick :t_startup1
    65 op idiv :calc_charge_req:secs *tmp94 60
 
    79 jump *label160 always
    80 label *label160
    81 set .START_POWER_REQ :calc_charge_req*retval
-    * set :calc_charge_req:reactor reactor2
-    * set :calc_charge_req:time :t_startup2
    82 label *label161
    83 op sub *tmp94 @tick :t_startup2
    84 op idiv :calc_charge_req:secs *tmp94 60
 
    98 jump *label166 always
    99 label *label166
   100 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * set :calc_charge_req:reactor reactor3
-    * set :calc_charge_req:time :t_startup3
   101 label *label167
   102 op sub *tmp94 @tick :t_startup3
   103 op idiv :calc_charge_req:secs *tmp94 60
 
   117 jump *label172 always
   118 label *label172
   119 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * set :calc_charge_req:reactor reactor4
-    * set :calc_charge_req:time :t_startup4
   120 label *label173
   121 op sub *tmp94 @tick :t_startup4
   122 op idiv :calc_charge_req:secs *tmp94 60
 
   136 jump *label178 always
   137 label *label178
   138 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * set :calc_charge_req:reactor reactor5
-    * set :calc_charge_req:time :t_startup5
   139 label *label179
   140 op sub *tmp94 @tick :t_startup5
   141 op idiv :calc_charge_req:secs *tmp94 60
 
   390 label *label9
   391 end
   392 label *label3
-    * set .RET_T_STARTUP :start_reactor:t_startup
   393 op sub *tmp104 @tick :start_reactor:t_startup
   394 op idiv :start_reactor:secs *tmp104 60
   395 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
 
   447 jump *label100 always
   448 label *label99
   449 jump *label101 greaterThanEq :start_reactor:secs 30
-    * set :calc_charge_req:reactor :start_reactor:reactor
-    * set :calc_charge_req:time :start_reactor:t_startup
   450 label *label185
   451 op sub *tmp94 @tick :start_reactor:t_startup
   452 op idiv :calc_charge_req:secs *tmp94 60

Modifications by Inline function 'check_radar' defined at line 259:1 (+17 instructions):
 
    42 set .CONTAINER vault1
    43 set .NODE node1
    44 set :check_radar:unit cyclone1
-    * setaddr :check_radar*retaddr *label10 (h:*label10)
-    * call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
-    * label *label10
+   45 label *label191
+   46 radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
+   47 jump *label192 equal :check_radar:enemy_found null
+   48 control enabled projector1 true
+   49 control enabled projector2 true
+   50 control config .ULD_IN_1 .FUEL_OFF
+   51 control config .ULD_OUT_1 .FUEL
+   52 control config .ULD_IN_2 .FUEL_OFF
+   53 control config .ULD_OUT_2 .FUEL
+   54 control config .ULD_IN_MANY .FUEL_OFF
+   55 control config .ULD_OUT_MANY .FUEL
+   56 control config .ULD_MIXER .FUEL_OFF
+   57 control enabled reactor1 false
+   58 control enabled reactor2 false
+   59 control enabled reactor3 false
+   60 control enabled reactor4 false
+   61 control enabled reactor5 false
+   62 set :check_radar*retval true
+   63 jump *label194 always
+   64 jump *label193 always
+   65 label *label192
+   66 control enabled projector1 false
+   67 control enabled projector2 false
+   68 set :check_radar*retval false
+   69 jump *label194 always
+   70 label *label193
+   71 label *label194
    72 jump *label12 equal switch1 null
    73 label *label15
    74 sensor *tmp10 switch1 @enabled
 
   212 control config unloader4 *tmp93
   213 label *label152
   214 set :check_radar:unit cyclone1
-    * setaddr :check_radar*retaddr *label25 (h:*label25)
-    * call *label4 *invalid :check_radar*retval (m:*label25) (h:*label25)
-    * label *label25
+  215 label *label195
+  216 radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
+  217 jump *label196 equal :check_radar:enemy_found null
+  218 control enabled projector1 true
+  219 control enabled projector2 true
+  220 control config .ULD_IN_1 .FUEL_OFF
+  221 control config .ULD_OUT_1 .FUEL
+  222 control config .ULD_IN_2 .FUEL_OFF
+  223 control config .ULD_OUT_2 .FUEL
+  224 control config .ULD_IN_MANY .FUEL_OFF
+  225 control config .ULD_OUT_MANY .FUEL
+  226 control config .ULD_MIXER .FUEL_OFF
+  227 control enabled reactor1 false
+  228 control enabled reactor2 false
+  229 control enabled reactor3 false
+  230 control enabled reactor4 false
+  231 control enabled reactor5 false
+  232 set :check_radar*retval true
+  233 jump *label198 always
+  234 jump *label197 always
+  235 label *label196
+  236 control enabled projector1 false
+  237 control enabled projector2 false
+  238 set :check_radar*retval false
+  239 jump *label198 always
+  240 label *label197
+  241 label *label198
   242 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
   243 set :start_reactor:reactor reactor3
   244 set :start_reactor:reactor_num 3
 
   633 label *label86
   634 return :start_reactor*retaddr
   635 end
-    * label *label4
-    * radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
-    * jump *label129 equal :check_radar:enemy_found null
-    * control enabled projector1 true
-    * control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
-    * control enabled reactor1 false
-    * control enabled reactor2 false
-    * control enabled reactor3 false
-    * control enabled reactor4 false
-    * control enabled reactor5 false
-    * set :check_radar*retval true
-    * jump *label128 always
-    * jump *label130 always
-    * label *label129
-    * control enabled projector1 false
-    * control enabled projector2 false
-    * set :check_radar*retval false
-    * jump *label128 always
-    * label *label130
-    * label *label128
-    * return :check_radar*retaddr
-    * end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    43 set .NODE node1
    44 set :check_radar:unit cyclone1
    45 label *label191
-    * radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
+   46 radar enemy any any health cyclone1 1 :check_radar:enemy_found
    47 jump *label192 equal :check_radar:enemy_found null
    48 control enabled projector1 true
    49 control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
+   50 control config unloader1 @scrap
+   51 control config unloader2 @blast-compound
+   52 control config unloader3 @scrap
+   53 control config unloader4 @blast-compound
+   54 control config unloader5 @scrap
+   55 control config unloader6 @blast-compound
+   56 control config unloader7 @scrap
    57 control enabled reactor1 false
    58 control enabled reactor2 false
    59 control enabled reactor3 false
 
   213 label *label152
   214 set :check_radar:unit cyclone1
   215 label *label195
-    * radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
+  216 radar enemy any any health cyclone1 1 :check_radar:enemy_found
   217 jump *label196 equal :check_radar:enemy_found null
   218 control enabled projector1 true
   219 control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
+  220 control config unloader1 @scrap
+  221 control config unloader2 @blast-compound
+  222 control config unloader3 @scrap
+  223 control config unloader4 @blast-compound
+  224 control config unloader5 @scrap
+  225 control config unloader6 @blast-compound
+  226 control config unloader7 @scrap
   227 control enabled reactor1 false
   228 control enabled reactor2 false
   229 control enabled reactor3 false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-11 instructions):
     0 printflush message1
-    * set .FUEL @blast-compound
-    * set .FUEL_OFF @scrap
     1 set .PWR_REQ 23000
     2 set .FLOW_REQ 2000
     3 set .PWR_ABANDON 2000
 
    30 set .REACTORS_DESIRED 5
    31 set .AVG_SURPLUS 500
    32 label *label7
-    * set .ULD_IN_1 unloader1
-    * set .ULD_OUT_1 unloader2
-    * set .ULD_IN_2 unloader3
-    * set .ULD_OUT_2 unloader4
-    * set .ULD_IN_MANY unloader5
-    * set .ULD_OUT_MANY unloader6
-    * set .ULD_MIXER unloader7
    33 set .CONTAINER vault1
    34 set .NODE node1
-    * set :check_radar:unit cyclone1
    35 label *label191
    36 radar enemy any any health cyclone1 1 :check_radar:enemy_found
    37 jump *label192 equal :check_radar:enemy_found null
 
   201 select *tmp93 equal :start_reactor*retval false @blast-compound @scrap
   202 control config unloader4 *tmp93
   203 label *label152
-    * set :check_radar:unit cyclone1
   204 label *label195
   205 radar enemy any any health cyclone1 1 :check_radar:enemy_found
   206 jump *label196 equal :check_radar:enemy_found null

Modifications by Inline function call at line 80:14 (+146 instructions):
 
   174 set :start_reactor:emerg_shutdown :emerg_shutdown
   175 set :start_reactor:fuel_on :fuel_1
   176 set :start_reactor:t_startup :t_startup1
-    * setaddr :start_reactor*retaddr *label21 (h:*label21)
-    * call *label3 *invalid :start_reactor*retval (m:*label21) (h:*label21)
-    * label *label21
+  177 label *label199
+  178 op sub *tmp104 @tick :start_reactor:t_startup
+  179 op idiv :start_reactor:secs *tmp104 60
+  180 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  181 set :start_reactor:supply_fuel true
+  182 sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
+  183 sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
+  184 sensor *tmp109 .NODE @powerNetStored
+  185 op floor :start_reactor:charge *tmp109
+  186 sensor *tmp111 .NODE @powerNetIn
+  187 sensor *tmp112 .NODE @powerNetOut
+  188 op sub *tmp113 *tmp111 *tmp112
+  189 op floor :start_reactor:surplus *tmp113
+  190 op mul *tmp115 .AVG_SURPLUS 0.8
+  191 op mul *tmp116 :start_reactor:surplus 0.2
+  192 op add .AVG_SURPLUS *tmp115 *tmp116
+  193 sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  194 print "#"
+  195 print :start_reactor:reactor_num
+  196 print " "
+  197 print "- "
+  198 jump *label200 equal :start_reactor:emerg_shutdown false
+  199 control enabled :start_reactor:reactor false
+  200 print "emergency mode"
+  201 print "\n"
+  202 set :start_reactor:supply_fuel false
+  203 jump *label243 always
+  204 label *label200
+  205 jump *label227 equal :start_reactor:enabled false
+  206 jump *label201 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  207 control enabled :start_reactor:reactor false
+  208 print "STOP unwanted"
+  209 print "\n"
+  210 jump *label226 always
+  211 label *label201
+  212 jump *label204 lessThanEq :start_reactor:reactor_num 1
+  213 label *label202
+  214 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
+  215 jump *label204 greaterThanEq :start_reactor:fuel_stored *tmp128
+  216 label *label203
+  217 control enabled :start_reactor:reactor false
+  218 print "STOP system fuel low"
+  219 print "\n"
+  220 jump *label225 always
+  221 label *label204
+  222 jump *label205 greaterThan :start_reactor:fuel 1
+  223 control enabled :start_reactor:reactor false
+  224 print "STOP fuel low"
+  225 print "\n"
+  226 jump *label224 always
+  227 label *label205
+  228 jump *label206 greaterThan :start_reactor:cryo .CRYO_ABORT
+  229 control enabled :start_reactor:reactor false
+  230 print "STOP out of cryo"
+  231 print "\n"
+  232 jump *label223 always
+  233 label *label206
+  234 jump *label217 greaterThanEq :start_reactor:secs 30
+  235 label *label207
+  236 op sub *tmp94 @tick :start_reactor:t_startup
+  237 op idiv :calc_charge_req:secs *tmp94 60
+  238 jump *label209 greaterThan :calc_charge_req:secs 30
+  239 label *label208
+  240 sensor *tmp97 :start_reactor:reactor @enabled
+  241 jump *label210 notEqual *tmp97 false
+  242 label *label209
+  243 set :calc_charge_req*retval 0
+  244 jump *label212 always
+  245 label *label210
+  246 label *label211
+  247 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  248 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  249 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  250 set :calc_charge_req*retval :calc_charge_req:charge_req
+  251 jump *label212 always
+  252 label *label212
+  253 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
+  254 jump *label215 greaterThanEq *tmp143 .PWR_ABORT
+  255 label *label213
+  256 jump *label215 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  257 label *label214
+  258 control enabled :start_reactor:reactor false
+  259 print "START FAIL battery"
+  260 print "\n"
+  261 set :start_reactor:supply_fuel false
+  262 jump *label216 always
+  263 label *label215
+  264 op sub :start_reactor:time_left 30 :start_reactor:secs
+  265 print "Starting "
+  266 print :start_reactor:time_left
+  267 print " "
+  268 print "secs, req "
+  269 print :calc_charge_req*retval
+  270 print "J"
+  271 print "\n"
+  272 label *label216
+  273 jump *label222 always
+  274 label *label217
+  275 jump *label220 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  276 label *label218
+  277 jump *label220 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  278 label *label219
+  279 control enabled :start_reactor:reactor false
+  280 print "ABANDON - battery crit"
+  281 print "\n"
+  282 set :start_reactor:supply_fuel false
+  283 jump *label221 always
+  284 label *label220
+  285 op idiv :start_reactor:mins :start_reactor:secs 6
+  286 op div :start_reactor:mins :start_reactor:mins 10
+  287 print "RUN "
+  288 print :start_reactor:mins
+  289 print " "
+  290 print "mins"
+  291 print "\n"
+  292 label *label221
+  293 label *label222
+  294 label *label223
+  295 label *label224
+  296 label *label225
+  297 label *label226
+  298 jump *label242 always
+  299 label *label227
+  300 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
+  301 op sub *tmp158 *tmp157 .PWR_ABORT
+  302 op div *tmp159 *tmp158 .PWR_REQ
+  303 op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
+  304 op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  305 op max :start_reactor:flow_units -0.1 *tmp161
+  306 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
+  307 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
+  308 jump *label228 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  309 print "IDLE"
+  310 print "\n"
+  311 set :start_reactor:supply_fuel false
+  312 jump *label241 always
+  313 label *label228
+  314 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
+  315 jump *label229 greaterThanEq *tmp167 1
+  316 op idiv *tmp171 :start_reactor:flow_units 0.001
+  317 op div :start_reactor:flow *tmp171 10
+  318 op idiv *tmp174 :start_reactor:charge_units 0.001
+  319 op div :start_reactor:charge *tmp174 10
+  320 print "WAIT power. (%"
+  321 print :start_reactor:charge
+  322 print "J + %"
+  323 print :start_reactor:flow
+  324 print "W)"
+  325 print "\n"
+  326 set :start_reactor:supply_fuel false
+  327 jump *label240 always
+  328 label *label229
+  329 jump *label234 equal :start_reactor:fuel_on false
+  330 label *label230
+  331 jump *label234 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  332 label *label231
+  333 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
+  334 jump *label232 lessThanEq *tmp178 .FUEL_REQ
+  335 print "WAIT fuel"
+  336 print "\n"
+  337 jump *label233 always
+  338 label *label232
+  339 print "WAIT system fuel"
+  340 print "\n"
+  341 label *label233
+  342 jump *label239 always
+  343 label *label234
+  344 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
+  345 jump *label235 greaterThanEq :start_reactor:fuel_stored *tmp181
+  346 print "WAIT buffer fuel"
+  347 print "\n"
+  348 jump *label238 always
+  349 label *label235
+  350 jump *label236 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  351 print "WAIT cryo"
+  352 print "\n"
+  353 jump *label237 always
+  354 label *label236
+  355 print "STARTUP"
+  356 print "\n"
+  357 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  358 control enabled :start_reactor:reactor true
+  359 label *label237
+  360 label *label238
+  361 label *label239
+  362 label *label240
+  363 label *label241
+  364 label *label242
+  365 label *label243
+  366 sensor *tmp188 :start_reactor:reactor @enabled
+  367 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  368 set :start_reactor*retval :start_reactor:supply_fuel
+  369 jump *label244 always
+  370 label *label244
   371 set :fuel_1 :start_reactor*retval
   372 set :t_startup1 .RET_T_STARTUP
   373 label *label149

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-1 instructions):
 
    26 set :t_startup3 *tmp5
    27 set :t_startup4 *tmp5
    28 set :t_startup5 *tmp5
-    * set .RET_T_STARTUP *tmp5
    29 set .REACTORS_DESIRED 5
    30 set .AVG_SURPLUS 500
    31 label *label7
 
   174 set :start_reactor:fuel_on :fuel_1
   175 set :start_reactor:t_startup :t_startup1
   176 label *label199
-    * op sub *tmp104 @tick :start_reactor:t_startup
+  177 op sub *tmp104 @tick :t_startup1
   178 op idiv :start_reactor:secs *tmp104 60
-    * sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  179 sensor :start_reactor:fuel reactor1 @blast-compound
   180 set :start_reactor:supply_fuel true
-    * sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
-    * sensor *tmp109 .NODE @powerNetStored
+  181 sensor :start_reactor:fuel_stored vault1 @blast-compound
+  182 sensor :start_reactor:cryo reactor1 @cryofluid
+  183 sensor *tmp109 node1 @powerNetStored
   184 op floor :start_reactor:charge *tmp109
-    * sensor *tmp111 .NODE @powerNetIn
-    * sensor *tmp112 .NODE @powerNetOut
+  185 sensor *tmp111 node1 @powerNetIn
+  186 sensor *tmp112 node1 @powerNetOut
   187 op sub *tmp113 *tmp111 *tmp112
   188 op floor :start_reactor:surplus *tmp113
   189 op mul *tmp115 .AVG_SURPLUS 0.8
   190 op mul *tmp116 :start_reactor:surplus 0.2
   191 op add .AVG_SURPLUS *tmp115 *tmp116
-    * sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  192 sensor :start_reactor:enabled reactor1 @enabled
   193 print "#"
-    * print :start_reactor:reactor_num
+  194 print 1
   195 print " "
   196 print "- "
-    * jump *label200 equal :start_reactor:emerg_shutdown false
-    * control enabled :start_reactor:reactor false
+  197 jump *label200 equal :emerg_shutdown false
+  198 control enabled reactor1 false
   199 print "emergency mode"
   200 print "\n"
   201 set :start_reactor:supply_fuel false
   202 jump *label243 always
   203 label *label200
   204 jump *label227 equal :start_reactor:enabled false
-    * jump *label201 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
-    * control enabled :start_reactor:reactor false
+  205 jump *label201 greaterThanEq .REACTORS_DESIRED 1
+  206 control enabled reactor1 false
   207 print "STOP unwanted"
   208 print "\n"
   209 jump *label226 always
   210 label *label201
-    * jump *label204 lessThanEq :start_reactor:reactor_num 1
+  211 jump *label204 lessThanEq 1 1
   212 label *label202
-    * op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
-    * jump *label204 greaterThanEq :start_reactor:fuel_stored *tmp128
+  213 op mul *tmp128 15 1
+  214 jump *label204 greaterThanEq :start_reactor:fuel_stored 15
   215 label *label203
-    * control enabled :start_reactor:reactor false
+  216 control enabled reactor1 false
   217 print "STOP system fuel low"
   218 print "\n"
   219 jump *label225 always
   220 label *label204
   221 jump *label205 greaterThan :start_reactor:fuel 1
-    * control enabled :start_reactor:reactor false
+  222 control enabled reactor1 false
   223 print "STOP fuel low"
   224 print "\n"
   225 jump *label224 always
   226 label *label205
-    * jump *label206 greaterThan :start_reactor:cryo .CRYO_ABORT
-    * control enabled :start_reactor:reactor false
+  227 jump *label206 greaterThan :start_reactor:cryo 1
+  228 control enabled reactor1 false
   229 print "STOP out of cryo"
   230 print "\n"
   231 jump *label223 always
   232 label *label206
   233 jump *label217 greaterThanEq :start_reactor:secs 30
   234 label *label207
-    * op sub *tmp94 @tick :start_reactor:t_startup
+  235 op sub *tmp94 @tick :t_startup1
   236 op idiv :calc_charge_req:secs *tmp94 60
   237 jump *label209 greaterThan :calc_charge_req:secs 30
   238 label *label208
-    * sensor *tmp97 :start_reactor:reactor @enabled
+  239 sensor *tmp97 reactor1 @enabled
   240 jump *label210 notEqual *tmp97 false
   241 label *label209
   242 set :calc_charge_req*retval 0
 
   250 jump *label212 always
   251 label *label212
   252 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
-    * jump *label215 greaterThanEq *tmp143 .PWR_ABORT
+  253 jump *label215 greaterThanEq *tmp143 5000
   254 label *label213
-    * jump *label215 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  255 jump *label215 greaterThanEq :start_reactor:surplus -500
   256 label *label214
-    * control enabled :start_reactor:reactor false
+  257 control enabled reactor1 false
   258 print "START FAIL battery"
   259 print "\n"
   260 set :start_reactor:supply_fuel false
 
   271 label *label216
   272 jump *label222 always
   273 label *label217
-    * jump *label220 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  274 jump *label220 greaterThanEq :start_reactor:charge 2000
   275 label *label218
-    * jump *label220 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  276 jump *label220 greaterThanEq :start_reactor:surplus -500
   277 label *label219
-    * control enabled :start_reactor:reactor false
+  278 control enabled reactor1 false
   279 print "ABANDON - battery crit"
   280 print "\n"
   281 set :start_reactor:supply_fuel false
 
   297 jump *label242 always
   298 label *label227
   299 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
-    * op sub *tmp158 *tmp157 .PWR_ABORT
-    * op div *tmp159 *tmp158 .PWR_REQ
-    * op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
-    * op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  300 op sub *tmp158 *tmp157 5000
+  301 op div *tmp159 *tmp158 23000
+  302 op mul :start_reactor:charge_units *tmp159 0.6
+  303 op div *tmp161 :start_reactor:surplus 2000
   304 op max :start_reactor:flow_units -0.1 *tmp161
-    * op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
-    * op add :start_reactor:cryo_req .CRYO_REQ *tmp163
-    * jump *label228 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  305 op mul *tmp163 2 1
+  306 op add :start_reactor:cryo_req 3 2
+  307 jump *label228 greaterThanEq .REACTORS_DESIRED 1
   308 print "IDLE"
   309 print "\n"
   310 set :start_reactor:supply_fuel false
 
   325 set :start_reactor:supply_fuel false
   326 jump *label240 always
   327 label *label229
-    * jump *label234 equal :start_reactor:fuel_on false
+  328 jump *label234 equal :fuel_1 false
   329 label *label230
-    * jump *label234 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  330 jump *label234 greaterThanEq :start_reactor:fuel 10
   331 label *label231
   332 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
-    * jump *label232 lessThanEq *tmp178 .FUEL_REQ
+  333 jump *label232 lessThanEq *tmp178 10
   334 print "WAIT fuel"
   335 print "\n"
   336 jump *label233 always
 
   340 label *label233
   341 jump *label239 always
   342 label *label234
-    * op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
-    * jump *label235 greaterThanEq :start_reactor:fuel_stored *tmp181
+  343 op mul *tmp181 45 1
+  344 jump *label235 greaterThanEq :start_reactor:fuel_stored 45
   345 print "WAIT buffer fuel"
   346 print "\n"
   347 jump *label238 always
   348 label *label235
-    * jump *label236 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  349 jump *label236 greaterThanEq :start_reactor:cryo 5
   350 print "WAIT cryo"
   351 print "\n"
   352 jump *label237 always
   353 label *label236
   354 print "STARTUP"
   355 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor:reactor true
+  356 op add .START_POWER_REQ .START_POWER_REQ 23000
+  357 control enabled reactor1 true
   358 label *label237
   359 label *label238
   360 label *label239
 
   362 label *label241
   363 label *label242
   364 label *label243
-    * sensor *tmp188 :start_reactor:reactor @enabled
-    * select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  365 sensor *tmp188 reactor1 @enabled
+  366 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup1
   367 set :start_reactor*retval :start_reactor:supply_fuel
   368 jump *label244 always
   369 label *label244
-    * set :fuel_1 :start_reactor*retval
+  370 set :fuel_1 :start_reactor:supply_fuel
   371 set :t_startup1 .RET_T_STARTUP
   372 label *label149
-    * select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
+  373 select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
   374 control config unloader1 *tmp89
-    * select *tmp93 equal :start_reactor*retval false @blast-compound @scrap
+  375 select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
   376 control config unloader2 *tmp93
   377 label *label150
   378 set :start_reactor:reactor reactor2

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
   168 jump *label184 always
   169 label *label184
   170 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * set :start_reactor:reactor reactor1
-    * set :start_reactor:reactor_num 1
-    * set :start_reactor:emerg_shutdown :emerg_shutdown
-    * set :start_reactor:fuel_on :fuel_1
-    * set :start_reactor:t_startup :t_startup1
   171 label *label199
   172 op sub *tmp104 @tick :t_startup1
   173 op idiv :start_reactor:secs *tmp104 60
 
   294 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
   295 op sub *tmp158 *tmp157 5000
   296 op div *tmp159 *tmp158 23000
-    * op mul :start_reactor:charge_units *tmp159 0.6
+  297 op div :start_reactor:charge_units *tmp158 38333.333333333336
   298 op div *tmp161 :start_reactor:surplus 2000
   299 op max :start_reactor:flow_units -0.1 *tmp161
   300 op mul *tmp163 2 1
 
   359 label *label243
   360 sensor *tmp188 reactor1 @enabled
   361 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup1
-    * set :start_reactor*retval :start_reactor:supply_fuel
   362 jump *label244 always
   363 label *label244
   364 set :fuel_1 :start_reactor:supply_fuel

Modifications by Inline function call at line 84:14 (+146 instructions):
 
   374 set :start_reactor:emerg_shutdown :emerg_shutdown
   375 set :start_reactor:fuel_on :fuel_2
   376 set :start_reactor:t_startup :t_startup2
-    * setaddr :start_reactor*retaddr *label23 (h:*label23)
-    * call *label3 *invalid :start_reactor*retval (m:*label23) (h:*label23)
-    * label *label23
+  377 label *label245
+  378 op sub *tmp104 @tick :start_reactor:t_startup
+  379 op idiv :start_reactor:secs *tmp104 60
+  380 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  381 set :start_reactor:supply_fuel true
+  382 sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
+  383 sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
+  384 sensor *tmp109 .NODE @powerNetStored
+  385 op floor :start_reactor:charge *tmp109
+  386 sensor *tmp111 .NODE @powerNetIn
+  387 sensor *tmp112 .NODE @powerNetOut
+  388 op sub *tmp113 *tmp111 *tmp112
+  389 op floor :start_reactor:surplus *tmp113
+  390 op mul *tmp115 .AVG_SURPLUS 0.8
+  391 op mul *tmp116 :start_reactor:surplus 0.2
+  392 op add .AVG_SURPLUS *tmp115 *tmp116
+  393 sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  394 print "#"
+  395 print :start_reactor:reactor_num
+  396 print " "
+  397 print "- "
+  398 jump *label246 equal :start_reactor:emerg_shutdown false
+  399 control enabled :start_reactor:reactor false
+  400 print "emergency mode"
+  401 print "\n"
+  402 set :start_reactor:supply_fuel false
+  403 jump *label289 always
+  404 label *label246
+  405 jump *label273 equal :start_reactor:enabled false
+  406 jump *label247 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  407 control enabled :start_reactor:reactor false
+  408 print "STOP unwanted"
+  409 print "\n"
+  410 jump *label272 always
+  411 label *label247
+  412 jump *label250 lessThanEq :start_reactor:reactor_num 1
+  413 label *label248
+  414 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
+  415 jump *label250 greaterThanEq :start_reactor:fuel_stored *tmp128
+  416 label *label249
+  417 control enabled :start_reactor:reactor false
+  418 print "STOP system fuel low"
+  419 print "\n"
+  420 jump *label271 always
+  421 label *label250
+  422 jump *label251 greaterThan :start_reactor:fuel 1
+  423 control enabled :start_reactor:reactor false
+  424 print "STOP fuel low"
+  425 print "\n"
+  426 jump *label270 always
+  427 label *label251
+  428 jump *label252 greaterThan :start_reactor:cryo .CRYO_ABORT
+  429 control enabled :start_reactor:reactor false
+  430 print "STOP out of cryo"
+  431 print "\n"
+  432 jump *label269 always
+  433 label *label252
+  434 jump *label263 greaterThanEq :start_reactor:secs 30
+  435 label *label253
+  436 op sub *tmp94 @tick :start_reactor:t_startup
+  437 op idiv :calc_charge_req:secs *tmp94 60
+  438 jump *label255 greaterThan :calc_charge_req:secs 30
+  439 label *label254
+  440 sensor *tmp97 :start_reactor:reactor @enabled
+  441 jump *label256 notEqual *tmp97 false
+  442 label *label255
+  443 set :calc_charge_req*retval 0
+  444 jump *label258 always
+  445 label *label256
+  446 label *label257
+  447 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  448 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  449 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  450 set :calc_charge_req*retval :calc_charge_req:charge_req
+  451 jump *label258 always
+  452 label *label258
+  453 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
+  454 jump *label261 greaterThanEq *tmp143 .PWR_ABORT
+  455 label *label259
+  456 jump *label261 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  457 label *label260
+  458 control enabled :start_reactor:reactor false
+  459 print "START FAIL battery"
+  460 print "\n"
+  461 set :start_reactor:supply_fuel false
+  462 jump *label262 always
+  463 label *label261
+  464 op sub :start_reactor:time_left 30 :start_reactor:secs
+  465 print "Starting "
+  466 print :start_reactor:time_left
+  467 print " "
+  468 print "secs, req "
+  469 print :calc_charge_req*retval
+  470 print "J"
+  471 print "\n"
+  472 label *label262
+  473 jump *label268 always
+  474 label *label263
+  475 jump *label266 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  476 label *label264
+  477 jump *label266 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  478 label *label265
+  479 control enabled :start_reactor:reactor false
+  480 print "ABANDON - battery crit"
+  481 print "\n"
+  482 set :start_reactor:supply_fuel false
+  483 jump *label267 always
+  484 label *label266
+  485 op idiv :start_reactor:mins :start_reactor:secs 6
+  486 op div :start_reactor:mins :start_reactor:mins 10
+  487 print "RUN "
+  488 print :start_reactor:mins
+  489 print " "
+  490 print "mins"
+  491 print "\n"
+  492 label *label267
+  493 label *label268
+  494 label *label269
+  495 label *label270
+  496 label *label271
+  497 label *label272
+  498 jump *label288 always
+  499 label *label273
+  500 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
+  501 op sub *tmp158 *tmp157 .PWR_ABORT
+  502 op div *tmp159 *tmp158 .PWR_REQ
+  503 op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
+  504 op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  505 op max :start_reactor:flow_units -0.1 *tmp161
+  506 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
+  507 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
+  508 jump *label274 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  509 print "IDLE"
+  510 print "\n"
+  511 set :start_reactor:supply_fuel false
+  512 jump *label287 always
+  513 label *label274
+  514 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
+  515 jump *label275 greaterThanEq *tmp167 1
+  516 op idiv *tmp171 :start_reactor:flow_units 0.001
+  517 op div :start_reactor:flow *tmp171 10
+  518 op idiv *tmp174 :start_reactor:charge_units 0.001
+  519 op div :start_reactor:charge *tmp174 10
+  520 print "WAIT power. (%"
+  521 print :start_reactor:charge
+  522 print "J + %"
+  523 print :start_reactor:flow
+  524 print "W)"
+  525 print "\n"
+  526 set :start_reactor:supply_fuel false
+  527 jump *label286 always
+  528 label *label275
+  529 jump *label280 equal :start_reactor:fuel_on false
+  530 label *label276
+  531 jump *label280 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  532 label *label277
+  533 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
+  534 jump *label278 lessThanEq *tmp178 .FUEL_REQ
+  535 print "WAIT fuel"
+  536 print "\n"
+  537 jump *label279 always
+  538 label *label278
+  539 print "WAIT system fuel"
+  540 print "\n"
+  541 label *label279
+  542 jump *label285 always
+  543 label *label280
+  544 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
+  545 jump *label281 greaterThanEq :start_reactor:fuel_stored *tmp181
+  546 print "WAIT buffer fuel"
+  547 print "\n"
+  548 jump *label284 always
+  549 label *label281
+  550 jump *label282 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  551 print "WAIT cryo"
+  552 print "\n"
+  553 jump *label283 always
+  554 label *label282
+  555 print "STARTUP"
+  556 print "\n"
+  557 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  558 control enabled :start_reactor:reactor true
+  559 label *label283
+  560 label *label284
+  561 label *label285
+  562 label *label286
+  563 label *label287
+  564 label *label288
+  565 label *label289
+  566 sensor *tmp188 :start_reactor:reactor @enabled
+  567 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  568 set :start_reactor*retval :start_reactor:supply_fuel
+  569 jump *label290 always
+  570 label *label290
   571 set :fuel_2 :start_reactor*retval
   572 set :t_startup2 .RET_T_STARTUP
   573 label *label151

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   375 set :start_reactor:fuel_on :fuel_2
   376 set :start_reactor:t_startup :t_startup2
   377 label *label245
-    * op sub *tmp104 @tick :start_reactor:t_startup
+  378 op sub *tmp104 @tick :t_startup2
   379 op idiv :start_reactor:secs *tmp104 60
-    * sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  380 sensor :start_reactor:fuel reactor2 @blast-compound
   381 set :start_reactor:supply_fuel true
-    * sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
-    * sensor *tmp109 .NODE @powerNetStored
+  382 sensor :start_reactor:fuel_stored vault1 @blast-compound
+  383 sensor :start_reactor:cryo reactor2 @cryofluid
+  384 sensor *tmp109 node1 @powerNetStored
   385 op floor :start_reactor:charge *tmp109
-    * sensor *tmp111 .NODE @powerNetIn
-    * sensor *tmp112 .NODE @powerNetOut
+  386 sensor *tmp111 node1 @powerNetIn
+  387 sensor *tmp112 node1 @powerNetOut
   388 op sub *tmp113 *tmp111 *tmp112
   389 op floor :start_reactor:surplus *tmp113
   390 op mul *tmp115 .AVG_SURPLUS 0.8
   391 op mul *tmp116 :start_reactor:surplus 0.2
   392 op add .AVG_SURPLUS *tmp115 *tmp116
-    * sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  393 sensor :start_reactor:enabled reactor2 @enabled
   394 print "#"
-    * print :start_reactor:reactor_num
+  395 print 2
   396 print " "
   397 print "- "
-    * jump *label246 equal :start_reactor:emerg_shutdown false
-    * control enabled :start_reactor:reactor false
+  398 jump *label246 equal :emerg_shutdown false
+  399 control enabled reactor2 false
   400 print "emergency mode"
   401 print "\n"
   402 set :start_reactor:supply_fuel false
   403 jump *label289 always
   404 label *label246
   405 jump *label273 equal :start_reactor:enabled false
-    * jump *label247 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
-    * control enabled :start_reactor:reactor false
+  406 jump *label247 greaterThanEq .REACTORS_DESIRED 2
+  407 control enabled reactor2 false
   408 print "STOP unwanted"
   409 print "\n"
   410 jump *label272 always
   411 label *label247
-    * jump *label250 lessThanEq :start_reactor:reactor_num 1
+  412 jump *label250 lessThanEq 2 1
   413 label *label248
-    * op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
-    * jump *label250 greaterThanEq :start_reactor:fuel_stored *tmp128
+  414 op mul *tmp128 15 2
+  415 jump *label250 greaterThanEq :start_reactor:fuel_stored 30
   416 label *label249
-    * control enabled :start_reactor:reactor false
+  417 control enabled reactor2 false
   418 print "STOP system fuel low"
   419 print "\n"
   420 jump *label271 always
   421 label *label250
   422 jump *label251 greaterThan :start_reactor:fuel 1
-    * control enabled :start_reactor:reactor false
+  423 control enabled reactor2 false
   424 print "STOP fuel low"
   425 print "\n"
   426 jump *label270 always
   427 label *label251
-    * jump *label252 greaterThan :start_reactor:cryo .CRYO_ABORT
-    * control enabled :start_reactor:reactor false
+  428 jump *label252 greaterThan :start_reactor:cryo 1
+  429 control enabled reactor2 false
   430 print "STOP out of cryo"
   431 print "\n"
   432 jump *label269 always
   433 label *label252
   434 jump *label263 greaterThanEq :start_reactor:secs 30
   435 label *label253
-    * op sub *tmp94 @tick :start_reactor:t_startup
+  436 op sub *tmp94 @tick :t_startup2
   437 op idiv :calc_charge_req:secs *tmp94 60
   438 jump *label255 greaterThan :calc_charge_req:secs 30
   439 label *label254
-    * sensor *tmp97 :start_reactor:reactor @enabled
+  440 sensor *tmp97 reactor2 @enabled
   441 jump *label256 notEqual *tmp97 false
   442 label *label255
   443 set :calc_charge_req*retval 0
 
   451 jump *label258 always
   452 label *label258
   453 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
-    * jump *label261 greaterThanEq *tmp143 .PWR_ABORT
+  454 jump *label261 greaterThanEq *tmp143 5000
   455 label *label259
-    * jump *label261 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  456 jump *label261 greaterThanEq :start_reactor:surplus -500
   457 label *label260
-    * control enabled :start_reactor:reactor false
+  458 control enabled reactor2 false
   459 print "START FAIL battery"
   460 print "\n"
   461 set :start_reactor:supply_fuel false
 
   472 label *label262
   473 jump *label268 always
   474 label *label263
-    * jump *label266 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  475 jump *label266 greaterThanEq :start_reactor:charge 2000
   476 label *label264
-    * jump *label266 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  477 jump *label266 greaterThanEq :start_reactor:surplus -500
   478 label *label265
-    * control enabled :start_reactor:reactor false
+  479 control enabled reactor2 false
   480 print "ABANDON - battery crit"
   481 print "\n"
   482 set :start_reactor:supply_fuel false
 
   498 jump *label288 always
   499 label *label273
   500 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
-    * op sub *tmp158 *tmp157 .PWR_ABORT
-    * op div *tmp159 *tmp158 .PWR_REQ
-    * op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
-    * op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  501 op sub *tmp158 *tmp157 5000
+  502 op div *tmp159 *tmp158 23000
+  503 op mul :start_reactor:charge_units *tmp159 0.6
+  504 op div *tmp161 :start_reactor:surplus 2000
   505 op max :start_reactor:flow_units -0.1 *tmp161
-    * op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
-    * op add :start_reactor:cryo_req .CRYO_REQ *tmp163
-    * jump *label274 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  506 op mul *tmp163 2 2
+  507 op add :start_reactor:cryo_req 3 4
+  508 jump *label274 greaterThanEq .REACTORS_DESIRED 2
   509 print "IDLE"
   510 print "\n"
   511 set :start_reactor:supply_fuel false
 
   526 set :start_reactor:supply_fuel false
   527 jump *label286 always
   528 label *label275
-    * jump *label280 equal :start_reactor:fuel_on false
+  529 jump *label280 equal :fuel_2 false
   530 label *label276
-    * jump *label280 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  531 jump *label280 greaterThanEq :start_reactor:fuel 10
   532 label *label277
   533 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
-    * jump *label278 lessThanEq *tmp178 .FUEL_REQ
+  534 jump *label278 lessThanEq *tmp178 10
   535 print "WAIT fuel"
   536 print "\n"
   537 jump *label279 always
 
   541 label *label279
   542 jump *label285 always
   543 label *label280
-    * op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
-    * jump *label281 greaterThanEq :start_reactor:fuel_stored *tmp181
+  544 op mul *tmp181 45 2
+  545 jump *label281 greaterThanEq :start_reactor:fuel_stored 90
   546 print "WAIT buffer fuel"
   547 print "\n"
   548 jump *label284 always
   549 label *label281
-    * jump *label282 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  550 jump *label282 greaterThanEq :start_reactor:cryo 7
   551 print "WAIT cryo"
   552 print "\n"
   553 jump *label283 always
   554 label *label282
   555 print "STARTUP"
   556 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor:reactor true
+  557 op add .START_POWER_REQ .START_POWER_REQ 23000
+  558 control enabled reactor2 true
   559 label *label283
   560 label *label284
   561 label *label285
 
   563 label *label287
   564 label *label288
   565 label *label289
-    * sensor *tmp188 :start_reactor:reactor @enabled
-    * select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  566 sensor *tmp188 reactor2 @enabled
+  567 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup2
   568 set :start_reactor*retval :start_reactor:supply_fuel
   569 jump *label290 always
   570 label *label290
-    * set :fuel_2 :start_reactor*retval
+  571 set :fuel_2 :start_reactor:supply_fuel
   572 set :t_startup2 .RET_T_STARTUP
   573 label *label151
-    * select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
+  574 select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
   575 control config unloader3 *tmp89
-    * select *tmp93 equal :start_reactor*retval false @blast-compound @scrap
+  576 select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
   577 control config unloader4 *tmp93
   578 label *label152
   579 label *label195

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
   369 select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
   370 control config unloader2 *tmp93
   371 label *label150
-    * set :start_reactor:reactor reactor2
-    * set :start_reactor:reactor_num 2
-    * set :start_reactor:emerg_shutdown :emerg_shutdown
-    * set :start_reactor:fuel_on :fuel_2
-    * set :start_reactor:t_startup :t_startup2
   372 label *label245
   373 op sub *tmp104 @tick :t_startup2
   374 op idiv :start_reactor:secs *tmp104 60
 
   495 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
   496 op sub *tmp158 *tmp157 5000
   497 op div *tmp159 *tmp158 23000
-    * op mul :start_reactor:charge_units *tmp159 0.6
+  498 op div :start_reactor:charge_units *tmp158 38333.333333333336
   499 op div *tmp161 :start_reactor:surplus 2000
   500 op max :start_reactor:flow_units -0.1 *tmp161
   501 op mul *tmp163 2 2
 
   560 label *label289
   561 sensor *tmp188 reactor2 @enabled
   562 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup2
-    * set :start_reactor*retval :start_reactor:supply_fuel
   563 jump *label290 always
   564 label *label290
   565 set :fuel_2 :start_reactor:supply_fuel

Modifications by Inline function call at line 89:14 (+146 instructions):
 
   603 set :start_reactor:emerg_shutdown :emerg_shutdown
   604 set :start_reactor:fuel_on :fuel_3
   605 set :start_reactor:t_startup :t_startup3
-    * setaddr :start_reactor*retaddr *label26 (h:*label26)
-    * call *label3 *invalid :start_reactor*retval (m:*label26) (h:*label26)
-    * label *label26
+  606 label *label291
+  607 op sub *tmp104 @tick :start_reactor:t_startup
+  608 op idiv :start_reactor:secs *tmp104 60
+  609 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  610 set :start_reactor:supply_fuel true
+  611 sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
+  612 sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
+  613 sensor *tmp109 .NODE @powerNetStored
+  614 op floor :start_reactor:charge *tmp109
+  615 sensor *tmp111 .NODE @powerNetIn
+  616 sensor *tmp112 .NODE @powerNetOut
+  617 op sub *tmp113 *tmp111 *tmp112
+  618 op floor :start_reactor:surplus *tmp113
+  619 op mul *tmp115 .AVG_SURPLUS 0.8
+  620 op mul *tmp116 :start_reactor:surplus 0.2
+  621 op add .AVG_SURPLUS *tmp115 *tmp116
+  622 sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  623 print "#"
+  624 print :start_reactor:reactor_num
+  625 print " "
+  626 print "- "
+  627 jump *label292 equal :start_reactor:emerg_shutdown false
+  628 control enabled :start_reactor:reactor false
+  629 print "emergency mode"
+  630 print "\n"
+  631 set :start_reactor:supply_fuel false
+  632 jump *label335 always
+  633 label *label292
+  634 jump *label319 equal :start_reactor:enabled false
+  635 jump *label293 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  636 control enabled :start_reactor:reactor false
+  637 print "STOP unwanted"
+  638 print "\n"
+  639 jump *label318 always
+  640 label *label293
+  641 jump *label296 lessThanEq :start_reactor:reactor_num 1
+  642 label *label294
+  643 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
+  644 jump *label296 greaterThanEq :start_reactor:fuel_stored *tmp128
+  645 label *label295
+  646 control enabled :start_reactor:reactor false
+  647 print "STOP system fuel low"
+  648 print "\n"
+  649 jump *label317 always
+  650 label *label296
+  651 jump *label297 greaterThan :start_reactor:fuel 1
+  652 control enabled :start_reactor:reactor false
+  653 print "STOP fuel low"
+  654 print "\n"
+  655 jump *label316 always
+  656 label *label297
+  657 jump *label298 greaterThan :start_reactor:cryo .CRYO_ABORT
+  658 control enabled :start_reactor:reactor false
+  659 print "STOP out of cryo"
+  660 print "\n"
+  661 jump *label315 always
+  662 label *label298
+  663 jump *label309 greaterThanEq :start_reactor:secs 30
+  664 label *label299
+  665 op sub *tmp94 @tick :start_reactor:t_startup
+  666 op idiv :calc_charge_req:secs *tmp94 60
+  667 jump *label301 greaterThan :calc_charge_req:secs 30
+  668 label *label300
+  669 sensor *tmp97 :start_reactor:reactor @enabled
+  670 jump *label302 notEqual *tmp97 false
+  671 label *label301
+  672 set :calc_charge_req*retval 0
+  673 jump *label304 always
+  674 label *label302
+  675 label *label303
+  676 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  677 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  678 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  679 set :calc_charge_req*retval :calc_charge_req:charge_req
+  680 jump *label304 always
+  681 label *label304
+  682 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
+  683 jump *label307 greaterThanEq *tmp143 .PWR_ABORT
+  684 label *label305
+  685 jump *label307 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  686 label *label306
+  687 control enabled :start_reactor:reactor false
+  688 print "START FAIL battery"
+  689 print "\n"
+  690 set :start_reactor:supply_fuel false
+  691 jump *label308 always
+  692 label *label307
+  693 op sub :start_reactor:time_left 30 :start_reactor:secs
+  694 print "Starting "
+  695 print :start_reactor:time_left
+  696 print " "
+  697 print "secs, req "
+  698 print :calc_charge_req*retval
+  699 print "J"
+  700 print "\n"
+  701 label *label308
+  702 jump *label314 always
+  703 label *label309
+  704 jump *label312 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  705 label *label310
+  706 jump *label312 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  707 label *label311
+  708 control enabled :start_reactor:reactor false
+  709 print "ABANDON - battery crit"
+  710 print "\n"
+  711 set :start_reactor:supply_fuel false
+  712 jump *label313 always
+  713 label *label312
+  714 op idiv :start_reactor:mins :start_reactor:secs 6
+  715 op div :start_reactor:mins :start_reactor:mins 10
+  716 print "RUN "
+  717 print :start_reactor:mins
+  718 print " "
+  719 print "mins"
+  720 print "\n"
+  721 label *label313
+  722 label *label314
+  723 label *label315
+  724 label *label316
+  725 label *label317
+  726 label *label318
+  727 jump *label334 always
+  728 label *label319
+  729 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
+  730 op sub *tmp158 *tmp157 .PWR_ABORT
+  731 op div *tmp159 *tmp158 .PWR_REQ
+  732 op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
+  733 op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  734 op max :start_reactor:flow_units -0.1 *tmp161
+  735 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
+  736 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
+  737 jump *label320 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  738 print "IDLE"
+  739 print "\n"
+  740 set :start_reactor:supply_fuel false
+  741 jump *label333 always
+  742 label *label320
+  743 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
+  744 jump *label321 greaterThanEq *tmp167 1
+  745 op idiv *tmp171 :start_reactor:flow_units 0.001
+  746 op div :start_reactor:flow *tmp171 10
+  747 op idiv *tmp174 :start_reactor:charge_units 0.001
+  748 op div :start_reactor:charge *tmp174 10
+  749 print "WAIT power. (%"
+  750 print :start_reactor:charge
+  751 print "J + %"
+  752 print :start_reactor:flow
+  753 print "W)"
+  754 print "\n"
+  755 set :start_reactor:supply_fuel false
+  756 jump *label332 always
+  757 label *label321
+  758 jump *label326 equal :start_reactor:fuel_on false
+  759 label *label322
+  760 jump *label326 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  761 label *label323
+  762 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
+  763 jump *label324 lessThanEq *tmp178 .FUEL_REQ
+  764 print "WAIT fuel"
+  765 print "\n"
+  766 jump *label325 always
+  767 label *label324
+  768 print "WAIT system fuel"
+  769 print "\n"
+  770 label *label325
+  771 jump *label331 always
+  772 label *label326
+  773 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
+  774 jump *label327 greaterThanEq :start_reactor:fuel_stored *tmp181
+  775 print "WAIT buffer fuel"
+  776 print "\n"
+  777 jump *label330 always
+  778 label *label327
+  779 jump *label328 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  780 print "WAIT cryo"
+  781 print "\n"
+  782 jump *label329 always
+  783 label *label328
+  784 print "STARTUP"
+  785 print "\n"
+  786 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  787 control enabled :start_reactor:reactor true
+  788 label *label329
+  789 label *label330
+  790 label *label331
+  791 label *label332
+  792 label *label333
+  793 label *label334
+  794 label *label335
+  795 sensor *tmp188 :start_reactor:reactor @enabled
+  796 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  797 set :start_reactor*retval :start_reactor:supply_fuel
+  798 jump *label336 always
+  799 label *label336
   800 set :fuel_3 :start_reactor*retval
   801 set :t_startup3 .RET_T_STARTUP
   802 set :start_reactor:reactor reactor4

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   604 set :start_reactor:fuel_on :fuel_3
   605 set :start_reactor:t_startup :t_startup3
   606 label *label291
-    * op sub *tmp104 @tick :start_reactor:t_startup
+  607 op sub *tmp104 @tick :t_startup3
   608 op idiv :start_reactor:secs *tmp104 60
-    * sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  609 sensor :start_reactor:fuel reactor3 @blast-compound
   610 set :start_reactor:supply_fuel true
-    * sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
-    * sensor *tmp109 .NODE @powerNetStored
+  611 sensor :start_reactor:fuel_stored vault1 @blast-compound
+  612 sensor :start_reactor:cryo reactor3 @cryofluid
+  613 sensor *tmp109 node1 @powerNetStored
   614 op floor :start_reactor:charge *tmp109
-    * sensor *tmp111 .NODE @powerNetIn
-    * sensor *tmp112 .NODE @powerNetOut
+  615 sensor *tmp111 node1 @powerNetIn
+  616 sensor *tmp112 node1 @powerNetOut
   617 op sub *tmp113 *tmp111 *tmp112
   618 op floor :start_reactor:surplus *tmp113
   619 op mul *tmp115 .AVG_SURPLUS 0.8
   620 op mul *tmp116 :start_reactor:surplus 0.2
   621 op add .AVG_SURPLUS *tmp115 *tmp116
-    * sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  622 sensor :start_reactor:enabled reactor3 @enabled
   623 print "#"
-    * print :start_reactor:reactor_num
+  624 print 3
   625 print " "
   626 print "- "
-    * jump *label292 equal :start_reactor:emerg_shutdown false
-    * control enabled :start_reactor:reactor false
+  627 jump *label292 equal :emerg_shutdown false
+  628 control enabled reactor3 false
   629 print "emergency mode"
   630 print "\n"
   631 set :start_reactor:supply_fuel false
   632 jump *label335 always
   633 label *label292
   634 jump *label319 equal :start_reactor:enabled false
-    * jump *label293 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
-    * control enabled :start_reactor:reactor false
+  635 jump *label293 greaterThanEq .REACTORS_DESIRED 3
+  636 control enabled reactor3 false
   637 print "STOP unwanted"
   638 print "\n"
   639 jump *label318 always
   640 label *label293
-    * jump *label296 lessThanEq :start_reactor:reactor_num 1
+  641 jump *label296 lessThanEq 3 1
   642 label *label294
-    * op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
-    * jump *label296 greaterThanEq :start_reactor:fuel_stored *tmp128
+  643 op mul *tmp128 15 3
+  644 jump *label296 greaterThanEq :start_reactor:fuel_stored 45
   645 label *label295
-    * control enabled :start_reactor:reactor false
+  646 control enabled reactor3 false
   647 print "STOP system fuel low"
   648 print "\n"
   649 jump *label317 always
   650 label *label296
   651 jump *label297 greaterThan :start_reactor:fuel 1
-    * control enabled :start_reactor:reactor false
+  652 control enabled reactor3 false
   653 print "STOP fuel low"
   654 print "\n"
   655 jump *label316 always
   656 label *label297
-    * jump *label298 greaterThan :start_reactor:cryo .CRYO_ABORT
-    * control enabled :start_reactor:reactor false
+  657 jump *label298 greaterThan :start_reactor:cryo 1
+  658 control enabled reactor3 false
   659 print "STOP out of cryo"
   660 print "\n"
   661 jump *label315 always
   662 label *label298
   663 jump *label309 greaterThanEq :start_reactor:secs 30
   664 label *label299
-    * op sub *tmp94 @tick :start_reactor:t_startup
+  665 op sub *tmp94 @tick :t_startup3
   666 op idiv :calc_charge_req:secs *tmp94 60
   667 jump *label301 greaterThan :calc_charge_req:secs 30
   668 label *label300
-    * sensor *tmp97 :start_reactor:reactor @enabled
+  669 sensor *tmp97 reactor3 @enabled
   670 jump *label302 notEqual *tmp97 false
   671 label *label301
   672 set :calc_charge_req*retval 0
 
   680 jump *label304 always
   681 label *label304
   682 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
-    * jump *label307 greaterThanEq *tmp143 .PWR_ABORT
+  683 jump *label307 greaterThanEq *tmp143 5000
   684 label *label305
-    * jump *label307 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  685 jump *label307 greaterThanEq :start_reactor:surplus -500
   686 label *label306
-    * control enabled :start_reactor:reactor false
+  687 control enabled reactor3 false
   688 print "START FAIL battery"
   689 print "\n"
   690 set :start_reactor:supply_fuel false
 
   701 label *label308
   702 jump *label314 always
   703 label *label309
-    * jump *label312 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  704 jump *label312 greaterThanEq :start_reactor:charge 2000
   705 label *label310
-    * jump *label312 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  706 jump *label312 greaterThanEq :start_reactor:surplus -500
   707 label *label311
-    * control enabled :start_reactor:reactor false
+  708 control enabled reactor3 false
   709 print "ABANDON - battery crit"
   710 print "\n"
   711 set :start_reactor:supply_fuel false
 
   727 jump *label334 always
   728 label *label319
   729 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
-    * op sub *tmp158 *tmp157 .PWR_ABORT
-    * op div *tmp159 *tmp158 .PWR_REQ
-    * op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
-    * op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  730 op sub *tmp158 *tmp157 5000
+  731 op div *tmp159 *tmp158 23000
+  732 op mul :start_reactor:charge_units *tmp159 0.6
+  733 op div *tmp161 :start_reactor:surplus 2000
   734 op max :start_reactor:flow_units -0.1 *tmp161
-    * op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
-    * op add :start_reactor:cryo_req .CRYO_REQ *tmp163
-    * jump *label320 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  735 op mul *tmp163 2 3
+  736 op add :start_reactor:cryo_req 3 6
+  737 jump *label320 greaterThanEq .REACTORS_DESIRED 3
   738 print "IDLE"
   739 print "\n"
   740 set :start_reactor:supply_fuel false
 
   755 set :start_reactor:supply_fuel false
   756 jump *label332 always
   757 label *label321
-    * jump *label326 equal :start_reactor:fuel_on false
+  758 jump *label326 equal :fuel_3 false
   759 label *label322
-    * jump *label326 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  760 jump *label326 greaterThanEq :start_reactor:fuel 10
   761 label *label323
   762 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
-    * jump *label324 lessThanEq *tmp178 .FUEL_REQ
+  763 jump *label324 lessThanEq *tmp178 10
   764 print "WAIT fuel"
   765 print "\n"
   766 jump *label325 always
 
   770 label *label325
   771 jump *label331 always
   772 label *label326
-    * op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
-    * jump *label327 greaterThanEq :start_reactor:fuel_stored *tmp181
+  773 op mul *tmp181 45 3
+  774 jump *label327 greaterThanEq :start_reactor:fuel_stored 135
   775 print "WAIT buffer fuel"
   776 print "\n"
   777 jump *label330 always
   778 label *label327
-    * jump *label328 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  779 jump *label328 greaterThanEq :start_reactor:cryo 9
   780 print "WAIT cryo"
   781 print "\n"
   782 jump *label329 always
   783 label *label328
   784 print "STARTUP"
   785 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor:reactor true
+  786 op add .START_POWER_REQ .START_POWER_REQ 23000
+  787 control enabled reactor3 true
   788 label *label329
   789 label *label330
   790 label *label331
 
   792 label *label333
   793 label *label334
   794 label *label335
-    * sensor *tmp188 :start_reactor:reactor @enabled
-    * select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  795 sensor *tmp188 reactor3 @enabled
+  796 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup3
   797 set :start_reactor*retval :start_reactor:supply_fuel
   798 jump *label336 always
   799 label *label336
-    * set :fuel_3 :start_reactor*retval
+  800 set :fuel_3 :start_reactor:supply_fuel
   801 set :t_startup3 .RET_T_STARTUP
   802 set :start_reactor:reactor reactor4
   803 set :start_reactor:reactor_num 4

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
   598 label *label197
   599 label *label198
   600 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
-    * set :start_reactor:reactor reactor3
-    * set :start_reactor:reactor_num 3
-    * set :start_reactor:emerg_shutdown :emerg_shutdown
-    * set :start_reactor:fuel_on :fuel_3
-    * set :start_reactor:t_startup :t_startup3
   601 label *label291
   602 op sub *tmp104 @tick :t_startup3
   603 op idiv :start_reactor:secs *tmp104 60
 
   724 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
   725 op sub *tmp158 *tmp157 5000
   726 op div *tmp159 *tmp158 23000
-    * op mul :start_reactor:charge_units *tmp159 0.6
+  727 op div :start_reactor:charge_units *tmp158 38333.333333333336
   728 op div *tmp161 :start_reactor:surplus 2000
   729 op max :start_reactor:flow_units -0.1 *tmp161
   730 op mul *tmp163 2 3
 
   789 label *label335
   790 sensor *tmp188 reactor3 @enabled
   791 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup3
-    * set :start_reactor*retval :start_reactor:supply_fuel
   792 jump *label336 always
   793 label *label336
   794 set :fuel_3 :start_reactor:supply_fuel

Modifications by Iterated phase, Jump Normalization, pass 2, iteration 1 (-2 instructions):
 
   203 print "\n"
   204 jump *label226 always
   205 label *label201
-    * jump *label204 lessThanEq 1 1
+  206 jump *label204 always
   207 label *label202
   208 op mul *tmp128 15 1
   209 jump *label204 greaterThanEq :start_reactor:fuel_stored 15
 
   404 print "\n"
   405 jump *label272 always
   406 label *label247
-    * jump *label250 lessThanEq 2 1
   407 label *label248
   408 op mul *tmp128 15 2
   409 jump *label250 greaterThanEq :start_reactor:fuel_stored 30
 
   632 print "\n"
   633 jump *label318 always
   634 label *label293
-    * jump *label296 lessThanEq 3 1
   635 label *label294
   636 op mul *tmp128 15 3
   637 jump *label296 greaterThanEq :start_reactor:fuel_stored 45

Modifications by Iterated phase, Condition Optimization, pass 2, iteration 1 (-2 instructions):
 
   818 op or *tmp220 *tmp219 :start_reactor*retval
   819 op notEqual *tmp26 *tmp220 false
   820 label *label153
-    * select *tmp89 notEqual *tmp26 false @blast-compound @scrap
+  821 select *tmp89 notEqual *tmp220 false @blast-compound @scrap
   822 control config unloader5 *tmp89
-    * select *tmp93 equal *tmp26 false @blast-compound @scrap
+  823 select *tmp93 equal *tmp220 false @blast-compound @scrap
   824 control config unloader6 *tmp93
   825 label *label154
   826 label *label140
 
   828 label *label142
   829 op or *tmp221 :fuel_1 :fuel_2
   830 op or *tmp222 *tmp221 *tmp26
-    * op notEqual *tmp28 *tmp222 false
   831 sensor *tmp30 node1 @powerNetStored
   832 op floor :throttle_blast:charge *tmp30
   833 sensor *tmp32 node1 @powerNetIn
 
   859 label *label47
   860 jump *label42 always
   861 label *label41
-    * jump *label48 notEqual *tmp28 false
+  862 jump *label48 notEqual *tmp222 false
   863 set :throttle_blast:limit 150
   864 print "Fuel "
   865 print :throttle_blast:fuel_stored
 
   881 print "n"
   882 label *label49
   883 label *label42
-    * op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
   884 jump *label40 always
   885 label *label40
-    * select *tmp46 notEqual *tmp29 false @pyratite @scrap
+  886 select *tmp46 lessThan :throttle_blast:fuel_stored :throttle_blast:limit @pyratite @scrap
   887 control config unloader7 *tmp46
   888 sensor *tmp48 node1 @powerNetStored
   889 sensor *tmp49 node1 @powerNetCapacity

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-20 instructions):
 
    55 control enabled projector1 false
    56 control enabled projector2 false
    57 set :check_radar*retval false
-    * jump *label194 always
    58 label *label193
    59 label *label194
    60 jump *label12 equal switch1 null
 
    69 label *label12
    70 label *label13
    71 set *tmp8 false
-    * jump *label11 always
    72 label *label11
    73 op or :emerg_shutdown :check_radar*retval *tmp8
    74 label *label155
 
    87 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
    88 op idiv :calc_charge_req:charge_req *tmp101 0.04
    89 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label160 always
    90 label *label160
    91 set .START_POWER_REQ :calc_charge_req*retval
    92 label *label161
 
   105 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   106 op idiv :calc_charge_req:charge_req *tmp101 0.04
   107 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label166 always
   108 label *label166
   109 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   110 label *label167
 
   123 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   124 op idiv :calc_charge_req:charge_req *tmp101 0.04
   125 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label172 always
   126 label *label172
   127 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   128 label *label173
 
   141 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   142 op idiv :calc_charge_req:charge_req *tmp101 0.04
   143 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label178 always
   144 label *label178
   145 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   146 label *label179
 
   159 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   160 op idiv :calc_charge_req:charge_req *tmp101 0.04
   161 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label184 always
   162 label *label184
   163 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   164 label *label199
 
   235 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   236 op idiv :calc_charge_req:charge_req *tmp101 0.04
   237 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label212 always
   238 label *label212
   239 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   240 jump *label215 greaterThanEq *tmp143 5000
 
   351 label *label243
   352 sensor *tmp188 reactor1 @enabled
   353 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup1
-    * jump *label244 always
   354 label *label244
   355 set :fuel_1 :start_reactor:supply_fuel
   356 set :t_startup1 .RET_T_STARTUP
 
   433 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   434 op idiv :calc_charge_req:charge_req *tmp101 0.04
   435 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label258 always
   436 label *label258
   437 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   438 jump *label261 greaterThanEq *tmp143 5000
 
   549 label *label289
   550 sensor *tmp188 reactor2 @enabled
   551 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup2
-    * jump *label290 always
   552 label *label290
   553 set :fuel_2 :start_reactor:supply_fuel
   554 set :t_startup2 .RET_T_STARTUP
 
   582 control enabled projector1 false
   583 control enabled projector2 false
   584 set :check_radar*retval false
-    * jump *label198 always
   585 label *label197
   586 label *label198
   587 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
 
   658 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   659 op idiv :calc_charge_req:charge_req *tmp101 0.04
   660 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label304 always
   661 label *label304
   662 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   663 jump *label307 greaterThanEq *tmp143 5000
 
   774 label *label335
   775 sensor *tmp188 reactor3 @enabled
   776 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup3
-    * jump *label336 always
   777 label *label336
   778 set :fuel_3 :start_reactor:supply_fuel
   779 set :t_startup3 .RET_T_STARTUP
 
   867 print "n"
   868 label *label49
   869 label *label42
-    * jump *label40 always
   870 label *label40
   871 select *tmp46 lessThan :throttle_blast:fuel_stored :throttle_blast:limit @pyratite @scrap
   872 control config unloader7 *tmp46
 
   890 label *label143
   891 op idiv *tmp85 .AVG_SURPLUS 100
   892 op div :kilo*retval *tmp85 10
-    * jump *label144 always
   893 label *label144
   894 set :surplus :kilo*retval
   895 sensor :kilo:val node1 @powerNetStored
   896 label *label145
   897 op idiv *tmp85 :kilo:val 100
   898 op div :kilo*retval *tmp85 10
-    * jump *label146 always
   899 label *label146
   900 set :charge :kilo*retval
   901 jump *label59 lessThanEq .START_POWER_REQ 0
   902 label *label147
   903 op idiv *tmp85 .START_POWER_REQ 100
   904 op div :kilo*retval *tmp85 10
-    * jump *label148 always
   905 label *label148
   906 print "Req "
   907 print :kilo*retval
 
  1032 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
  1033 op idiv :calc_charge_req:charge_req *tmp101 0.04
  1034 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label190 always
  1035 label *label190
  1036 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
  1037 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
 
  1149 sensor *tmp188 :start_reactor:reactor @enabled
  1150 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
  1151 set :start_reactor*retval :start_reactor:supply_fuel
-    * jump *label86 always
  1152 label *label86
  1153 return :start_reactor*retaddr
  1154 end

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-2 instructions):
 
   889 label *label52
   890 label *label143
   891 op idiv *tmp85 .AVG_SURPLUS 100
-    * op div :kilo*retval *tmp85 10
+  892 op div :surplus *tmp85 10
   893 label *label144
-    * set :surplus :kilo*retval
   894 sensor :kilo:val node1 @powerNetStored
   895 label *label145
   896 op idiv *tmp85 :kilo:val 100
 
   961 op sub *tmp104 @tick :start_reactor:t_startup
   962 op idiv :start_reactor:secs *tmp104 60
   963 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
-    * set :start_reactor:supply_fuel true
+  964 set :start_reactor*retval true
   965 sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
   966 sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
   967 sensor *tmp109 .NODE @powerNetStored
 
   982 control enabled :start_reactor:reactor false
   983 print "emergency mode"
   984 print "\n"
-    * set :start_reactor:supply_fuel false
+  985 set :start_reactor*retval false
   986 jump *label88 always
   987 label *label87
   988 jump *label89 equal :start_reactor:enabled false
 
  1040 control enabled :start_reactor:reactor false
  1041 print "START FAIL battery"
  1042 print "\n"
-    * set :start_reactor:supply_fuel false
+ 1043 set :start_reactor*retval false
  1044 jump *label105 always
  1045 label *label104
  1046 op sub :start_reactor:time_left 30 :start_reactor:secs
 
  1061 control enabled :start_reactor:reactor false
  1062 print "ABANDON - battery crit"
  1063 print "\n"
-    * set :start_reactor:supply_fuel false
+ 1064 set :start_reactor*retval false
  1065 jump *label109 always
  1066 label *label108
  1067 op idiv :start_reactor:mins :start_reactor:secs 6
 
  1090 jump *label112 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
  1091 print "IDLE"
  1092 print "\n"
-    * set :start_reactor:supply_fuel false
+ 1093 set :start_reactor*retval false
  1094 jump *label113 always
  1095 label *label112
  1096 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
 
  1105 print :start_reactor:flow
  1106 print "W)"
  1107 print "\n"
-    * set :start_reactor:supply_fuel false
+ 1108 set :start_reactor*retval false
  1109 jump *label115 always
  1110 label *label114
  1111 jump *label116 equal :start_reactor:fuel_on false
 
  1147 label *label88
  1148 sensor *tmp188 :start_reactor:reactor @enabled
  1149 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
-    * set :start_reactor*retval :start_reactor:supply_fuel
  1150 label *label86
  1151 return :start_reactor*retaddr
  1152 end

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2:
 
   800 label *label137
   801 label *label138
   802 label *label139
-    * op or *tmp219 :fuel_3 :fuel_4
+  803 op or *tmp219 :start_reactor:supply_fuel :fuel_4
   804 op or *tmp220 *tmp219 :start_reactor*retval
   805 op notEqual *tmp26 *tmp220 false
   806 label *label153

Modifications by Jumps phase, Jump Normalization, pass 4, iteration 1:
 
    31 label *label7
    32 set .CONTAINER vault1
    33 set .NODE node1
-    * label *label191
    34 radar enemy any any health cyclone1 1 :check_radar:enemy_found
    35 jump *label192 equal :check_radar:enemy_found null
    36 control enabled projector1 true
 
    57 label *label193
    58 label *label194
    59 jump *label12 equal switch1 null
-    * label *label15
    60 sensor *tmp10 switch1 @enabled
    61 jump *label12 notEqual *tmp10 false
-    * label *label14
    62 print "User has disabled emergency switch"
    63 print "\n"
    64 set *tmp8 true
    65 jump *label11 always
    66 label *label12
-    * label *label13
    67 set *tmp8 false
    68 label *label11
    69 op or :emerg_shutdown :check_radar*retval *tmp8
-    * label *label155
    70 op sub *tmp94 @tick :t_startup1
    71 op idiv :calc_charge_req:secs *tmp94 60
    72 jump *label157 greaterThan :calc_charge_req:secs 30
-    * label *label156
    73 sensor *tmp97 reactor1 @enabled
    74 jump *label158 notEqual *tmp97 false
    75 label *label157
    76 set :calc_charge_req*retval 0
    77 jump *label160 always
    78 label *label158
-    * label *label159
    79 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
    80 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
    81 op idiv :calc_charge_req:charge_req *tmp101 0.04
    82 set :calc_charge_req*retval :calc_charge_req:charge_req
    83 label *label160
    84 set .START_POWER_REQ :calc_charge_req*retval
-    * label *label161
    85 op sub *tmp94 @tick :t_startup2
    86 op idiv :calc_charge_req:secs *tmp94 60
    87 jump *label163 greaterThan :calc_charge_req:secs 30
-    * label *label162
    88 sensor *tmp97 reactor2 @enabled
    89 jump *label164 notEqual *tmp97 false
    90 label *label163
    91 set :calc_charge_req*retval 0
    92 jump *label166 always
    93 label *label164
-    * label *label165
    94 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
    95 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
    96 op idiv :calc_charge_req:charge_req *tmp101 0.04
    97 set :calc_charge_req*retval :calc_charge_req:charge_req
    98 label *label166
    99 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * label *label167
   100 op sub *tmp94 @tick :t_startup3
   101 op idiv :calc_charge_req:secs *tmp94 60
   102 jump *label169 greaterThan :calc_charge_req:secs 30
-    * label *label168
   103 sensor *tmp97 reactor3 @enabled
   104 jump *label170 notEqual *tmp97 false
   105 label *label169
   106 set :calc_charge_req*retval 0
   107 jump *label172 always
   108 label *label170
-    * label *label171
   109 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   110 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   111 op idiv :calc_charge_req:charge_req *tmp101 0.04
   112 set :calc_charge_req*retval :calc_charge_req:charge_req
   113 label *label172
   114 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * label *label173
   115 op sub *tmp94 @tick :t_startup4
   116 op idiv :calc_charge_req:secs *tmp94 60
   117 jump *label175 greaterThan :calc_charge_req:secs 30
-    * label *label174
   118 sensor *tmp97 reactor4 @enabled
   119 jump *label176 notEqual *tmp97 false
   120 label *label175
   121 set :calc_charge_req*retval 0
   122 jump *label178 always
   123 label *label176
-    * label *label177
   124 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   125 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   126 op idiv :calc_charge_req:charge_req *tmp101 0.04
   127 set :calc_charge_req*retval :calc_charge_req:charge_req
   128 label *label178
   129 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * label *label179
   130 op sub *tmp94 @tick :t_startup5
   131 op idiv :calc_charge_req:secs *tmp94 60
   132 jump *label181 greaterThan :calc_charge_req:secs 30
-    * label *label180
   133 sensor *tmp97 reactor5 @enabled
   134 jump *label182 notEqual *tmp97 false
   135 label *label181
   136 set :calc_charge_req*retval 0
   137 jump *label184 always
   138 label *label182
-    * label *label183
   139 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   140 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   141 op idiv :calc_charge_req:charge_req *tmp101 0.04
   142 set :calc_charge_req*retval :calc_charge_req:charge_req
   143 label *label184
   144 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * label *label199
   145 op sub *tmp104 @tick :t_startup1
   146 op idiv :start_reactor:secs *tmp104 60
   147 sensor :start_reactor:fuel reactor1 @blast-compound
 
   177 jump *label226 always
   178 label *label201
   179 jump *label204 always
-    * label *label202
   180 op mul *tmp128 15 1
   181 jump *label204 greaterThanEq :start_reactor:fuel_stored 15
-    * label *label203
   182 control enabled reactor1 false
   183 print "STOP system fuel low"
   184 print "\n"
 
   197 jump *label223 always
   198 label *label206
   199 jump *label217 greaterThanEq :start_reactor:secs 30
-    * label *label207
   200 op sub *tmp94 @tick :t_startup1
   201 op idiv :calc_charge_req:secs *tmp94 60
   202 jump *label209 greaterThan :calc_charge_req:secs 30
-    * label *label208
   203 sensor *tmp97 reactor1 @enabled
   204 jump *label210 notEqual *tmp97 false
   205 label *label209
   206 set :calc_charge_req*retval 0
   207 jump *label212 always
   208 label *label210
-    * label *label211
   209 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   210 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   211 op idiv :calc_charge_req:charge_req *tmp101 0.04
 
   213 label *label212
   214 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   215 jump *label215 greaterThanEq *tmp143 5000
-    * label *label213
   216 jump *label215 greaterThanEq :start_reactor:surplus -500
-    * label *label214
   217 control enabled reactor1 false
   218 print "START FAIL battery"
   219 print "\n"
 
   232 jump *label222 always
   233 label *label217
   234 jump *label220 greaterThanEq :start_reactor:charge 2000
-    * label *label218
   235 jump *label220 greaterThanEq :start_reactor:surplus -500
-    * label *label219
   236 control enabled reactor1 false
   237 print "ABANDON - battery crit"
   238 print "\n"
 
   284 jump *label240 always
   285 label *label229
   286 jump *label234 equal :fuel_1 false
-    * label *label230
   287 jump *label234 greaterThanEq :start_reactor:fuel 10
-    * label *label231
   288 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   289 jump *label232 lessThanEq *tmp178 10
   290 print "WAIT fuel"
 
   320 label *label243
   321 sensor *tmp188 reactor1 @enabled
   322 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup1
-    * label *label244
   323 set :fuel_1 :start_reactor:supply_fuel
   324 set :t_startup1 .RET_T_STARTUP
-    * label *label149
   325 select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
   326 control config unloader1 *tmp89
   327 select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
   328 control config unloader2 *tmp93
-    * label *label150
-    * label *label245
   329 op sub *tmp104 @tick :t_startup2
   330 op idiv :start_reactor:secs *tmp104 60
   331 sensor :start_reactor:fuel reactor2 @blast-compound
 
   360 print "\n"
   361 jump *label272 always
   362 label *label247
-    * label *label248
   363 op mul *tmp128 15 2
   364 jump *label250 greaterThanEq :start_reactor:fuel_stored 30
-    * label *label249
   365 control enabled reactor2 false
   366 print "STOP system fuel low"
   367 print "\n"
 
   380 jump *label269 always
   381 label *label252
   382 jump *label263 greaterThanEq :start_reactor:secs 30
-    * label *label253
   383 op sub *tmp94 @tick :t_startup2
   384 op idiv :calc_charge_req:secs *tmp94 60
   385 jump *label255 greaterThan :calc_charge_req:secs 30
-    * label *label254
   386 sensor *tmp97 reactor2 @enabled
   387 jump *label256 notEqual *tmp97 false
   388 label *label255
   389 set :calc_charge_req*retval 0
   390 jump *label258 always
   391 label *label256
-    * label *label257
   392 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   393 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   394 op idiv :calc_charge_req:charge_req *tmp101 0.04
 
   396 label *label258
   397 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   398 jump *label261 greaterThanEq *tmp143 5000
-    * label *label259
   399 jump *label261 greaterThanEq :start_reactor:surplus -500
-    * label *label260
   400 control enabled reactor2 false
   401 print "START FAIL battery"
   402 print "\n"
 
   415 jump *label268 always
   416 label *label263
   417 jump *label266 greaterThanEq :start_reactor:charge 2000
-    * label *label264
   418 jump *label266 greaterThanEq :start_reactor:surplus -500
-    * label *label265
   419 control enabled reactor2 false
   420 print "ABANDON - battery crit"
   421 print "\n"
 
   467 jump *label286 always
   468 label *label275
   469 jump *label280 equal :fuel_2 false
-    * label *label276
   470 jump *label280 greaterThanEq :start_reactor:fuel 10
-    * label *label277
   471 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   472 jump *label278 lessThanEq *tmp178 10
   473 print "WAIT fuel"
 
   503 label *label289
   504 sensor *tmp188 reactor2 @enabled
   505 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup2
-    * label *label290
   506 set :fuel_2 :start_reactor:supply_fuel
   507 set :t_startup2 .RET_T_STARTUP
-    * label *label151
   508 select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
   509 control config unloader3 *tmp89
   510 select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
   511 control config unloader4 *tmp93
-    * label *label152
-    * label *label195
   512 radar enemy any any health cyclone1 1 :check_radar:enemy_found
   513 jump *label196 equal :check_radar:enemy_found null
   514 control enabled projector1 true
 
   535 label *label197
   536 label *label198
   537 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
-    * label *label291
   538 op sub *tmp104 @tick :t_startup3
   539 op idiv :start_reactor:secs *tmp104 60
   540 sensor :start_reactor:fuel reactor3 @blast-compound
 
   569 print "\n"
   570 jump *label318 always
   571 label *label293
-    * label *label294
   572 op mul *tmp128 15 3
   573 jump *label296 greaterThanEq :start_reactor:fuel_stored 45
-    * label *label295
   574 control enabled reactor3 false
   575 print "STOP system fuel low"
   576 print "\n"
 
   589 jump *label315 always
   590 label *label298
   591 jump *label309 greaterThanEq :start_reactor:secs 30
-    * label *label299
   592 op sub *tmp94 @tick :t_startup3
   593 op idiv :calc_charge_req:secs *tmp94 60
   594 jump *label301 greaterThan :calc_charge_req:secs 30
-    * label *label300
   595 sensor *tmp97 reactor3 @enabled
   596 jump *label302 notEqual *tmp97 false
   597 label *label301
   598 set :calc_charge_req*retval 0
   599 jump *label304 always
   600 label *label302
-    * label *label303
   601 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   602 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   603 op idiv :calc_charge_req:charge_req *tmp101 0.04
 
   605 label *label304
   606 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   607 jump *label307 greaterThanEq *tmp143 5000
-    * label *label305
   608 jump *label307 greaterThanEq :start_reactor:surplus -500
-    * label *label306
   609 control enabled reactor3 false
   610 print "START FAIL battery"
   611 print "\n"
 
   624 jump *label314 always
   625 label *label309
   626 jump *label312 greaterThanEq :start_reactor:charge 2000
-    * label *label310
   627 jump *label312 greaterThanEq :start_reactor:surplus -500
-    * label *label311
   628 control enabled reactor3 false
   629 print "ABANDON - battery crit"
   630 print "\n"
 
   676 jump *label332 always
   677 label *label321
   678 jump *label326 equal :fuel_3 false
-    * label *label322
   679 jump *label326 greaterThanEq :start_reactor:fuel 10
-    * label *label323
   680 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   681 jump *label324 lessThanEq *tmp178 10
   682 print "WAIT fuel"
 
   712 label *label335
   713 sensor *tmp188 reactor3 @enabled
   714 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup3
-    * label *label336
   715 set :fuel_3 :start_reactor:supply_fuel
   716 set :t_startup3 .RET_T_STARTUP
   717 set :start_reactor:reactor reactor4
 
   734 label *label28
   735 set :fuel_5 :start_reactor*retval
   736 set :t_startup5 .RET_T_STARTUP
-    * label *label137
-    * label *label138
-    * label *label139
   737 op or *tmp219 :start_reactor:supply_fuel :fuel_4
   738 op or *tmp220 *tmp219 :start_reactor*retval
   739 op notEqual *tmp26 *tmp220 false
-    * label *label153
   740 select *tmp89 notEqual *tmp220 false @blast-compound @scrap
   741 control config unloader5 *tmp89
   742 select *tmp93 equal *tmp220 false @blast-compound @scrap
   743 control config unloader6 *tmp93
-    * label *label154
-    * label *label140
-    * label *label141
-    * label *label142
   744 op or *tmp221 :fuel_1 :fuel_2
   745 op or *tmp222 *tmp221 *tmp26
   746 sensor *tmp30 node1 @powerNetStored
 
   751 op floor :throttle_blast:surplus *tmp34
   752 sensor :throttle_blast:fuel_stored vault1 @blast-compound
   753 jump *label44 greaterThanEq :throttle_blast:charge 5000
-    * label *label45
   754 jump *label43 lessThan :throttle_blast:surplus -500
   755 label *label44
   756 jump *label41 equal :emerg_shutdown false
 
   795 print "n"
   796 label *label49
   797 label *label42
-    * label *label40
   798 select *tmp46 lessThan :throttle_blast:fuel_stored :throttle_blast:limit @pyratite @scrap
   799 control config unloader7 *tmp46
   800 sensor *tmp48 node1 @powerNetStored
   801 sensor *tmp49 node1 @powerNetCapacity
   802 op div :diff_generators:stored_pc *tmp48 *tmp49
   803 jump *label53 lessThanEq :diff_generators:stored_pc 0.9
-    * label *label56
   804 jump *label53 greaterThanEq .START_POWER_REQ 10
-    * label *label55
   805 print "Differential now idle."
   806 print "\n"
   807 control enabled generator1 false
 
   811 control enabled generator1 true
   812 control enabled generator2 true
   813 label *label54
-    * label *label52
-    * label *label143
   814 op idiv *tmp85 .AVG_SURPLUS 100
   815 op div :surplus *tmp85 10
-    * label *label144
   816 sensor :kilo:val node1 @powerNetStored
-    * label *label145
   817 op idiv *tmp85 :kilo:val 100
   818 op div :kilo*retval *tmp85 10
-    * label *label146
   819 set :charge :kilo*retval
   820 jump *label59 lessThanEq .START_POWER_REQ 0
-    * label *label147
   821 op idiv *tmp85 .START_POWER_REQ 100
   822 op div :kilo*retval *tmp85 10
-    * label *label148
   823 print "Req "
   824 print :kilo*retval
   825 print "kJ / "
 
   840 sensor *tmp66 node1 @powerNetCapacity
   841 op div :update_reactors_desired:stored *tmp65 *tmp66
   842 jump *label63 lessThanEq :update_reactors_desired:stored 0.98
-    * label *label66
   843 jump *label63 lessThanEq .AVG_SURPLUS 16500
-    * label *label65
   844 jump *label67 lessThanEq .REACTORS_DESIRED 2
   845 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   846 op sub .AVG_SURPLUS .AVG_SURPLUS 6500
   847 label *label67
-    * label *label68
   848 label *label63
-    * label *label64
   849 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
-    * label *label72
   850 jump *label69 greaterThanEq .AVG_SURPLUS 8000
-    * label *label71
   851 op sub *tmp78 .AVG_SURPLUS 10000
   852 op idiv *tmp79 *tmp78 6500
   853 op max :update_reactors_desired:needed 1 *tmp79
   854 op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
   855 op min .REACTORS_DESIRED 5 *tmp81
   856 label *label69
-    * label *label70
-    * label *label62
   857 label *label60
   858 jump *label73 equal .REACTORS_DESIRED 5
   859 print "Require only "
 
   861 print "/5 reactors."
   862 print "\n"
   863 label *label73
-    * label *label74
   864 printflush message1
-    * label *label8
   865 jump *label7 always
-    * label *label9
   866 end
   867 label *label3
   868 op sub *tmp104 @tick :start_reactor:t_startup
 
   900 jump *label92 always
   901 label *label91
   902 jump *label93 lessThanEq :start_reactor:reactor_num 1
-    * label *label96
   903 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
   904 jump *label93 greaterThanEq :start_reactor:fuel_stored *tmp128
-    * label *label95
   905 control enabled :start_reactor:reactor false
   906 print "STOP system fuel low"
   907 print "\n"
 
   920 jump *label100 always
   921 label *label99
   922 jump *label101 greaterThanEq :start_reactor:secs 30
-    * label *label185
   923 op sub *tmp94 @tick :start_reactor:t_startup
   924 op idiv :calc_charge_req:secs *tmp94 60
   925 jump *label187 greaterThan :calc_charge_req:secs 30
-    * label *label186
   926 sensor *tmp97 :start_reactor:reactor @enabled
   927 jump *label188 notEqual *tmp97 false
   928 label *label187
   929 set :calc_charge_req*retval 0
   930 jump *label190 always
   931 label *label188
-    * label *label189
   932 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   933 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   934 op idiv :calc_charge_req:charge_req *tmp101 0.04
 
   936 label *label190
   937 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   938 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
-    * label *label107
   939 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * label *label106
   940 control enabled :start_reactor:reactor false
   941 print "START FAIL battery"
   942 print "\n"
 
   955 jump *label102 always
   956 label *label101
   957 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
-    * label *label111
   958 jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * label *label110
   959 control enabled :start_reactor:reactor false
   960 print "ABANDON - battery crit"
   961 print "\n"
 
  1007 jump *label115 always
  1008 label *label114
  1009 jump *label116 equal :start_reactor:fuel_on false
-    * label *label119
  1010 jump *label116 greaterThanEq :start_reactor:fuel .FUEL_REQ
-    * label *label118
  1011 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
  1012 jump *label120 lessThanEq *tmp178 .FUEL_REQ
  1013 print "WAIT fuel"
 
  1043 label *label88
  1044 sensor *tmp188 :start_reactor:reactor @enabled
  1045 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
-    * label *label86
  1046 return :start_reactor*retaddr
  1047 end

Modifications by Jumps phase, Jump Threading, pass 4, iteration 1:
 
   170 jump *label243 always
   171 label *label200
   172 jump *label227 equal :start_reactor:enabled false
-    * jump *label201 greaterThanEq .REACTORS_DESIRED 1
+  173 jump *label204 greaterThanEq .REACTORS_DESIRED 1
   174 control enabled reactor1 false
   175 print "STOP unwanted"
   176 print "\n"
-    * jump *label226 always
+  177 jump *label242 always
   178 label *label201
   179 jump *label204 always
   180 op mul *tmp128 15 1
 
   182 control enabled reactor1 false
   183 print "STOP system fuel low"
   184 print "\n"
-    * jump *label225 always
+  185 jump *label242 always
   186 label *label204
   187 jump *label205 greaterThan :start_reactor:fuel 1
   188 control enabled reactor1 false
   189 print "STOP fuel low"
   190 print "\n"
-    * jump *label224 always
+  191 jump *label242 always
   192 label *label205
   193 jump *label206 greaterThan :start_reactor:cryo 1
   194 control enabled reactor1 false
   195 print "STOP out of cryo"
   196 print "\n"
-    * jump *label223 always
+  197 jump *label242 always
   198 label *label206
   199 jump *label217 greaterThanEq :start_reactor:secs 30
   200 op sub *tmp94 @tick :t_startup1
 
   218 print "START FAIL battery"
   219 print "\n"
   220 set :start_reactor:supply_fuel false
-    * jump *label216 always
+  221 jump *label242 always
   222 label *label215
   223 op sub :start_reactor:time_left 30 :start_reactor:secs
   224 print "Starting "
 
   229 print "J"
   230 print "\n"
   231 label *label216
-    * jump *label222 always
+  232 jump *label242 always
   233 label *label217
   234 jump *label220 greaterThanEq :start_reactor:charge 2000
   235 jump *label220 greaterThanEq :start_reactor:surplus -500
 
   237 print "ABANDON - battery crit"
   238 print "\n"
   239 set :start_reactor:supply_fuel false
-    * jump *label221 always
+  240 jump *label242 always
   241 label *label220
   242 op idiv :start_reactor:mins :start_reactor:secs 6
   243 op div :start_reactor:mins :start_reactor:mins 10
 
   289 jump *label232 lessThanEq *tmp178 10
   290 print "WAIT fuel"
   291 print "\n"
-    * jump *label233 always
+  292 jump *label239 always
   293 label *label232
   294 print "WAIT system fuel"
   295 print "\n"
 
   358 control enabled reactor2 false
   359 print "STOP unwanted"
   360 print "\n"
-    * jump *label272 always
+  361 jump *label288 always
   362 label *label247
   363 op mul *tmp128 15 2
   364 jump *label250 greaterThanEq :start_reactor:fuel_stored 30
   365 control enabled reactor2 false
   366 print "STOP system fuel low"
   367 print "\n"
-    * jump *label271 always
+  368 jump *label288 always
   369 label *label250
   370 jump *label251 greaterThan :start_reactor:fuel 1
   371 control enabled reactor2 false
   372 print "STOP fuel low"
   373 print "\n"
-    * jump *label270 always
+  374 jump *label288 always
   375 label *label251
   376 jump *label252 greaterThan :start_reactor:cryo 1
   377 control enabled reactor2 false
   378 print "STOP out of cryo"
   379 print "\n"
-    * jump *label269 always
+  380 jump *label288 always
   381 label *label252
   382 jump *label263 greaterThanEq :start_reactor:secs 30
   383 op sub *tmp94 @tick :t_startup2
 
   401 print "START FAIL battery"
   402 print "\n"
   403 set :start_reactor:supply_fuel false
-    * jump *label262 always
+  404 jump *label288 always
   405 label *label261
   406 op sub :start_reactor:time_left 30 :start_reactor:secs
   407 print "Starting "
 
   412 print "J"
   413 print "\n"
   414 label *label262
-    * jump *label268 always
+  415 jump *label288 always
   416 label *label263
   417 jump *label266 greaterThanEq :start_reactor:charge 2000
   418 jump *label266 greaterThanEq :start_reactor:surplus -500
 
   420 print "ABANDON - battery crit"
   421 print "\n"
   422 set :start_reactor:supply_fuel false
-    * jump *label267 always
+  423 jump *label288 always
   424 label *label266
   425 op idiv :start_reactor:mins :start_reactor:secs 6
   426 op div :start_reactor:mins :start_reactor:mins 10
 
   472 jump *label278 lessThanEq *tmp178 10
   473 print "WAIT fuel"
   474 print "\n"
-    * jump *label279 always
+  475 jump *label285 always
   476 label *label278
   477 print "WAIT system fuel"
   478 print "\n"
 
   567 control enabled reactor3 false
   568 print "STOP unwanted"
   569 print "\n"
-    * jump *label318 always
+  570 jump *label334 always
   571 label *label293
   572 op mul *tmp128 15 3
   573 jump *label296 greaterThanEq :start_reactor:fuel_stored 45
   574 control enabled reactor3 false
   575 print "STOP system fuel low"
   576 print "\n"
-    * jump *label317 always
+  577 jump *label334 always
   578 label *label296
   579 jump *label297 greaterThan :start_reactor:fuel 1
   580 control enabled reactor3 false
   581 print "STOP fuel low"
   582 print "\n"
-    * jump *label316 always
+  583 jump *label334 always
   584 label *label297
   585 jump *label298 greaterThan :start_reactor:cryo 1
   586 control enabled reactor3 false
   587 print "STOP out of cryo"
   588 print "\n"
-    * jump *label315 always
+  589 jump *label334 always
   590 label *label298
   591 jump *label309 greaterThanEq :start_reactor:secs 30
   592 op sub *tmp94 @tick :t_startup3
 
   610 print "START FAIL battery"
   611 print "\n"
   612 set :start_reactor:supply_fuel false
-    * jump *label308 always
+  613 jump *label334 always
   614 label *label307
   615 op sub :start_reactor:time_left 30 :start_reactor:secs
   616 print "Starting "
 
   621 print "J"
   622 print "\n"
   623 label *label308
-    * jump *label314 always
+  624 jump *label334 always
   625 label *label309
   626 jump *label312 greaterThanEq :start_reactor:charge 2000
   627 jump *label312 greaterThanEq :start_reactor:surplus -500
 
   629 print "ABANDON - battery crit"
   630 print "\n"
   631 set :start_reactor:supply_fuel false
-    * jump *label313 always
+  632 jump *label334 always
   633 label *label312
   634 op idiv :start_reactor:mins :start_reactor:secs 6
   635 op div :start_reactor:mins :start_reactor:mins 10
 
   681 jump *label324 lessThanEq *tmp178 10
   682 print "WAIT fuel"
   683 print "\n"
-    * jump *label325 always
+  684 jump *label331 always
   685 label *label324
   686 print "WAIT system fuel"
   687 print "\n"
 
   766 jump *label46 equal :emerg_shutdown false
   767 print " Enemies detected."
   768 print "\n"
-    * jump *label47 always
+  769 jump *label42 always
   770 label *label46
   771 print " Critical power."
   772 print "\n"
 
   897 control enabled :start_reactor:reactor false
   898 print "STOP unwanted"
   899 print "\n"
-    * jump *label92 always
+  900 jump *label90 always
   901 label *label91
   902 jump *label93 lessThanEq :start_reactor:reactor_num 1
   903 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
 
   905 control enabled :start_reactor:reactor false
   906 print "STOP system fuel low"
   907 print "\n"
-    * jump *label94 always
+  908 jump *label90 always
   909 label *label93
   910 jump *label97 greaterThan :start_reactor:fuel 1
   911 control enabled :start_reactor:reactor false
   912 print "STOP fuel low"
   913 print "\n"
-    * jump *label98 always
+  914 jump *label90 always
   915 label *label97
   916 jump *label99 greaterThan :start_reactor:cryo .CRYO_ABORT
   917 control enabled :start_reactor:reactor false
   918 print "STOP out of cryo"
   919 print "\n"
-    * jump *label100 always
+  920 jump *label90 always
   921 label *label99
   922 jump *label101 greaterThanEq :start_reactor:secs 30
   923 op sub *tmp94 @tick :start_reactor:t_startup
 
   941 print "START FAIL battery"
   942 print "\n"
   943 set :start_reactor*retval false
-    * jump *label105 always
+  944 jump *label90 always
   945 label *label104
   946 op sub :start_reactor:time_left 30 :start_reactor:secs
   947 print "Starting "
 
   952 print "J"
   953 print "\n"
   954 label *label105
-    * jump *label102 always
+  955 jump *label90 always
   956 label *label101
   957 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
   958 jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
 
   960 print "ABANDON - battery crit"
   961 print "\n"
   962 set :start_reactor*retval false
-    * jump *label109 always
+  963 jump *label90 always
   964 label *label108
   965 op idiv :start_reactor:mins :start_reactor:secs 6
   966 op div :start_reactor:mins :start_reactor:mins 10
 
  1012 jump *label120 lessThanEq *tmp178 .FUEL_REQ
  1013 print "WAIT fuel"
  1014 print "\n"
-    * jump *label121 always
+ 1015 jump *label117 always
  1016 label *label120
  1017 print "WAIT system fuel"
  1018 print "\n"

Modifications by Jumps phase, Unreachable Code Elimination, pass 4, iteration 1 (-11 instructions):
 
    49 control enabled reactor5 false
    50 set :check_radar*retval true
    51 jump *label194 always
-    * jump *label193 always
    52 label *label192
    53 control enabled projector1 false
    54 control enabled projector2 false
 
   174 print "STOP unwanted"
   175 print "\n"
   176 jump *label242 always
-    * label *label201
-    * jump *label204 always
-    * op mul *tmp128 15 1
-    * jump *label204 greaterThanEq :start_reactor:fuel_stored 15
-    * control enabled reactor1 false
-    * print "STOP system fuel low"
-    * print "\n"
-    * jump *label242 always
   177 label *label204
   178 jump *label205 greaterThan :start_reactor:fuel 1
   179 control enabled reactor1 false
 
   219 print :calc_charge_req*retval
   220 print "J"
   221 print "\n"
-    * label *label216
   222 jump *label242 always
   223 label *label217
   224 jump *label220 greaterThanEq :start_reactor:charge 2000
 
   236 print " "
   237 print "mins"
   238 print "\n"
-    * label *label221
-    * label *label222
-    * label *label223
-    * label *label224
-    * label *label225
-    * label *label226
   239 jump *label242 always
   240 label *label227
   241 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   277 label *label232
   278 print "WAIT system fuel"
   279 print "\n"
-    * label *label233
   280 jump *label239 always
   281 label *label234
   282 op mul *tmp181 45 1
 
   394 print :calc_charge_req*retval
   395 print "J"
   396 print "\n"
-    * label *label262
   397 jump *label288 always
   398 label *label263
   399 jump *label266 greaterThanEq :start_reactor:charge 2000
 
   411 print " "
   412 print "mins"
   413 print "\n"
-    * label *label267
-    * label *label268
-    * label *label269
-    * label *label270
-    * label *label271
-    * label *label272
   414 jump *label288 always
   415 label *label273
   416 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   452 label *label278
   453 print "WAIT system fuel"
   454 print "\n"
-    * label *label279
   455 jump *label285 always
   456 label *label280
   457 op mul *tmp181 45 2
 
   502 control enabled reactor5 false
   503 set :check_radar*retval true
   504 jump *label198 always
-    * jump *label197 always
   505 label *label196
   506 control enabled projector1 false
   507 control enabled projector2 false
 
   594 print :calc_charge_req*retval
   595 print "J"
   596 print "\n"
-    * label *label308
   597 jump *label334 always
   598 label *label309
   599 jump *label312 greaterThanEq :start_reactor:charge 2000
 
   611 print " "
   612 print "mins"
   613 print "\n"
-    * label *label313
-    * label *label314
-    * label *label315
-    * label *label316
-    * label *label317
-    * label *label318
   614 jump *label334 always
   615 label *label319
   616 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   652 label *label324
   653 print "WAIT system fuel"
   654 print "\n"
-    * label *label325
   655 jump *label331 always
   656 label *label326
   657 op mul *tmp181 45 3
 
   736 label *label46
   737 print " Critical power."
   738 print "\n"
-    * label *label47
   739 jump *label42 always
   740 label *label41
   741 jump *label48 notEqual *tmp222 false
 
   828 label *label73
   829 printflush message1
   830 jump *label7 always
-    * end
   831 label *label3
   832 op sub *tmp104 @tick :start_reactor:t_startup
   833 op idiv :start_reactor:secs *tmp104 60
 
   915 print :calc_charge_req*retval
   916 print "J"
   917 print "\n"
-    * label *label105
   918 jump *label90 always
   919 label *label101
   920 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
 
   932 print " "
   933 print "mins"
   934 print "\n"
-    * label *label109
-    * label *label102
-    * label *label100
-    * label *label98
-    * label *label94
-    * label *label92
   935 jump *label90 always
   936 label *label89
   937 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   973 label *label120
   974 print "WAIT system fuel"
   975 print "\n"
-    * label *label121
   976 jump *label117 always
   977 label *label116
   978 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
 
  1000 sensor *tmp188 :start_reactor:reactor @enabled
  1001 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
  1002 return :start_reactor*retaddr
-    * end

Modifications by Jumps phase, Dead Code Elimination, pass 4, iteration 1:
 
    53 control enabled projector1 false
    54 control enabled projector2 false
    55 set :check_radar*retval false
-    * label *label193
    56 label *label194
    57 jump *label12 equal switch1 null
    58 sensor *tmp10 switch1 @enabled
 
   505 control enabled projector1 false
   506 control enabled projector2 false
   507 set :check_radar*retval false
-    * label *label197
   508 label *label198
   509 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
   510 op sub *tmp104 @tick :t_startup3

Modifications by Final phase, Print Merging, iteration 1 (-131 instructions):
 
    57 jump *label12 equal switch1 null
    58 sensor *tmp10 switch1 @enabled
    59 jump *label12 notEqual *tmp10 false
-    * print "User has disabled emergency switch"
-    * print "\n"
+   60 print "User has disabled emergency switch\n"
    61 set *tmp8 true
    62 jump *label11 always
    63 label *label12
 
   155 op mul *tmp116 :start_reactor:surplus 0.2
   156 op add .AVG_SURPLUS *tmp115 *tmp116
   157 sensor :start_reactor:enabled reactor1 @enabled
-    * print "#"
-    * print 1
-    * print " "
-    * print "- "
+  158 print "#1 - "
   159 jump *label200 equal :emerg_shutdown false
   160 control enabled reactor1 false
-    * print "emergency mode"
-    * print "\n"
+  161 print "emergency mode\n"
   162 set :start_reactor:supply_fuel false
   163 jump *label243 always
   164 label *label200
   165 jump *label227 equal :start_reactor:enabled false
   166 jump *label204 greaterThanEq .REACTORS_DESIRED 1
   167 control enabled reactor1 false
-    * print "STOP unwanted"
-    * print "\n"
+  168 print "STOP unwanted\n"
   169 jump *label242 always
   170 label *label204
   171 jump *label205 greaterThan :start_reactor:fuel 1
   172 control enabled reactor1 false
-    * print "STOP fuel low"
-    * print "\n"
+  173 print "STOP fuel low\n"
   174 jump *label242 always
   175 label *label205
   176 jump *label206 greaterThan :start_reactor:cryo 1
   177 control enabled reactor1 false
-    * print "STOP out of cryo"
-    * print "\n"
+  178 print "STOP out of cryo\n"
   179 jump *label242 always
   180 label *label206
   181 jump *label217 greaterThanEq :start_reactor:secs 30
 
   197 jump *label215 greaterThanEq *tmp143 5000
   198 jump *label215 greaterThanEq :start_reactor:surplus -500
   199 control enabled reactor1 false
-    * print "START FAIL battery"
-    * print "\n"
+  200 print "START FAIL battery\n"
   201 set :start_reactor:supply_fuel false
   202 jump *label242 always
   203 label *label215
   204 op sub :start_reactor:time_left 30 :start_reactor:secs
-    * print "Starting "
-    * print :start_reactor:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req*retval
-    * print "J"
-    * print "\n"
+  205 print "Starting {0} secs, req {0}J\n"
+  206 format :start_reactor:time_left
+  207 format :calc_charge_req*retval
   208 jump *label242 always
   209 label *label217
   210 jump *label220 greaterThanEq :start_reactor:charge 2000
   211 jump *label220 greaterThanEq :start_reactor:surplus -500
   212 control enabled reactor1 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  213 print "ABANDON - battery crit\n"
   214 set :start_reactor:supply_fuel false
   215 jump *label242 always
   216 label *label220
   217 op idiv :start_reactor:mins :start_reactor:secs 6
   218 op div :start_reactor:mins :start_reactor:mins 10
-    * print "RUN "
-    * print :start_reactor:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  219 print "RUN {0} mins\n"
+  220 format :start_reactor:mins
   221 jump *label242 always
   222 label *label227
   223 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   229 op mul *tmp163 2 1
   230 op add :start_reactor:cryo_req 3 2
   231 jump *label228 greaterThanEq .REACTORS_DESIRED 1
-    * print "IDLE"
-    * print "\n"
+  232 print "IDLE\n"
   233 set :start_reactor:supply_fuel false
   234 jump *label241 always
   235 label *label228
 
   239 op div :start_reactor:flow *tmp171 10
   240 op idiv *tmp174 :start_reactor:charge_units 0.001
   241 op div :start_reactor:charge *tmp174 10
-    * print "WAIT power. (%"
-    * print :start_reactor:charge
-    * print "J + %"
-    * print :start_reactor:flow
-    * print "W)"
-    * print "\n"
+  242 print "WAIT power. (%{0}J + %{0}W)\n"
+  243 format :start_reactor:charge
+  244 format :start_reactor:flow
   245 set :start_reactor:supply_fuel false
   246 jump *label240 always
   247 label *label229
 
   249 jump *label234 greaterThanEq :start_reactor:fuel 10
   250 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   251 jump *label232 lessThanEq *tmp178 10
-    * print "WAIT fuel"
-    * print "\n"
+  252 print "WAIT fuel\n"
   253 jump *label239 always
   254 label *label232
-    * print "WAIT system fuel"
-    * print "\n"
+  255 print "WAIT system fuel\n"
   256 jump *label239 always
   257 label *label234
   258 op mul *tmp181 45 1
   259 jump *label235 greaterThanEq :start_reactor:fuel_stored 45
-    * print "WAIT buffer fuel"
-    * print "\n"
+  260 print "WAIT buffer fuel\n"
   261 jump *label238 always
   262 label *label235
   263 jump *label236 greaterThanEq :start_reactor:cryo 5
-    * print "WAIT cryo"
-    * print "\n"
+  264 print "WAIT cryo\n"
   265 jump *label237 always
   266 label *label236
-    * print "STARTUP"
-    * print "\n"
+  267 print "STARTUP\n"
   268 op add .START_POWER_REQ .START_POWER_REQ 23000
   269 control enabled reactor1 true
   270 label *label237
 
   298 op mul *tmp116 :start_reactor:surplus 0.2
   299 op add .AVG_SURPLUS *tmp115 *tmp116
   300 sensor :start_reactor:enabled reactor2 @enabled
-    * print "#"
-    * print 2
-    * print " "
-    * print "- "
+  301 print "#2 - "
   302 jump *label246 equal :emerg_shutdown false
   303 control enabled reactor2 false
-    * print "emergency mode"
-    * print "\n"
+  304 print "emergency mode\n"
   305 set :start_reactor:supply_fuel false
   306 jump *label289 always
   307 label *label246
   308 jump *label273 equal :start_reactor:enabled false
   309 jump *label247 greaterThanEq .REACTORS_DESIRED 2
   310 control enabled reactor2 false
-    * print "STOP unwanted"
-    * print "\n"
+  311 print "STOP unwanted\n"
   312 jump *label288 always
   313 label *label247
   314 op mul *tmp128 15 2
   315 jump *label250 greaterThanEq :start_reactor:fuel_stored 30
   316 control enabled reactor2 false
-    * print "STOP system fuel low"
-    * print "\n"
+  317 print "STOP system fuel low\n"
   318 jump *label288 always
   319 label *label250
   320 jump *label251 greaterThan :start_reactor:fuel 1
   321 control enabled reactor2 false
-    * print "STOP fuel low"
-    * print "\n"
+  322 print "STOP fuel low\n"
   323 jump *label288 always
   324 label *label251
   325 jump *label252 greaterThan :start_reactor:cryo 1
   326 control enabled reactor2 false
-    * print "STOP out of cryo"
-    * print "\n"
+  327 print "STOP out of cryo\n"
   328 jump *label288 always
   329 label *label252
   330 jump *label263 greaterThanEq :start_reactor:secs 30
 
   346 jump *label261 greaterThanEq *tmp143 5000
   347 jump *label261 greaterThanEq :start_reactor:surplus -500
   348 control enabled reactor2 false
-    * print "START FAIL battery"
-    * print "\n"
+  349 print "START FAIL battery\n"
   350 set :start_reactor:supply_fuel false
   351 jump *label288 always
   352 label *label261
   353 op sub :start_reactor:time_left 30 :start_reactor:secs
-    * print "Starting "
-    * print :start_reactor:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req*retval
-    * print "J"
-    * print "\n"
+  354 print "Starting {0} secs, req {0}J\n"
+  355 format :start_reactor:time_left
+  356 format :calc_charge_req*retval
   357 jump *label288 always
   358 label *label263
   359 jump *label266 greaterThanEq :start_reactor:charge 2000
   360 jump *label266 greaterThanEq :start_reactor:surplus -500
   361 control enabled reactor2 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  362 print "ABANDON - battery crit\n"
   363 set :start_reactor:supply_fuel false
   364 jump *label288 always
   365 label *label266
   366 op idiv :start_reactor:mins :start_reactor:secs 6
   367 op div :start_reactor:mins :start_reactor:mins 10
-    * print "RUN "
-    * print :start_reactor:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  368 print "RUN {0} mins\n"
+  369 format :start_reactor:mins
   370 jump *label288 always
   371 label *label273
   372 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   378 op mul *tmp163 2 2
   379 op add :start_reactor:cryo_req 3 4
   380 jump *label274 greaterThanEq .REACTORS_DESIRED 2
-    * print "IDLE"
-    * print "\n"
+  381 print "IDLE\n"
   382 set :start_reactor:supply_fuel false
   383 jump *label287 always
   384 label *label274
 
   388 op div :start_reactor:flow *tmp171 10
   389 op idiv *tmp174 :start_reactor:charge_units 0.001
   390 op div :start_reactor:charge *tmp174 10
-    * print "WAIT power. (%"
-    * print :start_reactor:charge
-    * print "J + %"
-    * print :start_reactor:flow
-    * print "W)"
-    * print "\n"
+  391 print "WAIT power. (%{0}J + %{0}W)\n"
+  392 format :start_reactor:charge
+  393 format :start_reactor:flow
   394 set :start_reactor:supply_fuel false
   395 jump *label286 always
   396 label *label275
 
   398 jump *label280 greaterThanEq :start_reactor:fuel 10
   399 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   400 jump *label278 lessThanEq *tmp178 10
-    * print "WAIT fuel"
-    * print "\n"
+  401 print "WAIT fuel\n"
   402 jump *label285 always
   403 label *label278
-    * print "WAIT system fuel"
-    * print "\n"
+  404 print "WAIT system fuel\n"
   405 jump *label285 always
   406 label *label280
   407 op mul *tmp181 45 2
   408 jump *label281 greaterThanEq :start_reactor:fuel_stored 90
-    * print "WAIT buffer fuel"
-    * print "\n"
+  409 print "WAIT buffer fuel\n"
   410 jump *label284 always
   411 label *label281
   412 jump *label282 greaterThanEq :start_reactor:cryo 7
-    * print "WAIT cryo"
-    * print "\n"
+  413 print "WAIT cryo\n"
   414 jump *label283 always
   415 label *label282
-    * print "STARTUP"
-    * print "\n"
+  416 print "STARTUP\n"
   417 op add .START_POWER_REQ .START_POWER_REQ 23000
   418 control enabled reactor2 true
   419 label *label283
 
   471 op mul *tmp116 :start_reactor:surplus 0.2
   472 op add .AVG_SURPLUS *tmp115 *tmp116
   473 sensor :start_reactor:enabled reactor3 @enabled
-    * print "#"
-    * print 3
-    * print " "
-    * print "- "
+  474 print "#3 - "
   475 jump *label292 equal :emerg_shutdown false
   476 control enabled reactor3 false
-    * print "emergency mode"
-    * print "\n"
+  477 print "emergency mode\n"
   478 set :start_reactor:supply_fuel false
   479 jump *label335 always
   480 label *label292
   481 jump *label319 equal :start_reactor:enabled false
   482 jump *label293 greaterThanEq .REACTORS_DESIRED 3
   483 control enabled reactor3 false
-    * print "STOP unwanted"
-    * print "\n"
+  484 print "STOP unwanted\n"
   485 jump *label334 always
   486 label *label293
   487 op mul *tmp128 15 3
   488 jump *label296 greaterThanEq :start_reactor:fuel_stored 45
   489 control enabled reactor3 false
-    * print "STOP system fuel low"
-    * print "\n"
+  490 print "STOP system fuel low\n"
   491 jump *label334 always
   492 label *label296
   493 jump *label297 greaterThan :start_reactor:fuel 1
   494 control enabled reactor3 false
-    * print "STOP fuel low"
-    * print "\n"
+  495 print "STOP fuel low\n"
   496 jump *label334 always
   497 label *label297
   498 jump *label298 greaterThan :start_reactor:cryo 1
   499 control enabled reactor3 false
-    * print "STOP out of cryo"
-    * print "\n"
+  500 print "STOP out of cryo\n"
   501 jump *label334 always
   502 label *label298
   503 jump *label309 greaterThanEq :start_reactor:secs 30
 
   519 jump *label307 greaterThanEq *tmp143 5000
   520 jump *label307 greaterThanEq :start_reactor:surplus -500
   521 control enabled reactor3 false
-    * print "START FAIL battery"
-    * print "\n"
+  522 print "START FAIL battery\n"
   523 set :start_reactor:supply_fuel false
   524 jump *label334 always
   525 label *label307
   526 op sub :start_reactor:time_left 30 :start_reactor:secs
-    * print "Starting "
-    * print :start_reactor:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req*retval
-    * print "J"
-    * print "\n"
+  527 print "Starting {0} secs, req {0}J\n"
+  528 format :start_reactor:time_left
+  529 format :calc_charge_req*retval
   530 jump *label334 always
   531 label *label309
   532 jump *label312 greaterThanEq :start_reactor:charge 2000
   533 jump *label312 greaterThanEq :start_reactor:surplus -500
   534 control enabled reactor3 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  535 print "ABANDON - battery crit\n"
   536 set :start_reactor:supply_fuel false
   537 jump *label334 always
   538 label *label312
   539 op idiv :start_reactor:mins :start_reactor:secs 6
   540 op div :start_reactor:mins :start_reactor:mins 10
-    * print "RUN "
-    * print :start_reactor:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  541 print "RUN {0} mins\n"
+  542 format :start_reactor:mins
   543 jump *label334 always
   544 label *label319
   545 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   551 op mul *tmp163 2 3
   552 op add :start_reactor:cryo_req 3 6
   553 jump *label320 greaterThanEq .REACTORS_DESIRED 3
-    * print "IDLE"
-    * print "\n"
+  554 print "IDLE\n"
   555 set :start_reactor:supply_fuel false
   556 jump *label333 always
   557 label *label320
 
   561 op div :start_reactor:flow *tmp171 10
   562 op idiv *tmp174 :start_reactor:charge_units 0.001
   563 op div :start_reactor:charge *tmp174 10
-    * print "WAIT power. (%"
-    * print :start_reactor:charge
-    * print "J + %"
-    * print :start_reactor:flow
-    * print "W)"
-    * print "\n"
+  564 print "WAIT power. (%{0}J + %{0}W)\n"
+  565 format :start_reactor:charge
+  566 format :start_reactor:flow
   567 set :start_reactor:supply_fuel false
   568 jump *label332 always
   569 label *label321
 
   571 jump *label326 greaterThanEq :start_reactor:fuel 10
   572 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   573 jump *label324 lessThanEq *tmp178 10
-    * print "WAIT fuel"
-    * print "\n"
+  574 print "WAIT fuel\n"
   575 jump *label331 always
   576 label *label324
-    * print "WAIT system fuel"
-    * print "\n"
+  577 print "WAIT system fuel\n"
   578 jump *label331 always
   579 label *label326
   580 op mul *tmp181 45 3
   581 jump *label327 greaterThanEq :start_reactor:fuel_stored 135
-    * print "WAIT buffer fuel"
-    * print "\n"
+  582 print "WAIT buffer fuel\n"
   583 jump *label330 always
   584 label *label327
   585 jump *label328 greaterThanEq :start_reactor:cryo 9
-    * print "WAIT cryo"
-    * print "\n"
+  586 print "WAIT cryo\n"
   587 jump *label329 always
   588 label *label328
-    * print "STARTUP"
-    * print "\n"
+  589 print "STARTUP\n"
   590 op add .START_POWER_REQ .START_POWER_REQ 23000
   591 control enabled reactor3 true
   592 label *label329
 
   642 jump *label41 equal :emerg_shutdown false
   643 label *label43
   644 set :throttle_blast:limit 0
-    * print "Central Fuel at "
-    * print :throttle_blast:fuel_stored
-    * print " "
-    * print "/ "
-    * print 0
-    * print " "
-    * print "- "
+  645 print "Central Fuel at {0} / 0 - "
+  646 format :throttle_blast:fuel_stored
   647 jump *label46 equal :emerg_shutdown false
-    * print " Enemies detected."
-    * print "\n"
+  648 print " Enemies detected.\n"
   649 jump *label42 always
   650 label *label46
-    * print " Critical power."
-    * print "\n"
+  651 print " Critical power.\n"
   652 jump *label42 always
   653 label *label41
   654 jump *label48 notEqual *tmp222 false
   655 set :throttle_blast:limit 150
-    * print "Fuel "
-    * print :throttle_blast:fuel_stored
-    * print " "
-    * print "/ "
-    * print 150
-    * print " "
-    * print "(due to emergency)"
-    * print "\n"
+  656 print "Fuel {0} / 150 (due to emergency)\n"
+  657 format :throttle_blast:fuel_stored
   658 jump *label49 always
   659 label *label48
   660 set :throttle_blast:limit 800
-    * print "Fuel "
-    * print :throttle_blast:fuel_stored
-    * print " "
-    * print "/ "
-    * print 800
-    * print "\"
-    * print "n"
+  661 print "Fuel {0} / 800\n"
+  662 format :throttle_blast:fuel_stored
   663 label *label49
   664 label *label42
   665 select *tmp46 lessThan :throttle_blast:fuel_stored :throttle_blast:limit @pyratite @scrap
 
   669 op div :diff_generators:stored_pc *tmp48 *tmp49
   670 jump *label53 lessThanEq :diff_generators:stored_pc 0.9
   671 jump *label53 greaterThanEq .START_POWER_REQ 10
-    * print "Differential now idle."
-    * print "\n"
+  672 print "Differential now idle.\n"
   673 control enabled generator1 false
   674 control enabled generator2 false
   675 jump *label54 always
 
   686 jump *label59 lessThanEq .START_POWER_REQ 0
   687 op idiv *tmp85 .START_POWER_REQ 100
   688 op div :kilo*retval *tmp85 10
-    * print "Req "
-    * print :kilo*retval
-    * print "kJ / "
-    * print :charge
-    * print "kJ. "
-    * print :surplus
-    * print "kW flow."
-    * print "\n"
+  689 print "Req {0}kJ / {0}kJ. {0}kW flow.\n"
+  690 format :kilo*retval
+  691 format :charge
+  692 format :surplus
   693 jump *label60 always
   694 label *label59
-    * print "Power "
-    * print :surplus
-    * print "kW, "
-    * print :kilo*retval
-    * print "kJ"
-    * print "\n"
+  695 print "Power {0}kW, {0}kJ\n"
+  696 format :surplus
+  697 format :kilo*retval
   698 sensor *tmp65 node1 @powerNetStored
   699 sensor *tmp66 node1 @powerNetCapacity
   700 op div :update_reactors_desired:stored *tmp65 *tmp66
 
   715 label *label69
   716 label *label60
   717 jump *label73 equal .REACTORS_DESIRED 5
-    * print "Require only "
-    * print .REACTORS_DESIRED
-    * print "/5 reactors."
-    * print "\n"
+  718 print "Require only {0}/5 reactors.\n"
+  719 format .REACTORS_DESIRED
   720 label *label73
   721 printflush message1
   722 jump *label7 always
 
   737 op mul *tmp116 :start_reactor:surplus 0.2
   738 op add .AVG_SURPLUS *tmp115 *tmp116
   739 sensor :start_reactor:enabled :start_reactor:reactor @enabled
-    * print "#"
-    * print :start_reactor:reactor_num
-    * print " "
-    * print "- "
+  740 print "#{0} - "
+  741 format :start_reactor:reactor_num
   742 jump *label87 equal :start_reactor:emerg_shutdown false
   743 control enabled :start_reactor:reactor false
-    * print "emergency mode"
-    * print "\n"
+  744 print "emergency mode\n"
   745 set :start_reactor*retval false
   746 jump *label88 always
   747 label *label87
   748 jump *label89 equal :start_reactor:enabled false
   749 jump *label91 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
   750 control enabled :start_reactor:reactor false
-    * print "STOP unwanted"
-    * print "\n"
+  751 print "STOP unwanted\n"
   752 jump *label90 always
   753 label *label91
   754 jump *label93 lessThanEq :start_reactor:reactor_num 1
   755 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
   756 jump *label93 greaterThanEq :start_reactor:fuel_stored *tmp128
   757 control enabled :start_reactor:reactor false
-    * print "STOP system fuel low"
-    * print "\n"
+  758 print "STOP system fuel low\n"
   759 jump *label90 always
   760 label *label93
   761 jump *label97 greaterThan :start_reactor:fuel 1
   762 control enabled :start_reactor:reactor false
-    * print "STOP fuel low"
-    * print "\n"
+  763 print "STOP fuel low\n"
   764 jump *label90 always
   765 label *label97
   766 jump *label99 greaterThan :start_reactor:cryo .CRYO_ABORT
   767 control enabled :start_reactor:reactor false
-    * print "STOP out of cryo"
-    * print "\n"
+  768 print "STOP out of cryo\n"
   769 jump *label90 always
   770 label *label99
   771 jump *label101 greaterThanEq :start_reactor:secs 30
 
   787 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   788 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
   789 control enabled :start_reactor:reactor false
-    * print "START FAIL battery"
-    * print "\n"
+  790 print "START FAIL battery\n"
   791 set :start_reactor*retval false
   792 jump *label90 always
   793 label *label104
   794 op sub :start_reactor:time_left 30 :start_reactor:secs
-    * print "Starting "
-    * print :start_reactor:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req*retval
-    * print "J"
-    * print "\n"
+  795 print "Starting {0} secs, req {0}J\n"
+  796 format :start_reactor:time_left
+  797 format :calc_charge_req*retval
   798 jump *label90 always
   799 label *label101
   800 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
   801 jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
   802 control enabled :start_reactor:reactor false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  803 print "ABANDON - battery crit\n"
   804 set :start_reactor*retval false
   805 jump *label90 always
   806 label *label108
   807 op idiv :start_reactor:mins :start_reactor:secs 6
   808 op div :start_reactor:mins :start_reactor:mins 10
-    * print "RUN "
-    * print :start_reactor:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  809 print "RUN {0} mins\n"
+  810 format :start_reactor:mins
   811 jump *label90 always
   812 label *label89
   813 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   819 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
   820 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
   821 jump *label112 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
-    * print "IDLE"
-    * print "\n"
+  822 print "IDLE\n"
   823 set :start_reactor*retval false
   824 jump *label113 always
   825 label *label112
 
   829 op div :start_reactor:flow *tmp171 10
   830 op idiv *tmp174 :start_reactor:charge_units 0.001
   831 op div :start_reactor:charge *tmp174 10
-    * print "WAIT power. (%"
-    * print :start_reactor:charge
-    * print "J + %"
-    * print :start_reactor:flow
-    * print "W)"
-    * print "\n"
+  832 print "WAIT power. (%{0}J + %{0}W)\n"
+  833 format :start_reactor:charge
+  834 format :start_reactor:flow
   835 set :start_reactor*retval false
   836 jump *label115 always
   837 label *label114
 
   839 jump *label116 greaterThanEq :start_reactor:fuel .FUEL_REQ
   840 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   841 jump *label120 lessThanEq *tmp178 .FUEL_REQ
-    * print "WAIT fuel"
-    * print "\n"
+  842 print "WAIT fuel\n"
   843 jump *label117 always
   844 label *label120
-    * print "WAIT system fuel"
-    * print "\n"
+  845 print "WAIT system fuel\n"
   846 jump *label117 always
   847 label *label116
   848 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
   849 jump *label122 greaterThanEq :start_reactor:fuel_stored *tmp181
-    * print "WAIT buffer fuel"
-    * print "\n"
+  850 print "WAIT buffer fuel\n"
   851 jump *label123 always
   852 label *label122
   853 jump *label124 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
-    * print "WAIT cryo"
-    * print "\n"
+  854 print "WAIT cryo\n"
   855 jump *label125 always
   856 label *label124
-    * print "STARTUP"
-    * print "\n"
+  857 print "STARTUP\n"
   858 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
   859 control enabled :start_reactor:reactor true
   860 label *label125

Final code before resolving virtual instructions:

printflush message1
set .PWR_REQ 23000
set .FLOW_REQ 2000
set .PWR_ABANDON 2000
set .PWR_ABORT 5000
set .PWR_RESERVE 0.6
set .FLOW_ABORT -500
set .FUEL_REQ 10
set .FUEL_TOT_REQ 45
set .FUEL_TOT_ABORT 15
set .CRYO_REQ 3
set .CRYO_REQ_EA 2
set .CRYO_ABORT 1
set :fuel_1 false
set :fuel_2 false
set :fuel_3 false
set :fuel_4 false
set :fuel_5 false
sensor *tmp0 node1 @powerNetIn
sensor *tmp1 node1 @powerNetOut
op sub *tmp2 *tmp0 *tmp1
op floor :surplus *tmp2
op sub *tmp218 @tick 3600
select *tmp5 greaterThan :surplus 10000 *tmp218 @tick
set :t_startup1 *tmp5
set :t_startup2 *tmp5
set :t_startup3 *tmp5
set :t_startup4 *tmp5
set :t_startup5 *tmp5
set .REACTORS_DESIRED 5
set .AVG_SURPLUS 500
label *label7
set .CONTAINER vault1
set .NODE node1
radar enemy any any health cyclone1 1 :check_radar:enemy_found
jump *label192 equal :check_radar:enemy_found null
control enabled projector1 true
control enabled projector2 true
control config unloader1 @scrap
control config unloader2 @blast-compound
control config unloader3 @scrap
control config unloader4 @blast-compound
control config unloader5 @scrap
control config unloader6 @blast-compound
control config unloader7 @scrap
control enabled reactor1 false
control enabled reactor2 false
control enabled reactor3 false
control enabled reactor4 false
control enabled reactor5 false
set :check_radar*retval true
jump *label194 always
label *label192
control enabled projector1 false
control enabled projector2 false
set :check_radar*retval false
label *label194
jump *label12 equal switch1 null
sensor *tmp10 switch1 @enabled
jump *label12 notEqual *tmp10 false
print "User has disabled emergency switch\n"
set *tmp8 true
jump *label11 always
label *label12
set *tmp8 false
label *label11
op or :emerg_shutdown :check_radar*retval *tmp8
op sub *tmp94 @tick :t_startup1
op idiv :calc_charge_req:secs *tmp94 60
jump *label157 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor1 @enabled
jump *label158 notEqual *tmp97 false
label *label157
set :calc_charge_req*retval 0
jump *label160 always
label *label158
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label160
set .START_POWER_REQ :calc_charge_req*retval
op sub *tmp94 @tick :t_startup2
op idiv :calc_charge_req:secs *tmp94 60
jump *label163 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor2 @enabled
jump *label164 notEqual *tmp97 false
label *label163
set :calc_charge_req*retval 0
jump *label166 always
label *label164
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label166
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
op sub *tmp94 @tick :t_startup3
op idiv :calc_charge_req:secs *tmp94 60
jump *label169 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor3 @enabled
jump *label170 notEqual *tmp97 false
label *label169
set :calc_charge_req*retval 0
jump *label172 always
label *label170
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label172
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
op sub *tmp94 @tick :t_startup4
op idiv :calc_charge_req:secs *tmp94 60
jump *label175 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor4 @enabled
jump *label176 notEqual *tmp97 false
label *label175
set :calc_charge_req*retval 0
jump *label178 always
label *label176
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label178
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
op sub *tmp94 @tick :t_startup5
op idiv :calc_charge_req:secs *tmp94 60
jump *label181 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor5 @enabled
jump *label182 notEqual *tmp97 false
label *label181
set :calc_charge_req*retval 0
jump *label184 always
label *label182
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label184
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
op sub *tmp104 @tick :t_startup1
op idiv :start_reactor:secs *tmp104 60
sensor :start_reactor:fuel reactor1 @blast-compound
set :start_reactor:supply_fuel true
sensor :start_reactor:fuel_stored vault1 @blast-compound
sensor :start_reactor:cryo reactor1 @cryofluid
sensor *tmp109 node1 @powerNetStored
op floor :start_reactor:charge *tmp109
sensor *tmp111 node1 @powerNetIn
sensor *tmp112 node1 @powerNetOut
op sub *tmp113 *tmp111 *tmp112
op floor :start_reactor:surplus *tmp113
op mul *tmp115 .AVG_SURPLUS 0.8
op mul *tmp116 :start_reactor:surplus 0.2
op add .AVG_SURPLUS *tmp115 *tmp116
sensor :start_reactor:enabled reactor1 @enabled
print "#1 - "
jump *label200 equal :emerg_shutdown false
control enabled reactor1 false
print "emergency mode\n"
set :start_reactor:supply_fuel false
jump *label243 always
label *label200
jump *label227 equal :start_reactor:enabled false
jump *label204 greaterThanEq .REACTORS_DESIRED 1
control enabled reactor1 false
print "STOP unwanted\n"
jump *label242 always
label *label204
jump *label205 greaterThan :start_reactor:fuel 1
control enabled reactor1 false
print "STOP fuel low\n"
jump *label242 always
label *label205
jump *label206 greaterThan :start_reactor:cryo 1
control enabled reactor1 false
print "STOP out of cryo\n"
jump *label242 always
label *label206
jump *label217 greaterThanEq :start_reactor:secs 30
op sub *tmp94 @tick :t_startup1
op idiv :calc_charge_req:secs *tmp94 60
jump *label209 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor1 @enabled
jump *label210 notEqual *tmp97 false
label *label209
set :calc_charge_req*retval 0
jump *label212 always
label *label210
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label212
op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
jump *label215 greaterThanEq *tmp143 5000
jump *label215 greaterThanEq :start_reactor:surplus -500
control enabled reactor1 false
print "START FAIL battery\n"
set :start_reactor:supply_fuel false
jump *label242 always
label *label215
op sub :start_reactor:time_left 30 :start_reactor:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor:time_left
format :calc_charge_req*retval
jump *label242 always
label *label217
jump *label220 greaterThanEq :start_reactor:charge 2000
jump *label220 greaterThanEq :start_reactor:surplus -500
control enabled reactor1 false
print "ABANDON - battery crit\n"
set :start_reactor:supply_fuel false
jump *label242 always
label *label220
op idiv :start_reactor:mins :start_reactor:secs 6
op div :start_reactor:mins :start_reactor:mins 10
print "RUN {0} mins\n"
format :start_reactor:mins
jump *label242 always
label *label227
op sub *tmp157 :start_reactor:charge .START_POWER_REQ
op sub *tmp158 *tmp157 5000
op div *tmp159 *tmp158 23000
op div :start_reactor:charge_units *tmp158 38333.333333333336
op div *tmp161 :start_reactor:surplus 2000
op max :start_reactor:flow_units -0.1 *tmp161
op mul *tmp163 2 1
op add :start_reactor:cryo_req 3 2
jump *label228 greaterThanEq .REACTORS_DESIRED 1
print "IDLE\n"
set :start_reactor:supply_fuel false
jump *label241 always
label *label228
op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
jump *label229 greaterThanEq *tmp167 1
op idiv *tmp171 :start_reactor:flow_units 0.001
op div :start_reactor:flow *tmp171 10
op idiv *tmp174 :start_reactor:charge_units 0.001
op div :start_reactor:charge *tmp174 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor:charge
format :start_reactor:flow
set :start_reactor:supply_fuel false
jump *label240 always
label *label229
jump *label234 equal :fuel_1 false
jump *label234 greaterThanEq :start_reactor:fuel 10
op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
jump *label232 lessThanEq *tmp178 10
print "WAIT fuel\n"
jump *label239 always
label *label232
print "WAIT system fuel\n"
jump *label239 always
label *label234
op mul *tmp181 45 1
jump *label235 greaterThanEq :start_reactor:fuel_stored 45
print "WAIT buffer fuel\n"
jump *label238 always
label *label235
jump *label236 greaterThanEq :start_reactor:cryo 5
print "WAIT cryo\n"
jump *label237 always
label *label236
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor1 true
label *label237
label *label238
label *label239
label *label240
label *label241
label *label242
label *label243
sensor *tmp188 reactor1 @enabled
select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup1
set :fuel_1 :start_reactor:supply_fuel
set :t_startup1 .RET_T_STARTUP
select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
control config unloader1 *tmp89
select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
control config unloader2 *tmp93
op sub *tmp104 @tick :t_startup2
op idiv :start_reactor:secs *tmp104 60
sensor :start_reactor:fuel reactor2 @blast-compound
set :start_reactor:supply_fuel true
sensor :start_reactor:fuel_stored vault1 @blast-compound
sensor :start_reactor:cryo reactor2 @cryofluid
sensor *tmp109 node1 @powerNetStored
op floor :start_reactor:charge *tmp109
sensor *tmp111 node1 @powerNetIn
sensor *tmp112 node1 @powerNetOut
op sub *tmp113 *tmp111 *tmp112
op floor :start_reactor:surplus *tmp113
op mul *tmp115 .AVG_SURPLUS 0.8
op mul *tmp116 :start_reactor:surplus 0.2
op add .AVG_SURPLUS *tmp115 *tmp116
sensor :start_reactor:enabled reactor2 @enabled
print "#2 - "
jump *label246 equal :emerg_shutdown false
control enabled reactor2 false
print "emergency mode\n"
set :start_reactor:supply_fuel false
jump *label289 always
label *label246
jump *label273 equal :start_reactor:enabled false
jump *label247 greaterThanEq .REACTORS_DESIRED 2
control enabled reactor2 false
print "STOP unwanted\n"
jump *label288 always
label *label247
op mul *tmp128 15 2
jump *label250 greaterThanEq :start_reactor:fuel_stored 30
control enabled reactor2 false
print "STOP system fuel low\n"
jump *label288 always
label *label250
jump *label251 greaterThan :start_reactor:fuel 1
control enabled reactor2 false
print "STOP fuel low\n"
jump *label288 always
label *label251
jump *label252 greaterThan :start_reactor:cryo 1
control enabled reactor2 false
print "STOP out of cryo\n"
jump *label288 always
label *label252
jump *label263 greaterThanEq :start_reactor:secs 30
op sub *tmp94 @tick :t_startup2
op idiv :calc_charge_req:secs *tmp94 60
jump *label255 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor2 @enabled
jump *label256 notEqual *tmp97 false
label *label255
set :calc_charge_req*retval 0
jump *label258 always
label *label256
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label258
op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
jump *label261 greaterThanEq *tmp143 5000
jump *label261 greaterThanEq :start_reactor:surplus -500
control enabled reactor2 false
print "START FAIL battery\n"
set :start_reactor:supply_fuel false
jump *label288 always
label *label261
op sub :start_reactor:time_left 30 :start_reactor:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor:time_left
format :calc_charge_req*retval
jump *label288 always
label *label263
jump *label266 greaterThanEq :start_reactor:charge 2000
jump *label266 greaterThanEq :start_reactor:surplus -500
control enabled reactor2 false
print "ABANDON - battery crit\n"
set :start_reactor:supply_fuel false
jump *label288 always
label *label266
op idiv :start_reactor:mins :start_reactor:secs 6
op div :start_reactor:mins :start_reactor:mins 10
print "RUN {0} mins\n"
format :start_reactor:mins
jump *label288 always
label *label273
op sub *tmp157 :start_reactor:charge .START_POWER_REQ
op sub *tmp158 *tmp157 5000
op div *tmp159 *tmp158 23000
op div :start_reactor:charge_units *tmp158 38333.333333333336
op div *tmp161 :start_reactor:surplus 2000
op max :start_reactor:flow_units -0.1 *tmp161
op mul *tmp163 2 2
op add :start_reactor:cryo_req 3 4
jump *label274 greaterThanEq .REACTORS_DESIRED 2
print "IDLE\n"
set :start_reactor:supply_fuel false
jump *label287 always
label *label274
op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
jump *label275 greaterThanEq *tmp167 1
op idiv *tmp171 :start_reactor:flow_units 0.001
op div :start_reactor:flow *tmp171 10
op idiv *tmp174 :start_reactor:charge_units 0.001
op div :start_reactor:charge *tmp174 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor:charge
format :start_reactor:flow
set :start_reactor:supply_fuel false
jump *label286 always
label *label275
jump *label280 equal :fuel_2 false
jump *label280 greaterThanEq :start_reactor:fuel 10
op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
jump *label278 lessThanEq *tmp178 10
print "WAIT fuel\n"
jump *label285 always
label *label278
print "WAIT system fuel\n"
jump *label285 always
label *label280
op mul *tmp181 45 2
jump *label281 greaterThanEq :start_reactor:fuel_stored 90
print "WAIT buffer fuel\n"
jump *label284 always
label *label281
jump *label282 greaterThanEq :start_reactor:cryo 7
print "WAIT cryo\n"
jump *label283 always
label *label282
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor2 true
label *label283
label *label284
label *label285
label *label286
label *label287
label *label288
label *label289
sensor *tmp188 reactor2 @enabled
select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup2
set :fuel_2 :start_reactor:supply_fuel
set :t_startup2 .RET_T_STARTUP
select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
control config unloader3 *tmp89
select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
control config unloader4 *tmp93
radar enemy any any health cyclone1 1 :check_radar:enemy_found
jump *label196 equal :check_radar:enemy_found null
control enabled projector1 true
control enabled projector2 true
control config unloader1 @scrap
control config unloader2 @blast-compound
control config unloader3 @scrap
control config unloader4 @blast-compound
control config unloader5 @scrap
control config unloader6 @blast-compound
control config unloader7 @scrap
control enabled reactor1 false
control enabled reactor2 false
control enabled reactor3 false
control enabled reactor4 false
control enabled reactor5 false
set :check_radar*retval true
jump *label198 always
label *label196
control enabled projector1 false
control enabled projector2 false
set :check_radar*retval false
label *label198
op or :emerg_shutdown :emerg_shutdown :check_radar*retval
op sub *tmp104 @tick :t_startup3
op idiv :start_reactor:secs *tmp104 60
sensor :start_reactor:fuel reactor3 @blast-compound
set :start_reactor:supply_fuel true
sensor :start_reactor:fuel_stored vault1 @blast-compound
sensor :start_reactor:cryo reactor3 @cryofluid
sensor *tmp109 node1 @powerNetStored
op floor :start_reactor:charge *tmp109
sensor *tmp111 node1 @powerNetIn
sensor *tmp112 node1 @powerNetOut
op sub *tmp113 *tmp111 *tmp112
op floor :start_reactor:surplus *tmp113
op mul *tmp115 .AVG_SURPLUS 0.8
op mul *tmp116 :start_reactor:surplus 0.2
op add .AVG_SURPLUS *tmp115 *tmp116
sensor :start_reactor:enabled reactor3 @enabled
print "#3 - "
jump *label292 equal :emerg_shutdown false
control enabled reactor3 false
print "emergency mode\n"
set :start_reactor:supply_fuel false
jump *label335 always
label *label292
jump *label319 equal :start_reactor:enabled false
jump *label293 greaterThanEq .REACTORS_DESIRED 3
control enabled reactor3 false
print "STOP unwanted\n"
jump *label334 always
label *label293
op mul *tmp128 15 3
jump *label296 greaterThanEq :start_reactor:fuel_stored 45
control enabled reactor3 false
print "STOP system fuel low\n"
jump *label334 always
label *label296
jump *label297 greaterThan :start_reactor:fuel 1
control enabled reactor3 false
print "STOP fuel low\n"
jump *label334 always
label *label297
jump *label298 greaterThan :start_reactor:cryo 1
control enabled reactor3 false
print "STOP out of cryo\n"
jump *label334 always
label *label298
jump *label309 greaterThanEq :start_reactor:secs 30
op sub *tmp94 @tick :t_startup3
op idiv :calc_charge_req:secs *tmp94 60
jump *label301 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor3 @enabled
jump *label302 notEqual *tmp97 false
label *label301
set :calc_charge_req*retval 0
jump *label304 always
label *label302
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label304
op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
jump *label307 greaterThanEq *tmp143 5000
jump *label307 greaterThanEq :start_reactor:surplus -500
control enabled reactor3 false
print "START FAIL battery\n"
set :start_reactor:supply_fuel false
jump *label334 always
label *label307
op sub :start_reactor:time_left 30 :start_reactor:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor:time_left
format :calc_charge_req*retval
jump *label334 always
label *label309
jump *label312 greaterThanEq :start_reactor:charge 2000
jump *label312 greaterThanEq :start_reactor:surplus -500
control enabled reactor3 false
print "ABANDON - battery crit\n"
set :start_reactor:supply_fuel false
jump *label334 always
label *label312
op idiv :start_reactor:mins :start_reactor:secs 6
op div :start_reactor:mins :start_reactor:mins 10
print "RUN {0} mins\n"
format :start_reactor:mins
jump *label334 always
label *label319
op sub *tmp157 :start_reactor:charge .START_POWER_REQ
op sub *tmp158 *tmp157 5000
op div *tmp159 *tmp158 23000
op div :start_reactor:charge_units *tmp158 38333.333333333336
op div *tmp161 :start_reactor:surplus 2000
op max :start_reactor:flow_units -0.1 *tmp161
op mul *tmp163 2 3
op add :start_reactor:cryo_req 3 6
jump *label320 greaterThanEq .REACTORS_DESIRED 3
print "IDLE\n"
set :start_reactor:supply_fuel false
jump *label333 always
label *label320
op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
jump *label321 greaterThanEq *tmp167 1
op idiv *tmp171 :start_reactor:flow_units 0.001
op div :start_reactor:flow *tmp171 10
op idiv *tmp174 :start_reactor:charge_units 0.001
op div :start_reactor:charge *tmp174 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor:charge
format :start_reactor:flow
set :start_reactor:supply_fuel false
jump *label332 always
label *label321
jump *label326 equal :fuel_3 false
jump *label326 greaterThanEq :start_reactor:fuel 10
op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
jump *label324 lessThanEq *tmp178 10
print "WAIT fuel\n"
jump *label331 always
label *label324
print "WAIT system fuel\n"
jump *label331 always
label *label326
op mul *tmp181 45 3
jump *label327 greaterThanEq :start_reactor:fuel_stored 135
print "WAIT buffer fuel\n"
jump *label330 always
label *label327
jump *label328 greaterThanEq :start_reactor:cryo 9
print "WAIT cryo\n"
jump *label329 always
label *label328
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor3 true
label *label329
label *label330
label *label331
label *label332
label *label333
label *label334
label *label335
sensor *tmp188 reactor3 @enabled
select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup3
set :fuel_3 :start_reactor:supply_fuel
set :t_startup3 .RET_T_STARTUP
set :start_reactor:reactor reactor4
set :start_reactor:reactor_num 4
set :start_reactor:emerg_shutdown :emerg_shutdown
set :start_reactor:fuel_on :fuel_4
set :start_reactor:t_startup :t_startup4
setaddr :start_reactor*retaddr *label27
call *label3 *invalid :start_reactor*retval
label *label27
set :fuel_4 :start_reactor*retval
set :t_startup4 .RET_T_STARTUP
set :start_reactor:reactor reactor5
set :start_reactor:reactor_num 5
set :start_reactor:emerg_shutdown :emerg_shutdown
set :start_reactor:fuel_on :fuel_5
set :start_reactor:t_startup :t_startup5
setaddr :start_reactor*retaddr *label28
call *label3 *invalid :start_reactor*retval
label *label28
set :fuel_5 :start_reactor*retval
set :t_startup5 .RET_T_STARTUP
op or *tmp219 :start_reactor:supply_fuel :fuel_4
op or *tmp220 *tmp219 :start_reactor*retval
op notEqual *tmp26 *tmp220 false
select *tmp89 notEqual *tmp220 false @blast-compound @scrap
control config unloader5 *tmp89
select *tmp93 equal *tmp220 false @blast-compound @scrap
control config unloader6 *tmp93
op or *tmp221 :fuel_1 :fuel_2
op or *tmp222 *tmp221 *tmp26
sensor *tmp30 node1 @powerNetStored
op floor :throttle_blast:charge *tmp30
sensor *tmp32 node1 @powerNetIn
sensor *tmp33 node1 @powerNetOut
op sub *tmp34 *tmp32 *tmp33
op floor :throttle_blast:surplus *tmp34
sensor :throttle_blast:fuel_stored vault1 @blast-compound
jump *label44 greaterThanEq :throttle_blast:charge 5000
jump *label43 lessThan :throttle_blast:surplus -500
label *label44
jump *label41 equal :emerg_shutdown false
label *label43
set :throttle_blast:limit 0
print "Central Fuel at {0} / 0 - "
format :throttle_blast:fuel_stored
jump *label46 equal :emerg_shutdown false
print " Enemies detected.\n"
jump *label42 always
label *label46
print " Critical power.\n"
jump *label42 always
label *label41
jump *label48 notEqual *tmp222 false
set :throttle_blast:limit 150
print "Fuel {0} / 150 (due to emergency)\n"
format :throttle_blast:fuel_stored
jump *label49 always
label *label48
set :throttle_blast:limit 800
print "Fuel {0} / 800\n"
format :throttle_blast:fuel_stored
label *label49
label *label42
select *tmp46 lessThan :throttle_blast:fuel_stored :throttle_blast:limit @pyratite @scrap
control config unloader7 *tmp46
sensor *tmp48 node1 @powerNetStored
sensor *tmp49 node1 @powerNetCapacity
op div :diff_generators:stored_pc *tmp48 *tmp49
jump *label53 lessThanEq :diff_generators:stored_pc 0.9
jump *label53 greaterThanEq .START_POWER_REQ 10
print "Differential now idle.\n"
control enabled generator1 false
control enabled generator2 false
jump *label54 always
label *label53
control enabled generator1 true
control enabled generator2 true
label *label54
op idiv *tmp85 .AVG_SURPLUS 100
op div :surplus *tmp85 10
sensor :kilo:val node1 @powerNetStored
op idiv *tmp85 :kilo:val 100
op div :kilo*retval *tmp85 10
set :charge :kilo*retval
jump *label59 lessThanEq .START_POWER_REQ 0
op idiv *tmp85 .START_POWER_REQ 100
op div :kilo*retval *tmp85 10
print "Req {0}kJ / {0}kJ. {0}kW flow.\n"
format :kilo*retval
format :charge
format :surplus
jump *label60 always
label *label59
print "Power {0}kW, {0}kJ\n"
format :surplus
format :kilo*retval
sensor *tmp65 node1 @powerNetStored
sensor *tmp66 node1 @powerNetCapacity
op div :update_reactors_desired:stored *tmp65 *tmp66
jump *label63 lessThanEq :update_reactors_desired:stored 0.98
jump *label63 lessThanEq .AVG_SURPLUS 16500
jump *label67 lessThanEq .REACTORS_DESIRED 2
op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
op sub .AVG_SURPLUS .AVG_SURPLUS 6500
label *label67
label *label63
jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
jump *label69 greaterThanEq .AVG_SURPLUS 8000
op sub *tmp78 .AVG_SURPLUS 10000
op idiv *tmp79 *tmp78 6500
op max :update_reactors_desired:needed 1 *tmp79
op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
op min .REACTORS_DESIRED 5 *tmp81
label *label69
label *label60
jump *label73 equal .REACTORS_DESIRED 5
print "Require only {0}/5 reactors.\n"
format .REACTORS_DESIRED
label *label73
printflush message1
jump *label7 always
label *label3
op sub *tmp104 @tick :start_reactor:t_startup
op idiv :start_reactor:secs *tmp104 60
sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
set :start_reactor*retval true
sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
sensor *tmp109 .NODE @powerNetStored
op floor :start_reactor:charge *tmp109
sensor *tmp111 .NODE @powerNetIn
sensor *tmp112 .NODE @powerNetOut
op sub *tmp113 *tmp111 *tmp112
op floor :start_reactor:surplus *tmp113
op mul *tmp115 .AVG_SURPLUS 0.8
op mul *tmp116 :start_reactor:surplus 0.2
op add .AVG_SURPLUS *tmp115 *tmp116
sensor :start_reactor:enabled :start_reactor:reactor @enabled
print "#{0} - "
format :start_reactor:reactor_num
jump *label87 equal :start_reactor:emerg_shutdown false
control enabled :start_reactor:reactor false
print "emergency mode\n"
set :start_reactor*retval false
jump *label88 always
label *label87
jump *label89 equal :start_reactor:enabled false
jump *label91 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
control enabled :start_reactor:reactor false
print "STOP unwanted\n"
jump *label90 always
label *label91
jump *label93 lessThanEq :start_reactor:reactor_num 1
op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
jump *label93 greaterThanEq :start_reactor:fuel_stored *tmp128
control enabled :start_reactor:reactor false
print "STOP system fuel low\n"
jump *label90 always
label *label93
jump *label97 greaterThan :start_reactor:fuel 1
control enabled :start_reactor:reactor false
print "STOP fuel low\n"
jump *label90 always
label *label97
jump *label99 greaterThan :start_reactor:cryo .CRYO_ABORT
control enabled :start_reactor:reactor false
print "STOP out of cryo\n"
jump *label90 always
label *label99
jump *label101 greaterThanEq :start_reactor:secs 30
op sub *tmp94 @tick :start_reactor:t_startup
op idiv :calc_charge_req:secs *tmp94 60
jump *label187 greaterThan :calc_charge_req:secs 30
sensor *tmp97 :start_reactor:reactor @enabled
jump *label188 notEqual *tmp97 false
label *label187
set :calc_charge_req*retval 0
jump *label190 always
label *label188
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label190
op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
jump *label104 greaterThanEq *tmp143 .PWR_ABORT
jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
control enabled :start_reactor:reactor false
print "START FAIL battery\n"
set :start_reactor*retval false
jump *label90 always
label *label104
op sub :start_reactor:time_left 30 :start_reactor:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor:time_left
format :calc_charge_req*retval
jump *label90 always
label *label101
jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
control enabled :start_reactor:reactor false
print "ABANDON - battery crit\n"
set :start_reactor*retval false
jump *label90 always
label *label108
op idiv :start_reactor:mins :start_reactor:secs 6
op div :start_reactor:mins :start_reactor:mins 10
print "RUN {0} mins\n"
format :start_reactor:mins
jump *label90 always
label *label89
op sub *tmp157 :start_reactor:charge .START_POWER_REQ
op sub *tmp158 *tmp157 .PWR_ABORT
op div *tmp159 *tmp158 .PWR_REQ
op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
op div *tmp161 :start_reactor:surplus .FLOW_REQ
op max :start_reactor:flow_units -0.1 *tmp161
op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
op add :start_reactor:cryo_req .CRYO_REQ *tmp163
jump *label112 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
print "IDLE\n"
set :start_reactor*retval false
jump *label113 always
label *label112
op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
jump *label114 greaterThanEq *tmp167 1
op idiv *tmp171 :start_reactor:flow_units 0.001
op div :start_reactor:flow *tmp171 10
op idiv *tmp174 :start_reactor:charge_units 0.001
op div :start_reactor:charge *tmp174 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor:charge
format :start_reactor:flow
set :start_reactor*retval false
jump *label115 always
label *label114
jump *label116 equal :start_reactor:fuel_on false
jump *label116 greaterThanEq :start_reactor:fuel .FUEL_REQ
op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
jump *label120 lessThanEq *tmp178 .FUEL_REQ
print "WAIT fuel\n"
jump *label117 always
label *label120
print "WAIT system fuel\n"
jump *label117 always
label *label116
op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
jump *label122 greaterThanEq :start_reactor:fuel_stored *tmp181
print "WAIT buffer fuel\n"
jump *label123 always
label *label122
jump *label124 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
print "WAIT cryo\n"
jump *label125 always
label *label124
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
control enabled :start_reactor:reactor true
label *label125
label *label123
label *label117
label *label115
label *label113
label *label90
label *label88
sensor *tmp188 :start_reactor:reactor @enabled
select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
return :start_reactor*retaddr
