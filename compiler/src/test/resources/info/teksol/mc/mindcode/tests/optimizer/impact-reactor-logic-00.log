   661 instructions before optimizations.
    65 instructions eliminated by Temp Variables Elimination.
    60 instructions eliminated by Dead Code Elimination (10 iterations).
     1 instructions eliminated by Jump Normalization (5 iterations).
    18 instructions eliminated by Jump Optimization (2 passes, 5 iterations).
    17 instructions eliminated by Single Step Elimination (2 passes, 7 iterations).
     3 instructions eliminated by Expression Optimization (4 iterations).
     3 instructions eliminated by If Expression Optimization (4 iterations).
    83 instructions eliminated by Data Flow Optimization (9 passes, 30 iterations).
     1 loops improved by Loop Hoisting.
   550 instructions added by Function Inlining (11 iterations).
    17 function calls inlined by Function Inlining.
    33 instructions updated by JumpThreading.
     4 instructions eliminated by Unreachable Code Elimination.
   132 instructions eliminated by Print Merging.
   825 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 520):
  * Inline function 'kilo' defined at line 117:1                 cost     3, benefit      218.8, efficiency       72.9 (-8 instructions)
    Inline function 'update_fuel' defined at line 121:1          cost    13, benefit      337.5, efficiency       26.0
    Inline function 'calc_charge_req' defined at line 126:1      cost    64, benefit      503.9, efficiency        7.9
  ! Inline function 'start_reactor' defined at line 140:1        cost   591, benefit      687.5, efficiency        1.2
    Inline function 'check_radar' defined at line 259:1          cost    21, benefit      175.0, efficiency        8.3
    Inline function call at line 69:22                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 73:23                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 74:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 75:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 76:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 77:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 80:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 82:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 84:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 86:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 88:23                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 89:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 96:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 102:15                          cost     2, benefit       87.5, efficiency       43.8
    Inline function call at line 103:14                          cost     2, benefit       87.5, efficiency       43.8
    Inline function call at line 105:15                          cost     2, benefit       43.8, efficiency       21.9
    Inline function call at line 173:26                          cost    13, benefit        3.9, efficiency        0.3

Pass 1: speed optimization selection (cost limit 528):
  * Inline function 'update_fuel' defined at line 121:1          cost    13, benefit      337.5, efficiency       26.0 (-1 instructions)
    Inline function 'calc_charge_req' defined at line 126:1      cost    64, benefit      503.9, efficiency        7.9
  ! Inline function 'start_reactor' defined at line 140:1        cost   591, benefit      687.5, efficiency        1.2
    Inline function 'check_radar' defined at line 259:1          cost    21, benefit      175.0, efficiency        8.3
    Inline function call at line 69:22                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 73:23                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 74:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 75:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 76:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 77:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 80:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 82:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 84:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 86:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 88:23                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 89:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 96:5                            cost     7, benefit      112.5, efficiency       16.1
    Inline function call at line 173:26                          cost    13, benefit        3.9, efficiency        0.3

Pass 1: speed optimization selection (cost limit 529):
    Inline function 'calc_charge_req' defined at line 126:1      cost    64, benefit      503.9, efficiency        7.9
  ! Inline function 'start_reactor' defined at line 140:1        cost   591, benefit      687.5, efficiency        1.2
  * Inline function 'check_radar' defined at line 259:1          cost    21, benefit      175.0, efficiency        8.3 (+6 instructions)
    Inline function call at line 69:22                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 73:23                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 74:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 75:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 76:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 77:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 80:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 84:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 88:23                           cost    22, benefit       87.5, efficiency        4.0
    Inline function call at line 89:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 173:26                          cost    13, benefit        3.9, efficiency        0.3

Pass 1: speed optimization selection (cost limit 523):
  * Inline function 'calc_charge_req' defined at line 126:1      cost    64, benefit      503.9, efficiency        7.9 (+44 instructions)
  ! Inline function 'start_reactor' defined at line 140:1        cost   591, benefit      687.5, efficiency        1.2
    Inline function call at line 73:23                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 74:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 75:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 76:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 77:24                           cost    13, benefit      100.0, efficiency        7.7
    Inline function call at line 80:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 84:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 89:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   148, benefit      137.5, efficiency        0.9
    Inline function call at line 173:26                          cost    13, benefit        3.9, efficiency        0.3

Pass 1: speed optimization selection (cost limit 479):
  ! Inline function 'start_reactor' defined at line 140:1        cost   631, benefit      687.5, efficiency        1.1
  * Inline function call at line 80:14                           cost   158, benefit      137.5, efficiency        0.9 (+151 instructions)
    Inline function call at line 84:14                           cost   158, benefit      137.5, efficiency        0.9
    Inline function call at line 89:14                           cost   158, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   158, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   158, benefit      137.5, efficiency        0.9

Pass 1: speed optimization selection (cost limit 328):
  ! Inline function 'start_reactor' defined at line 140:1        cost   473, benefit      550.0, efficiency        1.2
  * Inline function call at line 84:14                           cost   158, benefit      137.5, efficiency        0.9 (+152 instructions)
    Inline function call at line 89:14                           cost   158, benefit      137.5, efficiency        0.9
    Inline function call at line 91:14                           cost   158, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   158, benefit      137.5, efficiency        0.9

Pass 1: speed optimization selection (cost limit 176):
  ! Inline function 'start_reactor' defined at line 140:1        cost   315, benefit      412.5, efficiency        1.3
  * Inline function call at line 89:14                           cost   158, benefit      137.5, efficiency        0.9 (+152 instructions)
    Inline function call at line 91:14                           cost   158, benefit      137.5, efficiency        0.9
    Inline function call at line 93:14                           cost   158, benefit      137.5, efficiency        0.9

Pass 1: speed optimization selection (cost limit 24):
  ! Inline function 'start_reactor' defined at line 140:1        cost   157, benefit      275.0, efficiency        1.8
  ! Inline function call at line 91:14                           cost   158, benefit      137.5, efficiency        0.9
  ! Inline function call at line 93:14                           cost   158, benefit      137.5, efficiency        0.9

Pass 2: speed optimization selection (cost limit 38):
  ! Inline function 'start_reactor' defined at line 140:1        cost   154, benefit      275.0, efficiency        1.8
  ! Inline function call at line 91:14                           cost   155, benefit      137.5, efficiency        0.9
  ! Inline function call at line 93:14                           cost   155, benefit      137.5, efficiency        0.9

Pass 3: speed optimization selection (cost limit 39):
  ! Inline function 'start_reactor' defined at line 140:1        cost   154, benefit      275.0, efficiency        1.8
  ! Inline function call at line 91:14                           cost   155, benefit      137.5, efficiency        0.9
  ! Inline function call at line 93:14                           cost   155, benefit      137.5, efficiency        0.9

Pass 4: speed optimization selection (cost limit 39):
  ! Inline function 'start_reactor' defined at line 140:1        cost   154, benefit      275.0, efficiency        1.8
  ! Inline function call at line 91:14                           cost   155, benefit      137.5, efficiency        0.9
  ! Inline function call at line 93:14                           cost   155, benefit      137.5, efficiency        0.9

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-20 instructions):
 
    71 print "\n"
    72 set *tmp8 true
    73 jump *label11 always
-    * set *tmp13 null
    74 jump *label13 always
    75 label *label12
-    * set *tmp13 null
    76 label *label13
    77 set *tmp8 false
    78 jump *label11 always
 
   131 setaddr :update_fuel.0*retaddr *label20
   132 call *label1 *invalid :update_fuel.0*retval
   133 label *label20
-    * set *tmp20 :update_fuel.0*retval
   134 set :start_reactor.0:reactor reactor2
   135 set :start_reactor.0:reactor_num 2
   136 set :start_reactor.0:emerg_shutdown :emerg_shutdown
 
   148 setaddr :update_fuel.0*retaddr *label22
   149 call *label1 *invalid :update_fuel.0*retval
   150 label *label22
-    * set *tmp22 :update_fuel.0*retval
   151 set :check_radar.0:unit .TOWER
   152 setaddr :check_radar.0*retaddr *label23
   153 call *label4 *invalid :check_radar.0*retval
 
   196 setaddr :update_fuel.0*retaddr *label27
   197 call *label1 *invalid :update_fuel.0*retval
   198 label *label27
-    * set *tmp29 :update_fuel.0*retval
   199 op or *tmp30 :fuel_1 :fuel_2
   200 op or *tmp31 *tmp30 :fuel_many
   201 set :throttle_blast.0:reactors_fueled *tmp31
 
   233 print "\n"
   234 set *tmp45 null
   235 label *label32
-    * set *tmp44 *tmp45
   236 jump *label30 always
   237 label *label29
   238 op equal *tmp46 :throttle_blast.0:reactors_fueled false
 
   259 print "n"
   260 set *tmp47 null
   261 label *label34
-    * set *tmp44 *tmp47
   262 label *label30
   263 op lessThan *tmp48 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   264 set *tmp32 *tmp48
 
   293 control enabled generator2 true
   294 set *tmp59 true
   295 label *label39
-    * set *tmp52 *tmp59
   296 label *label37
   297 set :kilo.0:val .AVG_SURPLUS
   298 setaddr :kilo.0*retaddr *label40
 
   323 print :surplus
   324 print "kW flow."
   325 print "\n"
-    * set *tmp68 null
   326 jump *label43 always
   327 label *label42
   328 print "Power "
 
   349 label *label48
   350 set *tmp80 null
   351 label *label49
-    * set *tmp78 *tmp80
   352 jump *label47 always
   353 label *label46
-    * set *tmp78 null
   354 label *label47
   355 op lessThan *tmp81 :update_reactors_desired.0:stored 0.8
   356 op mul *tmp82 .GOAL_BUFFER 0.8
 
   371 label *label51
   372 set *tmp70 *tmp85
   373 label *label45
-    * set *tmp68 *tmp70
   374 label *label43
   375 op notEqual *tmp91 .REACTORS_DESIRED 5
   376 jump *label52 equal *tmp91 false
 
   378 print .REACTORS_DESIRED
   379 print "/5 reactors."
   380 print "\n"
-    * set *tmp92 null
   381 jump *label53 always
   382 label *label52
-    * set *tmp92 null
   383 label *label53
   384 printflush message1
   385 label *label8
 
   428 jump *label61 equal *tmp107 false
   429 set :calc_charge_req.0*retval 0
   430 jump *label60 always
-    * set *tmp108 null
   431 jump *label62 always
   432 label *label61
-    * set *tmp108 null
   433 label *label62
   434 op sub *tmp109 30 :calc_charge_req.0:secs
   435 set :calc_charge_req.0:time_left *tmp109
 
   479 print "emergency mode"
   480 print "\n"
   481 set :start_reactor.0:supply_fuel false
-    * set *tmp128 :start_reactor.0:supply_fuel
   482 jump *label65 always
   483 label *label64
   484 jump *label66 equal :start_reactor.0:enabled false
 
   682 label *label84
   683 set *tmp131 *tmp178
   684 label *label67
-    * set *tmp128 *tmp131
   685 label *label65
   686 sensor *tmp201 :start_reactor.0:reactor @enabled
   687 op notEqual *tmp202 :start_reactor.0:enabled *tmp201
   688 jump *label95 equal *tmp202 false
   689 set *tmp204 @tick
   690 set .RET_T_STARTUP *tmp204
-    * set *tmp203 .RET_T_STARTUP
   691 jump *label96 always
   692 label *label95
-    * set *tmp203 null
   693 label *label96
   694 set :start_reactor.0*retval :start_reactor.0:supply_fuel
   695 jump *label63 always

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-12 instructions):
 
   226 jump *label31 equal :throttle_blast.0:emerg_shutdown false
   227 print " Enemies detected."
   228 print "\n"
-    * set *tmp45 null
   229 jump *label32 always
   230 label *label31
   231 print " Critical power."
   232 print "\n"
-    * set *tmp45 null
   233 label *label32
   234 jump *label30 always
   235 label *label29
 
   244 print " "
   245 print "(due to emergency)"
   246 print "\n"
-    * set *tmp47 null
   247 jump *label34 always
   248 label *label33
   249 set :throttle_blast.0:limit .FUEL_LIMIT
 
   254 print :throttle_blast.0:limit
   255 print "\"
   256 print "n"
-    * set *tmp47 null
   257 label *label34
   258 label *label30
   259 op lessThan *tmp48 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
 
   282 print "\n"
   283 control enabled generator1 false
   284 control enabled generator2 false
-    * set *tmp59 false
   285 jump *label39 always
   286 label *label38
   287 control enabled generator1 true
   288 control enabled generator2 true
-    * set *tmp59 true
   289 label *label39
   290 label *label37
   291 set :kilo.0:val .AVG_SURPLUS
 
   338 jump *label48 equal *tmp79 false
   339 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   340 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
-    * set *tmp80 .AVG_SURPLUS
   341 jump *label49 always
   342 label *label48
-    * set *tmp80 null
   343 label *label49
   344 jump *label47 always
   345 label *label46
 
   361 label *label50
   362 set *tmp85 null
   363 label *label51
-    * set *tmp70 *tmp85
   364 label *label45
   365 label *label43
   366 op notEqual *tmp91 .REACTORS_DESIRED 5
 
   404 set *tmp101 .FUEL_OFF
   405 label *label59
   406 control config *tmp98 *tmp101
-    * set :update_fuel.0*retval *tmp101
   407 label *label55
   408 return :update_fuel.0*retaddr
   409 end
 
   579 label *label71
   580 set *tmp133 *tmp140
   581 label *label69
-    * set *tmp131 *tmp133
   582 jump *label67 always
   583 label *label66
   584 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
 
   669 label *label86
   670 set *tmp178 *tmp181
   671 label *label84
-    * set *tmp131 *tmp178
   672 label *label67
   673 label *label65
   674 sensor *tmp201 :start_reactor.0:reactor @enabled

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-6 instructions):
 
   356 op add *tmp89 :update_reactors_desired.0:needed .REACTORS_DESIRED
   357 op min *tmp90 5 *tmp89
   358 set .REACTORS_DESIRED *tmp90
-    * set *tmp85 .REACTORS_DESIRED
   359 jump *label51 always
   360 label *label50
-    * set *tmp85 null
   361 label *label51
   362 label *label45
   363 label *label43
 
   476 control enabled *tmp134 false
   477 print "STOP unwanted"
   478 print "\n"
-    * set *tmp133 null
   479 jump *label69 always
   480 label *label68
   481 op greaterThan *tmp136 :start_reactor.0:reactor_num 1
 
   574 label *label73
   575 set *tmp140 *tmp144
   576 label *label71
-    * set *tmp133 *tmp140
   577 label *label69
   578 jump *label67 always
   579 label *label66
 
   593 print "IDLE"
   594 print "\n"
   595 set :start_reactor.0:supply_fuel false
-    * set *tmp178 :start_reactor.0:supply_fuel
   596 jump *label84 always
   597 label *label83
   598 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
 
   662 label *label88
   663 set *tmp181 *tmp190
   664 label *label86
-    * set *tmp178 *tmp181
   665 label *label84
   666 label *label67
   667 label *label65

Modifications by Initial phase, Dead Code Elimination, iteration 4 (-4 instructions):
 
   487 control enabled *tmp141 false
   488 print "STOP system fuel low"
   489 print "\n"
-    * set *tmp140 null
   490 jump *label71 always
   491 label *label70
   492 op lessThanEq *tmp143 :start_reactor.0:fuel 1
 
   571 label *label75
   572 set *tmp144 *tmp148
   573 label *label73
-    * set *tmp140 *tmp144
   574 label *label71
   575 label *label69
   576 jump *label67 always
 
   611 print "W)"
   612 print "\n"
   613 set :start_reactor.0:supply_fuel false
-    * set *tmp181 :start_reactor.0:supply_fuel
   614 jump *label86 always
   615 label *label85
   616 op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
 
   657 label *label92
   658 set *tmp190 *tmp196
   659 label *label88
-    * set *tmp181 *tmp190
   660 label *label86
   661 label *label84
   662 label *label67

Modifications by Initial phase, Dead Code Elimination, iteration 5 (-4 instructions):
 
   495 control enabled *tmp145 false
   496 print "STOP fuel low"
   497 print "\n"
-    * set *tmp144 null
   498 jump *label73 always
   499 label *label72
   500 op lessThanEq *tmp147 :start_reactor.0:cryo .CRYO_ABORT
 
   568 label *label77
   569 set *tmp148 *tmp152
   570 label *label75
-    * set *tmp144 *tmp148
   571 label *label73
   572 label *label71
   573 label *label69
 
   626 print "\n"
   627 set *tmp193 null
   628 label *label90
-    * set *tmp190 *tmp193
   629 jump *label88 always
   630 label *label87
   631 op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
 
   652 label *label94
   653 set *tmp196 *tmp198
   654 label *label92
-    * set *tmp190 *tmp196
   655 label *label88
   656 label *label86
   657 label *label84

Modifications by Initial phase, Dead Code Elimination, iteration 6 (-6 instructions):
 
   503 control enabled *tmp149 false
   504 print "STOP out of cryo"
   505 print "\n"
-    * set *tmp148 null
   506 jump *label75 always
   507 label *label74
   508 op lessThan *tmp151 :start_reactor.0:secs 30
 
   565 label *label82
   566 set *tmp152 *tmp164
   567 label *label77
-    * set *tmp148 *tmp152
   568 label *label75
   569 label *label73
   570 label *label71
 
   617 jump *label89 equal *tmp192 false
   618 print "WAIT fuel"
   619 print "\n"
-    * set *tmp193 null
   620 jump *label90 always
   621 label *label89
   622 print "WAIT system fuel"
   623 print "\n"
-    * set *tmp193 null
   624 label *label90
   625 jump *label88 always
   626 label *label87
 
   629 jump *label91 equal *tmp195 false
   630 print "WAIT buffer fuel"
   631 print "\n"
-    * set *tmp196 null
   632 jump *label92 always
   633 label *label91
   634 op lessThan *tmp197 :start_reactor.0:cryo :start_reactor.0:cryo_req
 
   645 control enabled *tmp199 true
   646 set *tmp198 true
   647 label *label94
-    * set *tmp196 *tmp198
   648 label *label92
   649 label *label88
   650 label *label86

Modifications by Initial phase, Dead Code Elimination, iteration 7 (-4 instructions):
 
   537 print "\n"
   538 set *tmp157 null
   539 label *label80
-    * set *tmp152 *tmp157
   540 jump *label77 always
   541 label *label76
   542 op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
 
   562 print "\n"
   563 set *tmp164 null
   564 label *label82
-    * set *tmp152 *tmp164
   565 label *label77
   566 label *label75
   567 label *label73
 
   633 jump *label93 equal *tmp197 false
   634 print "WAIT cryo"
   635 print "\n"
-    * set *tmp198 null
   636 jump *label94 always
   637 label *label93
   638 print "STARTUP"
 
   640 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
   641 set *tmp199 :start_reactor.0:reactor
   642 control enabled *tmp199 true
-    * set *tmp198 true
   643 label *label94
   644 label *label92
   645 label *label88

Modifications by Initial phase, Dead Code Elimination, iteration 8 (-4 instructions):
 
   523 print "START FAIL battery"
   524 print "\n"
   525 set :start_reactor.0:supply_fuel false
-    * set *tmp157 :start_reactor.0:supply_fuel
   526 jump *label80 always
   527 label *label79
   528 op sub *tmp160 30 :start_reactor.0:secs
 
   534 print :start_reactor.0:charge_req
   535 print "J"
   536 print "\n"
-    * set *tmp157 null
   537 label *label80
   538 jump *label77 always
   539 label *label76
 
   546 print "ABANDON - battery crit"
   547 print "\n"
   548 set :start_reactor.0:supply_fuel false
-    * set *tmp164 :start_reactor.0:supply_fuel
   549 jump *label82 always
   550 label *label81
   551 op idiv *tmp167 :start_reactor.0:secs 6
 
   557 print " "
   558 print "mins"
   559 print "\n"
-    * set *tmp164 null
   560 label *label82
   561 label *label77
   562 label *label75

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-65 instructions):
 
    25 sensor *tmp0 node1 @powerNetIn
    26 sensor *tmp1 node1 @powerNetOut
    27 op sub *tmp2 *tmp0 *tmp1
-    * op floor *tmp3 *tmp2
-    * set :surplus *tmp3
+   28 op floor :surplus *tmp2
    29 op greaterThan *tmp4 :surplus 10000
    30 jump *label5 equal *tmp4 false
-    * op sub *tmp6 @tick 3600
-    * set *tmp5 *tmp6
+   31 op sub *tmp5 @tick 3600
    32 jump *label6 always
    33 label *label5
    34 set *tmp5 @tick
 
    58 setaddr :check_radar.0*retaddr *label10
    59 call *label4 *invalid :check_radar.0*retval
    60 label *label10
-    * set *tmp7 :check_radar.0*retval
-    * set :emerg_shutdown *tmp7
+   61 set :emerg_shutdown :check_radar.0*retval
    62 op notEqual *tmp9 switch1 null
    63 sensor *tmp10 switch1 @enabled
    64 op equal *tmp11 *tmp10 false
 
    81 setaddr :calc_charge_req.0*retaddr *label14
    82 call *label2 *invalid :calc_charge_req.0*retval
    83 label *label14
-    * set *tmp14 :calc_charge_req.0*retval
-    * set .START_POWER_REQ *tmp14
+   84 set .START_POWER_REQ :calc_charge_req.0*retval
    85 set :calc_charge_req.0:reactor reactor2
    86 set :calc_charge_req.0:time :t_startup2
    87 setaddr :calc_charge_req.0*retaddr *label15
    88 call *label2 *invalid :calc_charge_req.0*retval
    89 label *label15
-    * set *tmp15 :calc_charge_req.0*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp15
+   90 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
    91 set :calc_charge_req.0:reactor reactor3
    92 set :calc_charge_req.0:time :t_startup3
    93 setaddr :calc_charge_req.0*retaddr *label16
    94 call *label2 *invalid :calc_charge_req.0*retval
    95 label *label16
-    * set *tmp16 :calc_charge_req.0*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp16
+   96 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
    97 set :calc_charge_req.0:reactor reactor4
    98 set :calc_charge_req.0:time :t_startup4
    99 setaddr :calc_charge_req.0*retaddr *label17
   100 call *label2 *invalid :calc_charge_req.0*retval
   101 label *label17
-    * set *tmp17 :calc_charge_req.0*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp17
+  102 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   103 set :calc_charge_req.0:reactor reactor5
   104 set :calc_charge_req.0:time :t_startup5
   105 setaddr :calc_charge_req.0*retaddr *label18
   106 call *label2 *invalid :calc_charge_req.0*retval
   107 label *label18
-    * set *tmp18 :calc_charge_req.0*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp18
+  108 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   109 set :start_reactor.0:reactor reactor1
   110 set :start_reactor.0:reactor_num 1
   111 set :start_reactor.0:emerg_shutdown :emerg_shutdown
 
   114 setaddr :start_reactor.0*retaddr *label19
   115 call *label3 *invalid :start_reactor.0*retval
   116 label *label19
-    * set *tmp19 :start_reactor.0*retval
-    * set :fuel_1 *tmp19
+  117 set :fuel_1 :start_reactor.0*retval
   118 set :t_startup1 .RET_T_STARTUP
   119 set :update_fuel.0:fuel :fuel_1
   120 set :update_fuel.0:uld_in .ULD_IN_1
 
   130 setaddr :start_reactor.0*retaddr *label21
   131 call *label3 *invalid :start_reactor.0*retval
   132 label *label21
-    * set *tmp21 :start_reactor.0*retval
-    * set :fuel_2 *tmp21
+  133 set :fuel_2 :start_reactor.0*retval
   134 set :t_startup2 .RET_T_STARTUP
   135 set :update_fuel.0:fuel :fuel_2
   136 set :update_fuel.0:uld_in .ULD_IN_2
 
   142 setaddr :check_radar.0*retaddr *label23
   143 call *label4 *invalid :check_radar.0*retval
   144 label *label23
-    * set *tmp23 :check_radar.0*retval
-    * op or :emerg_shutdown :emerg_shutdown *tmp23
+  145 op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
   146 set :start_reactor.0:reactor reactor3
   147 set :start_reactor.0:reactor_num 3
   148 set :start_reactor.0:emerg_shutdown :emerg_shutdown
 
   151 setaddr :start_reactor.0*retaddr *label24
   152 call *label3 *invalid :start_reactor.0*retval
   153 label *label24
-    * set *tmp24 :start_reactor.0*retval
-    * set :fuel_3 *tmp24
+  154 set :fuel_3 :start_reactor.0*retval
   155 set :t_startup3 .RET_T_STARTUP
   156 set :start_reactor.0:reactor reactor4
   157 set :start_reactor.0:reactor_num 4
 
   161 setaddr :start_reactor.0*retaddr *label25
   162 call *label3 *invalid :start_reactor.0*retval
   163 label *label25
-    * set *tmp25 :start_reactor.0*retval
-    * set :fuel_4 *tmp25
+  164 set :fuel_4 :start_reactor.0*retval
   165 set :t_startup4 .RET_T_STARTUP
   166 set :start_reactor.0:reactor reactor5
   167 set :start_reactor.0:reactor_num 5
 
   171 setaddr :start_reactor.0*retaddr *label26
   172 call *label3 *invalid :start_reactor.0*retval
   173 label *label26
-    * set *tmp26 :start_reactor.0*retval
-    * set :fuel_5 *tmp26
+  174 set :fuel_5 :start_reactor.0*retval
   175 set :t_startup5 .RET_T_STARTUP
   176 op or *tmp27 :fuel_3 :fuel_4
-    * op or *tmp28 *tmp27 :fuel_5
-    * set :fuel_many *tmp28
+  177 op or :fuel_many *tmp27 :fuel_5
   178 set :update_fuel.0:fuel :fuel_many
   179 set :update_fuel.0:uld_in .ULD_IN_MANY
   180 set :update_fuel.0:uld_out .ULD_OUT_MANY
 
   182 call *label1 *invalid :update_fuel.0*retval
   183 label *label27
   184 op or *tmp30 :fuel_1 :fuel_2
-    * op or *tmp31 *tmp30 :fuel_many
-    * set :throttle_blast.0:reactors_fueled *tmp31
+  185 op or :throttle_blast.0:reactors_fueled *tmp30 :fuel_many
   186 set :throttle_blast.0:emerg_shutdown :emerg_shutdown
   187 sensor *tmp33 .NODE @powerNetStored
-    * op floor *tmp34 *tmp33
-    * set :throttle_blast.0:charge *tmp34
+  188 op floor :throttle_blast.0:charge *tmp33
   189 sensor *tmp35 .NODE @powerNetIn
   190 sensor *tmp36 .NODE @powerNetOut
   191 op sub *tmp37 *tmp35 *tmp36
-    * op floor *tmp38 *tmp37
-    * set :throttle_blast.0:surplus *tmp38
-    * sensor *tmp39 .CONTAINER @blast-compound
-    * set :throttle_blast.0:fuel_stored *tmp39
+  192 op floor :throttle_blast.0:surplus *tmp37
+  193 sensor :throttle_blast.0:fuel_stored .CONTAINER @blast-compound
   194 op lessThan *tmp40 :throttle_blast.0:charge .PWR_ABORT
   195 op lessThan *tmp41 :throttle_blast.0:surplus .FLOW_ABORT
   196 op land *tmp42 *tmp40 *tmp41
 
   237 print "n"
   238 label *label34
   239 label *label30
-    * op lessThan *tmp48 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
-    * set *tmp32 *tmp48
+  240 op lessThan *tmp32 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   241 jump *label28 always
   242 set *tmp32 null
   243 label *label28
 
   252 control config *tmp49 *tmp51
   253 sensor *tmp53 .NODE @powerNetStored
   254 sensor *tmp54 .NODE @powerNetCapacity
-    * op div *tmp55 *tmp53 *tmp54
-    * set :diff_generators.0:stored_pc *tmp55
+  255 op div :diff_generators.0:stored_pc *tmp53 *tmp54
   256 op greaterThan *tmp56 :diff_generators.0:stored_pc 0.9
   257 op lessThan *tmp57 .START_POWER_REQ 10
   258 op land *tmp58 *tmp56 *tmp57
 
   271 setaddr :kilo.0*retaddr *label40
   272 call *label0 *invalid :kilo.0*retval
   273 label *label40
-    * set *tmp64 :kilo.0*retval
-    * set :surplus *tmp64
-    * sensor *tmp65 .NODE @powerNetStored
-    * set :kilo.0:val *tmp65
+  274 set :surplus :kilo.0*retval
+  275 sensor :kilo.0:val .NODE @powerNetStored
   276 setaddr :kilo.0*retaddr *label41
   277 call *label0 *invalid :kilo.0*retval
   278 label *label41
-    * set *tmp66 :kilo.0*retval
-    * set :charge *tmp66
+  279 set :charge :kilo.0*retval
   280 op greaterThan *tmp67 .START_POWER_REQ 0
   281 jump *label42 equal *tmp67 false
   282 set :kilo.0:val .START_POWER_REQ
   283 setaddr :kilo.0*retaddr *label44
   284 call *label0 *invalid :kilo.0*retval
   285 label *label44
-    * set *tmp69 :kilo.0*retval
-    * set :req *tmp69
+  286 set :req :kilo.0*retval
   287 print "Req "
   288 print :req
   289 print "kJ / "
 
   302 print "\n"
   303 sensor *tmp71 .NODE @powerNetStored
   304 sensor *tmp72 .NODE @powerNetCapacity
-    * op div *tmp73 *tmp71 *tmp72
-    * set :update_reactors_desired.0:stored *tmp73
+  305 op div :update_reactors_desired.0:stored *tmp71 *tmp72
   306 op greaterThan *tmp74 :update_reactors_desired.0:stored 0.98
   307 op add *tmp75 .GENERATOR_OUTPUT .GOAL_BUFFER
   308 op greaterThan *tmp76 .AVG_SURPLUS *tmp75
 
   325 jump *label50 equal *tmp84 false
   326 op sub *tmp86 .AVG_SURPLUS .GOAL_BUFFER
   327 op idiv *tmp87 *tmp86 .GENERATOR_OUTPUT
-    * op max *tmp88 1 *tmp87
-    * set :update_reactors_desired.0:needed *tmp88
+  328 op max :update_reactors_desired.0:needed 1 *tmp87
   329 op add *tmp89 :update_reactors_desired.0:needed .REACTORS_DESIRED
-    * op min *tmp90 5 *tmp89
-    * set .REACTORS_DESIRED *tmp90
+  330 op min .REACTORS_DESIRED 5 *tmp89
   331 jump *label51 always
   332 label *label50
   333 label *label51
 
   349 end
   350 label *label0
   351 op idiv *tmp93 :kilo.0:val 100
-    * op div *tmp94 *tmp93 10
-    * set :kilo.0*retval *tmp94
+  352 op div :kilo.0*retval *tmp93 10
   353 jump *label54 always
   354 set :kilo.0*retval null
   355 label *label54
 
   378 end
   379 label *label2
   380 op sub *tmp102 @tick :calc_charge_req.0:time
-    * op idiv *tmp103 *tmp102 60
-    * set :calc_charge_req.0:secs *tmp103
+  381 op idiv :calc_charge_req.0:secs *tmp102 60
   382 op greaterThan *tmp104 :calc_charge_req.0:secs 30
   383 sensor *tmp105 :calc_charge_req.0:reactor @enabled
   384 op equal *tmp106 *tmp105 false
 
   389 jump *label62 always
   390 label *label61
   391 label *label62
-    * op sub *tmp109 30 :calc_charge_req.0:secs
-    * set :calc_charge_req.0:time_left *tmp109
+  392 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
   393 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
   394 op mul *tmp111 *tmp110 25
-    * op floor *tmp112 *tmp111
-    * set :calc_charge_req.0:charge_req *tmp112
+  395 op floor :calc_charge_req.0:charge_req *tmp111
   396 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
   397 jump *label60 always
   398 set :calc_charge_req.0*retval null
 
   402 label *label3
   403 set .RET_T_STARTUP :start_reactor.0:t_startup
   404 op sub *tmp113 @tick :start_reactor.0:t_startup
-    * op idiv *tmp114 *tmp113 60
-    * set :start_reactor.0:secs *tmp114
-    * sensor *tmp115 :start_reactor.0:reactor @blast-compound
-    * set :start_reactor.0:fuel *tmp115
+  405 op idiv :start_reactor.0:secs *tmp113 60
+  406 sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
   407 set :start_reactor.0:supply_fuel true
-    * sensor *tmp116 .CONTAINER @blast-compound
-    * set :start_reactor.0:fuel_stored *tmp116
-    * sensor *tmp117 :start_reactor.0:reactor @cryofluid
-    * set :start_reactor.0:cryo *tmp117
+  408 sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
+  409 sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
   410 sensor *tmp118 .NODE @powerNetStored
-    * op floor *tmp119 *tmp118
-    * set :start_reactor.0:charge *tmp119
+  411 op floor :start_reactor.0:charge *tmp118
   412 sensor *tmp120 .NODE @powerNetIn
   413 sensor *tmp121 .NODE @powerNetOut
   414 op sub *tmp122 *tmp120 *tmp121
-    * op floor *tmp123 *tmp122
-    * set :start_reactor.0:surplus *tmp123
+  415 op floor :start_reactor.0:surplus *tmp122
   416 op mul *tmp124 .AVG_SURPLUS 0.8
   417 op mul *tmp125 :start_reactor.0:surplus 0.2
-    * op add *tmp126 *tmp124 *tmp125
-    * set .AVG_SURPLUS *tmp126
-    * sensor *tmp127 :start_reactor.0:reactor @enabled
-    * set :start_reactor.0:enabled *tmp127
+  418 op add .AVG_SURPLUS *tmp124 *tmp125
+  419 sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
   420 print "#"
   421 print :start_reactor.0:reactor_num
   422 print " "
   423 print "- "
   424 jump *label64 equal :start_reactor.0:emerg_shutdown false
-    * set *tmp129 :start_reactor.0:reactor
-    * control enabled *tmp129 false
+  425 control enabled :start_reactor.0:reactor false
   426 print "emergency mode"
   427 print "\n"
   428 set :start_reactor.0:supply_fuel false
 
   431 jump *label66 equal :start_reactor.0:enabled false
   432 op lessThan *tmp132 .REACTORS_DESIRED :start_reactor.0:reactor_num
   433 jump *label68 equal *tmp132 false
-    * set *tmp134 :start_reactor.0:reactor
-    * control enabled *tmp134 false
+  434 control enabled :start_reactor.0:reactor false
   435 print "STOP unwanted"
   436 print "\n"
   437 jump *label69 always
 
   441 op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
   442 op land *tmp139 *tmp136 *tmp138
   443 jump *label70 equal *tmp139 false
-    * set *tmp141 :start_reactor.0:reactor
-    * control enabled *tmp141 false
+  444 control enabled :start_reactor.0:reactor false
   445 print "STOP system fuel low"
   446 print "\n"
   447 jump *label71 always
   448 label *label70
   449 op lessThanEq *tmp143 :start_reactor.0:fuel 1
   450 jump *label72 equal *tmp143 false
-    * set *tmp145 :start_reactor.0:reactor
-    * control enabled *tmp145 false
+  451 control enabled :start_reactor.0:reactor false
   452 print "STOP fuel low"
   453 print "\n"
   454 jump *label73 always
   455 label *label72
   456 op lessThanEq *tmp147 :start_reactor.0:cryo .CRYO_ABORT
   457 jump *label74 equal *tmp147 false
-    * set *tmp149 :start_reactor.0:reactor
-    * control enabled *tmp149 false
+  458 control enabled :start_reactor.0:reactor false
   459 print "STOP out of cryo"
   460 print "\n"
   461 jump *label75 always
 
   473 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
   474 op land *tmp156 *tmp154 *tmp155
   475 jump *label79 equal *tmp156 false
-    * set *tmp158 :start_reactor.0:reactor
-    * control enabled *tmp158 false
+  476 control enabled :start_reactor.0:reactor false
   477 print "START FAIL battery"
   478 print "\n"
   479 set :start_reactor.0:supply_fuel false
   480 jump *label80 always
   481 label *label79
-    * op sub *tmp160 30 :start_reactor.0:secs
-    * set :start_reactor.0:time_left *tmp160
+  482 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
   483 print "Starting "
   484 print :start_reactor.0:time_left
   485 print " "
 
   494 op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
   495 op land *tmp163 *tmp161 *tmp162
   496 jump *label81 equal *tmp163 false
-    * set *tmp165 :start_reactor.0:reactor
-    * control enabled *tmp165 false
+  497 control enabled :start_reactor.0:reactor false
   498 print "ABANDON - battery crit"
   499 print "\n"
   500 set :start_reactor.0:supply_fuel false
   501 jump *label82 always
   502 label *label81
-    * op idiv *tmp167 :start_reactor.0:secs 6
-    * set :start_reactor.0:mins *tmp167
-    * op div *tmp168 :start_reactor.0:mins 10
-    * set :start_reactor.0:mins *tmp168
+  503 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
+  504 op div :start_reactor.0:mins :start_reactor.0:mins 10
   505 print "RUN "
   506 print :start_reactor.0:mins
   507 print " "
 
   518 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
   519 op sub *tmp170 *tmp169 .PWR_ABORT
   520 op div *tmp171 *tmp170 .PWR_REQ
-    * op mul *tmp172 *tmp171 .PWR_RESERVE
-    * set :start_reactor.0:charge_units *tmp172
+  521 op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
   522 op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
-    * op max *tmp174 -0.1 *tmp173
-    * set :start_reactor.0:flow_units *tmp174
+  523 op max :start_reactor.0:flow_units -0.1 *tmp173
   524 op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
-    * op add *tmp176 .CRYO_REQ *tmp175
-    * set :start_reactor.0:cryo_req *tmp176
+  525 op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
   526 op lessThan *tmp177 .REACTORS_DESIRED :start_reactor.0:reactor_num
   527 jump *label83 equal *tmp177 false
   528 print "IDLE"
 
   535 jump *label85 equal *tmp180 false
   536 op mul *tmp182 :start_reactor.0:flow_units 1000
   537 op floor *tmp183 *tmp182
-    * op div *tmp184 *tmp183 10
-    * set :start_reactor.0:flow *tmp184
+  538 op div :start_reactor.0:flow *tmp183 10
   539 op mul *tmp185 :start_reactor.0:charge_units 1000
   540 op floor *tmp186 *tmp185
-    * op div *tmp187 *tmp186 10
-    * set :start_reactor.0:charge *tmp187
+  541 op div :start_reactor.0:charge *tmp186 10
   542 print "WAIT power. (%"
   543 print :start_reactor.0:charge
   544 print "J + %"
 
   579 print "STARTUP"
   580 print "\n"
   581 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * set *tmp199 :start_reactor.0:reactor
-    * control enabled *tmp199 true
+  582 control enabled :start_reactor.0:reactor true
   583 label *label94
   584 label *label92
   585 label *label88
 
   590 sensor *tmp201 :start_reactor.0:reactor @enabled
   591 op notEqual *tmp202 :start_reactor.0:enabled *tmp201
   592 jump *label95 equal *tmp202 false
-    * set *tmp204 @tick
-    * set .RET_T_STARTUP *tmp204
+  593 set .RET_T_STARTUP @tick
   594 jump *label96 always
   595 label *label95
   596 label *label96
 
   601 return :start_reactor.0*retaddr
   602 end
   603 label *label4
-    * radar enemy any any health :check_radar.0:unit 1 *tmp205
-    * set :check_radar.0:enemy_found *tmp205
+  604 radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
   605 op notEqual *tmp206 :check_radar.0:enemy_found null
   606 jump *label98 equal *tmp206 false
   607 control enabled projector1 true
   608 control enabled projector2 true
-    * set *tmp210 .ULD_IN_1
-    * control config *tmp210 .FUEL_OFF
-    * set *tmp212 .ULD_OUT_1
-    * control config *tmp212 .FUEL
-    * set *tmp214 .ULD_IN_2
-    * control config *tmp214 .FUEL_OFF
-    * set *tmp216 .ULD_OUT_2
-    * control config *tmp216 .FUEL
-    * set *tmp218 .ULD_IN_MANY
-    * control config *tmp218 .FUEL_OFF
-    * set *tmp220 .ULD_OUT_MANY
-    * control config *tmp220 .FUEL
-    * set *tmp222 .ULD_MIXER
-    * control config *tmp222 .FUEL_OFF
+  609 control config .ULD_IN_1 .FUEL_OFF
+  610 control config .ULD_OUT_1 .FUEL
+  611 control config .ULD_IN_2 .FUEL_OFF
+  612 control config .ULD_OUT_2 .FUEL
+  613 control config .ULD_IN_MANY .FUEL_OFF
+  614 control config .ULD_OUT_MANY .FUEL
+  615 control config .ULD_MIXER .FUEL_OFF
   616 control enabled reactor1 false
   617 control enabled reactor2 false
   618 control enabled reactor3 false

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-1 instructions):
 
    43 set .REACTORS_DESIRED 5
    44 set .AVG_SURPLUS 500
    45 label *label7
-    * jump *label9 equal true false
    46 set .ULD_IN_1 unloader1
    47 set .ULD_OUT_1 unloader2
    48 set .ULD_IN_2 unloader3

Modifications by Iterated phase, Jump Optimization, pass 1, iteration 1 (-17 instructions):
 
    26 sensor *tmp1 node1 @powerNetOut
    27 op sub *tmp2 *tmp0 *tmp1
    28 op floor :surplus *tmp2
-    * op greaterThan *tmp4 :surplus 10000
-    * jump *label5 equal *tmp4 false
+   29 jump *label5 lessThanEq :surplus 10000
    30 op sub *tmp5 @tick 3600
    31 jump *label6 always
    32 label *label5
 
   212 label *label32
   213 jump *label30 always
   214 label *label29
-    * op equal *tmp46 :throttle_blast.0:reactors_fueled false
-    * jump *label33 equal *tmp46 false
+  215 jump *label33 notEqual :throttle_blast.0:reactors_fueled false
   216 set :throttle_blast.0:limit .FUEL_LIMIT_LOW
   217 print "Fuel "
   218 print :throttle_blast.0:fuel_stored
 
   274 call *label0 *invalid :kilo.0*retval
   275 label *label41
   276 set :charge :kilo.0*retval
-    * op greaterThan *tmp67 .START_POWER_REQ 0
-    * jump *label42 equal *tmp67 false
+  277 jump *label42 lessThanEq .START_POWER_REQ 0
   278 set :kilo.0:val .START_POWER_REQ
   279 setaddr :kilo.0*retaddr *label44
   280 call *label0 *invalid :kilo.0*retval
 
   304 op greaterThan *tmp76 .AVG_SURPLUS *tmp75
   305 op land *tmp77 *tmp74 *tmp76
   306 jump *label46 equal *tmp77 false
-    * op greaterThan *tmp79 .REACTORS_DESIRED 2
-    * jump *label48 equal *tmp79 false
+  307 jump *label48 lessThanEq .REACTORS_DESIRED 2
   308 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   309 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
   310 jump *label49 always
 
   328 label *label51
   329 label *label45
   330 label *label43
-    * op notEqual *tmp91 .REACTORS_DESIRED 5
-    * jump *label52 equal *tmp91 false
+  331 jump *label52 equal .REACTORS_DESIRED 5
   332 print "Require only "
   333 print .REACTORS_DESIRED
   334 print "/5 reactors."
 
   359 label *label57
   360 control config *tmp95 *tmp97
   361 set *tmp98 :update_fuel.0:uld_out
-    * op equal *tmp100 :update_fuel.0:fuel false
-    * jump *label58 equal *tmp100 false
+  362 jump *label58 notEqual :update_fuel.0:fuel false
   363 set *tmp101 .FUEL
   364 jump *label59 always
   365 label *label58
 
   422 jump *label65 always
   423 label *label64
   424 jump *label66 equal :start_reactor.0:enabled false
-    * op lessThan *tmp132 .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * jump *label68 equal *tmp132 false
+  425 jump *label68 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
   426 control enabled :start_reactor.0:reactor false
   427 print "STOP unwanted"
   428 print "\n"
 
   438 print "\n"
   439 jump *label71 always
   440 label *label70
-    * op lessThanEq *tmp143 :start_reactor.0:fuel 1
-    * jump *label72 equal *tmp143 false
+  441 jump *label72 greaterThan :start_reactor.0:fuel 1
   442 control enabled :start_reactor.0:reactor false
   443 print "STOP fuel low"
   444 print "\n"
   445 jump *label73 always
   446 label *label72
-    * op lessThanEq *tmp147 :start_reactor.0:cryo .CRYO_ABORT
-    * jump *label74 equal *tmp147 false
+  447 jump *label74 greaterThan :start_reactor.0:cryo .CRYO_ABORT
   448 control enabled :start_reactor.0:reactor false
   449 print "STOP out of cryo"
   450 print "\n"
   451 jump *label75 always
   452 label *label74
-    * op lessThan *tmp151 :start_reactor.0:secs 30
-    * jump *label76 equal *tmp151 false
+  453 jump *label76 greaterThanEq :start_reactor.0:secs 30
   454 set :calc_charge_req.0:reactor :start_reactor.0:reactor
   455 set :calc_charge_req.0:time :start_reactor.0:t_startup
   456 setaddr :calc_charge_req.0*retaddr *label78
 
   512 op max :start_reactor.0:flow_units -0.1 *tmp173
   513 op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
   514 op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
-    * op lessThan *tmp177 .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * jump *label83 equal *tmp177 false
+  515 jump *label83 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
   516 print "IDLE"
   517 print "\n"
   518 set :start_reactor.0:supply_fuel false
   519 jump *label84 always
   520 label *label83
   521 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
-    * op lessThan *tmp180 *tmp179 1
-    * jump *label85 equal *tmp180 false
+  522 jump *label85 greaterThanEq *tmp179 1
   523 op mul *tmp182 :start_reactor.0:flow_units 1000
   524 op floor *tmp183 *tmp182
   525 op div :start_reactor.0:flow *tmp183 10
 
   539 op land *tmp189 :start_reactor.0:fuel_on *tmp188
   540 jump *label87 equal *tmp189 false
   541 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
-    * op greaterThan *tmp192 *tmp191 .FUEL_REQ
-    * jump *label89 equal *tmp192 false
+  542 jump *label89 lessThanEq *tmp191 .FUEL_REQ
   543 print "WAIT fuel"
   544 print "\n"
   545 jump *label90 always
 
   550 jump *label88 always
   551 label *label87
   552 op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
-    * op lessThan *tmp195 :start_reactor.0:fuel_stored *tmp194
-    * jump *label91 equal *tmp195 false
+  553 jump *label91 greaterThanEq :start_reactor.0:fuel_stored *tmp194
   554 print "WAIT buffer fuel"
   555 print "\n"
   556 jump *label92 always
   557 label *label91
-    * op lessThan *tmp197 :start_reactor.0:cryo :start_reactor.0:cryo_req
-    * jump *label93 equal *tmp197 false
+  558 jump *label93 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
   559 print "WAIT cryo"
   560 print "\n"
   561 jump *label94 always
 
   572 label *label67
   573 label *label65
   574 sensor *tmp201 :start_reactor.0:reactor @enabled
-    * op notEqual *tmp202 :start_reactor.0:enabled *tmp201
-    * jump *label95 equal *tmp202 false
+  575 jump *label95 equal :start_reactor.0:enabled *tmp201
   576 set .RET_T_STARTUP @tick
   577 jump *label96 always
   578 label *label95
 
   585 end
   586 label *label4
   587 radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
-    * op notEqual *tmp206 :check_radar.0:enemy_found null
-    * jump *label98 equal *tmp206 false
+  588 jump *label98 equal :check_radar.0:enemy_found null
   589 control enabled projector1 true
   590 control enabled projector2 true
   591 control config .ULD_IN_1 .FUEL_OFF

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-7 instructions):
 
    66 print "\n"
    67 set *tmp8 true
    68 jump *label11 always
-    * jump *label13 always
    69 label *label12
    70 label *label13
    71 set *tmp8 false
 
   306 jump *label48 lessThanEq .REACTORS_DESIRED 2
   307 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   308 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
-    * jump *label49 always
   309 label *label48
   310 label *label49
-    * jump *label47 always
   311 label *label46
   312 label *label47
   313 op lessThan *tmp81 :update_reactors_desired.0:stored 0.8
 
   320 op max :update_reactors_desired.0:needed 1 *tmp87
   321 op add *tmp89 :update_reactors_desired.0:needed .REACTORS_DESIRED
   322 op min .REACTORS_DESIRED 5 *tmp89
-    * jump *label51 always
   323 label *label50
   324 label *label51
   325 label *label45
 
   329 print .REACTORS_DESIRED
   330 print "/5 reactors."
   331 print "\n"
-    * jump *label53 always
   332 label *label52
   333 label *label53
   334 printflush message1
 
   374 jump *label61 equal *tmp107 false
   375 set :calc_charge_req.0*retval 0
   376 jump *label60 always
-    * jump *label62 always
   377 label *label61
   378 label *label62
   379 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
 
   568 sensor *tmp201 :start_reactor.0:reactor @enabled
   569 jump *label95 equal :start_reactor.0:enabled *tmp201
   570 set .RET_T_STARTUP @tick
-    * jump *label96 always
   571 label *label95
   572 label *label96
   573 set :start_reactor.0*retval :start_reactor.0:supply_fuel

Modifications by Iterated phase, Expression Optimization, pass 1, iteration 1 (-3 instructions):
 
   378 label *label62
   379 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
   380 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
-    * op mul *tmp111 *tmp110 25
-    * op floor :calc_charge_req.0:charge_req *tmp111
+  381 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
   382 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
   383 jump *label60 always
   384 set :calc_charge_req.0*retval null
 
   513 label *label83
   514 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
   515 jump *label85 greaterThanEq *tmp179 1
-    * op mul *tmp182 :start_reactor.0:flow_units 1000
-    * op floor *tmp183 *tmp182
+  516 op idiv *tmp183 :start_reactor.0:flow_units 0.001
   517 op div :start_reactor.0:flow *tmp183 10
-    * op mul *tmp185 :start_reactor.0:charge_units 1000
-    * op floor *tmp186 *tmp185
+  518 op idiv *tmp186 :start_reactor.0:charge_units 0.001
   519 op div :start_reactor.0:charge *tmp186 10
   520 print "WAIT power. (%"
   521 print :start_reactor.0:charge

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-7 instructions):
 
    33 set *tmp5 @tick
    34 label *label6
    35 set :start_time *tmp5
-    * set :t_startup1 :start_time
-    * set :t_startup2 :start_time
-    * set :t_startup3 :start_time
-    * set :t_startup4 :start_time
-    * set :t_startup5 :start_time
-    * set .RET_T_STARTUP :t_startup1
+   36 set :t_startup1 *tmp5
+   37 set :t_startup2 *tmp5
+   38 set :t_startup3 *tmp5
+   39 set :t_startup4 *tmp5
+   40 set :t_startup5 *tmp5
+   41 set .RET_T_STARTUP :start_time
    42 set .REACTORS_DESIRED 5
    43 set .AVG_SURPLUS 500
    44 label *label7
 
    52 set .TOWER cyclone1
    53 set .CONTAINER vault1
    54 set .NODE node1
-    * set :check_radar.0:unit .TOWER
+   55 set :check_radar.0:unit cyclone1
    56 setaddr :check_radar.0*retaddr *label10
    57 call *label4 *invalid :check_radar.0*retval
    58 label *label10
 
    70 label *label13
    71 set *tmp8 false
    72 jump *label11 always
-    * set *tmp8 null
    73 label *label11
-    * op or :emerg_shutdown :emerg_shutdown *tmp8
+   74 op or :emerg_shutdown :check_radar.0*retval *tmp8
    75 set :calc_charge_req.0:reactor reactor1
    76 set :calc_charge_req.0:time :t_startup1
    77 setaddr :calc_charge_req.0*retaddr *label14
 
   112 label *label19
   113 set :fuel_1 :start_reactor.0*retval
   114 set :t_startup1 .RET_T_STARTUP
-    * set :update_fuel.0:fuel :fuel_1
-    * set :update_fuel.0:uld_in .ULD_IN_1
-    * set :update_fuel.0:uld_out .ULD_OUT_1
+  115 set :update_fuel.0:fuel :start_reactor.0*retval
+  116 set :update_fuel.0:uld_in unloader1
+  117 set :update_fuel.0:uld_out unloader2
   118 setaddr :update_fuel.0*retaddr *label20
   119 call *label1 *invalid :update_fuel.0*retval
   120 label *label20
 
   128 label *label21
   129 set :fuel_2 :start_reactor.0*retval
   130 set :t_startup2 .RET_T_STARTUP
-    * set :update_fuel.0:fuel :fuel_2
-    * set :update_fuel.0:uld_in .ULD_IN_2
-    * set :update_fuel.0:uld_out .ULD_OUT_2
+  131 set :update_fuel.0:fuel :start_reactor.0*retval
+  132 set :update_fuel.0:uld_in unloader3
+  133 set :update_fuel.0:uld_out unloader4
   134 setaddr :update_fuel.0*retaddr *label22
   135 call *label1 *invalid :update_fuel.0*retval
   136 label *label22
-    * set :check_radar.0:unit .TOWER
+  137 set :check_radar.0:unit cyclone1
   138 setaddr :check_radar.0*retaddr *label23
   139 call *label4 *invalid :check_radar.0*retval
   140 label *label23
 
   170 set :fuel_5 :start_reactor.0*retval
   171 set :t_startup5 .RET_T_STARTUP
   172 op or *tmp27 :fuel_3 :fuel_4
-    * op or :fuel_many *tmp27 :fuel_5
+  173 op or :fuel_many *tmp27 :start_reactor.0*retval
   174 set :update_fuel.0:fuel :fuel_many
-    * set :update_fuel.0:uld_in .ULD_IN_MANY
-    * set :update_fuel.0:uld_out .ULD_OUT_MANY
+  175 set :update_fuel.0:uld_in unloader5
+  176 set :update_fuel.0:uld_out unloader6
   177 setaddr :update_fuel.0*retaddr *label27
   178 call *label1 *invalid :update_fuel.0*retval
   179 label *label27
   180 op or *tmp30 :fuel_1 :fuel_2
   181 op or :throttle_blast.0:reactors_fueled *tmp30 :fuel_many
   182 set :throttle_blast.0:emerg_shutdown :emerg_shutdown
-    * sensor *tmp33 .NODE @powerNetStored
+  183 sensor *tmp33 node1 @powerNetStored
   184 op floor :throttle_blast.0:charge *tmp33
-    * sensor *tmp35 .NODE @powerNetIn
-    * sensor *tmp36 .NODE @powerNetOut
+  185 sensor *tmp35 node1 @powerNetIn
+  186 sensor *tmp36 node1 @powerNetOut
   187 op sub *tmp37 *tmp35 *tmp36
   188 op floor :throttle_blast.0:surplus *tmp37
-    * sensor :throttle_blast.0:fuel_stored .CONTAINER @blast-compound
-    * op lessThan *tmp40 :throttle_blast.0:charge .PWR_ABORT
-    * op lessThan *tmp41 :throttle_blast.0:surplus .FLOW_ABORT
+  189 sensor :throttle_blast.0:fuel_stored vault1 @blast-compound
+  190 op lessThan *tmp40 :throttle_blast.0:charge 5000
+  191 op lessThan *tmp41 :throttle_blast.0:surplus -500
   192 op land *tmp42 *tmp40 *tmp41
-    * op or *tmp43 *tmp42 :throttle_blast.0:emerg_shutdown
+  193 op or *tmp43 *tmp42 :emerg_shutdown
   194 jump *label29 equal *tmp43 false
   195 set :throttle_blast.0:limit 0
   196 print "Central Fuel at "
   197 print :throttle_blast.0:fuel_stored
   198 print " "
   199 print "/ "
-    * print :throttle_blast.0:limit
+  200 print 0
   201 print " "
   202 print "- "
-    * jump *label31 equal :throttle_blast.0:emerg_shutdown false
+  203 jump *label31 equal :emerg_shutdown false
   204 print " Enemies detected."
   205 print "\n"
   206 jump *label32 always
 
   211 jump *label30 always
   212 label *label29
   213 jump *label33 notEqual :throttle_blast.0:reactors_fueled false
-    * set :throttle_blast.0:limit .FUEL_LIMIT_LOW
+  214 set :throttle_blast.0:limit 150
   215 print "Fuel "
   216 print :throttle_blast.0:fuel_stored
   217 print " "
   218 print "/ "
-    * print :throttle_blast.0:limit
+  219 print .FUEL_LIMIT_LOW
   220 print " "
   221 print "(due to emergency)"
   222 print "\n"
   223 jump *label34 always
   224 label *label33
-    * set :throttle_blast.0:limit .FUEL_LIMIT
+  225 set :throttle_blast.0:limit 800
   226 print "Fuel "
   227 print :throttle_blast.0:fuel_stored
   228 print " "
   229 print "/ "
-    * print :throttle_blast.0:limit
+  230 print .FUEL_LIMIT
   231 print "\"
   232 print "n"
   233 label *label34
   234 label *label30
   235 op lessThan *tmp32 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   236 jump *label28 always
-    * set *tmp32 null
   237 label *label28
   238 set :feed_mixers *tmp32
-    * set *tmp49 .ULD_MIXER
-    * jump *label35 equal :feed_mixers false
-    * set *tmp51 .MIXER_IN
+  239 set *tmp49 unloader7
+  240 jump *label35 equal *tmp32 false
+  241 set *tmp51 @pyratite
   242 jump *label36 always
   243 label *label35
-    * set *tmp51 .FUEL_OFF
+  244 set *tmp51 @scrap
   245 label *label36
-    * control config *tmp49 *tmp51
-    * sensor *tmp53 .NODE @powerNetStored
-    * sensor *tmp54 .NODE @powerNetCapacity
+  246 control config .ULD_MIXER *tmp51
+  247 sensor *tmp53 node1 @powerNetStored
+  248 sensor *tmp54 node1 @powerNetCapacity
   249 op div :diff_generators.0:stored_pc *tmp53 *tmp54
   250 op greaterThan *tmp56 :diff_generators.0:stored_pc 0.9
   251 op lessThan *tmp57 .START_POWER_REQ 10
 
   266 call *label0 *invalid :kilo.0*retval
   267 label *label40
   268 set :surplus :kilo.0*retval
-    * sensor :kilo.0:val .NODE @powerNetStored
+  269 sensor :kilo.0:val node1 @powerNetStored
   270 setaddr :kilo.0*retaddr *label41
   271 call *label0 *invalid :kilo.0*retval
   272 label *label41
 
   278 label *label44
   279 set :req :kilo.0*retval
   280 print "Req "
-    * print :req
+  281 print :kilo.0*retval
   282 print "kJ / "
   283 print :charge
   284 print "kJ. "
 
   290 print "Power "
   291 print :surplus
   292 print "kW, "
-    * print :charge
+  293 print :kilo.0*retval
   294 print "kJ"
   295 print "\n"
-    * sensor *tmp71 .NODE @powerNetStored
-    * sensor *tmp72 .NODE @powerNetCapacity
+  296 sensor *tmp71 node1 @powerNetStored
+  297 sensor *tmp72 node1 @powerNetCapacity
   298 op div :update_reactors_desired.0:stored *tmp71 *tmp72
   299 op greaterThan *tmp74 :update_reactors_desired.0:stored 0.98
-    * op add *tmp75 .GENERATOR_OUTPUT .GOAL_BUFFER
-    * op greaterThan *tmp76 .AVG_SURPLUS *tmp75
+  300 op add *tmp75 6500 10000
+  301 op greaterThan *tmp76 .AVG_SURPLUS 16500
   302 op land *tmp77 *tmp74 *tmp76
   303 jump *label46 equal *tmp77 false
   304 jump *label48 lessThanEq .REACTORS_DESIRED 2
   305 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
-    * op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
+  306 op sub .AVG_SURPLUS .AVG_SURPLUS 6500
   307 label *label48
   308 label *label49
   309 label *label46
   310 label *label47
   311 op lessThan *tmp81 :update_reactors_desired.0:stored 0.8
-    * op mul *tmp82 .GOAL_BUFFER 0.8
-    * op lessThan *tmp83 .AVG_SURPLUS *tmp82
+  312 op mul *tmp82 10000 0.8
+  313 op lessThan *tmp83 .AVG_SURPLUS 8000
   314 op land *tmp84 *tmp81 *tmp83
   315 jump *label50 equal *tmp84 false
-    * op sub *tmp86 .AVG_SURPLUS .GOAL_BUFFER
-    * op idiv *tmp87 *tmp86 .GENERATOR_OUTPUT
+  316 op sub *tmp86 .AVG_SURPLUS 10000
+  317 op idiv *tmp87 *tmp86 6500
   318 op max :update_reactors_desired.0:needed 1 *tmp87
   319 op add *tmp89 :update_reactors_desired.0:needed .REACTORS_DESIRED
   320 op min .REACTORS_DESIRED 5 *tmp89
 
   338 op idiv *tmp93 :kilo.0:val 100
   339 op div :kilo.0*retval *tmp93 10
   340 jump *label54 always
-    * set :kilo.0*retval null
   341 label *label54
   342 return :kilo.0*retaddr
   343 end
 
   349 label *label56
   350 set *tmp97 .FUEL_OFF
   351 label *label57
-    * control config *tmp95 *tmp97
+  352 control config :update_fuel.0:uld_in *tmp97
   353 set *tmp98 :update_fuel.0:uld_out
   354 jump *label58 notEqual :update_fuel.0:fuel false
   355 set *tmp101 .FUEL
 
   357 label *label58
   358 set *tmp101 .FUEL_OFF
   359 label *label59
-    * control config *tmp98 *tmp101
+  360 control config :update_fuel.0:uld_out *tmp101
   361 label *label55
   362 return :update_fuel.0*retaddr
   363 end
 
   378 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
   379 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
   380 jump *label60 always
-    * set :calc_charge_req.0*retval null
   381 label *label60
   382 return :calc_charge_req.0*retaddr
   383 end
 
   446 call *label2 *invalid :calc_charge_req.0*retval
   447 label *label78
   448 set :start_reactor.0:charge_req :calc_charge_req.0*retval
-    * op sub *tmp153 :start_reactor.0:charge :start_reactor.0:charge_req
+  449 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
   450 op lessThan *tmp154 *tmp153 .PWR_ABORT
   451 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
   452 op land *tmp156 *tmp154 *tmp155
 
   462 print :start_reactor.0:time_left
   463 print " "
   464 print "secs, req "
-    * print :start_reactor.0:charge_req
+  465 print :calc_charge_req.0*retval
   466 print "J"
   467 print "\n"
   468 label *label80
 
   565 label *label96
   566 set :start_reactor.0*retval :start_reactor.0:supply_fuel
   567 jump *label63 always
-    * set :start_reactor.0*retval null
   568 label *label63
   569 return :start_reactor.0*retaddr
   570 end
 
   587 control enabled reactor5 false
   588 set :check_radar.0*retval true
   589 jump *label97 always
-    * set *tmp207 null
   590 jump *label99 always
   591 label *label98
   592 control enabled projector1 false
   593 control enabled projector2 false
   594 set :check_radar.0*retval false
   595 jump *label97 always
-    * set *tmp207 null
   596 label *label99
-    * set :check_radar.0*retval *tmp207
+  597 set :check_radar.0*retval null
   598 label *label97
   599 return :check_radar.0*retaddr
   600 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-15 instructions):
     0 printflush message1
     1 set .FUEL @blast-compound
     2 set .FUEL_OFF @scrap
-    * set .MIXER_IN @pyratite
     3 set .PWR_REQ 23000
     4 set .FLOW_REQ 2000
     5 set .PWR_ABANDON 2000
 
    11 set .FUEL_LIMIT_LOW 150
    12 set .FUEL_LIMIT 800
    13 set .FUEL_TOT_ABORT 15
-    * set .GENERATOR_OUTPUT 6500
-    * set .GOAL_BUFFER 10000
    14 set .CRYO_REQ 3
    15 set .CRYO_REQ_EA 2
    16 set .CRYO_ABORT 1
 
    35 set :t_startup3 *tmp5
    36 set :t_startup4 *tmp5
    37 set :t_startup5 *tmp5
-    * set .RET_T_STARTUP :start_time
+   38 set .RET_T_STARTUP *tmp5
    39 set .REACTORS_DESIRED 5
    40 set .AVG_SURPLUS 500
    41 label *label7
 
    46 set .ULD_IN_MANY unloader5
    47 set .ULD_OUT_MANY unloader6
    48 set .ULD_MIXER unloader7
-    * set .TOWER cyclone1
    49 set .CONTAINER vault1
    50 set .NODE node1
    51 set :check_radar.0:unit cyclone1
    52 setaddr :check_radar.0*retaddr *label10
    53 call *label4 *invalid :check_radar.0*retval
    54 label *label10
-    * set :emerg_shutdown :check_radar.0*retval
    55 op notEqual *tmp9 switch1 null
    56 sensor *tmp10 switch1 @enabled
    57 op equal *tmp11 *tmp10 false
 
   174 label *label27
   175 op or *tmp30 :fuel_1 :fuel_2
   176 op or :throttle_blast.0:reactors_fueled *tmp30 :fuel_many
-    * set :throttle_blast.0:emerg_shutdown :emerg_shutdown
   177 sensor *tmp33 node1 @powerNetStored
   178 op floor :throttle_blast.0:charge *tmp33
   179 sensor *tmp35 node1 @powerNetIn
 
   210 print :throttle_blast.0:fuel_stored
   211 print " "
   212 print "/ "
-    * print .FUEL_LIMIT_LOW
+  213 print 150
   214 print " "
   215 print "(due to emergency)"
   216 print "\n"
 
   221 print :throttle_blast.0:fuel_stored
   222 print " "
   223 print "/ "
-    * print .FUEL_LIMIT
+  224 print 800
   225 print "\"
   226 print "n"
   227 label *label34
 
   229 op lessThan *tmp32 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   230 jump *label28 always
   231 label *label28
-    * set :feed_mixers *tmp32
-    * set *tmp49 unloader7
   232 jump *label35 equal *tmp32 false
   233 set *tmp51 @pyratite
   234 jump *label36 always
   235 label *label35
   236 set *tmp51 @scrap
   237 label *label36
-    * control config .ULD_MIXER *tmp51
+  238 control config unloader7 *tmp51
   239 sensor *tmp53 node1 @powerNetStored
   240 sensor *tmp54 node1 @powerNetCapacity
   241 op div :diff_generators.0:stored_pc *tmp53 *tmp54
 
   268 setaddr :kilo.0*retaddr *label44
   269 call *label0 *invalid :kilo.0*retval
   270 label *label44
-    * set :req :kilo.0*retval
   271 print "Req "
   272 print :kilo.0*retval
   273 print "kJ / "
 
   288 sensor *tmp72 node1 @powerNetCapacity
   289 op div :update_reactors_desired.0:stored *tmp71 *tmp72
   290 op greaterThan *tmp74 :update_reactors_desired.0:stored 0.98
-    * op add *tmp75 6500 10000
   291 op greaterThan *tmp76 .AVG_SURPLUS 16500
   292 op land *tmp77 *tmp74 *tmp76
   293 jump *label46 equal *tmp77 false
 
   299 label *label46
   300 label *label47
   301 op lessThan *tmp81 :update_reactors_desired.0:stored 0.8
-    * op mul *tmp82 10000 0.8
   302 op lessThan *tmp83 .AVG_SURPLUS 8000
   303 op land *tmp84 *tmp81 *tmp83
   304 jump *label50 equal *tmp84 false
 
   331 return :kilo.0*retaddr
   332 end
   333 label *label1
-    * set *tmp95 :update_fuel.0:uld_in
   334 jump *label56 equal :update_fuel.0:fuel false
   335 set *tmp97 .FUEL
   336 jump *label57 always
 
   338 set *tmp97 .FUEL_OFF
   339 label *label57
   340 control config :update_fuel.0:uld_in *tmp97
-    * set *tmp98 :update_fuel.0:uld_out
   341 jump *label58 notEqual :update_fuel.0:fuel false
   342 set *tmp101 .FUEL
   343 jump *label59 always
 
   432 setaddr :calc_charge_req.0*retaddr *label78
   433 call *label2 *invalid :calc_charge_req.0*retval
   434 label *label78
-    * set :start_reactor.0:charge_req :calc_charge_req.0*retval
   435 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
   436 op lessThan *tmp154 *tmp153 .PWR_ABORT
   437 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
 
   580 set :check_radar.0*retval false
   581 jump *label97 always
   582 label *label99
-    * set :check_radar.0*retval null
   583 label *label97
   584 return :check_radar.0*retaddr
   585 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-3 instructions):
 
     8 set .FLOW_ABORT -500
     9 set .FUEL_REQ 10
    10 set .FUEL_TOT_REQ 45
-    * set .FUEL_LIMIT_LOW 150
-    * set .FUEL_LIMIT 800
    11 set .FUEL_TOT_ABORT 15
    12 set .CRYO_REQ 3
    13 set .CRYO_REQ_EA 2
 
    27 label *label5
    28 set *tmp5 @tick
    29 label *label6
-    * set :start_time *tmp5
    30 set :t_startup1 *tmp5
    31 set :t_startup2 *tmp5
    32 set :t_startup3 *tmp5

Modifications by Iterated phase, Loop Hoisting, pass 1, iteration 1:
 
    35 set .RET_T_STARTUP *tmp5
    36 set .REACTORS_DESIRED 5
    37 set .AVG_SURPLUS 500
+   38 set :start_reactor.0:reactor_num 1
+   39 set :start_reactor.0:reactor_num 2
+   40 set :start_reactor.0:reactor_num 3
+   41 set :start_reactor.0:reactor_num 4
+   42 set :start_reactor.0:reactor_num 5
    43 label *label7
    44 set .ULD_IN_1 unloader1
    45 set .ULD_OUT_1 unloader2
 
   100 label *label18
   101 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   102 set :start_reactor.0:reactor reactor1
-    * set :start_reactor.0:reactor_num 1
   103 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   104 set :start_reactor.0:fuel_on :fuel_1
   105 set :start_reactor.0:t_startup :t_startup1
 
   115 call *label1 *invalid :update_fuel.0*retval
   116 label *label20
   117 set :start_reactor.0:reactor reactor2
-    * set :start_reactor.0:reactor_num 2
   118 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   119 set :start_reactor.0:fuel_on :fuel_2
   120 set :start_reactor.0:t_startup :t_startup2
 
   135 label *label23
   136 op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
   137 set :start_reactor.0:reactor reactor3
-    * set :start_reactor.0:reactor_num 3
   138 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   139 set :start_reactor.0:fuel_on :fuel_3
   140 set :start_reactor.0:t_startup :t_startup3
 
   144 set :fuel_3 :start_reactor.0*retval
   145 set :t_startup3 .RET_T_STARTUP
   146 set :start_reactor.0:reactor reactor4
-    * set :start_reactor.0:reactor_num 4
   147 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   148 set :start_reactor.0:fuel_on :fuel_4
   149 set :start_reactor.0:t_startup :t_startup4
 
   153 set :fuel_4 :start_reactor.0*retval
   154 set :t_startup4 .RET_T_STARTUP
   155 set :start_reactor.0:reactor reactor5
-    * set :start_reactor.0:reactor_num 5
   156 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   157 set :start_reactor.0:fuel_on :fuel_5
   158 set :start_reactor.0:t_startup :t_startup5

Modifications by Iterated phase, If Expression Optimization, pass 1, iteration 1 (-3 instructions):
 
   227 jump *label28 always
   228 label *label28
   229 jump *label35 equal *tmp32 false
-    * set *tmp51 @pyratite
+  230 control config unloader7 @pyratite
   231 jump *label36 always
   232 label *label35
-    * set *tmp51 @scrap
+  233 control config unloader7 @scrap
   234 label *label36
-    * control config unloader7 *tmp51
   235 sensor *tmp53 node1 @powerNetStored
   236 sensor *tmp54 node1 @powerNetCapacity
   237 op div :diff_generators.0:stored_pc *tmp53 *tmp54
 
   328 end
   329 label *label1
   330 jump *label56 equal :update_fuel.0:fuel false
-    * set *tmp97 .FUEL
+  331 control config :update_fuel.0:uld_in .FUEL
   332 jump *label57 always
   333 label *label56
-    * set *tmp97 .FUEL_OFF
+  334 control config :update_fuel.0:uld_in .FUEL_OFF
   335 label *label57
-    * control config :update_fuel.0:uld_in *tmp97
   336 jump *label58 notEqual :update_fuel.0:fuel false
-    * set *tmp101 .FUEL
+  337 control config :update_fuel.0:uld_out .FUEL
   338 jump *label59 always
   339 label *label58
-    * set *tmp101 .FUEL_OFF
+  340 control config :update_fuel.0:uld_out .FUEL_OFF
   341 label *label59
-    * control config :update_fuel.0:uld_out *tmp101
   342 label *label55
   343 return :update_fuel.0*retaddr
   344 end

Modifications by Inline function 'kilo' defined at line 117:1 (-2 instructions):
 
   250 label *label39
   251 label *label37
   252 set :kilo.0:val .AVG_SURPLUS
-    * setaddr :kilo.0*retaddr *label40
-    * call *label0 *invalid :kilo.0*retval
-    * label *label40
+  253 label *label100
+  254 op idiv *tmp93 :kilo.0:val 100
+  255 op div :kilo.0*retval *tmp93 10
+  256 jump *label101 always
+  257 label *label101
   258 set :surplus :kilo.0*retval
   259 sensor :kilo.0:val node1 @powerNetStored
-    * setaddr :kilo.0*retaddr *label41
-    * call *label0 *invalid :kilo.0*retval
-    * label *label41
+  260 label *label102
+  261 op idiv *tmp93 :kilo.0:val 100
+  262 op div :kilo.0*retval *tmp93 10
+  263 jump *label103 always
+  264 label *label103
   265 set :charge :kilo.0*retval
   266 jump *label42 lessThanEq .START_POWER_REQ 0
   267 set :kilo.0:val .START_POWER_REQ
-    * setaddr :kilo.0*retaddr *label44
-    * call *label0 *invalid :kilo.0*retval
-    * label *label44
+  268 label *label104
+  269 op idiv *tmp93 :kilo.0:val 100
+  270 op div :kilo.0*retval *tmp93 10
+  271 jump *label105 always
+  272 label *label105
   273 print "Req "
   274 print :kilo.0*retval
   275 print "kJ / "
 
   325 jump *label7 always
   326 label *label9
   327 end
-    * label *label0
-    * op idiv *tmp93 :kilo.0:val 100
-    * op div :kilo.0*retval *tmp93 10
-    * jump *label54 always
-    * label *label54
-    * return :kilo.0*retaddr
-    * end
   328 label *label1
   329 jump *label56 equal :update_fuel.0:fuel false
   330 control config :update_fuel.0:uld_in .FUEL

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-4 instructions):
 
    35 set .RET_T_STARTUP *tmp5
    36 set .REACTORS_DESIRED 5
    37 set .AVG_SURPLUS 500
-    * set :start_reactor.0:reactor_num 1
-    * set :start_reactor.0:reactor_num 2
-    * set :start_reactor.0:reactor_num 3
-    * set :start_reactor.0:reactor_num 4
    38 set :start_reactor.0:reactor_num 5
    39 label *label7
    40 set .ULD_IN_1 unloader1
 
   247 label *label37
   248 set :kilo.0:val .AVG_SURPLUS
   249 label *label100
-    * op idiv *tmp93 :kilo.0:val 100
+  250 op idiv *tmp93 .AVG_SURPLUS 100
   251 op div :kilo.0*retval *tmp93 10
   252 jump *label101 always
   253 label *label101
 
   262 jump *label42 lessThanEq .START_POWER_REQ 0
   263 set :kilo.0:val .START_POWER_REQ
   264 label *label104
-    * op idiv *tmp93 :kilo.0:val 100
+  265 op idiv *tmp93 .START_POWER_REQ 100
   266 op div :kilo.0*retval *tmp93 10
   267 jump *label105 always
   268 label *label105

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-2 instructions):
 
   245 control enabled generator2 true
   246 label *label39
   247 label *label37
-    * set :kilo.0:val .AVG_SURPLUS
   248 label *label100
   249 op idiv *tmp93 .AVG_SURPLUS 100
   250 op div :kilo.0*retval *tmp93 10
 
   259 label *label103
   260 set :charge :kilo.0*retval
   261 jump *label42 lessThanEq .START_POWER_REQ 0
-    * set :kilo.0:val .START_POWER_REQ
   262 label *label104
   263 op idiv *tmp93 .START_POWER_REQ 100
   264 op div :kilo.0*retval *tmp93 10

Modifications by Inline function 'update_fuel' defined at line 121:1 (+8 instructions):
 
   107 set :update_fuel.0:fuel :start_reactor.0*retval
   108 set :update_fuel.0:uld_in unloader1
   109 set :update_fuel.0:uld_out unloader2
-    * setaddr :update_fuel.0*retaddr *label20
-    * call *label1 *invalid :update_fuel.0*retval
-    * label *label20
+  110 label *label106
+  111 jump *label107 equal :update_fuel.0:fuel false
+  112 control config :update_fuel.0:uld_in .FUEL
+  113 jump *label108 always
+  114 label *label107
+  115 control config :update_fuel.0:uld_in .FUEL_OFF
+  116 label *label108
+  117 jump *label109 notEqual :update_fuel.0:fuel false
+  118 control config :update_fuel.0:uld_out .FUEL
+  119 jump *label110 always
+  120 label *label109
+  121 control config :update_fuel.0:uld_out .FUEL_OFF
+  122 label *label110
+  123 label *label111
   124 set :start_reactor.0:reactor reactor2
   125 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   126 set :start_reactor.0:fuel_on :fuel_2
 
   133 set :update_fuel.0:fuel :start_reactor.0*retval
   134 set :update_fuel.0:uld_in unloader3
   135 set :update_fuel.0:uld_out unloader4
-    * setaddr :update_fuel.0*retaddr *label22
-    * call *label1 *invalid :update_fuel.0*retval
-    * label *label22
+  136 label *label112
+  137 jump *label113 equal :update_fuel.0:fuel false
+  138 control config :update_fuel.0:uld_in .FUEL
+  139 jump *label114 always
+  140 label *label113
+  141 control config :update_fuel.0:uld_in .FUEL_OFF
+  142 label *label114
+  143 jump *label115 notEqual :update_fuel.0:fuel false
+  144 control config :update_fuel.0:uld_out .FUEL
+  145 jump *label116 always
+  146 label *label115
+  147 control config :update_fuel.0:uld_out .FUEL_OFF
+  148 label *label116
+  149 label *label117
   150 set :check_radar.0:unit cyclone1
   151 setaddr :check_radar.0*retaddr *label23
   152 call *label4 *invalid :check_radar.0*retval
 
   184 set :update_fuel.0:fuel :fuel_many
   185 set :update_fuel.0:uld_in unloader5
   186 set :update_fuel.0:uld_out unloader6
-    * setaddr :update_fuel.0*retaddr *label27
-    * call *label1 *invalid :update_fuel.0*retval
-    * label *label27
+  187 label *label118
+  188 jump *label119 equal :update_fuel.0:fuel false
+  189 control config :update_fuel.0:uld_in .FUEL
+  190 jump *label120 always
+  191 label *label119
+  192 control config :update_fuel.0:uld_in .FUEL_OFF
+  193 label *label120
+  194 jump *label121 notEqual :update_fuel.0:fuel false
+  195 control config :update_fuel.0:uld_out .FUEL
+  196 jump *label122 always
+  197 label *label121
+  198 control config :update_fuel.0:uld_out .FUEL_OFF
+  199 label *label122
+  200 label *label123
   201 op or *tmp30 :fuel_1 :fuel_2
   202 op or :throttle_blast.0:reactors_fueled *tmp30 :fuel_many
   203 sensor *tmp33 node1 @powerNetStored
 
   352 jump *label7 always
   353 label *label9
   354 end
-    * label *label1
-    * jump *label56 equal :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_in .FUEL
-    * jump *label57 always
-    * label *label56
-    * control config :update_fuel.0:uld_in .FUEL_OFF
-    * label *label57
-    * jump *label58 notEqual :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_out .FUEL
-    * jump *label59 always
-    * label *label58
-    * control config :update_fuel.0:uld_out .FUEL_OFF
-    * label *label59
-    * label *label55
-    * return :update_fuel.0*retaddr
-    * end
   355 label *label2
   356 op sub *tmp102 @tick :calc_charge_req.0:time
   357 op idiv :calc_charge_req.0:secs *tmp102 60

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   108 set :update_fuel.0:uld_in unloader1
   109 set :update_fuel.0:uld_out unloader2
   110 label *label106
-    * jump *label107 equal :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_in .FUEL
+  111 jump *label107 equal :start_reactor.0*retval false
+  112 control config unloader1 @blast-compound
   113 jump *label108 always
   114 label *label107
-    * control config :update_fuel.0:uld_in .FUEL_OFF
+  115 control config unloader1 @scrap
   116 label *label108
-    * jump *label109 notEqual :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_out .FUEL
+  117 jump *label109 notEqual :start_reactor.0*retval false
+  118 control config unloader2 @blast-compound
   119 jump *label110 always
   120 label *label109
-    * control config :update_fuel.0:uld_out .FUEL_OFF
+  121 control config unloader2 @scrap
   122 label *label110
   123 label *label111
   124 set :start_reactor.0:reactor reactor2
 
   134 set :update_fuel.0:uld_in unloader3
   135 set :update_fuel.0:uld_out unloader4
   136 label *label112
-    * jump *label113 equal :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_in .FUEL
+  137 jump *label113 equal :start_reactor.0*retval false
+  138 control config unloader3 @blast-compound
   139 jump *label114 always
   140 label *label113
-    * control config :update_fuel.0:uld_in .FUEL_OFF
+  141 control config unloader3 @scrap
   142 label *label114
-    * jump *label115 notEqual :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_out .FUEL
+  143 jump *label115 notEqual :start_reactor.0*retval false
+  144 control config unloader4 @blast-compound
   145 jump *label116 always
   146 label *label115
-    * control config :update_fuel.0:uld_out .FUEL_OFF
+  147 control config unloader4 @scrap
   148 label *label116
   149 label *label117
   150 set :check_radar.0:unit cyclone1
 
   185 set :update_fuel.0:uld_in unloader5
   186 set :update_fuel.0:uld_out unloader6
   187 label *label118
-    * jump *label119 equal :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_in .FUEL
+  188 jump *label119 equal :fuel_many false
+  189 control config unloader5 @blast-compound
   190 jump *label120 always
   191 label *label119
-    * control config :update_fuel.0:uld_in .FUEL_OFF
+  192 control config unloader5 @scrap
   193 label *label120
-    * jump *label121 notEqual :update_fuel.0:fuel false
-    * control config :update_fuel.0:uld_out .FUEL
+  194 jump *label121 notEqual :fuel_many false
+  195 control config unloader6 @blast-compound
   196 jump *label122 always
   197 label *label121
-    * control config :update_fuel.0:uld_out .FUEL_OFF
+  198 control config unloader6 @scrap
   199 label *label122
   200 label *label123
   201 op or *tmp30 :fuel_1 :fuel_2

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-9 instructions):
 
   104 label *label19
   105 set :fuel_1 :start_reactor.0*retval
   106 set :t_startup1 .RET_T_STARTUP
-    * set :update_fuel.0:fuel :start_reactor.0*retval
-    * set :update_fuel.0:uld_in unloader1
-    * set :update_fuel.0:uld_out unloader2
   107 label *label106
   108 jump *label107 equal :start_reactor.0*retval false
   109 control config unloader1 @blast-compound
 
   127 label *label21
   128 set :fuel_2 :start_reactor.0*retval
   129 set :t_startup2 .RET_T_STARTUP
-    * set :update_fuel.0:fuel :start_reactor.0*retval
-    * set :update_fuel.0:uld_in unloader3
-    * set :update_fuel.0:uld_out unloader4
   130 label *label112
   131 jump *label113 equal :start_reactor.0*retval false
   132 control config unloader3 @blast-compound
 
   175 set :t_startup5 .RET_T_STARTUP
   176 op or *tmp27 :fuel_3 :fuel_4
   177 op or :fuel_many *tmp27 :start_reactor.0*retval
-    * set :update_fuel.0:fuel :fuel_many
-    * set :update_fuel.0:uld_in unloader5
-    * set :update_fuel.0:uld_out unloader6
   178 label *label118
   179 jump *label119 equal :fuel_many false
   180 control config unloader5 @blast-compound

Modifications by Inline function 'check_radar' defined at line 259:1 (+17 instructions):
 
    47 set .CONTAINER vault1
    48 set .NODE node1
    49 set :check_radar.0:unit cyclone1
-    * setaddr :check_radar.0*retaddr *label10
-    * call *label4 *invalid :check_radar.0*retval
-    * label *label10
+   50 label *label124
+   51 radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
+   52 jump *label125 equal :check_radar.0:enemy_found null
+   53 control enabled projector1 true
+   54 control enabled projector2 true
+   55 control config .ULD_IN_1 .FUEL_OFF
+   56 control config .ULD_OUT_1 .FUEL
+   57 control config .ULD_IN_2 .FUEL_OFF
+   58 control config .ULD_OUT_2 .FUEL
+   59 control config .ULD_IN_MANY .FUEL_OFF
+   60 control config .ULD_OUT_MANY .FUEL
+   61 control config .ULD_MIXER .FUEL_OFF
+   62 control enabled reactor1 false
+   63 control enabled reactor2 false
+   64 control enabled reactor3 false
+   65 control enabled reactor4 false
+   66 control enabled reactor5 false
+   67 set :check_radar.0*retval true
+   68 jump *label127 always
+   69 jump *label126 always
+   70 label *label125
+   71 control enabled projector1 false
+   72 control enabled projector2 false
+   73 set :check_radar.0*retval false
+   74 jump *label127 always
+   75 label *label126
+   76 label *label127
    77 op notEqual *tmp9 switch1 null
    78 sensor *tmp10 switch1 @enabled
    79 op equal *tmp11 *tmp10 false
 
   166 label *label116
   167 label *label117
   168 set :check_radar.0:unit cyclone1
-    * setaddr :check_radar.0*retaddr *label23
-    * call *label4 *invalid :check_radar.0*retval
-    * label *label23
+  169 label *label128
+  170 radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
+  171 jump *label129 equal :check_radar.0:enemy_found null
+  172 control enabled projector1 true
+  173 control enabled projector2 true
+  174 control config .ULD_IN_1 .FUEL_OFF
+  175 control config .ULD_OUT_1 .FUEL
+  176 control config .ULD_IN_2 .FUEL_OFF
+  177 control config .ULD_OUT_2 .FUEL
+  178 control config .ULD_IN_MANY .FUEL_OFF
+  179 control config .ULD_OUT_MANY .FUEL
+  180 control config .ULD_MIXER .FUEL_OFF
+  181 control enabled reactor1 false
+  182 control enabled reactor2 false
+  183 control enabled reactor3 false
+  184 control enabled reactor4 false
+  185 control enabled reactor5 false
+  186 set :check_radar.0*retval true
+  187 jump *label131 always
+  188 jump *label130 always
+  189 label *label129
+  190 control enabled projector1 false
+  191 control enabled projector2 false
+  192 set :check_radar.0*retval false
+  193 jump *label131 always
+  194 label *label130
+  195 label *label131
   196 op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
   197 set :start_reactor.0:reactor reactor3
   198 set :start_reactor.0:emerg_shutdown :emerg_shutdown
 
   597 label *label63
   598 return :start_reactor.0*retaddr
   599 end
-    * label *label4
-    * radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
-    * jump *label98 equal :check_radar.0:enemy_found null
-    * control enabled projector1 true
-    * control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
-    * control enabled reactor1 false
-    * control enabled reactor2 false
-    * control enabled reactor3 false
-    * control enabled reactor4 false
-    * control enabled reactor5 false
-    * set :check_radar.0*retval true
-    * jump *label97 always
-    * jump *label99 always
-    * label *label98
-    * control enabled projector1 false
-    * control enabled projector2 false
-    * set :check_radar.0*retval false
-    * jump *label97 always
-    * label *label99
-    * label *label97
-    * return :check_radar.0*retaddr
-    * end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    48 set .NODE node1
    49 set :check_radar.0:unit cyclone1
    50 label *label124
-    * radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
+   51 radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
    52 jump *label125 equal :check_radar.0:enemy_found null
    53 control enabled projector1 true
    54 control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
+   55 control config unloader1 @scrap
+   56 control config unloader2 @blast-compound
+   57 control config unloader3 @scrap
+   58 control config unloader4 @blast-compound
+   59 control config unloader5 @scrap
+   60 control config unloader6 @blast-compound
+   61 control config unloader7 @scrap
    62 control enabled reactor1 false
    63 control enabled reactor2 false
    64 control enabled reactor3 false
 
   167 label *label117
   168 set :check_radar.0:unit cyclone1
   169 label *label128
-    * radar enemy any any health :check_radar.0:unit 1 :check_radar.0:enemy_found
+  170 radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
   171 jump *label129 equal :check_radar.0:enemy_found null
   172 control enabled projector1 true
   173 control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
+  174 control config unloader1 @scrap
+  175 control config unloader2 @blast-compound
+  176 control config unloader3 @scrap
+  177 control config unloader4 @blast-compound
+  178 control config unloader5 @scrap
+  179 control config unloader6 @blast-compound
+  180 control config unloader7 @scrap
   181 control enabled reactor1 false
   182 control enabled reactor2 false
   183 control enabled reactor3 false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-11 instructions):
     0 printflush message1
-    * set .FUEL @blast-compound
-    * set .FUEL_OFF @scrap
     1 set .PWR_REQ 23000
     2 set .FLOW_REQ 2000
     3 set .PWR_ABANDON 2000
 
    35 set .AVG_SURPLUS 500
    36 set :start_reactor.0:reactor_num 5
    37 label *label7
-    * set .ULD_IN_1 unloader1
-    * set .ULD_OUT_1 unloader2
-    * set .ULD_IN_2 unloader3
-    * set .ULD_OUT_2 unloader4
-    * set .ULD_IN_MANY unloader5
-    * set .ULD_OUT_MANY unloader6
-    * set .ULD_MIXER unloader7
    38 set .CONTAINER vault1
    39 set .NODE node1
-    * set :check_radar.0:unit cyclone1
    40 label *label124
    41 radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
    42 jump *label125 equal :check_radar.0:enemy_found null
 
   155 control config unloader4 @scrap
   156 label *label116
   157 label *label117
-    * set :check_radar.0:unit cyclone1
   158 label *label128
   159 radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
   160 jump *label129 equal :check_radar.0:enemy_found null

Modifications by Inline function 'calc_charge_req' defined at line 126:1 (+56 instructions):
 
    81 op or :emerg_shutdown :check_radar.0*retval *tmp8
    82 set :calc_charge_req.0:reactor reactor1
    83 set :calc_charge_req.0:time :t_startup1
-    * setaddr :calc_charge_req.0*retaddr *label14
-    * call *label2 *invalid :calc_charge_req.0*retval
-    * label *label14
+   84 label *label132
+   85 op sub *tmp102 @tick :calc_charge_req.0:time
+   86 op idiv :calc_charge_req.0:secs *tmp102 60
+   87 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+   88 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+   89 op equal *tmp106 *tmp105 false
+   90 op or *tmp107 *tmp104 *tmp106
+   91 jump *label133 equal *tmp107 false
+   92 set :calc_charge_req.0*retval 0
+   93 jump *label135 always
+   94 label *label133
+   95 label *label134
+   96 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+   97 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+   98 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+   99 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  100 jump *label135 always
+  101 label *label135
   102 set .START_POWER_REQ :calc_charge_req.0*retval
   103 set :calc_charge_req.0:reactor reactor2
   104 set :calc_charge_req.0:time :t_startup2
-    * setaddr :calc_charge_req.0*retaddr *label15
-    * call *label2 *invalid :calc_charge_req.0*retval
-    * label *label15
+  105 label *label136
+  106 op sub *tmp102 @tick :calc_charge_req.0:time
+  107 op idiv :calc_charge_req.0:secs *tmp102 60
+  108 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  109 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  110 op equal *tmp106 *tmp105 false
+  111 op or *tmp107 *tmp104 *tmp106
+  112 jump *label137 equal *tmp107 false
+  113 set :calc_charge_req.0*retval 0
+  114 jump *label139 always
+  115 label *label137
+  116 label *label138
+  117 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  118 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  119 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  120 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  121 jump *label139 always
+  122 label *label139
   123 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   124 set :calc_charge_req.0:reactor reactor3
   125 set :calc_charge_req.0:time :t_startup3
-    * setaddr :calc_charge_req.0*retaddr *label16
-    * call *label2 *invalid :calc_charge_req.0*retval
-    * label *label16
+  126 label *label140
+  127 op sub *tmp102 @tick :calc_charge_req.0:time
+  128 op idiv :calc_charge_req.0:secs *tmp102 60
+  129 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  130 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  131 op equal *tmp106 *tmp105 false
+  132 op or *tmp107 *tmp104 *tmp106
+  133 jump *label141 equal *tmp107 false
+  134 set :calc_charge_req.0*retval 0
+  135 jump *label143 always
+  136 label *label141
+  137 label *label142
+  138 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  139 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  140 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  141 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  142 jump *label143 always
+  143 label *label143
   144 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   145 set :calc_charge_req.0:reactor reactor4
   146 set :calc_charge_req.0:time :t_startup4
-    * setaddr :calc_charge_req.0*retaddr *label17
-    * call *label2 *invalid :calc_charge_req.0*retval
-    * label *label17
+  147 label *label144
+  148 op sub *tmp102 @tick :calc_charge_req.0:time
+  149 op idiv :calc_charge_req.0:secs *tmp102 60
+  150 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  151 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  152 op equal *tmp106 *tmp105 false
+  153 op or *tmp107 *tmp104 *tmp106
+  154 jump *label145 equal *tmp107 false
+  155 set :calc_charge_req.0*retval 0
+  156 jump *label147 always
+  157 label *label145
+  158 label *label146
+  159 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  160 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  161 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  162 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  163 jump *label147 always
+  164 label *label147
   165 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   166 set :calc_charge_req.0:reactor reactor5
   167 set :calc_charge_req.0:time :t_startup5
-    * setaddr :calc_charge_req.0*retaddr *label18
-    * call *label2 *invalid :calc_charge_req.0*retval
-    * label *label18
+  168 label *label148
+  169 op sub *tmp102 @tick :calc_charge_req.0:time
+  170 op idiv :calc_charge_req.0:secs *tmp102 60
+  171 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  172 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  173 op equal *tmp106 *tmp105 false
+  174 op or *tmp107 *tmp104 *tmp106
+  175 jump *label149 equal *tmp107 false
+  176 set :calc_charge_req.0*retval 0
+  177 jump *label151 always
+  178 label *label149
+  179 label *label150
+  180 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  181 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  182 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  183 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  184 jump *label151 always
+  185 label *label151
   186 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
   187 set :start_reactor.0:reactor reactor1
   188 set :start_reactor.0:emerg_shutdown :emerg_shutdown
 
   455 jump *label7 always
   456 label *label9
   457 end
-    * label *label2
-    * op sub *tmp102 @tick :calc_charge_req.0:time
-    * op idiv :calc_charge_req.0:secs *tmp102 60
-    * op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
-    * op equal *tmp106 *tmp105 false
-    * op or *tmp107 *tmp104 *tmp106
-    * jump *label61 equal *tmp107 false
-    * set :calc_charge_req.0*retval 0
-    * jump *label60 always
-    * label *label61
-    * label *label62
-    * op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
-    * op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
-    * op idiv :calc_charge_req.0:charge_req *tmp110 0.04
-    * set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
-    * jump *label60 always
-    * label *label60
-    * return :calc_charge_req.0*retaddr
-    * end
   458 label *label3
   459 set .RET_T_STARTUP :start_reactor.0:t_startup
   460 op sub *tmp113 @tick :start_reactor.0:t_startup
 
   516 jump *label76 greaterThanEq :start_reactor.0:secs 30
   517 set :calc_charge_req.0:reactor :start_reactor.0:reactor
   518 set :calc_charge_req.0:time :start_reactor.0:t_startup
-    * setaddr :calc_charge_req.0*retaddr *label78
-    * call *label2 *invalid :calc_charge_req.0*retval
-    * label *label78
+  519 label *label152
+  520 op sub *tmp102 @tick :calc_charge_req.0:time
+  521 op idiv :calc_charge_req.0:secs *tmp102 60
+  522 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  523 sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  524 op equal *tmp106 *tmp105 false
+  525 op or *tmp107 *tmp104 *tmp106
+  526 jump *label153 equal *tmp107 false
+  527 set :calc_charge_req.0*retval 0
+  528 jump *label155 always
+  529 label *label153
+  530 label *label154
+  531 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  532 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  533 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  534 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  535 jump *label155 always
+  536 label *label155
   537 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
   538 op lessThan *tmp154 *tmp153 .PWR_ABORT
   539 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    82 set :calc_charge_req.0:reactor reactor1
    83 set :calc_charge_req.0:time :t_startup1
    84 label *label132
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+   85 op sub *tmp102 @tick :t_startup1
    86 op idiv :calc_charge_req.0:secs *tmp102 60
    87 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+   88 sensor *tmp105 reactor1 @enabled
    89 op equal *tmp106 *tmp105 false
    90 op or *tmp107 *tmp104 *tmp106
    91 jump *label133 equal *tmp107 false
 
   103 set :calc_charge_req.0:reactor reactor2
   104 set :calc_charge_req.0:time :t_startup2
   105 label *label136
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+  106 op sub *tmp102 @tick :t_startup2
   107 op idiv :calc_charge_req.0:secs *tmp102 60
   108 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  109 sensor *tmp105 reactor2 @enabled
   110 op equal *tmp106 *tmp105 false
   111 op or *tmp107 *tmp104 *tmp106
   112 jump *label137 equal *tmp107 false
 
   124 set :calc_charge_req.0:reactor reactor3
   125 set :calc_charge_req.0:time :t_startup3
   126 label *label140
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+  127 op sub *tmp102 @tick :t_startup3
   128 op idiv :calc_charge_req.0:secs *tmp102 60
   129 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  130 sensor *tmp105 reactor3 @enabled
   131 op equal *tmp106 *tmp105 false
   132 op or *tmp107 *tmp104 *tmp106
   133 jump *label141 equal *tmp107 false
 
   145 set :calc_charge_req.0:reactor reactor4
   146 set :calc_charge_req.0:time :t_startup4
   147 label *label144
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+  148 op sub *tmp102 @tick :t_startup4
   149 op idiv :calc_charge_req.0:secs *tmp102 60
   150 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  151 sensor *tmp105 reactor4 @enabled
   152 op equal *tmp106 *tmp105 false
   153 op or *tmp107 *tmp104 *tmp106
   154 jump *label145 equal *tmp107 false
 
   166 set :calc_charge_req.0:reactor reactor5
   167 set :calc_charge_req.0:time :t_startup5
   168 label *label148
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+  169 op sub *tmp102 @tick :t_startup5
   170 op idiv :calc_charge_req.0:secs *tmp102 60
   171 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  172 sensor *tmp105 reactor5 @enabled
   173 op equal *tmp106 *tmp105 false
   174 op or *tmp107 *tmp104 *tmp106
   175 jump *label149 equal *tmp107 false
 
   517 set :calc_charge_req.0:reactor :start_reactor.0:reactor
   518 set :calc_charge_req.0:time :start_reactor.0:t_startup
   519 label *label152
-    * op sub *tmp102 @tick :calc_charge_req.0:time
+  520 op sub *tmp102 @tick :start_reactor.0:t_startup
   521 op idiv :calc_charge_req.0:secs *tmp102 60
   522 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :calc_charge_req.0:reactor @enabled
+  523 sensor *tmp105 :start_reactor.0:reactor @enabled
   524 op equal *tmp106 *tmp105 false
   525 op or *tmp107 *tmp104 *tmp106
   526 jump *label153 equal *tmp107 false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-12 instructions):
 
    79 jump *label11 always
    80 label *label11
    81 op or :emerg_shutdown :check_radar.0*retval *tmp8
-    * set :calc_charge_req.0:reactor reactor1
-    * set :calc_charge_req.0:time :t_startup1
    82 label *label132
    83 op sub *tmp102 @tick :t_startup1
    84 op idiv :calc_charge_req.0:secs *tmp102 60
 
    98 jump *label135 always
    99 label *label135
   100 set .START_POWER_REQ :calc_charge_req.0*retval
-    * set :calc_charge_req.0:reactor reactor2
-    * set :calc_charge_req.0:time :t_startup2
   101 label *label136
   102 op sub *tmp102 @tick :t_startup2
   103 op idiv :calc_charge_req.0:secs *tmp102 60
 
   117 jump *label139 always
   118 label *label139
   119 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * set :calc_charge_req.0:reactor reactor3
-    * set :calc_charge_req.0:time :t_startup3
   120 label *label140
   121 op sub *tmp102 @tick :t_startup3
   122 op idiv :calc_charge_req.0:secs *tmp102 60
 
   136 jump *label143 always
   137 label *label143
   138 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * set :calc_charge_req.0:reactor reactor4
-    * set :calc_charge_req.0:time :t_startup4
   139 label *label144
   140 op sub *tmp102 @tick :t_startup4
   141 op idiv :calc_charge_req.0:secs *tmp102 60
 
   155 jump *label147 always
   156 label *label147
   157 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * set :calc_charge_req.0:reactor reactor5
-    * set :calc_charge_req.0:time :t_startup5
   158 label *label148
   159 op sub *tmp102 @tick :t_startup5
   160 op idiv :calc_charge_req.0:secs *tmp102 60
 
   504 jump *label75 always
   505 label *label74
   506 jump *label76 greaterThanEq :start_reactor.0:secs 30
-    * set :calc_charge_req.0:reactor :start_reactor.0:reactor
-    * set :calc_charge_req.0:time :start_reactor.0:t_startup
   507 label *label152
   508 op sub *tmp102 @tick :start_reactor.0:t_startup
   509 op idiv :calc_charge_req.0:secs *tmp102 60

Modifications by Inline function call at line 80:14 (+157 instructions):
 
   178 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   179 set :start_reactor.0:fuel_on :fuel_1
   180 set :start_reactor.0:t_startup :t_startup1
-    * setaddr :start_reactor.0*retaddr *label19
-    * call *label3 *invalid :start_reactor.0*retval
-    * label *label19
+  181 label *label156
+  182 set .RET_T_STARTUP :start_reactor.0:t_startup
+  183 op sub *tmp113 @tick :start_reactor.0:t_startup
+  184 op idiv :start_reactor.0:secs *tmp113 60
+  185 sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
+  186 set :start_reactor.0:supply_fuel true
+  187 sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
+  188 sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
+  189 sensor *tmp118 .NODE @powerNetStored
+  190 op floor :start_reactor.0:charge *tmp118
+  191 sensor *tmp120 .NODE @powerNetIn
+  192 sensor *tmp121 .NODE @powerNetOut
+  193 op sub *tmp122 *tmp120 *tmp121
+  194 op floor :start_reactor.0:surplus *tmp122
+  195 op mul *tmp124 .AVG_SURPLUS 0.8
+  196 op mul *tmp125 :start_reactor.0:surplus 0.2
+  197 op add .AVG_SURPLUS *tmp124 *tmp125
+  198 sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
+  199 print "#"
+  200 print :start_reactor.0:reactor_num
+  201 print " "
+  202 print "- "
+  203 jump *label157 equal :start_reactor.0:emerg_shutdown false
+  204 control enabled :start_reactor.0:reactor false
+  205 print "emergency mode"
+  206 print "\n"
+  207 set :start_reactor.0:supply_fuel false
+  208 jump *label190 always
+  209 label *label157
+  210 jump *label176 equal :start_reactor.0:enabled false
+  211 jump *label158 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  212 control enabled :start_reactor.0:reactor false
+  213 print "STOP unwanted"
+  214 print "\n"
+  215 jump *label175 always
+  216 label *label158
+  217 op greaterThan *tmp136 :start_reactor.0:reactor_num 1
+  218 op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
+  219 op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
+  220 op land *tmp139 *tmp136 *tmp138
+  221 jump *label159 equal *tmp139 false
+  222 control enabled :start_reactor.0:reactor false
+  223 print "STOP system fuel low"
+  224 print "\n"
+  225 jump *label174 always
+  226 label *label159
+  227 jump *label160 greaterThan :start_reactor.0:fuel 1
+  228 control enabled :start_reactor.0:reactor false
+  229 print "STOP fuel low"
+  230 print "\n"
+  231 jump *label173 always
+  232 label *label160
+  233 jump *label161 greaterThan :start_reactor.0:cryo .CRYO_ABORT
+  234 control enabled :start_reactor.0:reactor false
+  235 print "STOP out of cryo"
+  236 print "\n"
+  237 jump *label172 always
+  238 label *label161
+  239 jump *label168 greaterThanEq :start_reactor.0:secs 30
+  240 label *label162
+  241 op sub *tmp102 @tick :start_reactor.0:t_startup
+  242 op idiv :calc_charge_req.0:secs *tmp102 60
+  243 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  244 sensor *tmp105 :start_reactor.0:reactor @enabled
+  245 op equal *tmp106 *tmp105 false
+  246 op or *tmp107 *tmp104 *tmp106
+  247 jump *label163 equal *tmp107 false
+  248 set :calc_charge_req.0*retval 0
+  249 jump *label165 always
+  250 label *label163
+  251 label *label164
+  252 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  253 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  254 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  255 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  256 jump *label165 always
+  257 label *label165
+  258 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
+  259 op lessThan *tmp154 *tmp153 .PWR_ABORT
+  260 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
+  261 op land *tmp156 *tmp154 *tmp155
+  262 jump *label166 equal *tmp156 false
+  263 control enabled :start_reactor.0:reactor false
+  264 print "START FAIL battery"
+  265 print "\n"
+  266 set :start_reactor.0:supply_fuel false
+  267 jump *label167 always
+  268 label *label166
+  269 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
+  270 print "Starting "
+  271 print :start_reactor.0:time_left
+  272 print " "
+  273 print "secs, req "
+  274 print :calc_charge_req.0*retval
+  275 print "J"
+  276 print "\n"
+  277 label *label167
+  278 jump *label171 always
+  279 label *label168
+  280 op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
+  281 op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
+  282 op land *tmp163 *tmp161 *tmp162
+  283 jump *label169 equal *tmp163 false
+  284 control enabled :start_reactor.0:reactor false
+  285 print "ABANDON - battery crit"
+  286 print "\n"
+  287 set :start_reactor.0:supply_fuel false
+  288 jump *label170 always
+  289 label *label169
+  290 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
+  291 op div :start_reactor.0:mins :start_reactor.0:mins 10
+  292 print "RUN "
+  293 print :start_reactor.0:mins
+  294 print " "
+  295 print "mins"
+  296 print "\n"
+  297 label *label170
+  298 label *label171
+  299 label *label172
+  300 label *label173
+  301 label *label174
+  302 label *label175
+  303 jump *label189 always
+  304 label *label176
+  305 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
+  306 op sub *tmp170 *tmp169 .PWR_ABORT
+  307 op div *tmp171 *tmp170 .PWR_REQ
+  308 op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
+  309 op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
+  310 op max :start_reactor.0:flow_units -0.1 *tmp173
+  311 op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
+  312 op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
+  313 jump *label177 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  314 print "IDLE"
+  315 print "\n"
+  316 set :start_reactor.0:supply_fuel false
+  317 jump *label188 always
+  318 label *label177
+  319 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
+  320 jump *label178 greaterThanEq *tmp179 1
+  321 op idiv *tmp183 :start_reactor.0:flow_units 0.001
+  322 op div :start_reactor.0:flow *tmp183 10
+  323 op idiv *tmp186 :start_reactor.0:charge_units 0.001
+  324 op div :start_reactor.0:charge *tmp186 10
+  325 print "WAIT power. (%"
+  326 print :start_reactor.0:charge
+  327 print "J + %"
+  328 print :start_reactor.0:flow
+  329 print "W)"
+  330 print "\n"
+  331 set :start_reactor.0:supply_fuel false
+  332 jump *label187 always
+  333 label *label178
+  334 op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
+  335 op land *tmp189 :start_reactor.0:fuel_on *tmp188
+  336 jump *label181 equal *tmp189 false
+  337 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
+  338 jump *label179 lessThanEq *tmp191 .FUEL_REQ
+  339 print "WAIT fuel"
+  340 print "\n"
+  341 jump *label180 always
+  342 label *label179
+  343 print "WAIT system fuel"
+  344 print "\n"
+  345 label *label180
+  346 jump *label186 always
+  347 label *label181
+  348 op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
+  349 jump *label182 greaterThanEq :start_reactor.0:fuel_stored *tmp194
+  350 print "WAIT buffer fuel"
+  351 print "\n"
+  352 jump *label185 always
+  353 label *label182
+  354 jump *label183 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
+  355 print "WAIT cryo"
+  356 print "\n"
+  357 jump *label184 always
+  358 label *label183
+  359 print "STARTUP"
+  360 print "\n"
+  361 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  362 control enabled :start_reactor.0:reactor true
+  363 label *label184
+  364 label *label185
+  365 label *label186
+  366 label *label187
+  367 label *label188
+  368 label *label189
+  369 label *label190
+  370 sensor *tmp201 :start_reactor.0:reactor @enabled
+  371 jump *label191 equal :start_reactor.0:enabled *tmp201
+  372 set .RET_T_STARTUP @tick
+  373 label *label191
+  374 label *label192
+  375 set :start_reactor.0*retval :start_reactor.0:supply_fuel
+  376 jump *label193 always
+  377 label *label193
   378 set :fuel_1 :start_reactor.0*retval
   379 set :t_startup1 .RET_T_STARTUP
   380 label *label106

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-1 instructions):
 
    30 set :t_startup3 *tmp5
    31 set :t_startup4 *tmp5
    32 set :t_startup5 *tmp5
-    * set .RET_T_STARTUP *tmp5
    33 set .REACTORS_DESIRED 5
    34 set .AVG_SURPLUS 500
    35 set :start_reactor.0:reactor_num 5
 
   178 set :start_reactor.0:fuel_on :fuel_1
   179 set :start_reactor.0:t_startup :t_startup1
   180 label *label156
-    * set .RET_T_STARTUP :start_reactor.0:t_startup
-    * op sub *tmp113 @tick :start_reactor.0:t_startup
+  181 set .RET_T_STARTUP :t_startup1
+  182 op sub *tmp113 @tick :t_startup1
   183 op idiv :start_reactor.0:secs *tmp113 60
-    * sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
+  184 sensor :start_reactor.0:fuel reactor1 @blast-compound
   185 set :start_reactor.0:supply_fuel true
-    * sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
-    * sensor *tmp118 .NODE @powerNetStored
+  186 sensor :start_reactor.0:fuel_stored vault1 @blast-compound
+  187 sensor :start_reactor.0:cryo reactor1 @cryofluid
+  188 sensor *tmp118 node1 @powerNetStored
   189 op floor :start_reactor.0:charge *tmp118
-    * sensor *tmp120 .NODE @powerNetIn
-    * sensor *tmp121 .NODE @powerNetOut
+  190 sensor *tmp120 node1 @powerNetIn
+  191 sensor *tmp121 node1 @powerNetOut
   192 op sub *tmp122 *tmp120 *tmp121
   193 op floor :start_reactor.0:surplus *tmp122
   194 op mul *tmp124 .AVG_SURPLUS 0.8
   195 op mul *tmp125 :start_reactor.0:surplus 0.2
   196 op add .AVG_SURPLUS *tmp124 *tmp125
-    * sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
+  197 sensor :start_reactor.0:enabled reactor1 @enabled
   198 print "#"
-    * print :start_reactor.0:reactor_num
+  199 print 5
   200 print " "
   201 print "- "
-    * jump *label157 equal :start_reactor.0:emerg_shutdown false
-    * control enabled :start_reactor.0:reactor false
+  202 jump *label157 equal :emerg_shutdown false
+  203 control enabled reactor1 false
   204 print "emergency mode"
   205 print "\n"
   206 set :start_reactor.0:supply_fuel false
   207 jump *label190 always
   208 label *label157
   209 jump *label176 equal :start_reactor.0:enabled false
-    * jump *label158 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * control enabled :start_reactor.0:reactor false
+  210 jump *label158 greaterThanEq .REACTORS_DESIRED 5
+  211 control enabled reactor1 false
   212 print "STOP unwanted"
   213 print "\n"
   214 jump *label175 always
   215 label *label158
-    * op greaterThan *tmp136 :start_reactor.0:reactor_num 1
-    * op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
-    * op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
-    * op land *tmp139 *tmp136 *tmp138
+  216 op greaterThan *tmp136 5 1
+  217 op mul *tmp137 15 5
+  218 op lessThan *tmp138 :start_reactor.0:fuel_stored 75
+  219 op land *tmp139 true *tmp138
   220 jump *label159 equal *tmp139 false
-    * control enabled :start_reactor.0:reactor false
+  221 control enabled reactor1 false
   222 print "STOP system fuel low"
   223 print "\n"
   224 jump *label174 always
   225 label *label159
   226 jump *label160 greaterThan :start_reactor.0:fuel 1
-    * control enabled :start_reactor.0:reactor false
+  227 control enabled reactor1 false
   228 print "STOP fuel low"
   229 print "\n"
   230 jump *label173 always
   231 label *label160
-    * jump *label161 greaterThan :start_reactor.0:cryo .CRYO_ABORT
-    * control enabled :start_reactor.0:reactor false
+  232 jump *label161 greaterThan :start_reactor.0:cryo 1
+  233 control enabled reactor1 false
   234 print "STOP out of cryo"
   235 print "\n"
   236 jump *label172 always
   237 label *label161
   238 jump *label168 greaterThanEq :start_reactor.0:secs 30
   239 label *label162
-    * op sub *tmp102 @tick :start_reactor.0:t_startup
+  240 op sub *tmp102 @tick :t_startup1
   241 op idiv :calc_charge_req.0:secs *tmp102 60
   242 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :start_reactor.0:reactor @enabled
+  243 sensor *tmp105 reactor1 @enabled
   244 op equal *tmp106 *tmp105 false
   245 op or *tmp107 *tmp104 *tmp106
   246 jump *label163 equal *tmp107 false
 
   255 jump *label165 always
   256 label *label165
   257 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
-    * op lessThan *tmp154 *tmp153 .PWR_ABORT
-    * op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
+  258 op lessThan *tmp154 *tmp153 5000
+  259 op lessThan *tmp155 :start_reactor.0:surplus -500
   260 op land *tmp156 *tmp154 *tmp155
   261 jump *label166 equal *tmp156 false
-    * control enabled :start_reactor.0:reactor false
+  262 control enabled reactor1 false
   263 print "START FAIL battery"
   264 print "\n"
   265 set :start_reactor.0:supply_fuel false
 
   276 label *label167
   277 jump *label171 always
   278 label *label168
-    * op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
-    * op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
+  279 op lessThan *tmp161 :start_reactor.0:charge 2000
+  280 op lessThan *tmp162 :start_reactor.0:surplus -500
   281 op land *tmp163 *tmp161 *tmp162
   282 jump *label169 equal *tmp163 false
-    * control enabled :start_reactor.0:reactor false
+  283 control enabled reactor1 false
   284 print "ABANDON - battery crit"
   285 print "\n"
   286 set :start_reactor.0:supply_fuel false
 
   302 jump *label189 always
   303 label *label176
   304 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
-    * op sub *tmp170 *tmp169 .PWR_ABORT
-    * op div *tmp171 *tmp170 .PWR_REQ
-    * op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
-    * op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
+  305 op sub *tmp170 *tmp169 5000
+  306 op div *tmp171 *tmp170 23000
+  307 op mul :start_reactor.0:charge_units *tmp171 0.6
+  308 op div *tmp173 :start_reactor.0:surplus 2000
   309 op max :start_reactor.0:flow_units -0.1 *tmp173
-    * op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
-    * op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
-    * jump *label177 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  310 op mul *tmp175 2 5
+  311 op add :start_reactor.0:cryo_req 3 10
+  312 jump *label177 greaterThanEq .REACTORS_DESIRED 5
   313 print "IDLE"
   314 print "\n"
   315 set :start_reactor.0:supply_fuel false
 
   330 set :start_reactor.0:supply_fuel false
   331 jump *label187 always
   332 label *label178
-    * op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
-    * op land *tmp189 :start_reactor.0:fuel_on *tmp188
+  333 op lessThan *tmp188 :start_reactor.0:fuel 10
+  334 op land *tmp189 :fuel_1 *tmp188
   335 jump *label181 equal *tmp189 false
   336 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
-    * jump *label179 lessThanEq *tmp191 .FUEL_REQ
+  337 jump *label179 lessThanEq *tmp191 10
   338 print "WAIT fuel"
   339 print "\n"
   340 jump *label180 always
 
   344 label *label180
   345 jump *label186 always
   346 label *label181
-    * op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
-    * jump *label182 greaterThanEq :start_reactor.0:fuel_stored *tmp194
+  347 op mul *tmp194 45 5
+  348 jump *label182 greaterThanEq :start_reactor.0:fuel_stored 225
   349 print "WAIT buffer fuel"
   350 print "\n"
   351 jump *label185 always
   352 label *label182
-    * jump *label183 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
+  353 jump *label183 greaterThanEq :start_reactor.0:cryo 13
   354 print "WAIT cryo"
   355 print "\n"
   356 jump *label184 always
   357 label *label183
   358 print "STARTUP"
   359 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor.0:reactor true
+  360 op add .START_POWER_REQ .START_POWER_REQ 23000
+  361 control enabled reactor1 true
   362 label *label184
   363 label *label185
   364 label *label186
 
   366 label *label188
   367 label *label189
   368 label *label190
-    * sensor *tmp201 :start_reactor.0:reactor @enabled
+  369 sensor *tmp201 reactor1 @enabled
   370 jump *label191 equal :start_reactor.0:enabled *tmp201
   371 set .RET_T_STARTUP @tick
   372 label *label191
 
   374 set :start_reactor.0*retval :start_reactor.0:supply_fuel
   375 jump *label193 always
   376 label *label193
-    * set :fuel_1 :start_reactor.0*retval
+  377 set :fuel_1 :start_reactor.0:supply_fuel
   378 set :t_startup1 .RET_T_STARTUP
   379 label *label106
-    * jump *label107 equal :start_reactor.0*retval false
+  380 jump *label107 equal :start_reactor.0:supply_fuel false
   381 control config unloader1 @blast-compound
   382 jump *label108 always
   383 label *label107
   384 control config unloader1 @scrap
   385 label *label108
-    * jump *label109 notEqual :start_reactor.0*retval false
+  386 jump *label109 notEqual :start_reactor.0:supply_fuel false
   387 control config unloader2 @blast-compound
   388 jump *label110 always
   389 label *label109

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-5 instructions):
 
   173 jump *label151 always
   174 label *label151
   175 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
-    * set :start_reactor.0:reactor reactor1
-    * set :start_reactor.0:emerg_shutdown :emerg_shutdown
-    * set :start_reactor.0:fuel_on :fuel_1
-    * set :start_reactor.0:t_startup :t_startup1
   176 label *label156
   177 set .RET_T_STARTUP :t_startup1
   178 op sub *tmp113 @tick :t_startup1
 
   300 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
   301 op sub *tmp170 *tmp169 5000
   302 op div *tmp171 *tmp170 23000
-    * op mul :start_reactor.0:charge_units *tmp171 0.6
+  303 op div :start_reactor.0:charge_units *tmp170 38333.333333333336
   304 op div *tmp173 :start_reactor.0:surplus 2000
   305 op max :start_reactor.0:flow_units -0.1 *tmp173
   306 op mul *tmp175 2 5
 
   367 set .RET_T_STARTUP @tick
   368 label *label191
   369 label *label192
-    * set :start_reactor.0*retval :start_reactor.0:supply_fuel
   370 jump *label193 always
   371 label *label193
   372 set :fuel_1 :start_reactor.0:supply_fuel

Modifications by Inline function call at line 84:14 (+157 instructions):
 
   389 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   390 set :start_reactor.0:fuel_on :fuel_2
   391 set :start_reactor.0:t_startup :t_startup2
-    * setaddr :start_reactor.0*retaddr *label21
-    * call *label3 *invalid :start_reactor.0*retval
-    * label *label21
+  392 label *label194
+  393 set .RET_T_STARTUP :start_reactor.0:t_startup
+  394 op sub *tmp113 @tick :start_reactor.0:t_startup
+  395 op idiv :start_reactor.0:secs *tmp113 60
+  396 sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
+  397 set :start_reactor.0:supply_fuel true
+  398 sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
+  399 sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
+  400 sensor *tmp118 .NODE @powerNetStored
+  401 op floor :start_reactor.0:charge *tmp118
+  402 sensor *tmp120 .NODE @powerNetIn
+  403 sensor *tmp121 .NODE @powerNetOut
+  404 op sub *tmp122 *tmp120 *tmp121
+  405 op floor :start_reactor.0:surplus *tmp122
+  406 op mul *tmp124 .AVG_SURPLUS 0.8
+  407 op mul *tmp125 :start_reactor.0:surplus 0.2
+  408 op add .AVG_SURPLUS *tmp124 *tmp125
+  409 sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
+  410 print "#"
+  411 print :start_reactor.0:reactor_num
+  412 print " "
+  413 print "- "
+  414 jump *label195 equal :start_reactor.0:emerg_shutdown false
+  415 control enabled :start_reactor.0:reactor false
+  416 print "emergency mode"
+  417 print "\n"
+  418 set :start_reactor.0:supply_fuel false
+  419 jump *label228 always
+  420 label *label195
+  421 jump *label214 equal :start_reactor.0:enabled false
+  422 jump *label196 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  423 control enabled :start_reactor.0:reactor false
+  424 print "STOP unwanted"
+  425 print "\n"
+  426 jump *label213 always
+  427 label *label196
+  428 op greaterThan *tmp136 :start_reactor.0:reactor_num 1
+  429 op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
+  430 op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
+  431 op land *tmp139 *tmp136 *tmp138
+  432 jump *label197 equal *tmp139 false
+  433 control enabled :start_reactor.0:reactor false
+  434 print "STOP system fuel low"
+  435 print "\n"
+  436 jump *label212 always
+  437 label *label197
+  438 jump *label198 greaterThan :start_reactor.0:fuel 1
+  439 control enabled :start_reactor.0:reactor false
+  440 print "STOP fuel low"
+  441 print "\n"
+  442 jump *label211 always
+  443 label *label198
+  444 jump *label199 greaterThan :start_reactor.0:cryo .CRYO_ABORT
+  445 control enabled :start_reactor.0:reactor false
+  446 print "STOP out of cryo"
+  447 print "\n"
+  448 jump *label210 always
+  449 label *label199
+  450 jump *label206 greaterThanEq :start_reactor.0:secs 30
+  451 label *label200
+  452 op sub *tmp102 @tick :start_reactor.0:t_startup
+  453 op idiv :calc_charge_req.0:secs *tmp102 60
+  454 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  455 sensor *tmp105 :start_reactor.0:reactor @enabled
+  456 op equal *tmp106 *tmp105 false
+  457 op or *tmp107 *tmp104 *tmp106
+  458 jump *label201 equal *tmp107 false
+  459 set :calc_charge_req.0*retval 0
+  460 jump *label203 always
+  461 label *label201
+  462 label *label202
+  463 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  464 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  465 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  466 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  467 jump *label203 always
+  468 label *label203
+  469 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
+  470 op lessThan *tmp154 *tmp153 .PWR_ABORT
+  471 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
+  472 op land *tmp156 *tmp154 *tmp155
+  473 jump *label204 equal *tmp156 false
+  474 control enabled :start_reactor.0:reactor false
+  475 print "START FAIL battery"
+  476 print "\n"
+  477 set :start_reactor.0:supply_fuel false
+  478 jump *label205 always
+  479 label *label204
+  480 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
+  481 print "Starting "
+  482 print :start_reactor.0:time_left
+  483 print " "
+  484 print "secs, req "
+  485 print :calc_charge_req.0*retval
+  486 print "J"
+  487 print "\n"
+  488 label *label205
+  489 jump *label209 always
+  490 label *label206
+  491 op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
+  492 op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
+  493 op land *tmp163 *tmp161 *tmp162
+  494 jump *label207 equal *tmp163 false
+  495 control enabled :start_reactor.0:reactor false
+  496 print "ABANDON - battery crit"
+  497 print "\n"
+  498 set :start_reactor.0:supply_fuel false
+  499 jump *label208 always
+  500 label *label207
+  501 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
+  502 op div :start_reactor.0:mins :start_reactor.0:mins 10
+  503 print "RUN "
+  504 print :start_reactor.0:mins
+  505 print " "
+  506 print "mins"
+  507 print "\n"
+  508 label *label208
+  509 label *label209
+  510 label *label210
+  511 label *label211
+  512 label *label212
+  513 label *label213
+  514 jump *label227 always
+  515 label *label214
+  516 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
+  517 op sub *tmp170 *tmp169 .PWR_ABORT
+  518 op div *tmp171 *tmp170 .PWR_REQ
+  519 op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
+  520 op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
+  521 op max :start_reactor.0:flow_units -0.1 *tmp173
+  522 op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
+  523 op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
+  524 jump *label215 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  525 print "IDLE"
+  526 print "\n"
+  527 set :start_reactor.0:supply_fuel false
+  528 jump *label226 always
+  529 label *label215
+  530 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
+  531 jump *label216 greaterThanEq *tmp179 1
+  532 op idiv *tmp183 :start_reactor.0:flow_units 0.001
+  533 op div :start_reactor.0:flow *tmp183 10
+  534 op idiv *tmp186 :start_reactor.0:charge_units 0.001
+  535 op div :start_reactor.0:charge *tmp186 10
+  536 print "WAIT power. (%"
+  537 print :start_reactor.0:charge
+  538 print "J + %"
+  539 print :start_reactor.0:flow
+  540 print "W)"
+  541 print "\n"
+  542 set :start_reactor.0:supply_fuel false
+  543 jump *label225 always
+  544 label *label216
+  545 op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
+  546 op land *tmp189 :start_reactor.0:fuel_on *tmp188
+  547 jump *label219 equal *tmp189 false
+  548 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
+  549 jump *label217 lessThanEq *tmp191 .FUEL_REQ
+  550 print "WAIT fuel"
+  551 print "\n"
+  552 jump *label218 always
+  553 label *label217
+  554 print "WAIT system fuel"
+  555 print "\n"
+  556 label *label218
+  557 jump *label224 always
+  558 label *label219
+  559 op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
+  560 jump *label220 greaterThanEq :start_reactor.0:fuel_stored *tmp194
+  561 print "WAIT buffer fuel"
+  562 print "\n"
+  563 jump *label223 always
+  564 label *label220
+  565 jump *label221 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
+  566 print "WAIT cryo"
+  567 print "\n"
+  568 jump *label222 always
+  569 label *label221
+  570 print "STARTUP"
+  571 print "\n"
+  572 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  573 control enabled :start_reactor.0:reactor true
+  574 label *label222
+  575 label *label223
+  576 label *label224
+  577 label *label225
+  578 label *label226
+  579 label *label227
+  580 label *label228
+  581 sensor *tmp201 :start_reactor.0:reactor @enabled
+  582 jump *label229 equal :start_reactor.0:enabled *tmp201
+  583 set .RET_T_STARTUP @tick
+  584 label *label229
+  585 label *label230
+  586 set :start_reactor.0*retval :start_reactor.0:supply_fuel
+  587 jump *label231 always
+  588 label *label231
   589 set :fuel_2 :start_reactor.0*retval
   590 set :t_startup2 .RET_T_STARTUP
   591 label *label112

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   390 set :start_reactor.0:fuel_on :fuel_2
   391 set :start_reactor.0:t_startup :t_startup2
   392 label *label194
-    * set .RET_T_STARTUP :start_reactor.0:t_startup
-    * op sub *tmp113 @tick :start_reactor.0:t_startup
+  393 set .RET_T_STARTUP :t_startup2
+  394 op sub *tmp113 @tick :t_startup2
   395 op idiv :start_reactor.0:secs *tmp113 60
-    * sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
+  396 sensor :start_reactor.0:fuel reactor2 @blast-compound
   397 set :start_reactor.0:supply_fuel true
-    * sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
-    * sensor *tmp118 .NODE @powerNetStored
+  398 sensor :start_reactor.0:fuel_stored vault1 @blast-compound
+  399 sensor :start_reactor.0:cryo reactor2 @cryofluid
+  400 sensor *tmp118 node1 @powerNetStored
   401 op floor :start_reactor.0:charge *tmp118
-    * sensor *tmp120 .NODE @powerNetIn
-    * sensor *tmp121 .NODE @powerNetOut
+  402 sensor *tmp120 node1 @powerNetIn
+  403 sensor *tmp121 node1 @powerNetOut
   404 op sub *tmp122 *tmp120 *tmp121
   405 op floor :start_reactor.0:surplus *tmp122
   406 op mul *tmp124 .AVG_SURPLUS 0.8
   407 op mul *tmp125 :start_reactor.0:surplus 0.2
   408 op add .AVG_SURPLUS *tmp124 *tmp125
-    * sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
+  409 sensor :start_reactor.0:enabled reactor2 @enabled
   410 print "#"
-    * print :start_reactor.0:reactor_num
+  411 print 5
   412 print " "
   413 print "- "
-    * jump *label195 equal :start_reactor.0:emerg_shutdown false
-    * control enabled :start_reactor.0:reactor false
+  414 jump *label195 equal :emerg_shutdown false
+  415 control enabled reactor2 false
   416 print "emergency mode"
   417 print "\n"
   418 set :start_reactor.0:supply_fuel false
   419 jump *label228 always
   420 label *label195
   421 jump *label214 equal :start_reactor.0:enabled false
-    * jump *label196 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * control enabled :start_reactor.0:reactor false
+  422 jump *label196 greaterThanEq .REACTORS_DESIRED 5
+  423 control enabled reactor2 false
   424 print "STOP unwanted"
   425 print "\n"
   426 jump *label213 always
   427 label *label196
-    * op greaterThan *tmp136 :start_reactor.0:reactor_num 1
-    * op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
-    * op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
-    * op land *tmp139 *tmp136 *tmp138
+  428 op greaterThan *tmp136 5 1
+  429 op mul *tmp137 15 5
+  430 op lessThan *tmp138 :start_reactor.0:fuel_stored 75
+  431 op land *tmp139 true *tmp138
   432 jump *label197 equal *tmp139 false
-    * control enabled :start_reactor.0:reactor false
+  433 control enabled reactor2 false
   434 print "STOP system fuel low"
   435 print "\n"
   436 jump *label212 always
   437 label *label197
   438 jump *label198 greaterThan :start_reactor.0:fuel 1
-    * control enabled :start_reactor.0:reactor false
+  439 control enabled reactor2 false
   440 print "STOP fuel low"
   441 print "\n"
   442 jump *label211 always
   443 label *label198
-    * jump *label199 greaterThan :start_reactor.0:cryo .CRYO_ABORT
-    * control enabled :start_reactor.0:reactor false
+  444 jump *label199 greaterThan :start_reactor.0:cryo 1
+  445 control enabled reactor2 false
   446 print "STOP out of cryo"
   447 print "\n"
   448 jump *label210 always
   449 label *label199
   450 jump *label206 greaterThanEq :start_reactor.0:secs 30
   451 label *label200
-    * op sub *tmp102 @tick :start_reactor.0:t_startup
+  452 op sub *tmp102 @tick :t_startup2
   453 op idiv :calc_charge_req.0:secs *tmp102 60
   454 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :start_reactor.0:reactor @enabled
+  455 sensor *tmp105 reactor2 @enabled
   456 op equal *tmp106 *tmp105 false
   457 op or *tmp107 *tmp104 *tmp106
   458 jump *label201 equal *tmp107 false
 
   467 jump *label203 always
   468 label *label203
   469 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
-    * op lessThan *tmp154 *tmp153 .PWR_ABORT
-    * op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
+  470 op lessThan *tmp154 *tmp153 5000
+  471 op lessThan *tmp155 :start_reactor.0:surplus -500
   472 op land *tmp156 *tmp154 *tmp155
   473 jump *label204 equal *tmp156 false
-    * control enabled :start_reactor.0:reactor false
+  474 control enabled reactor2 false
   475 print "START FAIL battery"
   476 print "\n"
   477 set :start_reactor.0:supply_fuel false
 
   488 label *label205
   489 jump *label209 always
   490 label *label206
-    * op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
-    * op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
+  491 op lessThan *tmp161 :start_reactor.0:charge 2000
+  492 op lessThan *tmp162 :start_reactor.0:surplus -500
   493 op land *tmp163 *tmp161 *tmp162
   494 jump *label207 equal *tmp163 false
-    * control enabled :start_reactor.0:reactor false
+  495 control enabled reactor2 false
   496 print "ABANDON - battery crit"
   497 print "\n"
   498 set :start_reactor.0:supply_fuel false
 
   514 jump *label227 always
   515 label *label214
   516 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
-    * op sub *tmp170 *tmp169 .PWR_ABORT
-    * op div *tmp171 *tmp170 .PWR_REQ
-    * op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
-    * op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
+  517 op sub *tmp170 *tmp169 5000
+  518 op div *tmp171 *tmp170 23000
+  519 op mul :start_reactor.0:charge_units *tmp171 0.6
+  520 op div *tmp173 :start_reactor.0:surplus 2000
   521 op max :start_reactor.0:flow_units -0.1 *tmp173
-    * op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
-    * op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
-    * jump *label215 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  522 op mul *tmp175 2 5
+  523 op add :start_reactor.0:cryo_req 3 10
+  524 jump *label215 greaterThanEq .REACTORS_DESIRED 5
   525 print "IDLE"
   526 print "\n"
   527 set :start_reactor.0:supply_fuel false
 
   542 set :start_reactor.0:supply_fuel false
   543 jump *label225 always
   544 label *label216
-    * op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
-    * op land *tmp189 :start_reactor.0:fuel_on *tmp188
+  545 op lessThan *tmp188 :start_reactor.0:fuel 10
+  546 op land *tmp189 :fuel_2 *tmp188
   547 jump *label219 equal *tmp189 false
   548 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
-    * jump *label217 lessThanEq *tmp191 .FUEL_REQ
+  549 jump *label217 lessThanEq *tmp191 10
   550 print "WAIT fuel"
   551 print "\n"
   552 jump *label218 always
 
   556 label *label218
   557 jump *label224 always
   558 label *label219
-    * op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
-    * jump *label220 greaterThanEq :start_reactor.0:fuel_stored *tmp194
+  559 op mul *tmp194 45 5
+  560 jump *label220 greaterThanEq :start_reactor.0:fuel_stored 225
   561 print "WAIT buffer fuel"
   562 print "\n"
   563 jump *label223 always
   564 label *label220
-    * jump *label221 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
+  565 jump *label221 greaterThanEq :start_reactor.0:cryo 13
   566 print "WAIT cryo"
   567 print "\n"
   568 jump *label222 always
   569 label *label221
   570 print "STARTUP"
   571 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor.0:reactor true
+  572 op add .START_POWER_REQ .START_POWER_REQ 23000
+  573 control enabled reactor2 true
   574 label *label222
   575 label *label223
   576 label *label224
 
   578 label *label226
   579 label *label227
   580 label *label228
-    * sensor *tmp201 :start_reactor.0:reactor @enabled
+  581 sensor *tmp201 reactor2 @enabled
   582 jump *label229 equal :start_reactor.0:enabled *tmp201
   583 set .RET_T_STARTUP @tick
   584 label *label229
 
   586 set :start_reactor.0*retval :start_reactor.0:supply_fuel
   587 jump *label231 always
   588 label *label231
-    * set :fuel_2 :start_reactor.0*retval
+  589 set :fuel_2 :start_reactor.0:supply_fuel
   590 set :t_startup2 .RET_T_STARTUP
   591 label *label112
-    * jump *label113 equal :start_reactor.0*retval false
+  592 jump *label113 equal :start_reactor.0:supply_fuel false
   593 control config unloader3 @blast-compound
   594 jump *label114 always
   595 label *label113
   596 control config unloader3 @scrap
   597 label *label114
-    * jump *label115 notEqual :start_reactor.0*retval false
+  598 jump *label115 notEqual :start_reactor.0:supply_fuel false
   599 control config unloader4 @blast-compound
   600 jump *label116 always
   601 label *label115

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-5 instructions):
 
   385 control config unloader2 @scrap
   386 label *label110
   387 label *label111
-    * set :start_reactor.0:reactor reactor2
-    * set :start_reactor.0:emerg_shutdown :emerg_shutdown
-    * set :start_reactor.0:fuel_on :fuel_2
-    * set :start_reactor.0:t_startup :t_startup2
   388 label *label194
   389 set .RET_T_STARTUP :t_startup2
   390 op sub *tmp113 @tick :t_startup2
 
   512 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
   513 op sub *tmp170 *tmp169 5000
   514 op div *tmp171 *tmp170 23000
-    * op mul :start_reactor.0:charge_units *tmp171 0.6
+  515 op div :start_reactor.0:charge_units *tmp170 38333.333333333336
   516 op div *tmp173 :start_reactor.0:surplus 2000
   517 op max :start_reactor.0:flow_units -0.1 *tmp173
   518 op mul *tmp175 2 5
 
   579 set .RET_T_STARTUP @tick
   580 label *label229
   581 label *label230
-    * set :start_reactor.0*retval :start_reactor.0:supply_fuel
   582 jump *label231 always
   583 label *label231
   584 set :fuel_2 :start_reactor.0:supply_fuel

Modifications by Inline function call at line 89:14 (+157 instructions):
 
   629 set :start_reactor.0:emerg_shutdown :emerg_shutdown
   630 set :start_reactor.0:fuel_on :fuel_3
   631 set :start_reactor.0:t_startup :t_startup3
-    * setaddr :start_reactor.0*retaddr *label24
-    * call *label3 *invalid :start_reactor.0*retval
-    * label *label24
+  632 label *label232
+  633 set .RET_T_STARTUP :start_reactor.0:t_startup
+  634 op sub *tmp113 @tick :start_reactor.0:t_startup
+  635 op idiv :start_reactor.0:secs *tmp113 60
+  636 sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
+  637 set :start_reactor.0:supply_fuel true
+  638 sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
+  639 sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
+  640 sensor *tmp118 .NODE @powerNetStored
+  641 op floor :start_reactor.0:charge *tmp118
+  642 sensor *tmp120 .NODE @powerNetIn
+  643 sensor *tmp121 .NODE @powerNetOut
+  644 op sub *tmp122 *tmp120 *tmp121
+  645 op floor :start_reactor.0:surplus *tmp122
+  646 op mul *tmp124 .AVG_SURPLUS 0.8
+  647 op mul *tmp125 :start_reactor.0:surplus 0.2
+  648 op add .AVG_SURPLUS *tmp124 *tmp125
+  649 sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
+  650 print "#"
+  651 print :start_reactor.0:reactor_num
+  652 print " "
+  653 print "- "
+  654 jump *label233 equal :start_reactor.0:emerg_shutdown false
+  655 control enabled :start_reactor.0:reactor false
+  656 print "emergency mode"
+  657 print "\n"
+  658 set :start_reactor.0:supply_fuel false
+  659 jump *label266 always
+  660 label *label233
+  661 jump *label252 equal :start_reactor.0:enabled false
+  662 jump *label234 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  663 control enabled :start_reactor.0:reactor false
+  664 print "STOP unwanted"
+  665 print "\n"
+  666 jump *label251 always
+  667 label *label234
+  668 op greaterThan *tmp136 :start_reactor.0:reactor_num 1
+  669 op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
+  670 op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
+  671 op land *tmp139 *tmp136 *tmp138
+  672 jump *label235 equal *tmp139 false
+  673 control enabled :start_reactor.0:reactor false
+  674 print "STOP system fuel low"
+  675 print "\n"
+  676 jump *label250 always
+  677 label *label235
+  678 jump *label236 greaterThan :start_reactor.0:fuel 1
+  679 control enabled :start_reactor.0:reactor false
+  680 print "STOP fuel low"
+  681 print "\n"
+  682 jump *label249 always
+  683 label *label236
+  684 jump *label237 greaterThan :start_reactor.0:cryo .CRYO_ABORT
+  685 control enabled :start_reactor.0:reactor false
+  686 print "STOP out of cryo"
+  687 print "\n"
+  688 jump *label248 always
+  689 label *label237
+  690 jump *label244 greaterThanEq :start_reactor.0:secs 30
+  691 label *label238
+  692 op sub *tmp102 @tick :start_reactor.0:t_startup
+  693 op idiv :calc_charge_req.0:secs *tmp102 60
+  694 op greaterThan *tmp104 :calc_charge_req.0:secs 30
+  695 sensor *tmp105 :start_reactor.0:reactor @enabled
+  696 op equal *tmp106 *tmp105 false
+  697 op or *tmp107 *tmp104 *tmp106
+  698 jump *label239 equal *tmp107 false
+  699 set :calc_charge_req.0*retval 0
+  700 jump *label241 always
+  701 label *label239
+  702 label *label240
+  703 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
+  704 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
+  705 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
+  706 set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+  707 jump *label241 always
+  708 label *label241
+  709 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
+  710 op lessThan *tmp154 *tmp153 .PWR_ABORT
+  711 op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
+  712 op land *tmp156 *tmp154 *tmp155
+  713 jump *label242 equal *tmp156 false
+  714 control enabled :start_reactor.0:reactor false
+  715 print "START FAIL battery"
+  716 print "\n"
+  717 set :start_reactor.0:supply_fuel false
+  718 jump *label243 always
+  719 label *label242
+  720 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
+  721 print "Starting "
+  722 print :start_reactor.0:time_left
+  723 print " "
+  724 print "secs, req "
+  725 print :calc_charge_req.0*retval
+  726 print "J"
+  727 print "\n"
+  728 label *label243
+  729 jump *label247 always
+  730 label *label244
+  731 op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
+  732 op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
+  733 op land *tmp163 *tmp161 *tmp162
+  734 jump *label245 equal *tmp163 false
+  735 control enabled :start_reactor.0:reactor false
+  736 print "ABANDON - battery crit"
+  737 print "\n"
+  738 set :start_reactor.0:supply_fuel false
+  739 jump *label246 always
+  740 label *label245
+  741 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
+  742 op div :start_reactor.0:mins :start_reactor.0:mins 10
+  743 print "RUN "
+  744 print :start_reactor.0:mins
+  745 print " "
+  746 print "mins"
+  747 print "\n"
+  748 label *label246
+  749 label *label247
+  750 label *label248
+  751 label *label249
+  752 label *label250
+  753 label *label251
+  754 jump *label265 always
+  755 label *label252
+  756 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
+  757 op sub *tmp170 *tmp169 .PWR_ABORT
+  758 op div *tmp171 *tmp170 .PWR_REQ
+  759 op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
+  760 op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
+  761 op max :start_reactor.0:flow_units -0.1 *tmp173
+  762 op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
+  763 op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
+  764 jump *label253 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  765 print "IDLE"
+  766 print "\n"
+  767 set :start_reactor.0:supply_fuel false
+  768 jump *label264 always
+  769 label *label253
+  770 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
+  771 jump *label254 greaterThanEq *tmp179 1
+  772 op idiv *tmp183 :start_reactor.0:flow_units 0.001
+  773 op div :start_reactor.0:flow *tmp183 10
+  774 op idiv *tmp186 :start_reactor.0:charge_units 0.001
+  775 op div :start_reactor.0:charge *tmp186 10
+  776 print "WAIT power. (%"
+  777 print :start_reactor.0:charge
+  778 print "J + %"
+  779 print :start_reactor.0:flow
+  780 print "W)"
+  781 print "\n"
+  782 set :start_reactor.0:supply_fuel false
+  783 jump *label263 always
+  784 label *label254
+  785 op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
+  786 op land *tmp189 :start_reactor.0:fuel_on *tmp188
+  787 jump *label257 equal *tmp189 false
+  788 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
+  789 jump *label255 lessThanEq *tmp191 .FUEL_REQ
+  790 print "WAIT fuel"
+  791 print "\n"
+  792 jump *label256 always
+  793 label *label255
+  794 print "WAIT system fuel"
+  795 print "\n"
+  796 label *label256
+  797 jump *label262 always
+  798 label *label257
+  799 op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
+  800 jump *label258 greaterThanEq :start_reactor.0:fuel_stored *tmp194
+  801 print "WAIT buffer fuel"
+  802 print "\n"
+  803 jump *label261 always
+  804 label *label258
+  805 jump *label259 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
+  806 print "WAIT cryo"
+  807 print "\n"
+  808 jump *label260 always
+  809 label *label259
+  810 print "STARTUP"
+  811 print "\n"
+  812 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  813 control enabled :start_reactor.0:reactor true
+  814 label *label260
+  815 label *label261
+  816 label *label262
+  817 label *label263
+  818 label *label264
+  819 label *label265
+  820 label *label266
+  821 sensor *tmp201 :start_reactor.0:reactor @enabled
+  822 jump *label267 equal :start_reactor.0:enabled *tmp201
+  823 set .RET_T_STARTUP @tick
+  824 label *label267
+  825 label *label268
+  826 set :start_reactor.0*retval :start_reactor.0:supply_fuel
+  827 jump *label269 always
+  828 label *label269
   829 set :fuel_3 :start_reactor.0*retval
   830 set :t_startup3 .RET_T_STARTUP
   831 set :start_reactor.0:reactor reactor4

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   630 set :start_reactor.0:fuel_on :fuel_3
   631 set :start_reactor.0:t_startup :t_startup3
   632 label *label232
-    * set .RET_T_STARTUP :start_reactor.0:t_startup
-    * op sub *tmp113 @tick :start_reactor.0:t_startup
+  633 set .RET_T_STARTUP :t_startup3
+  634 op sub *tmp113 @tick :t_startup3
   635 op idiv :start_reactor.0:secs *tmp113 60
-    * sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
+  636 sensor :start_reactor.0:fuel reactor3 @blast-compound
   637 set :start_reactor.0:supply_fuel true
-    * sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
-    * sensor *tmp118 .NODE @powerNetStored
+  638 sensor :start_reactor.0:fuel_stored vault1 @blast-compound
+  639 sensor :start_reactor.0:cryo reactor3 @cryofluid
+  640 sensor *tmp118 node1 @powerNetStored
   641 op floor :start_reactor.0:charge *tmp118
-    * sensor *tmp120 .NODE @powerNetIn
-    * sensor *tmp121 .NODE @powerNetOut
+  642 sensor *tmp120 node1 @powerNetIn
+  643 sensor *tmp121 node1 @powerNetOut
   644 op sub *tmp122 *tmp120 *tmp121
   645 op floor :start_reactor.0:surplus *tmp122
   646 op mul *tmp124 .AVG_SURPLUS 0.8
   647 op mul *tmp125 :start_reactor.0:surplus 0.2
   648 op add .AVG_SURPLUS *tmp124 *tmp125
-    * sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
+  649 sensor :start_reactor.0:enabled reactor3 @enabled
   650 print "#"
-    * print :start_reactor.0:reactor_num
+  651 print 5
   652 print " "
   653 print "- "
-    * jump *label233 equal :start_reactor.0:emerg_shutdown false
-    * control enabled :start_reactor.0:reactor false
+  654 jump *label233 equal :emerg_shutdown false
+  655 control enabled reactor3 false
   656 print "emergency mode"
   657 print "\n"
   658 set :start_reactor.0:supply_fuel false
   659 jump *label266 always
   660 label *label233
   661 jump *label252 equal :start_reactor.0:enabled false
-    * jump *label234 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * control enabled :start_reactor.0:reactor false
+  662 jump *label234 greaterThanEq .REACTORS_DESIRED 5
+  663 control enabled reactor3 false
   664 print "STOP unwanted"
   665 print "\n"
   666 jump *label251 always
   667 label *label234
-    * op greaterThan *tmp136 :start_reactor.0:reactor_num 1
-    * op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
-    * op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
-    * op land *tmp139 *tmp136 *tmp138
+  668 op greaterThan *tmp136 5 1
+  669 op mul *tmp137 15 5
+  670 op lessThan *tmp138 :start_reactor.0:fuel_stored 75
+  671 op land *tmp139 true *tmp138
   672 jump *label235 equal *tmp139 false
-    * control enabled :start_reactor.0:reactor false
+  673 control enabled reactor3 false
   674 print "STOP system fuel low"
   675 print "\n"
   676 jump *label250 always
   677 label *label235
   678 jump *label236 greaterThan :start_reactor.0:fuel 1
-    * control enabled :start_reactor.0:reactor false
+  679 control enabled reactor3 false
   680 print "STOP fuel low"
   681 print "\n"
   682 jump *label249 always
   683 label *label236
-    * jump *label237 greaterThan :start_reactor.0:cryo .CRYO_ABORT
-    * control enabled :start_reactor.0:reactor false
+  684 jump *label237 greaterThan :start_reactor.0:cryo 1
+  685 control enabled reactor3 false
   686 print "STOP out of cryo"
   687 print "\n"
   688 jump *label248 always
   689 label *label237
   690 jump *label244 greaterThanEq :start_reactor.0:secs 30
   691 label *label238
-    * op sub *tmp102 @tick :start_reactor.0:t_startup
+  692 op sub *tmp102 @tick :t_startup3
   693 op idiv :calc_charge_req.0:secs *tmp102 60
   694 op greaterThan *tmp104 :calc_charge_req.0:secs 30
-    * sensor *tmp105 :start_reactor.0:reactor @enabled
+  695 sensor *tmp105 reactor3 @enabled
   696 op equal *tmp106 *tmp105 false
   697 op or *tmp107 *tmp104 *tmp106
   698 jump *label239 equal *tmp107 false
 
   707 jump *label241 always
   708 label *label241
   709 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
-    * op lessThan *tmp154 *tmp153 .PWR_ABORT
-    * op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
+  710 op lessThan *tmp154 *tmp153 5000
+  711 op lessThan *tmp155 :start_reactor.0:surplus -500
   712 op land *tmp156 *tmp154 *tmp155
   713 jump *label242 equal *tmp156 false
-    * control enabled :start_reactor.0:reactor false
+  714 control enabled reactor3 false
   715 print "START FAIL battery"
   716 print "\n"
   717 set :start_reactor.0:supply_fuel false
 
   728 label *label243
   729 jump *label247 always
   730 label *label244
-    * op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
-    * op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
+  731 op lessThan *tmp161 :start_reactor.0:charge 2000
+  732 op lessThan *tmp162 :start_reactor.0:surplus -500
   733 op land *tmp163 *tmp161 *tmp162
   734 jump *label245 equal *tmp163 false
-    * control enabled :start_reactor.0:reactor false
+  735 control enabled reactor3 false
   736 print "ABANDON - battery crit"
   737 print "\n"
   738 set :start_reactor.0:supply_fuel false
 
   754 jump *label265 always
   755 label *label252
   756 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
-    * op sub *tmp170 *tmp169 .PWR_ABORT
-    * op div *tmp171 *tmp170 .PWR_REQ
-    * op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
-    * op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
+  757 op sub *tmp170 *tmp169 5000
+  758 op div *tmp171 *tmp170 23000
+  759 op mul :start_reactor.0:charge_units *tmp171 0.6
+  760 op div *tmp173 :start_reactor.0:surplus 2000
   761 op max :start_reactor.0:flow_units -0.1 *tmp173
-    * op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
-    * op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
-    * jump *label253 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
+  762 op mul *tmp175 2 5
+  763 op add :start_reactor.0:cryo_req 3 10
+  764 jump *label253 greaterThanEq .REACTORS_DESIRED 5
   765 print "IDLE"
   766 print "\n"
   767 set :start_reactor.0:supply_fuel false
 
   782 set :start_reactor.0:supply_fuel false
   783 jump *label263 always
   784 label *label254
-    * op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
-    * op land *tmp189 :start_reactor.0:fuel_on *tmp188
+  785 op lessThan *tmp188 :start_reactor.0:fuel 10
+  786 op land *tmp189 :fuel_3 *tmp188
   787 jump *label257 equal *tmp189 false
   788 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
-    * jump *label255 lessThanEq *tmp191 .FUEL_REQ
+  789 jump *label255 lessThanEq *tmp191 10
   790 print "WAIT fuel"
   791 print "\n"
   792 jump *label256 always
 
   796 label *label256
   797 jump *label262 always
   798 label *label257
-    * op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
-    * jump *label258 greaterThanEq :start_reactor.0:fuel_stored *tmp194
+  799 op mul *tmp194 45 5
+  800 jump *label258 greaterThanEq :start_reactor.0:fuel_stored 225
   801 print "WAIT buffer fuel"
   802 print "\n"
   803 jump *label261 always
   804 label *label258
-    * jump *label259 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
+  805 jump *label259 greaterThanEq :start_reactor.0:cryo 13
   806 print "WAIT cryo"
   807 print "\n"
   808 jump *label260 always
   809 label *label259
   810 print "STARTUP"
   811 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor.0:reactor true
+  812 op add .START_POWER_REQ .START_POWER_REQ 23000
+  813 control enabled reactor3 true
   814 label *label260
   815 label *label261
   816 label *label262
 
   818 label *label264
   819 label *label265
   820 label *label266
-    * sensor *tmp201 :start_reactor.0:reactor @enabled
+  821 sensor *tmp201 reactor3 @enabled
   822 jump *label267 equal :start_reactor.0:enabled *tmp201
   823 set .RET_T_STARTUP @tick
   824 label *label267
 
   826 set :start_reactor.0*retval :start_reactor.0:supply_fuel
   827 jump *label269 always
   828 label *label269
-    * set :fuel_3 :start_reactor.0*retval
+  829 set :fuel_3 :start_reactor.0:supply_fuel
   830 set :t_startup3 .RET_T_STARTUP
   831 set :start_reactor.0:reactor reactor4
   832 set :start_reactor.0:emerg_shutdown :emerg_shutdown

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-5 instructions):
 
   625 label *label130
   626 label *label131
   627 op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
-    * set :start_reactor.0:reactor reactor3
-    * set :start_reactor.0:emerg_shutdown :emerg_shutdown
-    * set :start_reactor.0:fuel_on :fuel_3
-    * set :start_reactor.0:t_startup :t_startup3
   628 label *label232
   629 set .RET_T_STARTUP :t_startup3
   630 op sub *tmp113 @tick :t_startup3
 
   752 op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
   753 op sub *tmp170 *tmp169 5000
   754 op div *tmp171 *tmp170 23000
-    * op mul :start_reactor.0:charge_units *tmp171 0.6
+  755 op div :start_reactor.0:charge_units *tmp170 38333.333333333336
   756 op div *tmp173 :start_reactor.0:surplus 2000
   757 op max :start_reactor.0:flow_units -0.1 *tmp173
   758 op mul *tmp175 2 5
 
   819 set .RET_T_STARTUP @tick
   820 label *label267
   821 label *label268
-    * set :start_reactor.0*retval :start_reactor.0:supply_fuel
   822 jump *label269 always
   823 label *label269
   824 set :fuel_3 :start_reactor.0:supply_fuel

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-10 instructions):
 
    60 control enabled projector1 false
    61 control enabled projector2 false
    62 set :check_radar.0*retval false
-    * jump *label127 always
    63 label *label126
    64 label *label127
    65 op notEqual *tmp9 switch1 null
 
   366 set .RET_T_STARTUP @tick
   367 label *label191
   368 label *label192
-    * jump *label193 always
   369 label *label193
   370 set :fuel_1 :start_reactor.0:supply_fuel
   371 set :t_startup1 .RET_T_STARTUP
 
   577 set .RET_T_STARTUP @tick
   578 label *label229
   579 label *label230
-    * jump *label231 always
   580 label *label231
   581 set :fuel_2 :start_reactor.0:supply_fuel
   582 set :t_startup2 .RET_T_STARTUP
 
   618 control enabled projector1 false
   619 control enabled projector2 false
   620 set :check_radar.0*retval false
-    * jump *label131 always
   621 label *label130
   622 label *label131
   623 op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
 
   815 set .RET_T_STARTUP @tick
   816 label *label267
   817 label *label268
-    * jump *label269 always
   818 label *label269
   819 set :fuel_3 :start_reactor.0:supply_fuel
   820 set :t_startup3 .RET_T_STARTUP
 
   907 label *label34
   908 label *label30
   909 op lessThan *tmp32 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
-    * jump *label28 always
   910 label *label28
   911 jump *label35 equal *tmp32 false
   912 control config unloader7 @pyratite
 
   934 label *label100
   935 op idiv *tmp93 .AVG_SURPLUS 100
   936 op div :kilo.0*retval *tmp93 10
-    * jump *label101 always
   937 label *label101
   938 set :surplus :kilo.0*retval
   939 sensor :kilo.0:val node1 @powerNetStored
   940 label *label102
   941 op idiv *tmp93 :kilo.0:val 100
   942 op div :kilo.0*retval *tmp93 10
-    * jump *label103 always
   943 label *label103
   944 set :charge :kilo.0*retval
   945 jump *label42 lessThanEq .START_POWER_REQ 0
   946 label *label104
   947 op idiv *tmp93 .START_POWER_REQ 100
   948 op div :kilo.0*retval *tmp93 10
-    * jump *label105 always
   949 label *label105
   950 print "Req "
   951 print :kilo.0*retval
 
  1197 label *label95
  1198 label *label96
  1199 set :start_reactor.0*retval :start_reactor.0:supply_fuel
-    * jump *label63 always
  1200 label *label63
  1201 return :start_reactor.0*retaddr
  1202 end

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-4 instructions):
 
    85 op equal *tmp106 *tmp105 false
    86 op or *tmp107 *tmp104 *tmp106
    87 jump *label133 equal *tmp107 false
-    * set :calc_charge_req.0*retval 0
+   88 set .START_POWER_REQ 0
    89 jump *label135 always
    90 label *label133
    91 label *label134
    92 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
    93 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
    94 op idiv :calc_charge_req.0:charge_req *tmp110 0.04
-    * set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+   95 set .START_POWER_REQ :calc_charge_req.0:charge_req
    96 jump *label135 always
    97 label *label135
-    * set .START_POWER_REQ :calc_charge_req.0*retval
    98 label *label136
    99 op sub *tmp102 @tick :t_startup2
   100 op idiv :calc_charge_req.0:secs *tmp102 60
 
   932 label *label37
   933 label *label100
   934 op idiv *tmp93 .AVG_SURPLUS 100
-    * op div :kilo.0*retval *tmp93 10
+  935 op div :surplus *tmp93 10
   936 label *label101
-    * set :surplus :kilo.0*retval
   937 sensor :kilo.0:val node1 @powerNetStored
   938 label *label102
   939 op idiv *tmp93 :kilo.0:val 100
 
  1005 op sub *tmp113 @tick :start_reactor.0:t_startup
  1006 op idiv :start_reactor.0:secs *tmp113 60
  1007 sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
-    * set :start_reactor.0:supply_fuel true
+ 1008 set :start_reactor.0*retval true
  1009 sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
  1010 sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
  1011 sensor *tmp118 .NODE @powerNetStored
 
  1026 control enabled :start_reactor.0:reactor false
  1027 print "emergency mode"
  1028 print "\n"
-    * set :start_reactor.0:supply_fuel false
+ 1029 set :start_reactor.0*retval false
  1030 jump *label65 always
  1031 label *label64
  1032 jump *label66 equal :start_reactor.0:enabled false
 
  1073 label *label154
  1074 op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
  1075 op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
-    * op idiv :calc_charge_req.0:charge_req *tmp110 0.04
-    * set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
+ 1076 op idiv :calc_charge_req.0*retval *tmp110 0.04
  1077 jump *label155 always
  1078 label *label155
  1079 op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
 
  1084 control enabled :start_reactor.0:reactor false
  1085 print "START FAIL battery"
  1086 print "\n"
-    * set :start_reactor.0:supply_fuel false
+ 1087 set :start_reactor.0*retval false
  1088 jump *label80 always
  1089 label *label79
  1090 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
 
  1105 control enabled :start_reactor.0:reactor false
  1106 print "ABANDON - battery crit"
  1107 print "\n"
-    * set :start_reactor.0:supply_fuel false
+ 1108 set :start_reactor.0*retval false
  1109 jump *label82 always
  1110 label *label81
  1111 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
 
  1134 jump *label83 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
  1135 print "IDLE"
  1136 print "\n"
-    * set :start_reactor.0:supply_fuel false
+ 1137 set :start_reactor.0*retval false
  1138 jump *label84 always
  1139 label *label83
  1140 op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
 
  1149 print :start_reactor.0:flow
  1150 print "W)"
  1151 print "\n"
-    * set :start_reactor.0:supply_fuel false
+ 1152 set :start_reactor.0*retval false
  1153 jump *label86 always
  1154 label *label85
  1155 op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
 
  1193 set .RET_T_STARTUP @tick
  1194 label *label95
  1195 label *label96
-    * set :start_reactor.0*retval :start_reactor.0:supply_fuel
  1196 label *label63
  1197 return :start_reactor.0*retaddr
  1198 end

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2:
 
   835 label *label26
   836 set :fuel_5 :start_reactor.0*retval
   837 set :t_startup5 .RET_T_STARTUP
-    * op or *tmp27 :fuel_3 :fuel_4
+  838 op or *tmp27 :start_reactor.0:supply_fuel :fuel_4
   839 op or :fuel_many *tmp27 :start_reactor.0*retval
   840 label *label118
   841 jump *label119 equal :fuel_many false

Modifications by Iterated phase, Jump Optimization, pass 3, iteration 1 (-1 instructions):
 
   905 print "n"
   906 label *label34
   907 label *label30
-    * op lessThan *tmp32 :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   908 label *label28
-    * jump *label35 equal *tmp32 false
+  909 jump *label35 greaterThanEq :throttle_blast.0:fuel_stored :throttle_blast.0:limit
   910 control config unloader7 @pyratite
   911 jump *label36 always
   912 label *label35

Modifications by Final phase, Jump Threading, iteration 1:
 
   205 control enabled reactor1 false
   206 print "STOP unwanted"
   207 print "\n"
-    * jump *label175 always
+  208 jump *label189 always
   209 label *label158
   210 op greaterThan *tmp136 5 1
   211 op mul *tmp137 15 5
 
   215 control enabled reactor1 false
   216 print "STOP system fuel low"
   217 print "\n"
-    * jump *label174 always
+  218 jump *label189 always
   219 label *label159
   220 jump *label160 greaterThan :start_reactor.0:fuel 1
   221 control enabled reactor1 false
   222 print "STOP fuel low"
   223 print "\n"
-    * jump *label173 always
+  224 jump *label189 always
   225 label *label160
   226 jump *label161 greaterThan :start_reactor.0:cryo 1
   227 control enabled reactor1 false
   228 print "STOP out of cryo"
   229 print "\n"
-    * jump *label172 always
+  230 jump *label189 always
   231 label *label161
   232 jump *label168 greaterThanEq :start_reactor.0:secs 30
   233 label *label162
 
   257 print "START FAIL battery"
   258 print "\n"
   259 set :start_reactor.0:supply_fuel false
-    * jump *label167 always
+  260 jump *label189 always
   261 label *label166
   262 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
   263 print "Starting "
 
   268 print "J"
   269 print "\n"
   270 label *label167
-    * jump *label171 always
+  271 jump *label189 always
   272 label *label168
   273 op lessThan *tmp161 :start_reactor.0:charge 2000
   274 op lessThan *tmp162 :start_reactor.0:surplus -500
 
   278 print "ABANDON - battery crit"
   279 print "\n"
   280 set :start_reactor.0:supply_fuel false
-    * jump *label170 always
+  281 jump *label189 always
   282 label *label169
   283 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   284 op div :start_reactor.0:mins :start_reactor.0:mins 10
 
   331 jump *label179 lessThanEq *tmp191 10
   332 print "WAIT fuel"
   333 print "\n"
-    * jump *label180 always
+  334 jump *label186 always
   335 label *label179
   336 print "WAIT system fuel"
   337 print "\n"
 
   416 control enabled reactor2 false
   417 print "STOP unwanted"
   418 print "\n"
-    * jump *label213 always
+  419 jump *label227 always
   420 label *label196
   421 op greaterThan *tmp136 5 1
   422 op mul *tmp137 15 5
 
   426 control enabled reactor2 false
   427 print "STOP system fuel low"
   428 print "\n"
-    * jump *label212 always
+  429 jump *label227 always
   430 label *label197
   431 jump *label198 greaterThan :start_reactor.0:fuel 1
   432 control enabled reactor2 false
   433 print "STOP fuel low"
   434 print "\n"
-    * jump *label211 always
+  435 jump *label227 always
   436 label *label198
   437 jump *label199 greaterThan :start_reactor.0:cryo 1
   438 control enabled reactor2 false
   439 print "STOP out of cryo"
   440 print "\n"
-    * jump *label210 always
+  441 jump *label227 always
   442 label *label199
   443 jump *label206 greaterThanEq :start_reactor.0:secs 30
   444 label *label200
 
   468 print "START FAIL battery"
   469 print "\n"
   470 set :start_reactor.0:supply_fuel false
-    * jump *label205 always
+  471 jump *label227 always
   472 label *label204
   473 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
   474 print "Starting "
 
   479 print "J"
   480 print "\n"
   481 label *label205
-    * jump *label209 always
+  482 jump *label227 always
   483 label *label206
   484 op lessThan *tmp161 :start_reactor.0:charge 2000
   485 op lessThan *tmp162 :start_reactor.0:surplus -500
 
   489 print "ABANDON - battery crit"
   490 print "\n"
   491 set :start_reactor.0:supply_fuel false
-    * jump *label208 always
+  492 jump *label227 always
   493 label *label207
   494 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   495 op div :start_reactor.0:mins :start_reactor.0:mins 10
 
   542 jump *label217 lessThanEq *tmp191 10
   543 print "WAIT fuel"
   544 print "\n"
-    * jump *label218 always
+  545 jump *label224 always
   546 label *label217
   547 print "WAIT system fuel"
   548 print "\n"
 
   654 control enabled reactor3 false
   655 print "STOP unwanted"
   656 print "\n"
-    * jump *label251 always
+  657 jump *label265 always
   658 label *label234
   659 op greaterThan *tmp136 5 1
   660 op mul *tmp137 15 5
 
   664 control enabled reactor3 false
   665 print "STOP system fuel low"
   666 print "\n"
-    * jump *label250 always
+  667 jump *label265 always
   668 label *label235
   669 jump *label236 greaterThan :start_reactor.0:fuel 1
   670 control enabled reactor3 false
   671 print "STOP fuel low"
   672 print "\n"
-    * jump *label249 always
+  673 jump *label265 always
   674 label *label236
   675 jump *label237 greaterThan :start_reactor.0:cryo 1
   676 control enabled reactor3 false
   677 print "STOP out of cryo"
   678 print "\n"
-    * jump *label248 always
+  679 jump *label265 always
   680 label *label237
   681 jump *label244 greaterThanEq :start_reactor.0:secs 30
   682 label *label238
 
   706 print "START FAIL battery"
   707 print "\n"
   708 set :start_reactor.0:supply_fuel false
-    * jump *label243 always
+  709 jump *label265 always
   710 label *label242
   711 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
   712 print "Starting "
 
   717 print "J"
   718 print "\n"
   719 label *label243
-    * jump *label247 always
+  720 jump *label265 always
   721 label *label244
   722 op lessThan *tmp161 :start_reactor.0:charge 2000
   723 op lessThan *tmp162 :start_reactor.0:surplus -500
 
   727 print "ABANDON - battery crit"
   728 print "\n"
   729 set :start_reactor.0:supply_fuel false
-    * jump *label246 always
+  730 jump *label265 always
   731 label *label245
   732 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   733 op div :start_reactor.0:mins :start_reactor.0:mins 10
 
   780 jump *label255 lessThanEq *tmp191 10
   781 print "WAIT fuel"
   782 print "\n"
-    * jump *label256 always
+  783 jump *label262 always
   784 label *label255
   785 print "WAIT system fuel"
   786 print "\n"
 
   876 jump *label31 equal :emerg_shutdown false
   877 print " Enemies detected."
   878 print "\n"
-    * jump *label32 always
+  879 jump *label30 always
   880 label *label31
   881 print " Critical power."
   882 print "\n"
 
  1033 control enabled :start_reactor.0:reactor false
  1034 print "STOP unwanted"
  1035 print "\n"
-    * jump *label69 always
+ 1036 jump *label67 always
  1037 label *label68
  1038 op greaterThan *tmp136 :start_reactor.0:reactor_num 1
  1039 op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
 
  1043 control enabled :start_reactor.0:reactor false
  1044 print "STOP system fuel low"
  1045 print "\n"
-    * jump *label71 always
+ 1046 jump *label67 always
  1047 label *label70
  1048 jump *label72 greaterThan :start_reactor.0:fuel 1
  1049 control enabled :start_reactor.0:reactor false
  1050 print "STOP fuel low"
  1051 print "\n"
-    * jump *label73 always
+ 1052 jump *label67 always
  1053 label *label72
  1054 jump *label74 greaterThan :start_reactor.0:cryo .CRYO_ABORT
  1055 control enabled :start_reactor.0:reactor false
  1056 print "STOP out of cryo"
  1057 print "\n"
-    * jump *label75 always
+ 1058 jump *label67 always
  1059 label *label74
  1060 jump *label76 greaterThanEq :start_reactor.0:secs 30
  1061 label *label152
 
  1084 print "START FAIL battery"
  1085 print "\n"
  1086 set :start_reactor.0*retval false
-    * jump *label80 always
+ 1087 jump *label67 always
  1088 label *label79
  1089 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
  1090 print "Starting "
 
  1095 print "J"
  1096 print "\n"
  1097 label *label80
-    * jump *label77 always
+ 1098 jump *label67 always
  1099 label *label76
  1100 op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
  1101 op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
 
  1105 print "ABANDON - battery crit"
  1106 print "\n"
  1107 set :start_reactor.0*retval false
-    * jump *label82 always
+ 1108 jump *label67 always
  1109 label *label81
  1110 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
  1111 op div :start_reactor.0:mins :start_reactor.0:mins 10
 
  1158 jump *label89 lessThanEq *tmp191 .FUEL_REQ
  1159 print "WAIT fuel"
  1160 print "\n"
-    * jump *label90 always
+ 1161 jump *label88 always
  1162 label *label89
  1163 print "WAIT system fuel"
  1164 print "\n"

Modifications by Final phase, Unreachable Code Elimination, iteration 1 (-4 instructions):
 
    55 control enabled reactor5 false
    56 set :check_radar.0*retval true
    57 jump *label127 always
-    * jump *label126 always
    58 label *label125
    59 control enabled projector1 false
    60 control enabled projector2 false
 
   611 control enabled reactor5 false
   612 set :check_radar.0*retval true
   613 jump *label131 always
-    * jump *label130 always
   614 label *label129
   615 control enabled projector1 false
   616 control enabled projector2 false
 
   995 printflush message1
   996 label *label8
   997 jump *label7 always
-    * label *label9
-    * end
   998 label *label3
   999 set .RET_T_STARTUP :start_reactor.0:t_startup
  1000 op sub *tmp113 @tick :start_reactor.0:t_startup
 
  1190 label *label96
  1191 label *label63
  1192 return :start_reactor.0*retaddr
-    * end

Modifications by Final phase, Print Merging, iteration 1 (-132 instructions):
 
    66 op equal *tmp11 *tmp10 false
    67 op land *tmp12 *tmp9 *tmp11
    68 jump *label12 equal *tmp12 false
-    * print "User has disabled emergency switch"
-    * print "\n"
+   69 print "User has disabled emergency switch\n"
    70 set *tmp8 true
    71 jump *label11 always
    72 label *label12
 
   187 op mul *tmp125 :start_reactor.0:surplus 0.2
   188 op add .AVG_SURPLUS *tmp124 *tmp125
   189 sensor :start_reactor.0:enabled reactor1 @enabled
-    * print "#"
-    * print 5
-    * print " "
-    * print "- "
+  190 print "#5 - "
   191 jump *label157 equal :emerg_shutdown false
   192 control enabled reactor1 false
-    * print "emergency mode"
-    * print "\n"
+  193 print "emergency mode\n"
   194 set :start_reactor.0:supply_fuel false
   195 jump *label190 always
   196 label *label157
   197 jump *label176 equal :start_reactor.0:enabled false
   198 jump *label158 greaterThanEq .REACTORS_DESIRED 5
   199 control enabled reactor1 false
-    * print "STOP unwanted"
-    * print "\n"
+  200 print "STOP unwanted\n"
   201 jump *label189 always
   202 label *label158
   203 op greaterThan *tmp136 5 1
 
   206 op land *tmp139 true *tmp138
   207 jump *label159 equal *tmp139 false
   208 control enabled reactor1 false
-    * print "STOP system fuel low"
-    * print "\n"
+  209 print "STOP system fuel low\n"
   210 jump *label189 always
   211 label *label159
   212 jump *label160 greaterThan :start_reactor.0:fuel 1
   213 control enabled reactor1 false
-    * print "STOP fuel low"
-    * print "\n"
+  214 print "STOP fuel low\n"
   215 jump *label189 always
   216 label *label160
   217 jump *label161 greaterThan :start_reactor.0:cryo 1
   218 control enabled reactor1 false
-    * print "STOP out of cryo"
-    * print "\n"
+  219 print "STOP out of cryo\n"
   220 jump *label189 always
   221 label *label161
   222 jump *label168 greaterThanEq :start_reactor.0:secs 30
 
   244 op land *tmp156 *tmp154 *tmp155
   245 jump *label166 equal *tmp156 false
   246 control enabled reactor1 false
-    * print "START FAIL battery"
-    * print "\n"
+  247 print "START FAIL battery\n"
   248 set :start_reactor.0:supply_fuel false
   249 jump *label189 always
   250 label *label166
   251 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
-    * print "Starting "
-    * print :start_reactor.0:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req.0*retval
-    * print "J"
-    * print "\n"
+  252 print "Starting {0} secs, req {0}J\n"
+  253 format :start_reactor.0:time_left
+  254 format :calc_charge_req.0*retval
   255 label *label167
   256 jump *label189 always
   257 label *label168
 
   260 op land *tmp163 *tmp161 *tmp162
   261 jump *label169 equal *tmp163 false
   262 control enabled reactor1 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  263 print "ABANDON - battery crit\n"
   264 set :start_reactor.0:supply_fuel false
   265 jump *label189 always
   266 label *label169
   267 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   268 op div :start_reactor.0:mins :start_reactor.0:mins 10
-    * print "RUN "
-    * print :start_reactor.0:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  269 print "RUN {0} mins\n"
+  270 format :start_reactor.0:mins
   271 label *label170
   272 label *label171
   273 label *label172
 
   285 op mul *tmp175 2 5
   286 op add :start_reactor.0:cryo_req 3 10
   287 jump *label177 greaterThanEq .REACTORS_DESIRED 5
-    * print "IDLE"
-    * print "\n"
+  288 print "IDLE\n"
   289 set :start_reactor.0:supply_fuel false
   290 jump *label188 always
   291 label *label177
 
   295 op div :start_reactor.0:flow *tmp183 10
   296 op idiv *tmp186 :start_reactor.0:charge_units 0.001
   297 op div :start_reactor.0:charge *tmp186 10
-    * print "WAIT power. (%"
-    * print :start_reactor.0:charge
-    * print "J + %"
-    * print :start_reactor.0:flow
-    * print "W)"
-    * print "\n"
+  298 print "WAIT power. (%{0}J + %{0}W)\n"
+  299 format :start_reactor.0:charge
+  300 format :start_reactor.0:flow
   301 set :start_reactor.0:supply_fuel false
   302 jump *label187 always
   303 label *label178
 
   306 jump *label181 equal *tmp189 false
   307 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
   308 jump *label179 lessThanEq *tmp191 10
-    * print "WAIT fuel"
-    * print "\n"
+  309 print "WAIT fuel\n"
   310 jump *label186 always
   311 label *label179
-    * print "WAIT system fuel"
-    * print "\n"
+  312 print "WAIT system fuel\n"
   313 label *label180
   314 jump *label186 always
   315 label *label181
   316 op mul *tmp194 45 5
   317 jump *label182 greaterThanEq :start_reactor.0:fuel_stored 225
-    * print "WAIT buffer fuel"
-    * print "\n"
+  318 print "WAIT buffer fuel\n"
   319 jump *label185 always
   320 label *label182
   321 jump *label183 greaterThanEq :start_reactor.0:cryo 13
-    * print "WAIT cryo"
-    * print "\n"
+  322 print "WAIT cryo\n"
   323 jump *label184 always
   324 label *label183
-    * print "STARTUP"
-    * print "\n"
+  325 print "STARTUP\n"
   326 op add .START_POWER_REQ .START_POWER_REQ 23000
   327 control enabled reactor1 true
   328 label *label184
 
   372 op mul *tmp125 :start_reactor.0:surplus 0.2
   373 op add .AVG_SURPLUS *tmp124 *tmp125
   374 sensor :start_reactor.0:enabled reactor2 @enabled
-    * print "#"
-    * print 5
-    * print " "
-    * print "- "
+  375 print "#5 - "
   376 jump *label195 equal :emerg_shutdown false
   377 control enabled reactor2 false
-    * print "emergency mode"
-    * print "\n"
+  378 print "emergency mode\n"
   379 set :start_reactor.0:supply_fuel false
   380 jump *label228 always
   381 label *label195
   382 jump *label214 equal :start_reactor.0:enabled false
   383 jump *label196 greaterThanEq .REACTORS_DESIRED 5
   384 control enabled reactor2 false
-    * print "STOP unwanted"
-    * print "\n"
+  385 print "STOP unwanted\n"
   386 jump *label227 always
   387 label *label196
   388 op greaterThan *tmp136 5 1
 
   391 op land *tmp139 true *tmp138
   392 jump *label197 equal *tmp139 false
   393 control enabled reactor2 false
-    * print "STOP system fuel low"
-    * print "\n"
+  394 print "STOP system fuel low\n"
   395 jump *label227 always
   396 label *label197
   397 jump *label198 greaterThan :start_reactor.0:fuel 1
   398 control enabled reactor2 false
-    * print "STOP fuel low"
-    * print "\n"
+  399 print "STOP fuel low\n"
   400 jump *label227 always
   401 label *label198
   402 jump *label199 greaterThan :start_reactor.0:cryo 1
   403 control enabled reactor2 false
-    * print "STOP out of cryo"
-    * print "\n"
+  404 print "STOP out of cryo\n"
   405 jump *label227 always
   406 label *label199
   407 jump *label206 greaterThanEq :start_reactor.0:secs 30
 
   429 op land *tmp156 *tmp154 *tmp155
   430 jump *label204 equal *tmp156 false
   431 control enabled reactor2 false
-    * print "START FAIL battery"
-    * print "\n"
+  432 print "START FAIL battery\n"
   433 set :start_reactor.0:supply_fuel false
   434 jump *label227 always
   435 label *label204
   436 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
-    * print "Starting "
-    * print :start_reactor.0:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req.0*retval
-    * print "J"
-    * print "\n"
+  437 print "Starting {0} secs, req {0}J\n"
+  438 format :start_reactor.0:time_left
+  439 format :calc_charge_req.0*retval
   440 label *label205
   441 jump *label227 always
   442 label *label206
 
   445 op land *tmp163 *tmp161 *tmp162
   446 jump *label207 equal *tmp163 false
   447 control enabled reactor2 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  448 print "ABANDON - battery crit\n"
   449 set :start_reactor.0:supply_fuel false
   450 jump *label227 always
   451 label *label207
   452 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   453 op div :start_reactor.0:mins :start_reactor.0:mins 10
-    * print "RUN "
-    * print :start_reactor.0:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  454 print "RUN {0} mins\n"
+  455 format :start_reactor.0:mins
   456 label *label208
   457 label *label209
   458 label *label210
 
   470 op mul *tmp175 2 5
   471 op add :start_reactor.0:cryo_req 3 10
   472 jump *label215 greaterThanEq .REACTORS_DESIRED 5
-    * print "IDLE"
-    * print "\n"
+  473 print "IDLE\n"
   474 set :start_reactor.0:supply_fuel false
   475 jump *label226 always
   476 label *label215
 
   480 op div :start_reactor.0:flow *tmp183 10
   481 op idiv *tmp186 :start_reactor.0:charge_units 0.001
   482 op div :start_reactor.0:charge *tmp186 10
-    * print "WAIT power. (%"
-    * print :start_reactor.0:charge
-    * print "J + %"
-    * print :start_reactor.0:flow
-    * print "W)"
-    * print "\n"
+  483 print "WAIT power. (%{0}J + %{0}W)\n"
+  484 format :start_reactor.0:charge
+  485 format :start_reactor.0:flow
   486 set :start_reactor.0:supply_fuel false
   487 jump *label225 always
   488 label *label216
 
   491 jump *label219 equal *tmp189 false
   492 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
   493 jump *label217 lessThanEq *tmp191 10
-    * print "WAIT fuel"
-    * print "\n"
+  494 print "WAIT fuel\n"
   495 jump *label224 always
   496 label *label217
-    * print "WAIT system fuel"
-    * print "\n"
+  497 print "WAIT system fuel\n"
   498 label *label218
   499 jump *label224 always
   500 label *label219
   501 op mul *tmp194 45 5
   502 jump *label220 greaterThanEq :start_reactor.0:fuel_stored 225
-    * print "WAIT buffer fuel"
-    * print "\n"
+  503 print "WAIT buffer fuel\n"
   504 jump *label223 always
   505 label *label220
   506 jump *label221 greaterThanEq :start_reactor.0:cryo 13
-    * print "WAIT cryo"
-    * print "\n"
+  507 print "WAIT cryo\n"
   508 jump *label222 always
   509 label *label221
-    * print "STARTUP"
-    * print "\n"
+  510 print "STARTUP\n"
   511 op add .START_POWER_REQ .START_POWER_REQ 23000
   512 control enabled reactor2 true
   513 label *label222
 
   583 op mul *tmp125 :start_reactor.0:surplus 0.2
   584 op add .AVG_SURPLUS *tmp124 *tmp125
   585 sensor :start_reactor.0:enabled reactor3 @enabled
-    * print "#"
-    * print 5
-    * print " "
-    * print "- "
+  586 print "#5 - "
   587 jump *label233 equal :emerg_shutdown false
   588 control enabled reactor3 false
-    * print "emergency mode"
-    * print "\n"
+  589 print "emergency mode\n"
   590 set :start_reactor.0:supply_fuel false
   591 jump *label266 always
   592 label *label233
   593 jump *label252 equal :start_reactor.0:enabled false
   594 jump *label234 greaterThanEq .REACTORS_DESIRED 5
   595 control enabled reactor3 false
-    * print "STOP unwanted"
-    * print "\n"
+  596 print "STOP unwanted\n"
   597 jump *label265 always
   598 label *label234
   599 op greaterThan *tmp136 5 1
 
   602 op land *tmp139 true *tmp138
   603 jump *label235 equal *tmp139 false
   604 control enabled reactor3 false
-    * print "STOP system fuel low"
-    * print "\n"
+  605 print "STOP system fuel low\n"
   606 jump *label265 always
   607 label *label235
   608 jump *label236 greaterThan :start_reactor.0:fuel 1
   609 control enabled reactor3 false
-    * print "STOP fuel low"
-    * print "\n"
+  610 print "STOP fuel low\n"
   611 jump *label265 always
   612 label *label236
   613 jump *label237 greaterThan :start_reactor.0:cryo 1
   614 control enabled reactor3 false
-    * print "STOP out of cryo"
-    * print "\n"
+  615 print "STOP out of cryo\n"
   616 jump *label265 always
   617 label *label237
   618 jump *label244 greaterThanEq :start_reactor.0:secs 30
 
   640 op land *tmp156 *tmp154 *tmp155
   641 jump *label242 equal *tmp156 false
   642 control enabled reactor3 false
-    * print "START FAIL battery"
-    * print "\n"
+  643 print "START FAIL battery\n"
   644 set :start_reactor.0:supply_fuel false
   645 jump *label265 always
   646 label *label242
   647 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
-    * print "Starting "
-    * print :start_reactor.0:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req.0*retval
-    * print "J"
-    * print "\n"
+  648 print "Starting {0} secs, req {0}J\n"
+  649 format :start_reactor.0:time_left
+  650 format :calc_charge_req.0*retval
   651 label *label243
   652 jump *label265 always
   653 label *label244
 
   656 op land *tmp163 *tmp161 *tmp162
   657 jump *label245 equal *tmp163 false
   658 control enabled reactor3 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  659 print "ABANDON - battery crit\n"
   660 set :start_reactor.0:supply_fuel false
   661 jump *label265 always
   662 label *label245
   663 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   664 op div :start_reactor.0:mins :start_reactor.0:mins 10
-    * print "RUN "
-    * print :start_reactor.0:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  665 print "RUN {0} mins\n"
+  666 format :start_reactor.0:mins
   667 label *label246
   668 label *label247
   669 label *label248
 
   681 op mul *tmp175 2 5
   682 op add :start_reactor.0:cryo_req 3 10
   683 jump *label253 greaterThanEq .REACTORS_DESIRED 5
-    * print "IDLE"
-    * print "\n"
+  684 print "IDLE\n"
   685 set :start_reactor.0:supply_fuel false
   686 jump *label264 always
   687 label *label253
 
   691 op div :start_reactor.0:flow *tmp183 10
   692 op idiv *tmp186 :start_reactor.0:charge_units 0.001
   693 op div :start_reactor.0:charge *tmp186 10
-    * print "WAIT power. (%"
-    * print :start_reactor.0:charge
-    * print "J + %"
-    * print :start_reactor.0:flow
-    * print "W)"
-    * print "\n"
+  694 print "WAIT power. (%{0}J + %{0}W)\n"
+  695 format :start_reactor.0:charge
+  696 format :start_reactor.0:flow
   697 set :start_reactor.0:supply_fuel false
   698 jump *label263 always
   699 label *label254
 
   702 jump *label257 equal *tmp189 false
   703 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
   704 jump *label255 lessThanEq *tmp191 10
-    * print "WAIT fuel"
-    * print "\n"
+  705 print "WAIT fuel\n"
   706 jump *label262 always
   707 label *label255
-    * print "WAIT system fuel"
-    * print "\n"
+  708 print "WAIT system fuel\n"
   709 label *label256
   710 jump *label262 always
   711 label *label257
   712 op mul *tmp194 45 5
   713 jump *label258 greaterThanEq :start_reactor.0:fuel_stored 225
-    * print "WAIT buffer fuel"
-    * print "\n"
+  714 print "WAIT buffer fuel\n"
   715 jump *label261 always
   716 label *label258
   717 jump *label259 greaterThanEq :start_reactor.0:cryo 13
-    * print "WAIT cryo"
-    * print "\n"
+  718 print "WAIT cryo\n"
   719 jump *label260 always
   720 label *label259
-    * print "STARTUP"
-    * print "\n"
+  721 print "STARTUP\n"
   722 op add .START_POWER_REQ .START_POWER_REQ 23000
   723 control enabled reactor3 true
   724 label *label260
 
   785 op or *tmp43 *tmp42 :emerg_shutdown
   786 jump *label29 equal *tmp43 false
   787 set :throttle_blast.0:limit 0
-    * print "Central Fuel at "
-    * print :throttle_blast.0:fuel_stored
-    * print " "
-    * print "/ "
-    * print 0
-    * print " "
-    * print "- "
+  788 print "Central Fuel at {0} / 0 - "
+  789 format :throttle_blast.0:fuel_stored
   790 jump *label31 equal :emerg_shutdown false
-    * print " Enemies detected."
-    * print "\n"
+  791 print " Enemies detected.\n"
   792 jump *label30 always
   793 label *label31
-    * print " Critical power."
-    * print "\n"
+  794 print " Critical power.\n"
   795 label *label32
   796 jump *label30 always
   797 label *label29
   798 jump *label33 notEqual :throttle_blast.0:reactors_fueled false
   799 set :throttle_blast.0:limit 150
-    * print "Fuel "
-    * print :throttle_blast.0:fuel_stored
-    * print " "
-    * print "/ "
-    * print 150
-    * print " "
-    * print "(due to emergency)"
-    * print "\n"
+  800 print "Fuel {0} / 150 (due to emergency)\n"
+  801 format :throttle_blast.0:fuel_stored
   802 jump *label34 always
   803 label *label33
   804 set :throttle_blast.0:limit 800
-    * print "Fuel "
-    * print :throttle_blast.0:fuel_stored
-    * print " "
-    * print "/ "
-    * print 800
-    * print "\"
-    * print "n"
+  805 print "Fuel {0} / 800\n"
+  806 format :throttle_blast.0:fuel_stored
   807 label *label34
   808 label *label30
   809 label *label28
 
   820 op lessThan *tmp57 .START_POWER_REQ 10
   821 op land *tmp58 *tmp56 *tmp57
   822 jump *label38 equal *tmp58 false
-    * print "Differential now idle."
-    * print "\n"
+  823 print "Differential now idle.\n"
   824 control enabled generator1 false
   825 control enabled generator2 false
   826 jump *label39 always
 
   844 op idiv *tmp93 .START_POWER_REQ 100
   845 op div :kilo.0*retval *tmp93 10
   846 label *label105
-    * print "Req "
-    * print :kilo.0*retval
-    * print "kJ / "
-    * print :charge
-    * print "kJ. "
-    * print :surplus
-    * print "kW flow."
-    * print "\n"
+  847 print "Req {0}kJ / {0}kJ. {0}kW flow.\n"
+  848 format :kilo.0*retval
+  849 format :charge
+  850 format :surplus
   851 jump *label43 always
   852 label *label42
-    * print "Power "
-    * print :surplus
-    * print "kW, "
-    * print :kilo.0*retval
-    * print "kJ"
-    * print "\n"
+  853 print "Power {0}kW, {0}kJ\n"
+  854 format :surplus
+  855 format :kilo.0*retval
   856 sensor *tmp71 node1 @powerNetStored
   857 sensor *tmp72 node1 @powerNetCapacity
   858 op div :update_reactors_desired.0:stored *tmp71 *tmp72
 
   881 label *label45
   882 label *label43
   883 jump *label52 equal .REACTORS_DESIRED 5
-    * print "Require only "
-    * print .REACTORS_DESIRED
-    * print "/5 reactors."
-    * print "\n"
+  884 print "Require only {0}/5 reactors.\n"
+  885 format .REACTORS_DESIRED
   886 label *label52
   887 label *label53
   888 printflush message1
 
   906 op mul *tmp125 :start_reactor.0:surplus 0.2
   907 op add .AVG_SURPLUS *tmp124 *tmp125
   908 sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
-    * print "#"
-    * print :start_reactor.0:reactor_num
-    * print " "
-    * print "- "
+  909 print "#{0} - "
+  910 format :start_reactor.0:reactor_num
   911 jump *label64 equal :start_reactor.0:emerg_shutdown false
   912 control enabled :start_reactor.0:reactor false
-    * print "emergency mode"
-    * print "\n"
+  913 print "emergency mode\n"
   914 set :start_reactor.0*retval false
   915 jump *label65 always
   916 label *label64
   917 jump *label66 equal :start_reactor.0:enabled false
   918 jump *label68 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
   919 control enabled :start_reactor.0:reactor false
-    * print "STOP unwanted"
-    * print "\n"
+  920 print "STOP unwanted\n"
   921 jump *label67 always
   922 label *label68
   923 op greaterThan *tmp136 :start_reactor.0:reactor_num 1
 
   926 op land *tmp139 *tmp136 *tmp138
   927 jump *label70 equal *tmp139 false
   928 control enabled :start_reactor.0:reactor false
-    * print "STOP system fuel low"
-    * print "\n"
+  929 print "STOP system fuel low\n"
   930 jump *label67 always
   931 label *label70
   932 jump *label72 greaterThan :start_reactor.0:fuel 1
   933 control enabled :start_reactor.0:reactor false
-    * print "STOP fuel low"
-    * print "\n"
+  934 print "STOP fuel low\n"
   935 jump *label67 always
   936 label *label72
   937 jump *label74 greaterThan :start_reactor.0:cryo .CRYO_ABORT
   938 control enabled :start_reactor.0:reactor false
-    * print "STOP out of cryo"
-    * print "\n"
+  939 print "STOP out of cryo\n"
   940 jump *label67 always
   941 label *label74
   942 jump *label76 greaterThanEq :start_reactor.0:secs 30
 
   963 op land *tmp156 *tmp154 *tmp155
   964 jump *label79 equal *tmp156 false
   965 control enabled :start_reactor.0:reactor false
-    * print "START FAIL battery"
-    * print "\n"
+  966 print "START FAIL battery\n"
   967 set :start_reactor.0*retval false
   968 jump *label67 always
   969 label *label79
   970 op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
-    * print "Starting "
-    * print :start_reactor.0:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req.0*retval
-    * print "J"
-    * print "\n"
+  971 print "Starting {0} secs, req {0}J\n"
+  972 format :start_reactor.0:time_left
+  973 format :calc_charge_req.0*retval
   974 label *label80
   975 jump *label67 always
   976 label *label76
 
   979 op land *tmp163 *tmp161 *tmp162
   980 jump *label81 equal *tmp163 false
   981 control enabled :start_reactor.0:reactor false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  982 print "ABANDON - battery crit\n"
   983 set :start_reactor.0*retval false
   984 jump *label67 always
   985 label *label81
   986 op idiv :start_reactor.0:mins :start_reactor.0:secs 6
   987 op div :start_reactor.0:mins :start_reactor.0:mins 10
-    * print "RUN "
-    * print :start_reactor.0:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  988 print "RUN {0} mins\n"
+  989 format :start_reactor.0:mins
   990 label *label82
   991 label *label77
   992 label *label75
 
  1004 op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
  1005 op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
  1006 jump *label83 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
-    * print "IDLE"
-    * print "\n"
+ 1007 print "IDLE\n"
  1008 set :start_reactor.0*retval false
  1009 jump *label84 always
  1010 label *label83
 
  1014 op div :start_reactor.0:flow *tmp183 10
  1015 op idiv *tmp186 :start_reactor.0:charge_units 0.001
  1016 op div :start_reactor.0:charge *tmp186 10
-    * print "WAIT power. (%"
-    * print :start_reactor.0:charge
-    * print "J + %"
-    * print :start_reactor.0:flow
-    * print "W)"
-    * print "\n"
+ 1017 print "WAIT power. (%{0}J + %{0}W)\n"
+ 1018 format :start_reactor.0:charge
+ 1019 format :start_reactor.0:flow
  1020 set :start_reactor.0*retval false
  1021 jump *label86 always
  1022 label *label85
 
  1025 jump *label87 equal *tmp189 false
  1026 op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
  1027 jump *label89 lessThanEq *tmp191 .FUEL_REQ
-    * print "WAIT fuel"
-    * print "\n"
+ 1028 print "WAIT fuel\n"
  1029 jump *label88 always
  1030 label *label89
-    * print "WAIT system fuel"
-    * print "\n"
+ 1031 print "WAIT system fuel\n"
  1032 label *label90
  1033 jump *label88 always
  1034 label *label87
  1035 op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
  1036 jump *label91 greaterThanEq :start_reactor.0:fuel_stored *tmp194
-    * print "WAIT buffer fuel"
-    * print "\n"
+ 1037 print "WAIT buffer fuel\n"
  1038 jump *label92 always
  1039 label *label91
  1040 jump *label93 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
-    * print "WAIT cryo"
-    * print "\n"
+ 1041 print "WAIT cryo\n"
  1042 jump *label94 always
  1043 label *label93
-    * print "STARTUP"
-    * print "\n"
+ 1044 print "STARTUP\n"
  1045 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
  1046 control enabled :start_reactor.0:reactor true
  1047 label *label94

Final code before resolving virtual instructions:

printflush message1
set .PWR_REQ 23000
set .FLOW_REQ 2000
set .PWR_ABANDON 2000
set .PWR_ABORT 5000
set .PWR_RESERVE 0.6
set .FLOW_ABORT -500
set .FUEL_REQ 10
set .FUEL_TOT_REQ 45
set .FUEL_TOT_ABORT 15
set .CRYO_REQ 3
set .CRYO_REQ_EA 2
set .CRYO_ABORT 1
set :fuel_1 false
set :fuel_2 false
set :fuel_3 false
set :fuel_4 false
set :fuel_5 false
sensor *tmp0 node1 @powerNetIn
sensor *tmp1 node1 @powerNetOut
op sub *tmp2 *tmp0 *tmp1
op floor :surplus *tmp2
jump *label5 lessThanEq :surplus 10000
op sub *tmp5 @tick 3600
jump *label6 always
label *label5
set *tmp5 @tick
label *label6
set :t_startup1 *tmp5
set :t_startup2 *tmp5
set :t_startup3 *tmp5
set :t_startup4 *tmp5
set :t_startup5 *tmp5
set .REACTORS_DESIRED 5
set .AVG_SURPLUS 500
set :start_reactor.0:reactor_num 5
label *label7
set .CONTAINER vault1
set .NODE node1
radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
jump *label125 equal :check_radar.0:enemy_found null
control enabled projector1 true
control enabled projector2 true
control config unloader1 @scrap
control config unloader2 @blast-compound
control config unloader3 @scrap
control config unloader4 @blast-compound
control config unloader5 @scrap
control config unloader6 @blast-compound
control config unloader7 @scrap
control enabled reactor1 false
control enabled reactor2 false
control enabled reactor3 false
control enabled reactor4 false
control enabled reactor5 false
set :check_radar.0*retval true
jump *label127 always
label *label125
control enabled projector1 false
control enabled projector2 false
set :check_radar.0*retval false
label *label127
op notEqual *tmp9 switch1 null
sensor *tmp10 switch1 @enabled
op equal *tmp11 *tmp10 false
op land *tmp12 *tmp9 *tmp11
jump *label12 equal *tmp12 false
print "User has disabled emergency switch\n"
set *tmp8 true
jump *label11 always
label *label12
set *tmp8 false
jump *label11 always
label *label11
op or :emerg_shutdown :check_radar.0*retval *tmp8
op sub *tmp102 @tick :t_startup1
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor1 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label133 equal *tmp107 false
set .START_POWER_REQ 0
jump *label135 always
label *label133
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set .START_POWER_REQ :calc_charge_req.0:charge_req
jump *label135 always
label *label135
op sub *tmp102 @tick :t_startup2
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor2 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label137 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label139 always
label *label137
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
jump *label139 always
label *label139
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
op sub *tmp102 @tick :t_startup3
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor3 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label141 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label143 always
label *label141
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
jump *label143 always
label *label143
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
op sub *tmp102 @tick :t_startup4
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor4 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label145 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label147 always
label *label145
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
jump *label147 always
label *label147
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
op sub *tmp102 @tick :t_startup5
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor5 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label149 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label151 always
label *label149
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
jump *label151 always
label *label151
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req.0*retval
set .RET_T_STARTUP :t_startup1
op sub *tmp113 @tick :t_startup1
op idiv :start_reactor.0:secs *tmp113 60
sensor :start_reactor.0:fuel reactor1 @blast-compound
set :start_reactor.0:supply_fuel true
sensor :start_reactor.0:fuel_stored vault1 @blast-compound
sensor :start_reactor.0:cryo reactor1 @cryofluid
sensor *tmp118 node1 @powerNetStored
op floor :start_reactor.0:charge *tmp118
sensor *tmp120 node1 @powerNetIn
sensor *tmp121 node1 @powerNetOut
op sub *tmp122 *tmp120 *tmp121
op floor :start_reactor.0:surplus *tmp122
op mul *tmp124 .AVG_SURPLUS 0.8
op mul *tmp125 :start_reactor.0:surplus 0.2
op add .AVG_SURPLUS *tmp124 *tmp125
sensor :start_reactor.0:enabled reactor1 @enabled
print "#5 - "
jump *label157 equal :emerg_shutdown false
control enabled reactor1 false
print "emergency mode\n"
set :start_reactor.0:supply_fuel false
jump *label190 always
label *label157
jump *label176 equal :start_reactor.0:enabled false
jump *label158 greaterThanEq .REACTORS_DESIRED 5
control enabled reactor1 false
print "STOP unwanted\n"
jump *label189 always
label *label158
op greaterThan *tmp136 5 1
op mul *tmp137 15 5
op lessThan *tmp138 :start_reactor.0:fuel_stored 75
op land *tmp139 true *tmp138
jump *label159 equal *tmp139 false
control enabled reactor1 false
print "STOP system fuel low\n"
jump *label189 always
label *label159
jump *label160 greaterThan :start_reactor.0:fuel 1
control enabled reactor1 false
print "STOP fuel low\n"
jump *label189 always
label *label160
jump *label161 greaterThan :start_reactor.0:cryo 1
control enabled reactor1 false
print "STOP out of cryo\n"
jump *label189 always
label *label161
jump *label168 greaterThanEq :start_reactor.0:secs 30
op sub *tmp102 @tick :t_startup1
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor1 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label163 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label165 always
label *label163
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
jump *label165 always
label *label165
op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
op lessThan *tmp154 *tmp153 5000
op lessThan *tmp155 :start_reactor.0:surplus -500
op land *tmp156 *tmp154 *tmp155
jump *label166 equal *tmp156 false
control enabled reactor1 false
print "START FAIL battery\n"
set :start_reactor.0:supply_fuel false
jump *label189 always
label *label166
op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor.0:time_left
format :calc_charge_req.0*retval
jump *label189 always
label *label168
op lessThan *tmp161 :start_reactor.0:charge 2000
op lessThan *tmp162 :start_reactor.0:surplus -500
op land *tmp163 *tmp161 *tmp162
jump *label169 equal *tmp163 false
control enabled reactor1 false
print "ABANDON - battery crit\n"
set :start_reactor.0:supply_fuel false
jump *label189 always
label *label169
op idiv :start_reactor.0:mins :start_reactor.0:secs 6
op div :start_reactor.0:mins :start_reactor.0:mins 10
print "RUN {0} mins\n"
format :start_reactor.0:mins
jump *label189 always
label *label176
op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
op sub *tmp170 *tmp169 5000
op div *tmp171 *tmp170 23000
op div :start_reactor.0:charge_units *tmp170 38333.333333333336
op div *tmp173 :start_reactor.0:surplus 2000
op max :start_reactor.0:flow_units -0.1 *tmp173
op mul *tmp175 2 5
op add :start_reactor.0:cryo_req 3 10
jump *label177 greaterThanEq .REACTORS_DESIRED 5
print "IDLE\n"
set :start_reactor.0:supply_fuel false
jump *label188 always
label *label177
op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
jump *label178 greaterThanEq *tmp179 1
op idiv *tmp183 :start_reactor.0:flow_units 0.001
op div :start_reactor.0:flow *tmp183 10
op idiv *tmp186 :start_reactor.0:charge_units 0.001
op div :start_reactor.0:charge *tmp186 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor.0:charge
format :start_reactor.0:flow
set :start_reactor.0:supply_fuel false
jump *label187 always
label *label178
op lessThan *tmp188 :start_reactor.0:fuel 10
op land *tmp189 :fuel_1 *tmp188
jump *label181 equal *tmp189 false
op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
jump *label179 lessThanEq *tmp191 10
print "WAIT fuel\n"
jump *label186 always
label *label179
print "WAIT system fuel\n"
jump *label186 always
label *label181
op mul *tmp194 45 5
jump *label182 greaterThanEq :start_reactor.0:fuel_stored 225
print "WAIT buffer fuel\n"
jump *label185 always
label *label182
jump *label183 greaterThanEq :start_reactor.0:cryo 13
print "WAIT cryo\n"
jump *label184 always
label *label183
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor1 true
label *label184
label *label185
label *label186
label *label187
label *label188
label *label189
label *label190
sensor *tmp201 reactor1 @enabled
jump *label191 equal :start_reactor.0:enabled *tmp201
set .RET_T_STARTUP @tick
label *label191
set :fuel_1 :start_reactor.0:supply_fuel
set :t_startup1 .RET_T_STARTUP
jump *label107 equal :start_reactor.0:supply_fuel false
control config unloader1 @blast-compound
jump *label108 always
label *label107
control config unloader1 @scrap
label *label108
jump *label109 notEqual :start_reactor.0:supply_fuel false
control config unloader2 @blast-compound
jump *label110 always
label *label109
control config unloader2 @scrap
label *label110
set .RET_T_STARTUP :t_startup2
op sub *tmp113 @tick :t_startup2
op idiv :start_reactor.0:secs *tmp113 60
sensor :start_reactor.0:fuel reactor2 @blast-compound
set :start_reactor.0:supply_fuel true
sensor :start_reactor.0:fuel_stored vault1 @blast-compound
sensor :start_reactor.0:cryo reactor2 @cryofluid
sensor *tmp118 node1 @powerNetStored
op floor :start_reactor.0:charge *tmp118
sensor *tmp120 node1 @powerNetIn
sensor *tmp121 node1 @powerNetOut
op sub *tmp122 *tmp120 *tmp121
op floor :start_reactor.0:surplus *tmp122
op mul *tmp124 .AVG_SURPLUS 0.8
op mul *tmp125 :start_reactor.0:surplus 0.2
op add .AVG_SURPLUS *tmp124 *tmp125
sensor :start_reactor.0:enabled reactor2 @enabled
print "#5 - "
jump *label195 equal :emerg_shutdown false
control enabled reactor2 false
print "emergency mode\n"
set :start_reactor.0:supply_fuel false
jump *label228 always
label *label195
jump *label214 equal :start_reactor.0:enabled false
jump *label196 greaterThanEq .REACTORS_DESIRED 5
control enabled reactor2 false
print "STOP unwanted\n"
jump *label227 always
label *label196
op greaterThan *tmp136 5 1
op mul *tmp137 15 5
op lessThan *tmp138 :start_reactor.0:fuel_stored 75
op land *tmp139 true *tmp138
jump *label197 equal *tmp139 false
control enabled reactor2 false
print "STOP system fuel low\n"
jump *label227 always
label *label197
jump *label198 greaterThan :start_reactor.0:fuel 1
control enabled reactor2 false
print "STOP fuel low\n"
jump *label227 always
label *label198
jump *label199 greaterThan :start_reactor.0:cryo 1
control enabled reactor2 false
print "STOP out of cryo\n"
jump *label227 always
label *label199
jump *label206 greaterThanEq :start_reactor.0:secs 30
op sub *tmp102 @tick :t_startup2
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor2 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label201 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label203 always
label *label201
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
jump *label203 always
label *label203
op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
op lessThan *tmp154 *tmp153 5000
op lessThan *tmp155 :start_reactor.0:surplus -500
op land *tmp156 *tmp154 *tmp155
jump *label204 equal *tmp156 false
control enabled reactor2 false
print "START FAIL battery\n"
set :start_reactor.0:supply_fuel false
jump *label227 always
label *label204
op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor.0:time_left
format :calc_charge_req.0*retval
jump *label227 always
label *label206
op lessThan *tmp161 :start_reactor.0:charge 2000
op lessThan *tmp162 :start_reactor.0:surplus -500
op land *tmp163 *tmp161 *tmp162
jump *label207 equal *tmp163 false
control enabled reactor2 false
print "ABANDON - battery crit\n"
set :start_reactor.0:supply_fuel false
jump *label227 always
label *label207
op idiv :start_reactor.0:mins :start_reactor.0:secs 6
op div :start_reactor.0:mins :start_reactor.0:mins 10
print "RUN {0} mins\n"
format :start_reactor.0:mins
jump *label227 always
label *label214
op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
op sub *tmp170 *tmp169 5000
op div *tmp171 *tmp170 23000
op div :start_reactor.0:charge_units *tmp170 38333.333333333336
op div *tmp173 :start_reactor.0:surplus 2000
op max :start_reactor.0:flow_units -0.1 *tmp173
op mul *tmp175 2 5
op add :start_reactor.0:cryo_req 3 10
jump *label215 greaterThanEq .REACTORS_DESIRED 5
print "IDLE\n"
set :start_reactor.0:supply_fuel false
jump *label226 always
label *label215
op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
jump *label216 greaterThanEq *tmp179 1
op idiv *tmp183 :start_reactor.0:flow_units 0.001
op div :start_reactor.0:flow *tmp183 10
op idiv *tmp186 :start_reactor.0:charge_units 0.001
op div :start_reactor.0:charge *tmp186 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor.0:charge
format :start_reactor.0:flow
set :start_reactor.0:supply_fuel false
jump *label225 always
label *label216
op lessThan *tmp188 :start_reactor.0:fuel 10
op land *tmp189 :fuel_2 *tmp188
jump *label219 equal *tmp189 false
op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
jump *label217 lessThanEq *tmp191 10
print "WAIT fuel\n"
jump *label224 always
label *label217
print "WAIT system fuel\n"
jump *label224 always
label *label219
op mul *tmp194 45 5
jump *label220 greaterThanEq :start_reactor.0:fuel_stored 225
print "WAIT buffer fuel\n"
jump *label223 always
label *label220
jump *label221 greaterThanEq :start_reactor.0:cryo 13
print "WAIT cryo\n"
jump *label222 always
label *label221
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor2 true
label *label222
label *label223
label *label224
label *label225
label *label226
label *label227
label *label228
sensor *tmp201 reactor2 @enabled
jump *label229 equal :start_reactor.0:enabled *tmp201
set .RET_T_STARTUP @tick
label *label229
set :fuel_2 :start_reactor.0:supply_fuel
set :t_startup2 .RET_T_STARTUP
jump *label113 equal :start_reactor.0:supply_fuel false
control config unloader3 @blast-compound
jump *label114 always
label *label113
control config unloader3 @scrap
label *label114
jump *label115 notEqual :start_reactor.0:supply_fuel false
control config unloader4 @blast-compound
jump *label116 always
label *label115
control config unloader4 @scrap
label *label116
radar enemy any any health cyclone1 1 :check_radar.0:enemy_found
jump *label129 equal :check_radar.0:enemy_found null
control enabled projector1 true
control enabled projector2 true
control config unloader1 @scrap
control config unloader2 @blast-compound
control config unloader3 @scrap
control config unloader4 @blast-compound
control config unloader5 @scrap
control config unloader6 @blast-compound
control config unloader7 @scrap
control enabled reactor1 false
control enabled reactor2 false
control enabled reactor3 false
control enabled reactor4 false
control enabled reactor5 false
set :check_radar.0*retval true
jump *label131 always
label *label129
control enabled projector1 false
control enabled projector2 false
set :check_radar.0*retval false
label *label131
op or :emerg_shutdown :emerg_shutdown :check_radar.0*retval
set .RET_T_STARTUP :t_startup3
op sub *tmp113 @tick :t_startup3
op idiv :start_reactor.0:secs *tmp113 60
sensor :start_reactor.0:fuel reactor3 @blast-compound
set :start_reactor.0:supply_fuel true
sensor :start_reactor.0:fuel_stored vault1 @blast-compound
sensor :start_reactor.0:cryo reactor3 @cryofluid
sensor *tmp118 node1 @powerNetStored
op floor :start_reactor.0:charge *tmp118
sensor *tmp120 node1 @powerNetIn
sensor *tmp121 node1 @powerNetOut
op sub *tmp122 *tmp120 *tmp121
op floor :start_reactor.0:surplus *tmp122
op mul *tmp124 .AVG_SURPLUS 0.8
op mul *tmp125 :start_reactor.0:surplus 0.2
op add .AVG_SURPLUS *tmp124 *tmp125
sensor :start_reactor.0:enabled reactor3 @enabled
print "#5 - "
jump *label233 equal :emerg_shutdown false
control enabled reactor3 false
print "emergency mode\n"
set :start_reactor.0:supply_fuel false
jump *label266 always
label *label233
jump *label252 equal :start_reactor.0:enabled false
jump *label234 greaterThanEq .REACTORS_DESIRED 5
control enabled reactor3 false
print "STOP unwanted\n"
jump *label265 always
label *label234
op greaterThan *tmp136 5 1
op mul *tmp137 15 5
op lessThan *tmp138 :start_reactor.0:fuel_stored 75
op land *tmp139 true *tmp138
jump *label235 equal *tmp139 false
control enabled reactor3 false
print "STOP system fuel low\n"
jump *label265 always
label *label235
jump *label236 greaterThan :start_reactor.0:fuel 1
control enabled reactor3 false
print "STOP fuel low\n"
jump *label265 always
label *label236
jump *label237 greaterThan :start_reactor.0:cryo 1
control enabled reactor3 false
print "STOP out of cryo\n"
jump *label265 always
label *label237
jump *label244 greaterThanEq :start_reactor.0:secs 30
op sub *tmp102 @tick :t_startup3
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 reactor3 @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label239 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label241 always
label *label239
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0:charge_req *tmp110 0.04
set :calc_charge_req.0*retval :calc_charge_req.0:charge_req
jump *label241 always
label *label241
op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
op lessThan *tmp154 *tmp153 5000
op lessThan *tmp155 :start_reactor.0:surplus -500
op land *tmp156 *tmp154 *tmp155
jump *label242 equal *tmp156 false
control enabled reactor3 false
print "START FAIL battery\n"
set :start_reactor.0:supply_fuel false
jump *label265 always
label *label242
op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor.0:time_left
format :calc_charge_req.0*retval
jump *label265 always
label *label244
op lessThan *tmp161 :start_reactor.0:charge 2000
op lessThan *tmp162 :start_reactor.0:surplus -500
op land *tmp163 *tmp161 *tmp162
jump *label245 equal *tmp163 false
control enabled reactor3 false
print "ABANDON - battery crit\n"
set :start_reactor.0:supply_fuel false
jump *label265 always
label *label245
op idiv :start_reactor.0:mins :start_reactor.0:secs 6
op div :start_reactor.0:mins :start_reactor.0:mins 10
print "RUN {0} mins\n"
format :start_reactor.0:mins
jump *label265 always
label *label252
op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
op sub *tmp170 *tmp169 5000
op div *tmp171 *tmp170 23000
op div :start_reactor.0:charge_units *tmp170 38333.333333333336
op div *tmp173 :start_reactor.0:surplus 2000
op max :start_reactor.0:flow_units -0.1 *tmp173
op mul *tmp175 2 5
op add :start_reactor.0:cryo_req 3 10
jump *label253 greaterThanEq .REACTORS_DESIRED 5
print "IDLE\n"
set :start_reactor.0:supply_fuel false
jump *label264 always
label *label253
op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
jump *label254 greaterThanEq *tmp179 1
op idiv *tmp183 :start_reactor.0:flow_units 0.001
op div :start_reactor.0:flow *tmp183 10
op idiv *tmp186 :start_reactor.0:charge_units 0.001
op div :start_reactor.0:charge *tmp186 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor.0:charge
format :start_reactor.0:flow
set :start_reactor.0:supply_fuel false
jump *label263 always
label *label254
op lessThan *tmp188 :start_reactor.0:fuel 10
op land *tmp189 :fuel_3 *tmp188
jump *label257 equal *tmp189 false
op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
jump *label255 lessThanEq *tmp191 10
print "WAIT fuel\n"
jump *label262 always
label *label255
print "WAIT system fuel\n"
jump *label262 always
label *label257
op mul *tmp194 45 5
jump *label258 greaterThanEq :start_reactor.0:fuel_stored 225
print "WAIT buffer fuel\n"
jump *label261 always
label *label258
jump *label259 greaterThanEq :start_reactor.0:cryo 13
print "WAIT cryo\n"
jump *label260 always
label *label259
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor3 true
label *label260
label *label261
label *label262
label *label263
label *label264
label *label265
label *label266
sensor *tmp201 reactor3 @enabled
jump *label267 equal :start_reactor.0:enabled *tmp201
set .RET_T_STARTUP @tick
label *label267
set :fuel_3 :start_reactor.0:supply_fuel
set :t_startup3 .RET_T_STARTUP
set :start_reactor.0:reactor reactor4
set :start_reactor.0:emerg_shutdown :emerg_shutdown
set :start_reactor.0:fuel_on :fuel_4
set :start_reactor.0:t_startup :t_startup4
setaddr :start_reactor.0*retaddr *label25
call *label3 *invalid :start_reactor.0*retval
label *label25
set :fuel_4 :start_reactor.0*retval
set :t_startup4 .RET_T_STARTUP
set :start_reactor.0:reactor reactor5
set :start_reactor.0:emerg_shutdown :emerg_shutdown
set :start_reactor.0:fuel_on :fuel_5
set :start_reactor.0:t_startup :t_startup5
setaddr :start_reactor.0*retaddr *label26
call *label3 *invalid :start_reactor.0*retval
label *label26
set :fuel_5 :start_reactor.0*retval
set :t_startup5 .RET_T_STARTUP
op or *tmp27 :start_reactor.0:supply_fuel :fuel_4
op or :fuel_many *tmp27 :start_reactor.0*retval
jump *label119 equal :fuel_many false
control config unloader5 @blast-compound
jump *label120 always
label *label119
control config unloader5 @scrap
label *label120
jump *label121 notEqual :fuel_many false
control config unloader6 @blast-compound
jump *label122 always
label *label121
control config unloader6 @scrap
label *label122
op or *tmp30 :fuel_1 :fuel_2
op or :throttle_blast.0:reactors_fueled *tmp30 :fuel_many
sensor *tmp33 node1 @powerNetStored
op floor :throttle_blast.0:charge *tmp33
sensor *tmp35 node1 @powerNetIn
sensor *tmp36 node1 @powerNetOut
op sub *tmp37 *tmp35 *tmp36
op floor :throttle_blast.0:surplus *tmp37
sensor :throttle_blast.0:fuel_stored vault1 @blast-compound
op lessThan *tmp40 :throttle_blast.0:charge 5000
op lessThan *tmp41 :throttle_blast.0:surplus -500
op land *tmp42 *tmp40 *tmp41
op or *tmp43 *tmp42 :emerg_shutdown
jump *label29 equal *tmp43 false
set :throttle_blast.0:limit 0
print "Central Fuel at {0} / 0 - "
format :throttle_blast.0:fuel_stored
jump *label31 equal :emerg_shutdown false
print " Enemies detected.\n"
jump *label30 always
label *label31
print " Critical power.\n"
jump *label30 always
label *label29
jump *label33 notEqual :throttle_blast.0:reactors_fueled false
set :throttle_blast.0:limit 150
print "Fuel {0} / 150 (due to emergency)\n"
format :throttle_blast.0:fuel_stored
jump *label34 always
label *label33
set :throttle_blast.0:limit 800
print "Fuel {0} / 800\n"
format :throttle_blast.0:fuel_stored
label *label34
label *label30
jump *label35 greaterThanEq :throttle_blast.0:fuel_stored :throttle_blast.0:limit
control config unloader7 @pyratite
jump *label36 always
label *label35
control config unloader7 @scrap
label *label36
sensor *tmp53 node1 @powerNetStored
sensor *tmp54 node1 @powerNetCapacity
op div :diff_generators.0:stored_pc *tmp53 *tmp54
op greaterThan *tmp56 :diff_generators.0:stored_pc 0.9
op lessThan *tmp57 .START_POWER_REQ 10
op land *tmp58 *tmp56 *tmp57
jump *label38 equal *tmp58 false
print "Differential now idle.\n"
control enabled generator1 false
control enabled generator2 false
jump *label39 always
label *label38
control enabled generator1 true
control enabled generator2 true
label *label39
op idiv *tmp93 .AVG_SURPLUS 100
op div :surplus *tmp93 10
sensor :kilo.0:val node1 @powerNetStored
op idiv *tmp93 :kilo.0:val 100
op div :kilo.0*retval *tmp93 10
set :charge :kilo.0*retval
jump *label42 lessThanEq .START_POWER_REQ 0
op idiv *tmp93 .START_POWER_REQ 100
op div :kilo.0*retval *tmp93 10
print "Req {0}kJ / {0}kJ. {0}kW flow.\n"
format :kilo.0*retval
format :charge
format :surplus
jump *label43 always
label *label42
print "Power {0}kW, {0}kJ\n"
format :surplus
format :kilo.0*retval
sensor *tmp71 node1 @powerNetStored
sensor *tmp72 node1 @powerNetCapacity
op div :update_reactors_desired.0:stored *tmp71 *tmp72
op greaterThan *tmp74 :update_reactors_desired.0:stored 0.98
op greaterThan *tmp76 .AVG_SURPLUS 16500
op land *tmp77 *tmp74 *tmp76
jump *label46 equal *tmp77 false
jump *label48 lessThanEq .REACTORS_DESIRED 2
op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
op sub .AVG_SURPLUS .AVG_SURPLUS 6500
label *label48
label *label46
op lessThan *tmp81 :update_reactors_desired.0:stored 0.8
op lessThan *tmp83 .AVG_SURPLUS 8000
op land *tmp84 *tmp81 *tmp83
jump *label50 equal *tmp84 false
op sub *tmp86 .AVG_SURPLUS 10000
op idiv *tmp87 *tmp86 6500
op max :update_reactors_desired.0:needed 1 *tmp87
op add *tmp89 :update_reactors_desired.0:needed .REACTORS_DESIRED
op min .REACTORS_DESIRED 5 *tmp89
label *label50
label *label43
jump *label52 equal .REACTORS_DESIRED 5
print "Require only {0}/5 reactors.\n"
format .REACTORS_DESIRED
label *label52
printflush message1
jump *label7 always
label *label3
set .RET_T_STARTUP :start_reactor.0:t_startup
op sub *tmp113 @tick :start_reactor.0:t_startup
op idiv :start_reactor.0:secs *tmp113 60
sensor :start_reactor.0:fuel :start_reactor.0:reactor @blast-compound
set :start_reactor.0*retval true
sensor :start_reactor.0:fuel_stored .CONTAINER @blast-compound
sensor :start_reactor.0:cryo :start_reactor.0:reactor @cryofluid
sensor *tmp118 .NODE @powerNetStored
op floor :start_reactor.0:charge *tmp118
sensor *tmp120 .NODE @powerNetIn
sensor *tmp121 .NODE @powerNetOut
op sub *tmp122 *tmp120 *tmp121
op floor :start_reactor.0:surplus *tmp122
op mul *tmp124 .AVG_SURPLUS 0.8
op mul *tmp125 :start_reactor.0:surplus 0.2
op add .AVG_SURPLUS *tmp124 *tmp125
sensor :start_reactor.0:enabled :start_reactor.0:reactor @enabled
print "#{0} - "
format :start_reactor.0:reactor_num
jump *label64 equal :start_reactor.0:emerg_shutdown false
control enabled :start_reactor.0:reactor false
print "emergency mode\n"
set :start_reactor.0*retval false
jump *label65 always
label *label64
jump *label66 equal :start_reactor.0:enabled false
jump *label68 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
control enabled :start_reactor.0:reactor false
print "STOP unwanted\n"
jump *label67 always
label *label68
op greaterThan *tmp136 :start_reactor.0:reactor_num 1
op mul *tmp137 .FUEL_TOT_ABORT :start_reactor.0:reactor_num
op lessThan *tmp138 :start_reactor.0:fuel_stored *tmp137
op land *tmp139 *tmp136 *tmp138
jump *label70 equal *tmp139 false
control enabled :start_reactor.0:reactor false
print "STOP system fuel low\n"
jump *label67 always
label *label70
jump *label72 greaterThan :start_reactor.0:fuel 1
control enabled :start_reactor.0:reactor false
print "STOP fuel low\n"
jump *label67 always
label *label72
jump *label74 greaterThan :start_reactor.0:cryo .CRYO_ABORT
control enabled :start_reactor.0:reactor false
print "STOP out of cryo\n"
jump *label67 always
label *label74
jump *label76 greaterThanEq :start_reactor.0:secs 30
op sub *tmp102 @tick :start_reactor.0:t_startup
op idiv :calc_charge_req.0:secs *tmp102 60
op greaterThan *tmp104 :calc_charge_req.0:secs 30
sensor *tmp105 :start_reactor.0:reactor @enabled
op equal *tmp106 *tmp105 false
op or *tmp107 *tmp104 *tmp106
jump *label153 equal *tmp107 false
set :calc_charge_req.0*retval 0
jump *label155 always
label *label153
op sub :calc_charge_req.0:time_left 30 :calc_charge_req.0:secs
op mul *tmp110 :calc_charge_req.0:time_left :calc_charge_req.0:time_left
op idiv :calc_charge_req.0*retval *tmp110 0.04
jump *label155 always
label *label155
op sub *tmp153 :start_reactor.0:charge :calc_charge_req.0*retval
op lessThan *tmp154 *tmp153 .PWR_ABORT
op lessThan *tmp155 :start_reactor.0:surplus .FLOW_ABORT
op land *tmp156 *tmp154 *tmp155
jump *label79 equal *tmp156 false
control enabled :start_reactor.0:reactor false
print "START FAIL battery\n"
set :start_reactor.0*retval false
jump *label67 always
label *label79
op sub :start_reactor.0:time_left 30 :start_reactor.0:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor.0:time_left
format :calc_charge_req.0*retval
jump *label67 always
label *label76
op lessThan *tmp161 :start_reactor.0:charge .PWR_ABANDON
op lessThan *tmp162 :start_reactor.0:surplus .FLOW_ABORT
op land *tmp163 *tmp161 *tmp162
jump *label81 equal *tmp163 false
control enabled :start_reactor.0:reactor false
print "ABANDON - battery crit\n"
set :start_reactor.0*retval false
jump *label67 always
label *label81
op idiv :start_reactor.0:mins :start_reactor.0:secs 6
op div :start_reactor.0:mins :start_reactor.0:mins 10
print "RUN {0} mins\n"
format :start_reactor.0:mins
jump *label67 always
label *label66
op sub *tmp169 :start_reactor.0:charge .START_POWER_REQ
op sub *tmp170 *tmp169 .PWR_ABORT
op div *tmp171 *tmp170 .PWR_REQ
op mul :start_reactor.0:charge_units *tmp171 .PWR_RESERVE
op div *tmp173 :start_reactor.0:surplus .FLOW_REQ
op max :start_reactor.0:flow_units -0.1 *tmp173
op mul *tmp175 .CRYO_REQ_EA :start_reactor.0:reactor_num
op add :start_reactor.0:cryo_req .CRYO_REQ *tmp175
jump *label83 greaterThanEq .REACTORS_DESIRED :start_reactor.0:reactor_num
print "IDLE\n"
set :start_reactor.0*retval false
jump *label84 always
label *label83
op add *tmp179 :start_reactor.0:flow_units :start_reactor.0:charge_units
jump *label85 greaterThanEq *tmp179 1
op idiv *tmp183 :start_reactor.0:flow_units 0.001
op div :start_reactor.0:flow *tmp183 10
op idiv *tmp186 :start_reactor.0:charge_units 0.001
op div :start_reactor.0:charge *tmp186 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor.0:charge
format :start_reactor.0:flow
set :start_reactor.0*retval false
jump *label86 always
label *label85
op lessThan *tmp188 :start_reactor.0:fuel .FUEL_REQ
op land *tmp189 :start_reactor.0:fuel_on *tmp188
jump *label87 equal *tmp189 false
op add *tmp191 :start_reactor.0:fuel :start_reactor.0:fuel_stored
jump *label89 lessThanEq *tmp191 .FUEL_REQ
print "WAIT fuel\n"
jump *label88 always
label *label89
print "WAIT system fuel\n"
jump *label88 always
label *label87
op mul *tmp194 .FUEL_TOT_REQ :start_reactor.0:reactor_num
jump *label91 greaterThanEq :start_reactor.0:fuel_stored *tmp194
print "WAIT buffer fuel\n"
jump *label92 always
label *label91
jump *label93 greaterThanEq :start_reactor.0:cryo :start_reactor.0:cryo_req
print "WAIT cryo\n"
jump *label94 always
label *label93
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
control enabled :start_reactor.0:reactor true
label *label94
label *label92
label *label88
label *label86
label *label84
label *label67
label *label65
sensor *tmp201 :start_reactor.0:reactor @enabled
jump *label95 equal :start_reactor.0:enabled *tmp201
set .RET_T_STARTUP @tick
label *label95
return :start_reactor.0*retaddr
