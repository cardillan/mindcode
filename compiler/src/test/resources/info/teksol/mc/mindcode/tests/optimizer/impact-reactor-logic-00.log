   684 instructions before optimizations.
    63 instructions eliminated by Temp Variables Elimination (6 iterations).
    60 instructions eliminated by Dead Code Elimination (11 iterations).
     3 instructions eliminated by Jump Normalization (2 passes, 5 iterations).
    37 instructions eliminated by Condition Optimization (2 passes, 5 iterations).
    37 instructions eliminated by Single Step Elimination (2 passes, 7 iterations).
     3 instructions eliminated by Expression Optimization (3 iterations).
    14 instructions eliminated by Boolean Optimization (4 iterations).
       2 final jumps of short-circuited conditions turned to an operation or select.
       5 fully-evaluated conditions turned to a sequence of selects.
     2 instructions eliminated by If Expression Optimization (3 iterations).
    83 instructions eliminated by Data Flow Optimization (9 passes, 29 iterations).
   499 instructions added by Function Inlining (10 iterations).
    17 function calls inlined by Function Inlining.
     5 instructions eliminated by Jump Straightening (5 iterations).
    34 instructions updated by Jump Threading.
    11 instructions eliminated by Unreachable Code Elimination (2 iterations).
   131 instructions eliminated by Print Merging.
   734 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 544):
  * Inline function 'kilo' defined at line 117:1                 size    +3, benefit      218.8, efficiency     72.917 (-4 instructions)
    Inline function 'update_fuel' defined at line 121:1          size    +5, benefit      337.5, efficiency     67.500
    Inline function 'calc_charge_req' defined at line 126:1      size   +54, benefit      503.9, efficiency      9.332
  ! Inline function 'start_reactor' defined at line 140:1        size  +559, benefit      687.5, efficiency      1.230
    Inline function 'check_radar' defined at line 259:1          size   +21, benefit      175.0, efficiency      8.333
    Inline function call at line 69:22                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 73:23                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 74:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 75:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 76:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 77:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 80:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 82:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 84:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 86:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 88:23                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 89:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 91:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 93:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 96:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 102:15                          size    +2, benefit       87.5, efficiency     43.750
    Inline function call at line 103:14                          size    +2, benefit       87.5, efficiency     43.750
    Inline function call at line 105:15                          size    +2, benefit       43.8, efficiency     21.875
    Inline function call at line 173:26                          size   +11, benefit        3.9, efficiency      0.355

Pass 1: speed optimization selection (cost limit 548):
  * Inline function 'update_fuel' defined at line 121:1          size    +5, benefit      337.5, efficiency     67.500 (-9 instructions)
    Inline function 'calc_charge_req' defined at line 126:1      size   +54, benefit      503.9, efficiency      9.332
  ! Inline function 'start_reactor' defined at line 140:1        size  +559, benefit      687.5, efficiency      1.230
    Inline function 'check_radar' defined at line 259:1          size   +21, benefit      175.0, efficiency      8.333
    Inline function call at line 69:22                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 73:23                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 74:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 75:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 76:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 77:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 80:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 82:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 84:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 86:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 88:23                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 89:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 91:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 93:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 96:5                            size    +3, benefit      112.5, efficiency     37.500
    Inline function call at line 173:26                          size   +11, benefit        3.9, efficiency      0.355

Pass 1: speed optimization selection (cost limit 557):
  * Inline function 'calc_charge_req' defined at line 126:1      size   +54, benefit      503.9, efficiency      9.332 (+33 instructions)
  ! Inline function 'start_reactor' defined at line 140:1        size  +559, benefit      687.5, efficiency      1.230
    Inline function 'check_radar' defined at line 259:1          size   +21, benefit      175.0, efficiency      8.333
    Inline function call at line 69:22                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 73:23                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 74:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 75:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 76:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 77:24                           size   +11, benefit      100.0, efficiency      9.091
    Inline function call at line 80:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 84:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 88:23                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 89:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 91:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 93:14                           size  +140, benefit      137.5, efficiency      0.982
    Inline function call at line 173:26                          size   +11, benefit        3.9, efficiency      0.355

Pass 1: speed optimization selection (cost limit 524):
  ! Inline function 'start_reactor' defined at line 140:1        size  +587, benefit      687.5, efficiency      1.171
  * Inline function 'check_radar' defined at line 259:1          size   +21, benefit      175.0, efficiency      8.333 (+6 instructions)
    Inline function call at line 69:22                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 80:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 84:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 88:23                           size   +22, benefit       87.5, efficiency      3.977
    Inline function call at line 89:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 91:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 93:14                           size  +147, benefit      137.5, efficiency      0.935

Pass 1: speed optimization selection (cost limit 518):
  ! Inline function 'start_reactor' defined at line 140:1        size  +587, benefit      687.5, efficiency      1.171
  * Inline function call at line 80:14                           size  +147, benefit      137.5, efficiency      0.935 (+139 instructions)
    Inline function call at line 84:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 89:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 91:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 93:14                           size  +147, benefit      137.5, efficiency      0.935

Pass 1: speed optimization selection (cost limit 379):
  ! Inline function 'start_reactor' defined at line 140:1        size  +440, benefit      550.0, efficiency      1.250
  * Inline function call at line 84:14                           size  +147, benefit      137.5, efficiency      0.935 (+140 instructions)
    Inline function call at line 89:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 91:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 93:14                           size  +147, benefit      137.5, efficiency      0.935

Pass 1: speed optimization selection (cost limit 239):
  ! Inline function 'start_reactor' defined at line 140:1        size  +293, benefit      412.5, efficiency      1.408
  * Inline function call at line 89:14                           size  +147, benefit      137.5, efficiency      0.935 (+140 instructions)
    Inline function call at line 91:14                           size  +147, benefit      137.5, efficiency      0.935
    Inline function call at line 93:14                           size  +147, benefit      137.5, efficiency      0.935

Pass 1: speed optimization selection (cost limit 99):
  ! Inline function 'start_reactor' defined at line 140:1        size  +146, benefit      275.0, efficiency      1.884
  ! Inline function call at line 91:14                           size  +147, benefit      137.5, efficiency      0.935
  ! Inline function call at line 93:14                           size  +147, benefit      137.5, efficiency      0.935

Pass 2: speed optimization selection (cost limit 124):
  ! Inline function 'start_reactor' defined at line 140:1        size  +143, benefit      275.0, efficiency      1.923
  ! Inline function call at line 91:14                           size  +144, benefit      137.5, efficiency      0.955
  ! Inline function call at line 93:14                           size  +144, benefit      137.5, efficiency      0.955

Pass 3: speed optimization selection (cost limit 124):
  ! Inline function 'start_reactor' defined at line 140:1        size  +143, benefit      275.0, efficiency      1.923
  ! Inline function call at line 91:14                           size  +144, benefit      137.5, efficiency      0.955
  ! Inline function call at line 93:14                           size  +144, benefit      137.5, efficiency      0.955

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-20 instructions):
 
    74 print "\n"
    75 set *tmp8 true
    76 jump *label11 always
-    * set *tmp12 null
    77 jump *label13 always
    78 label *label12
-    * set *tmp12 null
    79 label *label13
    80 set *tmp8 false
    81 jump *label11 always
 
   134 setaddr :update_fuel*retaddr *label22 (h:*label22)
   135 call *label1 *invalid :update_fuel*retval (m:*label22) (h:*label22)
   136 label *label22
-    * set *tmp19 :update_fuel*retval
   137 set :start_reactor:reactor reactor2
   138 set :start_reactor:reactor_num 2
   139 set :start_reactor:emerg_shutdown :emerg_shutdown
 
   151 setaddr :update_fuel*retaddr *label24 (h:*label24)
   152 call *label1 *invalid :update_fuel*retval (m:*label24) (h:*label24)
   153 label *label24
-    * set *tmp21 :update_fuel*retval
   154 set :check_radar:unit .TOWER
   155 setaddr :check_radar*retaddr *label25 (h:*label25)
   156 call *label4 *invalid :check_radar*retval (m:*label25) (h:*label25)
 
   210 setaddr :update_fuel*retaddr *label34 (h:*label34)
   211 call *label1 *invalid :update_fuel*retval (m:*label34) (h:*label34)
   212 label *label34
-    * set *tmp27 :update_fuel*retval
   213 jump *label37 notEqual :fuel_1 false
   214 label *label39
   215 jump *label37 notEqual :fuel_2 false
 
   263 print "\n"
   264 set *tmp40 null
   265 label *label47
-    * set *tmp39 *tmp40
   266 jump *label42 always
   267 label *label41
   268 op equal *tmp41 :throttle_blast:reactors_fueled false
 
   289 print "n"
   290 set *tmp42 null
   291 label *label49
-    * set *tmp39 *tmp42
   292 label *label42
   293 op lessThan *tmp43 :throttle_blast:fuel_stored :throttle_blast:limit
   294 set *tmp29 *tmp43
 
   326 control enabled generator2 true
   327 set *tmp53 true
   328 label *label54
-    * set *tmp47 *tmp53
   329 label *label52
   330 set :kilo:val .AVG_SURPLUS
   331 setaddr :kilo*retaddr *label57 (h:*label57)
 
   356 print :surplus
   357 print "kW flow."
   358 print "\n"
-    * set *tmp62 null
   359 jump *label60 always
   360 label *label59
   361 print "Power "
 
   385 label *label67
   386 set *tmp73 null
   387 label *label68
-    * set *tmp71 *tmp73
   388 jump *label64 always
   389 label *label63
-    * set *tmp71 null
   390 label *label64
   391 op lessThan *tmp74 :update_reactors_desired:stored 0.8
   392 jump *label69 equal *tmp74 false
 
   410 label *label70
   411 set *tmp64 *tmp77
   412 label *label62
-    * set *tmp62 *tmp64
   413 label *label60
   414 op notEqual *tmp83 .REACTORS_DESIRED 5
   415 jump *label73 equal *tmp83 false
 
   417 print .REACTORS_DESIRED
   418 print "/5 reactors."
   419 print "\n"
-    * set *tmp84 null
   420 jump *label74 always
   421 label *label73
-    * set *tmp84 null
   422 label *label74
   423 printflush message1
   424 label *label8
 
   470 label *label84
   471 set :calc_charge_req*retval 0
   472 jump *label81 always
-    * set *tmp99 null
   473 jump *label83 always
   474 label *label82
-    * set *tmp99 null
   475 label *label83
   476 op sub *tmp100 30 :calc_charge_req:secs
   477 set :calc_charge_req:time_left *tmp100
 
   521 print "emergency mode"
   522 print "\n"
   523 set :start_reactor:supply_fuel false
-    * set *tmp119 :start_reactor:supply_fuel
   524 jump *label88 always
   525 label *label87
   526 jump *label89 equal :start_reactor:enabled false
 
   736 label *label113
   737 set *tmp122 *tmp166
   738 label *label90
-    * set *tmp119 *tmp122
   739 label *label88
   740 sensor *tmp188 :start_reactor:reactor @enabled
   741 op notEqual *tmp189 :start_reactor:enabled *tmp188
   742 jump *label126 equal *tmp189 false
   743 set *tmp191 @tick
   744 set .RET_T_STARTUP *tmp191
-    * set *tmp190 .RET_T_STARTUP
   745 jump *label127 always
   746 label *label126
-    * set *tmp190 null
   747 label *label127
   748 set :start_reactor*retval :start_reactor:supply_fuel
   749 jump *label86 always

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-12 instructions):
 
   256 jump *label46 equal :throttle_blast:emerg_shutdown false
   257 print " Enemies detected."
   258 print "\n"
-    * set *tmp40 null
   259 jump *label47 always
   260 label *label46
   261 print " Critical power."
   262 print "\n"
-    * set *tmp40 null
   263 label *label47
   264 jump *label42 always
   265 label *label41
 
   274 print " "
   275 print "(due to emergency)"
   276 print "\n"
-    * set *tmp42 null
   277 jump *label49 always
   278 label *label48
   279 set :throttle_blast:limit .FUEL_LIMIT
 
   284 print :throttle_blast:limit
   285 print "\"
   286 print "n"
-    * set *tmp42 null
   287 label *label49
   288 label *label42
   289 op lessThan *tmp43 :throttle_blast:fuel_stored :throttle_blast:limit
 
   315 print "\n"
   316 control enabled generator1 false
   317 control enabled generator2 false
-    * set *tmp53 false
   318 jump *label54 always
   319 label *label53
   320 control enabled generator1 true
   321 control enabled generator2 true
-    * set *tmp53 true
   322 label *label54
   323 label *label52
   324 set :kilo:val .AVG_SURPLUS
 
   374 jump *label67 equal *tmp72 false
   375 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   376 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
-    * set *tmp73 .AVG_SURPLUS
   377 jump *label68 always
   378 label *label67
-    * set *tmp73 null
   379 label *label68
   380 jump *label64 always
   381 label *label63
 
   400 label *label69
   401 set *tmp77 null
   402 label *label70
-    * set *tmp64 *tmp77
   403 label *label62
   404 label *label60
   405 op notEqual *tmp83 .REACTORS_DESIRED 5
 
   443 set *tmp93 .FUEL_OFF
   444 label *label80
   445 control config *tmp90 *tmp93
-    * set :update_fuel*retval *tmp93
   446 label *label76
   447 return :update_fuel*retaddr
   448 end
 
   630 label *label94
   631 set *tmp124 *tmp130
   632 label *label92
-    * set *tmp122 *tmp124
   633 jump *label90 always
   634 label *label89
   635 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   723 label *label115
   724 set *tmp166 *tmp169
   725 label *label113
-    * set *tmp122 *tmp166
   726 label *label90
   727 label *label88
   728 sensor *tmp188 :start_reactor:reactor @enabled

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-6 instructions):
 
   395 op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
   396 op min *tmp82 5 *tmp81
   397 set .REACTORS_DESIRED *tmp82
-    * set *tmp77 .REACTORS_DESIRED
   398 jump *label70 always
   399 label *label69
-    * set *tmp77 null
   400 label *label70
   401 label *label62
   402 label *label60
 
   518 control enabled *tmp125 false
   519 print "STOP unwanted"
   520 print "\n"
-    * set *tmp124 null
   521 jump *label92 always
   522 label *label91
   523 op greaterThan *tmp127 :start_reactor:reactor_num 1
 
   625 label *label98
   626 set *tmp130 *tmp134
   627 label *label94
-    * set *tmp124 *tmp130
   628 label *label92
   629 jump *label90 always
   630 label *label89
 
   644 print "IDLE"
   645 print "\n"
   646 set :start_reactor:supply_fuel false
-    * set *tmp166 :start_reactor:supply_fuel
   647 jump *label113 always
   648 label *label112
   649 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
 
   716 label *label117
   717 set *tmp169 *tmp177
   718 label *label115
-    * set *tmp166 *tmp169
   719 label *label113
   720 label *label90
   721 label *label88

Modifications by Initial phase, Dead Code Elimination, iteration 4 (-4 instructions):
 
   532 control enabled *tmp131 false
   533 print "STOP system fuel low"
   534 print "\n"
-    * set *tmp130 null
   535 jump *label94 always
   536 label *label93
   537 op lessThanEq *tmp133 :start_reactor:fuel 1
 
   622 label *label100
   623 set *tmp134 *tmp138
   624 label *label98
-    * set *tmp130 *tmp134
   625 label *label94
   626 label *label92
   627 jump *label90 always
 
   662 print "W)"
   663 print "\n"
   664 set :start_reactor:supply_fuel false
-    * set *tmp169 :start_reactor:supply_fuel
   665 jump *label115 always
   666 label *label114
   667 jump *label116 equal :start_reactor:fuel_on false
 
   711 label *label123
   712 set *tmp177 *tmp183
   713 label *label117
-    * set *tmp169 *tmp177
   714 label *label115
   715 label *label113
   716 label *label90

Modifications by Initial phase, Dead Code Elimination, iteration 5 (-4 instructions):
 
   540 control enabled *tmp135 false
   541 print "STOP fuel low"
   542 print "\n"
-    * set *tmp134 null
   543 jump *label98 always
   544 label *label97
   545 op lessThanEq *tmp137 :start_reactor:cryo .CRYO_ABORT
 
   619 label *label102
   620 set *tmp138 *tmp142
   621 label *label100
-    * set *tmp134 *tmp138
   622 label *label98
   623 label *label94
   624 label *label92
 
   680 print "\n"
   681 set *tmp180 null
   682 label *label121
-    * set *tmp177 *tmp180
   683 jump *label117 always
   684 label *label116
   685 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
 
   706 label *label125
   707 set *tmp183 *tmp185
   708 label *label123
-    * set *tmp177 *tmp183
   709 label *label117
   710 label *label115
   711 label *label113

Modifications by Initial phase, Dead Code Elimination, iteration 6 (-6 instructions):
 
   548 control enabled *tmp139 false
   549 print "STOP out of cryo"
   550 print "\n"
-    * set *tmp138 null
   551 jump *label100 always
   552 label *label99
   553 op lessThan *tmp141 :start_reactor:secs 30
 
   616 label *label109
   617 set *tmp142 *tmp152
   618 label *label102
-    * set *tmp138 *tmp142
   619 label *label100
   620 label *label98
   621 label *label94
 
   671 jump *label120 equal *tmp179 false
   672 print "WAIT fuel"
   673 print "\n"
-    * set *tmp180 null
   674 jump *label121 always
   675 label *label120
   676 print "WAIT system fuel"
   677 print "\n"
-    * set *tmp180 null
   678 label *label121
   679 jump *label117 always
   680 label *label116
 
   683 jump *label122 equal *tmp182 false
   684 print "WAIT buffer fuel"
   685 print "\n"
-    * set *tmp183 null
   686 jump *label123 always
   687 label *label122
   688 op lessThan *tmp184 :start_reactor:cryo :start_reactor:cryo_req
 
   699 control enabled *tmp186 true
   700 set *tmp185 true
   701 label *label125
-    * set *tmp183 *tmp185
   702 label *label123
   703 label *label117
   704 label *label115

Modifications by Initial phase, Dead Code Elimination, iteration 7 (-4 instructions):
 
   585 print "\n"
   586 set *tmp146 null
   587 label *label105
-    * set *tmp142 *tmp146
   588 jump *label102 always
   589 label *label101
   590 op lessThan *tmp150 :start_reactor:charge .PWR_ABANDON
 
   613 print "\n"
   614 set *tmp152 null
   615 label *label109
-    * set *tmp142 *tmp152
   616 label *label102
   617 label *label100
   618 label *label98
 
   687 jump *label124 equal *tmp184 false
   688 print "WAIT cryo"
   689 print "\n"
-    * set *tmp185 null
   690 jump *label125 always
   691 label *label124
   692 print "STARTUP"
 
   694 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
   695 set *tmp186 :start_reactor:reactor
   696 control enabled *tmp186 true
-    * set *tmp185 true
   697 label *label125
   698 label *label123
   699 label *label117

Modifications by Initial phase, Dead Code Elimination, iteration 8 (-4 instructions):
 
   571 print "START FAIL battery"
   572 print "\n"
   573 set :start_reactor:supply_fuel false
-    * set *tmp146 :start_reactor:supply_fuel
   574 jump *label105 always
   575 label *label104
   576 op sub *tmp149 30 :start_reactor:secs
 
   582 print :start_reactor:charge_req
   583 print "J"
   584 print "\n"
-    * set *tmp146 null
   585 label *label105
   586 jump *label102 always
   587 label *label101
 
   597 print "ABANDON - battery crit"
   598 print "\n"
   599 set :start_reactor:supply_fuel false
-    * set *tmp152 :start_reactor:supply_fuel
   600 jump *label109 always
   601 label *label108
   602 op idiv *tmp155 :start_reactor:secs 6
 
   608 print " "
   609 print "mins"
   610 print "\n"
-    * set *tmp152 null
   611 label *label109
   612 label *label102
   613 label *label100

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-63 instructions):
 
    25 sensor *tmp0 node1 @powerNetIn
    26 sensor *tmp1 node1 @powerNetOut
    27 op sub *tmp2 *tmp0 *tmp1
-    * op floor *tmp3 *tmp2
-    * set :surplus *tmp3
+   28 op floor :surplus *tmp2
    29 op greaterThan *tmp4 :surplus 10000
    30 jump *label5 equal *tmp4 false
-    * op sub *tmp6 @tick 3600
-    * set *tmp5 *tmp6
+   31 op sub *tmp5 @tick 3600
    32 jump *label6 always
    33 label *label5
    34 set *tmp5 @tick
 
    58 setaddr :check_radar*retaddr *label10 (h:*label10)
    59 call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
    60 label *label10
-    * set *tmp7 :check_radar*retval
-    * set :emerg_shutdown *tmp7
+   61 set :emerg_shutdown :check_radar*retval
    62 op notEqual *tmp9 switch1 null
    63 jump *label12 equal *tmp9 false
    64 label *label15
 
    84 setaddr :calc_charge_req*retaddr *label16 (h:*label16)
    85 call *label2 *invalid :calc_charge_req*retval (m:*label16) (h:*label16)
    86 label *label16
-    * set *tmp13 :calc_charge_req*retval
-    * set .START_POWER_REQ *tmp13
+   87 set .START_POWER_REQ :calc_charge_req*retval
    88 set :calc_charge_req:reactor reactor2
    89 set :calc_charge_req:time :t_startup2
    90 setaddr :calc_charge_req*retaddr *label17 (h:*label17)
    91 call *label2 *invalid :calc_charge_req*retval (m:*label17) (h:*label17)
    92 label *label17
-    * set *tmp14 :calc_charge_req*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp14
+   93 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
    94 set :calc_charge_req:reactor reactor3
    95 set :calc_charge_req:time :t_startup3
    96 setaddr :calc_charge_req*retaddr *label18 (h:*label18)
    97 call *label2 *invalid :calc_charge_req*retval (m:*label18) (h:*label18)
    98 label *label18
-    * set *tmp15 :calc_charge_req*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp15
+   99 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   100 set :calc_charge_req:reactor reactor4
   101 set :calc_charge_req:time :t_startup4
   102 setaddr :calc_charge_req*retaddr *label19 (h:*label19)
   103 call *label2 *invalid :calc_charge_req*retval (m:*label19) (h:*label19)
   104 label *label19
-    * set *tmp16 :calc_charge_req*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp16
+  105 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   106 set :calc_charge_req:reactor reactor5
   107 set :calc_charge_req:time :t_startup5
   108 setaddr :calc_charge_req*retaddr *label20 (h:*label20)
   109 call *label2 *invalid :calc_charge_req*retval (m:*label20) (h:*label20)
   110 label *label20
-    * set *tmp17 :calc_charge_req*retval
-    * op add .START_POWER_REQ .START_POWER_REQ *tmp17
+  111 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   112 set :start_reactor:reactor reactor1
   113 set :start_reactor:reactor_num 1
   114 set :start_reactor:emerg_shutdown :emerg_shutdown
 
   117 setaddr :start_reactor*retaddr *label21 (h:*label21)
   118 call *label3 *invalid :start_reactor*retval (m:*label21) (h:*label21)
   119 label *label21
-    * set *tmp18 :start_reactor*retval
-    * set :fuel_1 *tmp18
+  120 set :fuel_1 :start_reactor*retval
   121 set :t_startup1 .RET_T_STARTUP
   122 set :update_fuel:fuel :fuel_1
   123 set :update_fuel:uld_in .ULD_IN_1
 
   133 setaddr :start_reactor*retaddr *label23 (h:*label23)
   134 call *label3 *invalid :start_reactor*retval (m:*label23) (h:*label23)
   135 label *label23
-    * set *tmp20 :start_reactor*retval
-    * set :fuel_2 *tmp20
+  136 set :fuel_2 :start_reactor*retval
   137 set :t_startup2 .RET_T_STARTUP
   138 set :update_fuel:fuel :fuel_2
   139 set :update_fuel:uld_in .ULD_IN_2
 
   145 setaddr :check_radar*retaddr *label25 (h:*label25)
   146 call *label4 *invalid :check_radar*retval (m:*label25) (h:*label25)
   147 label *label25
-    * set *tmp22 :check_radar*retval
-    * op or :emerg_shutdown :emerg_shutdown *tmp22
+  148 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
   149 set :start_reactor:reactor reactor3
   150 set :start_reactor:reactor_num 3
   151 set :start_reactor:emerg_shutdown :emerg_shutdown
 
   154 setaddr :start_reactor*retaddr *label26 (h:*label26)
   155 call *label3 *invalid :start_reactor*retval (m:*label26) (h:*label26)
   156 label *label26
-    * set *tmp23 :start_reactor*retval
-    * set :fuel_3 *tmp23
+  157 set :fuel_3 :start_reactor*retval
   158 set :t_startup3 .RET_T_STARTUP
   159 set :start_reactor:reactor reactor4
   160 set :start_reactor:reactor_num 4
 
   164 setaddr :start_reactor*retaddr *label27 (h:*label27)
   165 call *label3 *invalid :start_reactor*retval (m:*label27) (h:*label27)
   166 label *label27
-    * set *tmp24 :start_reactor*retval
-    * set :fuel_4 *tmp24
+  167 set :fuel_4 :start_reactor*retval
   168 set :t_startup4 .RET_T_STARTUP
   169 set :start_reactor:reactor reactor5
   170 set :start_reactor:reactor_num 5
 
   174 setaddr :start_reactor*retaddr *label28 (h:*label28)
   175 call *label3 *invalid :start_reactor*retval (m:*label28) (h:*label28)
   176 label *label28
-    * set *tmp25 :start_reactor*retval
-    * set :fuel_5 *tmp25
+  177 set :fuel_5 :start_reactor*retval
   178 set :t_startup5 .RET_T_STARTUP
   179 jump *label31 notEqual :fuel_3 false
   180 label *label33
 
   212 set :throttle_blast:reactors_fueled *tmp28
   213 set :throttle_blast:emerg_shutdown :emerg_shutdown
   214 sensor *tmp30 .NODE @powerNetStored
-    * op floor *tmp31 *tmp30
-    * set :throttle_blast:charge *tmp31
+  215 op floor :throttle_blast:charge *tmp30
   216 sensor *tmp32 .NODE @powerNetIn
   217 sensor *tmp33 .NODE @powerNetOut
   218 op sub *tmp34 *tmp32 *tmp33
-    * op floor *tmp35 *tmp34
-    * set :throttle_blast:surplus *tmp35
-    * sensor *tmp36 .CONTAINER @blast-compound
-    * set :throttle_blast:fuel_stored *tmp36
+  219 op floor :throttle_blast:surplus *tmp34
+  220 sensor :throttle_blast:fuel_stored .CONTAINER @blast-compound
   221 op lessThan *tmp37 :throttle_blast:charge .PWR_ABORT
   222 jump *label44 equal *tmp37 false
   223 label *label45
 
   269 print "n"
   270 label *label49
   271 label *label42
-    * op lessThan *tmp43 :throttle_blast:fuel_stored :throttle_blast:limit
-    * set *tmp29 *tmp43
+  272 op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
   273 jump *label40 always
   274 set *tmp29 null
   275 label *label40
 
   284 control config *tmp44 *tmp46
   285 sensor *tmp48 .NODE @powerNetStored
   286 sensor *tmp49 .NODE @powerNetCapacity
-    * op div *tmp50 *tmp48 *tmp49
-    * set :diff_generators:stored_pc *tmp50
+  287 op div :diff_generators:stored_pc *tmp48 *tmp49
   288 op greaterThan *tmp51 :diff_generators:stored_pc 0.9
   289 jump *label53 equal *tmp51 false
   290 label *label56
 
   306 setaddr :kilo*retaddr *label57 (h:*label57)
   307 call *label0 *invalid :kilo*retval (m:*label57) (h:*label57)
   308 label *label57
-    * set *tmp58 :kilo*retval
-    * set :surplus *tmp58
-    * sensor *tmp59 .NODE @powerNetStored
-    * set :kilo:val *tmp59
+  309 set :surplus :kilo*retval
+  310 sensor :kilo:val .NODE @powerNetStored
   311 setaddr :kilo*retaddr *label58 (h:*label58)
   312 call *label0 *invalid :kilo*retval (m:*label58) (h:*label58)
   313 label *label58
-    * set *tmp60 :kilo*retval
-    * set :charge *tmp60
+  314 set :charge :kilo*retval
   315 op greaterThan *tmp61 .START_POWER_REQ 0
   316 jump *label59 equal *tmp61 false
   317 set :kilo:val .START_POWER_REQ
   318 setaddr :kilo*retaddr *label61 (h:*label61)
   319 call *label0 *invalid :kilo*retval (m:*label61) (h:*label61)
   320 label *label61
-    * set *tmp63 :kilo*retval
-    * set :req *tmp63
+  321 set :req :kilo*retval
   322 print "Req "
   323 print :req
   324 print "kJ / "
 
   337 print "\n"
   338 sensor *tmp65 .NODE @powerNetStored
   339 sensor *tmp66 .NODE @powerNetCapacity
-    * op div *tmp67 *tmp65 *tmp66
-    * set :update_reactors_desired:stored *tmp67
+  340 op div :update_reactors_desired:stored *tmp65 *tmp66
   341 op greaterThan *tmp68 :update_reactors_desired:stored 0.98
   342 jump *label63 equal *tmp68 false
   343 label *label66
 
   366 label *label71
   367 op sub *tmp78 .AVG_SURPLUS .GOAL_BUFFER
   368 op idiv *tmp79 *tmp78 .GENERATOR_OUTPUT
-    * op max *tmp80 1 *tmp79
-    * set :update_reactors_desired:needed *tmp80
+  369 op max :update_reactors_desired:needed 1 *tmp79
   370 op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
-    * op min *tmp82 5 *tmp81
-    * set .REACTORS_DESIRED *tmp82
+  371 op min .REACTORS_DESIRED 5 *tmp81
   372 jump *label70 always
   373 label *label69
   374 label *label70
 
   390 end
   391 label *label0
   392 op idiv *tmp85 :kilo:val 100
-    * op div *tmp86 *tmp85 10
-    * set :kilo*retval *tmp86
+  393 op div :kilo*retval *tmp85 10
   394 jump *label75 always
   395 set :kilo*retval null
   396 label *label75
 
   419 end
   420 label *label2
   421 op sub *tmp94 @tick :calc_charge_req:time
-    * op idiv *tmp95 *tmp94 60
-    * set :calc_charge_req:secs *tmp95
+  422 op idiv :calc_charge_req:secs *tmp94 60
   423 op greaterThan *tmp96 :calc_charge_req:secs 30
   424 jump *label84 notEqual *tmp96 false
   425 label *label85
 
   433 jump *label83 always
   434 label *label82
   435 label *label83
-    * op sub *tmp100 30 :calc_charge_req:secs
-    * set :calc_charge_req:time_left *tmp100
+  436 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   437 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   438 op mul *tmp102 *tmp101 25
-    * op floor *tmp103 *tmp102
-    * set :calc_charge_req:charge_req *tmp103
+  439 op floor :calc_charge_req:charge_req *tmp102
   440 set :calc_charge_req*retval :calc_charge_req:charge_req
   441 jump *label81 always
   442 set :calc_charge_req*retval null
 
   446 label *label3
   447 set .RET_T_STARTUP :start_reactor:t_startup
   448 op sub *tmp104 @tick :start_reactor:t_startup
-    * op idiv *tmp105 *tmp104 60
-    * set :start_reactor:secs *tmp105
-    * sensor *tmp106 :start_reactor:reactor @blast-compound
-    * set :start_reactor:fuel *tmp106
+  449 op idiv :start_reactor:secs *tmp104 60
+  450 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
   451 set :start_reactor:supply_fuel true
-    * sensor *tmp107 .CONTAINER @blast-compound
-    * set :start_reactor:fuel_stored *tmp107
-    * sensor *tmp108 :start_reactor:reactor @cryofluid
-    * set :start_reactor:cryo *tmp108
+  452 sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
+  453 sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
   454 sensor *tmp109 .NODE @powerNetStored
-    * op floor *tmp110 *tmp109
-    * set :start_reactor:charge *tmp110
+  455 op floor :start_reactor:charge *tmp109
   456 sensor *tmp111 .NODE @powerNetIn
   457 sensor *tmp112 .NODE @powerNetOut
   458 op sub *tmp113 *tmp111 *tmp112
-    * op floor *tmp114 *tmp113
-    * set :start_reactor:surplus *tmp114
+  459 op floor :start_reactor:surplus *tmp113
   460 op mul *tmp115 .AVG_SURPLUS 0.8
   461 op mul *tmp116 :start_reactor:surplus 0.2
-    * op add *tmp117 *tmp115 *tmp116
-    * set .AVG_SURPLUS *tmp117
-    * sensor *tmp118 :start_reactor:reactor @enabled
-    * set :start_reactor:enabled *tmp118
+  462 op add .AVG_SURPLUS *tmp115 *tmp116
+  463 sensor :start_reactor:enabled :start_reactor:reactor @enabled
   464 print "#"
   465 print :start_reactor:reactor_num
   466 print " "
   467 print "- "
   468 jump *label87 equal :start_reactor:emerg_shutdown false
-    * set *tmp120 :start_reactor:reactor
-    * control enabled *tmp120 false
+  469 control enabled :start_reactor:reactor false
   470 print "emergency mode"
   471 print "\n"
   472 set :start_reactor:supply_fuel false
 
   475 jump *label89 equal :start_reactor:enabled false
   476 op lessThan *tmp123 .REACTORS_DESIRED :start_reactor:reactor_num
   477 jump *label91 equal *tmp123 false
-    * set *tmp125 :start_reactor:reactor
-    * control enabled *tmp125 false
+  478 control enabled :start_reactor:reactor false
   479 print "STOP unwanted"
   480 print "\n"
   481 jump *label92 always
 
   488 jump *label93 equal *tmp129 false
   489 jump *label95 always
   490 label *label95
-    * set *tmp131 :start_reactor:reactor
-    * control enabled *tmp131 false
+  491 control enabled :start_reactor:reactor false
   492 print "STOP system fuel low"
   493 print "\n"
   494 jump *label94 always
   495 label *label93
   496 op lessThanEq *tmp133 :start_reactor:fuel 1
   497 jump *label97 equal *tmp133 false
-    * set *tmp135 :start_reactor:reactor
-    * control enabled *tmp135 false
+  498 control enabled :start_reactor:reactor false
   499 print "STOP fuel low"
   500 print "\n"
   501 jump *label98 always
   502 label *label97
   503 op lessThanEq *tmp137 :start_reactor:cryo .CRYO_ABORT
   504 jump *label99 equal *tmp137 false
-    * set *tmp139 :start_reactor:reactor
-    * control enabled *tmp139 false
+  505 control enabled :start_reactor:reactor false
   506 print "STOP out of cryo"
   507 print "\n"
   508 jump *label100 always
 
   523 jump *label104 equal *tmp145 false
   524 jump *label106 always
   525 label *label106
-    * set *tmp147 :start_reactor:reactor
-    * control enabled *tmp147 false
+  526 control enabled :start_reactor:reactor false
   527 print "START FAIL battery"
   528 print "\n"
   529 set :start_reactor:supply_fuel false
   530 jump *label105 always
   531 label *label104
-    * op sub *tmp149 30 :start_reactor:secs
-    * set :start_reactor:time_left *tmp149
+  532 op sub :start_reactor:time_left 30 :start_reactor:secs
   533 print "Starting "
   534 print :start_reactor:time_left
   535 print " "
 
   547 jump *label108 equal *tmp151 false
   548 jump *label110 always
   549 label *label110
-    * set *tmp153 :start_reactor:reactor
-    * control enabled *tmp153 false
+  550 control enabled :start_reactor:reactor false
   551 print "ABANDON - battery crit"
   552 print "\n"
   553 set :start_reactor:supply_fuel false
   554 jump *label109 always
   555 label *label108
-    * op idiv *tmp155 :start_reactor:secs 6
-    * set :start_reactor:mins *tmp155
-    * op div *tmp156 :start_reactor:mins 10
-    * set :start_reactor:mins *tmp156
+  556 op idiv :start_reactor:mins :start_reactor:secs 6
+  557 op div :start_reactor:mins :start_reactor:mins 10
   558 print "RUN "
   559 print :start_reactor:mins
   560 print " "
 
   571 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
   572 op sub *tmp158 *tmp157 .PWR_ABORT
   573 op div *tmp159 *tmp158 .PWR_REQ
-    * op mul *tmp160 *tmp159 .PWR_RESERVE
-    * set :start_reactor:charge_units *tmp160
+  574 op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
   575 op div *tmp161 :start_reactor:surplus .FLOW_REQ
-    * op max *tmp162 -0.1 *tmp161
-    * set :start_reactor:flow_units *tmp162
+  576 op max :start_reactor:flow_units -0.1 *tmp161
   577 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
-    * op add *tmp164 .CRYO_REQ *tmp163
-    * set :start_reactor:cryo_req *tmp164
+  578 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
   579 op lessThan *tmp165 .REACTORS_DESIRED :start_reactor:reactor_num
   580 jump *label112 equal *tmp165 false
   581 print "IDLE"
 
   588 jump *label114 equal *tmp168 false
   589 op mul *tmp170 :start_reactor:flow_units 1000
   590 op floor *tmp171 *tmp170
-    * op div *tmp172 *tmp171 10
-    * set :start_reactor:flow *tmp172
+  591 op div :start_reactor:flow *tmp171 10
   592 op mul *tmp173 :start_reactor:charge_units 1000
   593 op floor *tmp174 *tmp173
-    * op div *tmp175 *tmp174 10
-    * set :start_reactor:charge *tmp175
+  594 op div :start_reactor:charge *tmp174 10
   595 print "WAIT power. (%"
   596 print :start_reactor:charge
   597 print "J + %"
 
   635 print "STARTUP"
   636 print "\n"
   637 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * set *tmp186 :start_reactor:reactor
-    * control enabled *tmp186 true
+  638 control enabled :start_reactor:reactor true
   639 label *label125
   640 label *label123
   641 label *label117
 
   646 sensor *tmp188 :start_reactor:reactor @enabled
   647 op notEqual *tmp189 :start_reactor:enabled *tmp188
   648 jump *label126 equal *tmp189 false
-    * set *tmp191 @tick
-    * set .RET_T_STARTUP *tmp191
+  649 set .RET_T_STARTUP @tick
   650 jump *label127 always
   651 label *label126
   652 label *label127
 
   657 return :start_reactor*retaddr
   658 end
   659 label *label4
-    * radar enemy any any health :check_radar:unit 1 *tmp192
-    * set :check_radar:enemy_found *tmp192
+  660 radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
   661 op notEqual *tmp193 :check_radar:enemy_found null
   662 jump *label129 equal *tmp193 false
   663 control enabled projector1 true
   664 control enabled projector2 true
-    * set *tmp197 .ULD_IN_1
-    * control config *tmp197 .FUEL_OFF
-    * set *tmp199 .ULD_OUT_1
-    * control config *tmp199 .FUEL
-    * set *tmp201 .ULD_IN_2
-    * control config *tmp201 .FUEL_OFF
-    * set *tmp203 .ULD_OUT_2
-    * control config *tmp203 .FUEL
-    * set *tmp205 .ULD_IN_MANY
-    * control config *tmp205 .FUEL_OFF
-    * set *tmp207 .ULD_OUT_MANY
-    * control config *tmp207 .FUEL
-    * set *tmp209 .ULD_MIXER
-    * control config *tmp209 .FUEL_OFF
+  665 control config .ULD_IN_1 .FUEL_OFF
+  666 control config .ULD_OUT_1 .FUEL
+  667 control config .ULD_IN_2 .FUEL_OFF
+  668 control config .ULD_OUT_2 .FUEL
+  669 control config .ULD_IN_MANY .FUEL_OFF
+  670 control config .ULD_OUT_MANY .FUEL
+  671 control config .ULD_MIXER .FUEL_OFF
   672 control enabled reactor1 false
   673 control enabled reactor2 false
   674 control enabled reactor3 false

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-1 instructions):
 
    43 set .REACTORS_DESIRED 5
    44 set .AVG_SURPLUS 500
    45 label *label7
-    * jump *label9 equal true false
    46 set .ULD_IN_1 unloader1
    47 set .ULD_OUT_1 unloader2
    48 set .ULD_IN_2 unloader3

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-5 instructions):
 
   180 jump *label31 notEqual :fuel_4 false
   181 jump *label32 always
   182 label *label32
-    * jump *label31 notEqual :fuel_5 false
-    * jump *label29 always
+  183 jump *label29 equal :fuel_5 false
   184 label *label31
   185 set *tmp26 true
   186 jump *label30 always
 
   199 jump *label37 notEqual :fuel_2 false
   200 jump *label38 always
   201 label *label38
-    * jump *label37 notEqual :fuel_many false
-    * jump *label35 always
+  202 jump *label35 equal :fuel_many false
   203 label *label37
   204 set *tmp28 true
   205 jump *label36 always
 
   219 jump *label44 equal *tmp37 false
   220 label *label45
   221 op lessThan *tmp38 :throttle_blast:surplus .FLOW_ABORT
-    * jump *label44 equal *tmp38 false
-    * jump *label43 always
+  222 jump *label43 notEqual *tmp38 false
   223 label *label44
-    * jump *label43 notEqual :throttle_blast:emerg_shutdown false
-    * jump *label41 always
+  224 jump *label41 equal :throttle_blast:emerg_shutdown false
   225 label *label43
   226 set :throttle_blast:limit 0
   227 print "Central Fuel at "
 
   420 label *label85
   421 sensor *tmp97 :calc_charge_req:reactor @enabled
   422 op equal *tmp98 *tmp97 false
-    * jump *label84 notEqual *tmp98 false
-    * jump *label82 always
+  423 jump *label82 equal *tmp98 false
   424 label *label84
   425 set :calc_charge_req*retval 0
   426 jump *label81 always

Modifications by Iterated phase, Condition Optimization, pass 1, iteration 1 (-36 instructions):
 
    26 sensor *tmp1 node1 @powerNetOut
    27 op sub *tmp2 *tmp0 *tmp1
    28 op floor :surplus *tmp2
-    * op greaterThan *tmp4 :surplus 10000
-    * jump *label5 equal *tmp4 false
+   29 jump *label5 lessThanEq :surplus 10000
    30 op sub *tmp5 @tick 3600
    31 jump *label6 always
    32 label *label5
 
    57 call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
    58 label *label10
    59 set :emerg_shutdown :check_radar*retval
-    * op notEqual *tmp9 switch1 null
-    * jump *label12 equal *tmp9 false
+   60 jump *label12 equal switch1 null
    61 label *label15
    62 sensor *tmp10 switch1 @enabled
-    * op equal *tmp11 *tmp10 false
-    * jump *label12 equal *tmp11 false
+   63 jump *label12 notEqual *tmp10 false
    64 jump *label14 always
    65 label *label14
    66 print "User has disabled emergency switch"
 
   212 op sub *tmp34 *tmp32 *tmp33
   213 op floor :throttle_blast:surplus *tmp34
   214 sensor :throttle_blast:fuel_stored .CONTAINER @blast-compound
-    * op lessThan *tmp37 :throttle_blast:charge .PWR_ABORT
-    * jump *label44 equal *tmp37 false
+  215 jump *label44 greaterThanEq :throttle_blast:charge .PWR_ABORT
   216 label *label45
-    * op lessThan *tmp38 :throttle_blast:surplus .FLOW_ABORT
-    * jump *label43 notEqual *tmp38 false
+  217 jump *label43 lessThan :throttle_blast:surplus .FLOW_ABORT
   218 label *label44
   219 jump *label41 equal :throttle_blast:emerg_shutdown false
   220 label *label43
 
   236 label *label47
   237 jump *label42 always
   238 label *label41
-    * op equal *tmp41 :throttle_blast:reactors_fueled false
-    * jump *label48 equal *tmp41 false
+  239 jump *label48 notEqual :throttle_blast:reactors_fueled false
   240 set :throttle_blast:limit .FUEL_LIMIT_LOW
   241 print "Fuel "
   242 print :throttle_blast:fuel_stored
 
   274 sensor *tmp48 .NODE @powerNetStored
   275 sensor *tmp49 .NODE @powerNetCapacity
   276 op div :diff_generators:stored_pc *tmp48 *tmp49
-    * op greaterThan *tmp51 :diff_generators:stored_pc 0.9
-    * jump *label53 equal *tmp51 false
+  277 jump *label53 lessThanEq :diff_generators:stored_pc 0.9
   278 label *label56
-    * op lessThan *tmp52 .START_POWER_REQ 10
-    * jump *label53 equal *tmp52 false
+  279 jump *label53 greaterThanEq .START_POWER_REQ 10
   280 jump *label55 always
   281 label *label55
   282 print "Differential now idle."
 
   299 call *label0 *invalid :kilo*retval (m:*label58) (h:*label58)
   300 label *label58
   301 set :charge :kilo*retval
-    * op greaterThan *tmp61 .START_POWER_REQ 0
-    * jump *label59 equal *tmp61 false
+  302 jump *label59 lessThanEq .START_POWER_REQ 0
   303 set :kilo:val .START_POWER_REQ
   304 setaddr :kilo*retaddr *label61 (h:*label61)
   305 call *label0 *invalid :kilo*retval (m:*label61) (h:*label61)
 
   324 sensor *tmp65 .NODE @powerNetStored
   325 sensor *tmp66 .NODE @powerNetCapacity
   326 op div :update_reactors_desired:stored *tmp65 *tmp66
-    * op greaterThan *tmp68 :update_reactors_desired:stored 0.98
-    * jump *label63 equal *tmp68 false
+  327 jump *label63 lessThanEq :update_reactors_desired:stored 0.98
   328 label *label66
   329 op add *tmp69 .GENERATOR_OUTPUT .GOAL_BUFFER
-    * op greaterThan *tmp70 .AVG_SURPLUS *tmp69
-    * jump *label63 equal *tmp70 false
+  330 jump *label63 lessThanEq .AVG_SURPLUS *tmp69
   331 jump *label65 always
   332 label *label65
-    * op greaterThan *tmp72 .REACTORS_DESIRED 2
-    * jump *label67 equal *tmp72 false
+  333 jump *label67 lessThanEq .REACTORS_DESIRED 2
   334 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   335 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
   336 jump *label68 always
 
   339 jump *label64 always
   340 label *label63
   341 label *label64
-    * op lessThan *tmp74 :update_reactors_desired:stored 0.8
-    * jump *label69 equal *tmp74 false
+  342 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
   343 label *label72
   344 op mul *tmp75 .GOAL_BUFFER 0.8
-    * op lessThan *tmp76 .AVG_SURPLUS *tmp75
-    * jump *label69 equal *tmp76 false
+  345 jump *label69 greaterThanEq .AVG_SURPLUS *tmp75
   346 jump *label71 always
   347 label *label71
   348 op sub *tmp78 .AVG_SURPLUS .GOAL_BUFFER
 
   355 label *label70
   356 label *label62
   357 label *label60
-    * op notEqual *tmp83 .REACTORS_DESIRED 5
-    * jump *label73 equal *tmp83 false
+  358 jump *label73 equal .REACTORS_DESIRED 5
   359 print "Require only "
   360 print .REACTORS_DESIRED
   361 print "/5 reactors."
 
   386 label *label78
   387 control config *tmp87 *tmp89
   388 set *tmp90 :update_fuel:uld_out
-    * op equal *tmp92 :update_fuel:fuel false
-    * jump *label79 equal *tmp92 false
+  389 jump *label79 notEqual :update_fuel:fuel false
   390 set *tmp93 .FUEL
   391 jump *label80 always
   392 label *label79
 
   399 label *label2
   400 op sub *tmp94 @tick :calc_charge_req:time
   401 op idiv :calc_charge_req:secs *tmp94 60
-    * op greaterThan *tmp96 :calc_charge_req:secs 30
-    * jump *label84 notEqual *tmp96 false
+  402 jump *label84 greaterThan :calc_charge_req:secs 30
   403 label *label85
   404 sensor *tmp97 :calc_charge_req:reactor @enabled
-    * op equal *tmp98 *tmp97 false
-    * jump *label82 equal *tmp98 false
+  405 jump *label82 notEqual *tmp97 false
   406 label *label84
   407 set :calc_charge_req*retval 0
   408 jump *label81 always
 
   449 jump *label88 always
   450 label *label87
   451 jump *label89 equal :start_reactor:enabled false
-    * op lessThan *tmp123 .REACTORS_DESIRED :start_reactor:reactor_num
-    * jump *label91 equal *tmp123 false
+  452 jump *label91 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
   453 control enabled :start_reactor:reactor false
   454 print "STOP unwanted"
   455 print "\n"
   456 jump *label92 always
   457 label *label91
-    * op greaterThan *tmp127 :start_reactor:reactor_num 1
-    * jump *label93 equal *tmp127 false
+  458 jump *label93 lessThanEq :start_reactor:reactor_num 1
   459 label *label96
   460 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
-    * op lessThan *tmp129 :start_reactor:fuel_stored *tmp128
-    * jump *label93 equal *tmp129 false
+  461 jump *label93 greaterThanEq :start_reactor:fuel_stored *tmp128
   462 jump *label95 always
   463 label *label95
   464 control enabled :start_reactor:reactor false
 
   466 print "\n"
   467 jump *label94 always
   468 label *label93
-    * op lessThanEq *tmp133 :start_reactor:fuel 1
-    * jump *label97 equal *tmp133 false
+  469 jump *label97 greaterThan :start_reactor:fuel 1
   470 control enabled :start_reactor:reactor false
   471 print "STOP fuel low"
   472 print "\n"
   473 jump *label98 always
   474 label *label97
-    * op lessThanEq *tmp137 :start_reactor:cryo .CRYO_ABORT
-    * jump *label99 equal *tmp137 false
+  475 jump *label99 greaterThan :start_reactor:cryo .CRYO_ABORT
   476 control enabled :start_reactor:reactor false
   477 print "STOP out of cryo"
   478 print "\n"
   479 jump *label100 always
   480 label *label99
-    * op lessThan *tmp141 :start_reactor:secs 30
-    * jump *label101 equal *tmp141 false
+  481 jump *label101 greaterThanEq :start_reactor:secs 30
   482 set :calc_charge_req:reactor :start_reactor:reactor
   483 set :calc_charge_req:time :start_reactor:t_startup
   484 setaddr :calc_charge_req*retaddr *label103 (h:*label103)
 
   486 label *label103
   487 set :start_reactor:charge_req :calc_charge_req*retval
   488 op sub *tmp143 :start_reactor:charge :start_reactor:charge_req
-    * op lessThan *tmp144 *tmp143 .PWR_ABORT
-    * jump *label104 equal *tmp144 false
+  489 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   490 label *label107
-    * op lessThan *tmp145 :start_reactor:surplus .FLOW_ABORT
-    * jump *label104 equal *tmp145 false
+  491 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
   492 jump *label106 always
   493 label *label106
   494 control enabled :start_reactor:reactor false
 
   508 label *label105
   509 jump *label102 always
   510 label *label101
-    * op lessThan *tmp150 :start_reactor:charge .PWR_ABANDON
-    * jump *label108 equal *tmp150 false
+  511 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
   512 label *label111
-    * op lessThan *tmp151 :start_reactor:surplus .FLOW_ABORT
-    * jump *label108 equal *tmp151 false
+  513 jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
   514 jump *label110 always
   515 label *label110
   516 control enabled :start_reactor:reactor false
 
   542 op max :start_reactor:flow_units -0.1 *tmp161
   543 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
   544 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
-    * op lessThan *tmp165 .REACTORS_DESIRED :start_reactor:reactor_num
-    * jump *label112 equal *tmp165 false
+  545 jump *label112 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
   546 print "IDLE"
   547 print "\n"
   548 set :start_reactor:supply_fuel false
   549 jump *label113 always
   550 label *label112
   551 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
-    * op lessThan *tmp168 *tmp167 1
-    * jump *label114 equal *tmp168 false
+  552 jump *label114 greaterThanEq *tmp167 1
   553 op mul *tmp170 :start_reactor:flow_units 1000
   554 op floor *tmp171 *tmp170
   555 op div :start_reactor:flow *tmp171 10
 
   567 label *label114
   568 jump *label116 equal :start_reactor:fuel_on false
   569 label *label119
-    * op lessThan *tmp176 :start_reactor:fuel .FUEL_REQ
-    * jump *label116 equal *tmp176 false
+  570 jump *label116 greaterThanEq :start_reactor:fuel .FUEL_REQ
   571 jump *label118 always
   572 label *label118
   573 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
-    * op greaterThan *tmp179 *tmp178 .FUEL_REQ
-    * jump *label120 equal *tmp179 false
+  574 jump *label120 lessThanEq *tmp178 .FUEL_REQ
   575 print "WAIT fuel"
   576 print "\n"
   577 jump *label121 always
 
   582 jump *label117 always
   583 label *label116
   584 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
-    * op lessThan *tmp182 :start_reactor:fuel_stored *tmp181
-    * jump *label122 equal *tmp182 false
+  585 jump *label122 greaterThanEq :start_reactor:fuel_stored *tmp181
   586 print "WAIT buffer fuel"
   587 print "\n"
   588 jump *label123 always
   589 label *label122
-    * op lessThan *tmp184 :start_reactor:cryo :start_reactor:cryo_req
-    * jump *label124 equal *tmp184 false
+  590 jump *label124 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
   591 print "WAIT cryo"
   592 print "\n"
   593 jump *label125 always
 
   604 label *label90
   605 label *label88
   606 sensor *tmp188 :start_reactor:reactor @enabled
-    * op notEqual *tmp189 :start_reactor:enabled *tmp188
-    * jump *label126 equal *tmp189 false
+  607 jump *label126 equal :start_reactor:enabled *tmp188
   608 set .RET_T_STARTUP @tick
   609 jump *label127 always
   610 label *label126
 
   617 end
   618 label *label4
   619 radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
-    * op notEqual *tmp193 :check_radar:enemy_found null
-    * jump *label129 equal *tmp193 false
+  620 jump *label129 equal :check_radar:enemy_found null
   621 control enabled projector1 true
   622 control enabled projector2 true
   623 control config .ULD_IN_1 .FUEL_OFF

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-17 instructions):
 
    61 label *label15
    62 sensor *tmp10 switch1 @enabled
    63 jump *label12 notEqual *tmp10 false
-    * jump *label14 always
    64 label *label14
    65 print "User has disabled emergency switch"
    66 print "\n"
    67 set *tmp8 true
    68 jump *label11 always
-    * jump *label13 always
    69 label *label12
    70 label *label13
    71 set *tmp8 false
 
   173 jump *label31 notEqual :fuel_3 false
   174 label *label33
   175 jump *label31 notEqual :fuel_4 false
-    * jump *label32 always
   176 label *label32
   177 jump *label29 equal :fuel_5 false
   178 label *label31
 
   191 jump *label37 notEqual :fuel_1 false
   192 label *label39
   193 jump *label37 notEqual :fuel_2 false
-    * jump *label38 always
   194 label *label38
   195 jump *label35 equal :fuel_many false
   196 label *label37
 
   273 jump *label53 lessThanEq :diff_generators:stored_pc 0.9
   274 label *label56
   275 jump *label53 greaterThanEq .START_POWER_REQ 10
-    * jump *label55 always
   276 label *label55
   277 print "Differential now idle."
   278 print "\n"
 
   323 label *label66
   324 op add *tmp69 .GENERATOR_OUTPUT .GOAL_BUFFER
   325 jump *label63 lessThanEq .AVG_SURPLUS *tmp69
-    * jump *label65 always
   326 label *label65
   327 jump *label67 lessThanEq .REACTORS_DESIRED 2
   328 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   329 op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
-    * jump *label68 always
   330 label *label67
   331 label *label68
-    * jump *label64 always
   332 label *label63
   333 label *label64
   334 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
   335 label *label72
   336 op mul *tmp75 .GOAL_BUFFER 0.8
   337 jump *label69 greaterThanEq .AVG_SURPLUS *tmp75
-    * jump *label71 always
   338 label *label71
   339 op sub *tmp78 .AVG_SURPLUS .GOAL_BUFFER
   340 op idiv *tmp79 *tmp78 .GENERATOR_OUTPUT
   341 op max :update_reactors_desired:needed 1 *tmp79
   342 op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
   343 op min .REACTORS_DESIRED 5 *tmp81
-    * jump *label70 always
   344 label *label69
   345 label *label70
   346 label *label62
 
   350 print .REACTORS_DESIRED
   351 print "/5 reactors."
   352 print "\n"
-    * jump *label74 always
   353 label *label73
   354 label *label74
   355 printflush message1
 
   395 label *label84
   396 set :calc_charge_req*retval 0
   397 jump *label81 always
-    * jump *label83 always
   398 label *label82
   399 label *label83
   400 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
 
   447 label *label96
   448 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
   449 jump *label93 greaterThanEq :start_reactor:fuel_stored *tmp128
-    * jump *label95 always
   450 label *label95
   451 control enabled :start_reactor:reactor false
   452 print "STOP system fuel low"
 
   476 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   477 label *label107
   478 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * jump *label106 always
   479 label *label106
   480 control enabled :start_reactor:reactor false
   481 print "START FAIL battery"
 
   497 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
   498 label *label111
   499 jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * jump *label110 always
   500 label *label110
   501 control enabled :start_reactor:reactor false
   502 print "ABANDON - battery crit"
 
   553 jump *label116 equal :start_reactor:fuel_on false
   554 label *label119
   555 jump *label116 greaterThanEq :start_reactor:fuel .FUEL_REQ
-    * jump *label118 always
   556 label *label118
   557 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   558 jump *label120 lessThanEq *tmp178 .FUEL_REQ
 
   590 sensor *tmp188 :start_reactor:reactor @enabled
   591 jump *label126 equal :start_reactor:enabled *tmp188
   592 set .RET_T_STARTUP @tick
-    * jump *label127 always
   593 label *label126
   594 label *label127
   595 set :start_reactor*retval :start_reactor:supply_fuel

Modifications by Iterated phase, Expression Optimization, pass 1, iteration 1 (-3 instructions):
 
   399 label *label83
   400 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   401 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
-    * op mul *tmp102 *tmp101 25
-    * op floor :calc_charge_req:charge_req *tmp102
+  402 op idiv :calc_charge_req:charge_req *tmp101 0.04
   403 set :calc_charge_req*retval :calc_charge_req:charge_req
   404 jump *label81 always
   405 set :calc_charge_req*retval null
 
   534 label *label112
   535 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
   536 jump *label114 greaterThanEq *tmp167 1
-    * op mul *tmp170 :start_reactor:flow_units 1000
-    * op floor *tmp171 *tmp170
+  537 op idiv *tmp171 :start_reactor:flow_units 0.001
   538 op div :start_reactor:flow *tmp171 10
-    * op mul *tmp173 :start_reactor:charge_units 1000
-    * op floor *tmp174 *tmp173
+  539 op idiv *tmp174 :start_reactor:charge_units 0.001
   540 op div :start_reactor:charge *tmp174 10
   541 print "WAIT power. (%"
   542 print :start_reactor:charge

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-7 instructions):
 
    33 set *tmp5 @tick
    34 label *label6
    35 set :start_time *tmp5
-    * set :t_startup1 :start_time
-    * set :t_startup2 :start_time
-    * set :t_startup3 :start_time
-    * set :t_startup4 :start_time
-    * set :t_startup5 :start_time
-    * set .RET_T_STARTUP :t_startup1
+   36 set :t_startup1 *tmp5
+   37 set :t_startup2 *tmp5
+   38 set :t_startup3 *tmp5
+   39 set :t_startup4 *tmp5
+   40 set :t_startup5 *tmp5
+   41 set .RET_T_STARTUP :start_time
    42 set .REACTORS_DESIRED 5
    43 set .AVG_SURPLUS 500
    44 label *label7
 
    52 set .TOWER cyclone1
    53 set .CONTAINER vault1
    54 set .NODE node1
-    * set :check_radar:unit .TOWER
+   55 set :check_radar:unit cyclone1
    56 setaddr :check_radar*retaddr *label10 (h:*label10)
    57 call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
    58 label *label10
 
    70 label *label13
    71 set *tmp8 false
    72 jump *label11 always
-    * set *tmp8 null
    73 label *label11
-    * op or :emerg_shutdown :emerg_shutdown *tmp8
+   74 op or :emerg_shutdown :check_radar*retval *tmp8
    75 set :calc_charge_req:reactor reactor1
    76 set :calc_charge_req:time :t_startup1
    77 setaddr :calc_charge_req*retaddr *label16 (h:*label16)
 
   112 label *label21
   113 set :fuel_1 :start_reactor*retval
   114 set :t_startup1 .RET_T_STARTUP
-    * set :update_fuel:fuel :fuel_1
-    * set :update_fuel:uld_in .ULD_IN_1
-    * set :update_fuel:uld_out .ULD_OUT_1
+  115 set :update_fuel:fuel :start_reactor*retval
+  116 set :update_fuel:uld_in unloader1
+  117 set :update_fuel:uld_out unloader2
   118 setaddr :update_fuel*retaddr *label22 (h:*label22)
   119 call *label1 *invalid :update_fuel*retval (m:*label22) (h:*label22)
   120 label *label22
 
   128 label *label23
   129 set :fuel_2 :start_reactor*retval
   130 set :t_startup2 .RET_T_STARTUP
-    * set :update_fuel:fuel :fuel_2
-    * set :update_fuel:uld_in .ULD_IN_2
-    * set :update_fuel:uld_out .ULD_OUT_2
+  131 set :update_fuel:fuel :start_reactor*retval
+  132 set :update_fuel:uld_in unloader3
+  133 set :update_fuel:uld_out unloader4
   134 setaddr :update_fuel*retaddr *label24 (h:*label24)
   135 call *label1 *invalid :update_fuel*retval (m:*label24) (h:*label24)
   136 label *label24
-    * set :check_radar:unit .TOWER
+  137 set :check_radar:unit cyclone1
   138 setaddr :check_radar*retaddr *label25 (h:*label25)
   139 call *label4 *invalid :check_radar*retval (m:*label25) (h:*label25)
   140 label *label25
 
   173 label *label33
   174 jump *label31 notEqual :fuel_4 false
   175 label *label32
-    * jump *label29 equal :fuel_5 false
+  176 jump *label29 equal :start_reactor*retval false
   177 label *label31
   178 set *tmp26 true
   179 jump *label30 always
 
   181 set *tmp26 false
   182 label *label30
   183 set :fuel_many *tmp26
-    * set :update_fuel:fuel :fuel_many
-    * set :update_fuel:uld_in .ULD_IN_MANY
-    * set :update_fuel:uld_out .ULD_OUT_MANY
+  184 set :update_fuel:fuel *tmp26
+  185 set :update_fuel:uld_in unloader5
+  186 set :update_fuel:uld_out unloader6
   187 setaddr :update_fuel*retaddr *label34 (h:*label34)
   188 call *label1 *invalid :update_fuel*retval (m:*label34) (h:*label34)
   189 label *label34
 
   191 label *label39
   192 jump *label37 notEqual :fuel_2 false
   193 label *label38
-    * jump *label35 equal :fuel_many false
+  194 jump *label35 equal *tmp26 false
   195 label *label37
   196 set *tmp28 true
   197 jump *label36 always
 
   200 label *label36
   201 set :throttle_blast:reactors_fueled *tmp28
   202 set :throttle_blast:emerg_shutdown :emerg_shutdown
-    * sensor *tmp30 .NODE @powerNetStored
+  203 sensor *tmp30 node1 @powerNetStored
   204 op floor :throttle_blast:charge *tmp30
-    * sensor *tmp32 .NODE @powerNetIn
-    * sensor *tmp33 .NODE @powerNetOut
+  205 sensor *tmp32 node1 @powerNetIn
+  206 sensor *tmp33 node1 @powerNetOut
   207 op sub *tmp34 *tmp32 *tmp33
   208 op floor :throttle_blast:surplus *tmp34
-    * sensor :throttle_blast:fuel_stored .CONTAINER @blast-compound
-    * jump *label44 greaterThanEq :throttle_blast:charge .PWR_ABORT
+  209 sensor :throttle_blast:fuel_stored vault1 @blast-compound
+  210 jump *label44 greaterThanEq :throttle_blast:charge 5000
   211 label *label45
-    * jump *label43 lessThan :throttle_blast:surplus .FLOW_ABORT
+  212 jump *label43 lessThan :throttle_blast:surplus -500
   213 label *label44
-    * jump *label41 equal :throttle_blast:emerg_shutdown false
+  214 jump *label41 equal :emerg_shutdown false
   215 label *label43
   216 set :throttle_blast:limit 0
   217 print "Central Fuel at "
   218 print :throttle_blast:fuel_stored
   219 print " "
   220 print "/ "
-    * print :throttle_blast:limit
+  221 print 0
   222 print " "
   223 print "- "
-    * jump *label46 equal :throttle_blast:emerg_shutdown false
+  224 jump *label46 equal :emerg_shutdown false
   225 print " Enemies detected."
   226 print "\n"
   227 jump *label47 always
 
   231 label *label47
   232 jump *label42 always
   233 label *label41
-    * jump *label48 notEqual :throttle_blast:reactors_fueled false
-    * set :throttle_blast:limit .FUEL_LIMIT_LOW
+  234 jump *label48 notEqual *tmp28 false
+  235 set :throttle_blast:limit 150
   236 print "Fuel "
   237 print :throttle_blast:fuel_stored
   238 print " "
   239 print "/ "
-    * print :throttle_blast:limit
+  240 print .FUEL_LIMIT_LOW
   241 print " "
   242 print "(due to emergency)"
   243 print "\n"
   244 jump *label49 always
   245 label *label48
-    * set :throttle_blast:limit .FUEL_LIMIT
+  246 set :throttle_blast:limit 800
   247 print "Fuel "
   248 print :throttle_blast:fuel_stored
   249 print " "
   250 print "/ "
-    * print :throttle_blast:limit
+  251 print .FUEL_LIMIT
   252 print "\"
   253 print "n"
   254 label *label49
   255 label *label42
   256 op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
   257 jump *label40 always
-    * set *tmp29 null
   258 label *label40
   259 set :feed_mixers *tmp29
-    * set *tmp44 .ULD_MIXER
-    * jump *label50 equal :feed_mixers false
-    * set *tmp46 .MIXER_IN
+  260 set *tmp44 unloader7
+  261 jump *label50 equal *tmp29 false
+  262 set *tmp46 @pyratite
   263 jump *label51 always
   264 label *label50
-    * set *tmp46 .FUEL_OFF
+  265 set *tmp46 @scrap
   266 label *label51
-    * control config *tmp44 *tmp46
-    * sensor *tmp48 .NODE @powerNetStored
-    * sensor *tmp49 .NODE @powerNetCapacity
+  267 control config .ULD_MIXER *tmp46
+  268 sensor *tmp48 node1 @powerNetStored
+  269 sensor *tmp49 node1 @powerNetCapacity
   270 op div :diff_generators:stored_pc *tmp48 *tmp49
   271 jump *label53 lessThanEq :diff_generators:stored_pc 0.9
   272 label *label56
 
   287 call *label0 *invalid :kilo*retval (m:*label57) (h:*label57)
   288 label *label57
   289 set :surplus :kilo*retval
-    * sensor :kilo:val .NODE @powerNetStored
+  290 sensor :kilo:val node1 @powerNetStored
   291 setaddr :kilo*retaddr *label58 (h:*label58)
   292 call *label0 *invalid :kilo*retval (m:*label58) (h:*label58)
   293 label *label58
 
   299 label *label61
   300 set :req :kilo*retval
   301 print "Req "
-    * print :req
+  302 print :kilo*retval
   303 print "kJ / "
   304 print :charge
   305 print "kJ. "
 
   311 print "Power "
   312 print :surplus
   313 print "kW, "
-    * print :charge
+  314 print :kilo*retval
   315 print "kJ"
   316 print "\n"
-    * sensor *tmp65 .NODE @powerNetStored
-    * sensor *tmp66 .NODE @powerNetCapacity
+  317 sensor *tmp65 node1 @powerNetStored
+  318 sensor *tmp66 node1 @powerNetCapacity
   319 op div :update_reactors_desired:stored *tmp65 *tmp66
   320 jump *label63 lessThanEq :update_reactors_desired:stored 0.98
   321 label *label66
-    * op add *tmp69 .GENERATOR_OUTPUT .GOAL_BUFFER
-    * jump *label63 lessThanEq .AVG_SURPLUS *tmp69
+  322 op add *tmp69 6500 10000
+  323 jump *label63 lessThanEq .AVG_SURPLUS 16500
   324 label *label65
   325 jump *label67 lessThanEq .REACTORS_DESIRED 2
   326 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
-    * op sub .AVG_SURPLUS .AVG_SURPLUS .GENERATOR_OUTPUT
+  327 op sub .AVG_SURPLUS .AVG_SURPLUS 6500
   328 label *label67
   329 label *label68
   330 label *label63
   331 label *label64
   332 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
   333 label *label72
-    * op mul *tmp75 .GOAL_BUFFER 0.8
-    * jump *label69 greaterThanEq .AVG_SURPLUS *tmp75
+  334 op mul *tmp75 10000 0.8
+  335 jump *label69 greaterThanEq .AVG_SURPLUS 8000
   336 label *label71
-    * op sub *tmp78 .AVG_SURPLUS .GOAL_BUFFER
-    * op idiv *tmp79 *tmp78 .GENERATOR_OUTPUT
+  337 op sub *tmp78 .AVG_SURPLUS 10000
+  338 op idiv *tmp79 *tmp78 6500
   339 op max :update_reactors_desired:needed 1 *tmp79
   340 op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
   341 op min .REACTORS_DESIRED 5 *tmp81
 
   359 op idiv *tmp85 :kilo:val 100
   360 op div :kilo*retval *tmp85 10
   361 jump *label75 always
-    * set :kilo*retval null
   362 label *label75
   363 return :kilo*retaddr
   364 end
 
   370 label *label77
   371 set *tmp89 .FUEL_OFF
   372 label *label78
-    * control config *tmp87 *tmp89
+  373 control config :update_fuel:uld_in *tmp89
   374 set *tmp90 :update_fuel:uld_out
   375 jump *label79 notEqual :update_fuel:fuel false
   376 set *tmp93 .FUEL
 
   378 label *label79
   379 set *tmp93 .FUEL_OFF
   380 label *label80
-    * control config *tmp90 *tmp93
+  381 control config :update_fuel:uld_out *tmp93
   382 label *label76
   383 return :update_fuel*retaddr
   384 end
 
   399 op idiv :calc_charge_req:charge_req *tmp101 0.04
   400 set :calc_charge_req*retval :calc_charge_req:charge_req
   401 jump *label81 always
-    * set :calc_charge_req*retval null
   402 label *label81
   403 return :calc_charge_req*retaddr
   404 end
 
   467 call *label2 *invalid :calc_charge_req*retval (m:*label103) (h:*label103)
   468 label *label103
   469 set :start_reactor:charge_req :calc_charge_req*retval
-    * op sub *tmp143 :start_reactor:charge :start_reactor:charge_req
+  470 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   471 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   472 label *label107
   473 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
 
   483 print :start_reactor:time_left
   484 print " "
   485 print "secs, req "
-    * print :start_reactor:charge_req
+  486 print :calc_charge_req*retval
   487 print "J"
   488 print "\n"
   489 label *label105
 
   587 label *label127
   588 set :start_reactor*retval :start_reactor:supply_fuel
   589 jump *label86 always
-    * set :start_reactor*retval null
   590 label *label86
   591 return :start_reactor*retaddr
   592 end
 
   609 control enabled reactor5 false
   610 set :check_radar*retval true
   611 jump *label128 always
-    * set *tmp194 null
   612 jump *label130 always
   613 label *label129
   614 control enabled projector1 false
   615 control enabled projector2 false
   616 set :check_radar*retval false
   617 jump *label128 always
-    * set *tmp194 null
   618 label *label130
-    * set :check_radar*retval *tmp194
+  619 set :check_radar*retval null
   620 label *label128
   621 return :check_radar*retaddr
   622 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-17 instructions):
     0 printflush message1
     1 set .FUEL @blast-compound
     2 set .FUEL_OFF @scrap
-    * set .MIXER_IN @pyratite
     3 set .PWR_REQ 23000
     4 set .FLOW_REQ 2000
     5 set .PWR_ABANDON 2000
 
    11 set .FUEL_LIMIT_LOW 150
    12 set .FUEL_LIMIT 800
    13 set .FUEL_TOT_ABORT 15
-    * set .GENERATOR_OUTPUT 6500
-    * set .GOAL_BUFFER 10000
    14 set .CRYO_REQ 3
    15 set .CRYO_REQ_EA 2
    16 set .CRYO_ABORT 1
 
    35 set :t_startup3 *tmp5
    36 set :t_startup4 *tmp5
    37 set :t_startup5 *tmp5
-    * set .RET_T_STARTUP :start_time
+   38 set .RET_T_STARTUP *tmp5
    39 set .REACTORS_DESIRED 5
    40 set .AVG_SURPLUS 500
    41 label *label7
 
    46 set .ULD_IN_MANY unloader5
    47 set .ULD_OUT_MANY unloader6
    48 set .ULD_MIXER unloader7
-    * set .TOWER cyclone1
    49 set .CONTAINER vault1
    50 set .NODE node1
    51 set :check_radar:unit cyclone1
    52 setaddr :check_radar*retaddr *label10 (h:*label10)
    53 call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
    54 label *label10
-    * set :emerg_shutdown :check_radar*retval
    55 jump *label12 equal switch1 null
    56 label *label15
    57 sensor *tmp10 switch1 @enabled
 
   175 label *label29
   176 set *tmp26 false
   177 label *label30
-    * set :fuel_many *tmp26
   178 set :update_fuel:fuel *tmp26
   179 set :update_fuel:uld_in unloader5
   180 set :update_fuel:uld_out unloader6
 
   192 label *label35
   193 set *tmp28 false
   194 label *label36
-    * set :throttle_blast:reactors_fueled *tmp28
-    * set :throttle_blast:emerg_shutdown :emerg_shutdown
   195 sensor *tmp30 node1 @powerNetStored
   196 op floor :throttle_blast:charge *tmp30
   197 sensor *tmp32 node1 @powerNetIn
 
   229 print :throttle_blast:fuel_stored
   230 print " "
   231 print "/ "
-    * print .FUEL_LIMIT_LOW
+  232 print 150
   233 print " "
   234 print "(due to emergency)"
   235 print "\n"
 
   240 print :throttle_blast:fuel_stored
   241 print " "
   242 print "/ "
-    * print .FUEL_LIMIT
+  243 print 800
   244 print "\"
   245 print "n"
   246 label *label49
 
   248 op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
   249 jump *label40 always
   250 label *label40
-    * set :feed_mixers *tmp29
-    * set *tmp44 unloader7
   251 jump *label50 equal *tmp29 false
   252 set *tmp46 @pyratite
   253 jump *label51 always
   254 label *label50
   255 set *tmp46 @scrap
   256 label *label51
-    * control config .ULD_MIXER *tmp46
+  257 control config unloader7 *tmp46
   258 sensor *tmp48 node1 @powerNetStored
   259 sensor *tmp49 node1 @powerNetCapacity
   260 op div :diff_generators:stored_pc *tmp48 *tmp49
 
   287 setaddr :kilo*retaddr *label61 (h:*label61)
   288 call *label0 *invalid :kilo*retval (m:*label61) (h:*label61)
   289 label *label61
-    * set :req :kilo*retval
   290 print "Req "
   291 print :kilo*retval
   292 print "kJ / "
 
   308 op div :update_reactors_desired:stored *tmp65 *tmp66
   309 jump *label63 lessThanEq :update_reactors_desired:stored 0.98
   310 label *label66
-    * op add *tmp69 6500 10000
   311 jump *label63 lessThanEq .AVG_SURPLUS 16500
   312 label *label65
   313 jump *label67 lessThanEq .REACTORS_DESIRED 2
 
   319 label *label64
   320 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
   321 label *label72
-    * op mul *tmp75 10000 0.8
   322 jump *label69 greaterThanEq .AVG_SURPLUS 8000
   323 label *label71
   324 op sub *tmp78 .AVG_SURPLUS 10000
 
   350 return :kilo*retaddr
   351 end
   352 label *label1
-    * set *tmp87 :update_fuel:uld_in
   353 jump *label77 equal :update_fuel:fuel false
   354 set *tmp89 .FUEL
   355 jump *label78 always
 
   357 set *tmp89 .FUEL_OFF
   358 label *label78
   359 control config :update_fuel:uld_in *tmp89
-    * set *tmp90 :update_fuel:uld_out
   360 jump *label79 notEqual :update_fuel:fuel false
   361 set *tmp93 .FUEL
   362 jump *label80 always
 
   451 setaddr :calc_charge_req*retaddr *label103 (h:*label103)
   452 call *label2 *invalid :calc_charge_req*retval (m:*label103) (h:*label103)
   453 label *label103
-    * set :start_reactor:charge_req :calc_charge_req*retval
   454 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   455 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   456 label *label107
 
   600 set :check_radar*retval false
   601 jump *label128 always
   602 label *label130
-    * set :check_radar*retval null
   603 label *label128
   604 return :check_radar*retaddr
   605 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-3 instructions):
 
     8 set .FLOW_ABORT -500
     9 set .FUEL_REQ 10
    10 set .FUEL_TOT_REQ 45
-    * set .FUEL_LIMIT_LOW 150
-    * set .FUEL_LIMIT 800
    11 set .FUEL_TOT_ABORT 15
    12 set .CRYO_REQ 3
    13 set .CRYO_REQ_EA 2
 
    27 label *label5
    28 set *tmp5 @tick
    29 label *label6
-    * set :start_time *tmp5
    30 set :t_startup1 *tmp5
    31 set :t_startup2 *tmp5
    32 set :t_startup3 *tmp5

Modifications by Iterated phase, Boolean Optimization, pass 1, iteration 1 (-14 instructions):
 
    21 sensor *tmp1 node1 @powerNetOut
    22 op sub *tmp2 *tmp0 *tmp1
    23 op floor :surplus *tmp2
-    * jump *label5 lessThanEq :surplus 10000
-    * op sub *tmp5 @tick 3600
-    * jump *label6 always
-    * label *label5
-    * set *tmp5 @tick
-    * label *label6
+   24 op sub *tmp218 @tick 3600
+   25 select *tmp5 greaterThan :surplus 10000 *tmp218 @tick
    26 set :t_startup1 *tmp5
    27 set :t_startup2 *tmp5
    28 set :t_startup3 *tmp5
 
   159 set :t_startup5 .RET_T_STARTUP
   160 jump *label31 notEqual :fuel_3 false
   161 label *label33
-    * jump *label31 notEqual :fuel_4 false
-    * label *label32
-    * jump *label29 equal :start_reactor*retval false
+  162 jump *label29 equal :fuel_4 false
   163 label *label31
   164 set *tmp26 true
   165 jump *label30 always
   166 label *label29
-    * set *tmp26 false
+  167 label *label132
+  168 op notEqual *tmp26 :start_reactor*retval false
   169 label *label30
   170 set :update_fuel:fuel *tmp26
   171 set :update_fuel:uld_in unloader5
 
   175 label *label34
   176 jump *label37 notEqual :fuel_1 false
   177 label *label39
-    * jump *label37 notEqual :fuel_2 false
-    * label *label38
-    * jump *label35 equal *tmp26 false
+  178 jump *label35 equal :fuel_2 false
   179 label *label37
   180 set *tmp28 true
   181 jump *label36 always
   182 label *label35
-    * set *tmp28 false
+  183 label *label135
+  184 op notEqual *tmp28 *tmp26 false
   185 label *label36
   186 sensor *tmp30 node1 @powerNetStored
   187 op floor :throttle_blast:charge *tmp30
 
   239 op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
   240 jump *label40 always
   241 label *label40
-    * jump *label50 equal *tmp29 false
-    * set *tmp46 @pyratite
-    * jump *label51 always
-    * label *label50
-    * set *tmp46 @scrap
-    * label *label51
+  242 select *tmp46 notEqual *tmp29 false @pyratite @scrap
   243 control config unloader7 *tmp46
   244 sensor *tmp48 node1 @powerNetStored
   245 sensor *tmp49 node1 @powerNetCapacity
 
   336 return :kilo*retaddr
   337 end
   338 label *label1
-    * jump *label77 equal :update_fuel:fuel false
-    * set *tmp89 .FUEL
-    * jump *label78 always
-    * label *label77
-    * set *tmp89 .FUEL_OFF
-    * label *label78
+  339 select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
   340 control config :update_fuel:uld_in *tmp89
-    * jump *label79 notEqual :update_fuel:fuel false
-    * set *tmp93 .FUEL
-    * jump *label80 always
-    * label *label79
-    * set *tmp93 .FUEL_OFF
-    * label *label80
+  341 select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
   342 control config :update_fuel:uld_out *tmp93
   343 label *label76
   344 return :update_fuel*retaddr
 
   540 label *label113
   541 label *label90
   542 label *label88
-    * sensor *tmp188 :start_reactor:reactor @enabled
-    * jump *label126 equal :start_reactor:enabled *tmp188
-    * set .RET_T_STARTUP @tick
-    * label *label126
-    * label *label127
+  543 sensor *tmp188 :start_reactor:reactor @enabled
+  544 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick .RET_T_STARTUP
   545 set :start_reactor*retval :start_reactor:supply_fuel
   546 jump *label86 always
   547 label *label86

Modifications by Iterated phase, If Expression Optimization, pass 1, iteration 1 (-2 instructions):
 
   157 label *label28
   158 set :fuel_5 :start_reactor*retval
   159 set :t_startup5 .RET_T_STARTUP
-    * jump *label31 notEqual :fuel_3 false
+  160 set *tmp26 true
+  161 jump *label30 notEqual :fuel_3 false
   162 label *label33
-    * jump *label29 equal :fuel_4 false
+  163 jump *label30 notEqual :fuel_4 false
   164 label *label31
-    * set *tmp26 true
-    * jump *label30 always
   165 label *label29
   166 label *label132
   167 op notEqual *tmp26 :start_reactor*retval false
 
   172 setaddr :update_fuel*retaddr *label34 (h:*label34)
   173 call *label1 *invalid :update_fuel*retval (m:*label34) (h:*label34)
   174 label *label34
-    * jump *label37 notEqual :fuel_1 false
+  175 set *tmp28 true
+  176 jump *label36 notEqual :fuel_1 false
   177 label *label39
-    * jump *label35 equal :fuel_2 false
+  178 jump *label36 notEqual :fuel_2 false
   179 label *label37
-    * set *tmp28 true
-    * jump *label36 always
   180 label *label35
   181 label *label135
   182 op notEqual *tmp28 *tmp26 false

Modifications by Inline function 'kilo' defined at line 117:1 (-2 instructions):
 
   257 label *label54
   258 label *label52
   259 set :kilo:val .AVG_SURPLUS
-    * setaddr :kilo*retaddr *label57 (h:*label57)
-    * call *label0 *invalid :kilo*retval (m:*label57) (h:*label57)
-    * label *label57
+  260 label *label137
+  261 op idiv *tmp85 :kilo:val 100
+  262 op div :kilo*retval *tmp85 10
+  263 jump *label138 always
+  264 label *label138
   265 set :surplus :kilo*retval
   266 sensor :kilo:val node1 @powerNetStored
-    * setaddr :kilo*retaddr *label58 (h:*label58)
-    * call *label0 *invalid :kilo*retval (m:*label58) (h:*label58)
-    * label *label58
+  267 label *label139
+  268 op idiv *tmp85 :kilo:val 100
+  269 op div :kilo*retval *tmp85 10
+  270 jump *label140 always
+  271 label *label140
   272 set :charge :kilo*retval
   273 jump *label59 lessThanEq .START_POWER_REQ 0
   274 set :kilo:val .START_POWER_REQ
-    * setaddr :kilo*retaddr *label61 (h:*label61)
-    * call *label0 *invalid :kilo*retval (m:*label61) (h:*label61)
-    * label *label61
+  275 label *label141
+  276 op idiv *tmp85 :kilo:val 100
+  277 op div :kilo*retval *tmp85 10
+  278 jump *label142 always
+  279 label *label142
   280 print "Req "
   281 print :kilo*retval
   282 print "kJ / "
 
   332 jump *label7 always
   333 label *label9
   334 end
-    * label *label0
-    * op idiv *tmp85 :kilo:val 100
-    * op div :kilo*retval *tmp85 10
-    * jump *label75 always
-    * label *label75
-    * return :kilo*retaddr
-    * end
   335 label *label1
   336 select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
   337 control config :update_fuel:uld_in *tmp89

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   258 label *label52
   259 set :kilo:val .AVG_SURPLUS
   260 label *label137
-    * op idiv *tmp85 :kilo:val 100
+  261 op idiv *tmp85 .AVG_SURPLUS 100
   262 op div :kilo*retval *tmp85 10
   263 jump *label138 always
   264 label *label138
 
   273 jump *label59 lessThanEq .START_POWER_REQ 0
   274 set :kilo:val .START_POWER_REQ
   275 label *label141
-    * op idiv *tmp85 :kilo:val 100
+  276 op idiv *tmp85 .START_POWER_REQ 100
   277 op div :kilo*retval *tmp85 10
   278 jump *label142 always
   279 label *label142

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-2 instructions):
 
   256 control enabled generator2 true
   257 label *label54
   258 label *label52
-    * set :kilo:val .AVG_SURPLUS
   259 label *label137
   260 op idiv *tmp85 .AVG_SURPLUS 100
   261 op div :kilo*retval *tmp85 10
 
   270 label *label140
   271 set :charge :kilo*retval
   272 jump *label59 lessThanEq .START_POWER_REQ 0
-    * set :kilo:val .START_POWER_REQ
   273 label *label141
   274 op idiv *tmp85 .START_POWER_REQ 100
   275 op div :kilo*retval *tmp85 10

Modifications by Inline function 'update_fuel' defined at line 121:1:
 
   103 set :update_fuel:fuel :start_reactor*retval
   104 set :update_fuel:uld_in unloader1
   105 set :update_fuel:uld_out unloader2
-    * setaddr :update_fuel*retaddr *label22 (h:*label22)
-    * call *label1 *invalid :update_fuel*retval (m:*label22) (h:*label22)
-    * label *label22
+  106 label *label143
+  107 select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
+  108 control config :update_fuel:uld_in *tmp89
+  109 select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
+  110 control config :update_fuel:uld_out *tmp93
+  111 label *label144
   112 set :start_reactor:reactor reactor2
   113 set :start_reactor:reactor_num 2
   114 set :start_reactor:emerg_shutdown :emerg_shutdown
 
   122 set :update_fuel:fuel :start_reactor*retval
   123 set :update_fuel:uld_in unloader3
   124 set :update_fuel:uld_out unloader4
-    * setaddr :update_fuel*retaddr *label24 (h:*label24)
-    * call *label1 *invalid :update_fuel*retval (m:*label24) (h:*label24)
-    * label *label24
+  125 label *label145
+  126 select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
+  127 control config :update_fuel:uld_in *tmp89
+  128 select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
+  129 control config :update_fuel:uld_out *tmp93
+  130 label *label146
   131 set :check_radar:unit cyclone1
   132 setaddr :check_radar*retaddr *label25 (h:*label25)
   133 call *label4 *invalid :check_radar*retval (m:*label25) (h:*label25)
 
   175 set :update_fuel:fuel *tmp26
   176 set :update_fuel:uld_in unloader5
   177 set :update_fuel:uld_out unloader6
-    * setaddr :update_fuel*retaddr *label34 (h:*label34)
-    * call *label1 *invalid :update_fuel*retval (m:*label34) (h:*label34)
-    * label *label34
+  178 label *label147
+  179 select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
+  180 control config :update_fuel:uld_in *tmp89
+  181 select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
+  182 control config :update_fuel:uld_out *tmp93
+  183 label *label148
   184 set *tmp28 true
   185 jump *label36 notEqual :fuel_1 false
   186 label *label39
 
   339 jump *label7 always
   340 label *label9
   341 end
-    * label *label1
-    * select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_in *tmp89
-    * select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_out *tmp93
-    * label *label76
-    * return :update_fuel*retaddr
-    * end
   342 label *label2
   343 op sub *tmp94 @tick :calc_charge_req:time
   344 op idiv :calc_charge_req:secs *tmp94 60

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   104 set :update_fuel:uld_in unloader1
   105 set :update_fuel:uld_out unloader2
   106 label *label143
-    * select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_in *tmp89
-    * select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_out *tmp93
+  107 select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
+  108 control config unloader1 *tmp89
+  109 select *tmp93 equal :start_reactor*retval false @blast-compound @scrap
+  110 control config unloader2 *tmp93
   111 label *label144
   112 set :start_reactor:reactor reactor2
   113 set :start_reactor:reactor_num 2
 
   123 set :update_fuel:uld_in unloader3
   124 set :update_fuel:uld_out unloader4
   125 label *label145
-    * select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_in *tmp89
-    * select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_out *tmp93
+  126 select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
+  127 control config unloader3 *tmp89
+  128 select *tmp93 equal :start_reactor*retval false @blast-compound @scrap
+  129 control config unloader4 *tmp93
   130 label *label146
   131 set :check_radar:unit cyclone1
   132 setaddr :check_radar*retaddr *label25 (h:*label25)
 
   176 set :update_fuel:uld_in unloader5
   177 set :update_fuel:uld_out unloader6
   178 label *label147
-    * select *tmp89 notEqual :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_in *tmp89
-    * select *tmp93 equal :update_fuel:fuel false .FUEL .FUEL_OFF
-    * control config :update_fuel:uld_out *tmp93
+  179 select *tmp89 notEqual *tmp26 false @blast-compound @scrap
+  180 control config unloader5 *tmp89
+  181 select *tmp93 equal *tmp26 false @blast-compound @scrap
+  182 control config unloader6 *tmp93
   183 label *label148
   184 set *tmp28 true
   185 jump *label36 notEqual :fuel_1 false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-9 instructions):
 
   100 label *label21
   101 set :fuel_1 :start_reactor*retval
   102 set :t_startup1 .RET_T_STARTUP
-    * set :update_fuel:fuel :start_reactor*retval
-    * set :update_fuel:uld_in unloader1
-    * set :update_fuel:uld_out unloader2
   103 label *label143
   104 select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
   105 control config unloader1 *tmp89
 
   116 label *label23
   117 set :fuel_2 :start_reactor*retval
   118 set :t_startup2 .RET_T_STARTUP
-    * set :update_fuel:fuel :start_reactor*retval
-    * set :update_fuel:uld_in unloader3
-    * set :update_fuel:uld_out unloader4
   119 label *label145
   120 select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
   121 control config unloader3 *tmp89
 
   166 label *label132
   167 op notEqual *tmp26 :start_reactor*retval false
   168 label *label30
-    * set :update_fuel:fuel *tmp26
-    * set :update_fuel:uld_in unloader5
-    * set :update_fuel:uld_out unloader6
   169 label *label147
   170 select *tmp89 notEqual *tmp26 false @blast-compound @scrap
   171 control config unloader5 *tmp89

Modifications by Inline function 'calc_charge_req' defined at line 126:1 (+46 instructions):
 
    62 op or :emerg_shutdown :check_radar*retval *tmp8
    63 set :calc_charge_req:reactor reactor1
    64 set :calc_charge_req:time :t_startup1
-    * setaddr :calc_charge_req*retaddr *label16 (h:*label16)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label16) (h:*label16)
-    * label *label16
+   65 label *label149
+   66 op sub *tmp94 @tick :calc_charge_req:time
+   67 op idiv :calc_charge_req:secs *tmp94 60
+   68 jump *label151 greaterThan :calc_charge_req:secs 30
+   69 label *label150
+   70 sensor *tmp97 :calc_charge_req:reactor @enabled
+   71 jump *label152 notEqual *tmp97 false
+   72 label *label151
+   73 set :calc_charge_req*retval 0
+   74 jump *label154 always
+   75 label *label152
+   76 label *label153
+   77 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+   78 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+   79 op idiv :calc_charge_req:charge_req *tmp101 0.04
+   80 set :calc_charge_req*retval :calc_charge_req:charge_req
+   81 jump *label154 always
+   82 label *label154
    83 set .START_POWER_REQ :calc_charge_req*retval
    84 set :calc_charge_req:reactor reactor2
    85 set :calc_charge_req:time :t_startup2
-    * setaddr :calc_charge_req*retaddr *label17 (h:*label17)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label17) (h:*label17)
-    * label *label17
+   86 label *label155
+   87 op sub *tmp94 @tick :calc_charge_req:time
+   88 op idiv :calc_charge_req:secs *tmp94 60
+   89 jump *label157 greaterThan :calc_charge_req:secs 30
+   90 label *label156
+   91 sensor *tmp97 :calc_charge_req:reactor @enabled
+   92 jump *label158 notEqual *tmp97 false
+   93 label *label157
+   94 set :calc_charge_req*retval 0
+   95 jump *label160 always
+   96 label *label158
+   97 label *label159
+   98 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+   99 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  100 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  101 set :calc_charge_req*retval :calc_charge_req:charge_req
+  102 jump *label160 always
+  103 label *label160
   104 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   105 set :calc_charge_req:reactor reactor3
   106 set :calc_charge_req:time :t_startup3
-    * setaddr :calc_charge_req*retaddr *label18 (h:*label18)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label18) (h:*label18)
-    * label *label18
+  107 label *label161
+  108 op sub *tmp94 @tick :calc_charge_req:time
+  109 op idiv :calc_charge_req:secs *tmp94 60
+  110 jump *label163 greaterThan :calc_charge_req:secs 30
+  111 label *label162
+  112 sensor *tmp97 :calc_charge_req:reactor @enabled
+  113 jump *label164 notEqual *tmp97 false
+  114 label *label163
+  115 set :calc_charge_req*retval 0
+  116 jump *label166 always
+  117 label *label164
+  118 label *label165
+  119 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  120 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  121 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  122 set :calc_charge_req*retval :calc_charge_req:charge_req
+  123 jump *label166 always
+  124 label *label166
   125 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   126 set :calc_charge_req:reactor reactor4
   127 set :calc_charge_req:time :t_startup4
-    * setaddr :calc_charge_req*retaddr *label19 (h:*label19)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label19) (h:*label19)
-    * label *label19
+  128 label *label167
+  129 op sub *tmp94 @tick :calc_charge_req:time
+  130 op idiv :calc_charge_req:secs *tmp94 60
+  131 jump *label169 greaterThan :calc_charge_req:secs 30
+  132 label *label168
+  133 sensor *tmp97 :calc_charge_req:reactor @enabled
+  134 jump *label170 notEqual *tmp97 false
+  135 label *label169
+  136 set :calc_charge_req*retval 0
+  137 jump *label172 always
+  138 label *label170
+  139 label *label171
+  140 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  141 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  142 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  143 set :calc_charge_req*retval :calc_charge_req:charge_req
+  144 jump *label172 always
+  145 label *label172
   146 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   147 set :calc_charge_req:reactor reactor5
   148 set :calc_charge_req:time :t_startup5
-    * setaddr :calc_charge_req*retaddr *label20 (h:*label20)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label20) (h:*label20)
-    * label *label20
+  149 label *label173
+  150 op sub *tmp94 @tick :calc_charge_req:time
+  151 op idiv :calc_charge_req:secs *tmp94 60
+  152 jump *label175 greaterThan :calc_charge_req:secs 30
+  153 label *label174
+  154 sensor *tmp97 :calc_charge_req:reactor @enabled
+  155 jump *label176 notEqual *tmp97 false
+  156 label *label175
+  157 set :calc_charge_req*retval 0
+  158 jump *label178 always
+  159 label *label176
+  160 label *label177
+  161 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  162 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  163 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  164 set :calc_charge_req*retval :calc_charge_req:charge_req
+  165 jump *label178 always
+  166 label *label178
   167 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   168 set :start_reactor:reactor reactor1
   169 set :start_reactor:reactor_num 1
 
   405 jump *label7 always
   406 label *label9
   407 end
-    * label *label2
-    * op sub *tmp94 @tick :calc_charge_req:time
-    * op idiv :calc_charge_req:secs *tmp94 60
-    * jump *label84 greaterThan :calc_charge_req:secs 30
-    * label *label85
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
-    * jump *label82 notEqual *tmp97 false
-    * label *label84
-    * set :calc_charge_req*retval 0
-    * jump *label81 always
-    * label *label82
-    * label *label83
-    * op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
-    * op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
-    * op idiv :calc_charge_req:charge_req *tmp101 0.04
-    * set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label81 always
-    * label *label81
-    * return :calc_charge_req*retaddr
-    * end
   408 label *label3
   409 set .RET_T_STARTUP :start_reactor:t_startup
   410 op sub *tmp104 @tick :start_reactor:t_startup
 
   466 jump *label101 greaterThanEq :start_reactor:secs 30
   467 set :calc_charge_req:reactor :start_reactor:reactor
   468 set :calc_charge_req:time :start_reactor:t_startup
-    * setaddr :calc_charge_req*retaddr *label103 (h:*label103)
-    * call *label2 *invalid :calc_charge_req*retval (m:*label103) (h:*label103)
-    * label *label103
+  469 label *label179
+  470 op sub *tmp94 @tick :calc_charge_req:time
+  471 op idiv :calc_charge_req:secs *tmp94 60
+  472 jump *label181 greaterThan :calc_charge_req:secs 30
+  473 label *label180
+  474 sensor *tmp97 :calc_charge_req:reactor @enabled
+  475 jump *label182 notEqual *tmp97 false
+  476 label *label181
+  477 set :calc_charge_req*retval 0
+  478 jump *label184 always
+  479 label *label182
+  480 label *label183
+  481 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  482 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  483 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  484 set :calc_charge_req*retval :calc_charge_req:charge_req
+  485 jump *label184 always
+  486 label *label184
   487 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   488 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   489 label *label107

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    63 set :calc_charge_req:reactor reactor1
    64 set :calc_charge_req:time :t_startup1
    65 label *label149
-    * op sub *tmp94 @tick :calc_charge_req:time
+   66 op sub *tmp94 @tick :t_startup1
    67 op idiv :calc_charge_req:secs *tmp94 60
    68 jump *label151 greaterThan :calc_charge_req:secs 30
    69 label *label150
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+   70 sensor *tmp97 reactor1 @enabled
    71 jump *label152 notEqual *tmp97 false
    72 label *label151
    73 set :calc_charge_req*retval 0
 
    84 set :calc_charge_req:reactor reactor2
    85 set :calc_charge_req:time :t_startup2
    86 label *label155
-    * op sub *tmp94 @tick :calc_charge_req:time
+   87 op sub *tmp94 @tick :t_startup2
    88 op idiv :calc_charge_req:secs *tmp94 60
    89 jump *label157 greaterThan :calc_charge_req:secs 30
    90 label *label156
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+   91 sensor *tmp97 reactor2 @enabled
    92 jump *label158 notEqual *tmp97 false
    93 label *label157
    94 set :calc_charge_req*retval 0
 
   105 set :calc_charge_req:reactor reactor3
   106 set :calc_charge_req:time :t_startup3
   107 label *label161
-    * op sub *tmp94 @tick :calc_charge_req:time
+  108 op sub *tmp94 @tick :t_startup3
   109 op idiv :calc_charge_req:secs *tmp94 60
   110 jump *label163 greaterThan :calc_charge_req:secs 30
   111 label *label162
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+  112 sensor *tmp97 reactor3 @enabled
   113 jump *label164 notEqual *tmp97 false
   114 label *label163
   115 set :calc_charge_req*retval 0
 
   126 set :calc_charge_req:reactor reactor4
   127 set :calc_charge_req:time :t_startup4
   128 label *label167
-    * op sub *tmp94 @tick :calc_charge_req:time
+  129 op sub *tmp94 @tick :t_startup4
   130 op idiv :calc_charge_req:secs *tmp94 60
   131 jump *label169 greaterThan :calc_charge_req:secs 30
   132 label *label168
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+  133 sensor *tmp97 reactor4 @enabled
   134 jump *label170 notEqual *tmp97 false
   135 label *label169
   136 set :calc_charge_req*retval 0
 
   147 set :calc_charge_req:reactor reactor5
   148 set :calc_charge_req:time :t_startup5
   149 label *label173
-    * op sub *tmp94 @tick :calc_charge_req:time
+  150 op sub *tmp94 @tick :t_startup5
   151 op idiv :calc_charge_req:secs *tmp94 60
   152 jump *label175 greaterThan :calc_charge_req:secs 30
   153 label *label174
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+  154 sensor *tmp97 reactor5 @enabled
   155 jump *label176 notEqual *tmp97 false
   156 label *label175
   157 set :calc_charge_req*retval 0
 
   467 set :calc_charge_req:reactor :start_reactor:reactor
   468 set :calc_charge_req:time :start_reactor:t_startup
   469 label *label179
-    * op sub *tmp94 @tick :calc_charge_req:time
+  470 op sub *tmp94 @tick :start_reactor:t_startup
   471 op idiv :calc_charge_req:secs *tmp94 60
   472 jump *label181 greaterThan :calc_charge_req:secs 30
   473 label *label180
-    * sensor *tmp97 :calc_charge_req:reactor @enabled
+  474 sensor *tmp97 :start_reactor:reactor @enabled
   475 jump *label182 notEqual *tmp97 false
   476 label *label181
   477 set :calc_charge_req*retval 0
 
   598 label *label90
   599 label *label88
   600 sensor *tmp188 :start_reactor:reactor @enabled
-    * select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick .RET_T_STARTUP
+  601 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
   602 set :start_reactor*retval :start_reactor:supply_fuel
   603 jump *label86 always
   604 label *label86

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-13 instructions):
 
    60 jump *label11 always
    61 label *label11
    62 op or :emerg_shutdown :check_radar*retval *tmp8
-    * set :calc_charge_req:reactor reactor1
-    * set :calc_charge_req:time :t_startup1
    63 label *label149
    64 op sub *tmp94 @tick :t_startup1
    65 op idiv :calc_charge_req:secs *tmp94 60
 
    79 jump *label154 always
    80 label *label154
    81 set .START_POWER_REQ :calc_charge_req*retval
-    * set :calc_charge_req:reactor reactor2
-    * set :calc_charge_req:time :t_startup2
    82 label *label155
    83 op sub *tmp94 @tick :t_startup2
    84 op idiv :calc_charge_req:secs *tmp94 60
 
    98 jump *label160 always
    99 label *label160
   100 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * set :calc_charge_req:reactor reactor3
-    * set :calc_charge_req:time :t_startup3
   101 label *label161
   102 op sub *tmp94 @tick :t_startup3
   103 op idiv :calc_charge_req:secs *tmp94 60
 
   117 jump *label166 always
   118 label *label166
   119 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * set :calc_charge_req:reactor reactor4
-    * set :calc_charge_req:time :t_startup4
   120 label *label167
   121 op sub *tmp94 @tick :t_startup4
   122 op idiv :calc_charge_req:secs *tmp94 60
 
   136 jump *label172 always
   137 label *label172
   138 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * set :calc_charge_req:reactor reactor5
-    * set :calc_charge_req:time :t_startup5
   139 label *label173
   140 op sub *tmp94 @tick :t_startup5
   141 op idiv :calc_charge_req:secs *tmp94 60
 
   396 label *label9
   397 end
   398 label *label3
-    * set .RET_T_STARTUP :start_reactor:t_startup
   399 op sub *tmp104 @tick :start_reactor:t_startup
   400 op idiv :start_reactor:secs *tmp104 60
   401 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
 
   453 jump *label100 always
   454 label *label99
   455 jump *label101 greaterThanEq :start_reactor:secs 30
-    * set :calc_charge_req:reactor :start_reactor:reactor
-    * set :calc_charge_req:time :start_reactor:t_startup
   456 label *label179
   457 op sub *tmp94 @tick :start_reactor:t_startup
   458 op idiv :calc_charge_req:secs *tmp94 60

Modifications by Inline function 'check_radar' defined at line 259:1 (+17 instructions):
 
    42 set .CONTAINER vault1
    43 set .NODE node1
    44 set :check_radar:unit cyclone1
-    * setaddr :check_radar*retaddr *label10 (h:*label10)
-    * call *label4 *invalid :check_radar*retval (m:*label10) (h:*label10)
-    * label *label10
+   45 label *label185
+   46 radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
+   47 jump *label186 equal :check_radar:enemy_found null
+   48 control enabled projector1 true
+   49 control enabled projector2 true
+   50 control config .ULD_IN_1 .FUEL_OFF
+   51 control config .ULD_OUT_1 .FUEL
+   52 control config .ULD_IN_2 .FUEL_OFF
+   53 control config .ULD_OUT_2 .FUEL
+   54 control config .ULD_IN_MANY .FUEL_OFF
+   55 control config .ULD_OUT_MANY .FUEL
+   56 control config .ULD_MIXER .FUEL_OFF
+   57 control enabled reactor1 false
+   58 control enabled reactor2 false
+   59 control enabled reactor3 false
+   60 control enabled reactor4 false
+   61 control enabled reactor5 false
+   62 set :check_radar*retval true
+   63 jump *label188 always
+   64 jump *label187 always
+   65 label *label186
+   66 control enabled projector1 false
+   67 control enabled projector2 false
+   68 set :check_radar*retval false
+   69 jump *label188 always
+   70 label *label187
+   71 label *label188
    72 jump *label12 equal switch1 null
    73 label *label15
    74 sensor *tmp10 switch1 @enabled
 
   212 control config unloader4 *tmp93
   213 label *label146
   214 set :check_radar:unit cyclone1
-    * setaddr :check_radar*retaddr *label25 (h:*label25)
-    * call *label4 *invalid :check_radar*retval (m:*label25) (h:*label25)
-    * label *label25
+  215 label *label189
+  216 radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
+  217 jump *label190 equal :check_radar:enemy_found null
+  218 control enabled projector1 true
+  219 control enabled projector2 true
+  220 control config .ULD_IN_1 .FUEL_OFF
+  221 control config .ULD_OUT_1 .FUEL
+  222 control config .ULD_IN_2 .FUEL_OFF
+  223 control config .ULD_OUT_2 .FUEL
+  224 control config .ULD_IN_MANY .FUEL_OFF
+  225 control config .ULD_OUT_MANY .FUEL
+  226 control config .ULD_MIXER .FUEL_OFF
+  227 control enabled reactor1 false
+  228 control enabled reactor2 false
+  229 control enabled reactor3 false
+  230 control enabled reactor4 false
+  231 control enabled reactor5 false
+  232 set :check_radar*retval true
+  233 jump *label192 always
+  234 jump *label191 always
+  235 label *label190
+  236 control enabled projector1 false
+  237 control enabled projector2 false
+  238 set :check_radar*retval false
+  239 jump *label192 always
+  240 label *label191
+  241 label *label192
   242 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
   243 set :start_reactor:reactor reactor3
   244 set :start_reactor:reactor_num 3
 
   639 label *label86
   640 return :start_reactor*retaddr
   641 end
-    * label *label4
-    * radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
-    * jump *label129 equal :check_radar:enemy_found null
-    * control enabled projector1 true
-    * control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
-    * control enabled reactor1 false
-    * control enabled reactor2 false
-    * control enabled reactor3 false
-    * control enabled reactor4 false
-    * control enabled reactor5 false
-    * set :check_radar*retval true
-    * jump *label128 always
-    * jump *label130 always
-    * label *label129
-    * control enabled projector1 false
-    * control enabled projector2 false
-    * set :check_radar*retval false
-    * jump *label128 always
-    * label *label130
-    * label *label128
-    * return :check_radar*retaddr
-    * end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    43 set .NODE node1
    44 set :check_radar:unit cyclone1
    45 label *label185
-    * radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
+   46 radar enemy any any health cyclone1 1 :check_radar:enemy_found
    47 jump *label186 equal :check_radar:enemy_found null
    48 control enabled projector1 true
    49 control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
+   50 control config unloader1 @scrap
+   51 control config unloader2 @blast-compound
+   52 control config unloader3 @scrap
+   53 control config unloader4 @blast-compound
+   54 control config unloader5 @scrap
+   55 control config unloader6 @blast-compound
+   56 control config unloader7 @scrap
    57 control enabled reactor1 false
    58 control enabled reactor2 false
    59 control enabled reactor3 false
 
   213 label *label146
   214 set :check_radar:unit cyclone1
   215 label *label189
-    * radar enemy any any health :check_radar:unit 1 :check_radar:enemy_found
+  216 radar enemy any any health cyclone1 1 :check_radar:enemy_found
   217 jump *label190 equal :check_radar:enemy_found null
   218 control enabled projector1 true
   219 control enabled projector2 true
-    * control config .ULD_IN_1 .FUEL_OFF
-    * control config .ULD_OUT_1 .FUEL
-    * control config .ULD_IN_2 .FUEL_OFF
-    * control config .ULD_OUT_2 .FUEL
-    * control config .ULD_IN_MANY .FUEL_OFF
-    * control config .ULD_OUT_MANY .FUEL
-    * control config .ULD_MIXER .FUEL_OFF
+  220 control config unloader1 @scrap
+  221 control config unloader2 @blast-compound
+  222 control config unloader3 @scrap
+  223 control config unloader4 @blast-compound
+  224 control config unloader5 @scrap
+  225 control config unloader6 @blast-compound
+  226 control config unloader7 @scrap
   227 control enabled reactor1 false
   228 control enabled reactor2 false
   229 control enabled reactor3 false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-11 instructions):
     0 printflush message1
-    * set .FUEL @blast-compound
-    * set .FUEL_OFF @scrap
     1 set .PWR_REQ 23000
     2 set .FLOW_REQ 2000
     3 set .PWR_ABANDON 2000
 
    30 set .REACTORS_DESIRED 5
    31 set .AVG_SURPLUS 500
    32 label *label7
-    * set .ULD_IN_1 unloader1
-    * set .ULD_OUT_1 unloader2
-    * set .ULD_IN_2 unloader3
-    * set .ULD_OUT_2 unloader4
-    * set .ULD_IN_MANY unloader5
-    * set .ULD_OUT_MANY unloader6
-    * set .ULD_MIXER unloader7
    33 set .CONTAINER vault1
    34 set .NODE node1
-    * set :check_radar:unit cyclone1
    35 label *label185
    36 radar enemy any any health cyclone1 1 :check_radar:enemy_found
    37 jump *label186 equal :check_radar:enemy_found null
 
   201 select *tmp93 equal :start_reactor*retval false @blast-compound @scrap
   202 control config unloader4 *tmp93
   203 label *label146
-    * set :check_radar:unit cyclone1
   204 label *label189
   205 radar enemy any any health cyclone1 1 :check_radar:enemy_found
   206 jump *label190 equal :check_radar:enemy_found null

Modifications by Inline function call at line 80:14 (+146 instructions):
 
   174 set :start_reactor:emerg_shutdown :emerg_shutdown
   175 set :start_reactor:fuel_on :fuel_1
   176 set :start_reactor:t_startup :t_startup1
-    * setaddr :start_reactor*retaddr *label21 (h:*label21)
-    * call *label3 *invalid :start_reactor*retval (m:*label21) (h:*label21)
-    * label *label21
+  177 label *label193
+  178 op sub *tmp104 @tick :start_reactor:t_startup
+  179 op idiv :start_reactor:secs *tmp104 60
+  180 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  181 set :start_reactor:supply_fuel true
+  182 sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
+  183 sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
+  184 sensor *tmp109 .NODE @powerNetStored
+  185 op floor :start_reactor:charge *tmp109
+  186 sensor *tmp111 .NODE @powerNetIn
+  187 sensor *tmp112 .NODE @powerNetOut
+  188 op sub *tmp113 *tmp111 *tmp112
+  189 op floor :start_reactor:surplus *tmp113
+  190 op mul *tmp115 .AVG_SURPLUS 0.8
+  191 op mul *tmp116 :start_reactor:surplus 0.2
+  192 op add .AVG_SURPLUS *tmp115 *tmp116
+  193 sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  194 print "#"
+  195 print :start_reactor:reactor_num
+  196 print " "
+  197 print "- "
+  198 jump *label194 equal :start_reactor:emerg_shutdown false
+  199 control enabled :start_reactor:reactor false
+  200 print "emergency mode"
+  201 print "\n"
+  202 set :start_reactor:supply_fuel false
+  203 jump *label237 always
+  204 label *label194
+  205 jump *label221 equal :start_reactor:enabled false
+  206 jump *label195 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  207 control enabled :start_reactor:reactor false
+  208 print "STOP unwanted"
+  209 print "\n"
+  210 jump *label220 always
+  211 label *label195
+  212 jump *label198 lessThanEq :start_reactor:reactor_num 1
+  213 label *label196
+  214 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
+  215 jump *label198 greaterThanEq :start_reactor:fuel_stored *tmp128
+  216 label *label197
+  217 control enabled :start_reactor:reactor false
+  218 print "STOP system fuel low"
+  219 print "\n"
+  220 jump *label219 always
+  221 label *label198
+  222 jump *label199 greaterThan :start_reactor:fuel 1
+  223 control enabled :start_reactor:reactor false
+  224 print "STOP fuel low"
+  225 print "\n"
+  226 jump *label218 always
+  227 label *label199
+  228 jump *label200 greaterThan :start_reactor:cryo .CRYO_ABORT
+  229 control enabled :start_reactor:reactor false
+  230 print "STOP out of cryo"
+  231 print "\n"
+  232 jump *label217 always
+  233 label *label200
+  234 jump *label211 greaterThanEq :start_reactor:secs 30
+  235 label *label201
+  236 op sub *tmp94 @tick :start_reactor:t_startup
+  237 op idiv :calc_charge_req:secs *tmp94 60
+  238 jump *label203 greaterThan :calc_charge_req:secs 30
+  239 label *label202
+  240 sensor *tmp97 :start_reactor:reactor @enabled
+  241 jump *label204 notEqual *tmp97 false
+  242 label *label203
+  243 set :calc_charge_req*retval 0
+  244 jump *label206 always
+  245 label *label204
+  246 label *label205
+  247 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  248 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  249 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  250 set :calc_charge_req*retval :calc_charge_req:charge_req
+  251 jump *label206 always
+  252 label *label206
+  253 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
+  254 jump *label209 greaterThanEq *tmp143 .PWR_ABORT
+  255 label *label207
+  256 jump *label209 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  257 label *label208
+  258 control enabled :start_reactor:reactor false
+  259 print "START FAIL battery"
+  260 print "\n"
+  261 set :start_reactor:supply_fuel false
+  262 jump *label210 always
+  263 label *label209
+  264 op sub :start_reactor:time_left 30 :start_reactor:secs
+  265 print "Starting "
+  266 print :start_reactor:time_left
+  267 print " "
+  268 print "secs, req "
+  269 print :calc_charge_req*retval
+  270 print "J"
+  271 print "\n"
+  272 label *label210
+  273 jump *label216 always
+  274 label *label211
+  275 jump *label214 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  276 label *label212
+  277 jump *label214 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  278 label *label213
+  279 control enabled :start_reactor:reactor false
+  280 print "ABANDON - battery crit"
+  281 print "\n"
+  282 set :start_reactor:supply_fuel false
+  283 jump *label215 always
+  284 label *label214
+  285 op idiv :start_reactor:mins :start_reactor:secs 6
+  286 op div :start_reactor:mins :start_reactor:mins 10
+  287 print "RUN "
+  288 print :start_reactor:mins
+  289 print " "
+  290 print "mins"
+  291 print "\n"
+  292 label *label215
+  293 label *label216
+  294 label *label217
+  295 label *label218
+  296 label *label219
+  297 label *label220
+  298 jump *label236 always
+  299 label *label221
+  300 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
+  301 op sub *tmp158 *tmp157 .PWR_ABORT
+  302 op div *tmp159 *tmp158 .PWR_REQ
+  303 op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
+  304 op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  305 op max :start_reactor:flow_units -0.1 *tmp161
+  306 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
+  307 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
+  308 jump *label222 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  309 print "IDLE"
+  310 print "\n"
+  311 set :start_reactor:supply_fuel false
+  312 jump *label235 always
+  313 label *label222
+  314 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
+  315 jump *label223 greaterThanEq *tmp167 1
+  316 op idiv *tmp171 :start_reactor:flow_units 0.001
+  317 op div :start_reactor:flow *tmp171 10
+  318 op idiv *tmp174 :start_reactor:charge_units 0.001
+  319 op div :start_reactor:charge *tmp174 10
+  320 print "WAIT power. (%"
+  321 print :start_reactor:charge
+  322 print "J + %"
+  323 print :start_reactor:flow
+  324 print "W)"
+  325 print "\n"
+  326 set :start_reactor:supply_fuel false
+  327 jump *label234 always
+  328 label *label223
+  329 jump *label228 equal :start_reactor:fuel_on false
+  330 label *label224
+  331 jump *label228 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  332 label *label225
+  333 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
+  334 jump *label226 lessThanEq *tmp178 .FUEL_REQ
+  335 print "WAIT fuel"
+  336 print "\n"
+  337 jump *label227 always
+  338 label *label226
+  339 print "WAIT system fuel"
+  340 print "\n"
+  341 label *label227
+  342 jump *label233 always
+  343 label *label228
+  344 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
+  345 jump *label229 greaterThanEq :start_reactor:fuel_stored *tmp181
+  346 print "WAIT buffer fuel"
+  347 print "\n"
+  348 jump *label232 always
+  349 label *label229
+  350 jump *label230 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  351 print "WAIT cryo"
+  352 print "\n"
+  353 jump *label231 always
+  354 label *label230
+  355 print "STARTUP"
+  356 print "\n"
+  357 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  358 control enabled :start_reactor:reactor true
+  359 label *label231
+  360 label *label232
+  361 label *label233
+  362 label *label234
+  363 label *label235
+  364 label *label236
+  365 label *label237
+  366 sensor *tmp188 :start_reactor:reactor @enabled
+  367 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  368 set :start_reactor*retval :start_reactor:supply_fuel
+  369 jump *label238 always
+  370 label *label238
   371 set :fuel_1 :start_reactor*retval
   372 set :t_startup1 .RET_T_STARTUP
   373 label *label143

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-1 instructions):
 
    26 set :t_startup3 *tmp5
    27 set :t_startup4 *tmp5
    28 set :t_startup5 *tmp5
-    * set .RET_T_STARTUP *tmp5
    29 set .REACTORS_DESIRED 5
    30 set .AVG_SURPLUS 500
    31 label *label7
 
   174 set :start_reactor:fuel_on :fuel_1
   175 set :start_reactor:t_startup :t_startup1
   176 label *label193
-    * op sub *tmp104 @tick :start_reactor:t_startup
+  177 op sub *tmp104 @tick :t_startup1
   178 op idiv :start_reactor:secs *tmp104 60
-    * sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  179 sensor :start_reactor:fuel reactor1 @blast-compound
   180 set :start_reactor:supply_fuel true
-    * sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
-    * sensor *tmp109 .NODE @powerNetStored
+  181 sensor :start_reactor:fuel_stored vault1 @blast-compound
+  182 sensor :start_reactor:cryo reactor1 @cryofluid
+  183 sensor *tmp109 node1 @powerNetStored
   184 op floor :start_reactor:charge *tmp109
-    * sensor *tmp111 .NODE @powerNetIn
-    * sensor *tmp112 .NODE @powerNetOut
+  185 sensor *tmp111 node1 @powerNetIn
+  186 sensor *tmp112 node1 @powerNetOut
   187 op sub *tmp113 *tmp111 *tmp112
   188 op floor :start_reactor:surplus *tmp113
   189 op mul *tmp115 .AVG_SURPLUS 0.8
   190 op mul *tmp116 :start_reactor:surplus 0.2
   191 op add .AVG_SURPLUS *tmp115 *tmp116
-    * sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  192 sensor :start_reactor:enabled reactor1 @enabled
   193 print "#"
-    * print :start_reactor:reactor_num
+  194 print 1
   195 print " "
   196 print "- "
-    * jump *label194 equal :start_reactor:emerg_shutdown false
-    * control enabled :start_reactor:reactor false
+  197 jump *label194 equal :emerg_shutdown false
+  198 control enabled reactor1 false
   199 print "emergency mode"
   200 print "\n"
   201 set :start_reactor:supply_fuel false
   202 jump *label237 always
   203 label *label194
   204 jump *label221 equal :start_reactor:enabled false
-    * jump *label195 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
-    * control enabled :start_reactor:reactor false
+  205 jump *label195 greaterThanEq .REACTORS_DESIRED 1
+  206 control enabled reactor1 false
   207 print "STOP unwanted"
   208 print "\n"
   209 jump *label220 always
   210 label *label195
-    * jump *label198 lessThanEq :start_reactor:reactor_num 1
+  211 jump *label198 lessThanEq 1 1
   212 label *label196
-    * op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
-    * jump *label198 greaterThanEq :start_reactor:fuel_stored *tmp128
+  213 op mul *tmp128 15 1
+  214 jump *label198 greaterThanEq :start_reactor:fuel_stored 15
   215 label *label197
-    * control enabled :start_reactor:reactor false
+  216 control enabled reactor1 false
   217 print "STOP system fuel low"
   218 print "\n"
   219 jump *label219 always
   220 label *label198
   221 jump *label199 greaterThan :start_reactor:fuel 1
-    * control enabled :start_reactor:reactor false
+  222 control enabled reactor1 false
   223 print "STOP fuel low"
   224 print "\n"
   225 jump *label218 always
   226 label *label199
-    * jump *label200 greaterThan :start_reactor:cryo .CRYO_ABORT
-    * control enabled :start_reactor:reactor false
+  227 jump *label200 greaterThan :start_reactor:cryo 1
+  228 control enabled reactor1 false
   229 print "STOP out of cryo"
   230 print "\n"
   231 jump *label217 always
   232 label *label200
   233 jump *label211 greaterThanEq :start_reactor:secs 30
   234 label *label201
-    * op sub *tmp94 @tick :start_reactor:t_startup
+  235 op sub *tmp94 @tick :t_startup1
   236 op idiv :calc_charge_req:secs *tmp94 60
   237 jump *label203 greaterThan :calc_charge_req:secs 30
   238 label *label202
-    * sensor *tmp97 :start_reactor:reactor @enabled
+  239 sensor *tmp97 reactor1 @enabled
   240 jump *label204 notEqual *tmp97 false
   241 label *label203
   242 set :calc_charge_req*retval 0
 
   250 jump *label206 always
   251 label *label206
   252 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
-    * jump *label209 greaterThanEq *tmp143 .PWR_ABORT
+  253 jump *label209 greaterThanEq *tmp143 5000
   254 label *label207
-    * jump *label209 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  255 jump *label209 greaterThanEq :start_reactor:surplus -500
   256 label *label208
-    * control enabled :start_reactor:reactor false
+  257 control enabled reactor1 false
   258 print "START FAIL battery"
   259 print "\n"
   260 set :start_reactor:supply_fuel false
 
   271 label *label210
   272 jump *label216 always
   273 label *label211
-    * jump *label214 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  274 jump *label214 greaterThanEq :start_reactor:charge 2000
   275 label *label212
-    * jump *label214 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  276 jump *label214 greaterThanEq :start_reactor:surplus -500
   277 label *label213
-    * control enabled :start_reactor:reactor false
+  278 control enabled reactor1 false
   279 print "ABANDON - battery crit"
   280 print "\n"
   281 set :start_reactor:supply_fuel false
 
   297 jump *label236 always
   298 label *label221
   299 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
-    * op sub *tmp158 *tmp157 .PWR_ABORT
-    * op div *tmp159 *tmp158 .PWR_REQ
-    * op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
-    * op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  300 op sub *tmp158 *tmp157 5000
+  301 op div *tmp159 *tmp158 23000
+  302 op mul :start_reactor:charge_units *tmp159 0.6
+  303 op div *tmp161 :start_reactor:surplus 2000
   304 op max :start_reactor:flow_units -0.1 *tmp161
-    * op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
-    * op add :start_reactor:cryo_req .CRYO_REQ *tmp163
-    * jump *label222 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  305 op mul *tmp163 2 1
+  306 op add :start_reactor:cryo_req 3 2
+  307 jump *label222 greaterThanEq .REACTORS_DESIRED 1
   308 print "IDLE"
   309 print "\n"
   310 set :start_reactor:supply_fuel false
 
   325 set :start_reactor:supply_fuel false
   326 jump *label234 always
   327 label *label223
-    * jump *label228 equal :start_reactor:fuel_on false
+  328 jump *label228 equal :fuel_1 false
   329 label *label224
-    * jump *label228 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  330 jump *label228 greaterThanEq :start_reactor:fuel 10
   331 label *label225
   332 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
-    * jump *label226 lessThanEq *tmp178 .FUEL_REQ
+  333 jump *label226 lessThanEq *tmp178 10
   334 print "WAIT fuel"
   335 print "\n"
   336 jump *label227 always
 
   340 label *label227
   341 jump *label233 always
   342 label *label228
-    * op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
-    * jump *label229 greaterThanEq :start_reactor:fuel_stored *tmp181
+  343 op mul *tmp181 45 1
+  344 jump *label229 greaterThanEq :start_reactor:fuel_stored 45
   345 print "WAIT buffer fuel"
   346 print "\n"
   347 jump *label232 always
   348 label *label229
-    * jump *label230 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  349 jump *label230 greaterThanEq :start_reactor:cryo 5
   350 print "WAIT cryo"
   351 print "\n"
   352 jump *label231 always
   353 label *label230
   354 print "STARTUP"
   355 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor:reactor true
+  356 op add .START_POWER_REQ .START_POWER_REQ 23000
+  357 control enabled reactor1 true
   358 label *label231
   359 label *label232
   360 label *label233
 
   362 label *label235
   363 label *label236
   364 label *label237
-    * sensor *tmp188 :start_reactor:reactor @enabled
-    * select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  365 sensor *tmp188 reactor1 @enabled
+  366 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup1
   367 set :start_reactor*retval :start_reactor:supply_fuel
   368 jump *label238 always
   369 label *label238
-    * set :fuel_1 :start_reactor*retval
+  370 set :fuel_1 :start_reactor:supply_fuel
   371 set :t_startup1 .RET_T_STARTUP
   372 label *label143
-    * select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
+  373 select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
   374 control config unloader1 *tmp89
-    * select *tmp93 equal :start_reactor*retval false @blast-compound @scrap
+  375 select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
   376 control config unloader2 *tmp93
   377 label *label144
   378 set :start_reactor:reactor reactor2

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
   168 jump *label178 always
   169 label *label178
   170 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * set :start_reactor:reactor reactor1
-    * set :start_reactor:reactor_num 1
-    * set :start_reactor:emerg_shutdown :emerg_shutdown
-    * set :start_reactor:fuel_on :fuel_1
-    * set :start_reactor:t_startup :t_startup1
   171 label *label193
   172 op sub *tmp104 @tick :t_startup1
   173 op idiv :start_reactor:secs *tmp104 60
 
   294 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
   295 op sub *tmp158 *tmp157 5000
   296 op div *tmp159 *tmp158 23000
-    * op mul :start_reactor:charge_units *tmp159 0.6
+  297 op div :start_reactor:charge_units *tmp158 38333.333333333336
   298 op div *tmp161 :start_reactor:surplus 2000
   299 op max :start_reactor:flow_units -0.1 *tmp161
   300 op mul *tmp163 2 1
 
   359 label *label237
   360 sensor *tmp188 reactor1 @enabled
   361 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup1
-    * set :start_reactor*retval :start_reactor:supply_fuel
   362 jump *label238 always
   363 label *label238
   364 set :fuel_1 :start_reactor:supply_fuel

Modifications by Inline function call at line 84:14 (+146 instructions):
 
   374 set :start_reactor:emerg_shutdown :emerg_shutdown
   375 set :start_reactor:fuel_on :fuel_2
   376 set :start_reactor:t_startup :t_startup2
-    * setaddr :start_reactor*retaddr *label23 (h:*label23)
-    * call *label3 *invalid :start_reactor*retval (m:*label23) (h:*label23)
-    * label *label23
+  377 label *label239
+  378 op sub *tmp104 @tick :start_reactor:t_startup
+  379 op idiv :start_reactor:secs *tmp104 60
+  380 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  381 set :start_reactor:supply_fuel true
+  382 sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
+  383 sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
+  384 sensor *tmp109 .NODE @powerNetStored
+  385 op floor :start_reactor:charge *tmp109
+  386 sensor *tmp111 .NODE @powerNetIn
+  387 sensor *tmp112 .NODE @powerNetOut
+  388 op sub *tmp113 *tmp111 *tmp112
+  389 op floor :start_reactor:surplus *tmp113
+  390 op mul *tmp115 .AVG_SURPLUS 0.8
+  391 op mul *tmp116 :start_reactor:surplus 0.2
+  392 op add .AVG_SURPLUS *tmp115 *tmp116
+  393 sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  394 print "#"
+  395 print :start_reactor:reactor_num
+  396 print " "
+  397 print "- "
+  398 jump *label240 equal :start_reactor:emerg_shutdown false
+  399 control enabled :start_reactor:reactor false
+  400 print "emergency mode"
+  401 print "\n"
+  402 set :start_reactor:supply_fuel false
+  403 jump *label283 always
+  404 label *label240
+  405 jump *label267 equal :start_reactor:enabled false
+  406 jump *label241 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  407 control enabled :start_reactor:reactor false
+  408 print "STOP unwanted"
+  409 print "\n"
+  410 jump *label266 always
+  411 label *label241
+  412 jump *label244 lessThanEq :start_reactor:reactor_num 1
+  413 label *label242
+  414 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
+  415 jump *label244 greaterThanEq :start_reactor:fuel_stored *tmp128
+  416 label *label243
+  417 control enabled :start_reactor:reactor false
+  418 print "STOP system fuel low"
+  419 print "\n"
+  420 jump *label265 always
+  421 label *label244
+  422 jump *label245 greaterThan :start_reactor:fuel 1
+  423 control enabled :start_reactor:reactor false
+  424 print "STOP fuel low"
+  425 print "\n"
+  426 jump *label264 always
+  427 label *label245
+  428 jump *label246 greaterThan :start_reactor:cryo .CRYO_ABORT
+  429 control enabled :start_reactor:reactor false
+  430 print "STOP out of cryo"
+  431 print "\n"
+  432 jump *label263 always
+  433 label *label246
+  434 jump *label257 greaterThanEq :start_reactor:secs 30
+  435 label *label247
+  436 op sub *tmp94 @tick :start_reactor:t_startup
+  437 op idiv :calc_charge_req:secs *tmp94 60
+  438 jump *label249 greaterThan :calc_charge_req:secs 30
+  439 label *label248
+  440 sensor *tmp97 :start_reactor:reactor @enabled
+  441 jump *label250 notEqual *tmp97 false
+  442 label *label249
+  443 set :calc_charge_req*retval 0
+  444 jump *label252 always
+  445 label *label250
+  446 label *label251
+  447 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  448 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  449 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  450 set :calc_charge_req*retval :calc_charge_req:charge_req
+  451 jump *label252 always
+  452 label *label252
+  453 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
+  454 jump *label255 greaterThanEq *tmp143 .PWR_ABORT
+  455 label *label253
+  456 jump *label255 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  457 label *label254
+  458 control enabled :start_reactor:reactor false
+  459 print "START FAIL battery"
+  460 print "\n"
+  461 set :start_reactor:supply_fuel false
+  462 jump *label256 always
+  463 label *label255
+  464 op sub :start_reactor:time_left 30 :start_reactor:secs
+  465 print "Starting "
+  466 print :start_reactor:time_left
+  467 print " "
+  468 print "secs, req "
+  469 print :calc_charge_req*retval
+  470 print "J"
+  471 print "\n"
+  472 label *label256
+  473 jump *label262 always
+  474 label *label257
+  475 jump *label260 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  476 label *label258
+  477 jump *label260 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  478 label *label259
+  479 control enabled :start_reactor:reactor false
+  480 print "ABANDON - battery crit"
+  481 print "\n"
+  482 set :start_reactor:supply_fuel false
+  483 jump *label261 always
+  484 label *label260
+  485 op idiv :start_reactor:mins :start_reactor:secs 6
+  486 op div :start_reactor:mins :start_reactor:mins 10
+  487 print "RUN "
+  488 print :start_reactor:mins
+  489 print " "
+  490 print "mins"
+  491 print "\n"
+  492 label *label261
+  493 label *label262
+  494 label *label263
+  495 label *label264
+  496 label *label265
+  497 label *label266
+  498 jump *label282 always
+  499 label *label267
+  500 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
+  501 op sub *tmp158 *tmp157 .PWR_ABORT
+  502 op div *tmp159 *tmp158 .PWR_REQ
+  503 op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
+  504 op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  505 op max :start_reactor:flow_units -0.1 *tmp161
+  506 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
+  507 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
+  508 jump *label268 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  509 print "IDLE"
+  510 print "\n"
+  511 set :start_reactor:supply_fuel false
+  512 jump *label281 always
+  513 label *label268
+  514 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
+  515 jump *label269 greaterThanEq *tmp167 1
+  516 op idiv *tmp171 :start_reactor:flow_units 0.001
+  517 op div :start_reactor:flow *tmp171 10
+  518 op idiv *tmp174 :start_reactor:charge_units 0.001
+  519 op div :start_reactor:charge *tmp174 10
+  520 print "WAIT power. (%"
+  521 print :start_reactor:charge
+  522 print "J + %"
+  523 print :start_reactor:flow
+  524 print "W)"
+  525 print "\n"
+  526 set :start_reactor:supply_fuel false
+  527 jump *label280 always
+  528 label *label269
+  529 jump *label274 equal :start_reactor:fuel_on false
+  530 label *label270
+  531 jump *label274 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  532 label *label271
+  533 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
+  534 jump *label272 lessThanEq *tmp178 .FUEL_REQ
+  535 print "WAIT fuel"
+  536 print "\n"
+  537 jump *label273 always
+  538 label *label272
+  539 print "WAIT system fuel"
+  540 print "\n"
+  541 label *label273
+  542 jump *label279 always
+  543 label *label274
+  544 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
+  545 jump *label275 greaterThanEq :start_reactor:fuel_stored *tmp181
+  546 print "WAIT buffer fuel"
+  547 print "\n"
+  548 jump *label278 always
+  549 label *label275
+  550 jump *label276 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  551 print "WAIT cryo"
+  552 print "\n"
+  553 jump *label277 always
+  554 label *label276
+  555 print "STARTUP"
+  556 print "\n"
+  557 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  558 control enabled :start_reactor:reactor true
+  559 label *label277
+  560 label *label278
+  561 label *label279
+  562 label *label280
+  563 label *label281
+  564 label *label282
+  565 label *label283
+  566 sensor *tmp188 :start_reactor:reactor @enabled
+  567 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  568 set :start_reactor*retval :start_reactor:supply_fuel
+  569 jump *label284 always
+  570 label *label284
   571 set :fuel_2 :start_reactor*retval
   572 set :t_startup2 .RET_T_STARTUP
   573 label *label145

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   375 set :start_reactor:fuel_on :fuel_2
   376 set :start_reactor:t_startup :t_startup2
   377 label *label239
-    * op sub *tmp104 @tick :start_reactor:t_startup
+  378 op sub *tmp104 @tick :t_startup2
   379 op idiv :start_reactor:secs *tmp104 60
-    * sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  380 sensor :start_reactor:fuel reactor2 @blast-compound
   381 set :start_reactor:supply_fuel true
-    * sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
-    * sensor *tmp109 .NODE @powerNetStored
+  382 sensor :start_reactor:fuel_stored vault1 @blast-compound
+  383 sensor :start_reactor:cryo reactor2 @cryofluid
+  384 sensor *tmp109 node1 @powerNetStored
   385 op floor :start_reactor:charge *tmp109
-    * sensor *tmp111 .NODE @powerNetIn
-    * sensor *tmp112 .NODE @powerNetOut
+  386 sensor *tmp111 node1 @powerNetIn
+  387 sensor *tmp112 node1 @powerNetOut
   388 op sub *tmp113 *tmp111 *tmp112
   389 op floor :start_reactor:surplus *tmp113
   390 op mul *tmp115 .AVG_SURPLUS 0.8
   391 op mul *tmp116 :start_reactor:surplus 0.2
   392 op add .AVG_SURPLUS *tmp115 *tmp116
-    * sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  393 sensor :start_reactor:enabled reactor2 @enabled
   394 print "#"
-    * print :start_reactor:reactor_num
+  395 print 2
   396 print " "
   397 print "- "
-    * jump *label240 equal :start_reactor:emerg_shutdown false
-    * control enabled :start_reactor:reactor false
+  398 jump *label240 equal :emerg_shutdown false
+  399 control enabled reactor2 false
   400 print "emergency mode"
   401 print "\n"
   402 set :start_reactor:supply_fuel false
   403 jump *label283 always
   404 label *label240
   405 jump *label267 equal :start_reactor:enabled false
-    * jump *label241 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
-    * control enabled :start_reactor:reactor false
+  406 jump *label241 greaterThanEq .REACTORS_DESIRED 2
+  407 control enabled reactor2 false
   408 print "STOP unwanted"
   409 print "\n"
   410 jump *label266 always
   411 label *label241
-    * jump *label244 lessThanEq :start_reactor:reactor_num 1
+  412 jump *label244 lessThanEq 2 1
   413 label *label242
-    * op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
-    * jump *label244 greaterThanEq :start_reactor:fuel_stored *tmp128
+  414 op mul *tmp128 15 2
+  415 jump *label244 greaterThanEq :start_reactor:fuel_stored 30
   416 label *label243
-    * control enabled :start_reactor:reactor false
+  417 control enabled reactor2 false
   418 print "STOP system fuel low"
   419 print "\n"
   420 jump *label265 always
   421 label *label244
   422 jump *label245 greaterThan :start_reactor:fuel 1
-    * control enabled :start_reactor:reactor false
+  423 control enabled reactor2 false
   424 print "STOP fuel low"
   425 print "\n"
   426 jump *label264 always
   427 label *label245
-    * jump *label246 greaterThan :start_reactor:cryo .CRYO_ABORT
-    * control enabled :start_reactor:reactor false
+  428 jump *label246 greaterThan :start_reactor:cryo 1
+  429 control enabled reactor2 false
   430 print "STOP out of cryo"
   431 print "\n"
   432 jump *label263 always
   433 label *label246
   434 jump *label257 greaterThanEq :start_reactor:secs 30
   435 label *label247
-    * op sub *tmp94 @tick :start_reactor:t_startup
+  436 op sub *tmp94 @tick :t_startup2
   437 op idiv :calc_charge_req:secs *tmp94 60
   438 jump *label249 greaterThan :calc_charge_req:secs 30
   439 label *label248
-    * sensor *tmp97 :start_reactor:reactor @enabled
+  440 sensor *tmp97 reactor2 @enabled
   441 jump *label250 notEqual *tmp97 false
   442 label *label249
   443 set :calc_charge_req*retval 0
 
   451 jump *label252 always
   452 label *label252
   453 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
-    * jump *label255 greaterThanEq *tmp143 .PWR_ABORT
+  454 jump *label255 greaterThanEq *tmp143 5000
   455 label *label253
-    * jump *label255 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  456 jump *label255 greaterThanEq :start_reactor:surplus -500
   457 label *label254
-    * control enabled :start_reactor:reactor false
+  458 control enabled reactor2 false
   459 print "START FAIL battery"
   460 print "\n"
   461 set :start_reactor:supply_fuel false
 
   472 label *label256
   473 jump *label262 always
   474 label *label257
-    * jump *label260 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  475 jump *label260 greaterThanEq :start_reactor:charge 2000
   476 label *label258
-    * jump *label260 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  477 jump *label260 greaterThanEq :start_reactor:surplus -500
   478 label *label259
-    * control enabled :start_reactor:reactor false
+  479 control enabled reactor2 false
   480 print "ABANDON - battery crit"
   481 print "\n"
   482 set :start_reactor:supply_fuel false
 
   498 jump *label282 always
   499 label *label267
   500 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
-    * op sub *tmp158 *tmp157 .PWR_ABORT
-    * op div *tmp159 *tmp158 .PWR_REQ
-    * op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
-    * op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  501 op sub *tmp158 *tmp157 5000
+  502 op div *tmp159 *tmp158 23000
+  503 op mul :start_reactor:charge_units *tmp159 0.6
+  504 op div *tmp161 :start_reactor:surplus 2000
   505 op max :start_reactor:flow_units -0.1 *tmp161
-    * op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
-    * op add :start_reactor:cryo_req .CRYO_REQ *tmp163
-    * jump *label268 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  506 op mul *tmp163 2 2
+  507 op add :start_reactor:cryo_req 3 4
+  508 jump *label268 greaterThanEq .REACTORS_DESIRED 2
   509 print "IDLE"
   510 print "\n"
   511 set :start_reactor:supply_fuel false
 
   526 set :start_reactor:supply_fuel false
   527 jump *label280 always
   528 label *label269
-    * jump *label274 equal :start_reactor:fuel_on false
+  529 jump *label274 equal :fuel_2 false
   530 label *label270
-    * jump *label274 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  531 jump *label274 greaterThanEq :start_reactor:fuel 10
   532 label *label271
   533 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
-    * jump *label272 lessThanEq *tmp178 .FUEL_REQ
+  534 jump *label272 lessThanEq *tmp178 10
   535 print "WAIT fuel"
   536 print "\n"
   537 jump *label273 always
 
   541 label *label273
   542 jump *label279 always
   543 label *label274
-    * op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
-    * jump *label275 greaterThanEq :start_reactor:fuel_stored *tmp181
+  544 op mul *tmp181 45 2
+  545 jump *label275 greaterThanEq :start_reactor:fuel_stored 90
   546 print "WAIT buffer fuel"
   547 print "\n"
   548 jump *label278 always
   549 label *label275
-    * jump *label276 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  550 jump *label276 greaterThanEq :start_reactor:cryo 7
   551 print "WAIT cryo"
   552 print "\n"
   553 jump *label277 always
   554 label *label276
   555 print "STARTUP"
   556 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor:reactor true
+  557 op add .START_POWER_REQ .START_POWER_REQ 23000
+  558 control enabled reactor2 true
   559 label *label277
   560 label *label278
   561 label *label279
 
   563 label *label281
   564 label *label282
   565 label *label283
-    * sensor *tmp188 :start_reactor:reactor @enabled
-    * select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  566 sensor *tmp188 reactor2 @enabled
+  567 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup2
   568 set :start_reactor*retval :start_reactor:supply_fuel
   569 jump *label284 always
   570 label *label284
-    * set :fuel_2 :start_reactor*retval
+  571 set :fuel_2 :start_reactor:supply_fuel
   572 set :t_startup2 .RET_T_STARTUP
   573 label *label145
-    * select *tmp89 notEqual :start_reactor*retval false @blast-compound @scrap
+  574 select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
   575 control config unloader3 *tmp89
-    * select *tmp93 equal :start_reactor*retval false @blast-compound @scrap
+  576 select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
   577 control config unloader4 *tmp93
   578 label *label146
   579 label *label189

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
   369 select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
   370 control config unloader2 *tmp93
   371 label *label144
-    * set :start_reactor:reactor reactor2
-    * set :start_reactor:reactor_num 2
-    * set :start_reactor:emerg_shutdown :emerg_shutdown
-    * set :start_reactor:fuel_on :fuel_2
-    * set :start_reactor:t_startup :t_startup2
   372 label *label239
   373 op sub *tmp104 @tick :t_startup2
   374 op idiv :start_reactor:secs *tmp104 60
 
   495 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
   496 op sub *tmp158 *tmp157 5000
   497 op div *tmp159 *tmp158 23000
-    * op mul :start_reactor:charge_units *tmp159 0.6
+  498 op div :start_reactor:charge_units *tmp158 38333.333333333336
   499 op div *tmp161 :start_reactor:surplus 2000
   500 op max :start_reactor:flow_units -0.1 *tmp161
   501 op mul *tmp163 2 2
 
   560 label *label283
   561 sensor *tmp188 reactor2 @enabled
   562 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup2
-    * set :start_reactor*retval :start_reactor:supply_fuel
   563 jump *label284 always
   564 label *label284
   565 set :fuel_2 :start_reactor:supply_fuel

Modifications by Inline function call at line 89:14 (+146 instructions):
 
   603 set :start_reactor:emerg_shutdown :emerg_shutdown
   604 set :start_reactor:fuel_on :fuel_3
   605 set :start_reactor:t_startup :t_startup3
-    * setaddr :start_reactor*retaddr *label26 (h:*label26)
-    * call *label3 *invalid :start_reactor*retval (m:*label26) (h:*label26)
-    * label *label26
+  606 label *label285
+  607 op sub *tmp104 @tick :start_reactor:t_startup
+  608 op idiv :start_reactor:secs *tmp104 60
+  609 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  610 set :start_reactor:supply_fuel true
+  611 sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
+  612 sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
+  613 sensor *tmp109 .NODE @powerNetStored
+  614 op floor :start_reactor:charge *tmp109
+  615 sensor *tmp111 .NODE @powerNetIn
+  616 sensor *tmp112 .NODE @powerNetOut
+  617 op sub *tmp113 *tmp111 *tmp112
+  618 op floor :start_reactor:surplus *tmp113
+  619 op mul *tmp115 .AVG_SURPLUS 0.8
+  620 op mul *tmp116 :start_reactor:surplus 0.2
+  621 op add .AVG_SURPLUS *tmp115 *tmp116
+  622 sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  623 print "#"
+  624 print :start_reactor:reactor_num
+  625 print " "
+  626 print "- "
+  627 jump *label286 equal :start_reactor:emerg_shutdown false
+  628 control enabled :start_reactor:reactor false
+  629 print "emergency mode"
+  630 print "\n"
+  631 set :start_reactor:supply_fuel false
+  632 jump *label329 always
+  633 label *label286
+  634 jump *label313 equal :start_reactor:enabled false
+  635 jump *label287 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  636 control enabled :start_reactor:reactor false
+  637 print "STOP unwanted"
+  638 print "\n"
+  639 jump *label312 always
+  640 label *label287
+  641 jump *label290 lessThanEq :start_reactor:reactor_num 1
+  642 label *label288
+  643 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
+  644 jump *label290 greaterThanEq :start_reactor:fuel_stored *tmp128
+  645 label *label289
+  646 control enabled :start_reactor:reactor false
+  647 print "STOP system fuel low"
+  648 print "\n"
+  649 jump *label311 always
+  650 label *label290
+  651 jump *label291 greaterThan :start_reactor:fuel 1
+  652 control enabled :start_reactor:reactor false
+  653 print "STOP fuel low"
+  654 print "\n"
+  655 jump *label310 always
+  656 label *label291
+  657 jump *label292 greaterThan :start_reactor:cryo .CRYO_ABORT
+  658 control enabled :start_reactor:reactor false
+  659 print "STOP out of cryo"
+  660 print "\n"
+  661 jump *label309 always
+  662 label *label292
+  663 jump *label303 greaterThanEq :start_reactor:secs 30
+  664 label *label293
+  665 op sub *tmp94 @tick :start_reactor:t_startup
+  666 op idiv :calc_charge_req:secs *tmp94 60
+  667 jump *label295 greaterThan :calc_charge_req:secs 30
+  668 label *label294
+  669 sensor *tmp97 :start_reactor:reactor @enabled
+  670 jump *label296 notEqual *tmp97 false
+  671 label *label295
+  672 set :calc_charge_req*retval 0
+  673 jump *label298 always
+  674 label *label296
+  675 label *label297
+  676 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
+  677 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
+  678 op idiv :calc_charge_req:charge_req *tmp101 0.04
+  679 set :calc_charge_req*retval :calc_charge_req:charge_req
+  680 jump *label298 always
+  681 label *label298
+  682 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
+  683 jump *label301 greaterThanEq *tmp143 .PWR_ABORT
+  684 label *label299
+  685 jump *label301 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  686 label *label300
+  687 control enabled :start_reactor:reactor false
+  688 print "START FAIL battery"
+  689 print "\n"
+  690 set :start_reactor:supply_fuel false
+  691 jump *label302 always
+  692 label *label301
+  693 op sub :start_reactor:time_left 30 :start_reactor:secs
+  694 print "Starting "
+  695 print :start_reactor:time_left
+  696 print " "
+  697 print "secs, req "
+  698 print :calc_charge_req*retval
+  699 print "J"
+  700 print "\n"
+  701 label *label302
+  702 jump *label308 always
+  703 label *label303
+  704 jump *label306 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  705 label *label304
+  706 jump *label306 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  707 label *label305
+  708 control enabled :start_reactor:reactor false
+  709 print "ABANDON - battery crit"
+  710 print "\n"
+  711 set :start_reactor:supply_fuel false
+  712 jump *label307 always
+  713 label *label306
+  714 op idiv :start_reactor:mins :start_reactor:secs 6
+  715 op div :start_reactor:mins :start_reactor:mins 10
+  716 print "RUN "
+  717 print :start_reactor:mins
+  718 print " "
+  719 print "mins"
+  720 print "\n"
+  721 label *label307
+  722 label *label308
+  723 label *label309
+  724 label *label310
+  725 label *label311
+  726 label *label312
+  727 jump *label328 always
+  728 label *label313
+  729 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
+  730 op sub *tmp158 *tmp157 .PWR_ABORT
+  731 op div *tmp159 *tmp158 .PWR_REQ
+  732 op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
+  733 op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  734 op max :start_reactor:flow_units -0.1 *tmp161
+  735 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
+  736 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
+  737 jump *label314 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  738 print "IDLE"
+  739 print "\n"
+  740 set :start_reactor:supply_fuel false
+  741 jump *label327 always
+  742 label *label314
+  743 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
+  744 jump *label315 greaterThanEq *tmp167 1
+  745 op idiv *tmp171 :start_reactor:flow_units 0.001
+  746 op div :start_reactor:flow *tmp171 10
+  747 op idiv *tmp174 :start_reactor:charge_units 0.001
+  748 op div :start_reactor:charge *tmp174 10
+  749 print "WAIT power. (%"
+  750 print :start_reactor:charge
+  751 print "J + %"
+  752 print :start_reactor:flow
+  753 print "W)"
+  754 print "\n"
+  755 set :start_reactor:supply_fuel false
+  756 jump *label326 always
+  757 label *label315
+  758 jump *label320 equal :start_reactor:fuel_on false
+  759 label *label316
+  760 jump *label320 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  761 label *label317
+  762 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
+  763 jump *label318 lessThanEq *tmp178 .FUEL_REQ
+  764 print "WAIT fuel"
+  765 print "\n"
+  766 jump *label319 always
+  767 label *label318
+  768 print "WAIT system fuel"
+  769 print "\n"
+  770 label *label319
+  771 jump *label325 always
+  772 label *label320
+  773 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
+  774 jump *label321 greaterThanEq :start_reactor:fuel_stored *tmp181
+  775 print "WAIT buffer fuel"
+  776 print "\n"
+  777 jump *label324 always
+  778 label *label321
+  779 jump *label322 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  780 print "WAIT cryo"
+  781 print "\n"
+  782 jump *label323 always
+  783 label *label322
+  784 print "STARTUP"
+  785 print "\n"
+  786 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
+  787 control enabled :start_reactor:reactor true
+  788 label *label323
+  789 label *label324
+  790 label *label325
+  791 label *label326
+  792 label *label327
+  793 label *label328
+  794 label *label329
+  795 sensor *tmp188 :start_reactor:reactor @enabled
+  796 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  797 set :start_reactor*retval :start_reactor:supply_fuel
+  798 jump *label330 always
+  799 label *label330
   800 set :fuel_3 :start_reactor*retval
   801 set :t_startup3 .RET_T_STARTUP
   802 set :start_reactor:reactor reactor4

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   604 set :start_reactor:fuel_on :fuel_3
   605 set :start_reactor:t_startup :t_startup3
   606 label *label285
-    * op sub *tmp104 @tick :start_reactor:t_startup
+  607 op sub *tmp104 @tick :t_startup3
   608 op idiv :start_reactor:secs *tmp104 60
-    * sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
+  609 sensor :start_reactor:fuel reactor3 @blast-compound
   610 set :start_reactor:supply_fuel true
-    * sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
-    * sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
-    * sensor *tmp109 .NODE @powerNetStored
+  611 sensor :start_reactor:fuel_stored vault1 @blast-compound
+  612 sensor :start_reactor:cryo reactor3 @cryofluid
+  613 sensor *tmp109 node1 @powerNetStored
   614 op floor :start_reactor:charge *tmp109
-    * sensor *tmp111 .NODE @powerNetIn
-    * sensor *tmp112 .NODE @powerNetOut
+  615 sensor *tmp111 node1 @powerNetIn
+  616 sensor *tmp112 node1 @powerNetOut
   617 op sub *tmp113 *tmp111 *tmp112
   618 op floor :start_reactor:surplus *tmp113
   619 op mul *tmp115 .AVG_SURPLUS 0.8
   620 op mul *tmp116 :start_reactor:surplus 0.2
   621 op add .AVG_SURPLUS *tmp115 *tmp116
-    * sensor :start_reactor:enabled :start_reactor:reactor @enabled
+  622 sensor :start_reactor:enabled reactor3 @enabled
   623 print "#"
-    * print :start_reactor:reactor_num
+  624 print 3
   625 print " "
   626 print "- "
-    * jump *label286 equal :start_reactor:emerg_shutdown false
-    * control enabled :start_reactor:reactor false
+  627 jump *label286 equal :emerg_shutdown false
+  628 control enabled reactor3 false
   629 print "emergency mode"
   630 print "\n"
   631 set :start_reactor:supply_fuel false
   632 jump *label329 always
   633 label *label286
   634 jump *label313 equal :start_reactor:enabled false
-    * jump *label287 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
-    * control enabled :start_reactor:reactor false
+  635 jump *label287 greaterThanEq .REACTORS_DESIRED 3
+  636 control enabled reactor3 false
   637 print "STOP unwanted"
   638 print "\n"
   639 jump *label312 always
   640 label *label287
-    * jump *label290 lessThanEq :start_reactor:reactor_num 1
+  641 jump *label290 lessThanEq 3 1
   642 label *label288
-    * op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
-    * jump *label290 greaterThanEq :start_reactor:fuel_stored *tmp128
+  643 op mul *tmp128 15 3
+  644 jump *label290 greaterThanEq :start_reactor:fuel_stored 45
   645 label *label289
-    * control enabled :start_reactor:reactor false
+  646 control enabled reactor3 false
   647 print "STOP system fuel low"
   648 print "\n"
   649 jump *label311 always
   650 label *label290
   651 jump *label291 greaterThan :start_reactor:fuel 1
-    * control enabled :start_reactor:reactor false
+  652 control enabled reactor3 false
   653 print "STOP fuel low"
   654 print "\n"
   655 jump *label310 always
   656 label *label291
-    * jump *label292 greaterThan :start_reactor:cryo .CRYO_ABORT
-    * control enabled :start_reactor:reactor false
+  657 jump *label292 greaterThan :start_reactor:cryo 1
+  658 control enabled reactor3 false
   659 print "STOP out of cryo"
   660 print "\n"
   661 jump *label309 always
   662 label *label292
   663 jump *label303 greaterThanEq :start_reactor:secs 30
   664 label *label293
-    * op sub *tmp94 @tick :start_reactor:t_startup
+  665 op sub *tmp94 @tick :t_startup3
   666 op idiv :calc_charge_req:secs *tmp94 60
   667 jump *label295 greaterThan :calc_charge_req:secs 30
   668 label *label294
-    * sensor *tmp97 :start_reactor:reactor @enabled
+  669 sensor *tmp97 reactor3 @enabled
   670 jump *label296 notEqual *tmp97 false
   671 label *label295
   672 set :calc_charge_req*retval 0
 
   680 jump *label298 always
   681 label *label298
   682 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
-    * jump *label301 greaterThanEq *tmp143 .PWR_ABORT
+  683 jump *label301 greaterThanEq *tmp143 5000
   684 label *label299
-    * jump *label301 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  685 jump *label301 greaterThanEq :start_reactor:surplus -500
   686 label *label300
-    * control enabled :start_reactor:reactor false
+  687 control enabled reactor3 false
   688 print "START FAIL battery"
   689 print "\n"
   690 set :start_reactor:supply_fuel false
 
   701 label *label302
   702 jump *label308 always
   703 label *label303
-    * jump *label306 greaterThanEq :start_reactor:charge .PWR_ABANDON
+  704 jump *label306 greaterThanEq :start_reactor:charge 2000
   705 label *label304
-    * jump *label306 greaterThanEq :start_reactor:surplus .FLOW_ABORT
+  706 jump *label306 greaterThanEq :start_reactor:surplus -500
   707 label *label305
-    * control enabled :start_reactor:reactor false
+  708 control enabled reactor3 false
   709 print "ABANDON - battery crit"
   710 print "\n"
   711 set :start_reactor:supply_fuel false
 
   727 jump *label328 always
   728 label *label313
   729 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
-    * op sub *tmp158 *tmp157 .PWR_ABORT
-    * op div *tmp159 *tmp158 .PWR_REQ
-    * op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
-    * op div *tmp161 :start_reactor:surplus .FLOW_REQ
+  730 op sub *tmp158 *tmp157 5000
+  731 op div *tmp159 *tmp158 23000
+  732 op mul :start_reactor:charge_units *tmp159 0.6
+  733 op div *tmp161 :start_reactor:surplus 2000
   734 op max :start_reactor:flow_units -0.1 *tmp161
-    * op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
-    * op add :start_reactor:cryo_req .CRYO_REQ *tmp163
-    * jump *label314 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
+  735 op mul *tmp163 2 3
+  736 op add :start_reactor:cryo_req 3 6
+  737 jump *label314 greaterThanEq .REACTORS_DESIRED 3
   738 print "IDLE"
   739 print "\n"
   740 set :start_reactor:supply_fuel false
 
   755 set :start_reactor:supply_fuel false
   756 jump *label326 always
   757 label *label315
-    * jump *label320 equal :start_reactor:fuel_on false
+  758 jump *label320 equal :fuel_3 false
   759 label *label316
-    * jump *label320 greaterThanEq :start_reactor:fuel .FUEL_REQ
+  760 jump *label320 greaterThanEq :start_reactor:fuel 10
   761 label *label317
   762 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
-    * jump *label318 lessThanEq *tmp178 .FUEL_REQ
+  763 jump *label318 lessThanEq *tmp178 10
   764 print "WAIT fuel"
   765 print "\n"
   766 jump *label319 always
 
   770 label *label319
   771 jump *label325 always
   772 label *label320
-    * op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
-    * jump *label321 greaterThanEq :start_reactor:fuel_stored *tmp181
+  773 op mul *tmp181 45 3
+  774 jump *label321 greaterThanEq :start_reactor:fuel_stored 135
   775 print "WAIT buffer fuel"
   776 print "\n"
   777 jump *label324 always
   778 label *label321
-    * jump *label322 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
+  779 jump *label322 greaterThanEq :start_reactor:cryo 9
   780 print "WAIT cryo"
   781 print "\n"
   782 jump *label323 always
   783 label *label322
   784 print "STARTUP"
   785 print "\n"
-    * op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
-    * control enabled :start_reactor:reactor true
+  786 op add .START_POWER_REQ .START_POWER_REQ 23000
+  787 control enabled reactor3 true
   788 label *label323
   789 label *label324
   790 label *label325
 
   792 label *label327
   793 label *label328
   794 label *label329
-    * sensor *tmp188 :start_reactor:reactor @enabled
-    * select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
+  795 sensor *tmp188 reactor3 @enabled
+  796 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup3
   797 set :start_reactor*retval :start_reactor:supply_fuel
   798 jump *label330 always
   799 label *label330
-    * set :fuel_3 :start_reactor*retval
+  800 set :fuel_3 :start_reactor:supply_fuel
   801 set :t_startup3 .RET_T_STARTUP
   802 set :start_reactor:reactor reactor4
   803 set :start_reactor:reactor_num 4

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
   598 label *label191
   599 label *label192
   600 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
-    * set :start_reactor:reactor reactor3
-    * set :start_reactor:reactor_num 3
-    * set :start_reactor:emerg_shutdown :emerg_shutdown
-    * set :start_reactor:fuel_on :fuel_3
-    * set :start_reactor:t_startup :t_startup3
   601 label *label285
   602 op sub *tmp104 @tick :t_startup3
   603 op idiv :start_reactor:secs *tmp104 60
 
   724 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
   725 op sub *tmp158 *tmp157 5000
   726 op div *tmp159 *tmp158 23000
-    * op mul :start_reactor:charge_units *tmp159 0.6
+  727 op div :start_reactor:charge_units *tmp158 38333.333333333336
   728 op div *tmp161 :start_reactor:surplus 2000
   729 op max :start_reactor:flow_units -0.1 *tmp161
   730 op mul *tmp163 2 3
 
   789 label *label329
   790 sensor *tmp188 reactor3 @enabled
   791 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup3
-    * set :start_reactor*retval :start_reactor:supply_fuel
   792 jump *label330 always
   793 label *label330
   794 set :fuel_3 :start_reactor:supply_fuel

Modifications by Iterated phase, Jump Normalization, pass 2, iteration 1 (-2 instructions):
 
   203 print "\n"
   204 jump *label220 always
   205 label *label195
-    * jump *label198 lessThanEq 1 1
+  206 jump *label198 always
   207 label *label196
   208 op mul *tmp128 15 1
   209 jump *label198 greaterThanEq :start_reactor:fuel_stored 15
 
   404 print "\n"
   405 jump *label266 always
   406 label *label241
-    * jump *label244 lessThanEq 2 1
   407 label *label242
   408 op mul *tmp128 15 2
   409 jump *label244 greaterThanEq :start_reactor:fuel_stored 30
 
   632 print "\n"
   633 jump *label312 always
   634 label *label287
-    * jump *label290 lessThanEq 3 1
   635 label *label288
   636 op mul *tmp128 15 3
   637 jump *label290 greaterThanEq :start_reactor:fuel_stored 45

Modifications by Iterated phase, Condition Optimization, pass 2, iteration 1 (-1 instructions):
 
   888 print "n"
   889 label *label49
   890 label *label42
-    * op lessThan *tmp29 :throttle_blast:fuel_stored :throttle_blast:limit
   891 jump *label40 always
   892 label *label40
-    * select *tmp46 notEqual *tmp29 false @pyratite @scrap
+  893 select *tmp46 lessThan :throttle_blast:fuel_stored :throttle_blast:limit @pyratite @scrap
   894 control config unloader7 *tmp46
   895 sensor *tmp48 node1 @powerNetStored
   896 sensor *tmp49 node1 @powerNetCapacity

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-20 instructions):
 
    55 control enabled projector1 false
    56 control enabled projector2 false
    57 set :check_radar*retval false
-    * jump *label188 always
    58 label *label187
    59 label *label188
    60 jump *label12 equal switch1 null
 
    69 label *label12
    70 label *label13
    71 set *tmp8 false
-    * jump *label11 always
    72 label *label11
    73 op or :emerg_shutdown :check_radar*retval *tmp8
    74 label *label149
 
    87 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
    88 op idiv :calc_charge_req:charge_req *tmp101 0.04
    89 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label154 always
    90 label *label154
    91 set .START_POWER_REQ :calc_charge_req*retval
    92 label *label155
 
   105 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   106 op idiv :calc_charge_req:charge_req *tmp101 0.04
   107 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label160 always
   108 label *label160
   109 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   110 label *label161
 
   123 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   124 op idiv :calc_charge_req:charge_req *tmp101 0.04
   125 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label166 always
   126 label *label166
   127 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   128 label *label167
 
   141 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   142 op idiv :calc_charge_req:charge_req *tmp101 0.04
   143 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label172 always
   144 label *label172
   145 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   146 label *label173
 
   159 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   160 op idiv :calc_charge_req:charge_req *tmp101 0.04
   161 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label178 always
   162 label *label178
   163 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
   164 label *label193
 
   235 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   236 op idiv :calc_charge_req:charge_req *tmp101 0.04
   237 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label206 always
   238 label *label206
   239 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   240 jump *label209 greaterThanEq *tmp143 5000
 
   351 label *label237
   352 sensor *tmp188 reactor1 @enabled
   353 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup1
-    * jump *label238 always
   354 label *label238
   355 set :fuel_1 :start_reactor:supply_fuel
   356 set :t_startup1 .RET_T_STARTUP
 
   433 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   434 op idiv :calc_charge_req:charge_req *tmp101 0.04
   435 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label252 always
   436 label *label252
   437 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   438 jump *label255 greaterThanEq *tmp143 5000
 
   549 label *label283
   550 sensor *tmp188 reactor2 @enabled
   551 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup2
-    * jump *label284 always
   552 label *label284
   553 set :fuel_2 :start_reactor:supply_fuel
   554 set :t_startup2 .RET_T_STARTUP
 
   582 control enabled projector1 false
   583 control enabled projector2 false
   584 set :check_radar*retval false
-    * jump *label192 always
   585 label *label191
   586 label *label192
   587 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
 
   658 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   659 op idiv :calc_charge_req:charge_req *tmp101 0.04
   660 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label298 always
   661 label *label298
   662 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   663 jump *label301 greaterThanEq *tmp143 5000
 
   774 label *label329
   775 sensor *tmp188 reactor3 @enabled
   776 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup3
-    * jump *label330 always
   777 label *label330
   778 set :fuel_3 :start_reactor:supply_fuel
   779 set :t_startup3 .RET_T_STARTUP
 
   874 print "n"
   875 label *label49
   876 label *label42
-    * jump *label40 always
   877 label *label40
   878 select *tmp46 lessThan :throttle_blast:fuel_stored :throttle_blast:limit @pyratite @scrap
   879 control config unloader7 *tmp46
 
   897 label *label137
   898 op idiv *tmp85 .AVG_SURPLUS 100
   899 op div :kilo*retval *tmp85 10
-    * jump *label138 always
   900 label *label138
   901 set :surplus :kilo*retval
   902 sensor :kilo:val node1 @powerNetStored
   903 label *label139
   904 op idiv *tmp85 :kilo:val 100
   905 op div :kilo*retval *tmp85 10
-    * jump *label140 always
   906 label *label140
   907 set :charge :kilo*retval
   908 jump *label59 lessThanEq .START_POWER_REQ 0
   909 label *label141
   910 op idiv *tmp85 .START_POWER_REQ 100
   911 op div :kilo*retval *tmp85 10
-    * jump *label142 always
   912 label *label142
   913 print "Req "
   914 print :kilo*retval
 
  1039 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
  1040 op idiv :calc_charge_req:charge_req *tmp101 0.04
  1041 set :calc_charge_req*retval :calc_charge_req:charge_req
-    * jump *label184 always
  1042 label *label184
  1043 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
  1044 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
 
  1156 sensor *tmp188 :start_reactor:reactor @enabled
  1157 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
  1158 set :start_reactor*retval :start_reactor:supply_fuel
-    * jump *label86 always
  1159 label *label86
  1160 return :start_reactor*retaddr
  1161 end

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-2 instructions):
 
   896 label *label52
   897 label *label137
   898 op idiv *tmp85 .AVG_SURPLUS 100
-    * op div :kilo*retval *tmp85 10
+  899 op div :surplus *tmp85 10
   900 label *label138
-    * set :surplus :kilo*retval
   901 sensor :kilo:val node1 @powerNetStored
   902 label *label139
   903 op idiv *tmp85 :kilo:val 100
 
   968 op sub *tmp104 @tick :start_reactor:t_startup
   969 op idiv :start_reactor:secs *tmp104 60
   970 sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
-    * set :start_reactor:supply_fuel true
+  971 set :start_reactor*retval true
   972 sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
   973 sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
   974 sensor *tmp109 .NODE @powerNetStored
 
   989 control enabled :start_reactor:reactor false
   990 print "emergency mode"
   991 print "\n"
-    * set :start_reactor:supply_fuel false
+  992 set :start_reactor*retval false
   993 jump *label88 always
   994 label *label87
   995 jump *label89 equal :start_reactor:enabled false
 
  1047 control enabled :start_reactor:reactor false
  1048 print "START FAIL battery"
  1049 print "\n"
-    * set :start_reactor:supply_fuel false
+ 1050 set :start_reactor*retval false
  1051 jump *label105 always
  1052 label *label104
  1053 op sub :start_reactor:time_left 30 :start_reactor:secs
 
  1068 control enabled :start_reactor:reactor false
  1069 print "ABANDON - battery crit"
  1070 print "\n"
-    * set :start_reactor:supply_fuel false
+ 1071 set :start_reactor*retval false
  1072 jump *label109 always
  1073 label *label108
  1074 op idiv :start_reactor:mins :start_reactor:secs 6
 
  1097 jump *label112 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
  1098 print "IDLE"
  1099 print "\n"
-    * set :start_reactor:supply_fuel false
+ 1100 set :start_reactor*retval false
  1101 jump *label113 always
  1102 label *label112
  1103 op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
 
  1112 print :start_reactor:flow
  1113 print "W)"
  1114 print "\n"
-    * set :start_reactor:supply_fuel false
+ 1115 set :start_reactor*retval false
  1116 jump *label115 always
  1117 label *label114
  1118 jump *label116 equal :start_reactor:fuel_on false
 
  1154 label *label88
  1155 sensor *tmp188 :start_reactor:reactor @enabled
  1156 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
-    * set :start_reactor*retval :start_reactor:supply_fuel
  1157 label *label86
  1158 return :start_reactor*retaddr
  1159 end

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2:
 
   798 set :fuel_5 :start_reactor*retval
   799 set :t_startup5 .RET_T_STARTUP
   800 set *tmp26 true
-    * jump *label30 notEqual :fuel_3 false
+  801 jump *label30 notEqual :start_reactor:supply_fuel false
   802 label *label33
   803 jump *label30 notEqual :fuel_4 false
   804 label *label31

Modifications by Jumps phase, Jump Normalization, pass 4, iteration 1:
 
    31 label *label7
    32 set .CONTAINER vault1
    33 set .NODE node1
-    * label *label185
    34 radar enemy any any health cyclone1 1 :check_radar:enemy_found
    35 jump *label186 equal :check_radar:enemy_found null
    36 control enabled projector1 true
 
    57 label *label187
    58 label *label188
    59 jump *label12 equal switch1 null
-    * label *label15
    60 sensor *tmp10 switch1 @enabled
    61 jump *label12 notEqual *tmp10 false
-    * label *label14
    62 print "User has disabled emergency switch"
    63 print "\n"
    64 set *tmp8 true
    65 jump *label11 always
    66 label *label12
-    * label *label13
    67 set *tmp8 false
    68 label *label11
    69 op or :emerg_shutdown :check_radar*retval *tmp8
-    * label *label149
    70 op sub *tmp94 @tick :t_startup1
    71 op idiv :calc_charge_req:secs *tmp94 60
    72 jump *label151 greaterThan :calc_charge_req:secs 30
-    * label *label150
    73 sensor *tmp97 reactor1 @enabled
    74 jump *label152 notEqual *tmp97 false
    75 label *label151
    76 set :calc_charge_req*retval 0
    77 jump *label154 always
    78 label *label152
-    * label *label153
    79 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
    80 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
    81 op idiv :calc_charge_req:charge_req *tmp101 0.04
    82 set :calc_charge_req*retval :calc_charge_req:charge_req
    83 label *label154
    84 set .START_POWER_REQ :calc_charge_req*retval
-    * label *label155
    85 op sub *tmp94 @tick :t_startup2
    86 op idiv :calc_charge_req:secs *tmp94 60
    87 jump *label157 greaterThan :calc_charge_req:secs 30
-    * label *label156
    88 sensor *tmp97 reactor2 @enabled
    89 jump *label158 notEqual *tmp97 false
    90 label *label157
    91 set :calc_charge_req*retval 0
    92 jump *label160 always
    93 label *label158
-    * label *label159
    94 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
    95 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
    96 op idiv :calc_charge_req:charge_req *tmp101 0.04
    97 set :calc_charge_req*retval :calc_charge_req:charge_req
    98 label *label160
    99 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * label *label161
   100 op sub *tmp94 @tick :t_startup3
   101 op idiv :calc_charge_req:secs *tmp94 60
   102 jump *label163 greaterThan :calc_charge_req:secs 30
-    * label *label162
   103 sensor *tmp97 reactor3 @enabled
   104 jump *label164 notEqual *tmp97 false
   105 label *label163
   106 set :calc_charge_req*retval 0
   107 jump *label166 always
   108 label *label164
-    * label *label165
   109 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   110 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   111 op idiv :calc_charge_req:charge_req *tmp101 0.04
   112 set :calc_charge_req*retval :calc_charge_req:charge_req
   113 label *label166
   114 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * label *label167
   115 op sub *tmp94 @tick :t_startup4
   116 op idiv :calc_charge_req:secs *tmp94 60
   117 jump *label169 greaterThan :calc_charge_req:secs 30
-    * label *label168
   118 sensor *tmp97 reactor4 @enabled
   119 jump *label170 notEqual *tmp97 false
   120 label *label169
   121 set :calc_charge_req*retval 0
   122 jump *label172 always
   123 label *label170
-    * label *label171
   124 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   125 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   126 op idiv :calc_charge_req:charge_req *tmp101 0.04
   127 set :calc_charge_req*retval :calc_charge_req:charge_req
   128 label *label172
   129 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * label *label173
   130 op sub *tmp94 @tick :t_startup5
   131 op idiv :calc_charge_req:secs *tmp94 60
   132 jump *label175 greaterThan :calc_charge_req:secs 30
-    * label *label174
   133 sensor *tmp97 reactor5 @enabled
   134 jump *label176 notEqual *tmp97 false
   135 label *label175
   136 set :calc_charge_req*retval 0
   137 jump *label178 always
   138 label *label176
-    * label *label177
   139 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   140 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   141 op idiv :calc_charge_req:charge_req *tmp101 0.04
   142 set :calc_charge_req*retval :calc_charge_req:charge_req
   143 label *label178
   144 op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
-    * label *label193
   145 op sub *tmp104 @tick :t_startup1
   146 op idiv :start_reactor:secs *tmp104 60
   147 sensor :start_reactor:fuel reactor1 @blast-compound
 
   177 jump *label220 always
   178 label *label195
   179 jump *label198 always
-    * label *label196
   180 op mul *tmp128 15 1
   181 jump *label198 greaterThanEq :start_reactor:fuel_stored 15
-    * label *label197
   182 control enabled reactor1 false
   183 print "STOP system fuel low"
   184 print "\n"
 
   197 jump *label217 always
   198 label *label200
   199 jump *label211 greaterThanEq :start_reactor:secs 30
-    * label *label201
   200 op sub *tmp94 @tick :t_startup1
   201 op idiv :calc_charge_req:secs *tmp94 60
   202 jump *label203 greaterThan :calc_charge_req:secs 30
-    * label *label202
   203 sensor *tmp97 reactor1 @enabled
   204 jump *label204 notEqual *tmp97 false
   205 label *label203
   206 set :calc_charge_req*retval 0
   207 jump *label206 always
   208 label *label204
-    * label *label205
   209 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   210 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   211 op idiv :calc_charge_req:charge_req *tmp101 0.04
 
   213 label *label206
   214 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   215 jump *label209 greaterThanEq *tmp143 5000
-    * label *label207
   216 jump *label209 greaterThanEq :start_reactor:surplus -500
-    * label *label208
   217 control enabled reactor1 false
   218 print "START FAIL battery"
   219 print "\n"
 
   232 jump *label216 always
   233 label *label211
   234 jump *label214 greaterThanEq :start_reactor:charge 2000
-    * label *label212
   235 jump *label214 greaterThanEq :start_reactor:surplus -500
-    * label *label213
   236 control enabled reactor1 false
   237 print "ABANDON - battery crit"
   238 print "\n"
 
   284 jump *label234 always
   285 label *label223
   286 jump *label228 equal :fuel_1 false
-    * label *label224
   287 jump *label228 greaterThanEq :start_reactor:fuel 10
-    * label *label225
   288 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   289 jump *label226 lessThanEq *tmp178 10
   290 print "WAIT fuel"
 
   320 label *label237
   321 sensor *tmp188 reactor1 @enabled
   322 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup1
-    * label *label238
   323 set :fuel_1 :start_reactor:supply_fuel
   324 set :t_startup1 .RET_T_STARTUP
-    * label *label143
   325 select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
   326 control config unloader1 *tmp89
   327 select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
   328 control config unloader2 *tmp93
-    * label *label144
-    * label *label239
   329 op sub *tmp104 @tick :t_startup2
   330 op idiv :start_reactor:secs *tmp104 60
   331 sensor :start_reactor:fuel reactor2 @blast-compound
 
   360 print "\n"
   361 jump *label266 always
   362 label *label241
-    * label *label242
   363 op mul *tmp128 15 2
   364 jump *label244 greaterThanEq :start_reactor:fuel_stored 30
-    * label *label243
   365 control enabled reactor2 false
   366 print "STOP system fuel low"
   367 print "\n"
 
   380 jump *label263 always
   381 label *label246
   382 jump *label257 greaterThanEq :start_reactor:secs 30
-    * label *label247
   383 op sub *tmp94 @tick :t_startup2
   384 op idiv :calc_charge_req:secs *tmp94 60
   385 jump *label249 greaterThan :calc_charge_req:secs 30
-    * label *label248
   386 sensor *tmp97 reactor2 @enabled
   387 jump *label250 notEqual *tmp97 false
   388 label *label249
   389 set :calc_charge_req*retval 0
   390 jump *label252 always
   391 label *label250
-    * label *label251
   392 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   393 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   394 op idiv :calc_charge_req:charge_req *tmp101 0.04
 
   396 label *label252
   397 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   398 jump *label255 greaterThanEq *tmp143 5000
-    * label *label253
   399 jump *label255 greaterThanEq :start_reactor:surplus -500
-    * label *label254
   400 control enabled reactor2 false
   401 print "START FAIL battery"
   402 print "\n"
 
   415 jump *label262 always
   416 label *label257
   417 jump *label260 greaterThanEq :start_reactor:charge 2000
-    * label *label258
   418 jump *label260 greaterThanEq :start_reactor:surplus -500
-    * label *label259
   419 control enabled reactor2 false
   420 print "ABANDON - battery crit"
   421 print "\n"
 
   467 jump *label280 always
   468 label *label269
   469 jump *label274 equal :fuel_2 false
-    * label *label270
   470 jump *label274 greaterThanEq :start_reactor:fuel 10
-    * label *label271
   471 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   472 jump *label272 lessThanEq *tmp178 10
   473 print "WAIT fuel"
 
   503 label *label283
   504 sensor *tmp188 reactor2 @enabled
   505 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup2
-    * label *label284
   506 set :fuel_2 :start_reactor:supply_fuel
   507 set :t_startup2 .RET_T_STARTUP
-    * label *label145
   508 select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
   509 control config unloader3 *tmp89
   510 select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
   511 control config unloader4 *tmp93
-    * label *label146
-    * label *label189
   512 radar enemy any any health cyclone1 1 :check_radar:enemy_found
   513 jump *label190 equal :check_radar:enemy_found null
   514 control enabled projector1 true
 
   535 label *label191
   536 label *label192
   537 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
-    * label *label285
   538 op sub *tmp104 @tick :t_startup3
   539 op idiv :start_reactor:secs *tmp104 60
   540 sensor :start_reactor:fuel reactor3 @blast-compound
 
   569 print "\n"
   570 jump *label312 always
   571 label *label287
-    * label *label288
   572 op mul *tmp128 15 3
   573 jump *label290 greaterThanEq :start_reactor:fuel_stored 45
-    * label *label289
   574 control enabled reactor3 false
   575 print "STOP system fuel low"
   576 print "\n"
 
   589 jump *label309 always
   590 label *label292
   591 jump *label303 greaterThanEq :start_reactor:secs 30
-    * label *label293
   592 op sub *tmp94 @tick :t_startup3
   593 op idiv :calc_charge_req:secs *tmp94 60
   594 jump *label295 greaterThan :calc_charge_req:secs 30
-    * label *label294
   595 sensor *tmp97 reactor3 @enabled
   596 jump *label296 notEqual *tmp97 false
   597 label *label295
   598 set :calc_charge_req*retval 0
   599 jump *label298 always
   600 label *label296
-    * label *label297
   601 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   602 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   603 op idiv :calc_charge_req:charge_req *tmp101 0.04
 
   605 label *label298
   606 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   607 jump *label301 greaterThanEq *tmp143 5000
-    * label *label299
   608 jump *label301 greaterThanEq :start_reactor:surplus -500
-    * label *label300
   609 control enabled reactor3 false
   610 print "START FAIL battery"
   611 print "\n"
 
   624 jump *label308 always
   625 label *label303
   626 jump *label306 greaterThanEq :start_reactor:charge 2000
-    * label *label304
   627 jump *label306 greaterThanEq :start_reactor:surplus -500
-    * label *label305
   628 control enabled reactor3 false
   629 print "ABANDON - battery crit"
   630 print "\n"
 
   676 jump *label326 always
   677 label *label315
   678 jump *label320 equal :fuel_3 false
-    * label *label316
   679 jump *label320 greaterThanEq :start_reactor:fuel 10
-    * label *label317
   680 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   681 jump *label318 lessThanEq *tmp178 10
   682 print "WAIT fuel"
 
   712 label *label329
   713 sensor *tmp188 reactor3 @enabled
   714 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup3
-    * label *label330
   715 set :fuel_3 :start_reactor:supply_fuel
   716 set :t_startup3 .RET_T_STARTUP
   717 set :start_reactor:reactor reactor4
 
   736 set :t_startup5 .RET_T_STARTUP
   737 set *tmp26 true
   738 jump *label30 notEqual :start_reactor:supply_fuel false
-    * label *label33
   739 jump *label30 notEqual :fuel_4 false
-    * label *label31
-    * label *label29
-    * label *label132
   740 op notEqual *tmp26 :start_reactor*retval false
   741 label *label30
-    * label *label147
   742 select *tmp89 notEqual *tmp26 false @blast-compound @scrap
   743 control config unloader5 *tmp89
   744 select *tmp93 equal *tmp26 false @blast-compound @scrap
   745 control config unloader6 *tmp93
-    * label *label148
   746 set *tmp28 true
   747 jump *label36 notEqual :fuel_1 false
-    * label *label39
   748 jump *label36 notEqual :fuel_2 false
-    * label *label37
-    * label *label35
-    * label *label135
   749 op notEqual *tmp28 *tmp26 false
   750 label *label36
   751 sensor *tmp30 node1 @powerNetStored
 
   756 op floor :throttle_blast:surplus *tmp34
   757 sensor :throttle_blast:fuel_stored vault1 @blast-compound
   758 jump *label44 greaterThanEq :throttle_blast:charge 5000
-    * label *label45
   759 jump *label43 lessThan :throttle_blast:surplus -500
   760 label *label44
   761 jump *label41 equal :emerg_shutdown false
 
   800 print "n"
   801 label *label49
   802 label *label42
-    * label *label40
   803 select *tmp46 lessThan :throttle_blast:fuel_stored :throttle_blast:limit @pyratite @scrap
   804 control config unloader7 *tmp46
   805 sensor *tmp48 node1 @powerNetStored
   806 sensor *tmp49 node1 @powerNetCapacity
   807 op div :diff_generators:stored_pc *tmp48 *tmp49
   808 jump *label53 lessThanEq :diff_generators:stored_pc 0.9
-    * label *label56
   809 jump *label53 greaterThanEq .START_POWER_REQ 10
-    * label *label55
   810 print "Differential now idle."
   811 print "\n"
   812 control enabled generator1 false
 
   816 control enabled generator1 true
   817 control enabled generator2 true
   818 label *label54
-    * label *label52
-    * label *label137
   819 op idiv *tmp85 .AVG_SURPLUS 100
   820 op div :surplus *tmp85 10
-    * label *label138
   821 sensor :kilo:val node1 @powerNetStored
-    * label *label139
   822 op idiv *tmp85 :kilo:val 100
   823 op div :kilo*retval *tmp85 10
-    * label *label140
   824 set :charge :kilo*retval
   825 jump *label59 lessThanEq .START_POWER_REQ 0
-    * label *label141
   826 op idiv *tmp85 .START_POWER_REQ 100
   827 op div :kilo*retval *tmp85 10
-    * label *label142
   828 print "Req "
   829 print :kilo*retval
   830 print "kJ / "
 
   845 sensor *tmp66 node1 @powerNetCapacity
   846 op div :update_reactors_desired:stored *tmp65 *tmp66
   847 jump *label63 lessThanEq :update_reactors_desired:stored 0.98
-    * label *label66
   848 jump *label63 lessThanEq .AVG_SURPLUS 16500
-    * label *label65
   849 jump *label67 lessThanEq .REACTORS_DESIRED 2
   850 op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
   851 op sub .AVG_SURPLUS .AVG_SURPLUS 6500
   852 label *label67
-    * label *label68
   853 label *label63
-    * label *label64
   854 jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
-    * label *label72
   855 jump *label69 greaterThanEq .AVG_SURPLUS 8000
-    * label *label71
   856 op sub *tmp78 .AVG_SURPLUS 10000
   857 op idiv *tmp79 *tmp78 6500
   858 op max :update_reactors_desired:needed 1 *tmp79
   859 op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
   860 op min .REACTORS_DESIRED 5 *tmp81
   861 label *label69
-    * label *label70
-    * label *label62
   862 label *label60
   863 jump *label73 equal .REACTORS_DESIRED 5
   864 print "Require only "
 
   866 print "/5 reactors."
   867 print "\n"
   868 label *label73
-    * label *label74
   869 printflush message1
-    * label *label8
   870 jump *label7 always
-    * label *label9
   871 end
   872 label *label3
   873 op sub *tmp104 @tick :start_reactor:t_startup
 
   905 jump *label92 always
   906 label *label91
   907 jump *label93 lessThanEq :start_reactor:reactor_num 1
-    * label *label96
   908 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
   909 jump *label93 greaterThanEq :start_reactor:fuel_stored *tmp128
-    * label *label95
   910 control enabled :start_reactor:reactor false
   911 print "STOP system fuel low"
   912 print "\n"
 
   925 jump *label100 always
   926 label *label99
   927 jump *label101 greaterThanEq :start_reactor:secs 30
-    * label *label179
   928 op sub *tmp94 @tick :start_reactor:t_startup
   929 op idiv :calc_charge_req:secs *tmp94 60
   930 jump *label181 greaterThan :calc_charge_req:secs 30
-    * label *label180
   931 sensor *tmp97 :start_reactor:reactor @enabled
   932 jump *label182 notEqual *tmp97 false
   933 label *label181
   934 set :calc_charge_req*retval 0
   935 jump *label184 always
   936 label *label182
-    * label *label183
   937 op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
   938 op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
   939 op idiv :calc_charge_req:charge_req *tmp101 0.04
 
   941 label *label184
   942 op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
   943 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
-    * label *label107
   944 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * label *label106
   945 control enabled :start_reactor:reactor false
   946 print "START FAIL battery"
   947 print "\n"
 
   960 jump *label102 always
   961 label *label101
   962 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
-    * label *label111
   963 jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
-    * label *label110
   964 control enabled :start_reactor:reactor false
   965 print "ABANDON - battery crit"
   966 print "\n"
 
  1012 jump *label115 always
  1013 label *label114
  1014 jump *label116 equal :start_reactor:fuel_on false
-    * label *label119
  1015 jump *label116 greaterThanEq :start_reactor:fuel .FUEL_REQ
-    * label *label118
  1016 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
  1017 jump *label120 lessThanEq *tmp178 .FUEL_REQ
  1018 print "WAIT fuel"
 
  1048 label *label88
  1049 sensor *tmp188 :start_reactor:reactor @enabled
  1050 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
-    * label *label86
  1051 return :start_reactor*retaddr
  1052 end

Modifications by Jumps phase, Jump Threading, pass 4, iteration 1:
 
   170 jump *label237 always
   171 label *label194
   172 jump *label221 equal :start_reactor:enabled false
-    * jump *label195 greaterThanEq .REACTORS_DESIRED 1
+  173 jump *label198 greaterThanEq .REACTORS_DESIRED 1
   174 control enabled reactor1 false
   175 print "STOP unwanted"
   176 print "\n"
-    * jump *label220 always
+  177 jump *label236 always
   178 label *label195
   179 jump *label198 always
   180 op mul *tmp128 15 1
 
   182 control enabled reactor1 false
   183 print "STOP system fuel low"
   184 print "\n"
-    * jump *label219 always
+  185 jump *label236 always
   186 label *label198
   187 jump *label199 greaterThan :start_reactor:fuel 1
   188 control enabled reactor1 false
   189 print "STOP fuel low"
   190 print "\n"
-    * jump *label218 always
+  191 jump *label236 always
   192 label *label199
   193 jump *label200 greaterThan :start_reactor:cryo 1
   194 control enabled reactor1 false
   195 print "STOP out of cryo"
   196 print "\n"
-    * jump *label217 always
+  197 jump *label236 always
   198 label *label200
   199 jump *label211 greaterThanEq :start_reactor:secs 30
   200 op sub *tmp94 @tick :t_startup1
 
   218 print "START FAIL battery"
   219 print "\n"
   220 set :start_reactor:supply_fuel false
-    * jump *label210 always
+  221 jump *label236 always
   222 label *label209
   223 op sub :start_reactor:time_left 30 :start_reactor:secs
   224 print "Starting "
 
   229 print "J"
   230 print "\n"
   231 label *label210
-    * jump *label216 always
+  232 jump *label236 always
   233 label *label211
   234 jump *label214 greaterThanEq :start_reactor:charge 2000
   235 jump *label214 greaterThanEq :start_reactor:surplus -500
 
   237 print "ABANDON - battery crit"
   238 print "\n"
   239 set :start_reactor:supply_fuel false
-    * jump *label215 always
+  240 jump *label236 always
   241 label *label214
   242 op idiv :start_reactor:mins :start_reactor:secs 6
   243 op div :start_reactor:mins :start_reactor:mins 10
 
   289 jump *label226 lessThanEq *tmp178 10
   290 print "WAIT fuel"
   291 print "\n"
-    * jump *label227 always
+  292 jump *label233 always
   293 label *label226
   294 print "WAIT system fuel"
   295 print "\n"
 
   358 control enabled reactor2 false
   359 print "STOP unwanted"
   360 print "\n"
-    * jump *label266 always
+  361 jump *label282 always
   362 label *label241
   363 op mul *tmp128 15 2
   364 jump *label244 greaterThanEq :start_reactor:fuel_stored 30
   365 control enabled reactor2 false
   366 print "STOP system fuel low"
   367 print "\n"
-    * jump *label265 always
+  368 jump *label282 always
   369 label *label244
   370 jump *label245 greaterThan :start_reactor:fuel 1
   371 control enabled reactor2 false
   372 print "STOP fuel low"
   373 print "\n"
-    * jump *label264 always
+  374 jump *label282 always
   375 label *label245
   376 jump *label246 greaterThan :start_reactor:cryo 1
   377 control enabled reactor2 false
   378 print "STOP out of cryo"
   379 print "\n"
-    * jump *label263 always
+  380 jump *label282 always
   381 label *label246
   382 jump *label257 greaterThanEq :start_reactor:secs 30
   383 op sub *tmp94 @tick :t_startup2
 
   401 print "START FAIL battery"
   402 print "\n"
   403 set :start_reactor:supply_fuel false
-    * jump *label256 always
+  404 jump *label282 always
   405 label *label255
   406 op sub :start_reactor:time_left 30 :start_reactor:secs
   407 print "Starting "
 
   412 print "J"
   413 print "\n"
   414 label *label256
-    * jump *label262 always
+  415 jump *label282 always
   416 label *label257
   417 jump *label260 greaterThanEq :start_reactor:charge 2000
   418 jump *label260 greaterThanEq :start_reactor:surplus -500
 
   420 print "ABANDON - battery crit"
   421 print "\n"
   422 set :start_reactor:supply_fuel false
-    * jump *label261 always
+  423 jump *label282 always
   424 label *label260
   425 op idiv :start_reactor:mins :start_reactor:secs 6
   426 op div :start_reactor:mins :start_reactor:mins 10
 
   472 jump *label272 lessThanEq *tmp178 10
   473 print "WAIT fuel"
   474 print "\n"
-    * jump *label273 always
+  475 jump *label279 always
   476 label *label272
   477 print "WAIT system fuel"
   478 print "\n"
 
   567 control enabled reactor3 false
   568 print "STOP unwanted"
   569 print "\n"
-    * jump *label312 always
+  570 jump *label328 always
   571 label *label287
   572 op mul *tmp128 15 3
   573 jump *label290 greaterThanEq :start_reactor:fuel_stored 45
   574 control enabled reactor3 false
   575 print "STOP system fuel low"
   576 print "\n"
-    * jump *label311 always
+  577 jump *label328 always
   578 label *label290
   579 jump *label291 greaterThan :start_reactor:fuel 1
   580 control enabled reactor3 false
   581 print "STOP fuel low"
   582 print "\n"
-    * jump *label310 always
+  583 jump *label328 always
   584 label *label291
   585 jump *label292 greaterThan :start_reactor:cryo 1
   586 control enabled reactor3 false
   587 print "STOP out of cryo"
   588 print "\n"
-    * jump *label309 always
+  589 jump *label328 always
   590 label *label292
   591 jump *label303 greaterThanEq :start_reactor:secs 30
   592 op sub *tmp94 @tick :t_startup3
 
   610 print "START FAIL battery"
   611 print "\n"
   612 set :start_reactor:supply_fuel false
-    * jump *label302 always
+  613 jump *label328 always
   614 label *label301
   615 op sub :start_reactor:time_left 30 :start_reactor:secs
   616 print "Starting "
 
   621 print "J"
   622 print "\n"
   623 label *label302
-    * jump *label308 always
+  624 jump *label328 always
   625 label *label303
   626 jump *label306 greaterThanEq :start_reactor:charge 2000
   627 jump *label306 greaterThanEq :start_reactor:surplus -500
 
   629 print "ABANDON - battery crit"
   630 print "\n"
   631 set :start_reactor:supply_fuel false
-    * jump *label307 always
+  632 jump *label328 always
   633 label *label306
   634 op idiv :start_reactor:mins :start_reactor:secs 6
   635 op div :start_reactor:mins :start_reactor:mins 10
 
   681 jump *label318 lessThanEq *tmp178 10
   682 print "WAIT fuel"
   683 print "\n"
-    * jump *label319 always
+  684 jump *label325 always
   685 label *label318
   686 print "WAIT system fuel"
   687 print "\n"
 
   771 jump *label46 equal :emerg_shutdown false
   772 print " Enemies detected."
   773 print "\n"
-    * jump *label47 always
+  774 jump *label42 always
   775 label *label46
   776 print " Critical power."
   777 print "\n"
 
   902 control enabled :start_reactor:reactor false
   903 print "STOP unwanted"
   904 print "\n"
-    * jump *label92 always
+  905 jump *label90 always
   906 label *label91
   907 jump *label93 lessThanEq :start_reactor:reactor_num 1
   908 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
 
   910 control enabled :start_reactor:reactor false
   911 print "STOP system fuel low"
   912 print "\n"
-    * jump *label94 always
+  913 jump *label90 always
   914 label *label93
   915 jump *label97 greaterThan :start_reactor:fuel 1
   916 control enabled :start_reactor:reactor false
   917 print "STOP fuel low"
   918 print "\n"
-    * jump *label98 always
+  919 jump *label90 always
   920 label *label97
   921 jump *label99 greaterThan :start_reactor:cryo .CRYO_ABORT
   922 control enabled :start_reactor:reactor false
   923 print "STOP out of cryo"
   924 print "\n"
-    * jump *label100 always
+  925 jump *label90 always
   926 label *label99
   927 jump *label101 greaterThanEq :start_reactor:secs 30
   928 op sub *tmp94 @tick :start_reactor:t_startup
 
   946 print "START FAIL battery"
   947 print "\n"
   948 set :start_reactor*retval false
-    * jump *label105 always
+  949 jump *label90 always
   950 label *label104
   951 op sub :start_reactor:time_left 30 :start_reactor:secs
   952 print "Starting "
 
   957 print "J"
   958 print "\n"
   959 label *label105
-    * jump *label102 always
+  960 jump *label90 always
   961 label *label101
   962 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
   963 jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
 
   965 print "ABANDON - battery crit"
   966 print "\n"
   967 set :start_reactor*retval false
-    * jump *label109 always
+  968 jump *label90 always
   969 label *label108
   970 op idiv :start_reactor:mins :start_reactor:secs 6
   971 op div :start_reactor:mins :start_reactor:mins 10
 
  1017 jump *label120 lessThanEq *tmp178 .FUEL_REQ
  1018 print "WAIT fuel"
  1019 print "\n"
-    * jump *label121 always
+ 1020 jump *label117 always
  1021 label *label120
  1022 print "WAIT system fuel"
  1023 print "\n"

Modifications by Jumps phase, Unreachable Code Elimination, pass 4, iteration 1 (-11 instructions):
 
    49 control enabled reactor5 false
    50 set :check_radar*retval true
    51 jump *label188 always
-    * jump *label187 always
    52 label *label186
    53 control enabled projector1 false
    54 control enabled projector2 false
 
   174 print "STOP unwanted"
   175 print "\n"
   176 jump *label236 always
-    * label *label195
-    * jump *label198 always
-    * op mul *tmp128 15 1
-    * jump *label198 greaterThanEq :start_reactor:fuel_stored 15
-    * control enabled reactor1 false
-    * print "STOP system fuel low"
-    * print "\n"
-    * jump *label236 always
   177 label *label198
   178 jump *label199 greaterThan :start_reactor:fuel 1
   179 control enabled reactor1 false
 
   219 print :calc_charge_req*retval
   220 print "J"
   221 print "\n"
-    * label *label210
   222 jump *label236 always
   223 label *label211
   224 jump *label214 greaterThanEq :start_reactor:charge 2000
 
   236 print " "
   237 print "mins"
   238 print "\n"
-    * label *label215
-    * label *label216
-    * label *label217
-    * label *label218
-    * label *label219
-    * label *label220
   239 jump *label236 always
   240 label *label221
   241 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   277 label *label226
   278 print "WAIT system fuel"
   279 print "\n"
-    * label *label227
   280 jump *label233 always
   281 label *label228
   282 op mul *tmp181 45 1
 
   394 print :calc_charge_req*retval
   395 print "J"
   396 print "\n"
-    * label *label256
   397 jump *label282 always
   398 label *label257
   399 jump *label260 greaterThanEq :start_reactor:charge 2000
 
   411 print " "
   412 print "mins"
   413 print "\n"
-    * label *label261
-    * label *label262
-    * label *label263
-    * label *label264
-    * label *label265
-    * label *label266
   414 jump *label282 always
   415 label *label267
   416 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   452 label *label272
   453 print "WAIT system fuel"
   454 print "\n"
-    * label *label273
   455 jump *label279 always
   456 label *label274
   457 op mul *tmp181 45 2
 
   502 control enabled reactor5 false
   503 set :check_radar*retval true
   504 jump *label192 always
-    * jump *label191 always
   505 label *label190
   506 control enabled projector1 false
   507 control enabled projector2 false
 
   594 print :calc_charge_req*retval
   595 print "J"
   596 print "\n"
-    * label *label302
   597 jump *label328 always
   598 label *label303
   599 jump *label306 greaterThanEq :start_reactor:charge 2000
 
   611 print " "
   612 print "mins"
   613 print "\n"
-    * label *label307
-    * label *label308
-    * label *label309
-    * label *label310
-    * label *label311
-    * label *label312
   614 jump *label328 always
   615 label *label313
   616 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   652 label *label318
   653 print "WAIT system fuel"
   654 print "\n"
-    * label *label319
   655 jump *label325 always
   656 label *label320
   657 op mul *tmp181 45 3
 
   741 label *label46
   742 print " Critical power."
   743 print "\n"
-    * label *label47
   744 jump *label42 always
   745 label *label41
   746 jump *label48 notEqual *tmp28 false
 
   833 label *label73
   834 printflush message1
   835 jump *label7 always
-    * end
   836 label *label3
   837 op sub *tmp104 @tick :start_reactor:t_startup
   838 op idiv :start_reactor:secs *tmp104 60
 
   920 print :calc_charge_req*retval
   921 print "J"
   922 print "\n"
-    * label *label105
   923 jump *label90 always
   924 label *label101
   925 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
 
   937 print " "
   938 print "mins"
   939 print "\n"
-    * label *label109
-    * label *label102
-    * label *label100
-    * label *label98
-    * label *label94
-    * label *label92
   940 jump *label90 always
   941 label *label89
   942 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   978 label *label120
   979 print "WAIT system fuel"
   980 print "\n"
-    * label *label121
   981 jump *label117 always
   982 label *label116
   983 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
 
  1005 sensor *tmp188 :start_reactor:reactor @enabled
  1006 select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
  1007 return :start_reactor*retaddr
-    * end

Modifications by Jumps phase, Dead Code Elimination, pass 4, iteration 1:
 
    53 control enabled projector1 false
    54 control enabled projector2 false
    55 set :check_radar*retval false
-    * label *label187
    56 label *label188
    57 jump *label12 equal switch1 null
    58 sensor *tmp10 switch1 @enabled
 
   505 control enabled projector1 false
   506 control enabled projector2 false
   507 set :check_radar*retval false
-    * label *label191
   508 label *label192
   509 op or :emerg_shutdown :emerg_shutdown :check_radar*retval
   510 op sub *tmp104 @tick :t_startup3

Modifications by Final phase, Print Merging, iteration 1 (-131 instructions):
 
    57 jump *label12 equal switch1 null
    58 sensor *tmp10 switch1 @enabled
    59 jump *label12 notEqual *tmp10 false
-    * print "User has disabled emergency switch"
-    * print "\n"
+   60 print "User has disabled emergency switch\n"
    61 set *tmp8 true
    62 jump *label11 always
    63 label *label12
 
   155 op mul *tmp116 :start_reactor:surplus 0.2
   156 op add .AVG_SURPLUS *tmp115 *tmp116
   157 sensor :start_reactor:enabled reactor1 @enabled
-    * print "#"
-    * print 1
-    * print " "
-    * print "- "
+  158 print "#1 - "
   159 jump *label194 equal :emerg_shutdown false
   160 control enabled reactor1 false
-    * print "emergency mode"
-    * print "\n"
+  161 print "emergency mode\n"
   162 set :start_reactor:supply_fuel false
   163 jump *label237 always
   164 label *label194
   165 jump *label221 equal :start_reactor:enabled false
   166 jump *label198 greaterThanEq .REACTORS_DESIRED 1
   167 control enabled reactor1 false
-    * print "STOP unwanted"
-    * print "\n"
+  168 print "STOP unwanted\n"
   169 jump *label236 always
   170 label *label198
   171 jump *label199 greaterThan :start_reactor:fuel 1
   172 control enabled reactor1 false
-    * print "STOP fuel low"
-    * print "\n"
+  173 print "STOP fuel low\n"
   174 jump *label236 always
   175 label *label199
   176 jump *label200 greaterThan :start_reactor:cryo 1
   177 control enabled reactor1 false
-    * print "STOP out of cryo"
-    * print "\n"
+  178 print "STOP out of cryo\n"
   179 jump *label236 always
   180 label *label200
   181 jump *label211 greaterThanEq :start_reactor:secs 30
 
   197 jump *label209 greaterThanEq *tmp143 5000
   198 jump *label209 greaterThanEq :start_reactor:surplus -500
   199 control enabled reactor1 false
-    * print "START FAIL battery"
-    * print "\n"
+  200 print "START FAIL battery\n"
   201 set :start_reactor:supply_fuel false
   202 jump *label236 always
   203 label *label209
   204 op sub :start_reactor:time_left 30 :start_reactor:secs
-    * print "Starting "
-    * print :start_reactor:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req*retval
-    * print "J"
-    * print "\n"
+  205 print "Starting {0} secs, req {0}J\n"
+  206 format :start_reactor:time_left
+  207 format :calc_charge_req*retval
   208 jump *label236 always
   209 label *label211
   210 jump *label214 greaterThanEq :start_reactor:charge 2000
   211 jump *label214 greaterThanEq :start_reactor:surplus -500
   212 control enabled reactor1 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  213 print "ABANDON - battery crit\n"
   214 set :start_reactor:supply_fuel false
   215 jump *label236 always
   216 label *label214
   217 op idiv :start_reactor:mins :start_reactor:secs 6
   218 op div :start_reactor:mins :start_reactor:mins 10
-    * print "RUN "
-    * print :start_reactor:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  219 print "RUN {0} mins\n"
+  220 format :start_reactor:mins
   221 jump *label236 always
   222 label *label221
   223 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   229 op mul *tmp163 2 1
   230 op add :start_reactor:cryo_req 3 2
   231 jump *label222 greaterThanEq .REACTORS_DESIRED 1
-    * print "IDLE"
-    * print "\n"
+  232 print "IDLE\n"
   233 set :start_reactor:supply_fuel false
   234 jump *label235 always
   235 label *label222
 
   239 op div :start_reactor:flow *tmp171 10
   240 op idiv *tmp174 :start_reactor:charge_units 0.001
   241 op div :start_reactor:charge *tmp174 10
-    * print "WAIT power. (%"
-    * print :start_reactor:charge
-    * print "J + %"
-    * print :start_reactor:flow
-    * print "W)"
-    * print "\n"
+  242 print "WAIT power. (%{0}J + %{0}W)\n"
+  243 format :start_reactor:charge
+  244 format :start_reactor:flow
   245 set :start_reactor:supply_fuel false
   246 jump *label234 always
   247 label *label223
 
   249 jump *label228 greaterThanEq :start_reactor:fuel 10
   250 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   251 jump *label226 lessThanEq *tmp178 10
-    * print "WAIT fuel"
-    * print "\n"
+  252 print "WAIT fuel\n"
   253 jump *label233 always
   254 label *label226
-    * print "WAIT system fuel"
-    * print "\n"
+  255 print "WAIT system fuel\n"
   256 jump *label233 always
   257 label *label228
   258 op mul *tmp181 45 1
   259 jump *label229 greaterThanEq :start_reactor:fuel_stored 45
-    * print "WAIT buffer fuel"
-    * print "\n"
+  260 print "WAIT buffer fuel\n"
   261 jump *label232 always
   262 label *label229
   263 jump *label230 greaterThanEq :start_reactor:cryo 5
-    * print "WAIT cryo"
-    * print "\n"
+  264 print "WAIT cryo\n"
   265 jump *label231 always
   266 label *label230
-    * print "STARTUP"
-    * print "\n"
+  267 print "STARTUP\n"
   268 op add .START_POWER_REQ .START_POWER_REQ 23000
   269 control enabled reactor1 true
   270 label *label231
 
   298 op mul *tmp116 :start_reactor:surplus 0.2
   299 op add .AVG_SURPLUS *tmp115 *tmp116
   300 sensor :start_reactor:enabled reactor2 @enabled
-    * print "#"
-    * print 2
-    * print " "
-    * print "- "
+  301 print "#2 - "
   302 jump *label240 equal :emerg_shutdown false
   303 control enabled reactor2 false
-    * print "emergency mode"
-    * print "\n"
+  304 print "emergency mode\n"
   305 set :start_reactor:supply_fuel false
   306 jump *label283 always
   307 label *label240
   308 jump *label267 equal :start_reactor:enabled false
   309 jump *label241 greaterThanEq .REACTORS_DESIRED 2
   310 control enabled reactor2 false
-    * print "STOP unwanted"
-    * print "\n"
+  311 print "STOP unwanted\n"
   312 jump *label282 always
   313 label *label241
   314 op mul *tmp128 15 2
   315 jump *label244 greaterThanEq :start_reactor:fuel_stored 30
   316 control enabled reactor2 false
-    * print "STOP system fuel low"
-    * print "\n"
+  317 print "STOP system fuel low\n"
   318 jump *label282 always
   319 label *label244
   320 jump *label245 greaterThan :start_reactor:fuel 1
   321 control enabled reactor2 false
-    * print "STOP fuel low"
-    * print "\n"
+  322 print "STOP fuel low\n"
   323 jump *label282 always
   324 label *label245
   325 jump *label246 greaterThan :start_reactor:cryo 1
   326 control enabled reactor2 false
-    * print "STOP out of cryo"
-    * print "\n"
+  327 print "STOP out of cryo\n"
   328 jump *label282 always
   329 label *label246
   330 jump *label257 greaterThanEq :start_reactor:secs 30
 
   346 jump *label255 greaterThanEq *tmp143 5000
   347 jump *label255 greaterThanEq :start_reactor:surplus -500
   348 control enabled reactor2 false
-    * print "START FAIL battery"
-    * print "\n"
+  349 print "START FAIL battery\n"
   350 set :start_reactor:supply_fuel false
   351 jump *label282 always
   352 label *label255
   353 op sub :start_reactor:time_left 30 :start_reactor:secs
-    * print "Starting "
-    * print :start_reactor:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req*retval
-    * print "J"
-    * print "\n"
+  354 print "Starting {0} secs, req {0}J\n"
+  355 format :start_reactor:time_left
+  356 format :calc_charge_req*retval
   357 jump *label282 always
   358 label *label257
   359 jump *label260 greaterThanEq :start_reactor:charge 2000
   360 jump *label260 greaterThanEq :start_reactor:surplus -500
   361 control enabled reactor2 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  362 print "ABANDON - battery crit\n"
   363 set :start_reactor:supply_fuel false
   364 jump *label282 always
   365 label *label260
   366 op idiv :start_reactor:mins :start_reactor:secs 6
   367 op div :start_reactor:mins :start_reactor:mins 10
-    * print "RUN "
-    * print :start_reactor:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  368 print "RUN {0} mins\n"
+  369 format :start_reactor:mins
   370 jump *label282 always
   371 label *label267
   372 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   378 op mul *tmp163 2 2
   379 op add :start_reactor:cryo_req 3 4
   380 jump *label268 greaterThanEq .REACTORS_DESIRED 2
-    * print "IDLE"
-    * print "\n"
+  381 print "IDLE\n"
   382 set :start_reactor:supply_fuel false
   383 jump *label281 always
   384 label *label268
 
   388 op div :start_reactor:flow *tmp171 10
   389 op idiv *tmp174 :start_reactor:charge_units 0.001
   390 op div :start_reactor:charge *tmp174 10
-    * print "WAIT power. (%"
-    * print :start_reactor:charge
-    * print "J + %"
-    * print :start_reactor:flow
-    * print "W)"
-    * print "\n"
+  391 print "WAIT power. (%{0}J + %{0}W)\n"
+  392 format :start_reactor:charge
+  393 format :start_reactor:flow
   394 set :start_reactor:supply_fuel false
   395 jump *label280 always
   396 label *label269
 
   398 jump *label274 greaterThanEq :start_reactor:fuel 10
   399 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   400 jump *label272 lessThanEq *tmp178 10
-    * print "WAIT fuel"
-    * print "\n"
+  401 print "WAIT fuel\n"
   402 jump *label279 always
   403 label *label272
-    * print "WAIT system fuel"
-    * print "\n"
+  404 print "WAIT system fuel\n"
   405 jump *label279 always
   406 label *label274
   407 op mul *tmp181 45 2
   408 jump *label275 greaterThanEq :start_reactor:fuel_stored 90
-    * print "WAIT buffer fuel"
-    * print "\n"
+  409 print "WAIT buffer fuel\n"
   410 jump *label278 always
   411 label *label275
   412 jump *label276 greaterThanEq :start_reactor:cryo 7
-    * print "WAIT cryo"
-    * print "\n"
+  413 print "WAIT cryo\n"
   414 jump *label277 always
   415 label *label276
-    * print "STARTUP"
-    * print "\n"
+  416 print "STARTUP\n"
   417 op add .START_POWER_REQ .START_POWER_REQ 23000
   418 control enabled reactor2 true
   419 label *label277
 
   471 op mul *tmp116 :start_reactor:surplus 0.2
   472 op add .AVG_SURPLUS *tmp115 *tmp116
   473 sensor :start_reactor:enabled reactor3 @enabled
-    * print "#"
-    * print 3
-    * print " "
-    * print "- "
+  474 print "#3 - "
   475 jump *label286 equal :emerg_shutdown false
   476 control enabled reactor3 false
-    * print "emergency mode"
-    * print "\n"
+  477 print "emergency mode\n"
   478 set :start_reactor:supply_fuel false
   479 jump *label329 always
   480 label *label286
   481 jump *label313 equal :start_reactor:enabled false
   482 jump *label287 greaterThanEq .REACTORS_DESIRED 3
   483 control enabled reactor3 false
-    * print "STOP unwanted"
-    * print "\n"
+  484 print "STOP unwanted\n"
   485 jump *label328 always
   486 label *label287
   487 op mul *tmp128 15 3
   488 jump *label290 greaterThanEq :start_reactor:fuel_stored 45
   489 control enabled reactor3 false
-    * print "STOP system fuel low"
-    * print "\n"
+  490 print "STOP system fuel low\n"
   491 jump *label328 always
   492 label *label290
   493 jump *label291 greaterThan :start_reactor:fuel 1
   494 control enabled reactor3 false
-    * print "STOP fuel low"
-    * print "\n"
+  495 print "STOP fuel low\n"
   496 jump *label328 always
   497 label *label291
   498 jump *label292 greaterThan :start_reactor:cryo 1
   499 control enabled reactor3 false
-    * print "STOP out of cryo"
-    * print "\n"
+  500 print "STOP out of cryo\n"
   501 jump *label328 always
   502 label *label292
   503 jump *label303 greaterThanEq :start_reactor:secs 30
 
   519 jump *label301 greaterThanEq *tmp143 5000
   520 jump *label301 greaterThanEq :start_reactor:surplus -500
   521 control enabled reactor3 false
-    * print "START FAIL battery"
-    * print "\n"
+  522 print "START FAIL battery\n"
   523 set :start_reactor:supply_fuel false
   524 jump *label328 always
   525 label *label301
   526 op sub :start_reactor:time_left 30 :start_reactor:secs
-    * print "Starting "
-    * print :start_reactor:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req*retval
-    * print "J"
-    * print "\n"
+  527 print "Starting {0} secs, req {0}J\n"
+  528 format :start_reactor:time_left
+  529 format :calc_charge_req*retval
   530 jump *label328 always
   531 label *label303
   532 jump *label306 greaterThanEq :start_reactor:charge 2000
   533 jump *label306 greaterThanEq :start_reactor:surplus -500
   534 control enabled reactor3 false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  535 print "ABANDON - battery crit\n"
   536 set :start_reactor:supply_fuel false
   537 jump *label328 always
   538 label *label306
   539 op idiv :start_reactor:mins :start_reactor:secs 6
   540 op div :start_reactor:mins :start_reactor:mins 10
-    * print "RUN "
-    * print :start_reactor:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  541 print "RUN {0} mins\n"
+  542 format :start_reactor:mins
   543 jump *label328 always
   544 label *label313
   545 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   551 op mul *tmp163 2 3
   552 op add :start_reactor:cryo_req 3 6
   553 jump *label314 greaterThanEq .REACTORS_DESIRED 3
-    * print "IDLE"
-    * print "\n"
+  554 print "IDLE\n"
   555 set :start_reactor:supply_fuel false
   556 jump *label327 always
   557 label *label314
 
   561 op div :start_reactor:flow *tmp171 10
   562 op idiv *tmp174 :start_reactor:charge_units 0.001
   563 op div :start_reactor:charge *tmp174 10
-    * print "WAIT power. (%"
-    * print :start_reactor:charge
-    * print "J + %"
-    * print :start_reactor:flow
-    * print "W)"
-    * print "\n"
+  564 print "WAIT power. (%{0}J + %{0}W)\n"
+  565 format :start_reactor:charge
+  566 format :start_reactor:flow
   567 set :start_reactor:supply_fuel false
   568 jump *label326 always
   569 label *label315
 
   571 jump *label320 greaterThanEq :start_reactor:fuel 10
   572 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   573 jump *label318 lessThanEq *tmp178 10
-    * print "WAIT fuel"
-    * print "\n"
+  574 print "WAIT fuel\n"
   575 jump *label325 always
   576 label *label318
-    * print "WAIT system fuel"
-    * print "\n"
+  577 print "WAIT system fuel\n"
   578 jump *label325 always
   579 label *label320
   580 op mul *tmp181 45 3
   581 jump *label321 greaterThanEq :start_reactor:fuel_stored 135
-    * print "WAIT buffer fuel"
-    * print "\n"
+  582 print "WAIT buffer fuel\n"
   583 jump *label324 always
   584 label *label321
   585 jump *label322 greaterThanEq :start_reactor:cryo 9
-    * print "WAIT cryo"
-    * print "\n"
+  586 print "WAIT cryo\n"
   587 jump *label323 always
   588 label *label322
-    * print "STARTUP"
-    * print "\n"
+  589 print "STARTUP\n"
   590 op add .START_POWER_REQ .START_POWER_REQ 23000
   591 control enabled reactor3 true
   592 label *label323
 
   647 jump *label41 equal :emerg_shutdown false
   648 label *label43
   649 set :throttle_blast:limit 0
-    * print "Central Fuel at "
-    * print :throttle_blast:fuel_stored
-    * print " "
-    * print "/ "
-    * print 0
-    * print " "
-    * print "- "
+  650 print "Central Fuel at {0} / 0 - "
+  651 format :throttle_blast:fuel_stored
   652 jump *label46 equal :emerg_shutdown false
-    * print " Enemies detected."
-    * print "\n"
+  653 print " Enemies detected.\n"
   654 jump *label42 always
   655 label *label46
-    * print " Critical power."
-    * print "\n"
+  656 print " Critical power.\n"
   657 jump *label42 always
   658 label *label41
   659 jump *label48 notEqual *tmp28 false
   660 set :throttle_blast:limit 150
-    * print "Fuel "
-    * print :throttle_blast:fuel_stored
-    * print " "
-    * print "/ "
-    * print 150
-    * print " "
-    * print "(due to emergency)"
-    * print "\n"
+  661 print "Fuel {0} / 150 (due to emergency)\n"
+  662 format :throttle_blast:fuel_stored
   663 jump *label49 always
   664 label *label48
   665 set :throttle_blast:limit 800
-    * print "Fuel "
-    * print :throttle_blast:fuel_stored
-    * print " "
-    * print "/ "
-    * print 800
-    * print "\"
-    * print "n"
+  666 print "Fuel {0} / 800\n"
+  667 format :throttle_blast:fuel_stored
   668 label *label49
   669 label *label42
   670 select *tmp46 lessThan :throttle_blast:fuel_stored :throttle_blast:limit @pyratite @scrap
 
   674 op div :diff_generators:stored_pc *tmp48 *tmp49
   675 jump *label53 lessThanEq :diff_generators:stored_pc 0.9
   676 jump *label53 greaterThanEq .START_POWER_REQ 10
-    * print "Differential now idle."
-    * print "\n"
+  677 print "Differential now idle.\n"
   678 control enabled generator1 false
   679 control enabled generator2 false
   680 jump *label54 always
 
   691 jump *label59 lessThanEq .START_POWER_REQ 0
   692 op idiv *tmp85 .START_POWER_REQ 100
   693 op div :kilo*retval *tmp85 10
-    * print "Req "
-    * print :kilo*retval
-    * print "kJ / "
-    * print :charge
-    * print "kJ. "
-    * print :surplus
-    * print "kW flow."
-    * print "\n"
+  694 print "Req {0}kJ / {0}kJ. {0}kW flow.\n"
+  695 format :kilo*retval
+  696 format :charge
+  697 format :surplus
   698 jump *label60 always
   699 label *label59
-    * print "Power "
-    * print :surplus
-    * print "kW, "
-    * print :kilo*retval
-    * print "kJ"
-    * print "\n"
+  700 print "Power {0}kW, {0}kJ\n"
+  701 format :surplus
+  702 format :kilo*retval
   703 sensor *tmp65 node1 @powerNetStored
   704 sensor *tmp66 node1 @powerNetCapacity
   705 op div :update_reactors_desired:stored *tmp65 *tmp66
 
   720 label *label69
   721 label *label60
   722 jump *label73 equal .REACTORS_DESIRED 5
-    * print "Require only "
-    * print .REACTORS_DESIRED
-    * print "/5 reactors."
-    * print "\n"
+  723 print "Require only {0}/5 reactors.\n"
+  724 format .REACTORS_DESIRED
   725 label *label73
   726 printflush message1
   727 jump *label7 always
 
   742 op mul *tmp116 :start_reactor:surplus 0.2
   743 op add .AVG_SURPLUS *tmp115 *tmp116
   744 sensor :start_reactor:enabled :start_reactor:reactor @enabled
-    * print "#"
-    * print :start_reactor:reactor_num
-    * print " "
-    * print "- "
+  745 print "#{0} - "
+  746 format :start_reactor:reactor_num
   747 jump *label87 equal :start_reactor:emerg_shutdown false
   748 control enabled :start_reactor:reactor false
-    * print "emergency mode"
-    * print "\n"
+  749 print "emergency mode\n"
   750 set :start_reactor*retval false
   751 jump *label88 always
   752 label *label87
   753 jump *label89 equal :start_reactor:enabled false
   754 jump *label91 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
   755 control enabled :start_reactor:reactor false
-    * print "STOP unwanted"
-    * print "\n"
+  756 print "STOP unwanted\n"
   757 jump *label90 always
   758 label *label91
   759 jump *label93 lessThanEq :start_reactor:reactor_num 1
   760 op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
   761 jump *label93 greaterThanEq :start_reactor:fuel_stored *tmp128
   762 control enabled :start_reactor:reactor false
-    * print "STOP system fuel low"
-    * print "\n"
+  763 print "STOP system fuel low\n"
   764 jump *label90 always
   765 label *label93
   766 jump *label97 greaterThan :start_reactor:fuel 1
   767 control enabled :start_reactor:reactor false
-    * print "STOP fuel low"
-    * print "\n"
+  768 print "STOP fuel low\n"
   769 jump *label90 always
   770 label *label97
   771 jump *label99 greaterThan :start_reactor:cryo .CRYO_ABORT
   772 control enabled :start_reactor:reactor false
-    * print "STOP out of cryo"
-    * print "\n"
+  773 print "STOP out of cryo\n"
   774 jump *label90 always
   775 label *label99
   776 jump *label101 greaterThanEq :start_reactor:secs 30
 
   792 jump *label104 greaterThanEq *tmp143 .PWR_ABORT
   793 jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
   794 control enabled :start_reactor:reactor false
-    * print "START FAIL battery"
-    * print "\n"
+  795 print "START FAIL battery\n"
   796 set :start_reactor*retval false
   797 jump *label90 always
   798 label *label104
   799 op sub :start_reactor:time_left 30 :start_reactor:secs
-    * print "Starting "
-    * print :start_reactor:time_left
-    * print " "
-    * print "secs, req "
-    * print :calc_charge_req*retval
-    * print "J"
-    * print "\n"
+  800 print "Starting {0} secs, req {0}J\n"
+  801 format :start_reactor:time_left
+  802 format :calc_charge_req*retval
   803 jump *label90 always
   804 label *label101
   805 jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
   806 jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
   807 control enabled :start_reactor:reactor false
-    * print "ABANDON - battery crit"
-    * print "\n"
+  808 print "ABANDON - battery crit\n"
   809 set :start_reactor*retval false
   810 jump *label90 always
   811 label *label108
   812 op idiv :start_reactor:mins :start_reactor:secs 6
   813 op div :start_reactor:mins :start_reactor:mins 10
-    * print "RUN "
-    * print :start_reactor:mins
-    * print " "
-    * print "mins"
-    * print "\n"
+  814 print "RUN {0} mins\n"
+  815 format :start_reactor:mins
   816 jump *label90 always
   817 label *label89
   818 op sub *tmp157 :start_reactor:charge .START_POWER_REQ
 
   824 op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
   825 op add :start_reactor:cryo_req .CRYO_REQ *tmp163
   826 jump *label112 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
-    * print "IDLE"
-    * print "\n"
+  827 print "IDLE\n"
   828 set :start_reactor*retval false
   829 jump *label113 always
   830 label *label112
 
   834 op div :start_reactor:flow *tmp171 10
   835 op idiv *tmp174 :start_reactor:charge_units 0.001
   836 op div :start_reactor:charge *tmp174 10
-    * print "WAIT power. (%"
-    * print :start_reactor:charge
-    * print "J + %"
-    * print :start_reactor:flow
-    * print "W)"
-    * print "\n"
+  837 print "WAIT power. (%{0}J + %{0}W)\n"
+  838 format :start_reactor:charge
+  839 format :start_reactor:flow
   840 set :start_reactor*retval false
   841 jump *label115 always
   842 label *label114
 
   844 jump *label116 greaterThanEq :start_reactor:fuel .FUEL_REQ
   845 op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
   846 jump *label120 lessThanEq *tmp178 .FUEL_REQ
-    * print "WAIT fuel"
-    * print "\n"
+  847 print "WAIT fuel\n"
   848 jump *label117 always
   849 label *label120
-    * print "WAIT system fuel"
-    * print "\n"
+  850 print "WAIT system fuel\n"
   851 jump *label117 always
   852 label *label116
   853 op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
   854 jump *label122 greaterThanEq :start_reactor:fuel_stored *tmp181
-    * print "WAIT buffer fuel"
-    * print "\n"
+  855 print "WAIT buffer fuel\n"
   856 jump *label123 always
   857 label *label122
   858 jump *label124 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
-    * print "WAIT cryo"
-    * print "\n"
+  859 print "WAIT cryo\n"
   860 jump *label125 always
   861 label *label124
-    * print "STARTUP"
-    * print "\n"
+  862 print "STARTUP\n"
   863 op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
   864 control enabled :start_reactor:reactor true
   865 label *label125

Final code before resolving virtual instructions:

printflush message1
set .PWR_REQ 23000
set .FLOW_REQ 2000
set .PWR_ABANDON 2000
set .PWR_ABORT 5000
set .PWR_RESERVE 0.6
set .FLOW_ABORT -500
set .FUEL_REQ 10
set .FUEL_TOT_REQ 45
set .FUEL_TOT_ABORT 15
set .CRYO_REQ 3
set .CRYO_REQ_EA 2
set .CRYO_ABORT 1
set :fuel_1 false
set :fuel_2 false
set :fuel_3 false
set :fuel_4 false
set :fuel_5 false
sensor *tmp0 node1 @powerNetIn
sensor *tmp1 node1 @powerNetOut
op sub *tmp2 *tmp0 *tmp1
op floor :surplus *tmp2
op sub *tmp218 @tick 3600
select *tmp5 greaterThan :surplus 10000 *tmp218 @tick
set :t_startup1 *tmp5
set :t_startup2 *tmp5
set :t_startup3 *tmp5
set :t_startup4 *tmp5
set :t_startup5 *tmp5
set .REACTORS_DESIRED 5
set .AVG_SURPLUS 500
label *label7
set .CONTAINER vault1
set .NODE node1
radar enemy any any health cyclone1 1 :check_radar:enemy_found
jump *label186 equal :check_radar:enemy_found null
control enabled projector1 true
control enabled projector2 true
control config unloader1 @scrap
control config unloader2 @blast-compound
control config unloader3 @scrap
control config unloader4 @blast-compound
control config unloader5 @scrap
control config unloader6 @blast-compound
control config unloader7 @scrap
control enabled reactor1 false
control enabled reactor2 false
control enabled reactor3 false
control enabled reactor4 false
control enabled reactor5 false
set :check_radar*retval true
jump *label188 always
label *label186
control enabled projector1 false
control enabled projector2 false
set :check_radar*retval false
label *label188
jump *label12 equal switch1 null
sensor *tmp10 switch1 @enabled
jump *label12 notEqual *tmp10 false
print "User has disabled emergency switch\n"
set *tmp8 true
jump *label11 always
label *label12
set *tmp8 false
label *label11
op or :emerg_shutdown :check_radar*retval *tmp8
op sub *tmp94 @tick :t_startup1
op idiv :calc_charge_req:secs *tmp94 60
jump *label151 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor1 @enabled
jump *label152 notEqual *tmp97 false
label *label151
set :calc_charge_req*retval 0
jump *label154 always
label *label152
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label154
set .START_POWER_REQ :calc_charge_req*retval
op sub *tmp94 @tick :t_startup2
op idiv :calc_charge_req:secs *tmp94 60
jump *label157 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor2 @enabled
jump *label158 notEqual *tmp97 false
label *label157
set :calc_charge_req*retval 0
jump *label160 always
label *label158
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label160
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
op sub *tmp94 @tick :t_startup3
op idiv :calc_charge_req:secs *tmp94 60
jump *label163 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor3 @enabled
jump *label164 notEqual *tmp97 false
label *label163
set :calc_charge_req*retval 0
jump *label166 always
label *label164
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label166
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
op sub *tmp94 @tick :t_startup4
op idiv :calc_charge_req:secs *tmp94 60
jump *label169 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor4 @enabled
jump *label170 notEqual *tmp97 false
label *label169
set :calc_charge_req*retval 0
jump *label172 always
label *label170
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label172
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
op sub *tmp94 @tick :t_startup5
op idiv :calc_charge_req:secs *tmp94 60
jump *label175 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor5 @enabled
jump *label176 notEqual *tmp97 false
label *label175
set :calc_charge_req*retval 0
jump *label178 always
label *label176
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label178
op add .START_POWER_REQ .START_POWER_REQ :calc_charge_req*retval
op sub *tmp104 @tick :t_startup1
op idiv :start_reactor:secs *tmp104 60
sensor :start_reactor:fuel reactor1 @blast-compound
set :start_reactor:supply_fuel true
sensor :start_reactor:fuel_stored vault1 @blast-compound
sensor :start_reactor:cryo reactor1 @cryofluid
sensor *tmp109 node1 @powerNetStored
op floor :start_reactor:charge *tmp109
sensor *tmp111 node1 @powerNetIn
sensor *tmp112 node1 @powerNetOut
op sub *tmp113 *tmp111 *tmp112
op floor :start_reactor:surplus *tmp113
op mul *tmp115 .AVG_SURPLUS 0.8
op mul *tmp116 :start_reactor:surplus 0.2
op add .AVG_SURPLUS *tmp115 *tmp116
sensor :start_reactor:enabled reactor1 @enabled
print "#1 - "
jump *label194 equal :emerg_shutdown false
control enabled reactor1 false
print "emergency mode\n"
set :start_reactor:supply_fuel false
jump *label237 always
label *label194
jump *label221 equal :start_reactor:enabled false
jump *label198 greaterThanEq .REACTORS_DESIRED 1
control enabled reactor1 false
print "STOP unwanted\n"
jump *label236 always
label *label198
jump *label199 greaterThan :start_reactor:fuel 1
control enabled reactor1 false
print "STOP fuel low\n"
jump *label236 always
label *label199
jump *label200 greaterThan :start_reactor:cryo 1
control enabled reactor1 false
print "STOP out of cryo\n"
jump *label236 always
label *label200
jump *label211 greaterThanEq :start_reactor:secs 30
op sub *tmp94 @tick :t_startup1
op idiv :calc_charge_req:secs *tmp94 60
jump *label203 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor1 @enabled
jump *label204 notEqual *tmp97 false
label *label203
set :calc_charge_req*retval 0
jump *label206 always
label *label204
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label206
op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
jump *label209 greaterThanEq *tmp143 5000
jump *label209 greaterThanEq :start_reactor:surplus -500
control enabled reactor1 false
print "START FAIL battery\n"
set :start_reactor:supply_fuel false
jump *label236 always
label *label209
op sub :start_reactor:time_left 30 :start_reactor:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor:time_left
format :calc_charge_req*retval
jump *label236 always
label *label211
jump *label214 greaterThanEq :start_reactor:charge 2000
jump *label214 greaterThanEq :start_reactor:surplus -500
control enabled reactor1 false
print "ABANDON - battery crit\n"
set :start_reactor:supply_fuel false
jump *label236 always
label *label214
op idiv :start_reactor:mins :start_reactor:secs 6
op div :start_reactor:mins :start_reactor:mins 10
print "RUN {0} mins\n"
format :start_reactor:mins
jump *label236 always
label *label221
op sub *tmp157 :start_reactor:charge .START_POWER_REQ
op sub *tmp158 *tmp157 5000
op div *tmp159 *tmp158 23000
op div :start_reactor:charge_units *tmp158 38333.333333333336
op div *tmp161 :start_reactor:surplus 2000
op max :start_reactor:flow_units -0.1 *tmp161
op mul *tmp163 2 1
op add :start_reactor:cryo_req 3 2
jump *label222 greaterThanEq .REACTORS_DESIRED 1
print "IDLE\n"
set :start_reactor:supply_fuel false
jump *label235 always
label *label222
op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
jump *label223 greaterThanEq *tmp167 1
op idiv *tmp171 :start_reactor:flow_units 0.001
op div :start_reactor:flow *tmp171 10
op idiv *tmp174 :start_reactor:charge_units 0.001
op div :start_reactor:charge *tmp174 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor:charge
format :start_reactor:flow
set :start_reactor:supply_fuel false
jump *label234 always
label *label223
jump *label228 equal :fuel_1 false
jump *label228 greaterThanEq :start_reactor:fuel 10
op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
jump *label226 lessThanEq *tmp178 10
print "WAIT fuel\n"
jump *label233 always
label *label226
print "WAIT system fuel\n"
jump *label233 always
label *label228
op mul *tmp181 45 1
jump *label229 greaterThanEq :start_reactor:fuel_stored 45
print "WAIT buffer fuel\n"
jump *label232 always
label *label229
jump *label230 greaterThanEq :start_reactor:cryo 5
print "WAIT cryo\n"
jump *label231 always
label *label230
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor1 true
label *label231
label *label232
label *label233
label *label234
label *label235
label *label236
label *label237
sensor *tmp188 reactor1 @enabled
select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup1
set :fuel_1 :start_reactor:supply_fuel
set :t_startup1 .RET_T_STARTUP
select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
control config unloader1 *tmp89
select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
control config unloader2 *tmp93
op sub *tmp104 @tick :t_startup2
op idiv :start_reactor:secs *tmp104 60
sensor :start_reactor:fuel reactor2 @blast-compound
set :start_reactor:supply_fuel true
sensor :start_reactor:fuel_stored vault1 @blast-compound
sensor :start_reactor:cryo reactor2 @cryofluid
sensor *tmp109 node1 @powerNetStored
op floor :start_reactor:charge *tmp109
sensor *tmp111 node1 @powerNetIn
sensor *tmp112 node1 @powerNetOut
op sub *tmp113 *tmp111 *tmp112
op floor :start_reactor:surplus *tmp113
op mul *tmp115 .AVG_SURPLUS 0.8
op mul *tmp116 :start_reactor:surplus 0.2
op add .AVG_SURPLUS *tmp115 *tmp116
sensor :start_reactor:enabled reactor2 @enabled
print "#2 - "
jump *label240 equal :emerg_shutdown false
control enabled reactor2 false
print "emergency mode\n"
set :start_reactor:supply_fuel false
jump *label283 always
label *label240
jump *label267 equal :start_reactor:enabled false
jump *label241 greaterThanEq .REACTORS_DESIRED 2
control enabled reactor2 false
print "STOP unwanted\n"
jump *label282 always
label *label241
op mul *tmp128 15 2
jump *label244 greaterThanEq :start_reactor:fuel_stored 30
control enabled reactor2 false
print "STOP system fuel low\n"
jump *label282 always
label *label244
jump *label245 greaterThan :start_reactor:fuel 1
control enabled reactor2 false
print "STOP fuel low\n"
jump *label282 always
label *label245
jump *label246 greaterThan :start_reactor:cryo 1
control enabled reactor2 false
print "STOP out of cryo\n"
jump *label282 always
label *label246
jump *label257 greaterThanEq :start_reactor:secs 30
op sub *tmp94 @tick :t_startup2
op idiv :calc_charge_req:secs *tmp94 60
jump *label249 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor2 @enabled
jump *label250 notEqual *tmp97 false
label *label249
set :calc_charge_req*retval 0
jump *label252 always
label *label250
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label252
op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
jump *label255 greaterThanEq *tmp143 5000
jump *label255 greaterThanEq :start_reactor:surplus -500
control enabled reactor2 false
print "START FAIL battery\n"
set :start_reactor:supply_fuel false
jump *label282 always
label *label255
op sub :start_reactor:time_left 30 :start_reactor:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor:time_left
format :calc_charge_req*retval
jump *label282 always
label *label257
jump *label260 greaterThanEq :start_reactor:charge 2000
jump *label260 greaterThanEq :start_reactor:surplus -500
control enabled reactor2 false
print "ABANDON - battery crit\n"
set :start_reactor:supply_fuel false
jump *label282 always
label *label260
op idiv :start_reactor:mins :start_reactor:secs 6
op div :start_reactor:mins :start_reactor:mins 10
print "RUN {0} mins\n"
format :start_reactor:mins
jump *label282 always
label *label267
op sub *tmp157 :start_reactor:charge .START_POWER_REQ
op sub *tmp158 *tmp157 5000
op div *tmp159 *tmp158 23000
op div :start_reactor:charge_units *tmp158 38333.333333333336
op div *tmp161 :start_reactor:surplus 2000
op max :start_reactor:flow_units -0.1 *tmp161
op mul *tmp163 2 2
op add :start_reactor:cryo_req 3 4
jump *label268 greaterThanEq .REACTORS_DESIRED 2
print "IDLE\n"
set :start_reactor:supply_fuel false
jump *label281 always
label *label268
op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
jump *label269 greaterThanEq *tmp167 1
op idiv *tmp171 :start_reactor:flow_units 0.001
op div :start_reactor:flow *tmp171 10
op idiv *tmp174 :start_reactor:charge_units 0.001
op div :start_reactor:charge *tmp174 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor:charge
format :start_reactor:flow
set :start_reactor:supply_fuel false
jump *label280 always
label *label269
jump *label274 equal :fuel_2 false
jump *label274 greaterThanEq :start_reactor:fuel 10
op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
jump *label272 lessThanEq *tmp178 10
print "WAIT fuel\n"
jump *label279 always
label *label272
print "WAIT system fuel\n"
jump *label279 always
label *label274
op mul *tmp181 45 2
jump *label275 greaterThanEq :start_reactor:fuel_stored 90
print "WAIT buffer fuel\n"
jump *label278 always
label *label275
jump *label276 greaterThanEq :start_reactor:cryo 7
print "WAIT cryo\n"
jump *label277 always
label *label276
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor2 true
label *label277
label *label278
label *label279
label *label280
label *label281
label *label282
label *label283
sensor *tmp188 reactor2 @enabled
select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup2
set :fuel_2 :start_reactor:supply_fuel
set :t_startup2 .RET_T_STARTUP
select *tmp89 notEqual :start_reactor:supply_fuel false @blast-compound @scrap
control config unloader3 *tmp89
select *tmp93 equal :start_reactor:supply_fuel false @blast-compound @scrap
control config unloader4 *tmp93
radar enemy any any health cyclone1 1 :check_radar:enemy_found
jump *label190 equal :check_radar:enemy_found null
control enabled projector1 true
control enabled projector2 true
control config unloader1 @scrap
control config unloader2 @blast-compound
control config unloader3 @scrap
control config unloader4 @blast-compound
control config unloader5 @scrap
control config unloader6 @blast-compound
control config unloader7 @scrap
control enabled reactor1 false
control enabled reactor2 false
control enabled reactor3 false
control enabled reactor4 false
control enabled reactor5 false
set :check_radar*retval true
jump *label192 always
label *label190
control enabled projector1 false
control enabled projector2 false
set :check_radar*retval false
label *label192
op or :emerg_shutdown :emerg_shutdown :check_radar*retval
op sub *tmp104 @tick :t_startup3
op idiv :start_reactor:secs *tmp104 60
sensor :start_reactor:fuel reactor3 @blast-compound
set :start_reactor:supply_fuel true
sensor :start_reactor:fuel_stored vault1 @blast-compound
sensor :start_reactor:cryo reactor3 @cryofluid
sensor *tmp109 node1 @powerNetStored
op floor :start_reactor:charge *tmp109
sensor *tmp111 node1 @powerNetIn
sensor *tmp112 node1 @powerNetOut
op sub *tmp113 *tmp111 *tmp112
op floor :start_reactor:surplus *tmp113
op mul *tmp115 .AVG_SURPLUS 0.8
op mul *tmp116 :start_reactor:surplus 0.2
op add .AVG_SURPLUS *tmp115 *tmp116
sensor :start_reactor:enabled reactor3 @enabled
print "#3 - "
jump *label286 equal :emerg_shutdown false
control enabled reactor3 false
print "emergency mode\n"
set :start_reactor:supply_fuel false
jump *label329 always
label *label286
jump *label313 equal :start_reactor:enabled false
jump *label287 greaterThanEq .REACTORS_DESIRED 3
control enabled reactor3 false
print "STOP unwanted\n"
jump *label328 always
label *label287
op mul *tmp128 15 3
jump *label290 greaterThanEq :start_reactor:fuel_stored 45
control enabled reactor3 false
print "STOP system fuel low\n"
jump *label328 always
label *label290
jump *label291 greaterThan :start_reactor:fuel 1
control enabled reactor3 false
print "STOP fuel low\n"
jump *label328 always
label *label291
jump *label292 greaterThan :start_reactor:cryo 1
control enabled reactor3 false
print "STOP out of cryo\n"
jump *label328 always
label *label292
jump *label303 greaterThanEq :start_reactor:secs 30
op sub *tmp94 @tick :t_startup3
op idiv :calc_charge_req:secs *tmp94 60
jump *label295 greaterThan :calc_charge_req:secs 30
sensor *tmp97 reactor3 @enabled
jump *label296 notEqual *tmp97 false
label *label295
set :calc_charge_req*retval 0
jump *label298 always
label *label296
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label298
op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
jump *label301 greaterThanEq *tmp143 5000
jump *label301 greaterThanEq :start_reactor:surplus -500
control enabled reactor3 false
print "START FAIL battery\n"
set :start_reactor:supply_fuel false
jump *label328 always
label *label301
op sub :start_reactor:time_left 30 :start_reactor:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor:time_left
format :calc_charge_req*retval
jump *label328 always
label *label303
jump *label306 greaterThanEq :start_reactor:charge 2000
jump *label306 greaterThanEq :start_reactor:surplus -500
control enabled reactor3 false
print "ABANDON - battery crit\n"
set :start_reactor:supply_fuel false
jump *label328 always
label *label306
op idiv :start_reactor:mins :start_reactor:secs 6
op div :start_reactor:mins :start_reactor:mins 10
print "RUN {0} mins\n"
format :start_reactor:mins
jump *label328 always
label *label313
op sub *tmp157 :start_reactor:charge .START_POWER_REQ
op sub *tmp158 *tmp157 5000
op div *tmp159 *tmp158 23000
op div :start_reactor:charge_units *tmp158 38333.333333333336
op div *tmp161 :start_reactor:surplus 2000
op max :start_reactor:flow_units -0.1 *tmp161
op mul *tmp163 2 3
op add :start_reactor:cryo_req 3 6
jump *label314 greaterThanEq .REACTORS_DESIRED 3
print "IDLE\n"
set :start_reactor:supply_fuel false
jump *label327 always
label *label314
op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
jump *label315 greaterThanEq *tmp167 1
op idiv *tmp171 :start_reactor:flow_units 0.001
op div :start_reactor:flow *tmp171 10
op idiv *tmp174 :start_reactor:charge_units 0.001
op div :start_reactor:charge *tmp174 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor:charge
format :start_reactor:flow
set :start_reactor:supply_fuel false
jump *label326 always
label *label315
jump *label320 equal :fuel_3 false
jump *label320 greaterThanEq :start_reactor:fuel 10
op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
jump *label318 lessThanEq *tmp178 10
print "WAIT fuel\n"
jump *label325 always
label *label318
print "WAIT system fuel\n"
jump *label325 always
label *label320
op mul *tmp181 45 3
jump *label321 greaterThanEq :start_reactor:fuel_stored 135
print "WAIT buffer fuel\n"
jump *label324 always
label *label321
jump *label322 greaterThanEq :start_reactor:cryo 9
print "WAIT cryo\n"
jump *label323 always
label *label322
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ 23000
control enabled reactor3 true
label *label323
label *label324
label *label325
label *label326
label *label327
label *label328
label *label329
sensor *tmp188 reactor3 @enabled
select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :t_startup3
set :fuel_3 :start_reactor:supply_fuel
set :t_startup3 .RET_T_STARTUP
set :start_reactor:reactor reactor4
set :start_reactor:reactor_num 4
set :start_reactor:emerg_shutdown :emerg_shutdown
set :start_reactor:fuel_on :fuel_4
set :start_reactor:t_startup :t_startup4
setaddr :start_reactor*retaddr *label27
call *label3 *invalid :start_reactor*retval
label *label27
set :fuel_4 :start_reactor*retval
set :t_startup4 .RET_T_STARTUP
set :start_reactor:reactor reactor5
set :start_reactor:reactor_num 5
set :start_reactor:emerg_shutdown :emerg_shutdown
set :start_reactor:fuel_on :fuel_5
set :start_reactor:t_startup :t_startup5
setaddr :start_reactor*retaddr *label28
call *label3 *invalid :start_reactor*retval
label *label28
set :fuel_5 :start_reactor*retval
set :t_startup5 .RET_T_STARTUP
set *tmp26 true
jump *label30 notEqual :start_reactor:supply_fuel false
jump *label30 notEqual :fuel_4 false
op notEqual *tmp26 :start_reactor*retval false
label *label30
select *tmp89 notEqual *tmp26 false @blast-compound @scrap
control config unloader5 *tmp89
select *tmp93 equal *tmp26 false @blast-compound @scrap
control config unloader6 *tmp93
set *tmp28 true
jump *label36 notEqual :fuel_1 false
jump *label36 notEqual :fuel_2 false
op notEqual *tmp28 *tmp26 false
label *label36
sensor *tmp30 node1 @powerNetStored
op floor :throttle_blast:charge *tmp30
sensor *tmp32 node1 @powerNetIn
sensor *tmp33 node1 @powerNetOut
op sub *tmp34 *tmp32 *tmp33
op floor :throttle_blast:surplus *tmp34
sensor :throttle_blast:fuel_stored vault1 @blast-compound
jump *label44 greaterThanEq :throttle_blast:charge 5000
jump *label43 lessThan :throttle_blast:surplus -500
label *label44
jump *label41 equal :emerg_shutdown false
label *label43
set :throttle_blast:limit 0
print "Central Fuel at {0} / 0 - "
format :throttle_blast:fuel_stored
jump *label46 equal :emerg_shutdown false
print " Enemies detected.\n"
jump *label42 always
label *label46
print " Critical power.\n"
jump *label42 always
label *label41
jump *label48 notEqual *tmp28 false
set :throttle_blast:limit 150
print "Fuel {0} / 150 (due to emergency)\n"
format :throttle_blast:fuel_stored
jump *label49 always
label *label48
set :throttle_blast:limit 800
print "Fuel {0} / 800\n"
format :throttle_blast:fuel_stored
label *label49
label *label42
select *tmp46 lessThan :throttle_blast:fuel_stored :throttle_blast:limit @pyratite @scrap
control config unloader7 *tmp46
sensor *tmp48 node1 @powerNetStored
sensor *tmp49 node1 @powerNetCapacity
op div :diff_generators:stored_pc *tmp48 *tmp49
jump *label53 lessThanEq :diff_generators:stored_pc 0.9
jump *label53 greaterThanEq .START_POWER_REQ 10
print "Differential now idle.\n"
control enabled generator1 false
control enabled generator2 false
jump *label54 always
label *label53
control enabled generator1 true
control enabled generator2 true
label *label54
op idiv *tmp85 .AVG_SURPLUS 100
op div :surplus *tmp85 10
sensor :kilo:val node1 @powerNetStored
op idiv *tmp85 :kilo:val 100
op div :kilo*retval *tmp85 10
set :charge :kilo*retval
jump *label59 lessThanEq .START_POWER_REQ 0
op idiv *tmp85 .START_POWER_REQ 100
op div :kilo*retval *tmp85 10
print "Req {0}kJ / {0}kJ. {0}kW flow.\n"
format :kilo*retval
format :charge
format :surplus
jump *label60 always
label *label59
print "Power {0}kW, {0}kJ\n"
format :surplus
format :kilo*retval
sensor *tmp65 node1 @powerNetStored
sensor *tmp66 node1 @powerNetCapacity
op div :update_reactors_desired:stored *tmp65 *tmp66
jump *label63 lessThanEq :update_reactors_desired:stored 0.98
jump *label63 lessThanEq .AVG_SURPLUS 16500
jump *label67 lessThanEq .REACTORS_DESIRED 2
op sub .REACTORS_DESIRED .REACTORS_DESIRED 1
op sub .AVG_SURPLUS .AVG_SURPLUS 6500
label *label67
label *label63
jump *label69 greaterThanEq :update_reactors_desired:stored 0.8
jump *label69 greaterThanEq .AVG_SURPLUS 8000
op sub *tmp78 .AVG_SURPLUS 10000
op idiv *tmp79 *tmp78 6500
op max :update_reactors_desired:needed 1 *tmp79
op add *tmp81 :update_reactors_desired:needed .REACTORS_DESIRED
op min .REACTORS_DESIRED 5 *tmp81
label *label69
label *label60
jump *label73 equal .REACTORS_DESIRED 5
print "Require only {0}/5 reactors.\n"
format .REACTORS_DESIRED
label *label73
printflush message1
jump *label7 always
label *label3
op sub *tmp104 @tick :start_reactor:t_startup
op idiv :start_reactor:secs *tmp104 60
sensor :start_reactor:fuel :start_reactor:reactor @blast-compound
set :start_reactor*retval true
sensor :start_reactor:fuel_stored .CONTAINER @blast-compound
sensor :start_reactor:cryo :start_reactor:reactor @cryofluid
sensor *tmp109 .NODE @powerNetStored
op floor :start_reactor:charge *tmp109
sensor *tmp111 .NODE @powerNetIn
sensor *tmp112 .NODE @powerNetOut
op sub *tmp113 *tmp111 *tmp112
op floor :start_reactor:surplus *tmp113
op mul *tmp115 .AVG_SURPLUS 0.8
op mul *tmp116 :start_reactor:surplus 0.2
op add .AVG_SURPLUS *tmp115 *tmp116
sensor :start_reactor:enabled :start_reactor:reactor @enabled
print "#{0} - "
format :start_reactor:reactor_num
jump *label87 equal :start_reactor:emerg_shutdown false
control enabled :start_reactor:reactor false
print "emergency mode\n"
set :start_reactor*retval false
jump *label88 always
label *label87
jump *label89 equal :start_reactor:enabled false
jump *label91 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
control enabled :start_reactor:reactor false
print "STOP unwanted\n"
jump *label90 always
label *label91
jump *label93 lessThanEq :start_reactor:reactor_num 1
op mul *tmp128 .FUEL_TOT_ABORT :start_reactor:reactor_num
jump *label93 greaterThanEq :start_reactor:fuel_stored *tmp128
control enabled :start_reactor:reactor false
print "STOP system fuel low\n"
jump *label90 always
label *label93
jump *label97 greaterThan :start_reactor:fuel 1
control enabled :start_reactor:reactor false
print "STOP fuel low\n"
jump *label90 always
label *label97
jump *label99 greaterThan :start_reactor:cryo .CRYO_ABORT
control enabled :start_reactor:reactor false
print "STOP out of cryo\n"
jump *label90 always
label *label99
jump *label101 greaterThanEq :start_reactor:secs 30
op sub *tmp94 @tick :start_reactor:t_startup
op idiv :calc_charge_req:secs *tmp94 60
jump *label181 greaterThan :calc_charge_req:secs 30
sensor *tmp97 :start_reactor:reactor @enabled
jump *label182 notEqual *tmp97 false
label *label181
set :calc_charge_req*retval 0
jump *label184 always
label *label182
op sub :calc_charge_req:time_left 30 :calc_charge_req:secs
op mul *tmp101 :calc_charge_req:time_left :calc_charge_req:time_left
op idiv :calc_charge_req:charge_req *tmp101 0.04
set :calc_charge_req*retval :calc_charge_req:charge_req
label *label184
op sub *tmp143 :start_reactor:charge :calc_charge_req*retval
jump *label104 greaterThanEq *tmp143 .PWR_ABORT
jump *label104 greaterThanEq :start_reactor:surplus .FLOW_ABORT
control enabled :start_reactor:reactor false
print "START FAIL battery\n"
set :start_reactor*retval false
jump *label90 always
label *label104
op sub :start_reactor:time_left 30 :start_reactor:secs
print "Starting {0} secs, req {0}J\n"
format :start_reactor:time_left
format :calc_charge_req*retval
jump *label90 always
label *label101
jump *label108 greaterThanEq :start_reactor:charge .PWR_ABANDON
jump *label108 greaterThanEq :start_reactor:surplus .FLOW_ABORT
control enabled :start_reactor:reactor false
print "ABANDON - battery crit\n"
set :start_reactor*retval false
jump *label90 always
label *label108
op idiv :start_reactor:mins :start_reactor:secs 6
op div :start_reactor:mins :start_reactor:mins 10
print "RUN {0} mins\n"
format :start_reactor:mins
jump *label90 always
label *label89
op sub *tmp157 :start_reactor:charge .START_POWER_REQ
op sub *tmp158 *tmp157 .PWR_ABORT
op div *tmp159 *tmp158 .PWR_REQ
op mul :start_reactor:charge_units *tmp159 .PWR_RESERVE
op div *tmp161 :start_reactor:surplus .FLOW_REQ
op max :start_reactor:flow_units -0.1 *tmp161
op mul *tmp163 .CRYO_REQ_EA :start_reactor:reactor_num
op add :start_reactor:cryo_req .CRYO_REQ *tmp163
jump *label112 greaterThanEq .REACTORS_DESIRED :start_reactor:reactor_num
print "IDLE\n"
set :start_reactor*retval false
jump *label113 always
label *label112
op add *tmp167 :start_reactor:flow_units :start_reactor:charge_units
jump *label114 greaterThanEq *tmp167 1
op idiv *tmp171 :start_reactor:flow_units 0.001
op div :start_reactor:flow *tmp171 10
op idiv *tmp174 :start_reactor:charge_units 0.001
op div :start_reactor:charge *tmp174 10
print "WAIT power. (%{0}J + %{0}W)\n"
format :start_reactor:charge
format :start_reactor:flow
set :start_reactor*retval false
jump *label115 always
label *label114
jump *label116 equal :start_reactor:fuel_on false
jump *label116 greaterThanEq :start_reactor:fuel .FUEL_REQ
op add *tmp178 :start_reactor:fuel :start_reactor:fuel_stored
jump *label120 lessThanEq *tmp178 .FUEL_REQ
print "WAIT fuel\n"
jump *label117 always
label *label120
print "WAIT system fuel\n"
jump *label117 always
label *label116
op mul *tmp181 .FUEL_TOT_REQ :start_reactor:reactor_num
jump *label122 greaterThanEq :start_reactor:fuel_stored *tmp181
print "WAIT buffer fuel\n"
jump *label123 always
label *label122
jump *label124 greaterThanEq :start_reactor:cryo :start_reactor:cryo_req
print "WAIT cryo\n"
jump *label125 always
label *label124
print "STARTUP\n"
op add .START_POWER_REQ .START_POWER_REQ .PWR_REQ
control enabled :start_reactor:reactor true
label *label125
label *label123
label *label117
label *label115
label *label113
label *label90
label *label88
sensor *tmp188 :start_reactor:reactor @enabled
select .RET_T_STARTUP notEqual :start_reactor:enabled *tmp188 @tick :start_reactor:t_startup
return :start_reactor*retaddr
