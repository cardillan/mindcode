#set target = 8;
#set builtin-evaluation = full;
#set err-invalid-lookup = false;
#set single-step-elimination = none;
#set jump-straightening = none;
#set jump-threading = none;
//#set debug-output = true;

def identifyBlock(block)
    case block
        when null then 1;
        when @graphite-press then 2;
        when @copper-wall then 3;
        when @copper-wall-large then 4;
        when @titanium-wall then 5;
        when @titanium-wall-large then 6;
        when @plastanium-wall then 7;
        when @plastanium-wall-large then 8;
        when @thorium-wall then 9;
        when @thorium-wall-large then 10;
        when @phase-wall then 11;
        when @phase-wall-large then 12;
        when @surge-wall then 13;
        when @surge-wall-large then 14;
        when @scrap-wall then 15;
        when @scrap-wall-large then 16;
        when @scrap-wall-huge then 17;
        when @scrap-wall-gigantic then 18;
        when @tungsten-wall then 19;
        when @tungsten-wall-large then 20;
        when @beryllium-wall then 21;
        when @beryllium-wall-large then 22;
        when @carbide-wall then 23;
        when @carbide-wall-large then 24;
        when @reinforced-surge-wall then 25;
        when @reinforced-surge-wall-large then 26;
        when @tile-logic-display then 27;
        else 0;
    end;
end;

begin
    assertEquals(260, @blockCount, "Verify block count");

    var total = 0;
    for var i in -1 ... @blockCount do
        var block = lookup(:block, i);
        var bit = 1 << identifyBlock(block);
        if total & bit > 1 then
            total |= 0x1000000000;
        else
            total |= bit;
        end;
    end;

    assertEquals(0x0FFFFFFF, total, "Test selected blocks");
end;
