   543 instructions before optimizations.
    58 instructions eliminated by Temp Variables Elimination (2 passes, 7 iterations).
     1 instructions eliminated by Case Expression Optimization.
    43 instructions eliminated by Dead Code Elimination (6 iterations).
    26 instructions eliminated by Condition Optimization (6 iterations).
    15 instructions eliminated by Single Step Elimination (3 passes, 8 iterations).
     1 instructions modified by Expression Optimization (3 iterations).
     8 instructions eliminated by Boolean Optimization (6 iterations).
       4 fully-evaluated expressions optimized using selects.
     3 instructions eliminated by If Expression Optimization (3 iterations).
    20 instructions eliminated by Data Flow Optimization (2 passes, 9 iterations).
       1 loop conditions were fully rotated.
       3 loop conditions were partially rotated.
   137 instructions added by Case Switching (5 iterations).
     1 case expressions converted to switched jumps by Case Switching.
    13 instructions eliminated by Jump Straightening (2 passes, 7 iterations).
     2 instructions updated by Jump Threading.
    22 instructions eliminated by Print Merging.
   471 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 637):
  * Partial loop rotation at line 160:1                          size    +1, benefit       25.0, efficiency     25.000 (+1 instructions)
  o Convert case at line 20:9 (segments: 13)                     size    +4, benefit     4747.6, efficiency   1186.899
  o Convert case at line 20:9 (segments: 5, padded low)          size    +8, benefit     4752.4, efficiency    594.050
  o Convert case at line 20:9 (segments: 1, padded low)          size  +137, benefit     4793.3, efficiency     34.987

Pass 1: speed optimization selection (cost limit 636):
  o Convert case at line 20:9 (segments: 13)                     size    +4, benefit     4747.6, efficiency   1186.899
  o Convert case at line 20:9 (segments: 5, padded low)          size    +8, benefit     4752.4, efficiency    594.050
  * Convert case at line 20:9 (segments: 1, padded low)          size  +137, benefit     4793.3, efficiency     34.987 (+137 instructions)

Modifications by Initial phase, Case Expression Optimization, iteration 1 (-1 instructions):
 
    33 getlink *tmp5 :n
    34 set :block *tmp5
    35 sensor *tmp7 :block @type
-    * set *tmp8 *tmp7
-    * jump *label10 equal *tmp8 @message
+   36 jump *label10 equal *tmp7 @message
    37 jump *label9 always
    38 label *label10
    39 set .MESSAGE :block
    40 set *tmp6 .MESSAGE
    41 jump *label8 always
    42 label *label9
-    * jump *label12 equal *tmp8 @switch
+   43 jump *label12 equal *tmp7 @switch
    44 jump *label11 always
    45 label *label12
    46 set .SWITCH :block
    47 set *tmp6 .SWITCH
    48 jump *label8 always
    49 label *label11
-    * jump *label14 equal *tmp8 @logic-display
-    * jump *label14 equal *tmp8 @large-logic-display
+   50 jump *label14 equal *tmp7 @logic-display
+   51 jump *label14 equal *tmp7 @large-logic-display
    52 jump *label13 always
    53 label *label14
    54 set .DISPLAY :block
    55 set *tmp6 .DISPLAY
    56 jump *label8 always
    57 label *label13
-    * jump *label16 equal *tmp8 @silicon-smelter
+   58 jump *label16 equal *tmp7 @silicon-smelter
    59 jump *label15 always
    60 label *label16
    61 set .TYPE @silicon-smelter
 
    72 set *tmp6 .OUTPUT
    73 jump *label8 always
    74 label *label15
-    * jump *label18 equal *tmp8 @silicon-crucible
+   75 jump *label18 equal *tmp7 @silicon-crucible
    76 jump *label17 always
    77 label *label18
    78 set .TYPE @silicon-crucible
 
    89 set *tmp6 .OUTPUT
    90 jump *label8 always
    91 label *label17
-    * jump *label20 equal *tmp8 @kiln
+   92 jump *label20 equal *tmp7 @kiln
    93 jump *label19 always
    94 label *label20
    95 set .TYPE @kiln
 
   106 set *tmp6 .OUTPUT
   107 jump *label8 always
   108 label *label19
-    * jump *label22 equal *tmp8 @phase-weaver
+  109 jump *label22 equal *tmp7 @phase-weaver
   110 jump *label21 always
   111 label *label22
   112 set .TYPE @phase-weaver
 
   123 set *tmp6 .OUTPUT
   124 jump *label8 always
   125 label *label21
-    * jump *label24 equal *tmp8 @pyratite-mixer
+  126 jump *label24 equal *tmp7 @pyratite-mixer
   127 jump *label23 always
   128 label *label24
   129 set .TYPE @pyratite-mixer
 
   140 set *tmp6 .OUTPUT
   141 jump *label8 always
   142 label *label23
-    * jump *label26 equal *tmp8 @blast-mixer
+  143 jump *label26 equal *tmp7 @blast-mixer
   144 jump *label25 always
   145 label *label26
   146 set .TYPE @blast-mixer
 
   157 set *tmp6 .OUTPUT
   158 jump *label8 always
   159 label *label25
-    * jump *label28 equal *tmp8 @plastanium-compressor
+  160 jump *label28 equal *tmp7 @plastanium-compressor
   161 jump *label27 always
   162 label *label28
   163 set .TYPE @plastanium-compressor

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-35 instructions):
 
    37 jump *label9 always
    38 label *label10
    39 set .MESSAGE :block
-    * set *tmp6 .MESSAGE
    40 jump *label8 always
    41 label *label9
    42 jump *label12 equal *tmp7 @switch
    43 jump *label11 always
    44 label *label12
    45 set .SWITCH :block
-    * set *tmp6 .SWITCH
    46 jump *label8 always
    47 label *label11
    48 jump *label14 equal *tmp7 @logic-display
 
    50 jump *label13 always
    51 label *label14
    52 set .DISPLAY :block
-    * set *tmp6 .DISPLAY
    53 jump *label8 always
    54 label *label13
    55 jump *label16 equal *tmp7 @silicon-smelter
 
    66 set .MUL2 .MUL3
    67 set .MUL1 .MUL2
    68 set .OUTPUT @silicon
-    * set *tmp6 .OUTPUT
    69 jump *label8 always
    70 label *label15
    71 jump *label18 equal *tmp7 @silicon-crucible
 
    82 set .MUL2 .MUL3
    83 set .MUL1 .MUL2
    84 set .OUTPUT @silicon
-    * set *tmp6 .OUTPUT
    85 jump *label8 always
    86 label *label17
    87 jump *label20 equal *tmp7 @kiln
 
    98 set .MUL2 .MUL3
    99 set .MUL1 .MUL2
   100 set .OUTPUT @metaglass
-    * set *tmp6 .OUTPUT
   101 jump *label8 always
   102 label *label19
   103 jump *label22 equal *tmp7 @phase-weaver
 
   114 set .MUL2 .MUL3
   115 set .MUL1 .MUL2
   116 set .OUTPUT @phase-fabric
-    * set *tmp6 .OUTPUT
   117 jump *label8 always
   118 label *label21
   119 jump *label24 equal *tmp7 @pyratite-mixer
 
   130 set .MUL2 .MUL3
   131 set .MUL1 .MUL2
   132 set .OUTPUT @pyratite
-    * set *tmp6 .OUTPUT
   133 jump *label8 always
   134 label *label23
   135 jump *label26 equal *tmp7 @blast-mixer
 
   146 set .MUL2 .MUL3
   147 set .MUL1 .MUL2
   148 set .OUTPUT @blast-compound
-    * set *tmp6 .OUTPUT
   149 jump *label8 always
   150 label *label25
   151 jump *label28 equal *tmp7 @plastanium-compressor
 
   164 op div *tmp24 250 *tmp23
   165 set .MUL2 *tmp24
   166 set .OUTPUT @plastanium
-    * set *tmp6 .OUTPUT
   167 jump *label8 always
   168 label *label27
   169 print "\n  "
   170 print :block
   171 print " not supported"
-    * set *tmp6 " not supported"
   172 label *label8
   173 label *label6
   174 jump *label5 always
 
   208 jump *label29 always
   209 label *label31
   210 print "No block to monitor or display."
-    * set *tmp27 "No block to monitor or display."
   211 jump *label30 always
   212 label *label29
-    * set *tmp27 null
   213 label *label30
   214 printflush .MESSAGE
   215 label *label1
 
   253 op sub *tmp41 *tmp38 :cly
   254 set :clh *tmp41
   255 set :crh :clh
-    * set *tmp30 :crh
   256 jump *label34 always
   257 label *label33
   258 set .OFFSET_X 5
 
   359 label *label50
   360 set *tmp43 *tmp73
   361 label *label40
-    * set *tmp30 *tmp43
   362 label *label34
   363 set *tmp85 .SWITCH
   364 control enabled *tmp85 0
 
   383 op greaterThanEq *tmp90 :index TO_INDEX
   384 jump *label59 equal *tmp90 false
   385 jump *label58 always
-    * set *tmp91 null
   386 jump *label60 always
   387 label *label59
-    * set *tmp91 null
   388 label *label60
   389 getlink *tmp92 :n
   390 set :factory *tmp92
 
   414 jump *label63 equal *tmp107 false
   415 set :minimum :r1
   416 set :icon .RES1
-    * set *tmp108 :icon
   417 jump *label64 always
   418 label *label63
-    * set *tmp108 null
   419 label *label64
   420 op lessThan *tmp109 :r2 :minimum
   421 jump *label65 equal *tmp109 false
   422 set :minimum :r2
   423 set :icon .RES2
-    * set *tmp110 :icon
   424 jump *label66 always
   425 label *label65
-    * set *tmp110 null
   426 label *label66
   427 op lessThan *tmp111 :r3 :minimum
   428 jump *label67 equal *tmp111 false
   429 set :minimum :r3
   430 set :icon .RES3
-    * set *tmp112 :icon
   431 jump *label68 always
   432 label *label67
-    * set *tmp112 null
   433 label *label68
   434 op greaterThan *tmp113 :output 33
   435 op sub *tmp114 100 :output
 
   438 set :showout *tmp116
   439 jump *label69 equal :showout false
   440 set :icon .OUTPUT
-    * set *tmp117 :icon
   441 jump *label70 always
   442 label *label69
-    * set *tmp117 null
   443 label *label70
   444 op idiv *tmp118 :index 8
   445 set :column *tmp118
 
   456 op land *tmp126 *tmp124 *tmp125
   457 jump *label71 equal *tmp126 false
   458 set :icon .TYPE
-    * set *tmp127 :icon
   459 jump *label72 always
   460 label *label71
-    * set *tmp127 null
   461 label *label72
   462 draw color 255 255 255 255
   463 jump *label73 equal :e false
 
   488 draw rect *tmp140 *tmp141 2 2
   489 set *tmp130 null
   490 label *label76
-    * set *tmp128 *tmp130
   491 jump *label74 always
   492 label *label73
   493 draw color 255 80 80 255
 
   507 op sub *tmp151 :y 1
   508 draw lineRect *tmp150 *tmp151 16 16
   509 draw stroke 2
-    * set *tmp128 null
   510 label *label74
   511 op add *tmp152 :x 16
   512 set :x *tmp152
 
   520 set :red 255
   521 set :green 0
   522 set :blue 0
-    * set *tmp155 :blue
   523 jump *label78 always
   524 label *label77
   525 jump *label81 equal :showout false
 
   551 set :blue 0
   552 set *tmp156 :blue
   553 label *label82
-    * set *tmp155 *tmp156
   554 label *label78
   555 op greaterThan *tmp163 :boost EXPECTED_BOOST
   556 jump *label87 equal *tmp163 false
 
   561 op max *tmp167 192 :blue
   562 set :blue *tmp167
   563 set :boost EXPECTED_BOOST
-    * set *tmp164 :boost
   564 jump *label88 always
   565 label *label87
-    * set *tmp164 null
   566 label *label88
   567 op mul *tmp168 .BAR_LENGTH :boost
   568 op idiv *tmp169 *tmp168 EXPECTED_BOOST
 
   575 draw lineRect :x :y :length .BAR_WIDTH
   576 op add *tmp172 :index 1
   577 set :index *tmp172
-    * set *tmp95 :index
   578 jump *label62 always
   579 label *label61
-    * set *tmp95 null
   580 label *label62
   581 label *label57
   582 op add :n :n 1

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-6 instructions):
 
   298 set :clw :crw
   299 set :cly :cry
   300 set :clh :crh
-    * set *tmp43 :clh
   301 jump *label40 always
   302 label *label39
   303 set :clx 0
 
   356 set :crh :clh
   357 set *tmp73 :crh
   358 label *label50
-    * set *tmp43 *tmp73
   359 label *label40
   360 label *label34
   361 set *tmp85 .SWITCH
 
   464 op add *tmp131 :x 7
   465 op add *tmp132 :y 7
   466 draw image *tmp131 *tmp132 :icon 16 0
-    * set *tmp130 null
   467 jump *label76 always
   468 label *label75
   469 draw color 255 80 80 255
 
   483 op add *tmp140 :x 4
   484 op add *tmp141 :y 6
   485 draw rect *tmp140 *tmp141 2 2
-    * set *tmp130 null
   486 label *label76
   487 jump *label74 always
   488 label *label73
 
   523 set :green 0
   524 set :blue 255
   525 set :minimum :output
-    * set *tmp156 :minimum
   526 jump *label82 always
   527 label *label81
   528 op greaterThan *tmp157 :minimum 66
 
   544 label *label86
   545 set :green *tmp162
   546 set :blue 0
-    * set *tmp156 :blue
   547 label *label82
   548 label *label78
   549 op greaterThan *tmp163 :boost EXPECTED_BOOST

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-2 instructions):
 
   347 label *label52
   348 op sub *tmp84 *tmp80 :cry
   349 set :crh *tmp84
-    * set *tmp73 :crh
   350 jump *label50 always
   351 label *label49
   352 set :crx :clx
   353 set :crw :clw
   354 set :cry :cly
   355 set :crh :clh
-    * set *tmp73 :crh
   356 label *label50
   357 label *label40
   358 label *label34

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-56 instructions):
 
    23 label *label3
    24 print "Universal Factory Monitor"
    25 print "\n"
-    * set *tmp2 @links
-    * set :n *tmp2
+   26 set :n @links
    27 label *label5
    28 op greaterThan *tmp3 :n 0
    29 jump *label7 equal *tmp3 false
-    * op sub *tmp4 :n 1
-    * set :n *tmp4
-    * getlink *tmp5 :n
-    * set :block *tmp5
+   30 op sub :n :n 1
+   31 getlink :block :n
    32 sensor *tmp7 :block @type
    33 jump *label10 equal *tmp7 @message
    34 jump *label9 always
 
    53 jump *label15 always
    54 label *label16
    55 set .TYPE @silicon-smelter
-    * sensor *tmp9 :block @itemCapacity
-    * set .CAPACITY *tmp9
+   56 sensor .CAPACITY :block @itemCapacity
    57 set .RES1 @sand
    58 set .RES2 @coal
    59 set .RES3 @itemCapacity
-    * op div *tmp10 100 .CAPACITY
-    * set .MUL3 *tmp10
+   60 op div .MUL3 100 .CAPACITY
    61 set .MUL2 .MUL3
    62 set .MUL1 .MUL2
    63 set .OUTPUT @silicon
 
    67 jump *label17 always
    68 label *label18
    69 set .TYPE @silicon-crucible
-    * sensor *tmp11 :block @itemCapacity
-    * set .CAPACITY *tmp11
+   70 sensor .CAPACITY :block @itemCapacity
    71 set .RES1 @sand
    72 set .RES2 @coal
    73 set .RES3 @pyratite
-    * op div *tmp12 100 .CAPACITY
-    * set .MUL3 *tmp12
+   74 op div .MUL3 100 .CAPACITY
    75 set .MUL2 .MUL3
    76 set .MUL1 .MUL2
    77 set .OUTPUT @silicon
 
    81 jump *label19 always
    82 label *label20
    83 set .TYPE @kiln
-    * sensor *tmp13 :block @itemCapacity
-    * set .CAPACITY *tmp13
+   84 sensor .CAPACITY :block @itemCapacity
    85 set .RES1 @sand
    86 set .RES2 @lead
    87 set .RES3 @itemCapacity
-    * op div *tmp14 100 .CAPACITY
-    * set .MUL3 *tmp14
+   88 op div .MUL3 100 .CAPACITY
    89 set .MUL2 .MUL3
    90 set .MUL1 .MUL2
    91 set .OUTPUT @metaglass
 
    95 jump *label21 always
    96 label *label22
    97 set .TYPE @phase-weaver
-    * sensor *tmp15 :block @itemCapacity
-    * set .CAPACITY *tmp15
+   98 sensor .CAPACITY :block @itemCapacity
    99 set .RES1 @sand
   100 set .RES2 @thorium
   101 set .RES3 @itemCapacity
-    * op div *tmp16 100 .CAPACITY
-    * set .MUL3 *tmp16
+  102 op div .MUL3 100 .CAPACITY
   103 set .MUL2 .MUL3
   104 set .MUL1 .MUL2
   105 set .OUTPUT @phase-fabric
 
   109 jump *label23 always
   110 label *label24
   111 set .TYPE @pyratite-mixer
-    * sensor *tmp17 :block @itemCapacity
-    * set .CAPACITY *tmp17
+  112 sensor .CAPACITY :block @itemCapacity
   113 set .RES1 @sand
   114 set .RES2 @coal
   115 set .RES3 @lead
-    * op div *tmp18 100 .CAPACITY
-    * set .MUL3 *tmp18
+  116 op div .MUL3 100 .CAPACITY
   117 set .MUL2 .MUL3
   118 set .MUL1 .MUL2
   119 set .OUTPUT @pyratite
 
   123 jump *label25 always
   124 label *label26
   125 set .TYPE @blast-mixer
-    * sensor *tmp19 :block @itemCapacity
-    * set .CAPACITY *tmp19
+  126 sensor .CAPACITY :block @itemCapacity
   127 set .RES1 @pyratite
   128 set .RES2 @spore-pod
   129 set .RES3 @itemCapacity
-    * op div *tmp20 100 .CAPACITY
-    * set .MUL3 *tmp20
+  130 op div .MUL3 100 .CAPACITY
   131 set .MUL2 .MUL3
   132 set .MUL1 .MUL2
   133 set .OUTPUT @blast-compound
 
   137 jump *label27 always
   138 label *label28
   139 set .TYPE @plastanium-compressor
-    * sensor *tmp21 :block @itemCapacity
-    * set .CAPACITY *tmp21
+  140 sensor .CAPACITY :block @itemCapacity
   141 set .RES1 @titanium
   142 set .RES2 @oil
   143 set .RES3 @itemCapacity
-    * op div *tmp22 100 .CAPACITY
-    * set .MUL3 *tmp22
+  144 op div .MUL3 100 .CAPACITY
   145 set .MUL1 .MUL3
   146 sensor *tmp23 :block @liquidCapacity
-    * op div *tmp24 250 *tmp23
-    * set .MUL2 *tmp24
+  147 op div .MUL2 250 *tmp23
   148 set .OUTPUT @plastanium
   149 jump *label8 always
   150 label *label27
 
   209 set :clx 0
   210 set :crx :clx
   211 op add *tmp31 .OFFSET_X .BAR_SPACE
-    * op sub *tmp32 *tmp31 2
-    * set :clw *tmp32
+  212 op sub :clw *tmp31 2
   213 set :crw :clw
   214 op equal *tmp33 FROM_INDEX 0
   215 jump *label35 equal *tmp33 false
 
   217 jump *label36 always
   218 label *label35
   219 op mul *tmp35 FROM_INDEX .BAR_GAP
-    * op add *tmp36 .OFFSET_Y *tmp35
-    * set *tmp34 *tmp36
+  220 op add *tmp34 .OFFSET_Y *tmp35
   221 label *label36
   222 set :cly *tmp34
   223 set :cry :cly
   224 op lessThan *tmp37 TO_INDEX 8
   225 jump *label37 equal *tmp37 false
   226 op mul *tmp39 TO_INDEX .BAR_GAP
-    * op add *tmp40 .OFFSET_Y *tmp39
-    * set *tmp38 *tmp40
+  227 op add *tmp38 .OFFSET_Y *tmp39
   228 jump *label38 always
   229 label *label37
   230 set *tmp38 176
   231 label *label38
-    * op sub *tmp41 *tmp38 :cly
-    * set :clh *tmp41
+  232 op sub :clh *tmp38 :cly
   233 set :crh :clh
   234 jump *label34 always
   235 label *label33
 
   242 op greaterThanEq *tmp42 FROM_INDEX 8
   243 jump *label39 equal *tmp42 false
   244 op add *tmp44 .OFFSET_X .BAR_SPACE
-    * op sub *tmp45 *tmp44 2
-    * set :crx *tmp45
+  245 op sub :crx *tmp44 2
   246 op add *tmp46 .OFFSET_X .BAR_SPACE
   247 op sub *tmp47 176 *tmp46
-    * op add *tmp48 *tmp47 1
-    * set :crw *tmp48
+  248 op add :crw *tmp47 1
   249 op mod *tmp49 FROM_INDEX 8
   250 op equal *tmp50 *tmp49 0
   251 jump *label41 equal *tmp50 false
 
   254 label *label41
   255 op mod *tmp52 FROM_INDEX 8
   256 op mul *tmp53 *tmp52 .BAR_GAP
-    * op add *tmp54 .OFFSET_Y *tmp53
-    * set *tmp51 *tmp54
+  257 op add *tmp51 .OFFSET_Y *tmp53
   258 label *label42
   259 set :cry *tmp51
   260 op lessThan *tmp55 TO_INDEX 16
   261 jump *label43 equal *tmp55 false
   262 op mod *tmp57 TO_INDEX 8
   263 op mul *tmp58 *tmp57 .BAR_GAP
-    * op add *tmp59 .OFFSET_Y *tmp58
-    * set *tmp56 *tmp59
+  264 op add *tmp56 .OFFSET_Y *tmp58
   265 jump *label44 always
   266 label *label43
   267 set *tmp56 176
   268 label *label44
-    * op sub *tmp60 *tmp56 :cry
-    * set :crh *tmp60
+  269 op sub :crh *tmp56 :cry
   270 set :clx :crx
   271 set :clw :crw
   272 set :cly :cry
 
   275 label *label39
   276 set :clx 0
   277 op add *tmp61 .OFFSET_X .BAR_SPACE
-    * op sub *tmp62 *tmp61 2
-    * set :clw *tmp62
+  278 op sub :clw *tmp61 2
   279 op equal *tmp63 FROM_INDEX 0
   280 jump *label45 equal *tmp63 false
   281 set *tmp64 0
   282 jump *label46 always
   283 label *label45
   284 op mul *tmp65 FROM_INDEX .BAR_GAP
-    * op add *tmp66 .OFFSET_Y *tmp65
-    * set *tmp64 *tmp66
+  285 op add *tmp64 .OFFSET_Y *tmp65
   286 label *label46
   287 set :cly *tmp64
   288 op lessThan *tmp67 TO_INDEX 8
   289 jump *label47 equal *tmp67 false
   290 op mul *tmp69 TO_INDEX .BAR_GAP
-    * op add *tmp70 .OFFSET_Y *tmp69
-    * set *tmp68 *tmp70
+  291 op add *tmp68 .OFFSET_Y *tmp69
   292 jump *label48 always
   293 label *label47
   294 set *tmp68 176
   295 label *label48
-    * op sub *tmp71 *tmp68 :cly
-    * set :clh *tmp71
+  296 op sub :clh *tmp68 :cly
   297 op greaterThanEq *tmp72 TO_INDEX 8
   298 jump *label49 equal *tmp72 false
   299 op add *tmp74 .OFFSET_X .BAR_SPACE
-    * op sub *tmp75 *tmp74 2
-    * set :crx *tmp75
+  300 op sub :crx *tmp74 2
   301 op add *tmp76 .OFFSET_X .BAR_SPACE
   302 op sub *tmp77 176 *tmp76
-    * op add *tmp78 *tmp77 1
-    * set :crw *tmp78
+  303 op add :crw *tmp77 1
   304 set :cry 0
   305 op lessThan *tmp79 TO_INDEX 16
   306 jump *label51 equal *tmp79 false
   307 op mod *tmp81 TO_INDEX 8
   308 op mul *tmp82 *tmp81 .BAR_GAP
-    * op add *tmp83 .OFFSET_Y *tmp82
-    * set *tmp80 *tmp83
+  309 op add *tmp80 .OFFSET_Y *tmp82
   310 jump *label52 always
   311 label *label51
   312 set *tmp80 176
   313 label *label52
-    * op sub *tmp84 *tmp80 :cry
-    * set :crh *tmp84
+  314 op sub :crh *tmp80 :cry
   315 jump *label50 always
   316 label *label49
   317 set :crx :clx
 
   321 label *label50
   322 label *label40
   323 label *label34
-    * set *tmp85 .SWITCH
-    * control enabled *tmp85 0
+  324 control enabled .SWITCH 0
   325 label *label53
   326 sensor *tmp87 .SWITCH @enabled
   327 op equal *tmp88 *tmp87 0
   328 jump *label55 equal *tmp88 false
-    * set *tmp89 @time
-    * set :start *tmp89
+  329 set :start @time
   330 print "Universal Factory Monitor"
   331 print "\n"
   332 print "Monitoring: "
 
   345 jump *label60 always
   346 label *label59
   347 label *label60
-    * getlink *tmp92 :n
-    * set :factory *tmp92
+  348 getlink :factory :n
   349 sensor *tmp93 :factory @type
   350 op equal *tmp94 *tmp93 .TYPE
   351 jump *label61 equal *tmp94 false
   352 set :minimum 101
   353 sensor *tmp96 :factory .RES1
-    * op mul *tmp97 .MUL1 *tmp96
-    * set :r1 *tmp97
+  354 op mul :r1 .MUL1 *tmp96
   355 sensor *tmp98 :factory .RES2
-    * op mul *tmp99 .MUL2 *tmp98
-    * set :r2 *tmp99
+  356 op mul :r2 .MUL2 *tmp98
   357 sensor *tmp100 :factory .RES3
-    * op mul *tmp101 .MUL3 *tmp100
-    * set :r3 *tmp101
+  358 op mul :r3 .MUL3 *tmp100
   359 sensor *tmp102 :factory .OUTPUT
-    * op mul *tmp103 .MUL1 *tmp102
-    * set :output *tmp103
-    * sensor *tmp104 :factory @enabled
-    * set :e *tmp104
-    * sensor *tmp105 :factory @totalPower
-    * set :power *tmp105
-    * sensor *tmp106 :factory @timescale
-    * set :boost *tmp106
+  360 op mul :output .MUL1 *tmp102
+  361 sensor :e :factory @enabled
+  362 sensor :power :factory @totalPower
+  363 sensor :boost :factory @timescale
   364 op lessThan *tmp107 :r1 :minimum
   365 jump *label63 equal *tmp107 false
   366 set :minimum :r1
 
   385 op greaterThan *tmp113 :output 33
   386 op sub *tmp114 100 :output
   387 op lessThan *tmp115 *tmp114 :minimum
-    * op land *tmp116 *tmp113 *tmp115
-    * set :showout *tmp116
+  388 op land :showout *tmp113 *tmp115
   389 jump *label69 equal :showout false
   390 set :icon .OUTPUT
   391 jump *label70 always
   392 label *label69
   393 label *label70
-    * op idiv *tmp118 :index 8
-    * set :column *tmp118
-    * op mod *tmp119 :index 8
-    * set :row *tmp119
+  394 op idiv :column :index 8
+  395 op mod :row :index 8
   396 op mul *tmp120 :column .BAR_SPACE
-    * op add *tmp121 .OFFSET_X *tmp120
-    * set :x *tmp121
+  397 op add :x .OFFSET_X *tmp120
   398 op mul *tmp122 :row .BAR_GAP
-    * op add *tmp123 .OFFSET_Y *tmp122
-    * set :y *tmp123
+  399 op add :y .OFFSET_Y *tmp122
   400 op greaterThan *tmp124 :minimum 66
   401 op equal *tmp125 :showout false
   402 op land *tmp126 *tmp124 *tmp125
 
   452 draw lineRect *tmp150 *tmp151 16 16
   453 draw stroke 2
   454 label *label74
-    * op add *tmp152 :x 16
-    * set :x *tmp152
+  455 op add :x :x 16
   456 op equal *tmp153 :power 0
   457 jump *label77 equal *tmp153 false
   458 label *label80
 
   495 label *label78
   496 op greaterThan *tmp163 :boost EXPECTED_BOOST
   497 jump *label87 equal *tmp163 false
-    * op max *tmp165 192 :red
-    * set :red *tmp165
-    * op max *tmp166 192 :green
-    * set :green *tmp166
-    * op max *tmp167 192 :blue
-    * set :blue *tmp167
+  498 op max :red 192 :red
+  499 op max :green 192 :green
+  500 op max :blue 192 :blue
   501 set :boost EXPECTED_BOOST
   502 jump *label88 always
   503 label *label87
   504 label *label88
   505 op mul *tmp168 .BAR_LENGTH :boost
-    * op idiv *tmp169 *tmp168 EXPECTED_BOOST
-    * set :length *tmp169
+  506 op idiv :length *tmp168 EXPECTED_BOOST
   507 draw color :red :green :blue 128
   508 op mul *tmp170 :minimum :length
   509 op idiv *tmp171 *tmp170 100
   510 draw rect :x :y *tmp171 .BAR_WIDTH
   511 draw color :red :green :blue 255
   512 draw lineRect :x :y :length .BAR_WIDTH
-    * op add *tmp172 :index 1
-    * set :index *tmp172
+  513 op add :index :index 1
   514 jump *label62 always
   515 label *label61
   516 label *label62

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-12 instructions):
 
    18 jump *label3 notEqual *tmp0 false
    19 label *label4
    20 op equal *tmp1 .TYPE null
-    * jump *label3 notEqual *tmp1 false
-    * jump *label2 always
+   21 jump *label2 equal *tmp1 false
    22 label *label3
    23 print "Universal Factory Monitor"
    24 print "\n"
 
    29 op sub :n :n 1
    30 getlink :block :n
    31 sensor *tmp7 :block @type
-    * jump *label10 equal *tmp7 @message
-    * jump *label9 always
+   32 jump *label9 notEqual *tmp7 @message
    33 label *label10
    34 set .MESSAGE :block
    35 jump *label8 always
    36 label *label9
-    * jump *label12 equal *tmp7 @switch
-    * jump *label11 always
+   37 jump *label11 notEqual *tmp7 @switch
    38 label *label12
    39 set .SWITCH :block
    40 jump *label8 always
    41 label *label11
    42 jump *label14 equal *tmp7 @logic-display
-    * jump *label14 equal *tmp7 @large-logic-display
-    * jump *label13 always
+   43 jump *label13 notEqual *tmp7 @large-logic-display
    44 label *label14
    45 set .DISPLAY :block
    46 jump *label8 always
    47 label *label13
-    * jump *label16 equal *tmp7 @silicon-smelter
-    * jump *label15 always
+   48 jump *label15 notEqual *tmp7 @silicon-smelter
    49 label *label16
    50 set .TYPE @silicon-smelter
    51 sensor .CAPACITY :block @itemCapacity
 
    58 set .OUTPUT @silicon
    59 jump *label8 always
    60 label *label15
-    * jump *label18 equal *tmp7 @silicon-crucible
-    * jump *label17 always
+   61 jump *label17 notEqual *tmp7 @silicon-crucible
    62 label *label18
    63 set .TYPE @silicon-crucible
    64 sensor .CAPACITY :block @itemCapacity
 
    71 set .OUTPUT @silicon
    72 jump *label8 always
    73 label *label17
-    * jump *label20 equal *tmp7 @kiln
-    * jump *label19 always
+   74 jump *label19 notEqual *tmp7 @kiln
    75 label *label20
    76 set .TYPE @kiln
    77 sensor .CAPACITY :block @itemCapacity
 
    84 set .OUTPUT @metaglass
    85 jump *label8 always
    86 label *label19
-    * jump *label22 equal *tmp7 @phase-weaver
-    * jump *label21 always
+   87 jump *label21 notEqual *tmp7 @phase-weaver
    88 label *label22
    89 set .TYPE @phase-weaver
    90 sensor .CAPACITY :block @itemCapacity
 
    97 set .OUTPUT @phase-fabric
    98 jump *label8 always
    99 label *label21
-    * jump *label24 equal *tmp7 @pyratite-mixer
-    * jump *label23 always
+  100 jump *label23 notEqual *tmp7 @pyratite-mixer
   101 label *label24
   102 set .TYPE @pyratite-mixer
   103 sensor .CAPACITY :block @itemCapacity
 
   110 set .OUTPUT @pyratite
   111 jump *label8 always
   112 label *label23
-    * jump *label26 equal *tmp7 @blast-mixer
-    * jump *label25 always
+  113 jump *label25 notEqual *tmp7 @blast-mixer
   114 label *label26
   115 set .TYPE @blast-mixer
   116 sensor .CAPACITY :block @itemCapacity
 
   123 set .OUTPUT @blast-compound
   124 jump *label8 always
   125 label *label25
-    * jump *label28 equal *tmp7 @plastanium-compressor
-    * jump *label27 always
+  126 jump *label27 notEqual *tmp7 @plastanium-compressor
   127 label *label28
   128 set .TYPE @plastanium-compressor
   129 sensor .CAPACITY :block @itemCapacity
 
   175 jump *label31 notEqual *tmp25 false
   176 label *label32
   177 op equal *tmp26 .TYPE null
-    * jump *label31 notEqual *tmp26 false
-    * jump *label29 always
+  178 jump *label29 equal *tmp26 false
   179 label *label31
   180 print "No block to monitor or display."
   181 jump *label30 always

Modifications by Iterated phase, Condition Optimization, pass 1, iteration 1 (-26 instructions):
 
    14 set .MUL1 .MUL2
    15 set :icon null
    16 label *label0
-    * op equal *tmp0 .DISPLAY null
-    * jump *label3 notEqual *tmp0 false
+   17 jump *label3 equal .DISPLAY null
    18 label *label4
-    * op equal *tmp1 .TYPE null
-    * jump *label2 equal *tmp1 false
+   19 jump *label2 notEqual .TYPE null
    20 label *label3
    21 print "Universal Factory Monitor"
    22 print "\n"
    23 set :n @links
    24 label *label5
-    * op greaterThan *tmp3 :n 0
-    * jump *label7 equal *tmp3 false
+   25 jump *label7 lessThanEq :n 0
    26 op sub :n :n 1
    27 getlink :block :n
    28 sensor *tmp7 :block @type
 
   168 print "Output: "
   169 print .OUTPUT
   170 print "\n"
-    * op equal *tmp25 .DISPLAY null
-    * jump *label31 notEqual *tmp25 false
+  171 jump *label31 equal .DISPLAY null
   172 label *label32
-    * op equal *tmp26 .TYPE null
-    * jump *label29 equal *tmp26 false
+  173 jump *label29 notEqual .TYPE null
   174 label *label31
   175 print "No block to monitor or display."
   176 jump *label30 always
 
   181 jump *label0 always
   182 label *label2
   183 sensor *tmp28 .DISPLAY @type
-    * op equal *tmp29 *tmp28 @logic-display
-    * jump *label33 equal *tmp29 false
+  184 jump *label33 notEqual *tmp28 @logic-display
   185 set .OFFSET_X 2
   186 set .OFFSET_Y 2
   187 set .BAR_WIDTH 14
 
   193 op add *tmp31 .OFFSET_X .BAR_SPACE
   194 op sub :clw *tmp31 2
   195 set :crw :clw
-    * op equal *tmp33 FROM_INDEX 0
-    * jump *label35 equal *tmp33 false
+  196 jump *label35 notEqual FROM_INDEX 0
   197 set *tmp34 0
   198 jump *label36 always
   199 label *label35
 
   202 label *label36
   203 set :cly *tmp34
   204 set :cry :cly
-    * op lessThan *tmp37 TO_INDEX 8
-    * jump *label37 equal *tmp37 false
+  205 jump *label37 greaterThanEq TO_INDEX 8
   206 op mul *tmp39 TO_INDEX .BAR_GAP
   207 op add *tmp38 .OFFSET_Y *tmp39
   208 jump *label38 always
 
   219 set .BAR_LENGTH 61
   220 set .BAR_SPACE 88
   221 set .BAR_GAP 22
-    * op greaterThanEq *tmp42 FROM_INDEX 8
-    * jump *label39 equal *tmp42 false
+  222 jump *label39 lessThan FROM_INDEX 8
   223 op add *tmp44 .OFFSET_X .BAR_SPACE
   224 op sub :crx *tmp44 2
   225 op add *tmp46 .OFFSET_X .BAR_SPACE
   226 op sub *tmp47 176 *tmp46
   227 op add :crw *tmp47 1
   228 op mod *tmp49 FROM_INDEX 8
-    * op equal *tmp50 *tmp49 0
-    * jump *label41 equal *tmp50 false
+  229 jump *label41 notEqual *tmp49 0
   230 set *tmp51 0
   231 jump *label42 always
   232 label *label41
 
   235 op add *tmp51 .OFFSET_Y *tmp53
   236 label *label42
   237 set :cry *tmp51
-    * op lessThan *tmp55 TO_INDEX 16
-    * jump *label43 equal *tmp55 false
+  238 jump *label43 greaterThanEq TO_INDEX 16
   239 op mod *tmp57 TO_INDEX 8
   240 op mul *tmp58 *tmp57 .BAR_GAP
   241 op add *tmp56 .OFFSET_Y *tmp58
 
   253 set :clx 0
   254 op add *tmp61 .OFFSET_X .BAR_SPACE
   255 op sub :clw *tmp61 2
-    * op equal *tmp63 FROM_INDEX 0
-    * jump *label45 equal *tmp63 false
+  256 jump *label45 notEqual FROM_INDEX 0
   257 set *tmp64 0
   258 jump *label46 always
   259 label *label45
 
   261 op add *tmp64 .OFFSET_Y *tmp65
   262 label *label46
   263 set :cly *tmp64
-    * op lessThan *tmp67 TO_INDEX 8
-    * jump *label47 equal *tmp67 false
+  264 jump *label47 greaterThanEq TO_INDEX 8
   265 op mul *tmp69 TO_INDEX .BAR_GAP
   266 op add *tmp68 .OFFSET_Y *tmp69
   267 jump *label48 always
 
   269 set *tmp68 176
   270 label *label48
   271 op sub :clh *tmp68 :cly
-    * op greaterThanEq *tmp72 TO_INDEX 8
-    * jump *label49 equal *tmp72 false
+  272 jump *label49 lessThan TO_INDEX 8
   273 op add *tmp74 .OFFSET_X .BAR_SPACE
   274 op sub :crx *tmp74 2
   275 op add *tmp76 .OFFSET_X .BAR_SPACE
   276 op sub *tmp77 176 *tmp76
   277 op add :crw *tmp77 1
   278 set :cry 0
-    * op lessThan *tmp79 TO_INDEX 16
-    * jump *label51 equal *tmp79 false
+  279 jump *label51 greaterThanEq TO_INDEX 16
   280 op mod *tmp81 TO_INDEX 8
   281 op mul *tmp82 *tmp81 .BAR_GAP
   282 op add *tmp80 .OFFSET_Y *tmp82
 
   297 control enabled .SWITCH 0
   298 label *label53
   299 sensor *tmp87 .SWITCH @enabled
-    * op equal *tmp88 *tmp87 0
-    * jump *label55 equal *tmp88 false
+  300 jump *label55 notEqual *tmp87 0
   301 set :start @time
   302 print "Universal Factory Monitor"
   303 print "\n"
 
   311 set :n 0
   312 label *label56
   313 jump *label58 greaterThanEq :n @links
-    * op greaterThanEq *tmp90 :index TO_INDEX
-    * jump *label59 equal *tmp90 false
+  314 jump *label59 lessThan :index TO_INDEX
   315 jump *label58 always
   316 jump *label60 always
   317 label *label59
   318 label *label60
   319 getlink :factory :n
   320 sensor *tmp93 :factory @type
-    * op equal *tmp94 *tmp93 .TYPE
-    * jump *label61 equal *tmp94 false
+  321 jump *label61 notEqual *tmp93 .TYPE
   322 set :minimum 101
   323 sensor *tmp96 :factory .RES1
   324 op mul :r1 .MUL1 *tmp96
 
   331 sensor :e :factory @enabled
   332 sensor :power :factory @totalPower
   333 sensor :boost :factory @timescale
-    * op lessThan *tmp107 :r1 :minimum
-    * jump *label63 equal *tmp107 false
+  334 jump *label63 greaterThanEq :r1 :minimum
   335 set :minimum :r1
   336 set :icon .RES1
   337 jump *label64 always
   338 label *label63
   339 label *label64
-    * op lessThan *tmp109 :r2 :minimum
-    * jump *label65 equal *tmp109 false
+  340 jump *label65 greaterThanEq :r2 :minimum
   341 set :minimum :r2
   342 set :icon .RES2
   343 jump *label66 always
   344 label *label65
   345 label *label66
-    * op lessThan *tmp111 :r3 :minimum
-    * jump *label67 equal *tmp111 false
+  346 jump *label67 greaterThanEq :r3 :minimum
   347 set :minimum :r3
   348 set :icon .RES3
   349 jump *label68 always
 
   374 label *label72
   375 draw color 255 255 255 255
   376 jump *label73 equal :e false
-    * op greaterThan *tmp129 :power 0
-    * jump *label75 equal *tmp129 false
+  377 jump *label75 lessThanEq :power 0
   378 op add *tmp131 :x 7
   379 op add *tmp132 :y 7
   380 draw image *tmp131 *tmp132 :icon 16 0
 
   419 draw stroke 2
   420 label *label74
   421 op add :x :x 16
-    * op equal *tmp153 :power 0
-    * jump *label77 equal *tmp153 false
+  422 jump *label77 notEqual :power 0
   423 label *label80
-    * op equal *tmp154 :e 0
-    * jump *label77 equal *tmp154 false
+  424 jump *label77 notEqual :e 0
   425 jump *label79 always
   426 label *label79
   427 set :red 255
 
   446 set *tmp160 255
   447 label *label84
   448 set :red *tmp160
-    * op greaterThan *tmp161 :minimum 33
-    * jump *label85 equal *tmp161 false
+  449 jump *label85 lessThanEq :minimum 33
   450 set *tmp162 255
   451 jump *label86 always
   452 label *label85
 
   456 set :blue 0
   457 label *label82
   458 label *label78
-    * op greaterThan *tmp163 :boost EXPECTED_BOOST
-    * jump *label87 equal *tmp163 false
+  459 jump *label87 lessThanEq :boost EXPECTED_BOOST
   460 op max :red 192 :red
   461 op max :green 192 :green
   462 op max :blue 192 :blue

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-10 instructions):
 
   173 jump *label29 notEqual .TYPE null
   174 label *label31
   175 print "No block to monitor or display."
-    * jump *label30 always
   176 label *label29
   177 label *label30
   178 printflush .MESSAGE
 
   312 jump *label58 greaterThanEq :n @links
   313 jump *label59 lessThan :index TO_INDEX
   314 jump *label58 always
-    * jump *label60 always
   315 label *label59
   316 label *label60
   317 getlink :factory :n
 
   332 jump *label63 greaterThanEq :r1 :minimum
   333 set :minimum :r1
   334 set :icon .RES1
-    * jump *label64 always
   335 label *label63
   336 label *label64
   337 jump *label65 greaterThanEq :r2 :minimum
   338 set :minimum :r2
   339 set :icon .RES2
-    * jump *label66 always
   340 label *label65
   341 label *label66
   342 jump *label67 greaterThanEq :r3 :minimum
   343 set :minimum :r3
   344 set :icon .RES3
-    * jump *label68 always
   345 label *label67
   346 label *label68
   347 op greaterThan *tmp113 :output 33
 
   350 op land :showout *tmp113 *tmp115
   351 jump *label69 equal :showout false
   352 set :icon .OUTPUT
-    * jump *label70 always
   353 label *label69
   354 label *label70
   355 op idiv :column :index 8
 
   363 op land *tmp126 *tmp124 *tmp125
   364 jump *label71 equal *tmp126 false
   365 set :icon .TYPE
-    * jump *label72 always
   366 label *label71
   367 label *label72
   368 draw color 255 255 255 255
 
   415 jump *label77 notEqual :power 0
   416 label *label80
   417 jump *label77 notEqual :e 0
-    * jump *label79 always
   418 label *label79
   419 set :red 255
   420 set :green 0
 
   453 op max :green 192 :green
   454 op max :blue 192 :blue
   455 set :boost EXPECTED_BOOST
-    * jump *label88 always
   456 label *label87
   457 label *label88
   458 op mul *tmp168 .BAR_LENGTH :boost
 
   464 draw color :red :green :blue 255
   465 draw lineRect :x :y :length .BAR_WIDTH
   466 op add :index :index 1
-    * jump *label62 always
   467 label *label61
   468 label *label62
   469 label *label57

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
     1 set TO_INDEX 16
     2 set EXPECTED_BOOST 1.5
     3 set .TYPE null
-    * set .DISPLAY .TYPE
-    * set .SWITCH .DISPLAY
-    * set .MESSAGE .SWITCH
+    4 set .DISPLAY null
+    5 set .SWITCH .TYPE
+    6 set .MESSAGE .DISPLAY
     7 set .CAPACITY null
-    * set .OUTPUT .CAPACITY
-    * set .RES3 .OUTPUT
-    * set .RES2 .RES3
-    * set .RES1 .RES2
-    * set .MUL3 .RES1
-    * set .MUL2 .MUL3
-    * set .MUL1 .MUL2
+    8 set .OUTPUT null
+    9 set .RES3 .CAPACITY
+   10 set .RES2 .OUTPUT
+   11 set .RES1 .RES3
+   12 set .MUL3 .RES2
+   13 set .MUL2 .RES1
+   14 set .MUL1 .MUL3
    15 set :icon null
    16 label *label0
    17 jump *label3 equal .DISPLAY null
 
    51 set .RES3 @itemCapacity
    52 op div .MUL3 100 .CAPACITY
    53 set .MUL2 .MUL3
-    * set .MUL1 .MUL2
+   54 set .MUL1 .MUL3
    55 set .OUTPUT @silicon
    56 jump *label8 always
    57 label *label15
 
    64 set .RES3 @pyratite
    65 op div .MUL3 100 .CAPACITY
    66 set .MUL2 .MUL3
-    * set .MUL1 .MUL2
+   67 set .MUL1 .MUL3
    68 set .OUTPUT @silicon
    69 jump *label8 always
    70 label *label17
 
    77 set .RES3 @itemCapacity
    78 op div .MUL3 100 .CAPACITY
    79 set .MUL2 .MUL3
-    * set .MUL1 .MUL2
+   80 set .MUL1 .MUL3
    81 set .OUTPUT @metaglass
    82 jump *label8 always
    83 label *label19
 
    90 set .RES3 @itemCapacity
    91 op div .MUL3 100 .CAPACITY
    92 set .MUL2 .MUL3
-    * set .MUL1 .MUL2
+   93 set .MUL1 .MUL3
    94 set .OUTPUT @phase-fabric
    95 jump *label8 always
    96 label *label21
 
   103 set .RES3 @lead
   104 op div .MUL3 100 .CAPACITY
   105 set .MUL2 .MUL3
-    * set .MUL1 .MUL2
+  106 set .MUL1 .MUL3
   107 set .OUTPUT @pyratite
   108 jump *label8 always
   109 label *label23
 
   116 set .RES3 @itemCapacity
   117 op div .MUL3 100 .CAPACITY
   118 set .MUL2 .MUL3
-    * set .MUL1 .MUL2
+  119 set .MUL1 .MUL3
   120 set .OUTPUT @blast-compound
   121 jump *label8 always
   122 label *label25
 
   188 set .BAR_SPACE 80
   189 set .BAR_GAP 20
   190 set :clx 0
-    * set :crx :clx
-    * op add *tmp31 .OFFSET_X .BAR_SPACE
-    * op sub :clw *tmp31 2
-    * set :crw :clw
+  191 set :crx 0
+  192 op add *tmp31 2 80
+  193 op sub :clw 82 2
+  194 set :crw 80
   195 jump *label35 notEqual FROM_INDEX 0
   196 set *tmp34 0
   197 jump *label36 always
   198 label *label35
-    * op mul *tmp35 FROM_INDEX .BAR_GAP
-    * op add *tmp34 .OFFSET_Y *tmp35
+  199 op mul *tmp35 FROM_INDEX 20
+  200 op add *tmp34 2 *tmp35
   201 label *label36
   202 set :cly *tmp34
-    * set :cry :cly
+  203 set :cry *tmp34
   204 jump *label37 greaterThanEq TO_INDEX 8
-    * op mul *tmp39 TO_INDEX .BAR_GAP
-    * op add *tmp38 .OFFSET_Y *tmp39
+  205 op mul *tmp39 TO_INDEX 20
+  206 op add *tmp38 2 *tmp39
   207 jump *label38 always
   208 label *label37
   209 set *tmp38 176
   210 label *label38
-    * op sub :clh *tmp38 :cly
+  211 op sub :clh *tmp38 *tmp34
   212 set :crh :clh
   213 jump *label34 always
   214 label *label33
 
   219 set .BAR_SPACE 88
   220 set .BAR_GAP 22
   221 jump *label39 lessThan FROM_INDEX 8
-    * op add *tmp44 .OFFSET_X .BAR_SPACE
-    * op sub :crx *tmp44 2
-    * op add *tmp46 .OFFSET_X .BAR_SPACE
-    * op sub *tmp47 176 *tmp46
-    * op add :crw *tmp47 1
+  222 op add *tmp44 5 88
+  223 op sub :crx 93 2
+  224 op add *tmp46 5 88
+  225 op sub *tmp47 176 93
+  226 op add :crw 83 1
   227 op mod *tmp49 FROM_INDEX 8
   228 jump *label41 notEqual *tmp49 0
   229 set *tmp51 0
   230 jump *label42 always
   231 label *label41
   232 op mod *tmp52 FROM_INDEX 8
-    * op mul *tmp53 *tmp52 .BAR_GAP
-    * op add *tmp51 .OFFSET_Y *tmp53
+  233 op mul *tmp53 *tmp49 22
+  234 op add *tmp51 4 *tmp53
   235 label *label42
   236 set :cry *tmp51
   237 jump *label43 greaterThanEq TO_INDEX 16
   238 op mod *tmp57 TO_INDEX 8
-    * op mul *tmp58 *tmp57 .BAR_GAP
-    * op add *tmp56 .OFFSET_Y *tmp58
+  239 op mul *tmp58 *tmp57 22
+  240 op add *tmp56 4 *tmp58
   241 jump *label44 always
   242 label *label43
   243 set *tmp56 176
   244 label *label44
-    * op sub :crh *tmp56 :cry
-    * set :clx :crx
-    * set :clw :crw
-    * set :cly :cry
+  245 op sub :crh *tmp56 *tmp51
+  246 set :clx 91
+  247 set :clw 84
+  248 set :cly *tmp51
   249 set :clh :crh
   250 jump *label40 always
   251 label *label39
   252 set :clx 0
-    * op add *tmp61 .OFFSET_X .BAR_SPACE
-    * op sub :clw *tmp61 2
+  253 op add *tmp61 5 88
+  254 op sub :clw 93 2
   255 jump *label45 notEqual FROM_INDEX 0
   256 set *tmp64 0
   257 jump *label46 always
   258 label *label45
-    * op mul *tmp65 FROM_INDEX .BAR_GAP
-    * op add *tmp64 .OFFSET_Y *tmp65
+  259 op mul *tmp65 FROM_INDEX 22
+  260 op add *tmp64 4 *tmp65
   261 label *label46
   262 set :cly *tmp64
   263 jump *label47 greaterThanEq TO_INDEX 8
-    * op mul *tmp69 TO_INDEX .BAR_GAP
-    * op add *tmp68 .OFFSET_Y *tmp69
+  264 op mul *tmp69 TO_INDEX 22
+  265 op add *tmp68 4 *tmp69
   266 jump *label48 always
   267 label *label47
   268 set *tmp68 176
   269 label *label48
-    * op sub :clh *tmp68 :cly
+  270 op sub :clh *tmp68 *tmp64
   271 jump *label49 lessThan TO_INDEX 8
-    * op add *tmp74 .OFFSET_X .BAR_SPACE
-    * op sub :crx *tmp74 2
-    * op add *tmp76 .OFFSET_X .BAR_SPACE
-    * op sub *tmp77 176 *tmp76
-    * op add :crw *tmp77 1
+  272 op add *tmp74 5 88
+  273 op sub :crx 93 2
+  274 op add *tmp76 5 88
+  275 op sub *tmp77 176 93
+  276 op add :crw 83 1
   277 set :cry 0
   278 jump *label51 greaterThanEq TO_INDEX 16
   279 op mod *tmp81 TO_INDEX 8
-    * op mul *tmp82 *tmp81 .BAR_GAP
-    * op add *tmp80 .OFFSET_Y *tmp82
+  280 op mul *tmp82 *tmp81 22
+  281 op add *tmp80 4 *tmp82
   282 jump *label52 always
   283 label *label51
   284 set *tmp80 176
   285 label *label52
-    * op sub :crh *tmp80 :cry
+  286 op sub :crh *tmp80 0
   287 jump *label50 always
   288 label *label49
-    * set :crx :clx
-    * set :crw :clw
-    * set :cry :cly
+  289 set :crx 0
+  290 set :crw 91
+  291 set :cry *tmp64
   292 set :crh :clh
   293 label *label50
   294 label *label40
 
   329 sensor :e :factory @enabled
   330 sensor :power :factory @totalPower
   331 sensor :boost :factory @timescale
-    * jump *label63 greaterThanEq :r1 :minimum
+  332 jump *label63 greaterThanEq :r1 101
   333 set :minimum :r1
   334 set :icon .RES1
   335 label *label63
 
   382 draw rect *tmp134 *tmp135 8 4
   383 op add *tmp136 :x 12
   384 op add *tmp137 :y 3
-    * draw rect *tmp136 *tmp137 2 2
+  385 draw rect *tmp136 *tmp133 2 2
   386 op add *tmp138 :x 12
   387 op add *tmp139 :y 9
-    * draw rect *tmp138 *tmp139 2 2
+  388 draw rect *tmp136 *tmp139 2 2
   389 draw color 255 80 80 255
   390 op add *tmp140 :x 4
   391 op add *tmp141 :y 6
 
   404 op add *tmp147 :y 2
   405 op add *tmp148 :x 12
   406 op add *tmp149 :y 12
-    * draw line *tmp146 *tmp147 *tmp148 *tmp149
+  407 draw line *tmp142 *tmp145 *tmp144 *tmp143
   408 draw color 0 0 0 255
   409 op sub *tmp150 :x 1
   410 op sub *tmp151 :y 1
 
   430 label *label81
   431 op greaterThan *tmp157 :minimum 66
   432 op greaterThanEq *tmp158 :boost EXPECTED_BOOST
-    * op land *tmp159 *tmp157 *tmp158
+  433 op land *tmp159 *tmp124 *tmp158
   434 jump *label83 equal *tmp159 false
   435 set *tmp160 0
   436 jump *label84 always
 
   455 set :boost EXPECTED_BOOST
   456 label *label87
   457 label *label88
-    * op mul *tmp168 .BAR_LENGTH :boost
+  458 op mul *tmp168 61 :boost
   459 op idiv :length *tmp168 EXPECTED_BOOST
   460 draw color :red :green :blue 128
   461 op mul *tmp170 :minimum :length
   462 op idiv *tmp171 *tmp170 100
-    * draw rect :x :y *tmp171 .BAR_WIDTH
+  463 draw rect :x :y *tmp171 14
   464 draw color :red :green :blue 255
-    * draw lineRect :x :y :length .BAR_WIDTH
+  465 draw lineRect :x :y :length 14
   466 op add :index :index 1
   467 label *label61
   468 label *label62

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-20 instructions):
 
     2 set EXPECTED_BOOST 1.5
     3 set .TYPE null
     4 set .DISPLAY null
-    * set .SWITCH .TYPE
-    * set .MESSAGE .DISPLAY
+    5 set .SWITCH null
+    6 set .MESSAGE null
     7 set .CAPACITY null
     8 set .OUTPUT null
-    * set .RES3 .CAPACITY
-    * set .RES2 .OUTPUT
-    * set .RES1 .RES3
-    * set .MUL3 .RES2
-    * set .MUL2 .RES1
-    * set .MUL1 .MUL3
+    9 set .RES3 null
+   10 set .RES2 null
+   11 set .RES1 .CAPACITY
+   12 set .MUL3 .OUTPUT
+   13 set .MUL2 .RES3
+   14 set .MUL1 .RES2
    15 set :icon null
    16 label *label0
    17 jump *label3 equal .DISPLAY null
 
   183 jump *label33 notEqual *tmp28 @logic-display
   184 set .OFFSET_X 2
   185 set .OFFSET_Y 2
-    * set .BAR_WIDTH 14
-    * set .BAR_LENGTH 61
   186 set .BAR_SPACE 80
   187 set .BAR_GAP 20
   188 set :clx 0
   189 set :crx 0
-    * op add *tmp31 2 80
   190 op sub :clw 82 2
   191 set :crw 80
   192 jump *label35 notEqual FROM_INDEX 0
 
   211 label *label33
   212 set .OFFSET_X 5
   213 set .OFFSET_Y 4
-    * set .BAR_WIDTH 14
-    * set .BAR_LENGTH 61
   214 set .BAR_SPACE 88
   215 set .BAR_GAP 22
   216 jump *label39 lessThan FROM_INDEX 8
-    * op add *tmp44 5 88
   217 op sub :crx 93 2
-    * op add *tmp46 5 88
-    * op sub *tmp47 176 93
   218 op add :crw 83 1
   219 op mod *tmp49 FROM_INDEX 8
   220 jump *label41 notEqual *tmp49 0
   221 set *tmp51 0
   222 jump *label42 always
   223 label *label41
-    * op mod *tmp52 FROM_INDEX 8
   224 op mul *tmp53 *tmp49 22
   225 op add *tmp51 4 *tmp53
   226 label *label42
 
   241 jump *label40 always
   242 label *label39
   243 set :clx 0
-    * op add *tmp61 5 88
   244 op sub :clw 93 2
   245 jump *label45 notEqual FROM_INDEX 0
   246 set *tmp64 0
 
   259 label *label48
   260 op sub :clh *tmp68 *tmp64
   261 jump *label49 lessThan TO_INDEX 8
-    * op add *tmp74 5 88
   262 op sub :crx 93 2
-    * op add *tmp76 5 88
-    * op sub *tmp77 176 93
   263 op add :crw 83 1
   264 set :cry 0
   265 jump *label51 greaterThanEq TO_INDEX 16
 
   368 op add *tmp135 :y 5
   369 draw rect *tmp134 *tmp135 8 4
   370 op add *tmp136 :x 12
-    * op add *tmp137 :y 3
   371 draw rect *tmp136 *tmp133 2 2
-    * op add *tmp138 :x 12
   372 op add *tmp139 :y 9
   373 draw rect *tmp136 *tmp139 2 2
   374 draw color 255 80 80 255
 
   385 op add *tmp144 :x 12
   386 op add *tmp145 :y 2
   387 draw line *tmp142 *tmp143 *tmp144 *tmp145
-    * op add *tmp146 :x 2
-    * op add *tmp147 :y 2
-    * op add *tmp148 :x 12
-    * op add *tmp149 :y 12
   388 draw line *tmp142 *tmp145 *tmp144 *tmp143
   389 draw color 0 0 0 255
   390 op sub *tmp150 :x 1
 
   409 set :minimum :output
   410 jump *label82 always
   411 label *label81
-    * op greaterThan *tmp157 :minimum 66
   412 op greaterThanEq *tmp158 :boost EXPECTED_BOOST
   413 op land *tmp159 *tmp124 *tmp158
   414 jump *label83 equal *tmp159 false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3:
 
     8 set .OUTPUT null
     9 set .RES3 null
    10 set .RES2 null
-    * set .RES1 .CAPACITY
-    * set .MUL3 .OUTPUT
-    * set .MUL2 .RES3
-    * set .MUL1 .RES2
+   11 set .RES1 null
+   12 set .MUL3 null
+   13 set .MUL2 null
+   14 set .MUL1 null
    15 set :icon null
    16 label *label0
    17 jump *label3 equal .DISPLAY null

Modifications by Iterated phase, Loop Rotation, pass 1, iteration 1 (-1 instructions):
 
    14 set .MUL1 null
    15 set :icon null
    16 label *label0
-    * jump *label3 equal .DISPLAY null
-    * label *label4
-    * jump *label2 notEqual .TYPE null
+   17 label *label90
    18 label *label3
    19 print "Universal Factory Monitor"
    20 print "\n"
    21 set :n @links
    22 label *label5
    23 jump *label7 lessThanEq :n 0
+   24 label *label91
    25 op sub :n :n 1
    26 getlink :block :n
    27 sensor *tmp7 :block @type
 
   138 print " not supported"
   139 label *label8
   140 label *label6
-    * jump *label5 always
+  141 jump *label91 greaterThan :n 0
   142 label *label7
   143 print "Message: "
   144 print .MESSAGE
 
   176 label *label30
   177 printflush .MESSAGE
   178 label *label1
-    * jump *label0 always
+  179 jump *label3 equal .DISPLAY null
+  180 jump *label90 equal .TYPE null
+  181 label *label89
   182 label *label2
   183 sensor *tmp28 .DISPLAY @type
   184 jump *label33 notEqual *tmp28 @logic-display
 
   298 set :n 0
   299 label *label56
   300 jump *label58 greaterThanEq :n @links
+  301 label *label92
   302 jump *label59 lessThan :index TO_INDEX
   303 jump *label58 always
   304 label *label59
 
   450 label *label62
   451 label *label57
   452 op add :n :n 1
-    * jump *label56 always
+  453 jump *label92 lessThan :n @links
   454 label *label58
   455 drawflush .DISPLAY
   456 op sub *tmp173 @time :start

Modifications by Iterated phase, Boolean Optimization, pass 1, iteration 1 (-8 instructions):
 
   168 print .OUTPUT
   169 print "\n"
   170 jump *label31 equal .DISPLAY null
-    * label *label32
   171 jump *label29 notEqual .TYPE null
   172 label *label31
   173 print "No block to monitor or display."
 
   336 op sub *tmp114 100 :output
   337 op lessThan *tmp115 *tmp114 :minimum
   338 op land :showout *tmp113 *tmp115
-    * jump *label69 equal :showout false
-    * set :icon .OUTPUT
-    * label *label69
-    * label *label70
+  339 select :icon notEqual :showout false .OUTPUT :icon
   340 op idiv :column :index 8
   341 op mod :row :index 8
   342 op mul *tmp120 :column .BAR_SPACE
   343 op add :x .OFFSET_X *tmp120
   344 op mul *tmp122 :row .BAR_GAP
   345 op add :y .OFFSET_Y *tmp122
-    * op greaterThan *tmp124 :minimum 66
-    * op equal *tmp125 :showout false
-    * op land *tmp126 *tmp124 *tmp125
-    * jump *label71 equal *tmp126 false
-    * set :icon .TYPE
-    * label *label71
-    * label *label72
+  346 op greaterThan *tmp124 :minimum 66
+  347 op equal *tmp125 :showout false
+  348 op land *tmp126 *tmp124 *tmp125
+  349 select :icon notEqual *tmp126 false .TYPE :icon
   350 draw color 255 255 255 255
   351 jump *label73 equal :e false
   352 jump *label75 lessThanEq :power 0
 
   389 label *label74
   390 op add :x :x 16
   391 jump *label77 notEqual :power 0
-    * label *label80
   392 jump *label77 notEqual :e 0
-    * label *label79
   393 set :red 255
   394 set :green 0
   395 set :blue 0
 
   402 set :minimum :output
   403 jump *label82 always
   404 label *label81
-    * op greaterThanEq *tmp158 :boost EXPECTED_BOOST
-    * op land *tmp159 *tmp124 *tmp158
-    * jump *label83 equal *tmp159 false
-    * set *tmp160 0
-    * jump *label84 always
-    * label *label83
-    * set *tmp160 255
-    * label *label84
+  405 op greaterThanEq *tmp158 :boost EXPECTED_BOOST
+  406 op land *tmp159 *tmp124 *tmp158
+  407 select *tmp160 notEqual *tmp159 false 0 255
   408 set :red *tmp160
-    * jump *label85 lessThanEq :minimum 33
-    * set *tmp162 255
-    * jump *label86 always
-    * label *label85
-    * set *tmp162 0
-    * label *label86
+  409 select *tmp162 greaterThan :minimum 33 255 0
   410 set :green *tmp162
   411 set :blue 0
   412 label *label82

Modifications by Iterated phase, If Expression Optimization, pass 1, iteration 1 (-3 instructions):
 
   189 set :crx 0
   190 op sub :clw 82 2
   191 set :crw 80
-    * jump *label35 notEqual FROM_INDEX 0
   192 set *tmp34 0
-    * jump *label36 always
+  193 jump *label36 equal FROM_INDEX 0
   194 label *label35
   195 op mul *tmp35 FROM_INDEX 20
   196 op add *tmp34 2 *tmp35
   197 label *label36
   198 set :cly *tmp34
   199 set :cry *tmp34
-    * jump *label37 greaterThanEq TO_INDEX 8
+  200 set *tmp38 176
+  201 jump *label38 greaterThanEq TO_INDEX 8
   202 op mul *tmp39 TO_INDEX 20
   203 op add *tmp38 2 *tmp39
   204 jump *label38 always
-    * label *label37
-    * set *tmp38 176
   205 label *label38
   206 op sub :clh *tmp38 *tmp34
   207 set :crh :clh
 
   214 jump *label39 lessThan FROM_INDEX 8
   215 op sub :crx 93 2
   216 op add :crw 83 1
+  217 set *tmp51 0
   218 op mod *tmp49 FROM_INDEX 8
-    * jump *label41 notEqual *tmp49 0
-    * set *tmp51 0
-    * jump *label42 always
+  219 jump *label42 equal *tmp49 0
   220 label *label41
   221 op mul *tmp53 *tmp49 22
   222 op add *tmp51 4 *tmp53
   223 label *label42
   224 set :cry *tmp51
-    * jump *label43 greaterThanEq TO_INDEX 16
+  225 set *tmp56 176
+  226 jump *label44 greaterThanEq TO_INDEX 16
   227 op mod *tmp57 TO_INDEX 8
   228 op mul *tmp58 *tmp57 22
   229 op add *tmp56 4 *tmp58
   230 jump *label44 always
-    * label *label43
-    * set *tmp56 176
   231 label *label44
   232 op sub :crh *tmp56 *tmp51
   233 set :clx 91
 
   238 label *label39
   239 set :clx 0
   240 op sub :clw 93 2
-    * jump *label45 notEqual FROM_INDEX 0
   241 set *tmp64 0
-    * jump *label46 always
+  242 jump *label46 equal FROM_INDEX 0
   243 label *label45
   244 op mul *tmp65 FROM_INDEX 22
   245 op add *tmp64 4 *tmp65
   246 label *label46
   247 set :cly *tmp64
-    * jump *label47 greaterThanEq TO_INDEX 8
+  248 set *tmp68 176
+  249 jump *label48 greaterThanEq TO_INDEX 8
   250 op mul *tmp69 TO_INDEX 22
   251 op add *tmp68 4 *tmp69
   252 jump *label48 always
-    * label *label47
-    * set *tmp68 176
   253 label *label48
   254 op sub :clh *tmp68 *tmp64
   255 jump *label49 lessThan TO_INDEX 8
   256 op sub :crx 93 2
   257 op add :crw 83 1
   258 set :cry 0
-    * jump *label51 greaterThanEq TO_INDEX 16
+  259 set *tmp80 176
+  260 jump *label52 greaterThanEq TO_INDEX 16
   261 op mod *tmp81 TO_INDEX 8
   262 op mul *tmp82 *tmp81 22
   263 op add *tmp80 4 *tmp82
   264 jump *label52 always
-    * label *label51
-    * set *tmp80 176
   265 label *label52
   266 op sub :crh *tmp80 0
   267 jump *label50 always

Modifications by Partial loop rotation at line 160:1 (+1 instructions):
 
   277 label *label53
   278 sensor *tmp87 .SWITCH @enabled
   279 jump *label55 notEqual *tmp87 0
+  280 label *label93
   281 set :start @time
   282 print "Universal Factory Monitor"
   283 print "\n"
 
   435 print " ms"
   436 printflush .MESSAGE
   437 label *label54
-    * jump *label53 always
+  438 sensor *tmp87 .SWITCH @enabled
+  439 jump *label93 equal *tmp87 0
   440 label *label55
   441 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   290 set :index FROM_INDEX
   291 set :n 0
   292 label *label56
-    * jump *label58 greaterThanEq :n @links
+  293 jump *label58 greaterThanEq 0 @links
   294 label *label92
   295 jump *label59 lessThan :index TO_INDEX
   296 jump *label58 always

Modifications by Convert case at line 20:9 (segments: 1, padded low) (+137 instructions):
 
    25 op sub :n :n 1
    26 getlink :block :n
    27 sensor *tmp7 :block @type
-    * jump *label9 notEqual *tmp7 @message
+   28 sensor *tmp175 *tmp7 @id
+   29 jump *label94 greaterThanEq *tmp175 146
+   30 multijump *label96 *tmp175 0 (m:*label95)
+   31 multilabel *label96 (m:*label95)
+   32 jump *label94 always
+   33 multilabel *label97 (m:*label95)
+   34 jump *label94 always
+   35 multilabel *label98 (m:*label95)
+   36 jump *label16 always
+   37 multilabel *label99 (m:*label95)
+   38 jump *label18 always
+   39 multilabel *label100 (m:*label95)
+   40 jump *label20 always
+   41 multilabel *label101 (m:*label95)
+   42 jump *label28 always
+   43 multilabel *label102 (m:*label95)
+   44 jump *label22 always
+   45 multilabel *label103 (m:*label95)
+   46 jump *label94 always
+   47 multilabel *label104 (m:*label95)
+   48 jump *label24 always
+   49 multilabel *label105 (m:*label95)
+   50 jump *label26 always
+   51 multilabel *label106 (m:*label95)
+   52 jump *label94 always
+   53 multilabel *label107 (m:*label95)
+   54 jump *label94 always
+   55 multilabel *label108 (m:*label95)
+   56 jump *label94 always
+   57 multilabel *label109 (m:*label95)
+   58 jump *label94 always
+   59 multilabel *label110 (m:*label95)
+   60 jump *label94 always
+   61 multilabel *label111 (m:*label95)
+   62 jump *label94 always
+   63 multilabel *label112 (m:*label95)
+   64 jump *label94 always
+   65 multilabel *label113 (m:*label95)
+   66 jump *label94 always
+   67 multilabel *label114 (m:*label95)
+   68 jump *label94 always
+   69 multilabel *label115 (m:*label95)
+   70 jump *label94 always
+   71 multilabel *label116 (m:*label95)
+   72 jump *label94 always
+   73 multilabel *label117 (m:*label95)
+   74 jump *label94 always
+   75 multilabel *label118 (m:*label95)
+   76 jump *label94 always
+   77 multilabel *label119 (m:*label95)
+   78 jump *label94 always
+   79 multilabel *label120 (m:*label95)
+   80 jump *label94 always
+   81 multilabel *label121 (m:*label95)
+   82 jump *label94 always
+   83 multilabel *label122 (m:*label95)
+   84 jump *label94 always
+   85 multilabel *label123 (m:*label95)
+   86 jump *label94 always
+   87 multilabel *label124 (m:*label95)
+   88 jump *label94 always
+   89 multilabel *label125 (m:*label95)
+   90 jump *label94 always
+   91 multilabel *label126 (m:*label95)
+   92 jump *label94 always
+   93 multilabel *label127 (m:*label95)
+   94 jump *label94 always
+   95 multilabel *label128 (m:*label95)
+   96 jump *label94 always
+   97 multilabel *label129 (m:*label95)
+   98 jump *label94 always
+   99 multilabel *label130 (m:*label95)
+  100 jump *label94 always
+  101 multilabel *label131 (m:*label95)
+  102 jump *label94 always
+  103 multilabel *label132 (m:*label95)
+  104 jump *label94 always
+  105 multilabel *label133 (m:*label95)
+  106 jump *label94 always
+  107 multilabel *label134 (m:*label95)
+  108 jump *label94 always
+  109 multilabel *label135 (m:*label95)
+  110 jump *label94 always
+  111 multilabel *label136 (m:*label95)
+  112 jump *label94 always
+  113 multilabel *label137 (m:*label95)
+  114 jump *label94 always
+  115 multilabel *label138 (m:*label95)
+  116 jump *label94 always
+  117 multilabel *label139 (m:*label95)
+  118 jump *label94 always
+  119 multilabel *label140 (m:*label95)
+  120 jump *label94 always
+  121 multilabel *label141 (m:*label95)
+  122 jump *label94 always
+  123 multilabel *label142 (m:*label95)
+  124 jump *label94 always
+  125 multilabel *label143 (m:*label95)
+  126 jump *label94 always
+  127 multilabel *label144 (m:*label95)
+  128 jump *label94 always
+  129 multilabel *label145 (m:*label95)
+  130 jump *label94 always
+  131 multilabel *label146 (m:*label95)
+  132 jump *label94 always
+  133 multilabel *label147 (m:*label95)
+  134 jump *label94 always
+  135 multilabel *label148 (m:*label95)
+  136 jump *label94 always
+  137 multilabel *label149 (m:*label95)
+  138 jump *label94 always
+  139 multilabel *label150 (m:*label95)
+  140 jump *label94 always
+  141 multilabel *label151 (m:*label95)
+  142 jump *label94 always
+  143 multilabel *label152 (m:*label95)
+  144 jump *label94 always
+  145 multilabel *label153 (m:*label95)
+  146 jump *label94 always
+  147 multilabel *label154 (m:*label95)
+  148 jump *label94 always
+  149 multilabel *label155 (m:*label95)
+  150 jump *label94 always
+  151 multilabel *label156 (m:*label95)
+  152 jump *label94 always
+  153 multilabel *label157 (m:*label95)
+  154 jump *label94 always
+  155 multilabel *label158 (m:*label95)
+  156 jump *label94 always
+  157 multilabel *label159 (m:*label95)
+  158 jump *label94 always
+  159 multilabel *label160 (m:*label95)
+  160 jump *label94 always
+  161 multilabel *label161 (m:*label95)
+  162 jump *label94 always
+  163 multilabel *label162 (m:*label95)
+  164 jump *label94 always
+  165 multilabel *label163 (m:*label95)
+  166 jump *label94 always
+  167 multilabel *label164 (m:*label95)
+  168 jump *label94 always
+  169 multilabel *label165 (m:*label95)
+  170 jump *label94 always
+  171 multilabel *label166 (m:*label95)
+  172 jump *label94 always
+  173 multilabel *label167 (m:*label95)
+  174 jump *label94 always
+  175 multilabel *label168 (m:*label95)
+  176 jump *label94 always
+  177 multilabel *label169 (m:*label95)
+  178 jump *label94 always
+  179 multilabel *label170 (m:*label95)
+  180 jump *label94 always
+  181 multilabel *label171 (m:*label95)
+  182 jump *label94 always
+  183 multilabel *label172 (m:*label95)
+  184 jump *label94 always
+  185 multilabel *label173 (m:*label95)
+  186 jump *label94 always
+  187 multilabel *label174 (m:*label95)
+  188 jump *label94 always
+  189 multilabel *label175 (m:*label95)
+  190 jump *label94 always
+  191 multilabel *label176 (m:*label95)
+  192 jump *label94 always
+  193 multilabel *label177 (m:*label95)
+  194 jump *label94 always
+  195 multilabel *label178 (m:*label95)
+  196 jump *label94 always
+  197 multilabel *label179 (m:*label95)
+  198 jump *label94 always
+  199 multilabel *label180 (m:*label95)
+  200 jump *label94 always
+  201 multilabel *label181 (m:*label95)
+  202 jump *label94 always
+  203 multilabel *label182 (m:*label95)
+  204 jump *label94 always
+  205 multilabel *label183 (m:*label95)
+  206 jump *label94 always
+  207 multilabel *label184 (m:*label95)
+  208 jump *label94 always
+  209 multilabel *label185 (m:*label95)
+  210 jump *label94 always
+  211 multilabel *label186 (m:*label95)
+  212 jump *label94 always
+  213 multilabel *label187 (m:*label95)
+  214 jump *label94 always
+  215 multilabel *label188 (m:*label95)
+  216 jump *label94 always
+  217 multilabel *label189 (m:*label95)
+  218 jump *label94 always
+  219 multilabel *label190 (m:*label95)
+  220 jump *label94 always
+  221 multilabel *label191 (m:*label95)
+  222 jump *label94 always
+  223 multilabel *label192 (m:*label95)
+  224 jump *label94 always
+  225 multilabel *label193 (m:*label95)
+  226 jump *label94 always
+  227 multilabel *label194 (m:*label95)
+  228 jump *label94 always
+  229 multilabel *label195 (m:*label95)
+  230 jump *label94 always
+  231 multilabel *label196 (m:*label95)
+  232 jump *label94 always
+  233 multilabel *label197 (m:*label95)
+  234 jump *label94 always
+  235 multilabel *label198 (m:*label95)
+  236 jump *label94 always
+  237 multilabel *label199 (m:*label95)
+  238 jump *label94 always
+  239 multilabel *label200 (m:*label95)
+  240 jump *label94 always
+  241 multilabel *label201 (m:*label95)
+  242 jump *label94 always
+  243 multilabel *label202 (m:*label95)
+  244 jump *label94 always
+  245 multilabel *label203 (m:*label95)
+  246 jump *label94 always
+  247 multilabel *label204 (m:*label95)
+  248 jump *label94 always
+  249 multilabel *label205 (m:*label95)
+  250 jump *label94 always
+  251 multilabel *label206 (m:*label95)
+  252 jump *label94 always
+  253 multilabel *label207 (m:*label95)
+  254 jump *label94 always
+  255 multilabel *label208 (m:*label95)
+  256 jump *label94 always
+  257 multilabel *label209 (m:*label95)
+  258 jump *label94 always
+  259 multilabel *label210 (m:*label95)
+  260 jump *label94 always
+  261 multilabel *label211 (m:*label95)
+  262 jump *label94 always
+  263 multilabel *label212 (m:*label95)
+  264 jump *label94 always
+  265 multilabel *label213 (m:*label95)
+  266 jump *label94 always
+  267 multilabel *label214 (m:*label95)
+  268 jump *label94 always
+  269 multilabel *label215 (m:*label95)
+  270 jump *label94 always
+  271 multilabel *label216 (m:*label95)
+  272 jump *label94 always
+  273 multilabel *label217 (m:*label95)
+  274 jump *label94 always
+  275 multilabel *label218 (m:*label95)
+  276 jump *label94 always
+  277 multilabel *label219 (m:*label95)
+  278 jump *label94 always
+  279 multilabel *label220 (m:*label95)
+  280 jump *label94 always
+  281 multilabel *label221 (m:*label95)
+  282 jump *label94 always
+  283 multilabel *label222 (m:*label95)
+  284 jump *label94 always
+  285 multilabel *label223 (m:*label95)
+  286 jump *label94 always
+  287 multilabel *label224 (m:*label95)
+  288 jump *label94 always
+  289 multilabel *label225 (m:*label95)
+  290 jump *label94 always
+  291 multilabel *label226 (m:*label95)
+  292 jump *label94 always
+  293 multilabel *label227 (m:*label95)
+  294 jump *label94 always
+  295 multilabel *label228 (m:*label95)
+  296 jump *label94 always
+  297 multilabel *label229 (m:*label95)
+  298 jump *label94 always
+  299 multilabel *label230 (m:*label95)
+  300 jump *label94 always
+  301 multilabel *label231 (m:*label95)
+  302 jump *label94 always
+  303 multilabel *label232 (m:*label95)
+  304 jump *label94 always
+  305 multilabel *label233 (m:*label95)
+  306 jump *label10 always
+  307 multilabel *label234 (m:*label95)
+  308 jump *label12 always
+  309 multilabel *label235 (m:*label95)
+  310 jump *label94 always
+  311 multilabel *label236 (m:*label95)
+  312 jump *label94 always
+  313 multilabel *label237 (m:*label95)
+  314 jump *label94 always
+  315 multilabel *label238 (m:*label95)
+  316 jump *label94 always
+  317 multilabel *label239 (m:*label95)
+  318 jump *label94 always
+  319 multilabel *label240 (m:*label95)
+  320 jump *label14 always
+  321 multilabel *label241 (m:*label95)
+  322 label *label14
+  323 set .DISPLAY :block
+  324 jump *label8 always
   325 label *label10
   326 set .MESSAGE :block
   327 jump *label8 always
   328 label *label9
-    * jump *label11 notEqual *tmp7 @switch
   329 label *label12
   330 set .SWITCH :block
   331 jump *label8 always
   332 label *label11
-    * jump *label14 equal *tmp7 @logic-display
-    * jump *label13 notEqual *tmp7 @large-logic-display
-    * label *label14
-    * set .DISPLAY :block
-    * jump *label8 always
   333 label *label13
-    * jump *label15 notEqual *tmp7 @silicon-smelter
   334 label *label16
   335 set .TYPE @silicon-smelter
   336 sensor .CAPACITY :block @itemCapacity
 
   343 set .OUTPUT @silicon
   344 jump *label8 always
   345 label *label15
-    * jump *label17 notEqual *tmp7 @silicon-crucible
   346 label *label18
   347 set .TYPE @silicon-crucible
   348 sensor .CAPACITY :block @itemCapacity
 
   355 set .OUTPUT @silicon
   356 jump *label8 always
   357 label *label17
-    * jump *label19 notEqual *tmp7 @kiln
   358 label *label20
   359 set .TYPE @kiln
   360 sensor .CAPACITY :block @itemCapacity
 
   367 set .OUTPUT @metaglass
   368 jump *label8 always
   369 label *label19
-    * jump *label21 notEqual *tmp7 @phase-weaver
   370 label *label22
   371 set .TYPE @phase-weaver
   372 sensor .CAPACITY :block @itemCapacity
 
   379 set .OUTPUT @phase-fabric
   380 jump *label8 always
   381 label *label21
-    * jump *label23 notEqual *tmp7 @pyratite-mixer
   382 label *label24
   383 set .TYPE @pyratite-mixer
   384 sensor .CAPACITY :block @itemCapacity
 
   391 set .OUTPUT @pyratite
   392 jump *label8 always
   393 label *label23
-    * jump *label25 notEqual *tmp7 @blast-mixer
   394 label *label26
   395 set .TYPE @blast-mixer
   396 sensor .CAPACITY :block @itemCapacity
 
   403 set .OUTPUT @blast-compound
   404 jump *label8 always
   405 label *label25
-    * jump *label27 notEqual *tmp7 @plastanium-compressor
   406 label *label28
   407 set .TYPE @plastanium-compressor
   408 sensor .CAPACITY :block @itemCapacity
 
   416 set .OUTPUT @plastanium
   417 jump *label8 always
   418 label *label27
+  419 label *label94
   420 print "\n  "
   421 print :block
   422 print " not supported"

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-4 instructions):
 
   485 jump *label38 greaterThanEq TO_INDEX 8
   486 op mul *tmp39 TO_INDEX 20
   487 op add *tmp38 2 *tmp39
-    * jump *label38 always
   488 label *label38
   489 op sub :clh *tmp38 *tmp34
   490 set :crh :clh
 
   510 op mod *tmp57 TO_INDEX 8
   511 op mul *tmp58 *tmp57 22
   512 op add *tmp56 4 *tmp58
-    * jump *label44 always
   513 label *label44
   514 op sub :crh *tmp56 *tmp51
   515 set :clx 91
 
   531 jump *label48 greaterThanEq TO_INDEX 8
   532 op mul *tmp69 TO_INDEX 22
   533 op add *tmp68 4 *tmp69
-    * jump *label48 always
   534 label *label48
   535 op sub :clh *tmp68 *tmp64
   536 jump *label49 lessThan TO_INDEX 8
 
   542 op mod *tmp81 TO_INDEX 8
   543 op mul *tmp82 *tmp81 22
   544 op add *tmp80 4 *tmp82
-    * jump *label52 always
   545 label *label52
   546 op sub :crh *tmp80 0
   547 jump *label50 always

Modifications by Iterated phase, Expression Optimization, pass 2, iteration 1:
 
   543 op mul *tmp82 *tmp81 22
   544 op add *tmp80 4 *tmp82
   545 label *label52
-    * op sub :crh *tmp80 0
+  546 set :crh *tmp80
   547 jump *label50 always
   548 label *label49
   549 set :crx 0

Modifications by Iterated phase, Temp Variables Elimination, pass 2, iteration 1 (-2 instructions):
 
   678 label *label81
   679 op greaterThanEq *tmp158 :boost EXPECTED_BOOST
   680 op land *tmp159 *tmp124 *tmp158
-    * select *tmp160 notEqual *tmp159 false 0 255
-    * set :red *tmp160
-    * select *tmp162 greaterThan :minimum 33 255 0
-    * set :green *tmp162
+  681 select :red notEqual *tmp159 false 0 255
+  682 select :green greaterThan :minimum 33 255 0
   683 set :blue 0
   684 label *label82
   685 label *label78

Modifications by Jumps phase, Jump Straightening, pass 4, iteration 1 (-1 instructions):
 
   550 set :n 0
   551 jump *label58 greaterThanEq 0 @links
   552 label *label92
-    * jump *label59 lessThan :index TO_INDEX
-    * jump *label58 always
+  553 jump *label58 greaterThanEq :index TO_INDEX
   554 label *label59
   555 getlink :factory :n
   556 sensor *tmp93 :factory @type

Modifications by Jumps phase, Jump Threading, pass 4, iteration 1:
+    0 label __start__
     1 set FROM_INDEX 0
     2 set TO_INDEX 16
     3 set EXPECTED_BOOST 1.5
 
   536 label *label34
   537 control enabled .SWITCH 0
   538 sensor *tmp87 .SWITCH @enabled
-    * jump *label55 notEqual *tmp87 0
+  539 jump __start__ notEqual *tmp87 0
   540 label *label93
   541 set :start @time
   542 print "Universal Factory Monitor"
 
   600 op add *tmp131 :x 7
   601 op add *tmp132 :y 7
   602 draw image *tmp131 *tmp132 :icon 16 0
-    * jump *label76 always
+  603 jump *label74 always
   604 label *label75
   605 draw color 255 80 80 255
   606 op add *tmp133 :y 3

Modifications by Jumps phase, Single Step Elimination, pass 4, iteration 1 (-1 instructions):
 
   683 printflush .MESSAGE
   684 sensor *tmp87 .SWITCH @enabled
   685 jump *label93 equal *tmp87 0
-    * end

Modifications by Final phase, Print Merging, iteration 1 (-22 instructions):
 
    16 set :icon null
    17 label *label90
    18 label *label3
-    * print "Universal Factory Monitor"
-    * print "\n"
+   19 print "Universal Factory Monitor\n"
    20 set :n @links
    21 jump *label7 lessThanEq :n 0
    22 label *label91
 
   405 set .OUTPUT @plastanium
   406 jump *label8 always
   407 label *label94
-    * print "\n  "
-    * print :block
-    * print " not supported"
+  408 print "\n  {0} not supported"
+  409 format :block
   410 label *label8
   411 jump *label91 greaterThan :n 0
   412 label *label7
-    * print "Message: "
-    * print .MESSAGE
-    * print "\n"
-    * print "Switch: "
-    * print .SWITCH
-    * print "\n"
-    * print "Display: "
-    * print .DISPLAY
-    * print "\n"
-    * print "Monitoring: "
-    * print .TYPE
-    * print "\n"
-    * print "Capacity: "
-    * print .CAPACITY
-    * print "\n"
-    * print "Resource 1: "
-    * print .RES1
-    * print "\n"
-    * print "Resource 2: "
-    * print .RES2
-    * print "\n"
-    * print "Resource 3: "
-    * print .RES3
-    * print "\n"
-    * print "Output: "
-    * print .OUTPUT
-    * print "\n"
+  413 print "Message: {0}\nSwitch: {0}\nDisplay: {0}\nMonitoring: {0}\nCapacity: {0}\nResource 1: {0}\nResource 2: {0}\nResource 3: {0}\nOutput: {0}\n"
+  414 format .MESSAGE
+  415 format .SWITCH
+  416 format .DISPLAY
+  417 format .TYPE
+  418 format .CAPACITY
+  419 format .RES1
+  420 format .RES2
+  421 format .RES3
+  422 format .OUTPUT
   423 jump *label31 equal .DISPLAY null
   424 jump *label29 notEqual .TYPE null
   425 label *label31
 
   520 jump __start__ notEqual *tmp87 0
   521 label *label93
   522 set :start @time
-    * print "Universal Factory Monitor"
-    * print "\n"
-    * print "Monitoring: "
+  523 print "Universal Factory Monitor\nMonitoring: "
   524 print .TYPE
   525 draw color 0 0 80 255
   526 draw rect :clx :cly :clw :clh
 
   656 drawflush .DISPLAY
   657 op sub *tmp173 @time :start
   658 op floor *tmp174 *tmp173
-    * print "\nDraw time: "
-    * print *tmp174
-    * print " ms"
+  659 print "\nDraw time: {0} ms"
+  660 format *tmp174
   661 printflush .MESSAGE
   662 sensor *tmp87 .SWITCH @enabled
   663 jump *label93 equal *tmp87 0

Final code before resolving virtual instructions:

label __start__
set FROM_INDEX 0
set TO_INDEX 16
set EXPECTED_BOOST 1.5
set .TYPE null
set .DISPLAY null
set .SWITCH null
set .MESSAGE null
set .CAPACITY null
set .OUTPUT null
set .RES3 null
set .RES2 null
set .RES1 null
set .MUL3 null
set .MUL2 null
set .MUL1 null
set :icon null
label *label90
label *label3
print "Universal Factory Monitor\n"
set :n @links
jump *label7 lessThanEq :n 0
label *label91
op sub :n :n 1
getlink :block :n
sensor *tmp7 :block @type
sensor *tmp175 *tmp7 @id
jump *label94 greaterThanEq *tmp175 146
multijump *label96 *tmp175 0
multilabel *label96
jump *label94 always
multilabel *label97
jump *label94 always
multilabel *label98
jump *label16 always
multilabel *label99
jump *label18 always
multilabel *label100
jump *label20 always
multilabel *label101
jump *label28 always
multilabel *label102
jump *label22 always
multilabel *label103
jump *label94 always
multilabel *label104
jump *label24 always
multilabel *label105
jump *label26 always
multilabel *label106
jump *label94 always
multilabel *label107
jump *label94 always
multilabel *label108
jump *label94 always
multilabel *label109
jump *label94 always
multilabel *label110
jump *label94 always
multilabel *label111
jump *label94 always
multilabel *label112
jump *label94 always
multilabel *label113
jump *label94 always
multilabel *label114
jump *label94 always
multilabel *label115
jump *label94 always
multilabel *label116
jump *label94 always
multilabel *label117
jump *label94 always
multilabel *label118
jump *label94 always
multilabel *label119
jump *label94 always
multilabel *label120
jump *label94 always
multilabel *label121
jump *label94 always
multilabel *label122
jump *label94 always
multilabel *label123
jump *label94 always
multilabel *label124
jump *label94 always
multilabel *label125
jump *label94 always
multilabel *label126
jump *label94 always
multilabel *label127
jump *label94 always
multilabel *label128
jump *label94 always
multilabel *label129
jump *label94 always
multilabel *label130
jump *label94 always
multilabel *label131
jump *label94 always
multilabel *label132
jump *label94 always
multilabel *label133
jump *label94 always
multilabel *label134
jump *label94 always
multilabel *label135
jump *label94 always
multilabel *label136
jump *label94 always
multilabel *label137
jump *label94 always
multilabel *label138
jump *label94 always
multilabel *label139
jump *label94 always
multilabel *label140
jump *label94 always
multilabel *label141
jump *label94 always
multilabel *label142
jump *label94 always
multilabel *label143
jump *label94 always
multilabel *label144
jump *label94 always
multilabel *label145
jump *label94 always
multilabel *label146
jump *label94 always
multilabel *label147
jump *label94 always
multilabel *label148
jump *label94 always
multilabel *label149
jump *label94 always
multilabel *label150
jump *label94 always
multilabel *label151
jump *label94 always
multilabel *label152
jump *label94 always
multilabel *label153
jump *label94 always
multilabel *label154
jump *label94 always
multilabel *label155
jump *label94 always
multilabel *label156
jump *label94 always
multilabel *label157
jump *label94 always
multilabel *label158
jump *label94 always
multilabel *label159
jump *label94 always
multilabel *label160
jump *label94 always
multilabel *label161
jump *label94 always
multilabel *label162
jump *label94 always
multilabel *label163
jump *label94 always
multilabel *label164
jump *label94 always
multilabel *label165
jump *label94 always
multilabel *label166
jump *label94 always
multilabel *label167
jump *label94 always
multilabel *label168
jump *label94 always
multilabel *label169
jump *label94 always
multilabel *label170
jump *label94 always
multilabel *label171
jump *label94 always
multilabel *label172
jump *label94 always
multilabel *label173
jump *label94 always
multilabel *label174
jump *label94 always
multilabel *label175
jump *label94 always
multilabel *label176
jump *label94 always
multilabel *label177
jump *label94 always
multilabel *label178
jump *label94 always
multilabel *label179
jump *label94 always
multilabel *label180
jump *label94 always
multilabel *label181
jump *label94 always
multilabel *label182
jump *label94 always
multilabel *label183
jump *label94 always
multilabel *label184
jump *label94 always
multilabel *label185
jump *label94 always
multilabel *label186
jump *label94 always
multilabel *label187
jump *label94 always
multilabel *label188
jump *label94 always
multilabel *label189
jump *label94 always
multilabel *label190
jump *label94 always
multilabel *label191
jump *label94 always
multilabel *label192
jump *label94 always
multilabel *label193
jump *label94 always
multilabel *label194
jump *label94 always
multilabel *label195
jump *label94 always
multilabel *label196
jump *label94 always
multilabel *label197
jump *label94 always
multilabel *label198
jump *label94 always
multilabel *label199
jump *label94 always
multilabel *label200
jump *label94 always
multilabel *label201
jump *label94 always
multilabel *label202
jump *label94 always
multilabel *label203
jump *label94 always
multilabel *label204
jump *label94 always
multilabel *label205
jump *label94 always
multilabel *label206
jump *label94 always
multilabel *label207
jump *label94 always
multilabel *label208
jump *label94 always
multilabel *label209
jump *label94 always
multilabel *label210
jump *label94 always
multilabel *label211
jump *label94 always
multilabel *label212
jump *label94 always
multilabel *label213
jump *label94 always
multilabel *label214
jump *label94 always
multilabel *label215
jump *label94 always
multilabel *label216
jump *label94 always
multilabel *label217
jump *label94 always
multilabel *label218
jump *label94 always
multilabel *label219
jump *label94 always
multilabel *label220
jump *label94 always
multilabel *label221
jump *label94 always
multilabel *label222
jump *label94 always
multilabel *label223
jump *label94 always
multilabel *label224
jump *label94 always
multilabel *label225
jump *label94 always
multilabel *label226
jump *label94 always
multilabel *label227
jump *label94 always
multilabel *label228
jump *label94 always
multilabel *label229
jump *label94 always
multilabel *label230
jump *label94 always
multilabel *label231
jump *label94 always
multilabel *label232
jump *label94 always
multilabel *label233
jump *label10 always
multilabel *label234
jump *label12 always
multilabel *label235
jump *label94 always
multilabel *label236
jump *label94 always
multilabel *label237
jump *label94 always
multilabel *label238
jump *label94 always
multilabel *label239
jump *label94 always
multilabel *label240
jump *label14 always
multilabel *label241
label *label14
set .DISPLAY :block
jump *label8 always
label *label10
set .MESSAGE :block
jump *label8 always
label *label12
set .SWITCH :block
jump *label8 always
label *label16
set .TYPE @silicon-smelter
sensor .CAPACITY :block @itemCapacity
set .RES1 @sand
set .RES2 @coal
set .RES3 @itemCapacity
op div .MUL3 100 .CAPACITY
set .MUL2 .MUL3
set .MUL1 .MUL3
set .OUTPUT @silicon
jump *label8 always
label *label18
set .TYPE @silicon-crucible
sensor .CAPACITY :block @itemCapacity
set .RES1 @sand
set .RES2 @coal
set .RES3 @pyratite
op div .MUL3 100 .CAPACITY
set .MUL2 .MUL3
set .MUL1 .MUL3
set .OUTPUT @silicon
jump *label8 always
label *label20
set .TYPE @kiln
sensor .CAPACITY :block @itemCapacity
set .RES1 @sand
set .RES2 @lead
set .RES3 @itemCapacity
op div .MUL3 100 .CAPACITY
set .MUL2 .MUL3
set .MUL1 .MUL3
set .OUTPUT @metaglass
jump *label8 always
label *label22
set .TYPE @phase-weaver
sensor .CAPACITY :block @itemCapacity
set .RES1 @sand
set .RES2 @thorium
set .RES3 @itemCapacity
op div .MUL3 100 .CAPACITY
set .MUL2 .MUL3
set .MUL1 .MUL3
set .OUTPUT @phase-fabric
jump *label8 always
label *label24
set .TYPE @pyratite-mixer
sensor .CAPACITY :block @itemCapacity
set .RES1 @sand
set .RES2 @coal
set .RES3 @lead
op div .MUL3 100 .CAPACITY
set .MUL2 .MUL3
set .MUL1 .MUL3
set .OUTPUT @pyratite
jump *label8 always
label *label26
set .TYPE @blast-mixer
sensor .CAPACITY :block @itemCapacity
set .RES1 @pyratite
set .RES2 @spore-pod
set .RES3 @itemCapacity
op div .MUL3 100 .CAPACITY
set .MUL2 .MUL3
set .MUL1 .MUL3
set .OUTPUT @blast-compound
jump *label8 always
label *label28
set .TYPE @plastanium-compressor
sensor .CAPACITY :block @itemCapacity
set .RES1 @titanium
set .RES2 @oil
set .RES3 @itemCapacity
op div .MUL3 100 .CAPACITY
set .MUL1 .MUL3
sensor *tmp23 :block @liquidCapacity
op div .MUL2 250 *tmp23
set .OUTPUT @plastanium
jump *label8 always
label *label94
print "\n  {0} not supported"
format :block
label *label8
jump *label91 greaterThan :n 0
label *label7
print "Message: {0}\nSwitch: {0}\nDisplay: {0}\nMonitoring: {0}\nCapacity: {0}\nResource 1: {0}\nResource 2: {0}\nResource 3: {0}\nOutput: {0}\n"
format .MESSAGE
format .SWITCH
format .DISPLAY
format .TYPE
format .CAPACITY
format .RES1
format .RES2
format .RES3
format .OUTPUT
jump *label31 equal .DISPLAY null
jump *label29 notEqual .TYPE null
label *label31
print "No block to monitor or display."
label *label29
printflush .MESSAGE
jump *label3 equal .DISPLAY null
jump *label90 equal .TYPE null
sensor *tmp28 .DISPLAY @type
jump *label33 notEqual *tmp28 @logic-display
set .OFFSET_X 2
set .OFFSET_Y 2
set .BAR_SPACE 80
set .BAR_GAP 20
set :clx 0
set :crx 0
op sub :clw 82 2
set :crw 80
set *tmp34 0
jump *label36 equal FROM_INDEX 0
op mul *tmp35 FROM_INDEX 20
op add *tmp34 2 *tmp35
label *label36
set :cly *tmp34
set :cry *tmp34
set *tmp38 176
jump *label38 greaterThanEq TO_INDEX 8
op mul *tmp39 TO_INDEX 20
op add *tmp38 2 *tmp39
label *label38
op sub :clh *tmp38 *tmp34
set :crh :clh
jump *label34 always
label *label33
set .OFFSET_X 5
set .OFFSET_Y 4
set .BAR_SPACE 88
set .BAR_GAP 22
jump *label39 lessThan FROM_INDEX 8
op sub :crx 93 2
op add :crw 83 1
set *tmp51 0
op mod *tmp49 FROM_INDEX 8
jump *label42 equal *tmp49 0
op mul *tmp53 *tmp49 22
op add *tmp51 4 *tmp53
label *label42
set :cry *tmp51
set *tmp56 176
jump *label44 greaterThanEq TO_INDEX 16
op mod *tmp57 TO_INDEX 8
op mul *tmp58 *tmp57 22
op add *tmp56 4 *tmp58
label *label44
op sub :crh *tmp56 *tmp51
set :clx 91
set :clw 84
set :cly *tmp51
set :clh :crh
jump *label40 always
label *label39
set :clx 0
op sub :clw 93 2
set *tmp64 0
jump *label46 equal FROM_INDEX 0
op mul *tmp65 FROM_INDEX 22
op add *tmp64 4 *tmp65
label *label46
set :cly *tmp64
set *tmp68 176
jump *label48 greaterThanEq TO_INDEX 8
op mul *tmp69 TO_INDEX 22
op add *tmp68 4 *tmp69
label *label48
op sub :clh *tmp68 *tmp64
jump *label49 lessThan TO_INDEX 8
op sub :crx 93 2
op add :crw 83 1
set :cry 0
set *tmp80 176
jump *label52 greaterThanEq TO_INDEX 16
op mod *tmp81 TO_INDEX 8
op mul *tmp82 *tmp81 22
op add *tmp80 4 *tmp82
label *label52
set :crh *tmp80
jump *label50 always
label *label49
set :crx 0
set :crw 91
set :cry *tmp64
set :crh :clh
label *label50
label *label40
label *label34
control enabled .SWITCH 0
sensor *tmp87 .SWITCH @enabled
jump __start__ notEqual *tmp87 0
label *label93
set :start @time
print "Universal Factory Monitor\nMonitoring: "
print .TYPE
draw color 0 0 80 255
draw rect :clx :cly :clw :clh
draw rect :crx :cry :crw :crh
draw stroke 2
set :index FROM_INDEX
set :n 0
jump *label58 greaterThanEq 0 @links
label *label92
jump *label58 greaterThanEq :index TO_INDEX
getlink :factory :n
sensor *tmp93 :factory @type
jump *label61 notEqual *tmp93 .TYPE
set :minimum 101
sensor *tmp96 :factory .RES1
op mul :r1 .MUL1 *tmp96
sensor *tmp98 :factory .RES2
op mul :r2 .MUL2 *tmp98
sensor *tmp100 :factory .RES3
op mul :r3 .MUL3 *tmp100
sensor *tmp102 :factory .OUTPUT
op mul :output .MUL1 *tmp102
sensor :e :factory @enabled
sensor :power :factory @totalPower
sensor :boost :factory @timescale
jump *label63 greaterThanEq :r1 101
set :minimum :r1
set :icon .RES1
label *label63
jump *label65 greaterThanEq :r2 :minimum
set :minimum :r2
set :icon .RES2
label *label65
jump *label67 greaterThanEq :r3 :minimum
set :minimum :r3
set :icon .RES3
label *label67
op greaterThan *tmp113 :output 33
op sub *tmp114 100 :output
op lessThan *tmp115 *tmp114 :minimum
op land :showout *tmp113 *tmp115
select :icon notEqual :showout false .OUTPUT :icon
op idiv :column :index 8
op mod :row :index 8
op mul *tmp120 :column .BAR_SPACE
op add :x .OFFSET_X *tmp120
op mul *tmp122 :row .BAR_GAP
op add :y .OFFSET_Y *tmp122
op greaterThan *tmp124 :minimum 66
op equal *tmp125 :showout false
op land *tmp126 *tmp124 *tmp125
select :icon notEqual *tmp126 false .TYPE :icon
draw color 255 255 255 255
jump *label73 equal :e false
jump *label75 lessThanEq :power 0
op add *tmp131 :x 7
op add *tmp132 :y 7
draw image *tmp131 *tmp132 :icon 16 0
jump *label74 always
label *label75
draw color 255 80 80 255
op add *tmp133 :y 3
draw rect :x *tmp133 14 8
draw color 0 0 0 255
op add *tmp134 :x 2
op add *tmp135 :y 5
draw rect *tmp134 *tmp135 8 4
op add *tmp136 :x 12
draw rect *tmp136 *tmp133 2 2
op add *tmp139 :y 9
draw rect *tmp136 *tmp139 2 2
draw color 255 80 80 255
op add *tmp140 :x 4
op add *tmp141 :y 6
draw rect *tmp140 *tmp141 2 2
jump *label74 always
label *label73
draw color 255 80 80 255
draw stroke 3
op add *tmp142 :x 2
op add *tmp143 :y 12
op add *tmp144 :x 12
op add *tmp145 :y 2
draw line *tmp142 *tmp143 *tmp144 *tmp145
draw line *tmp142 *tmp145 *tmp144 *tmp143
draw color 0 0 0 255
op sub *tmp150 :x 1
op sub *tmp151 :y 1
draw lineRect *tmp150 *tmp151 16 16
draw stroke 2
label *label74
op add :x :x 16
jump *label77 notEqual :power 0
jump *label77 notEqual :e 0
set :red 255
set :green 0
set :blue 0
jump *label78 always
label *label77
jump *label81 equal :showout false
set :red 255
set :green 0
set :blue 255
set :minimum :output
jump *label82 always
label *label81
op greaterThanEq *tmp158 :boost EXPECTED_BOOST
op land *tmp159 *tmp124 *tmp158
select :red notEqual *tmp159 false 0 255
select :green greaterThan :minimum 33 255 0
set :blue 0
label *label82
label *label78
jump *label87 lessThanEq :boost EXPECTED_BOOST
op max :red 192 :red
op max :green 192 :green
op max :blue 192 :blue
set :boost EXPECTED_BOOST
label *label87
op mul *tmp168 61 :boost
op idiv :length *tmp168 EXPECTED_BOOST
draw color :red :green :blue 128
op mul *tmp170 :minimum :length
op idiv *tmp171 *tmp170 100
draw rect :x :y *tmp171 14
draw color :red :green :blue 255
draw lineRect :x :y :length 14
op add :index :index 1
label *label61
op add :n :n 1
jump *label92 lessThan :n @links
label *label58
drawflush .DISPLAY
op sub *tmp173 @time :start
op floor *tmp174 *tmp173
print "\nDraw time: {0} ms"
format *tmp174
printflush .MESSAGE
sensor *tmp87 .SWITCH @enabled
jump *label93 equal *tmp87 0
