  1145 instructions before optimizations.
   100 instructions eliminated by Temp Variables Elimination (3 passes, 7 iterations).
     2 instructions eliminated by Case Expression Optimization.
   124 instructions eliminated by Dead Code Elimination (6 iterations).
     4 instructions eliminated by Jump Normalization (2 passes, 5 iterations).
    74 instructions eliminated by Condition Optimization (2 passes, 7 iterations).
    52 instructions eliminated by Single Step Elimination (3 passes, 8 iterations).
     2 instructions eliminated by Expression Optimization (2 passes, 3 iterations).
    32 instructions eliminated by Boolean Optimization (6 iterations).
       2 short-circuited expressions optimized using selects.
       1 final jumps of a short-circuited expression optimized.
       8 fully-evaluated expressions optimized using selects.
     1 instructions eliminated by If Expression Optimization (3 iterations).
    25 instructions eliminated by Data Flow Optimization (4 passes, 17 iterations).
     1 loops improved by Loop Hoisting.
     2 instructions added by Loop Optimization (3 iterations).
    13 loops improved by Loop Optimization.
     3 instructions added by Case Switching (8 iterations).
     1 case expressions converted to switched jumps by Case Switching.
    25 instructions eliminated by Jump Straightening (2 passes, 7 iterations).
     7 instructions updated by Jump Threading.
     6 instructions eliminated by Unreachable Code Elimination (2 iterations).
    71 instructions eliminated by Print Merging.
   632 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 284):
  * Partial loop rotation at line 172:9                          size    +1, benefit      312.5, efficiency    312.500 (-1 instructions)
    Partial loop rotation at line 184:13                         size    +1, benefit      156.3, efficiency    156.250
    Partial loop rotation at line 692:1                          size    +2, benefit       25.0, efficiency     12.500
    Partial loop rotation at line 700:5                          size    +1, benefit       12.5, efficiency     12.500
    Convert case at line 712:5 (segments: 16)                    size    +2, benefit       19.5, efficiency      9.766
    Convert case at line 712:5 (segments: 1)                     size    +3, benefit       28.1, efficiency      9.375

Pass 1: speed optimization selection (cost limit 285):
  * Partial loop rotation at line 184:13                         size    +1, benefit      156.3, efficiency    156.250 (+1 instructions)
    Partial loop rotation at line 692:1                          size    +2, benefit       25.0, efficiency     12.500
    Partial loop rotation at line 700:5                          size    +1, benefit       12.5, efficiency     12.500
    Convert case at line 712:5 (segments: 16)                    size    +2, benefit       19.5, efficiency      9.766
    Convert case at line 712:5 (segments: 1)                     size    +3, benefit       28.1, efficiency      9.375

Pass 1: speed optimization selection (cost limit 284):
  * Partial loop rotation at line 692:1                          size    +2, benefit       25.0, efficiency     12.500 (+1 instructions)
    Partial loop rotation at line 700:5                          size    +1, benefit       12.5, efficiency     12.500
    Convert case at line 712:5 (segments: 16)                    size    +2, benefit       19.5, efficiency      9.766
    Convert case at line 712:5 (segments: 1)                     size    +3, benefit       28.1, efficiency      9.375

Pass 1: speed optimization selection (cost limit 283):
  * Partial loop rotation at line 700:5                          size    +1, benefit       12.5, efficiency     12.500 (+1 instructions)
    Convert case at line 712:5 (segments: 16)                    size    +2, benefit       19.5, efficiency      9.766
    Convert case at line 712:5 (segments: 1)                     size    +3, benefit       28.1, efficiency      9.375

Pass 1: speed optimization selection (cost limit 282):
  o Convert case at line 712:5 (segments: 16)                    size    +2, benefit       19.5, efficiency      9.766
  * Convert case at line 712:5 (segments: 1)                     size    +3, benefit       28.1, efficiency      9.375 (+3 instructions)

Modifications by Initial phase, Case Expression Optimization, iteration 1 (-2 instructions):
 
   119 getlink *tmp27 :n
   120 set :block *tmp27
   121 sensor *tmp29 :block @type
-    * set *tmp30 *tmp29
-    * jump *label24 equal *tmp30 @vault
-    * jump *label24 equal *tmp30 @container
+  122 jump *label24 equal *tmp29 @vault
+  123 jump *label24 equal *tmp29 @container
   124 jump *label23 always
   125 label *label24
   126 set .DROP_TARGET .CONTAINER
 
   582 set .LAST_ITEM .ITEM
   583 # "Function: def itemTypeToIcon(in itemType)"
   584 set :itemTypeToIcon:itemType .ITEM
-    * set *tmp164 :itemTypeToIcon:itemType
-    * jump *label103 equal *tmp164 @blast-compound
+  585 jump *label103 equal :itemTypeToIcon:itemType @blast-compound
   586 jump *label102 always
   587 label *label103
   588 set *tmp163 "[]"
   589 jump *label101 always
   590 label *label102
-    * jump *label105 equal *tmp164 @coal
+  591 jump *label105 equal :itemTypeToIcon:itemType @coal
   592 jump *label104 always
   593 label *label105
   594 set *tmp163 "[]"
   595 jump *label101 always
   596 label *label104
-    * jump *label107 equal *tmp164 @copper
+  597 jump *label107 equal :itemTypeToIcon:itemType @copper
   598 jump *label106 always
   599 label *label107
   600 set *tmp163 "[]"
   601 jump *label101 always
   602 label *label106
-    * jump *label109 equal *tmp164 @graphite
+  603 jump *label109 equal :itemTypeToIcon:itemType @graphite
   604 jump *label108 always
   605 label *label109
   606 set *tmp163 "[]"
   607 jump *label101 always
   608 label *label108
-    * jump *label111 equal *tmp164 @lead
+  609 jump *label111 equal :itemTypeToIcon:itemType @lead
   610 jump *label110 always
   611 label *label111
   612 set *tmp163 "[]"
   613 jump *label101 always
   614 label *label110
-    * jump *label113 equal *tmp164 @metaglass
+  615 jump *label113 equal :itemTypeToIcon:itemType @metaglass
   616 jump *label112 always
   617 label *label113
   618 set *tmp163 "[]"
   619 jump *label101 always
   620 label *label112
-    * jump *label115 equal *tmp164 @phase-fabric
+  621 jump *label115 equal :itemTypeToIcon:itemType @phase-fabric
   622 jump *label114 always
   623 label *label115
   624 set *tmp163 "[]"
   625 jump *label101 always
   626 label *label114
-    * jump *label117 equal *tmp164 @plastanium
+  627 jump *label117 equal :itemTypeToIcon:itemType @plastanium
   628 jump *label116 always
   629 label *label117
   630 set *tmp163 "[]"
   631 jump *label101 always
   632 label *label116
-    * jump *label119 equal *tmp164 @pyratite
+  633 jump *label119 equal :itemTypeToIcon:itemType @pyratite
   634 jump *label118 always
   635 label *label119
   636 set *tmp163 "[]"
   637 jump *label101 always
   638 label *label118
-    * jump *label121 equal *tmp164 @sand
+  639 jump *label121 equal :itemTypeToIcon:itemType @sand
   640 jump *label120 always
   641 label *label121
   642 set *tmp163 "[]"
   643 jump *label101 always
   644 label *label120
-    * jump *label123 equal *tmp164 @scrap
+  645 jump *label123 equal :itemTypeToIcon:itemType @scrap
   646 jump *label122 always
   647 label *label123
   648 set *tmp163 "[]"
   649 jump *label101 always
   650 label *label122
-    * jump *label125 equal *tmp164 @silicon
+  651 jump *label125 equal :itemTypeToIcon:itemType @silicon
   652 jump *label124 always
   653 label *label125
   654 set *tmp163 "[]"
   655 jump *label101 always
   656 label *label124
-    * jump *label127 equal *tmp164 @spore-pod
+  657 jump *label127 equal :itemTypeToIcon:itemType @spore-pod
   658 jump *label126 always
   659 label *label127
   660 set *tmp163 "[]"
   661 jump *label101 always
   662 label *label126
-    * jump *label129 equal *tmp164 @surge-alloy
+  663 jump *label129 equal :itemTypeToIcon:itemType @surge-alloy
   664 jump *label128 always
   665 label *label129
   666 set *tmp163 "[]"
   667 jump *label101 always
   668 label *label128
-    * jump *label131 equal *tmp164 @thorium
+  669 jump *label131 equal :itemTypeToIcon:itemType @thorium
   670 jump *label130 always
   671 label *label131
   672 set *tmp163 "[]"
   673 jump *label101 always
   674 label *label130
-    * jump *label133 equal *tmp164 @titanium
+  675 jump *label133 equal :itemTypeToIcon:itemType @titanium
   676 jump *label132 always
   677 label *label133
   678 set *tmp163 "[]"

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-88 instructions):
 
    75 set *tmp18 false
    76 label *label9
    77 op add .TARGET .TARGET *tmp18
-    * set *tmp14 .TARGET
    78 jump *label7 always
    79 label *label6
-    * set *tmp14 null
    80 label *label7
    81 ubind UNIT
    82 op notEqual *tmp19 @unit :first_unit
 
   124 set .DROP_TARGET .CONTAINER
   125 set .CONTAINER :block
   126 set .CONTAINER_INDEX :n
-    * set *tmp28 .CONTAINER_INDEX
   127 jump *label22 always
   128 label *label23
-    * set *tmp28 null
   129 label *label22
   130 label *label20
   131 jump *label19 always
 
   134 jump *label25 equal *tmp31 false
   135 print "[salmon]No vault or container."
   136 printflush message1
-    * set *tmp32 null
   137 jump *label26 always
   138 label *label25
   139 jump *label18 always
-    * set *tmp32 null
   140 label *label26
   141 label *label17
   142 jump *label16 always
 
   156 ulocate building core false @copper .CORE_X .CORE_Y *tmp40 *tmp39
   157 set .CORE *tmp39
   158 ucontrol flag .S_UNUSED
-    * set *tmp38 null
   159 jump *label33 always
   160 label *label32
-    * set *tmp38 null
   161 label *label33
   162 label *label30
   163 jump *label29 always
   164 label *label31
   165 set .DISCARD_UNIT_MAX_ITEMS .UNIT_CAPACITY
-    * set *tmp34 .DISCARD_UNIT_MAX_ITEMS
   166 jump *label28 always
   167 label *label27
   168 printflush message2
 
   242 label *label52
   243 set *tmp61 null
   244 label *label53
-    * set *tmp50 *tmp61
   245 jump *label46 always
   246 label *label45
-    * set *tmp50 null
   247 label *label46
   248 ucontrol flag .S_UNUSED
   249 label *label35
   250 jump *label34 always
   251 label *label36
   252 set .DISCARD_UNIT_MAX_ITEMS 0
-    * set *tmp34 .DISCARD_UNIT_MAX_ITEMS
   253 label *label28
   254 set .SORTER sorter1
   255 sensor *tmp62 .SORTER @type
 
   268 jump *label59 equal *tmp65 false
   269 print "Block found: "
   270 print .SORTER
-    * set *tmp66 .SORTER
   271 jump *label60 always
   272 label *label59
-    * set *tmp66 null
   273 label *label60
   274 printflush message1
   275 set .SORTER sorter1
 
   311 set *tmp80 " from vault #"
   312 label *label64
   313 set .DIRECTION *tmp80
-    * set *tmp69 .DIRECTION
   314 jump *label62 always
   315 label *label61
   316 op greaterThan *tmp81 LINK_ID 0
 
   347 set *tmp94 " to vault #"
   348 label *label66
   349 set .DIRECTION *tmp94
-    * set *tmp69 .DIRECTION
   350 label *label62
   351 op equal *tmp95 LINK_ID 0
   352 jump *label67 equal *tmp95 false
 
   413 op equal *tmp127 LINK_ID 0
   414 op mul *tmp128 *tmp127 .UNIT_CAPACITY
   415 set .PARK_ITEM_LIMIT *tmp128
-    * set *tmp118 .PARK_ITEM_LIMIT
   416 jump *label70 always
   417 label *label69
   418 sensor *tmp129 .DROP_TARGET @x
 
   422 set .PARK_X .DROP_X
   423 set .PARK_Y .DROP_Y
   424 set .PARK_ITEM_LIMIT 0
-    * set *tmp118 .PARK_ITEM_LIMIT
   425 label *label70
   426 set *tmp131 @tick
   427 set .TRANSFER_START *tmp131
 
   452 set :corr_per_min 0
   453 set .SPEED_UNIT_TXT "[])/min"
   454 set .AUTO_ALLOCATION_TXT "\n=== [gold]Gathering statistics[] ==="
-    * set *tmp134 .AUTO_ALLOCATION_TXT
   455 jump *label76 always
   456 label *label75
   457 set .CORR_SIGN "[]"
   458 set :corr_per_min ""
   459 set .SPEED_UNIT_TXT "/min"
   460 set .AUTO_ALLOCATION_TXT ""
-    * set *tmp134 .AUTO_ALLOCATION_TXT
   461 label *label76
   462 label *label77
   463 jump *label79 equal true false
 
   486 set :corr_per_min ""
   487 set .SPEED_UNIT_TXT "/min"
   488 set .WAIT_LIMIT 30000
-    * set *tmp137 .WAIT_LIMIT
   489 jump *label84 always
   490 label *label83
-    * set *tmp137 null
   491 label *label84
   492 sensor *tmp141 switch2 @enabled
   493 jump *label85 equal *tmp141 false
 
   501 set .CORR_SIGN "[]([green]+"
   502 set :corr_per_min 0
   503 set .SPEED_UNIT_TXT "[])/min"
-    * set *tmp145 .SPEED_UNIT_TXT
   504 jump *label88 always
   505 label *label87
   506 set .EFF_AUTO_ALLOCATION false
 
   518 set *tmp149 ""
   519 label *label90
   520 set .AUTO_ALLOCATION_TXT *tmp149
-    * set *tmp145 .AUTO_ALLOCATION_TXT
   521 label *label88
   522 set .WAIT_LIMIT 30000
-    * set *tmp142 .WAIT_LIMIT
   523 jump *label86 always
   524 label *label85
-    * set *tmp142 null
   525 label *label86
   526 sensor *tmp150 :first_unit @dead
   527 op strictEqual *tmp151 *tmp150 0
 
   532 op equal *tmp155 :active 0
   533 jump *label93 equal *tmp155 false
   534 print "\n[salmon]No active units.[]"
-    * set *tmp156 "\n[salmon]No active units.[]"
   535 jump *label94 always
   536 label *label93
-    * set *tmp156 null
   537 label *label94
   538 printflush message2
   539 set .STATE_LIMIT 6
 
   660 set :last_level *tmp165
   661 set :min_level 999999
   662 set :max_level 0
-    * set *tmp159 :max_level
   663 jump *label96 always
   664 label *label95
-    * set *tmp159 null
   665 label *label96
   666 sensor *tmp166 .CONTAINER .ITEM
   667 set :container_items *tmp166
 
   735 op greaterThanEq *tmp203 :corr_per_min 0
   736 jump *label140 equal *tmp203 false
   737 set .CORR_SIGN "[]([green]+"
-    * set *tmp204 .CORR_SIGN
   738 jump *label141 always
   739 label *label140
-    * set *tmp204 null
   740 label *label141
   741 set .SPEED_UNIT_TXT "[])/min"
   742 jump *label142 equal :alive false
 
   768 op add *tmp214 *tmp213 :total_flow_1
   769 op div *tmp215 *tmp214 3
   770 set :total_flow_per_ms *tmp215
-    * set *tmp212 :total_flow_per_ms
   771 jump *label153 always
   772 label *label152
-    * set *tmp212 null
   773 label *label153
   774 op div *tmp216 :total_flow_per_ms :items_per_ms_unit
   775 op add *tmp217 *tmp216 .INC_OVERALLOCATION
 
   788 op lessThanEq *tmp225 :new_change 0
   789 op mul *tmp226 *tmp225 .DEC_MAX
   790 set .DEC_LIMIT *tmp226
-    * set *tmp211 .DEC_LIMIT
   791 jump *label149 always
   792 label *label148
   793 op idiv *tmp227 :wait_time .WAIT_LIMIT
 
   798 op mul *tmp231 *tmp230 .INC_MAX
   799 set .INC_LIMIT *tmp231
   800 set .DEC_LIMIT .DEC_MAX
-    * set *tmp211 .DEC_LIMIT
   801 label *label149
   802 op add *tmp232 :active :new_change
   803 op max *tmp233 *tmp232 1
   804 set .TARGET *tmp233
-    * set *tmp205 .TARGET
   805 jump *label143 always
   806 label *label142
   807 set .INC_LIMIT 0
   808 set .DEC_LIMIT 0
-    * set *tmp205 .DEC_LIMIT
   809 label *label143
   810 set :min_level 999999
   811 set :max_level 0
-    * set *tmp186 :max_level
   812 jump *label139 always
   813 label *label138
-    * set *tmp186 null
   814 label *label139
   815 set :wait_time 0
   816 set :remote_wait_time 0
 
   822 label *label154
   823 set *tmp235 null
   824 label *label155
-    * set *tmp175 *tmp235
   825 jump *label135 always
   826 label *label134
-    * set *tmp175 null
   827 label *label135
   828 print .MESSAGE
   829 print "Moving [green]"
 
   848 print ")"
   849 print " [gold]+"
   850 print :items_in_transit
-    * set *tmp239 null
   851 jump *label159 always
   852 label *label158
   853 print "\n"
 
   861 print ")"
   862 print " [gold]+"
   863 print :items_in_transit
-    * set *tmp239 null
   864 label *label159
   865 op greaterThan *tmp240 .CHANGE 0
   866 jump *label160 equal *tmp240 false
 
   870 label *label160
   871 set *tmp241 null
   872 label *label161
-    * set *tmp237 *tmp241
   873 jump *label157 always
   874 label *label156
-    * set *tmp237 null
   875 label *label157
   876 print "\n"
   877 print "[]Local items: [gold]"
 
   882 print .LOCAL_MARGIN
   883 print "["
   884 print "])"
-    * set *tmp243 null
   885 jump *label163 always
   886 label *label162
-    * set *tmp243 null
   887 label *label163
   888 jump *label164 equal .SHOW_REMOTE_LEVEL false
   889 sensor *tmp245 .CORE .ITEM
 
   902 label *label166
   903 set *tmp247 null
   904 label *label167
-    * set *tmp244 *tmp247
   905 jump *label165 always
   906 label *label164
-    * set *tmp244 null
   907 label *label165
   908 op greaterThan *tmp248 .TARGET 0
   909 jump *label168 equal *tmp248 false
 
   927 print :elapsed_str
   928 print "["
   929 print "] s"
-    * set *tmp250 null
   930 jump *label171 always
   931 label *label170
   932 print "\n"
 
   934 print :elapsed_str
   935 print "["
   936 print "] s"
-    * set *tmp250 null
   937 label *label171
   938 print "\n"
   939 print "Total wait time: [green]"
   940 print :wait_time_str
   941 print "["
   942 print "] s"
-    * set *tmp249 null
   943 jump *label169 always
   944 label *label168
-    * set *tmp249 null
   945 label *label169
   946 print "\n"
   947 print "[lightgray]Loop: "
 
   960 op notEqual *tmp254 *tmp253 0
   961 jump *label172 equal *tmp254 false
   962 jump *label79 always
-    * set *tmp255 null
   963 jump *label173 always
   964 label *label172
-    * set *tmp255 null
   965 label *label173
   966 sensor *tmp256 .DST @dead
   967 op notEqual *tmp257 *tmp256 0
   968 jump *label174 equal *tmp257 false
   969 jump *label79 always
-    * set *tmp258 null
   970 jump *label175 always
   971 label *label174
-    * set *tmp258 null
   972 label *label175
   973 sensor *tmp259 .SORTER @dead
   974 op notEqual *tmp260 *tmp259 0
   975 jump *label176 equal *tmp260 false
   976 jump *label79 always
-    * set *tmp261 null
   977 jump *label177 always
   978 label *label176
-    * set *tmp261 null
   979 label *label177
   980 getlink *tmp262 .CONTAINER_INDEX
   981 op notEqual *tmp263 .CONTAINER *tmp262
 
   986 label *label178
   987 set *tmp264 null
   988 label *label179
-    * set *tmp154 *tmp264
   989 jump *label92 always
   990 label *label91
-    * set *tmp154 null
   991 label *label92
   992 op greaterThan *tmp265 .CHANGE 0
   993 jump *label180 equal *tmp265 false
 
  1001 label *label182
  1002 set *tmp269 null
  1003 label *label183
-    * set *tmp266 *tmp269
  1004 jump *label181 always
  1005 label *label180
-    * set *tmp266 null
  1006 label *label181
  1007 sensor *tmp270 @unit @controller
  1008 op equal *tmp271 *tmp270 @this
 
  1033 label *label190
  1034 set *tmp281 null
  1035 label *label191
-    * set *tmp279 *tmp281
  1036 jump *label189 always
  1037 label *label188
-    * set *tmp279 null
  1038 label *label189
  1039 op equal *tmp285 :state 1
  1040 jump *label194 equal *tmp285 false
 
  1056 ucontrol within .DROP_X .DROP_Y 8 *tmp293
  1057 jump *label200 equal *tmp293 false
  1058 ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
-    * set *tmp294 null
  1059 jump *label201 always
  1060 label *label200
-    * set *tmp294 null
  1061 label *label201
  1062 print "[]"
  1063 print "\n"
 
  1066 label *label199
  1067 set *tmp289 *tmp292
  1068 label *label197
-    * set *tmp286 *tmp289
  1069 jump *label195 always
  1070 label *label194
-    * set *tmp286 null
  1071 label *label195
  1072 op equal *tmp295 :state 2
  1073 jump *label202 equal *tmp295 false
 
  1093 print "sec[] to source: [green]"
  1094 set *tmp298 null
  1095 label *label205
-    * set *tmp296 *tmp298
  1096 jump *label203 always
  1097 label *label202
-    * set *tmp296 null
  1098 label *label203
  1099 op equal *tmp306 :state 3
  1100 jump *label206 equal *tmp306 false
 
  1104 op greaterThanEq *tmp310 :max_load .LOAD_PACK
  1105 jump *label208 equal *tmp310 false
  1106 ucontrol itemTake .SRC .ITEM :max_load
-    * set *tmp311 null
  1107 jump *label209 always
  1108 label *label208
-    * set *tmp311 null
  1109 label *label209
  1110 sensor *tmp312 @unit @totalItems
  1111 op greaterThanEq *tmp313 *tmp312 .UNIT_CAPACITY
 
  1123 op add :remote_wait_time :remote_wait_time *tmp315
  1124 set *tmp314 :remote_wait_time
  1125 label *label211
-    * set *tmp307 *tmp314
  1126 jump *label207 always
  1127 label *label206
-    * set *tmp307 null
  1128 label *label207
  1129 op equal *tmp316 :state 4
  1130 jump *label212 equal *tmp316 false
 
  1153 print "sec[] to destination: [green]"
  1154 set *tmp319 null
  1155 label *label215
-    * set *tmp317 *tmp319
  1156 jump *label213 always
  1157 label *label212
-    * set *tmp317 null
  1158 label *label213
  1159 op equal *tmp328 :state 5
  1160 jump *label216 equal *tmp328 false
 
  1164 op greaterThanEq *tmp332 :max_drop .DROP_PACK
  1165 jump *label218 equal *tmp332 false
  1166 ucontrol itemDrop .DST :max_drop
-    * set *tmp333 null
  1167 jump *label219 always
  1168 label *label218
-    * set *tmp333 null
  1169 label *label219
  1170 sensor *tmp334 @unit @totalItems
  1171 op lessThanEq *tmp335 *tmp334 0
 
  1206 op add :remote_wait_time :remote_wait_time *tmp345
  1207 set *tmp336 :remote_wait_time
  1208 label *label221
-    * set *tmp329 *tmp336
  1209 jump *label217 always
  1210 label *label216
-    * set *tmp329 null
  1211 label *label217
  1212 sensor *tmp346 @unit @totalItems
  1213 set :items *tmp346
 
  1237 label *label226
  1238 set *tmp350 null
  1239 label *label227
-    * set *tmp348 *tmp350
  1240 jump *label225 always
  1241 label *label224
  1242 op add :active :active 1
-    * set *tmp348 :active
  1243 label *label225
  1244 print :items
  1245 print .ITEM_ICON
 
  1249 label *label186
  1250 set *tmp275 null
  1251 label *label187
-    * set *tmp272 *tmp275
  1252 jump *label185 always
  1253 label *label184
-    * set *tmp272 null
  1254 label *label185
  1255 label *label78
  1256 jump *label77 always
 
  1289 label *label238
  1290 jump *label237 always
  1291 label *label239
-    * set *tmp360 null
  1292 jump *label234 always
  1293 label *label233
-    * set *tmp360 null
  1294 label *label234
  1295 control enabled switch1 false
  1296 control enabled switch2 false

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-28 instructions):
 
   237 print "is not a vault!"
   238 printflush message2
   239 set .CORE null
-    * set *tmp61 .CORE
   240 jump *label53 always
   241 label *label52
-    * set *tmp61 null
   242 label *label53
   243 jump *label46 always
   244 label *label45
 
   815 op greaterThanEq *tmp234 @tick .MESSAGE_TIMEOUT
   816 jump *label154 equal *tmp234 false
   817 set .MESSAGE ""
-    * set *tmp235 .MESSAGE
   818 jump *label155 always
   819 label *label154
-    * set *tmp235 null
   820 label *label155
   821 jump *label135 always
   822 label *label134
 
   861 op greaterThan *tmp240 .CHANGE 0
   862 jump *label160 equal *tmp240 false
   863 print "\n[][salmon]Cannot acquire additional units![]"
-    * set *tmp241 "\n[][salmon]Cannot acquire additional units![]"
   864 jump *label161 always
   865 label *label160
-    * set *tmp241 null
   866 label *label161
   867 jump *label157 always
   868 label *label156
 
   891 print .REMOTE_MARGIN
   892 print "["
   893 print "])"
-    * set *tmp247 null
   894 jump *label167 always
   895 label *label166
-    * set *tmp247 null
   896 label *label167
   897 jump *label165 always
   898 label *label164
 
   973 op notEqual *tmp263 .CONTAINER *tmp262
   974 jump *label178 equal *tmp263 false
   975 jump *label79 always
-    * set *tmp264 null
   976 jump *label179 always
   977 label *label178
-    * set *tmp264 null
   978 label *label179
   979 jump *label92 always
   980 label *label91
 
   986 jump *label182 equal *tmp268 false
   987 op sub .CHANGE .CHANGE 1
   988 ucontrol flag 1
-    * set *tmp269 null
   989 jump *label183 always
   990 label *label182
-    * set *tmp269 null
   991 label *label183
   992 jump *label181 always
   993 label *label180
 
  1016 label *label192
  1017 set *tmp284 null
  1018 label *label193
-    * set *tmp281 *tmp284
  1019 jump *label191 always
  1020 label *label190
-    * set *tmp281 null
  1021 label *label191
  1022 jump *label189 always
  1023 label *label188
 
  1028 op equal *tmp288 *tmp287 0
  1029 jump *label196 equal *tmp288 false
  1030 set :state 2
-    * set *tmp289 :state
  1031 jump *label197 always
  1032 label *label196
  1033 sensor *tmp290 @unit @firstItem
 
  1049 print "Unloading previous items: [green]"
  1050 set *tmp292 null
  1051 label *label199
-    * set *tmp289 *tmp292
  1052 label *label197
  1053 jump *label195 always
  1054 label *label194
 
  1059 ucontrol within .SRC_X .SRC_Y 8 *tmp297
  1060 jump *label204 equal *tmp297 false
  1061 set :state 3
-    * set *tmp298 :state
  1062 jump *label205 always
  1063 label *label204
  1064 sensor *tmp299 @unit @x
 
  1074 print *tmp305
  1075 print " "
  1076 print "sec[] to source: [green]"
-    * set *tmp298 null
  1077 label *label205
  1078 jump *label203 always
  1079 label *label202
 
  1093 op greaterThanEq *tmp313 *tmp312 .UNIT_CAPACITY
  1094 jump *label210 equal *tmp313 false
  1095 set :state 4
-    * set *tmp314 :state
  1096 jump *label211 always
  1097 label *label210
  1098 print "[]"
 
  1102 op add :wait_time :wait_time :loop_time_ms
  1103 op mul *tmp315 :loop_time_ms .SRC_REMOTE_WAIT
  1104 op add :remote_wait_time :remote_wait_time *tmp315
-    * set *tmp314 :remote_wait_time
  1105 label *label211
  1106 jump *label207 always
  1107 label *label206
 
  1115 op add :transferred :transferred *tmp320
  1116 op add :transfers :transfers 1
  1117 set :state 5
-    * set *tmp319 :state
  1118 jump *label215 always
  1119 label *label214
  1120 sensor *tmp321 @unit @x
 
  1130 print *tmp327
  1131 print " "
  1132 print "sec[] to destination: [green]"
-    * set *tmp319 null
  1133 label *label215
  1134 jump *label213 always
  1135 label *label212
 
  1172 print "Going to source: [green]"
  1173 set *tmp337 null
  1174 label *label223
-    * set *tmp336 *tmp337
  1175 jump *label221 always
  1176 label *label220
  1177 print "[]"
 
  1181 op add :wait_time :wait_time :loop_time_ms
  1182 op mul *tmp345 :loop_time_ms .DST_REMOTE_WAIT
  1183 op add :remote_wait_time :remote_wait_time *tmp345
-    * set *tmp336 :remote_wait_time
  1184 label *label221
  1185 jump *label217 always
  1186 label *label216
 
  1208 label *label228
  1209 set *tmp353 null
  1210 label *label229
-    * set *tmp350 *tmp353
  1211 jump *label227 always
  1212 label *label226
-    * set *tmp350 null
  1213 label *label227
  1214 jump *label225 always
  1215 label *label224
 
  1218 print :items
  1219 print .ITEM_ICON
  1220 ucontrol flag :state
-    * set *tmp275 null
  1221 jump *label187 always
  1222 label *label186
-    * set *tmp275 null
  1223 label *label187
  1224 jump *label185 always
  1225 label *label184

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-8 instructions):
 
  1011 jump *label192 equal *tmp283 false
  1012 op add .CHANGE .CHANGE 1
  1013 set :state 6
-    * set *tmp284 :state
  1014 jump *label193 always
  1015 label *label192
-    * set *tmp284 null
  1016 label *label193
  1017 jump *label191 always
  1018 label *label190
 
  1032 op equal *tmp291 *tmp290 .ITEM
  1033 jump *label198 equal *tmp291 false
  1034 set :state 4
-    * set *tmp292 :state
  1035 jump *label199 always
  1036 label *label198
  1037 ucontrol approach .DROP_X .DROP_Y 6
 
  1044 print "[]"
  1045 print "\n"
  1046 print "Unloading previous items: [green]"
-    * set *tmp292 null
  1047 label *label199
  1048 label *label197
  1049 jump *label195 always
 
  1160 print *tmp344
  1161 print " "
  1162 print "sec[] to source: [green]"
-    * set *tmp337 null
  1163 jump *label223 always
  1164 label *label222
  1165 print "[]"
  1166 print "\n"
  1167 print "Going to source: [green]"
-    * set *tmp337 null
  1168 label *label223
  1169 jump *label221 always
  1170 label *label220
 
  1197 jump *label228 equal *tmp352 false
  1198 ucontrol move .PARK_X .PARK_Y
  1199 set :state .S_UNUSED
-    * set *tmp353 :state
  1200 jump *label229 always
  1201 label *label228
-    * set *tmp353 null
  1202 label *label229
  1203 jump *label227 always
  1204 label *label226

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-97 instructions):
 
    14 set .CORE_X .CORE_Y
    15 set .CONTAINER_INDEX .CORE_X
    16 set .MESSAGE ""
-    * op max *tmp0 LOCAL_LIMIT 20
-    * set .EFF_LOCAL_LIMIT *tmp0
-    * op max *tmp1 REMOTE_LIMIT 20
-    * set .EFF_REMOTE_LIMIT *tmp1
+   17 op max .EFF_LOCAL_LIMIT LOCAL_LIMIT 20
+   18 op max .EFF_REMOTE_LIMIT REMOTE_LIMIT 20
    19 set .EFF_AUTO_ALLOCATION AUTO_ALLOCATION
    20 set .TRIGGER_LEVEL 0.9
-    * op mul *tmp2 -1 HOUSEKEEPING
-    * set .S_UNUSED *tmp2
+   21 op mul .S_UNUSED -1 HOUSEKEEPING
    22 set .LOOPS 1
    23 op mul *tmp3 .LOOPS 1000
-    * op div *tmp4 *tmp3 60
-    * set .LOOPS_TICKS_TO_MS *tmp4
+   24 op div .LOOPS_TICKS_TO_MS *tmp3 60
    25 set .INC_OVERALLOCATION OVERALLOCATION_LOW
-    * op add *tmp5 1 OVERALLOCATION_HIGH
-    * set .DEC_OVERALLOCATION *tmp5
+   26 op add .DEC_OVERALLOCATION 1 OVERALLOCATION_HIGH
    27 set .TRIGGER_BOOST 2
    28 set .INC_MAX 6
    29 set .DEC_MAX -1
 
    40 label *label1
    41 jump *label0 always
    42 label *label2
-    * set *tmp7 @unit
-    * set :first_unit *tmp7
+   43 set :first_unit @unit
    44 sensor *tmp8 @unit @speed
-    * op div *tmp9 *tmp8 10
-    * set .SPEED_SEC *tmp9
+   45 op div .SPEED_SEC *tmp8 10
    46 sensor *tmp10 @unit @speed
-    * op div *tmp11 *tmp10 1000
-    * set .SPEED *tmp11
+   47 op div .SPEED *tmp10 1000
    48 set .TARGET 0
    49 set :repeat true
    50 label *label3
 
    52 sensor *tmp12 @unit @controller
    53 op equal *tmp13 *tmp12 @this
    54 jump *label6 equal *tmp13 false
-    * sensor *tmp15 @unit @flag
-    * set :state *tmp15
+   55 sensor :state @unit @flag
    56 op greaterThanEq *tmp16 :state 1
    57 jump *label8 equal *tmp16 false
    58 label *label11
 
    91 set :active .TARGET
    92 set .DEC_LIMIT 0
    93 set .INC_LIMIT 0
-    * sensor *tmp23 @unit @itemCapacity
-    * set .UNIT_CAPACITY *tmp23
+   94 sensor .UNIT_CAPACITY @unit @itemCapacity
    95 set :first_unit null
    96 label *label16
    97 jump *label18 equal true false
    98 set .CONTAINER null
    99 set .DROP_TARGET null
-    * set *tmp24 @links
-    * set :n *tmp24
+  100 set :n @links
   101 label *label19
   102 op greaterThan *tmp25 :n 0
   103 jump *label21 equal *tmp25 false
-    * op sub *tmp26 :n 1
-    * set :n *tmp26
-    * getlink *tmp27 :n
-    * set :block *tmp27
+  104 op sub :n :n 1
+  105 getlink :block :n
   106 sensor *tmp29 :block @type
   107 jump *label24 equal *tmp29 @vault
   108 jump *label24 equal *tmp29 @container
 
   140 sensor *tmp36 @unit @controlled
   141 op equal *tmp37 *tmp36 0
   142 jump *label32 equal *tmp37 false
-    * ulocate building core false @copper .CORE_X .CORE_Y *tmp40 *tmp39
-    * set .CORE *tmp39
+  143 ulocate building core false @copper .CORE_X .CORE_Y *tmp40 .CORE
   144 ucontrol flag .S_UNUSED
   145 jump *label33 always
   146 label *label32
 
   160 label *label34
   161 op equal *tmp41 .CORE null
   162 jump *label36 equal *tmp41 false
-    * op add *tmp42 99999900 LINK_ID
-    * set .QUERY_FLAG *tmp42
+  163 op add .QUERY_FLAG 99999900 LINK_ID
   164 set :flag .QUERY_FLAG
   165 ubind UNIT
   166 label *label37
 
   182 jump *label43 always
   183 label *label43
   184 ucontrol stop
-    * sensor *tmp48 @unit @flag
-    * set :flag *tmp48
+  185 sensor :flag @unit @flag
   186 label *label41
   187 jump *label40 always
   188 label *label42
   189 op notEqual *tmp49 :flag .QUERY_FLAG
   190 jump *label45 equal *tmp49 false
-    * op idiv *tmp51 :flag 100
-    * set :position *tmp51
-    * op mod *tmp52 :position @mapw
-    * set .CORE_X *tmp52
-    * op idiv *tmp53 :position @mapw
-    * set .CORE_Y *tmp53
+  191 op idiv :position :flag 100
+  192 op mod .CORE_X :position @mapw
+  193 op idiv .CORE_Y :position @mapw
   194 label *label47
   195 sensor *tmp54 @unit @dead
   196 op equal *tmp55 *tmp54 0
 
   205 label *label48
   206 jump *label47 always
   207 label *label49
-    * ucontrol getBlock .CORE_X .CORE_Y :b_type *tmp58 *tmp59
-    * set .CORE *tmp58
+  208 ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE *tmp59
   209 op notEqual *tmp60 :b_type @vault
   210 jump *label52 equal *tmp60 false
   211 print "[salmon]Building at "
 
   230 set .DISCARD_UNIT_MAX_ITEMS 0
   231 label *label28
   232 set .SORTER sorter1
-    * sensor *tmp62 .SORTER @type
-    * set :sorter_type *tmp62
+  233 sensor :sorter_type .SORTER @type
   234 label *label54
   235 op notEqual *tmp63 :sorter_type @sorter
   236 jump *label56 equal *tmp63 false
 
   250 label *label60
   251 printflush message1
   252 set .SORTER sorter1
-    * sensor *tmp67 .SORTER @type
-    * set :sorter_type *tmp67
+  253 sensor :sorter_type .SORTER @type
   254 label *label55
   255 jump *label54 always
   256 label *label56
 
   259 set .SHOW_REMOTE_LEVEL true
   260 set .SRC .CORE
   261 set .DST .CONTAINER
-    * sensor *tmp70 .SRC @itemCapacity
-    * set :src_capacity *tmp70
-    * sensor *tmp71 .DST @itemCapacity
-    * set :dst_capacity *tmp71
+  262 sensor :src_capacity .SRC @itemCapacity
+  263 sensor :dst_capacity .DST @itemCapacity
   264 op sub *tmp72 100 .EFF_REMOTE_LIMIT
   265 op mul *tmp73 :src_capacity *tmp72
-    * op idiv *tmp74 *tmp73 100
-    * set .LOAD_LEVEL *tmp74
+  266 op idiv .LOAD_LEVEL *tmp73 100
   267 op mul *tmp75 :dst_capacity .EFF_LOCAL_LIMIT
-    * op idiv *tmp76 *tmp75 100
-    * set .DROP_LEVEL *tmp76
+  268 op idiv .DROP_LEVEL *tmp75 100
   269 set .LOCAL_MARGIN .DROP_LEVEL
   270 set .REMOTE_MARGIN .LOAD_LEVEL
   271 op sub *tmp77 1 .TRIGGER_LEVEL
-    * op mul *tmp78 :dst_capacity *tmp77
-    * set .LOW_LEVEL_TRIGGER *tmp78
+  272 op mul .LOW_LEVEL_TRIGGER :dst_capacity *tmp77
   273 set .HIGH_LEVEL_TRIGGER :dst_capacity
   274 set .FLOW_CORR_SIGN 1
   275 set .SRC_REMOTE_WAIT 1
 
   284 set .DIRECTION *tmp80
   285 jump *label62 always
   286 label *label61
-    * op greaterThan *tmp81 LINK_ID 0
-    * set .SHOW_REMOTE_LEVEL *tmp81
+  287 op greaterThan .SHOW_REMOTE_LEVEL LINK_ID 0
   288 set .SRC .CONTAINER
   289 set .DST .CORE
-    * sensor *tmp82 .SRC @itemCapacity
-    * set :src_capacity *tmp82
-    * sensor *tmp83 .DST @itemCapacity
-    * set :dst_capacity *tmp83
+  290 sensor :src_capacity .SRC @itemCapacity
+  291 sensor :dst_capacity .DST @itemCapacity
   292 op sub *tmp84 100 .EFF_LOCAL_LIMIT
   293 op mul *tmp85 :src_capacity *tmp84
-    * op idiv *tmp86 *tmp85 100
-    * set .LOAD_LEVEL *tmp86
+  294 op idiv .LOAD_LEVEL *tmp85 100
   295 op mul *tmp87 :dst_capacity .EFF_REMOTE_LIMIT
   296 op idiv *tmp88 *tmp87 100
   297 op equal *tmp89 LINK_ID 0
   298 op mul *tmp90 *tmp89 .UNIT_CAPACITY
-    * op add *tmp91 *tmp88 *tmp90
-    * set .DROP_LEVEL *tmp91
+  299 op add .DROP_LEVEL *tmp88 *tmp90
   300 set .LOCAL_MARGIN .LOAD_LEVEL
   301 set .REMOTE_MARGIN .DROP_LEVEL
-    * op mul *tmp92 :src_capacity .TRIGGER_LEVEL
-    * set .HIGH_LEVEL_TRIGGER *tmp92
+  302 op mul .HIGH_LEVEL_TRIGGER :src_capacity .TRIGGER_LEVEL
   303 set .LOW_LEVEL_TRIGGER 0
   304 set .FLOW_CORR_SIGN -1
   305 set .SRC_REMOTE_WAIT 0
 
   322 label *label68
   323 set .LINK_TXT *tmp96
   324 op sub *tmp97 :src_capacity .LOAD_LEVEL
-    * op min *tmp98 .UNIT_CAPACITY *tmp97
-    * set .LOAD_PACK *tmp98
-    * op min *tmp99 .UNIT_CAPACITY .DROP_LEVEL
-    * set .DROP_PACK *tmp99
-    * sensor *tmp100 .SRC @x
-    * set .SRC_X *tmp100
-    * sensor *tmp101 .SRC @y
-    * set .SRC_Y *tmp101
-    * sensor *tmp102 .DST @x
-    * set .DST_X *tmp102
-    * sensor *tmp103 .DST @y
-    * set .DST_Y *tmp103
+  325 op min .LOAD_PACK .UNIT_CAPACITY *tmp97
+  326 op min .DROP_PACK .UNIT_CAPACITY .DROP_LEVEL
+  327 sensor .SRC_X .SRC @x
+  328 sensor .SRC_Y .SRC @y
+  329 sensor .DST_X .DST @x
+  330 sensor .DST_Y .DST @y
   331 op sub *tmp104 .DST_X .SRC_X
   332 op sub *tmp105 .DST_Y .SRC_Y
   333 op len *tmp106 *tmp104 *tmp105
   334 op sub *tmp107 *tmp106 6
-    * op sub *tmp108 *tmp107 8
-    * set .DISTANCE *tmp108
+  335 op sub .DISTANCE *tmp107 8
   336 op max *tmp109 .DISTANCE 10
   337 op mul *tmp110 2 *tmp109
-    * op div *tmp111 *tmp110 .SPEED
-    * set .TRAVEL_TIME *tmp111
+  338 op div .TRAVEL_TIME *tmp110 .SPEED
   339 op sub *tmp112 .DST_X .SRC_X
   340 op sub *tmp113 .DST_Y .SRC_Y
   341 op len *tmp114 *tmp112 *tmp113
   342 op sub *tmp115 *tmp114 6
-    * op div *tmp116 *tmp115 100
-    * set .DISTANCE *tmp116
+  343 op div .DISTANCE *tmp115 100
   344 op equal *tmp117 .DROP_TARGET null
   345 jump *label69 equal *tmp117 false
   346 set .DROP_TARGET .CORE
 
   354 label *label71
   355 set *tmp121 -15
   356 label *label72
-    * op add *tmp122 .CORE_X *tmp121
-    * set .PARK_X *tmp122
+  357 op add .PARK_X .CORE_X *tmp121
   358 sensor *tmp123 .CONTAINER @y
   359 op lessThan *tmp124 *tmp123 .CORE_Y
   360 jump *label73 equal *tmp124 false
 
   363 label *label73
   364 set *tmp125 -15
   365 label *label74
-    * op add *tmp126 .CORE_Y *tmp125
-    * set .PARK_Y *tmp126
+  366 op add .PARK_Y .CORE_Y *tmp125
   367 op equal *tmp127 LINK_ID 0
-    * op mul *tmp128 *tmp127 .UNIT_CAPACITY
-    * set .PARK_ITEM_LIMIT *tmp128
+  368 op mul .PARK_ITEM_LIMIT *tmp127 .UNIT_CAPACITY
   369 jump *label70 always
   370 label *label69
-    * sensor *tmp129 .DROP_TARGET @x
-    * set .DROP_X *tmp129
-    * sensor *tmp130 .DROP_TARGET @y
-    * set .DROP_Y *tmp130
+  371 sensor .DROP_X .DROP_TARGET @x
+  372 sensor .DROP_Y .DROP_TARGET @y
   373 set .PARK_X .DROP_X
   374 set .PARK_Y .DROP_Y
   375 set .PARK_ITEM_LIMIT 0
   376 label *label70
-    * set *tmp131 @tick
-    * set .TRANSFER_START *tmp131
-    * op sub *tmp132 @tick 60
-    * set .LOOP_START *tmp132
+  377 set .TRANSFER_START @tick
+  378 op sub .LOOP_START @tick 60
   379 set .LAST_ITEM @mono
-    * op add *tmp133 @tick 600
-    * set .MESSAGE_TIMEOUT *tmp133
+  380 op add .MESSAGE_TIMEOUT @tick 600
   381 set .WAIT_LIMIT 30000
   382 set :items_in_transit 0
   383 set :items_per_min_unit "--"
 
   428 set .EFF_AUTO_ALLOCATION false
   429 set .AUTO_ALLOCATION_TXT ""
   430 op add *tmp139 .TARGET 1
-    * op min *tmp140 *tmp139 MAX_UNITS
-    * set .TARGET *tmp140
+  431 op min .TARGET *tmp139 MAX_UNITS
   432 set .CORR_SIGN "[]"
   433 set :corr_per_min ""
   434 set .SPEED_UNIT_TXT "/min"
 
   452 label *label87
   453 set .EFF_AUTO_ALLOCATION false
   454 op sub *tmp146 .TARGET 1
-    * op max *tmp147 *tmp146 0
-    * set .TARGET *tmp147
+  455 op max .TARGET *tmp146 0
   456 set .CORR_SIGN "[]"
   457 set :corr_per_min ""
   458 set .SPEED_UNIT_TXT "/min"
 
   470 label *label85
   471 label *label86
   472 sensor *tmp150 :first_unit @dead
-    * op strictEqual *tmp151 *tmp150 0
-    * set :alive *tmp151
+  473 op strictEqual :alive *tmp150 0
   474 op strictEqual *tmp152 @unit :first_unit
   475 op lessThanEq *tmp153 :alive *tmp152
   476 jump *label91 equal *tmp153 false
 
   482 label *label94
   483 printflush message2
   484 set .STATE_LIMIT 6
-    * sensor *tmp157 .SORTER @config
-    * set .ITEM *tmp157
+  485 sensor .ITEM .SORTER @config
   486 op notEqual *tmp158 .ITEM .LAST_ITEM
   487 jump *label95 equal *tmp158 false
   488 label *label97
 
   490 jump *label99 equal *tmp160 false
   491 print "[salmon]No item type selected for transport.[]"
   492 printflush message1
-    * sensor *tmp161 .SORTER @config
-    * set .ITEM *tmp161
+  493 sensor .ITEM .SORTER @config
   494 label *label98
   495 jump *label97 always
   496 label *label99
 
   599 label *label100
   600 set .ITEM_ICON *tmp162
   601 set .STATE_LIMIT 1
-    * sensor *tmp165 .CONTAINER .ITEM
-    * set :last_level *tmp165
+  602 sensor :last_level .CONTAINER .ITEM
   603 set :min_level 999999
   604 set :max_level 0
   605 jump *label96 always
   606 label *label95
   607 label *label96
-    * sensor *tmp166 .CONTAINER .ITEM
-    * set :container_items *tmp166
-    * op min *tmp167 :min_level :container_items
-    * set :min_level *tmp167
-    * op max *tmp168 :max_level :container_items
-    * set :max_level *tmp168
-    * op sub *tmp169 @tick .LOOP_START
-    * set :loop_time *tmp169
-    * set *tmp170 @tick
-    * set .LOOP_START *tmp170
+  608 sensor :container_items .CONTAINER .ITEM
+  609 op min :min_level :min_level :container_items
+  610 op max :max_level :max_level :container_items
+  611 op sub :loop_time @tick .LOOP_START
+  612 set .LOOP_START @tick
   613 op mul *tmp171 :loop_time 100
-    * op idiv *tmp172 *tmp171 6
-    * set :loop_time_ms *tmp172
+  614 op idiv :loop_time_ms *tmp171 6
   615 op greaterThanEq *tmp173 :transfers :active
   616 jump *label136 notEqual *tmp173 false
   617 label *label137
 
   621 label *label136
   622 op div *tmp176 :wait_time 100
   623 op ceil *tmp177 *tmp176
-    * op div *tmp178 *tmp177 10
-    * set :wait_time_str *tmp178
-    * op sub *tmp179 @tick .TRANSFER_START
-    * set :elapsed_ticks *tmp179
-    * set *tmp180 @tick
-    * set .TRANSFER_START *tmp180
-    * op div *tmp181 :elapsed_ticks 0.06
-    * set :elapsed_ms *tmp181
+  624 op div :wait_time_str *tmp177 10
+  625 op sub :elapsed_ticks @tick .TRANSFER_START
+  626 set .TRANSFER_START @tick
+  627 op div :elapsed_ms :elapsed_ticks 0.06
   628 op idiv *tmp182 :elapsed_ms 100
-    * op div *tmp183 *tmp182 10
-    * set :elapsed_str *tmp183
-    * op div *tmp184 :transferred :elapsed_ms
-    * set :items_per_ms *tmp184
-    * op idiv *tmp185 :items_per_ms 0.000016666666666666667
-    * set :items_per_min *tmp185
+  629 op div :elapsed_str *tmp182 10
+  630 op div :items_per_ms :transferred :elapsed_ms
+  631 op idiv :items_per_min :items_per_ms 0.000016666666666666667
   632 set :transferred 0
   633 set :transfers 0
   634 jump *label138 equal .EFF_AUTO_ALLOCATION false
   635 set .AUTO_ALLOCATION_TXT "\n=== [gold]Unit auto allocation[] ==="
   636 op mul *tmp187 .LOOPS_TICKS_TO_MS :loop_time
-    * op add *tmp188 .TRAVEL_TIME *tmp187
-    * set :turnaround_ms *tmp188
-    * op mul *tmp189 :turnaround_ms .DEC_OVERALLOCATION
-    * set .WAIT_LIMIT *tmp189
+  637 op add :turnaround_ms .TRAVEL_TIME *tmp187
+  638 op mul .WAIT_LIMIT :turnaround_ms .DEC_OVERALLOCATION
   639 op idiv *tmp190 :turnaround_ms 100
-    * op div *tmp191 *tmp190 10
-    * set :turnaround_str *tmp191
-    * op div *tmp192 .UNIT_CAPACITY :turnaround_ms
-    * set :items_per_ms_unit *tmp192
+  640 op div :turnaround_str *tmp190 10
+  641 op div :items_per_ms_unit .UNIT_CAPACITY :turnaround_ms
   642 op mul *tmp193 :items_per_ms_unit 60000
-    * op floor *tmp194 *tmp193
-    * set :items_per_min_unit *tmp194
+  643 op floor :items_per_min_unit *tmp193
   644 op add *tmp195 :min_level :max_level
-    * op div *tmp196 *tmp195 2
-    * set :this_level *tmp196
+  645 op div :this_level *tmp195 2
   646 op sub *tmp197 :last_level :this_level
-    * op mul *tmp198 *tmp197 .FLOW_CORR_SIGN
-    * set :corr *tmp198
-    * op div *tmp199 :corr :elapsed_ms
-    * set :corr_per_ms *tmp199
+  647 op mul :corr *tmp197 .FLOW_CORR_SIGN
+  648 op div :corr_per_ms :corr :elapsed_ms
   649 set :last_level :this_level
-    * op add *tmp200 :items_per_ms :corr_per_ms
-    * set :total_flow_per_ms *tmp200
+  650 op add :total_flow_per_ms :items_per_ms :corr_per_ms
   651 op mul *tmp201 60000 :corr_per_ms
-    * op floor *tmp202 *tmp201
-    * set :corr_per_min *tmp202
+  652 op floor :corr_per_min *tmp201
   653 set .CORR_SIGN "[]([green]"
   654 op greaterThanEq *tmp203 :corr_per_min 0
   655 jump *label140 equal *tmp203 false
 
   685 set :total_flow_1 :total_flow_per_ms
   686 op add *tmp213 :total_flow_3 :total_flow_2
   687 op add *tmp214 *tmp213 :total_flow_1
-    * op div *tmp215 *tmp214 3
-    * set :total_flow_per_ms *tmp215
+  688 op div :total_flow_per_ms *tmp214 3
   689 jump *label153 always
   690 label *label152
   691 label *label153
   692 op div *tmp216 :total_flow_per_ms :items_per_ms_unit
   693 op add *tmp217 *tmp216 .INC_OVERALLOCATION
-    * op ceil *tmp218 *tmp217
-    * set :new_target *tmp218
-    * op mul *tmp219 .TRIGGER_BOOST :trigger
-    * set :level_boost *tmp219
+  694 op ceil :new_target *tmp217
+  695 op mul :level_boost .TRIGGER_BOOST :trigger
   696 op add *tmp220 :new_target :level_boost
-    * op min *tmp221 *tmp220 MAX_UNITS
-    * set :new_target *tmp221
+  697 op min :new_target *tmp220 MAX_UNITS
   698 op sub *tmp222 :new_target :active
   699 op max *tmp223 *tmp222 0
-    * op min *tmp224 *tmp223 .INC_LIMIT
-    * set :new_change *tmp224
+  700 op min :new_change *tmp223 .INC_LIMIT
   701 set .INC_LIMIT .INC_MAX
   702 op lessThanEq *tmp225 :new_change 0
-    * op mul *tmp226 *tmp225 .DEC_MAX
-    * set .DEC_LIMIT *tmp226
+  703 op mul .DEC_LIMIT *tmp225 .DEC_MAX
   704 jump *label149 always
   705 label *label148
   706 op idiv *tmp227 :wait_time .WAIT_LIMIT
   707 op mul *tmp228 -1 *tmp227
-    * op max *tmp229 *tmp228 .DEC_LIMIT
-    * set :new_change *tmp229
+  708 op max :new_change *tmp228 .DEC_LIMIT
   709 op greaterThanEq *tmp230 :new_change 0
-    * op mul *tmp231 *tmp230 .INC_MAX
-    * set .INC_LIMIT *tmp231
+  710 op mul .INC_LIMIT *tmp230 .INC_MAX
   711 set .DEC_LIMIT .DEC_MAX
   712 label *label149
   713 op add *tmp232 :active :new_change
-    * op max *tmp233 *tmp232 1
-    * set .TARGET *tmp233
+  714 op max .TARGET *tmp232 1
   715 jump *label143 always
   716 label *label142
   717 set .INC_LIMIT 0
 
   792 label *label162
   793 label *label163
   794 jump *label164 equal .SHOW_REMOTE_LEVEL false
-    * sensor *tmp245 .CORE .ITEM
-    * set :remote_level *tmp245
+  795 sensor :remote_level .CORE .ITEM
   796 print "\n"
   797 print "[]Remote items: [gold]"
   798 print :remote_level
 
   852 print " "
   853 print "ms"
   854 printflush message1
-    * op sub *tmp251 .TARGET :active
-    * set .CHANGE *tmp251
+  855 op sub .CHANGE .TARGET :active
   856 set :active 0
-    * set *tmp252 @unit
-    * set :first_unit *tmp252
+  857 set :first_unit @unit
   858 set :items_in_transit 0
   859 print "Unit status:"
   860 sensor *tmp253 .SRC @dead
 
   904 sensor *tmp270 @unit @controller
   905 op equal *tmp271 *tmp270 @this
   906 jump *label184 equal *tmp271 false
-    * sensor *tmp273 @unit @flag
-    * set :state *tmp273
+  907 sensor :state @unit @flag
   908 op notEqual *tmp274 :state .S_UNUSED
   909 jump *label186 equal *tmp274 false
   910 op max *tmp276 :state 1
-    * op min *tmp277 *tmp276 .STATE_LIMIT
-    * set :state *tmp277
+  911 op min :state *tmp276 .STATE_LIMIT
   912 op lessThan *tmp278 .CHANGE 0
   913 jump *label188 equal *tmp278 false
   914 op notEqual *tmp280 :state 6
 
   984 op equal *tmp306 :state 3
   985 jump *label206 equal *tmp306 false
   986 sensor *tmp308 .SRC .ITEM
-    * op sub *tmp309 *tmp308 .LOAD_LEVEL
-    * set :max_load *tmp309
+  987 op sub :max_load *tmp308 .LOAD_LEVEL
   988 op greaterThanEq *tmp310 :max_load .LOAD_PACK
   989 jump *label208 equal *tmp310 false
   990 ucontrol itemTake .SRC .ITEM :max_load
 
  1039 op equal *tmp328 :state 5
  1040 jump *label216 equal *tmp328 false
  1041 sensor *tmp330 .DST .ITEM
-    * op sub *tmp331 .DROP_LEVEL *tmp330
-    * set :max_drop *tmp331
+ 1042 op sub :max_drop .DROP_LEVEL *tmp330
  1043 op greaterThanEq *tmp332 :max_drop .DROP_PACK
  1044 jump *label218 equal *tmp332 false
  1045 ucontrol itemDrop .DST :max_drop
 
  1084 jump *label217 always
  1085 label *label216
  1086 label *label217
-    * sensor *tmp346 @unit @totalItems
-    * set :items *tmp346
+ 1087 sensor :items @unit @totalItems
  1088 op add :items_in_transit :items_in_transit :items
  1089 op equal *tmp347 :state 6
  1090 jump *label224 equal *tmp347 false
 
  1095 ucontrol within .DROP_X .DROP_Y 8 *tmp349
  1096 jump *label226 equal *tmp349 false
  1097 ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
-    * sensor *tmp351 @unit @totalItems
-    * set :items *tmp351
+ 1098 sensor :items @unit @totalItems
  1099 op lessThanEq *tmp352 :items .PARK_ITEM_LIMIT
  1100 jump *label228 equal *tmp352 false
  1101 ucontrol move .PARK_X .PARK_Y

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-3 instructions):
 
    94 sensor .UNIT_CAPACITY @unit @itemCapacity
    95 set :first_unit null
    96 label *label16
-    * jump *label18 equal true false
    97 set .CONTAINER null
    98 set .DROP_TARGET null
    99 set :n @links
 
   407 set .AUTO_ALLOCATION_TXT ""
   408 label *label76
   409 label *label77
-    * jump *label79 equal true false
   410 ubind UNIT
   411 label *label80
   412 op equal *tmp135 @unit null
 
  1049 jump *label220 equal *tmp335 false
  1050 set :state 2
  1051 ucontrol approach .SRC_X .SRC_Y 6
-    * jump *label222 equal true false
  1052 sensor *tmp338 @unit @x
  1053 op sub *tmp339 .SRC_X *tmp338
  1054 sensor *tmp340 @unit @y

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-21 instructions):
 
   104 getlink :block :n
   105 sensor *tmp29 :block @type
   106 jump *label24 equal *tmp29 @vault
-    * jump *label24 equal *tmp29 @container
-    * jump *label23 always
+  107 jump *label23 notEqual *tmp29 @container
   108 label *label24
   109 set .DROP_TARGET .CONTAINER
   110 set .CONTAINER :block
 
   494 set .LAST_ITEM .ITEM
   495 # "Function: def itemTypeToIcon(in itemType)"
   496 set :itemTypeToIcon:itemType .ITEM
-    * jump *label103 equal :itemTypeToIcon:itemType @blast-compound
-    * jump *label102 always
+  497 jump *label102 notEqual :itemTypeToIcon:itemType @blast-compound
   498 label *label103
   499 set *tmp163 "[]"
   500 jump *label101 always
   501 label *label102
-    * jump *label105 equal :itemTypeToIcon:itemType @coal
-    * jump *label104 always
+  502 jump *label104 notEqual :itemTypeToIcon:itemType @coal
   503 label *label105
   504 set *tmp163 "[]"
   505 jump *label101 always
   506 label *label104
-    * jump *label107 equal :itemTypeToIcon:itemType @copper
-    * jump *label106 always
+  507 jump *label106 notEqual :itemTypeToIcon:itemType @copper
   508 label *label107
   509 set *tmp163 "[]"
   510 jump *label101 always
   511 label *label106
-    * jump *label109 equal :itemTypeToIcon:itemType @graphite
-    * jump *label108 always
+  512 jump *label108 notEqual :itemTypeToIcon:itemType @graphite
   513 label *label109
   514 set *tmp163 "[]"
   515 jump *label101 always
   516 label *label108
-    * jump *label111 equal :itemTypeToIcon:itemType @lead
-    * jump *label110 always
+  517 jump *label110 notEqual :itemTypeToIcon:itemType @lead
   518 label *label111
   519 set *tmp163 "[]"
   520 jump *label101 always
   521 label *label110
-    * jump *label113 equal :itemTypeToIcon:itemType @metaglass
-    * jump *label112 always
+  522 jump *label112 notEqual :itemTypeToIcon:itemType @metaglass
   523 label *label113
   524 set *tmp163 "[]"
   525 jump *label101 always
   526 label *label112
-    * jump *label115 equal :itemTypeToIcon:itemType @phase-fabric
-    * jump *label114 always
+  527 jump *label114 notEqual :itemTypeToIcon:itemType @phase-fabric
   528 label *label115
   529 set *tmp163 "[]"
   530 jump *label101 always
   531 label *label114
-    * jump *label117 equal :itemTypeToIcon:itemType @plastanium
-    * jump *label116 always
+  532 jump *label116 notEqual :itemTypeToIcon:itemType @plastanium
   533 label *label117
   534 set *tmp163 "[]"
   535 jump *label101 always
   536 label *label116
-    * jump *label119 equal :itemTypeToIcon:itemType @pyratite
-    * jump *label118 always
+  537 jump *label118 notEqual :itemTypeToIcon:itemType @pyratite
   538 label *label119
   539 set *tmp163 "[]"
   540 jump *label101 always
   541 label *label118
-    * jump *label121 equal :itemTypeToIcon:itemType @sand
-    * jump *label120 always
+  542 jump *label120 notEqual :itemTypeToIcon:itemType @sand
   543 label *label121
   544 set *tmp163 "[]"
   545 jump *label101 always
   546 label *label120
-    * jump *label123 equal :itemTypeToIcon:itemType @scrap
-    * jump *label122 always
+  547 jump *label122 notEqual :itemTypeToIcon:itemType @scrap
   548 label *label123
   549 set *tmp163 "[]"
   550 jump *label101 always
   551 label *label122
-    * jump *label125 equal :itemTypeToIcon:itemType @silicon
-    * jump *label124 always
+  552 jump *label124 notEqual :itemTypeToIcon:itemType @silicon
   553 label *label125
   554 set *tmp163 "[]"
   555 jump *label101 always
   556 label *label124
-    * jump *label127 equal :itemTypeToIcon:itemType @spore-pod
-    * jump *label126 always
+  557 jump *label126 notEqual :itemTypeToIcon:itemType @spore-pod
   558 label *label127
   559 set *tmp163 "[]"
   560 jump *label101 always
   561 label *label126
-    * jump *label129 equal :itemTypeToIcon:itemType @surge-alloy
-    * jump *label128 always
+  562 jump *label128 notEqual :itemTypeToIcon:itemType @surge-alloy
   563 label *label129
   564 set *tmp163 "[]"
   565 jump *label101 always
   566 label *label128
-    * jump *label131 equal :itemTypeToIcon:itemType @thorium
-    * jump *label130 always
+  567 jump *label130 notEqual :itemTypeToIcon:itemType @thorium
   568 label *label131
   569 set *tmp163 "[]"
   570 jump *label101 always
   571 label *label130
-    * jump *label133 equal :itemTypeToIcon:itemType @titanium
-    * jump *label132 always
+  572 jump *label132 notEqual :itemTypeToIcon:itemType @titanium
   573 label *label133
   574 set *tmp163 "[]"
   575 jump *label101 always
 
   597 jump *label136 notEqual *tmp173 false
   598 label *label137
   599 op greaterThan *tmp174 :wait_time .WAIT_LIMIT
-    * jump *label136 notEqual *tmp174 false
-    * jump *label134 always
+  600 jump *label134 equal *tmp174 false
   601 label *label136
   602 op div *tmp176 :wait_time 100
   603 op ceil *tmp177 *tmp176
 
   643 jump *label146 notEqual *tmp206 false
   644 label *label147
   645 op greaterThan *tmp207 :max_level .HIGH_LEVEL_TRIGGER
-    * jump *label146 notEqual *tmp207 false
-    * jump *label144 always
+  646 jump *label144 equal *tmp207 false
   647 label *label146
   648 set *tmp208 true
   649 jump *label145 always
 
   655 jump *label150 notEqual *tmp209 false
   656 label *label151
   657 op greaterThan *tmp210 :trigger :remote_wait_time
-    * jump *label150 notEqual *tmp210 false
-    * jump *label148 always
+  658 jump *label148 equal *tmp210 false
   659 label *label150
   660 jump *label152 equal STABILIZATION false
   661 set :total_flow_3 :total_flow_2
 
  1116 label *label236
  1117 sensor *tmp358 .DST @dead
  1118 op strictNotEqual *tmp359 *tmp358 0
-    * jump *label235 notEqual *tmp359 false
-    * jump *label233 always
+ 1119 jump *label233 equal *tmp359 false
  1120 label *label235
  1121 label *label237
  1122 sensor *tmp361 switch1 @enabled

Modifications by Iterated phase, Condition Optimization, pass 1, iteration 1 (-73 instructions):
 
    29 set .DEC_MAX -1
    30 ubind UNIT
    31 label *label0
-    * op equal *tmp6 @unit null
-    * jump *label2 equal *tmp6 false
+   32 jump *label2 notEqual @unit null
    33 print "[salmon]No unit of type "
    34 print UNIT
    35 print " "
 
    49 label *label3
    50 jump *label5 equal :repeat false
    51 sensor *tmp12 @unit @controller
-    * op equal *tmp13 *tmp12 @this
-    * jump *label6 equal *tmp13 false
+   52 jump *label6 notEqual *tmp12 @this
    53 sensor :state @unit @flag
-    * op greaterThanEq *tmp16 :state 1
-    * jump *label8 equal *tmp16 false
+   54 jump *label8 lessThan :state 1
    55 label *label11
-    * op lessThan *tmp17 :state 6
-    * jump *label8 equal *tmp17 false
+   56 jump *label8 greaterThanEq :state 6
    57 jump *label10 always
    58 label *label10
    59 set *tmp18 true
 
    66 label *label6
    67 label *label7
    68 ubind UNIT
-    * op notEqual *tmp19 @unit :first_unit
-    * jump *label12 equal *tmp19 false
+   69 jump *label12 equal @unit :first_unit
    70 label *label15
    71 sensor *tmp20 :first_unit @dead
    72 op strictEqual *tmp21 *tmp20 0
 
    93 set .DROP_TARGET null
    94 set :n @links
    95 label *label19
-    * op greaterThan *tmp25 :n 0
-    * jump *label21 equal *tmp25 false
+   96 jump *label21 lessThanEq :n 0
    97 op sub :n :n 1
    98 getlink :block :n
    99 sensor *tmp29 :block @type
 
   109 label *label20
   110 jump *label19 always
   111 label *label21
-    * op equal *tmp31 .CONTAINER null
-    * jump *label25 equal *tmp31 false
+  112 jump *label25 notEqual .CONTAINER null
   113 print "[salmon]No vault or container."
   114 printflush message1
   115 jump *label26 always
 
   120 jump *label16 always
   121 label *label18
   122 set .CORE null
-    * op equal *tmp33 LINK_ID 0
-    * jump *label27 equal *tmp33 false
+  123 jump *label27 notEqual LINK_ID 0
   124 label *label29
-    * op equal *tmp35 .CORE null
-    * jump *label31 equal *tmp35 false
+  125 jump *label31 notEqual .CORE null
   126 print "[green]Locating core..."
   127 printflush message1
   128 ubind UNIT
   129 sensor *tmp36 @unit @controlled
-    * op equal *tmp37 *tmp36 0
-    * jump *label32 equal *tmp37 false
+  130 jump *label32 notEqual *tmp36 0
   131 ulocate building core false @copper .CORE_X .CORE_Y *tmp40 .CORE
   132 ucontrol flag .S_UNUSED
   133 jump *label33 always
 
   146 print ".."
   147 printflush message1
   148 label *label34
-    * op equal *tmp41 .CORE null
-    * jump *label36 equal *tmp41 false
+  149 jump *label36 notEqual .CORE null
   150 op add .QUERY_FLAG 99999900 LINK_ID
   151 set :flag .QUERY_FLAG
   152 ubind UNIT
   153 label *label37
   154 sensor *tmp43 @unit @controlled
-    * op notEqual *tmp44 *tmp43 0
-    * jump *label39 equal *tmp44 false
+  155 jump *label39 equal *tmp43 0
   156 ubind UNIT
   157 label *label38
   158 jump *label37 always
   159 label *label39
   160 ucontrol flag :flag
   161 label *label40
-    * op equal *tmp45 :flag .QUERY_FLAG
-    * jump *label42 equal *tmp45 false
+  162 jump *label42 notEqual :flag .QUERY_FLAG
   163 label *label44
   164 sensor *tmp46 @unit @dead
-    * op equal *tmp47 *tmp46 0
-    * jump *label42 equal *tmp47 false
+  165 jump *label42 notEqual *tmp46 0
   166 jump *label43 always
   167 label *label43
   168 ucontrol stop
 
   170 label *label41
   171 jump *label40 always
   172 label *label42
-    * op notEqual *tmp49 :flag .QUERY_FLAG
-    * jump *label45 equal *tmp49 false
+  173 jump *label45 equal :flag .QUERY_FLAG
   174 op idiv :position :flag 100
   175 op mod .CORE_X :position @mapw
   176 op idiv .CORE_Y :position @mapw
   177 label *label47
   178 sensor *tmp54 @unit @dead
-    * op equal *tmp55 *tmp54 0
-    * jump *label49 equal *tmp55 false
+  179 jump *label49 notEqual *tmp54 0
   180 label *label51
   181 ucontrol within .CORE_X .CORE_Y 8 *tmp56
-    * op equal *tmp57 *tmp56 false
-    * jump *label49 equal *tmp57 false
+  182 jump *label49 notEqual *tmp56 false
   183 jump *label50 always
   184 label *label50
   185 ucontrol approach .CORE_X .CORE_Y 6
 
   187 jump *label47 always
   188 label *label49
   189 ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE *tmp59
-    * op notEqual *tmp60 :b_type @vault
-    * jump *label52 equal *tmp60 false
+  190 jump *label52 equal :b_type @vault
   191 print "[salmon]Building at "
   192 print .CORE_X
   193 print ","
 
   212 set .SORTER sorter1
   213 sensor :sorter_type .SORTER @type
   214 label *label54
-    * op notEqual *tmp63 :sorter_type @sorter
-    * jump *label56 equal *tmp63 false
+  215 jump *label56 equal :sorter_type @sorter
   216 label *label58
-    * op notEqual *tmp64 :sorter_type @inverted-sorter
-    * jump *label56 equal *tmp64 false
+  217 jump *label56 equal :sorter_type @inverted-sorter
   218 jump *label57 always
   219 label *label57
   220 print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter."
   221 print "\n"
-    * op notEqual *tmp65 .SORTER null
-    * jump *label59 equal *tmp65 false
+  222 jump *label59 equal .SORTER null
   223 print "Block found: "
   224 print .SORTER
   225 jump *label60 always
 
   231 label *label55
   232 jump *label54 always
   233 label *label56
-    * op equal *tmp68 :sorter_type @sorter
-    * jump *label61 equal *tmp68 false
+  234 jump *label61 notEqual :sorter_type @sorter
   235 set .SHOW_REMOTE_LEVEL true
   236 set .SRC .CORE
   237 set .DST .CONTAINER
 
   250 set .FLOW_CORR_SIGN 1
   251 set .SRC_REMOTE_WAIT 1
   252 set .DST_REMOTE_WAIT 0
-    * op equal *tmp79 LINK_ID 0
-    * jump *label63 equal *tmp79 false
+  253 jump *label63 notEqual LINK_ID 0
   254 set *tmp80 " from core"
   255 jump *label64 always
   256 label *label63
 
   279 set .FLOW_CORR_SIGN -1
   280 set .SRC_REMOTE_WAIT 0
   281 set .DST_REMOTE_WAIT 1
-    * op equal *tmp93 LINK_ID 0
-    * jump *label65 equal *tmp93 false
+  282 jump *label65 notEqual LINK_ID 0
   283 set *tmp94 " to core"
   284 jump *label66 always
   285 label *label65
 
   287 label *label66
   288 set .DIRECTION *tmp94
   289 label *label62
-    * op equal *tmp95 LINK_ID 0
-    * jump *label67 equal *tmp95 false
+  290 jump *label67 notEqual LINK_ID 0
   291 set *tmp96 ""
   292 jump *label68 always
   293 label *label67
 
   314 op len *tmp114 *tmp112 *tmp113
   315 op sub *tmp115 *tmp114 6
   316 op div .DISTANCE *tmp115 100
-    * op equal *tmp117 .DROP_TARGET null
-    * jump *label69 equal *tmp117 false
+  317 jump *label69 notEqual .DROP_TARGET null
   318 set .DROP_TARGET .CORE
   319 set .DROP_X .CORE_X
   320 set .DROP_Y .CORE_Y
   321 sensor *tmp119 .CONTAINER @x
-    * op lessThan *tmp120 *tmp119 .CORE_X
-    * jump *label71 equal *tmp120 false
+  322 jump *label71 greaterThanEq *tmp119 .CORE_X
   323 set *tmp121 15
   324 jump *label72 always
   325 label *label71
 
   327 label *label72
   328 op add .PARK_X .CORE_X *tmp121
   329 sensor *tmp123 .CONTAINER @y
-    * op lessThan *tmp124 *tmp123 .CORE_Y
-    * jump *label73 equal *tmp124 false
+  330 jump *label73 greaterThanEq *tmp123 .CORE_Y
   331 set *tmp125 15
   332 jump *label74 always
   333 label *label73
 
   380 label *label77
   381 ubind UNIT
   382 label *label80
-    * op equal *tmp135 @unit null
-    * jump *label82 equal *tmp135 false
+  383 jump *label82 notEqual @unit null
   384 print "No unit of type "
   385 print UNIT
   386 print " "
 
   407 sensor *tmp141 switch2 @enabled
   408 jump *label85 equal *tmp141 false
   409 control enabled switch2 false
-    * op lessThan *tmp144 .TARGET 1
-    * jump *label87 equal *tmp144 false
+  410 jump *label87 greaterThanEq .TARGET 1
   411 set .EFF_AUTO_ALLOCATION true
   412 set .TARGET 1
   413 set .DEC_LIMIT 0
 
   423 set .CORR_SIGN "[]"
   424 set :corr_per_min ""
   425 set .SPEED_UNIT_TXT "/min"
-    * op equal *tmp148 .TARGET 0
-    * jump *label89 equal *tmp148 false
+  426 jump *label89 notEqual .TARGET 0
   427 set *tmp149 "\n=== [salmon]Transport deactivated[] ==="
   428 jump *label90 always
   429 label *label89
 
   438 sensor *tmp150 :first_unit @dead
   439 op strictEqual :alive *tmp150 0
   440 op strictEqual *tmp152 @unit :first_unit
-    * op lessThanEq *tmp153 :alive *tmp152
-    * jump *label91 equal *tmp153 false
-    * op equal *tmp155 :active 0
-    * jump *label93 equal *tmp155 false
+  441 jump *label91 greaterThan :alive *tmp152
+  442 jump *label93 notEqual :active 0
   443 print "\n[salmon]No active units.[]"
   444 jump *label94 always
   445 label *label93
 
   447 printflush message2
   448 set .STATE_LIMIT 6
   449 sensor .ITEM .SORTER @config
-    * op notEqual *tmp158 .ITEM .LAST_ITEM
-    * jump *label95 equal *tmp158 false
+  450 jump *label95 equal .ITEM .LAST_ITEM
   451 label *label97
-    * op equal *tmp160 .ITEM null
-    * jump *label99 equal *tmp160 false
+  452 jump *label99 notEqual .ITEM null
   453 print "[salmon]No item type selected for transport.[]"
   454 printflush message1
   455 sensor .ITEM .SORTER @config
 
   558 set .LOOP_START @tick
   559 op mul *tmp171 :loop_time 100
   560 op idiv :loop_time_ms *tmp171 6
-    * op greaterThanEq *tmp173 :transfers :active
-    * jump *label136 notEqual *tmp173 false
+  561 jump *label136 greaterThanEq :transfers :active
   562 label *label137
-    * op greaterThan *tmp174 :wait_time .WAIT_LIMIT
-    * jump *label134 equal *tmp174 false
+  563 jump *label134 lessThanEq :wait_time .WAIT_LIMIT
   564 label *label136
   565 op div *tmp176 :wait_time 100
   566 op ceil *tmp177 *tmp176
 
   594 op mul *tmp201 60000 :corr_per_ms
   595 op floor :corr_per_min *tmp201
   596 set .CORR_SIGN "[]([green]"
-    * op greaterThanEq *tmp203 :corr_per_min 0
-    * jump *label140 equal *tmp203 false
+  597 jump *label140 lessThan :corr_per_min 0
   598 set .CORR_SIGN "[]([green]+"
   599 jump *label141 always
   600 label *label140
   601 label *label141
   602 set .SPEED_UNIT_TXT "[])/min"
   603 jump *label142 equal :alive false
-    * op lessThan *tmp206 :min_level .LOW_LEVEL_TRIGGER
-    * jump *label146 notEqual *tmp206 false
+  604 jump *label146 lessThan :min_level .LOW_LEVEL_TRIGGER
   605 label *label147
-    * op greaterThan *tmp207 :max_level .HIGH_LEVEL_TRIGGER
-    * jump *label144 equal *tmp207 false
+  606 jump *label144 lessThanEq :max_level .HIGH_LEVEL_TRIGGER
   607 label *label146
   608 set *tmp208 true
   609 jump *label145 always
 
   611 set *tmp208 false
   612 label *label145
   613 set :trigger *tmp208
-    * op equal *tmp209 :wait_time 0
-    * jump *label150 notEqual *tmp209 false
+  614 jump *label150 equal :wait_time 0
   615 label *label151
-    * op greaterThan *tmp210 :trigger :remote_wait_time
-    * jump *label148 equal *tmp210 false
+  616 jump *label148 lessThanEq :trigger :remote_wait_time
   617 label *label150
   618 jump *label152 equal STABILIZATION false
   619 set :total_flow_3 :total_flow_2
 
   660 label *label139
   661 set :wait_time 0
   662 set :remote_wait_time 0
-    * op greaterThanEq *tmp234 @tick .MESSAGE_TIMEOUT
-    * jump *label154 equal *tmp234 false
+  663 jump *label154 lessThan @tick .MESSAGE_TIMEOUT
   664 set .MESSAGE ""
   665 jump *label155 always
   666 label *label154
 
   676 print .DIRECTION
   677 print .LINK_TXT
   678 print .AUTO_ALLOCATION_TXT
-    * op greaterThan *tmp236 .TARGET 0
-    * jump *label156 equal *tmp236 false
-    * op greaterThanEq *tmp238 :active .TARGET
-    * jump *label158 equal *tmp238 false
+  679 jump *label156 lessThanEq .TARGET 0
+  680 jump *label158 lessThan :active .TARGET
   681 print "\n"
   682 print "Using [green]"
   683 print :active
 
   703 print " [gold]+"
   704 print :items_in_transit
   705 label *label159
-    * op greaterThan *tmp240 .CHANGE 0
-    * jump *label160 equal *tmp240 false
+  706 jump *label160 lessThanEq .CHANGE 0
   707 print "\n[][salmon]Cannot acquire additional units![]"
   708 jump *label161 always
   709 label *label160
 
   714 print "\n"
   715 print "[]Local items: [gold]"
   716 print :container_items
-    * op lessThan *tmp242 .EFF_LOCAL_LIMIT 100
-    * jump *label162 equal *tmp242 false
+  717 jump *label162 greaterThanEq .EFF_LOCAL_LIMIT 100
   718 print "[] (limit [orange]"
   719 print .LOCAL_MARGIN
   720 print "["
 
   727 print "\n"
   728 print "[]Remote items: [gold]"
   729 print :remote_level
-    * op lessThan *tmp246 .EFF_REMOTE_LIMIT 100
-    * jump *label166 equal *tmp246 false
+  730 jump *label166 greaterThanEq .EFF_REMOTE_LIMIT 100
   731 print "[] (limit [orange]"
   732 print .REMOTE_MARGIN
   733 print "["
 
   738 jump *label165 always
   739 label *label164
   740 label *label165
-    * op greaterThan *tmp248 .TARGET 0
-    * jump *label168 equal *tmp248 false
+  741 jump *label168 lessThanEq .TARGET 0
   742 print "\n"
   743 print "[]Speed: [green]"
   744 print :items_per_min
 
   787 set :items_in_transit 0
   788 print "Unit status:"
   789 sensor *tmp253 .SRC @dead
-    * op notEqual *tmp254 *tmp253 0
-    * jump *label172 equal *tmp254 false
+  790 jump *label172 equal *tmp253 0
   791 jump *label79 always
   792 jump *label173 always
   793 label *label172
   794 label *label173
   795 sensor *tmp256 .DST @dead
-    * op notEqual *tmp257 *tmp256 0
-    * jump *label174 equal *tmp257 false
+  796 jump *label174 equal *tmp256 0
   797 jump *label79 always
   798 jump *label175 always
   799 label *label174
   800 label *label175
   801 sensor *tmp259 .SORTER @dead
-    * op notEqual *tmp260 *tmp259 0
-    * jump *label176 equal *tmp260 false
+  802 jump *label176 equal *tmp259 0
   803 jump *label79 always
   804 jump *label177 always
   805 label *label176
   806 label *label177
   807 getlink *tmp262 .CONTAINER_INDEX
-    * op notEqual *tmp263 .CONTAINER *tmp262
-    * jump *label178 equal *tmp263 false
+  808 jump *label178 equal .CONTAINER *tmp262
   809 jump *label79 always
   810 jump *label179 always
   811 label *label178
 
   813 jump *label92 always
   814 label *label91
   815 label *label92
-    * op greaterThan *tmp265 .CHANGE 0
-    * jump *label180 equal *tmp265 false
+  816 jump *label180 lessThanEq .CHANGE 0
   817 sensor *tmp267 @unit @controlled
-    * op equal *tmp268 *tmp267 0
-    * jump *label182 equal *tmp268 false
+  818 jump *label182 notEqual *tmp267 0
   819 op sub .CHANGE .CHANGE 1
   820 ucontrol flag 1
   821 jump *label183 always
 
   825 label *label180
   826 label *label181
   827 sensor *tmp270 @unit @controller
-    * op equal *tmp271 *tmp270 @this
-    * jump *label184 equal *tmp271 false
+  828 jump *label184 notEqual *tmp270 @this
   829 sensor :state @unit @flag
-    * op notEqual *tmp274 :state .S_UNUSED
-    * jump *label186 equal *tmp274 false
+  830 jump *label186 equal :state .S_UNUSED
   831 op max *tmp276 :state 1
   832 op min :state *tmp276 .STATE_LIMIT
-    * op lessThan *tmp278 .CHANGE 0
-    * jump *label188 equal *tmp278 false
-    * op notEqual *tmp280 :state 6
-    * jump *label190 equal *tmp280 false
+  833 jump *label188 greaterThanEq .CHANGE 0
+  834 jump *label190 equal :state 6
   835 sensor *tmp282 @unit @totalItems
-    * op lessThanEq *tmp283 *tmp282 .DISCARD_UNIT_MAX_ITEMS
-    * jump *label192 equal *tmp283 false
+  836 jump *label192 greaterThan *tmp282 .DISCARD_UNIT_MAX_ITEMS
   837 op add .CHANGE .CHANGE 1
   838 set :state 6
   839 jump *label193 always
 
   845 jump *label189 always
   846 label *label188
   847 label *label189
-    * op equal *tmp285 :state 1
-    * jump *label194 equal *tmp285 false
+  848 jump *label194 notEqual :state 1
   849 sensor *tmp287 @unit @totalItems
-    * op equal *tmp288 *tmp287 0
-    * jump *label196 equal *tmp288 false
+  850 jump *label196 notEqual *tmp287 0
   851 set :state 2
   852 jump *label197 always
   853 label *label196
   854 sensor *tmp290 @unit @firstItem
-    * op equal *tmp291 *tmp290 .ITEM
-    * jump *label198 equal *tmp291 false
+  855 jump *label198 notEqual *tmp290 .ITEM
   856 set :state 4
   857 jump *label199 always
   858 label *label198
 
   871 jump *label195 always
   872 label *label194
   873 label *label195
-    * op equal *tmp295 :state 2
-    * jump *label202 equal *tmp295 false
+  874 jump *label202 notEqual :state 2
   875 ucontrol approach .SRC_X .SRC_Y 6
   876 ucontrol within .SRC_X .SRC_Y 8 *tmp297
   877 jump *label204 equal *tmp297 false
 
   895 jump *label203 always
   896 label *label202
   897 label *label203
-    * op equal *tmp306 :state 3
-    * jump *label206 equal *tmp306 false
+  898 jump *label206 notEqual :state 3
   899 sensor *tmp308 .SRC .ITEM
   900 op sub :max_load *tmp308 .LOAD_LEVEL
-    * op greaterThanEq *tmp310 :max_load .LOAD_PACK
-    * jump *label208 equal *tmp310 false
+  901 jump *label208 lessThan :max_load .LOAD_PACK
   902 ucontrol itemTake .SRC .ITEM :max_load
   903 jump *label209 always
   904 label *label208
   905 label *label209
   906 sensor *tmp312 @unit @totalItems
-    * op greaterThanEq *tmp313 *tmp312 .UNIT_CAPACITY
-    * jump *label210 equal *tmp313 false
+  907 jump *label210 lessThan *tmp312 .UNIT_CAPACITY
   908 set :state 4
   909 jump *label211 always
   910 label *label210
 
   919 jump *label207 always
   920 label *label206
   921 label *label207
-    * op equal *tmp316 :state 4
-    * jump *label212 equal *tmp316 false
+  922 jump *label212 notEqual :state 4
   923 ucontrol approach .DST_X .DST_Y 6
   924 ucontrol within .DST_X .DST_Y 8 *tmp318
   925 jump *label214 equal *tmp318 false
 
   946 jump *label213 always
   947 label *label212
   948 label *label213
-    * op equal *tmp328 :state 5
-    * jump *label216 equal *tmp328 false
+  949 jump *label216 notEqual :state 5
   950 sensor *tmp330 .DST .ITEM
   951 op sub :max_drop .DROP_LEVEL *tmp330
-    * op greaterThanEq *tmp332 :max_drop .DROP_PACK
-    * jump *label218 equal *tmp332 false
+  952 jump *label218 lessThan :max_drop .DROP_PACK
   953 ucontrol itemDrop .DST :max_drop
   954 jump *label219 always
   955 label *label218
   956 label *label219
   957 sensor *tmp334 @unit @totalItems
-    * op lessThanEq *tmp335 *tmp334 0
-    * jump *label220 equal *tmp335 false
+  958 jump *label220 greaterThan *tmp334 0
   959 set :state 2
   960 ucontrol approach .SRC_X .SRC_Y 6
   961 sensor *tmp338 @unit @x
 
   992 label *label217
   993 sensor :items @unit @totalItems
   994 op add :items_in_transit :items_in_transit :items
-    * op equal *tmp347 :state 6
-    * jump *label224 equal *tmp347 false
+  995 jump *label224 notEqual :state 6
   996 print "[]"
   997 print "\n"
   998 print "Parking: [green]"
 
  1001 jump *label226 equal *tmp349 false
  1002 ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
  1003 sensor :items @unit @totalItems
-    * op lessThanEq *tmp352 :items .PARK_ITEM_LIMIT
-    * jump *label228 equal *tmp352 false
+ 1004 jump *label228 greaterThan :items .PARK_ITEM_LIMIT
  1005 ucontrol move .PARK_X .PARK_Y
  1006 set :state .S_UNUSED
  1007 jump *label229 always

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-50 instructions):
 
    54 jump *label8 lessThan :state 1
    55 label *label11
    56 jump *label8 greaterThanEq :state 6
-    * jump *label10 always
    57 label *label10
    58 set *tmp18 true
    59 jump *label9 always
 
    61 set *tmp18 false
    62 label *label9
    63 op add .TARGET .TARGET *tmp18
-    * jump *label7 always
    64 label *label6
    65 label *label7
    66 ubind UNIT
 
    69 sensor *tmp20 :first_unit @dead
    70 op strictEqual *tmp21 *tmp20 0
    71 jump *label12 equal *tmp21 false
-    * jump *label14 always
    72 label *label14
    73 set *tmp22 true
    74 jump *label13 always
 
   100 set .DROP_TARGET .CONTAINER
   101 set .CONTAINER :block
   102 set .CONTAINER_INDEX :n
-    * jump *label22 always
   103 label *label23
   104 label *label22
   105 label *label20
 
   126 jump *label32 notEqual *tmp36 0
   127 ulocate building core false @copper .CORE_X .CORE_Y *tmp40 .CORE
   128 ucontrol flag .S_UNUSED
-    * jump *label33 always
   129 label *label32
   130 label *label33
   131 label *label30
 
   158 label *label44
   159 sensor *tmp46 @unit @dead
   160 jump *label42 notEqual *tmp46 0
-    * jump *label43 always
   161 label *label43
   162 ucontrol stop
   163 sensor :flag @unit @flag
 
   174 label *label51
   175 ucontrol within .CORE_X .CORE_Y 8 *tmp56
   176 jump *label49 notEqual *tmp56 false
-    * jump *label50 always
   177 label *label50
   178 ucontrol approach .CORE_X .CORE_Y 6
   179 label *label48
 
   190 print "is not a vault!"
   191 printflush message2
   192 set .CORE null
-    * jump *label53 always
   193 label *label52
   194 label *label53
-    * jump *label46 always
   195 label *label45
   196 label *label46
   197 ucontrol flag .S_UNUSED
 
   206 jump *label56 equal :sorter_type @sorter
   207 label *label58
   208 jump *label56 equal :sorter_type @inverted-sorter
-    * jump *label57 always
   209 label *label57
   210 print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter."
   211 print "\n"
   212 jump *label59 equal .SORTER null
   213 print "Block found: "
   214 print .SORTER
-    * jump *label60 always
   215 label *label59
   216 label *label60
   217 printflush message1
 
   390 set :corr_per_min ""
   391 set .SPEED_UNIT_TXT "/min"
   392 set .WAIT_LIMIT 30000
-    * jump *label84 always
   393 label *label83
   394 label *label84
   395 sensor *tmp141 switch2 @enabled
 
   420 set .AUTO_ALLOCATION_TXT *tmp149
   421 label *label88
   422 set .WAIT_LIMIT 30000
-    * jump *label86 always
   423 label *label85
   424 label *label86
   425 sensor *tmp150 :first_unit @dead
 
   428 jump *label91 greaterThan :alive *tmp152
   429 jump *label93 notEqual :active 0
   430 print "\n[salmon]No active units.[]"
-    * jump *label94 always
   431 label *label93
   432 label *label94
   433 printflush message2
 
   534 sensor :last_level .CONTAINER .ITEM
   535 set :min_level 999999
   536 set :max_level 0
-    * jump *label96 always
   537 label *label95
   538 label *label96
   539 sensor :container_items .CONTAINER .ITEM
 
   581 set .CORR_SIGN "[]([green]"
   582 jump *label140 lessThan :corr_per_min 0
   583 set .CORR_SIGN "[]([green]+"
-    * jump *label141 always
   584 label *label140
   585 label *label141
   586 set .SPEED_UNIT_TXT "[])/min"
 
   606 op add *tmp213 :total_flow_3 :total_flow_2
   607 op add *tmp214 *tmp213 :total_flow_1
   608 op div :total_flow_per_ms *tmp214 3
-    * jump *label153 always
   609 label *label152
   610 label *label153
   611 op div *tmp216 :total_flow_per_ms :items_per_ms_unit
 
   638 label *label143
   639 set :min_level 999999
   640 set :max_level 0
-    * jump *label139 always
   641 label *label138
   642 label *label139
   643 set :wait_time 0
   644 set :remote_wait_time 0
   645 jump *label154 lessThan @tick .MESSAGE_TIMEOUT
   646 set .MESSAGE ""
-    * jump *label155 always
   647 label *label154
   648 label *label155
-    * jump *label135 always
   649 label *label134
   650 label *label135
   651 print .MESSAGE
 
   685 label *label159
   686 jump *label160 lessThanEq .CHANGE 0
   687 print "\n[][salmon]Cannot acquire additional units![]"
-    * jump *label161 always
   688 label *label160
   689 label *label161
-    * jump *label157 always
   690 label *label156
   691 label *label157
   692 print "\n"
 
   697 print .LOCAL_MARGIN
   698 print "["
   699 print "])"
-    * jump *label163 always
   700 label *label162
   701 label *label163
   702 jump *label164 equal .SHOW_REMOTE_LEVEL false
 
   709 print .REMOTE_MARGIN
   710 print "["
   711 print "])"
-    * jump *label167 always
   712 label *label166
   713 label *label167
-    * jump *label165 always
   714 label *label164
   715 label *label165
   716 jump *label168 lessThanEq .TARGET 0
 
   747 print :wait_time_str
   748 print "["
   749 print "] s"
-    * jump *label169 always
   750 label *label168
   751 label *label169
   752 print "\n"
 
   763 sensor *tmp253 .SRC @dead
   764 jump *label172 equal *tmp253 0
   765 jump *label79 always
-    * jump *label173 always
   766 label *label172
   767 label *label173
   768 sensor *tmp256 .DST @dead
   769 jump *label174 equal *tmp256 0
   770 jump *label79 always
-    * jump *label175 always
   771 label *label174
   772 label *label175
   773 sensor *tmp259 .SORTER @dead
   774 jump *label176 equal *tmp259 0
   775 jump *label79 always
-    * jump *label177 always
   776 label *label176
   777 label *label177
   778 getlink *tmp262 .CONTAINER_INDEX
   779 jump *label178 equal .CONTAINER *tmp262
   780 jump *label79 always
-    * jump *label179 always
   781 label *label178
   782 label *label179
-    * jump *label92 always
   783 label *label91
   784 label *label92
   785 jump *label180 lessThanEq .CHANGE 0
 
   787 jump *label182 notEqual *tmp267 0
   788 op sub .CHANGE .CHANGE 1
   789 ucontrol flag 1
-    * jump *label183 always
   790 label *label182
   791 label *label183
-    * jump *label181 always
   792 label *label180
   793 label *label181
   794 sensor *tmp270 @unit @controller
 
   803 jump *label192 greaterThan *tmp282 .DISCARD_UNIT_MAX_ITEMS
   804 op add .CHANGE .CHANGE 1
   805 set :state 6
-    * jump *label193 always
   806 label *label192
   807 label *label193
-    * jump *label191 always
   808 label *label190
   809 label *label191
-    * jump *label189 always
   810 label *label188
   811 label *label189
   812 jump *label194 notEqual :state 1
 
   824 ucontrol within .DROP_X .DROP_Y 8 *tmp293
   825 jump *label200 equal *tmp293 false
   826 ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
-    * jump *label201 always
   827 label *label200
   828 label *label201
   829 print "[]"
 
   831 print "Unloading previous items: [green]"
   832 label *label199
   833 label *label197
-    * jump *label195 always
   834 label *label194
   835 label *label195
   836 jump *label202 notEqual :state 2
 
   854 print " "
   855 print "sec[] to source: [green]"
   856 label *label205
-    * jump *label203 always
   857 label *label202
   858 label *label203
   859 jump *label206 notEqual :state 3
 
   861 op sub :max_load *tmp308 .LOAD_LEVEL
   862 jump *label208 lessThan :max_load .LOAD_PACK
   863 ucontrol itemTake .SRC .ITEM :max_load
-    * jump *label209 always
   864 label *label208
   865 label *label209
   866 sensor *tmp312 @unit @totalItems
 
   876 op mul *tmp315 :loop_time_ms .SRC_REMOTE_WAIT
   877 op add :remote_wait_time :remote_wait_time *tmp315
   878 label *label211
-    * jump *label207 always
   879 label *label206
   880 label *label207
   881 jump *label212 notEqual :state 4
 
   902 print " "
   903 print "sec[] to destination: [green]"
   904 label *label215
-    * jump *label213 always
   905 label *label212
   906 label *label213
   907 jump *label216 notEqual :state 5
 
   909 op sub :max_drop .DROP_LEVEL *tmp330
   910 jump *label218 lessThan :max_drop .DROP_PACK
   911 ucontrol itemDrop .DST :max_drop
-    * jump *label219 always
   912 label *label218
   913 label *label219
   914 sensor *tmp334 @unit @totalItems
 
   944 op mul *tmp345 :loop_time_ms .DST_REMOTE_WAIT
   945 op add :remote_wait_time :remote_wait_time *tmp345
   946 label *label221
-    * jump *label217 always
   947 label *label216
   948 label *label217
   949 sensor :items @unit @totalItems
 
   960 jump *label228 greaterThan :items .PARK_ITEM_LIMIT
   961 ucontrol move .PARK_X .PARK_Y
   962 set :state .S_UNUSED
-    * jump *label229 always
   963 label *label228
   964 label *label229
-    * jump *label227 always
   965 label *label226
   966 label *label227
   967 jump *label225 always
 
   971 print :items
   972 print .ITEM_ICON
   973 ucontrol flag :state
-    * jump *label187 always
   974 label *label186
   975 label *label187
-    * jump *label185 always
   976 label *label184
   977 label *label185
   978 label *label78
 
  1003 label *label241
  1004 sensor *tmp362 switch2 @enabled
  1005 jump *label239 notEqual *tmp362 false
-    * jump *label240 always
  1006 label *label240
  1007 print "[salmon]Local or remote container became invalid.\nPlease fix and press any button to reinitialize."
  1008 printflush message1
 
  1010 label *label238
  1011 jump *label237 always
  1012 label *label239
-    * jump *label234 always
  1013 label *label233
  1014 label *label234
  1015 control enabled switch1 false

Modifications by Iterated phase, Expression Optimization, pass 1, iteration 1 (-2 instructions):
 
   567 op idiv *tmp190 :turnaround_ms 100
   568 op div :turnaround_str *tmp190 10
   569 op div :items_per_ms_unit .UNIT_CAPACITY :turnaround_ms
-    * op mul *tmp193 :items_per_ms_unit 60000
-    * op floor :items_per_min_unit *tmp193
+  570 op idiv :items_per_min_unit :items_per_ms_unit 0.000016666666666666667
   571 op add *tmp195 :min_level :max_level
   572 op div :this_level *tmp195 2
   573 op sub *tmp197 :last_level :this_level
 
   575 op div :corr_per_ms :corr :elapsed_ms
   576 set :last_level :this_level
   577 op add :total_flow_per_ms :items_per_ms :corr_per_ms
-    * op mul *tmp201 60000 :corr_per_ms
-    * op floor :corr_per_min *tmp201
+  578 op idiv :corr_per_min :corr_per_ms 0.000016666666666666667
   579 set .CORR_SIGN "[]([green]"
   580 jump *label140 lessThan :corr_per_min 0
   581 set .CORR_SIGN "[]([green]+"

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
     8 set OVERALLOCATION_HIGH 0.75
     9 set STABILIZATION false
    10 set .STATE_LIMIT null
-    * set .ITEM_ICON .STATE_LIMIT
-    * set .ITEM .ITEM_ICON
-    * set .CORE_Y .ITEM
-    * set .CORE_X .CORE_Y
-    * set .CONTAINER_INDEX .CORE_X
+   11 set .ITEM_ICON null
+   12 set .ITEM .STATE_LIMIT
+   13 set .CORE_Y .ITEM_ICON
+   14 set .CORE_X .ITEM
+   15 set .CONTAINER_INDEX .CORE_Y
    16 set .MESSAGE ""
    17 op max .EFF_LOCAL_LIMIT LOCAL_LIMIT 20
    18 op max .EFF_REMOTE_LIMIT REMOTE_LIMIT 20
 
    20 set .TRIGGER_LEVEL 0.9
    21 op mul .S_UNUSED -1 HOUSEKEEPING
    22 set .LOOPS 1
-    * op mul *tmp3 .LOOPS 1000
-    * op div .LOOPS_TICKS_TO_MS *tmp3 60
+   23 op mul *tmp3 1 1000
+   24 op div .LOOPS_TICKS_TO_MS 1000 60
    25 set .INC_OVERALLOCATION OVERALLOCATION_LOW
    26 op add .DEC_OVERALLOCATION 1 OVERALLOCATION_HIGH
    27 set .TRIGGER_BOOST 2
 
   152 label *label38
   153 jump *label37 always
   154 label *label39
-    * ucontrol flag :flag
+  155 ucontrol flag .QUERY_FLAG
   156 label *label40
   157 jump *label42 notEqual :flag .QUERY_FLAG
   158 label *label44
 
   201 set .DISCARD_UNIT_MAX_ITEMS 0
   202 label *label28
   203 set .SORTER sorter1
-    * sensor :sorter_type .SORTER @type
+  204 sensor :sorter_type sorter1 @type
   205 label *label54
   206 jump *label56 equal :sorter_type @sorter
   207 label *label58
 
   216 label *label60
   217 printflush message1
   218 set .SORTER sorter1
-    * sensor :sorter_type .SORTER @type
+  219 sensor :sorter_type sorter1 @type
   220 label *label55
   221 jump *label54 always
   222 label *label56
 
   224 set .SHOW_REMOTE_LEVEL true
   225 set .SRC .CORE
   226 set .DST .CONTAINER
-    * sensor :src_capacity .SRC @itemCapacity
-    * sensor :dst_capacity .DST @itemCapacity
+  227 sensor :src_capacity .CORE @itemCapacity
+  228 sensor :dst_capacity .CONTAINER @itemCapacity
   229 op sub *tmp72 100 .EFF_REMOTE_LIMIT
   230 op mul *tmp73 :src_capacity *tmp72
   231 op idiv .LOAD_LEVEL *tmp73 100
 
   233 op idiv .DROP_LEVEL *tmp75 100
   234 set .LOCAL_MARGIN .DROP_LEVEL
   235 set .REMOTE_MARGIN .LOAD_LEVEL
-    * op sub *tmp77 1 .TRIGGER_LEVEL
-    * op mul .LOW_LEVEL_TRIGGER :dst_capacity *tmp77
+  236 op sub *tmp77 1 0.9
+  237 op mul .LOW_LEVEL_TRIGGER :dst_capacity 0.09999999999999998
   238 set .HIGH_LEVEL_TRIGGER :dst_capacity
   239 set .FLOW_CORR_SIGN 1
   240 set .SRC_REMOTE_WAIT 1
 
   251 op greaterThan .SHOW_REMOTE_LEVEL LINK_ID 0
   252 set .SRC .CONTAINER
   253 set .DST .CORE
-    * sensor :src_capacity .SRC @itemCapacity
-    * sensor :dst_capacity .DST @itemCapacity
+  254 sensor :src_capacity .CONTAINER @itemCapacity
+  255 sensor :dst_capacity .CORE @itemCapacity
   256 op sub *tmp84 100 .EFF_LOCAL_LIMIT
   257 op mul *tmp85 :src_capacity *tmp84
   258 op idiv .LOAD_LEVEL *tmp85 100
 
   263 op add .DROP_LEVEL *tmp88 *tmp90
   264 set .LOCAL_MARGIN .LOAD_LEVEL
   265 set .REMOTE_MARGIN .DROP_LEVEL
-    * op mul .HIGH_LEVEL_TRIGGER :src_capacity .TRIGGER_LEVEL
+  266 op mul .HIGH_LEVEL_TRIGGER :src_capacity 0.9
   267 set .LOW_LEVEL_TRIGGER 0
   268 set .FLOW_CORR_SIGN -1
   269 set .SRC_REMOTE_WAIT 0
 
   294 op sub *tmp105 .DST_Y .SRC_Y
   295 op len *tmp106 *tmp104 *tmp105
   296 op sub *tmp107 *tmp106 6
-    * op sub .DISTANCE *tmp107 8
+  297 op sub .DISTANCE *tmp106 14
   298 op max *tmp109 .DISTANCE 10
   299 op mul *tmp110 2 *tmp109
   300 op div .TRAVEL_TIME *tmp110 .SPEED
   301 op sub *tmp112 .DST_X .SRC_X
   302 op sub *tmp113 .DST_Y .SRC_Y
-    * op len *tmp114 *tmp112 *tmp113
-    * op sub *tmp115 *tmp114 6
-    * op div .DISTANCE *tmp115 100
+  303 op len *tmp114 *tmp104 *tmp105
+  304 op sub *tmp115 *tmp106 6
+  305 op div .DISTANCE *tmp107 100
   306 jump *label69 notEqual .DROP_TARGET null
   307 set .DROP_TARGET .CORE
   308 set .DROP_X .CORE_X
 
   345 set :elapsed_str "--"
   346 set :wait_time_str 0
   347 set :wait_time 0
-    * set :transfers :wait_time
-    * set :transferred :transfers
-    * set :total_flow_2 :transferred
-    * set :total_flow_1 :total_flow_2
-    * set :remote_wait_time :total_flow_1
-    * set :min_level :remote_wait_time
-    * set :max_level :min_level
-    * set :loop_time_ms :max_level
-    * set :last_level :loop_time_ms
-    * jump *label75 equal .EFF_AUTO_ALLOCATION false
+  348 set :transfers 0
+  349 set :transferred :wait_time
+  350 set :total_flow_2 :transfers
+  351 set :total_flow_1 :transferred
+  352 set :remote_wait_time :total_flow_2
+  353 set :min_level :total_flow_1
+  354 set :max_level :remote_wait_time
+  355 set :loop_time_ms :min_level
+  356 set :last_level :max_level
+  357 jump *label75 equal AUTO_ALLOCATION false
   358 set .CORR_SIGN "[]([green]+"
   359 set :corr_per_min 0
   360 set .SPEED_UNIT_TXT "[])/min"
 
   445 set .LAST_ITEM .ITEM
   446 # "Function: def itemTypeToIcon(in itemType)"
   447 set :itemTypeToIcon:itemType .ITEM
-    * jump *label102 notEqual :itemTypeToIcon:itemType @blast-compound
+  448 jump *label102 notEqual .ITEM @blast-compound
   449 label *label103
   450 set *tmp163 "[]"
   451 jump *label101 always
   452 label *label102
-    * jump *label104 notEqual :itemTypeToIcon:itemType @coal
+  453 jump *label104 notEqual .ITEM @coal
   454 label *label105
   455 set *tmp163 "[]"
   456 jump *label101 always
   457 label *label104
-    * jump *label106 notEqual :itemTypeToIcon:itemType @copper
+  458 jump *label106 notEqual .ITEM @copper
   459 label *label107
   460 set *tmp163 "[]"
   461 jump *label101 always
   462 label *label106
-    * jump *label108 notEqual :itemTypeToIcon:itemType @graphite
+  463 jump *label108 notEqual .ITEM @graphite
   464 label *label109
   465 set *tmp163 "[]"
   466 jump *label101 always
   467 label *label108
-    * jump *label110 notEqual :itemTypeToIcon:itemType @lead
+  468 jump *label110 notEqual .ITEM @lead
   469 label *label111
   470 set *tmp163 "[]"
   471 jump *label101 always
   472 label *label110
-    * jump *label112 notEqual :itemTypeToIcon:itemType @metaglass
+  473 jump *label112 notEqual .ITEM @metaglass
   474 label *label113
   475 set *tmp163 "[]"
   476 jump *label101 always
   477 label *label112
-    * jump *label114 notEqual :itemTypeToIcon:itemType @phase-fabric
+  478 jump *label114 notEqual .ITEM @phase-fabric
   479 label *label115
   480 set *tmp163 "[]"
   481 jump *label101 always
   482 label *label114
-    * jump *label116 notEqual :itemTypeToIcon:itemType @plastanium
+  483 jump *label116 notEqual .ITEM @plastanium
   484 label *label117
   485 set *tmp163 "[]"
   486 jump *label101 always
   487 label *label116
-    * jump *label118 notEqual :itemTypeToIcon:itemType @pyratite
+  488 jump *label118 notEqual .ITEM @pyratite
   489 label *label119
   490 set *tmp163 "[]"
   491 jump *label101 always
   492 label *label118
-    * jump *label120 notEqual :itemTypeToIcon:itemType @sand
+  493 jump *label120 notEqual .ITEM @sand
   494 label *label121
   495 set *tmp163 "[]"
   496 jump *label101 always
   497 label *label120
-    * jump *label122 notEqual :itemTypeToIcon:itemType @scrap
+  498 jump *label122 notEqual .ITEM @scrap
   499 label *label123
   500 set *tmp163 "[]"
   501 jump *label101 always
   502 label *label122
-    * jump *label124 notEqual :itemTypeToIcon:itemType @silicon
+  503 jump *label124 notEqual .ITEM @silicon
   504 label *label125
   505 set *tmp163 "[]"
   506 jump *label101 always
   507 label *label124
-    * jump *label126 notEqual :itemTypeToIcon:itemType @spore-pod
+  508 jump *label126 notEqual .ITEM @spore-pod
   509 label *label127
   510 set *tmp163 "[]"
   511 jump *label101 always
   512 label *label126
-    * jump *label128 notEqual :itemTypeToIcon:itemType @surge-alloy
+  513 jump *label128 notEqual .ITEM @surge-alloy
   514 label *label129
   515 set *tmp163 "[]"
   516 jump *label101 always
   517 label *label128
-    * jump *label130 notEqual :itemTypeToIcon:itemType @thorium
+  518 jump *label130 notEqual .ITEM @thorium
   519 label *label131
   520 set *tmp163 "[]"
   521 jump *label101 always
   522 label *label130
-    * jump *label132 notEqual :itemTypeToIcon:itemType @titanium
+  523 jump *label132 notEqual .ITEM @titanium
   524 label *label133
   525 set *tmp163 "[]"
   526 jump *label101 always
 
   529 label *label101
   530 set *tmp162 *tmp163
   531 label *label100
-    * set .ITEM_ICON *tmp162
+  532 set .ITEM_ICON *tmp163
   533 set .STATE_LIMIT 1
   534 sensor :last_level .CONTAINER .ITEM
   535 set :min_level 999999
 
   561 set :transfers 0
   562 jump *label138 equal .EFF_AUTO_ALLOCATION false
   563 set .AUTO_ALLOCATION_TXT "\n=== [gold]Unit auto allocation[] ==="
-    * op mul *tmp187 .LOOPS_TICKS_TO_MS :loop_time
+  564 op mul *tmp187 16.666666666666668 :loop_time
   565 op add :turnaround_ms .TRAVEL_TIME *tmp187
   566 op mul .WAIT_LIMIT :turnaround_ms .DEC_OVERALLOCATION
   567 op idiv *tmp190 :turnaround_ms 100
 
   595 set :trigger *tmp208
   596 jump *label150 equal :wait_time 0
   597 label *label151
-    * jump *label148 lessThanEq :trigger :remote_wait_time
+  598 jump *label148 lessThanEq *tmp208 :remote_wait_time
   599 label *label150
   600 jump *label152 equal STABILIZATION false
   601 set :total_flow_3 :total_flow_2
   602 set :total_flow_2 :total_flow_1
   603 set :total_flow_1 :total_flow_per_ms
   604 op add *tmp213 :total_flow_3 :total_flow_2
-    * op add *tmp214 *tmp213 :total_flow_1
+  605 op add *tmp214 *tmp213 :total_flow_per_ms
   606 op div :total_flow_per_ms *tmp214 3
   607 label *label152
   608 label *label153
   609 op div *tmp216 :total_flow_per_ms :items_per_ms_unit
-    * op add *tmp217 *tmp216 .INC_OVERALLOCATION
+  610 op add *tmp217 *tmp216 OVERALLOCATION_LOW
   611 op ceil :new_target *tmp217
-    * op mul :level_boost .TRIGGER_BOOST :trigger
+  612 op mul :level_boost 2 *tmp208
   613 op add *tmp220 :new_target :level_boost
   614 op min :new_target *tmp220 MAX_UNITS
   615 op sub *tmp222 :new_target :active
   616 op max *tmp223 *tmp222 0
   617 op min :new_change *tmp223 .INC_LIMIT
-    * set .INC_LIMIT .INC_MAX
+  618 set .INC_LIMIT 6
   619 op lessThanEq *tmp225 :new_change 0
-    * op mul .DEC_LIMIT *tmp225 .DEC_MAX
+  620 op mul .DEC_LIMIT *tmp225 -1
   621 jump *label149 always
   622 label *label148
   623 op idiv *tmp227 :wait_time .WAIT_LIMIT
   624 op mul *tmp228 -1 *tmp227
   625 op max :new_change *tmp228 .DEC_LIMIT
   626 op greaterThanEq *tmp230 :new_change 0
-    * op mul .INC_LIMIT *tmp230 .INC_MAX
-    * set .DEC_LIMIT .DEC_MAX
+  627 op mul .INC_LIMIT *tmp230 6
+  628 set .DEC_LIMIT -1
   629 label *label149
   630 op add *tmp232 :active :new_change
   631 op max .TARGET *tmp232 1
 
   646 label *label155
   647 label *label134
   648 label *label135
-    * print .MESSAGE
+  649 print ""
   650 print "Moving [green]"
   651 print .ITEM
   652 print "["
   653 print "]"
   654 print .DIRECTION
-    * print .LINK_TXT
+  655 print *tmp96
   656 print .AUTO_ALLOCATION_TXT
   657 jump *label156 lessThanEq .TARGET 0
   658 jump *label158 lessThan :active .TARGET

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-20 instructions):
 
     9 set STABILIZATION false
    10 set .STATE_LIMIT null
    11 set .ITEM_ICON null
-    * set .ITEM .STATE_LIMIT
-    * set .CORE_Y .ITEM_ICON
-    * set .CORE_X .ITEM
-    * set .CONTAINER_INDEX .CORE_Y
-    * set .MESSAGE ""
+   12 set .ITEM null
+   13 set .CORE_Y null
+   14 set .CORE_X .STATE_LIMIT
+   15 set .CONTAINER_INDEX .ITEM_ICON
    16 op max .EFF_LOCAL_LIMIT LOCAL_LIMIT 20
    17 op max .EFF_REMOTE_LIMIT REMOTE_LIMIT 20
    18 set .EFF_AUTO_ALLOCATION AUTO_ALLOCATION
-    * set .TRIGGER_LEVEL 0.9
    19 op mul .S_UNUSED -1 HOUSEKEEPING
-    * set .LOOPS 1
-    * op mul *tmp3 1 1000
-    * op div .LOOPS_TICKS_TO_MS 1000 60
-    * set .INC_OVERALLOCATION OVERALLOCATION_LOW
    20 op add .DEC_OVERALLOCATION 1 OVERALLOCATION_HIGH
-    * set .TRIGGER_BOOST 2
-    * set .INC_MAX 6
-    * set .DEC_MAX -1
    21 ubind UNIT
    22 label *label0
    23 jump *label2 notEqual @unit null
 
   224 op idiv .DROP_LEVEL *tmp75 100
   225 set .LOCAL_MARGIN .DROP_LEVEL
   226 set .REMOTE_MARGIN .LOAD_LEVEL
-    * op sub *tmp77 1 0.9
   227 op mul .LOW_LEVEL_TRIGGER :dst_capacity 0.09999999999999998
   228 set .HIGH_LEVEL_TRIGGER :dst_capacity
   229 set .FLOW_CORR_SIGN 1
 
   272 label *label67
   273 set *tmp96 LINK_ID
   274 label *label68
-    * set .LINK_TXT *tmp96
   275 op sub *tmp97 :src_capacity .LOAD_LEVEL
   276 op min .LOAD_PACK .UNIT_CAPACITY *tmp97
   277 op min .DROP_PACK .UNIT_CAPACITY .DROP_LEVEL
 
   287 op max *tmp109 .DISTANCE 10
   288 op mul *tmp110 2 *tmp109
   289 op div .TRAVEL_TIME *tmp110 .SPEED
-    * op sub *tmp112 .DST_X .SRC_X
-    * op sub *tmp113 .DST_Y .SRC_Y
-    * op len *tmp114 *tmp104 *tmp105
-    * op sub *tmp115 *tmp106 6
-    * op div .DISTANCE *tmp107 100
   290 jump *label69 notEqual .DROP_TARGET null
   291 set .DROP_TARGET .CORE
   292 set .DROP_X .CORE_X
 
   330 set :wait_time_str 0
   331 set :wait_time 0
   332 set :transfers 0
-    * set :transferred :wait_time
-    * set :total_flow_2 :transfers
-    * set :total_flow_1 :transferred
-    * set :remote_wait_time :total_flow_2
-    * set :min_level :total_flow_1
-    * set :max_level :remote_wait_time
-    * set :loop_time_ms :min_level
-    * set :last_level :max_level
+  333 set :transferred 0
+  334 set :total_flow_2 0
+  335 set :total_flow_1 :wait_time
+  336 set :remote_wait_time :transfers
+  337 set :min_level :transferred
+  338 set :max_level :total_flow_2
+  339 set :loop_time_ms :total_flow_1
+  340 set :last_level :remote_wait_time
   341 jump *label75 equal AUTO_ALLOCATION false
   342 set .CORR_SIGN "[]([green]+"
   343 set :corr_per_min 0
 
   428 label *label99
   429 set .LAST_ITEM .ITEM
   430 # "Function: def itemTypeToIcon(in itemType)"
-    * set :itemTypeToIcon:itemType .ITEM
   431 jump *label102 notEqual .ITEM @blast-compound
   432 label *label103
   433 set *tmp163 "[]"
 
   510 label *label132
   511 set *tmp163 null
   512 label *label101
-    * set *tmp162 *tmp163
   513 label *label100
   514 set .ITEM_ICON *tmp163
   515 set .STATE_LIMIT 1
 
   574 label *label144
   575 set *tmp208 false
   576 label *label145
-    * set :trigger *tmp208
   577 jump *label150 equal :wait_time 0
   578 label *label151
   579 jump *label148 lessThanEq *tmp208 :remote_wait_time
 
   622 set :wait_time 0
   623 set :remote_wait_time 0
   624 jump *label154 lessThan @tick .MESSAGE_TIMEOUT
-    * set .MESSAGE ""
   625 label *label154
   626 label *label155
   627 label *label134

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-1 instructions):
 
    11 set .ITEM_ICON null
    12 set .ITEM null
    13 set .CORE_Y null
-    * set .CORE_X .STATE_LIMIT
-    * set .CONTAINER_INDEX .ITEM_ICON
+   14 set .CORE_X null
+   15 set .CONTAINER_INDEX null
    16 op max .EFF_LOCAL_LIMIT LOCAL_LIMIT 20
    17 op max .EFF_REMOTE_LIMIT REMOTE_LIMIT 20
    18 set .EFF_AUTO_ALLOCATION AUTO_ALLOCATION
 
   282 op sub *tmp104 .DST_X .SRC_X
   283 op sub *tmp105 .DST_Y .SRC_Y
   284 op len *tmp106 *tmp104 *tmp105
-    * op sub *tmp107 *tmp106 6
   285 op sub .DISTANCE *tmp106 14
   286 op max *tmp109 .DISTANCE 10
   287 op mul *tmp110 2 *tmp109
 
   331 set :transfers 0
   332 set :transferred 0
   333 set :total_flow_2 0
-    * set :total_flow_1 :wait_time
-    * set :remote_wait_time :transfers
-    * set :min_level :transferred
-    * set :max_level :total_flow_2
-    * set :loop_time_ms :total_flow_1
-    * set :last_level :remote_wait_time
+  334 set :total_flow_1 0
+  335 set :remote_wait_time 0
+  336 set :min_level 0
+  337 set :max_level 0
+  338 set :loop_time_ms :wait_time
+  339 set :last_level :transfers
   340 jump *label75 equal AUTO_ALLOCATION false
   341 set .CORR_SIGN "[]([green]+"
   342 set :corr_per_min 0

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 4:
 
   335 set :remote_wait_time 0
   336 set :min_level 0
   337 set :max_level 0
-    * set :loop_time_ms :wait_time
-    * set :last_level :transfers
+  338 set :loop_time_ms 0
+  339 set :last_level 0
   340 jump *label75 equal AUTO_ALLOCATION false
   341 set .CORR_SIGN "[]([green]+"
   342 set :corr_per_min 0

Modifications by Iterated phase, Loop Hoisting, pass 1, iteration 1:
 
   131 print "."
   132 print ".."
   133 printflush message1
+  134 op add .QUERY_FLAG 99999900 LINK_ID
   135 label *label34
   136 jump *label36 notEqual .CORE null
-    * op add .QUERY_FLAG 99999900 LINK_ID
   137 set :flag .QUERY_FLAG
   138 ubind UNIT
   139 label *label37

Modifications by Iterated phase, Loop Optimization, pass 1, iteration 1 (-3 instructions):
 
    21 ubind UNIT
    22 label *label0
    23 jump *label2 notEqual @unit null
+   24 label *label242
    25 print "[salmon]No unit of type "
    26 print UNIT
    27 print " "
 
    29 printflush message1
    30 ubind UNIT
    31 label *label1
-    * jump *label0 always
+   32 jump *label242 equal @unit null
    33 label *label2
    34 set :first_unit @unit
    35 sensor *tmp8 @unit @speed
 
    39 set .TARGET 0
    40 set :repeat true
    41 label *label3
-    * jump *label5 equal :repeat false
+   42 label *label243
    43 sensor *tmp12 @unit @controller
    44 jump *label6 notEqual *tmp12 @this
    45 sensor :state @unit @flag
 
    69 label *label13
    70 set :repeat *tmp22
    71 label *label4
-    * jump *label3 always
+   72 jump *label243 notEqual :repeat false
    73 label *label5
    74 set .CHANGE 0
    75 set :active .TARGET
 
    83 set :n @links
    84 label *label19
    85 jump *label21 lessThanEq :n 0
+   86 label *label244
    87 op sub :n :n 1
    88 getlink :block :n
    89 sensor *tmp29 :block @type
 
    96 label *label23
    97 label *label22
    98 label *label20
-    * jump *label19 always
+   99 jump *label244 greaterThan :n 0
   100 label *label21
   101 jump *label25 notEqual .CONTAINER null
   102 print "[salmon]No vault or container."
 
   111 set .CORE null
   112 jump *label27 notEqual LINK_ID 0
   113 label *label29
-    * jump *label31 notEqual .CORE null
+  114 label *label245
   115 print "[green]Locating core..."
   116 printflush message1
   117 ubind UNIT
 
   122 label *label32
   123 label *label33
   124 label *label30
-    * jump *label29 always
+  125 jump *label245 equal .CORE null
   126 label *label31
   127 set .DISCARD_UNIT_MAX_ITEMS .UNIT_CAPACITY
   128 jump *label28 always
 
   135 printflush message1
   136 op add .QUERY_FLAG 99999900 LINK_ID
   137 label *label34
-    * jump *label36 notEqual .CORE null
+  138 label *label246
   139 set :flag .QUERY_FLAG
   140 ubind UNIT
   141 label *label37
 
   148 ucontrol flag .QUERY_FLAG
   149 label *label40
   150 jump *label42 notEqual :flag .QUERY_FLAG
-    * label *label44
+  151 label *label247
   152 sensor *tmp46 @unit @dead
   153 jump *label42 notEqual *tmp46 0
-    * label *label43
   154 ucontrol stop
   155 sensor :flag @unit @flag
   156 label *label41
-    * jump *label40 always
+  157 jump *label247 equal :flag .QUERY_FLAG
   158 label *label42
   159 jump *label45 equal :flag .QUERY_FLAG
   160 op idiv :position :flag 100
 
   163 label *label47
   164 sensor *tmp54 @unit @dead
   165 jump *label49 notEqual *tmp54 0
-    * label *label51
   166 ucontrol within .CORE_X .CORE_Y 8 *tmp56
   167 jump *label49 notEqual *tmp56 false
-    * label *label50
   168 ucontrol approach .CORE_X .CORE_Y 6
   169 label *label48
   170 jump *label47 always
 
   186 label *label46
   187 ucontrol flag .S_UNUSED
   188 label *label35
-    * jump *label34 always
+  189 jump *label246 equal .CORE null
   190 label *label36
   191 set .DISCARD_UNIT_MAX_ITEMS 0
   192 label *label28
 
   194 sensor :sorter_type sorter1 @type
   195 label *label54
   196 jump *label56 equal :sorter_type @sorter
-    * label *label58
+  197 label *label248
   198 jump *label56 equal :sorter_type @inverted-sorter
-    * label *label57
   199 print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter."
   200 print "\n"
   201 jump *label59 equal .SORTER null
 
   207 set .SORTER sorter1
   208 sensor :sorter_type sorter1 @type
   209 label *label55
-    * jump *label54 always
+  210 jump *label248 notEqual :sorter_type @sorter
   211 label *label56
   212 jump *label61 notEqual :sorter_type @sorter
   213 set .SHOW_REMOTE_LEVEL true
 
   351 ubind UNIT
   352 label *label80
   353 jump *label82 notEqual @unit null
+  354 label *label249
   355 print "No unit of type "
   356 print UNIT
   357 print " "
 
   359 printflush message1
   360 ubind UNIT
   361 label *label81
-    * jump *label80 always
+  362 jump *label249 equal @unit null
   363 label *label82
   364 sensor *tmp136 switch1 @enabled
   365 jump *label83 equal *tmp136 false
 
   418 jump *label95 equal .ITEM .LAST_ITEM
   419 label *label97
   420 jump *label99 notEqual .ITEM null
+  421 label *label250
   422 print "[salmon]No item type selected for transport.[]"
   423 printflush message1
   424 sensor .ITEM .SORTER @config
   425 label *label98
-    * jump *label97 always
+  426 jump *label250 equal .ITEM null
   427 label *label99
   428 set .LAST_ITEM .ITEM
   429 # "Function: def itemTypeToIcon(in itemType)"
 
   977 label *label237
   978 sensor *tmp361 switch1 @enabled
   979 jump *label239 notEqual *tmp361 false
-    * label *label241
   980 sensor *tmp362 switch2 @enabled
   981 jump *label239 notEqual *tmp362 false
-    * label *label240
   982 print "[salmon]Local or remote container became invalid.\nPlease fix and press any button to reinitialize."
   983 printflush message1
   984 printflush message2

Modifications by Iterated phase, Boolean Optimization, pass 1, iteration 1 (-32 instructions):
 
    43 sensor *tmp12 @unit @controller
    44 jump *label6 notEqual *tmp12 @this
    45 sensor :state @unit @flag
-    * jump *label8 lessThan :state 1
-    * label *label11
-    * jump *label8 greaterThanEq :state 6
-    * label *label10
-    * set *tmp18 true
-    * jump *label9 always
-    * label *label8
-    * set *tmp18 false
-    * label *label9
+   46 select *tmp365 greaterThanEq :state 1 true false
+   47 select *tmp18 lessThan :state 6 *tmp365 false
    48 op add .TARGET .TARGET *tmp18
    49 label *label6
    50 label *label7
    51 ubind UNIT
    52 jump *label12 equal @unit :first_unit
-    * label *label15
-    * sensor *tmp20 :first_unit @dead
-    * op strictEqual *tmp21 *tmp20 0
-    * jump *label12 equal *tmp21 false
-    * label *label14
-    * set *tmp22 true
+   53 sensor *tmp20 :first_unit @dead
+   54 op strictEqual *tmp21 *tmp20 0
+   55 op notEqual *tmp22 *tmp21 false
    56 jump *label13 always
    57 label *label12
    58 set *tmp22 false
 
   217 set .FLOW_CORR_SIGN 1
   218 set .SRC_REMOTE_WAIT 1
   219 set .DST_REMOTE_WAIT 0
-    * jump *label63 notEqual LINK_ID 0
-    * set *tmp80 " from core"
-    * jump *label64 always
-    * label *label63
-    * set *tmp80 " from vault #"
-    * label *label64
+  220 select *tmp80 equal LINK_ID 0 " from core" " from vault #"
   221 set .DIRECTION *tmp80
   222 jump *label62 always
   223 label *label61
 
   241 set .FLOW_CORR_SIGN -1
   242 set .SRC_REMOTE_WAIT 0
   243 set .DST_REMOTE_WAIT 1
-    * jump *label65 notEqual LINK_ID 0
-    * set *tmp94 " to core"
-    * jump *label66 always
-    * label *label65
-    * set *tmp94 " to vault #"
-    * label *label66
+  244 select *tmp94 equal LINK_ID 0 " to core" " to vault #"
   245 set .DIRECTION *tmp94
   246 label *label62
-    * jump *label67 notEqual LINK_ID 0
-    * set *tmp96 ""
-    * jump *label68 always
-    * label *label67
-    * set *tmp96 LINK_ID
-    * label *label68
+  247 select *tmp96 equal LINK_ID 0 "" LINK_ID
   248 op sub *tmp97 :src_capacity .LOAD_LEVEL
   249 op min .LOAD_PACK .UNIT_CAPACITY *tmp97
   250 op min .DROP_PACK .UNIT_CAPACITY .DROP_LEVEL
 
   263 set .DROP_TARGET .CORE
   264 set .DROP_X .CORE_X
   265 set .DROP_Y .CORE_Y
-    * sensor *tmp119 .CONTAINER @x
-    * jump *label71 greaterThanEq *tmp119 .CORE_X
-    * set *tmp121 15
-    * jump *label72 always
-    * label *label71
-    * set *tmp121 -15
-    * label *label72
+  266 sensor *tmp119 .CONTAINER @x
+  267 select *tmp121 lessThan *tmp119 .CORE_X 15 -15
   268 op add .PARK_X .CORE_X *tmp121
-    * sensor *tmp123 .CONTAINER @y
-    * jump *label73 greaterThanEq *tmp123 .CORE_Y
-    * set *tmp125 15
-    * jump *label74 always
-    * label *label73
-    * set *tmp125 -15
-    * label *label74
+  269 sensor *tmp123 .CONTAINER @y
+  270 select *tmp125 lessThan *tmp123 .CORE_Y 15 -15
   271 op add .PARK_Y .CORE_Y *tmp125
   272 op equal *tmp127 LINK_ID 0
   273 op mul .PARK_ITEM_LIMIT *tmp127 .UNIT_CAPACITY
 
   300 set :max_level 0
   301 set :loop_time_ms 0
   302 set :last_level 0
-    * jump *label75 equal AUTO_ALLOCATION false
-    * set .CORR_SIGN "[]([green]+"
-    * set :corr_per_min 0
-    * set .SPEED_UNIT_TXT "[])/min"
-    * set .AUTO_ALLOCATION_TXT "\n=== [gold]Gathering statistics[] ==="
-    * jump *label76 always
-    * label *label75
-    * set .CORR_SIGN "[]"
-    * set :corr_per_min ""
-    * set .SPEED_UNIT_TXT "/min"
-    * set .AUTO_ALLOCATION_TXT ""
-    * label *label76
+  303 select .CORR_SIGN notEqual AUTO_ALLOCATION false "[]([green]+" "[]"
+  304 select :corr_per_min notEqual AUTO_ALLOCATION false 0 ""
+  305 select .SPEED_UNIT_TXT notEqual AUTO_ALLOCATION false "[])/min" "/min"
+  306 select .AUTO_ALLOCATION_TXT notEqual AUTO_ALLOCATION false "\n=== [gold]Gathering statistics[] ===" ""
   307 label *label77
   308 ubind UNIT
   309 label *label80
 
   350 set .CORR_SIGN "[]"
   351 set :corr_per_min ""
   352 set .SPEED_UNIT_TXT "/min"
-    * jump *label89 notEqual .TARGET 0
-    * set *tmp149 "\n=== [salmon]Transport deactivated[] ==="
-    * jump *label90 always
-    * label *label89
-    * set *tmp149 ""
-    * label *label90
+  353 select *tmp149 equal .TARGET 0 "\n=== [salmon]Transport deactivated[] ===" ""
   354 set .AUTO_ALLOCATION_TXT *tmp149
   355 label *label88
   356 set .WAIT_LIMIT 30000
 
   477 op mul *tmp171 :loop_time 100
   478 op idiv :loop_time_ms *tmp171 6
   479 jump *label136 greaterThanEq :transfers :active
-    * label *label137
   480 jump *label134 lessThanEq :wait_time .WAIT_LIMIT
   481 label *label136
   482 op div *tmp176 :wait_time 100
 
   509 op add :total_flow_per_ms :items_per_ms :corr_per_ms
   510 op idiv :corr_per_min :corr_per_ms 0.000016666666666666667
   511 set .CORR_SIGN "[]([green]"
-    * jump *label140 lessThan :corr_per_min 0
-    * set .CORR_SIGN "[]([green]+"
-    * label *label140
-    * label *label141
+  512 select .CORR_SIGN greaterThanEq :corr_per_min 0 "[]([green]+" .CORR_SIGN
   513 set .SPEED_UNIT_TXT "[])/min"
   514 jump *label142 equal :alive false
-    * jump *label146 lessThan :min_level .LOW_LEVEL_TRIGGER
-    * label *label147
-    * jump *label144 lessThanEq :max_level .HIGH_LEVEL_TRIGGER
-    * label *label146
-    * set *tmp208 true
-    * jump *label145 always
-    * label *label144
-    * set *tmp208 false
-    * label *label145
+  515 select *tmp366 lessThan :min_level .LOW_LEVEL_TRIGGER true false
+  516 select *tmp208 greaterThan :max_level .HIGH_LEVEL_TRIGGER true *tmp366
+  517 label *label251
   518 jump *label150 equal :wait_time 0
-    * label *label151
   519 jump *label148 lessThanEq *tmp208 :remote_wait_time
   520 label *label150
   521 jump *label152 equal STABILIZATION false
 
   910 sensor *tmp356 .SRC @dead
   911 op strictNotEqual *tmp357 *tmp356 0
   912 jump *label235 notEqual *tmp357 false
-    * label *label236
   913 sensor *tmp358 .DST @dead
   914 op strictNotEqual *tmp359 *tmp358 0
   915 jump *label233 equal *tmp359 false

Modifications by Iterated phase, If Expression Optimization, pass 1, iteration 1 (-1 instructions):
 
    52 jump *label12 equal @unit :first_unit
    53 sensor *tmp20 :first_unit @dead
    54 op strictEqual *tmp21 *tmp20 0
-    * op notEqual *tmp22 *tmp21 false
+   55 op notEqual :repeat *tmp21 false
    56 jump *label13 always
    57 label *label12
-    * set *tmp22 false
+   58 set :repeat false
    59 label *label13
-    * set :repeat *tmp22
    60 label *label4
    61 jump *label243 notEqual :repeat false
    62 label *label5

Modifications by Partial loop rotation at line 172:9 (+1 instructions):
 
   130 label *label37
   131 sensor *tmp43 @unit @controlled
   132 jump *label39 equal *tmp43 0
+  133 label *label252
   134 ubind UNIT
   135 label *label38
-    * jump *label37 always
+  136 sensor *tmp43 @unit @controlled
+  137 jump *label252 notEqual *tmp43 0
   138 label *label39
   139 ucontrol flag .QUERY_FLAG
   140 label *label40

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-1 instructions):
 
    37 sensor *tmp10 @unit @speed
    38 op div .SPEED *tmp10 1000
    39 set .TARGET 0
-    * set :repeat true
    40 label *label3
    41 label *label243
    42 sensor *tmp12 @unit @controller
 
   137 label *label39
   138 ucontrol flag .QUERY_FLAG
   139 label *label40
-    * jump *label42 notEqual :flag .QUERY_FLAG
+  140 jump *label42 notEqual .QUERY_FLAG .QUERY_FLAG
   141 label *label247
   142 sensor *tmp46 @unit @dead
   143 jump *label42 notEqual *tmp46 0
 
   509 op add :total_flow_per_ms :items_per_ms :corr_per_ms
   510 op idiv :corr_per_min :corr_per_ms 0.000016666666666666667
   511 set .CORR_SIGN "[]([green]"
-    * select .CORR_SIGN greaterThanEq :corr_per_min 0 "[]([green]+" .CORR_SIGN
+  512 select .CORR_SIGN greaterThanEq :corr_per_min 0 "[]([green]+" "[]([green]"
   513 set .SPEED_UNIT_TXT "[])/min"
   514 jump *label142 equal :alive false
   515 select *tmp366 lessThan :min_level .LOW_LEVEL_TRIGGER true false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-1 instructions):
 
   508 set :last_level :this_level
   509 op add :total_flow_per_ms :items_per_ms :corr_per_ms
   510 op idiv :corr_per_min :corr_per_ms 0.000016666666666666667
-    * set .CORR_SIGN "[]([green]"
   511 select .CORR_SIGN greaterThanEq :corr_per_min 0 "[]([green]+" "[]([green]"
   512 set .SPEED_UNIT_TXT "[])/min"
   513 jump *label142 equal :alive false

Modifications by Partial loop rotation at line 184:13 (+1 instructions):
 
   153 label *label47
   154 sensor *tmp54 @unit @dead
   155 jump *label49 notEqual *tmp54 0
+  156 label *label253
   157 ucontrol within .CORE_X .CORE_Y 8 *tmp56
   158 jump *label49 notEqual *tmp56 false
   159 ucontrol approach .CORE_X .CORE_Y 6
   160 label *label48
-    * jump *label47 always
+  161 sensor *tmp54 @unit @dead
+  162 jump *label253 equal *tmp54 0
   163 label *label49
   164 ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE *tmp59
   165 jump *label52 equal :b_type @vault

Modifications by Partial loop rotation at line 692:1 (+2 instructions):
 
   901 sensor *tmp354 .SORTER @dead
   902 op strictNotEqual *tmp355 *tmp354 0
   903 jump *label232 equal *tmp355 false
+  904 label *label254
   905 print "[salmon]sorter1 is missing![]\nPlease place and link sorter or inverted sorter to the processor."
   906 printflush message1
   907 printflush message2
   908 set .SORTER sorter1
   909 label *label231
-    * jump *label230 always
+  910 sensor *tmp354 .SORTER @dead
+  911 op strictNotEqual *tmp355 *tmp354 0
+  912 jump *label254 notEqual *tmp355 false
   913 label *label232
   914 sensor *tmp356 .SRC @dead
   915 op strictNotEqual *tmp357 *tmp356 0

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   907 printflush message2
   908 set .SORTER sorter1
   909 label *label231
-    * sensor *tmp354 .SORTER @dead
+  910 sensor *tmp354 sorter1 @dead
   911 op strictNotEqual *tmp355 *tmp354 0
   912 jump *label254 notEqual *tmp355 false
   913 label *label232

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-1 instructions):
 
   905 print "[salmon]sorter1 is missing![]\nPlease place and link sorter or inverted sorter to the processor."
   906 printflush message1
   907 printflush message2
-    * set .SORTER sorter1
   908 label *label231
   909 sensor *tmp354 sorter1 @dead
   910 op strictNotEqual *tmp355 *tmp354 0

Modifications by Partial loop rotation at line 700:5 (+1 instructions):
 
   920 label *label237
   921 sensor *tmp361 switch1 @enabled
   922 jump *label239 notEqual *tmp361 false
+  923 label *label255
   924 sensor *tmp362 switch2 @enabled
   925 jump *label239 notEqual *tmp362 false
   926 print "[salmon]Local or remote container became invalid.\nPlease fix and press any button to reinitialize."
   927 printflush message1
   928 printflush message2
   929 label *label238
-    * jump *label237 always
+  930 sensor *tmp361 switch1 @enabled
+  931 jump *label255 equal *tmp361 false
   932 label *label239
   933 label *label233
   934 label *label234

Modifications by Convert case at line 712:5 (segments: 1) (+3 instructions):
 
   381 label *label99
   382 set .LAST_ITEM .ITEM
   383 # "Function: def itemTypeToIcon(in itemType)"
-    * jump *label102 notEqual .ITEM @blast-compound
+  384 sensor *tmp367 .ITEM @id
+  385 jump *label256 greaterThanEq *tmp367 16
+  386 multijump *label259 *tmp367 0 (m:*label258)
+  387 multilabel *label259 (m:*label258)
+  388 jump *label257 always
+  389 multilabel *label260 (m:*label258)
+  390 jump *label111 always
+  391 multilabel *label261 (m:*label258)
+  392 jump *label113 always
+  393 multilabel *label262 (m:*label258)
+  394 jump *label109 always
+  395 multilabel *label263 (m:*label258)
+  396 jump *label121 always
+  397 multilabel *label264 (m:*label258)
+  398 jump *label105 always
+  399 multilabel *label265 (m:*label258)
+  400 jump *label133 always
+  401 multilabel *label266 (m:*label258)
+  402 jump *label131 always
+  403 multilabel *label267 (m:*label258)
+  404 jump *label123 always
+  405 multilabel *label268 (m:*label258)
+  406 jump *label125 always
+  407 multilabel *label269 (m:*label258)
+  408 jump *label117 always
+  409 multilabel *label270 (m:*label258)
+  410 jump *label115 always
+  411 multilabel *label271 (m:*label258)
+  412 jump *label129 always
+  413 multilabel *label272 (m:*label258)
+  414 jump *label127 always
+  415 multilabel *label273 (m:*label258)
+  416 jump *label103 always
+  417 multilabel *label274 (m:*label258)
+  418 label *label119
+  419 set *tmp163 "[]"
+  420 jump *label101 always
   421 label *label103
   422 set *tmp163 "[]"
   423 jump *label101 always
   424 label *label102
-    * jump *label104 notEqual .ITEM @coal
   425 label *label105
   426 set *tmp163 "[]"
   427 jump *label101 always
   428 label *label104
-    * jump *label106 notEqual .ITEM @copper
+  429 label *label257
+  430 jump *label256 strictEqual *tmp367 null
   431 label *label107
   432 set *tmp163 "[]"
   433 jump *label101 always
   434 label *label106
-    * jump *label108 notEqual .ITEM @graphite
   435 label *label109
   436 set *tmp163 "[]"
   437 jump *label101 always
   438 label *label108
-    * jump *label110 notEqual .ITEM @lead
   439 label *label111
   440 set *tmp163 "[]"
   441 jump *label101 always
   442 label *label110
-    * jump *label112 notEqual .ITEM @metaglass
   443 label *label113
   444 set *tmp163 "[]"
   445 jump *label101 always
   446 label *label112
-    * jump *label114 notEqual .ITEM @phase-fabric
   447 label *label115
   448 set *tmp163 "[]"
   449 jump *label101 always
   450 label *label114
-    * jump *label116 notEqual .ITEM @plastanium
   451 label *label117
   452 set *tmp163 "[]"
   453 jump *label101 always
   454 label *label116
-    * jump *label118 notEqual .ITEM @pyratite
-    * label *label119
-    * set *tmp163 "[]"
-    * jump *label101 always
   455 label *label118
-    * jump *label120 notEqual .ITEM @sand
   456 label *label121
   457 set *tmp163 "[]"
   458 jump *label101 always
   459 label *label120
-    * jump *label122 notEqual .ITEM @scrap
   460 label *label123
   461 set *tmp163 "[]"
   462 jump *label101 always
   463 label *label122
-    * jump *label124 notEqual .ITEM @silicon
   464 label *label125
   465 set *tmp163 "[]"
   466 jump *label101 always
   467 label *label124
-    * jump *label126 notEqual .ITEM @spore-pod
   468 label *label127
   469 set *tmp163 "[]"
   470 jump *label101 always
   471 label *label126
-    * jump *label128 notEqual .ITEM @surge-alloy
   472 label *label129
   473 set *tmp163 "[]"
   474 jump *label101 always
   475 label *label128
-    * jump *label130 notEqual .ITEM @thorium
   476 label *label131
   477 set *tmp163 "[]"
   478 jump *label101 always
   479 label *label130
-    * jump *label132 notEqual .ITEM @titanium
   480 label *label133
   481 set *tmp163 "[]"
   482 jump *label101 always
   483 label *label132
+  484 label *label256
   485 set *tmp163 null
   486 label *label101
   487 label *label100

Modifications by Iterated phase, Jump Normalization, pass 2, iteration 1 (-1 instructions):
 
   137 label *label39
   138 ucontrol flag .QUERY_FLAG
   139 label *label40
-    * jump *label42 notEqual .QUERY_FLAG .QUERY_FLAG
   140 label *label247
   141 sensor *tmp46 @unit @dead
   142 jump *label42 notEqual *tmp46 0

Modifications by Iterated phase, Condition Optimization, pass 2, iteration 1 (-1 instructions):
 
    50 ubind UNIT
    51 jump *label12 equal @unit :first_unit
    52 sensor *tmp20 :first_unit @dead
-    * op strictEqual *tmp21 *tmp20 0
-    * op notEqual :repeat *tmp21 false
+   53 op strictEqual :repeat *tmp20 0
    54 jump *label13 always
    55 label *label12
    56 set :repeat false

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-1 instructions):
 
   581 label *label139
   582 set :wait_time 0
   583 set :remote_wait_time 0
-    * jump *label154 lessThan @tick .MESSAGE_TIMEOUT
   584 label *label154
   585 label *label155
   586 label *label134

Modifications by Iterated phase, Expression Optimization, pass 2, iteration 1:
 
    42 sensor *tmp12 @unit @controller
    43 jump *label6 notEqual *tmp12 @this
    44 sensor :state @unit @flag
-    * select *tmp365 greaterThanEq :state 1 true false
+   45 op greaterThanEq *tmp365 :state 1
    46 select *tmp18 lessThan :state 6 *tmp365 false
    47 op add .TARGET .TARGET *tmp18
    48 label *label6
 
   532 select .CORR_SIGN greaterThanEq :corr_per_min 0 "[]([green]+" "[]([green]"
   533 set .SPEED_UNIT_TXT "[])/min"
   534 jump *label142 equal :alive false
-    * select *tmp366 lessThan :min_level .LOW_LEVEL_TRIGGER true false
+  535 op lessThan *tmp366 :min_level .LOW_LEVEL_TRIGGER
   536 select *tmp208 greaterThan :max_level .HIGH_LEVEL_TRIGGER true *tmp366
   537 label *label251
   538 jump *label150 equal :wait_time 0

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-1 instructions):
 
   282 set .TRANSFER_START @tick
   283 op sub .LOOP_START @tick 60
   284 set .LAST_ITEM @mono
-    * op add .MESSAGE_TIMEOUT @tick 600
   285 set .WAIT_LIMIT 30000
   286 set :items_in_transit 0
   287 set :items_per_min_unit "--"

Modifications by Iterated phase, Temp Variables Elimination, pass 2, iteration 1 (-3 instructions):
 
   217 set .FLOW_CORR_SIGN 1
   218 set .SRC_REMOTE_WAIT 1
   219 set .DST_REMOTE_WAIT 0
-    * select *tmp80 equal LINK_ID 0 " from core" " from vault #"
-    * set .DIRECTION *tmp80
+  220 select .DIRECTION equal LINK_ID 0 " from core" " from vault #"
   221 jump *label62 always
   222 label *label61
   223 op greaterThan .SHOW_REMOTE_LEVEL LINK_ID 0
 
   240 set .FLOW_CORR_SIGN -1
   241 set .SRC_REMOTE_WAIT 0
   242 set .DST_REMOTE_WAIT 1
-    * select *tmp94 equal LINK_ID 0 " to core" " to vault #"
-    * set .DIRECTION *tmp94
+  243 select .DIRECTION equal LINK_ID 0 " to core" " to vault #"
   244 label *label62
   245 select *tmp96 equal LINK_ID 0 "" LINK_ID
   246 op sub *tmp97 :src_capacity .LOAD_LEVEL
 
   347 set .CORR_SIGN "[]"
   348 set :corr_per_min ""
   349 set .SPEED_UNIT_TXT "/min"
-    * select *tmp149 equal .TARGET 0 "\n=== [salmon]Transport deactivated[] ===" ""
-    * set .AUTO_ALLOCATION_TXT *tmp149
+  350 select .AUTO_ALLOCATION_TXT equal .TARGET 0 "\n=== [salmon]Transport deactivated[] ===" ""
   351 label *label88
   352 set .WAIT_LIMIT 30000
   353 label *label85

Modifications by Jumps phase, Jump Straightening, pass 4, iteration 1 (-4 instructions):
 
   627 set :items_in_transit 0
   628 print "Unit status:"
   629 sensor *tmp253 .SRC @dead
-    * jump *label172 equal *tmp253 0
-    * jump *label79 always
+  630 jump *label79 notEqual *tmp253 0
   631 label *label172
   632 sensor *tmp256 .DST @dead
-    * jump *label174 equal *tmp256 0
-    * jump *label79 always
+  633 jump *label79 notEqual *tmp256 0
   634 label *label174
   635 sensor *tmp259 .SORTER @dead
-    * jump *label176 equal *tmp259 0
-    * jump *label79 always
+  636 jump *label79 notEqual *tmp259 0
   637 label *label176
   638 getlink *tmp262 .CONTAINER_INDEX
-    * jump *label178 equal .CONTAINER *tmp262
-    * jump *label79 always
+  639 jump *label79 notEqual .CONTAINER *tmp262
   640 label *label178
   641 label *label91
   642 jump *label180 lessThanEq .CHANGE 0

Modifications by Jumps phase, Jump Threading, pass 4, iteration 1:
 
    76 label *label23
    77 jump *label244 greaterThan :n 0
    78 label *label21
-    * jump *label25 notEqual .CONTAINER null
+   79 jump *label18 notEqual .CONTAINER null
    80 print "[salmon]No vault or container."
    81 printflush message1
-    * jump *label26 always
+   82 jump *label16 always
    83 label *label25
    84 jump *label18 always
    85 label *label26
 
   643 label *label182
   644 label *label180
   645 sensor *tmp270 @unit @controller
-    * jump *label184 notEqual *tmp270 @this
+  646 jump *label77 notEqual *tmp270 @this
   647 sensor :state @unit @flag
-    * jump *label186 equal :state .S_UNUSED
+  648 jump *label77 equal :state .S_UNUSED
   649 op max *tmp276 :state 1
   650 op min :state *tmp276 .STATE_LIMIT
   651 jump *label188 greaterThanEq .CHANGE 0
 
   769 print *tmp344
   770 print " "
   771 print "sec[] to source: [green]"
-    * jump *label223 always
+  772 jump *label221 always
   773 print "[]"
   774 print "\n"
   775 print "Going to source: [green]"
 
   793 print "Parking: [green]"
   794 ucontrol approach .DROP_X .DROP_Y 6
   795 ucontrol within .DROP_X .DROP_Y 8 *tmp349
-    * jump *label226 equal *tmp349 false
+  796 jump *label225 equal *tmp349 false
   797 ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
   798 sensor :items @unit @totalItems
-    * jump *label228 greaterThan :items .PARK_ITEM_LIMIT
+  799 jump *label225 greaterThan :items .PARK_ITEM_LIMIT
   800 ucontrol move .PARK_X .PARK_Y
   801 set :state .S_UNUSED
   802 label *label228

Modifications by Jumps phase, Unreachable Code Elimination, pass 4, iteration 1 (-6 instructions):
 
    80 print "[salmon]No vault or container."
    81 printflush message1
    82 jump *label16 always
-    * label *label25
-    * jump *label18 always
-    * label *label26
-    * jump *label16 always
    83 label *label18
    84 set .CORE null
    85 jump *label27 notEqual LINK_ID 0
 
   766 print " "
   767 print "sec[] to source: [green]"
   768 jump *label221 always
-    * print "[]"
-    * print "\n"
-    * print "Going to source: [green]"
-    * label *label223
-    * jump *label221 always
   769 label *label220
   770 print "[]"
   771 print "\n"
 
   790 jump *label225 greaterThan :items .PARK_ITEM_LIMIT
   791 ucontrol move .PARK_X .PARK_Y
   792 set :state .S_UNUSED
-    * label *label228
-    * label *label226
   793 jump *label225 always
   794 label *label224
   795 op add :active :active 1
 
   797 print :items
   798 print .ITEM_ICON
   799 ucontrol flag :state
-    * label *label186
-    * label *label184
   800 jump *label77 always
   801 label *label79
   802 sensor *tmp354 .SORTER @dead

Modifications by Jumps phase, Single Step Elimination, pass 4, iteration 1 (-1 instructions):
 
   831 label *label233
   832 control enabled switch1 false
   833 control enabled switch2 false
-    * end

Modifications by Final phase, Temp Variables Elimination, iteration 1:
 
    89 ubind UNIT
    90 sensor *tmp36 @unit @controlled
    91 jump *label32 notEqual *tmp36 0
-    * ulocate building core false @copper .CORE_X .CORE_Y *tmp40 .CORE
+   92 ulocate building core false @copper .CORE_X .CORE_Y 0 .CORE
    93 ucontrol flag .S_UNUSED
    94 label *label32
    95 jump *label245 equal .CORE null
 
   134 sensor *tmp54 @unit @dead
   135 jump *label253 equal *tmp54 0
   136 label *label49
-    * ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE *tmp59
+  137 ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE 0
   138 jump *label52 equal :b_type @vault
   139 print "[salmon]Building at "
   140 print .CORE_X

Modifications by Final phase, Print Merging, iteration 1 (-71 instructions):
 
    21 ubind UNIT
    22 jump *label2 notEqual @unit null
    23 label *label242
-    * print "[salmon]No unit of type "
-    * print UNIT
-    * print " "
-    * print "found."
+   24 print "[salmon]No unit of type {0} found."
+   25 format UNIT
    26 printflush message1
    27 ubind UNIT
    28 jump *label242 equal @unit null
 
    95 jump *label28 always
    96 label *label27
    97 printflush message2
-    * print "[green]Locating vault #"
-    * print LINK_ID
-    * print "."
-    * print ".."
+   98 print "[green]Locating vault #{0}..."
+   99 format LINK_ID
   100 printflush message1
   101 op add .QUERY_FLAG 99999900 LINK_ID
   102 label *label246
 
   132 label *label49
   133 ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE 0
   134 jump *label52 equal :b_type @vault
-    * print "[salmon]Building at "
-    * print .CORE_X
-    * print ","
-    * print " "
-    * print .CORE_Y
-    * print " "
-    * print "is not a vault!"
+  135 print "[salmon]Building at {0}, {0} is not a vault!"
+  136 format .CORE_X
+  137 format .CORE_Y
   138 printflush message2
   139 set .CORE null
   140 label *label52
 
   148 jump *label56 equal :sorter_type @sorter
   149 label *label248
   150 jump *label56 equal :sorter_type @inverted-sorter
-    * print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter."
-    * print "\n"
+  151 print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter.\n"
   152 jump *label59 equal .SORTER null
   153 print "Block found: "
   154 print .SORTER
 
   264 ubind UNIT
   265 jump *label82 notEqual @unit null
   266 label *label249
-    * print "No unit of type "
-    * print UNIT
-    * print " "
-    * print "found."
+  267 print "No unit of type {0} found."
+  268 format UNIT
   269 printflush message1
   270 ubind UNIT
   271 jump *label249 equal @unit null
 
   505 set :wait_time 0
   506 set :remote_wait_time 0
   507 label *label134
-    * print ""
-    * print "Moving [green]"
-    * print .ITEM
-    * print "["
-    * print "]"
+  508 print "Moving [green]{0}[]"
+  509 format .ITEM
   510 print .DIRECTION
   511 print *tmp96
   512 print .AUTO_ALLOCATION_TXT
   513 jump *label156 lessThanEq .TARGET 0
   514 jump *label158 lessThan :active .TARGET
-    * print "\n"
-    * print "Using [green]"
-    * print :active
-    * print "/"
-    * print .TARGET
-    * print "["
-    * print "] units ("
-    * print UNIT
-    * print ")"
-    * print " [gold]+"
+  515 print "\nUsing [green]{0}/{0}[] units ({0}) [gold]+"
+  516 format :active
+  517 format .TARGET
+  518 format UNIT
   519 print :items_in_transit
   520 jump *label159 always
   521 label *label158
-    * print "\n"
-    * print "Using [salmon]"
-    * print :active
-    * print "/"
-    * print .TARGET
-    * print "["
-    * print "] units ("
-    * print UNIT
-    * print ")"
-    * print " [gold]+"
+  522 print "\nUsing [salmon]{0}/{0}[] units ({0}) [gold]+"
+  523 format :active
+  524 format .TARGET
+  525 format UNIT
   526 print :items_in_transit
   527 label *label159
   528 jump *label160 lessThanEq .CHANGE 0
   529 print "\n[][salmon]Cannot acquire additional units![]"
   530 label *label160
   531 label *label156
-    * print "\n"
-    * print "[]Local items: [gold]"
+  532 print "\n[]Local items: [gold]"
   533 print :container_items
   534 jump *label162 greaterThanEq .EFF_LOCAL_LIMIT 100
-    * print "[] (limit [orange]"
-    * print .LOCAL_MARGIN
-    * print "["
-    * print "])"
+  535 print "[] (limit [orange]{0}[])"
+  536 format .LOCAL_MARGIN
   537 label *label162
   538 jump *label164 equal .SHOW_REMOTE_LEVEL false
   539 sensor :remote_level .CORE .ITEM
-    * print "\n"
-    * print "[]Remote items: [gold]"
+  540 print "\n[]Remote items: [gold]"
   541 print :remote_level
   542 jump *label166 greaterThanEq .EFF_REMOTE_LIMIT 100
-    * print "[] (limit [orange]"
-    * print .REMOTE_MARGIN
-    * print "["
-    * print "])"
+  543 print "[] (limit [orange]{0}[])"
+  544 format .REMOTE_MARGIN
   545 label *label166
   546 label *label164
   547 jump *label168 lessThanEq .TARGET 0
-    * print "\n"
-    * print "[]Speed: [green]"
+  548 print "\n[]Speed: [green]"
   549 print :items_per_min
   550 print .CORR_SIGN
   551 print :corr_per_min
   552 print .SPEED_UNIT_TXT
   553 jump *label170 equal .EFF_AUTO_ALLOCATION false
-    * print "\n"
-    * print "Unit throughput: [green]"
-    * print :items_per_min_unit
-    * print "["
-    * print "]/min"
-    * print "\n"
-    * print "Min/last round: [green]"
-    * print :turnaround_str
-    * print "["
-    * print "]/[green]"
-    * print :elapsed_str
-    * print "["
-    * print "] s"
+  554 print "\nUnit throughput: [green]{0}[]/min\nMin/last round: [green]{0}[]/[green]{0}[] s"
+  555 format :items_per_min_unit
+  556 format :turnaround_str
+  557 format :elapsed_str
   558 jump *label171 always
   559 label *label170
-    * print "\n"
-    * print "Last round: [green]"
-    * print :elapsed_str
-    * print "["
-    * print "] s"
+  560 print "\nLast round: [green]{0}[] s"
+  561 format :elapsed_str
   562 label *label171
-    * print "\n"
-    * print "Total wait time: [green]"
-    * print :wait_time_str
-    * print "["
-    * print "] s"
+  563 print "\nTotal wait time: [green]{0}[] s"
+  564 format :wait_time_str
   565 label *label168
-    * print "\n"
-    * print "[lightgray]Loop: "
-    * print :loop_time_ms
-    * print " "
-    * print "ms"
+  566 print "\n[lightgray]Loop: {0} ms"
+  567 format :loop_time_ms
   568 printflush message1
   569 op sub .CHANGE .TARGET :active
   570 set :active 0
 
   618 jump *label200 equal *tmp293 false
   619 ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
   620 label *label200
-    * print "[]"
-    * print "\n"
-    * print "Unloading previous items: [green]"
+  621 print "[]\nUnloading previous items: [green]"
   622 label *label199
   623 label *label197
   624 label *label194
 
   636 op len *tmp303 *tmp300 *tmp302
   637 op idiv *tmp304 *tmp303 .SPEED_SEC
   638 op div *tmp305 *tmp304 10
-    * print "[]"
-    * print "\n"
-    * print "[gold]"
-    * print *tmp305
-    * print " "
-    * print "sec[] to source: [green]"
+  639 print "[]\n[gold]{0} sec[] to source: [green]"
+  640 format *tmp305
   641 label *label205
   642 label *label202
   643 jump *label206 notEqual :state 3
 
   651 set :state 4
   652 jump *label211 always
   653 label *label210
-    * print "[]"
-    * print "\n"
-    * print "Waiting at source: [green]"
+  654 print "[]\nWaiting at source: [green]"
   655 ucontrol approach .SRC_X .SRC_Y 6
   656 op add :wait_time :wait_time :loop_time_ms
   657 op mul *tmp315 :loop_time_ms .SRC_REMOTE_WAIT
 
   675 op len *tmp325 *tmp322 *tmp324
   676 op idiv *tmp326 *tmp325 .SPEED_SEC
   677 op div *tmp327 *tmp326 10
-    * print "[]"
-    * print "\n"
-    * print "[gold]"
-    * print *tmp327
-    * print " "
-    * print "sec[] to destination: [green]"
+  678 print "[]\n[gold]{0} sec[] to destination: [green]"
+  679 format *tmp327
   680 label *label215
   681 label *label212
   682 jump *label216 notEqual :state 5
 
   696 op len *tmp342 *tmp339 *tmp341
   697 op idiv *tmp343 *tmp342 .SPEED_SEC
   698 op div *tmp344 *tmp343 10
-    * print "[]"
-    * print "\n"
-    * print "[gold]"
-    * print *tmp344
-    * print " "
-    * print "sec[] to source: [green]"
+  699 print "[]\n[gold]{0} sec[] to source: [green]"
+  700 format *tmp344
   701 jump *label221 always
   702 label *label220
-    * print "[]"
-    * print "\n"
-    * print "Waiting at destination: [green]"
+  703 print "[]\nWaiting at destination: [green]"
   704 ucontrol approach .DST_X .DST_Y 6
   705 op add :wait_time :wait_time :loop_time_ms
   706 op mul *tmp345 :loop_time_ms .DST_REMOTE_WAIT
 
   710 sensor :items @unit @totalItems
   711 op add :items_in_transit :items_in_transit :items
   712 jump *label224 notEqual :state 6
-    * print "[]"
-    * print "\n"
-    * print "Parking: [green]"
+  713 print "[]\nParking: [green]"
   714 ucontrol approach .DROP_X .DROP_Y 6
   715 ucontrol within .DROP_X .DROP_Y 8 *tmp349
   716 jump *label225 equal *tmp349 false

Final code before resolving virtual instructions:

set UNIT @mega
set LINK_ID 0
set AUTO_ALLOCATION true
set MAX_UNITS 24
set HOUSEKEEPING true
set LOCAL_LIMIT 100
set REMOTE_LIMIT 100
set OVERALLOCATION_LOW 0.25
set OVERALLOCATION_HIGH 0.75
set STABILIZATION false
set .STATE_LIMIT null
set .ITEM_ICON null
set .ITEM null
set .CORE_Y null
set .CORE_X null
set .CONTAINER_INDEX null
op max .EFF_LOCAL_LIMIT LOCAL_LIMIT 20
op max .EFF_REMOTE_LIMIT REMOTE_LIMIT 20
set .EFF_AUTO_ALLOCATION AUTO_ALLOCATION
op mul .S_UNUSED -1 HOUSEKEEPING
op add .DEC_OVERALLOCATION 1 OVERALLOCATION_HIGH
ubind UNIT
jump *label2 notEqual @unit null
label *label242
print "[salmon]No unit of type {0} found."
format UNIT
printflush message1
ubind UNIT
jump *label242 equal @unit null
label *label2
set :first_unit @unit
sensor *tmp8 @unit @speed
op div .SPEED_SEC *tmp8 10
sensor *tmp10 @unit @speed
op div .SPEED *tmp10 1000
set .TARGET 0
label *label243
sensor *tmp12 @unit @controller
jump *label6 notEqual *tmp12 @this
sensor :state @unit @flag
op greaterThanEq *tmp365 :state 1
select *tmp18 lessThan :state 6 *tmp365 false
op add .TARGET .TARGET *tmp18
label *label6
ubind UNIT
jump *label12 equal @unit :first_unit
sensor *tmp20 :first_unit @dead
op strictEqual :repeat *tmp20 0
jump *label13 always
label *label12
set :repeat false
label *label13
jump *label243 notEqual :repeat false
set .CHANGE 0
set :active .TARGET
set .DEC_LIMIT 0
set .INC_LIMIT 0
sensor .UNIT_CAPACITY @unit @itemCapacity
set :first_unit null
label *label16
set .CONTAINER null
set .DROP_TARGET null
set :n @links
jump *label21 lessThanEq :n 0
label *label244
op sub :n :n 1
getlink :block :n
sensor *tmp29 :block @type
jump *label24 equal *tmp29 @vault
jump *label23 notEqual *tmp29 @container
label *label24
set .DROP_TARGET .CONTAINER
set .CONTAINER :block
set .CONTAINER_INDEX :n
label *label23
jump *label244 greaterThan :n 0
label *label21
jump *label18 notEqual .CONTAINER null
print "[salmon]No vault or container."
printflush message1
jump *label16 always
label *label18
set .CORE null
jump *label27 notEqual LINK_ID 0
label *label245
print "[green]Locating core..."
printflush message1
ubind UNIT
sensor *tmp36 @unit @controlled
jump *label32 notEqual *tmp36 0
ulocate building core false @copper .CORE_X .CORE_Y 0 .CORE
ucontrol flag .S_UNUSED
label *label32
jump *label245 equal .CORE null
set .DISCARD_UNIT_MAX_ITEMS .UNIT_CAPACITY
jump *label28 always
label *label27
printflush message2
print "[green]Locating vault #{0}..."
format LINK_ID
printflush message1
op add .QUERY_FLAG 99999900 LINK_ID
label *label246
set :flag .QUERY_FLAG
ubind UNIT
sensor *tmp43 @unit @controlled
jump *label39 equal *tmp43 0
label *label252
ubind UNIT
sensor *tmp43 @unit @controlled
jump *label252 notEqual *tmp43 0
label *label39
ucontrol flag .QUERY_FLAG
label *label247
sensor *tmp46 @unit @dead
jump *label42 notEqual *tmp46 0
ucontrol stop
sensor :flag @unit @flag
jump *label247 equal :flag .QUERY_FLAG
label *label42
jump *label45 equal :flag .QUERY_FLAG
op idiv :position :flag 100
op mod .CORE_X :position @mapw
op idiv .CORE_Y :position @mapw
sensor *tmp54 @unit @dead
jump *label49 notEqual *tmp54 0
label *label253
ucontrol within .CORE_X .CORE_Y 8 *tmp56
jump *label49 notEqual *tmp56 false
ucontrol approach .CORE_X .CORE_Y 6
sensor *tmp54 @unit @dead
jump *label253 equal *tmp54 0
label *label49
ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE 0
jump *label52 equal :b_type @vault
print "[salmon]Building at {0}, {0} is not a vault!"
format .CORE_X
format .CORE_Y
printflush message2
set .CORE null
label *label52
label *label45
ucontrol flag .S_UNUSED
jump *label246 equal .CORE null
set .DISCARD_UNIT_MAX_ITEMS 0
label *label28
set .SORTER sorter1
sensor :sorter_type sorter1 @type
jump *label56 equal :sorter_type @sorter
label *label248
jump *label56 equal :sorter_type @inverted-sorter
print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter.\n"
jump *label59 equal .SORTER null
print "Block found: "
print .SORTER
label *label59
printflush message1
set .SORTER sorter1
sensor :sorter_type sorter1 @type
jump *label248 notEqual :sorter_type @sorter
label *label56
jump *label61 notEqual :sorter_type @sorter
set .SHOW_REMOTE_LEVEL true
set .SRC .CORE
set .DST .CONTAINER
sensor :src_capacity .CORE @itemCapacity
sensor :dst_capacity .CONTAINER @itemCapacity
op sub *tmp72 100 .EFF_REMOTE_LIMIT
op mul *tmp73 :src_capacity *tmp72
op idiv .LOAD_LEVEL *tmp73 100
op mul *tmp75 :dst_capacity .EFF_LOCAL_LIMIT
op idiv .DROP_LEVEL *tmp75 100
set .LOCAL_MARGIN .DROP_LEVEL
set .REMOTE_MARGIN .LOAD_LEVEL
op mul .LOW_LEVEL_TRIGGER :dst_capacity 0.09999999999999998
set .HIGH_LEVEL_TRIGGER :dst_capacity
set .FLOW_CORR_SIGN 1
set .SRC_REMOTE_WAIT 1
set .DST_REMOTE_WAIT 0
select .DIRECTION equal LINK_ID 0 " from core" " from vault #"
jump *label62 always
label *label61
op greaterThan .SHOW_REMOTE_LEVEL LINK_ID 0
set .SRC .CONTAINER
set .DST .CORE
sensor :src_capacity .CONTAINER @itemCapacity
sensor :dst_capacity .CORE @itemCapacity
op sub *tmp84 100 .EFF_LOCAL_LIMIT
op mul *tmp85 :src_capacity *tmp84
op idiv .LOAD_LEVEL *tmp85 100
op mul *tmp87 :dst_capacity .EFF_REMOTE_LIMIT
op idiv *tmp88 *tmp87 100
op equal *tmp89 LINK_ID 0
op mul *tmp90 *tmp89 .UNIT_CAPACITY
op add .DROP_LEVEL *tmp88 *tmp90
set .LOCAL_MARGIN .LOAD_LEVEL
set .REMOTE_MARGIN .DROP_LEVEL
op mul .HIGH_LEVEL_TRIGGER :src_capacity 0.9
set .LOW_LEVEL_TRIGGER 0
set .FLOW_CORR_SIGN -1
set .SRC_REMOTE_WAIT 0
set .DST_REMOTE_WAIT 1
select .DIRECTION equal LINK_ID 0 " to core" " to vault #"
label *label62
select *tmp96 equal LINK_ID 0 "" LINK_ID
op sub *tmp97 :src_capacity .LOAD_LEVEL
op min .LOAD_PACK .UNIT_CAPACITY *tmp97
op min .DROP_PACK .UNIT_CAPACITY .DROP_LEVEL
sensor .SRC_X .SRC @x
sensor .SRC_Y .SRC @y
sensor .DST_X .DST @x
sensor .DST_Y .DST @y
op sub *tmp104 .DST_X .SRC_X
op sub *tmp105 .DST_Y .SRC_Y
op len *tmp106 *tmp104 *tmp105
op sub .DISTANCE *tmp106 14
op max *tmp109 .DISTANCE 10
op mul *tmp110 2 *tmp109
op div .TRAVEL_TIME *tmp110 .SPEED
jump *label69 notEqual .DROP_TARGET null
set .DROP_TARGET .CORE
set .DROP_X .CORE_X
set .DROP_Y .CORE_Y
sensor *tmp119 .CONTAINER @x
select *tmp121 lessThan *tmp119 .CORE_X 15 -15
op add .PARK_X .CORE_X *tmp121
sensor *tmp123 .CONTAINER @y
select *tmp125 lessThan *tmp123 .CORE_Y 15 -15
op add .PARK_Y .CORE_Y *tmp125
op equal *tmp127 LINK_ID 0
op mul .PARK_ITEM_LIMIT *tmp127 .UNIT_CAPACITY
jump *label70 always
label *label69
sensor .DROP_X .DROP_TARGET @x
sensor .DROP_Y .DROP_TARGET @y
set .PARK_X .DROP_X
set .PARK_Y .DROP_Y
set .PARK_ITEM_LIMIT 0
label *label70
set .TRANSFER_START @tick
op sub .LOOP_START @tick 60
set .LAST_ITEM @mono
set .WAIT_LIMIT 30000
set :items_in_transit 0
set :items_per_min_unit "--"
set :items_per_min "-- "
set :turnaround_str "--"
set :elapsed_str "--"
set :wait_time_str 0
set :wait_time 0
set :transfers 0
set :transferred 0
set :total_flow_2 0
set :total_flow_1 0
set :remote_wait_time 0
set :min_level 0
set :max_level 0
set :loop_time_ms 0
set :last_level 0
select .CORR_SIGN notEqual AUTO_ALLOCATION false "[]([green]+" "[]"
select :corr_per_min notEqual AUTO_ALLOCATION false 0 ""
select .SPEED_UNIT_TXT notEqual AUTO_ALLOCATION false "[])/min" "/min"
select .AUTO_ALLOCATION_TXT notEqual AUTO_ALLOCATION false "\n=== [gold]Gathering statistics[] ===" ""
label *label77
ubind UNIT
jump *label82 notEqual @unit null
label *label249
print "No unit of type {0} found."
format UNIT
printflush message1
ubind UNIT
jump *label249 equal @unit null
label *label82
sensor *tmp136 switch1 @enabled
jump *label83 equal *tmp136 false
control enabled switch1 false
set .EFF_AUTO_ALLOCATION false
set .AUTO_ALLOCATION_TXT ""
op add *tmp139 .TARGET 1
op min .TARGET *tmp139 MAX_UNITS
set .CORR_SIGN "[]"
set :corr_per_min ""
set .SPEED_UNIT_TXT "/min"
set .WAIT_LIMIT 30000
label *label83
sensor *tmp141 switch2 @enabled
jump *label85 equal *tmp141 false
control enabled switch2 false
jump *label87 greaterThanEq .TARGET 1
set .EFF_AUTO_ALLOCATION true
set .TARGET 1
set .DEC_LIMIT 0
set .INC_LIMIT 0
set .CORR_SIGN "[]([green]+"
set :corr_per_min 0
set .SPEED_UNIT_TXT "[])/min"
jump *label88 always
label *label87
set .EFF_AUTO_ALLOCATION false
op sub *tmp146 .TARGET 1
op max .TARGET *tmp146 0
set .CORR_SIGN "[]"
set :corr_per_min ""
set .SPEED_UNIT_TXT "/min"
select .AUTO_ALLOCATION_TXT equal .TARGET 0 "\n=== [salmon]Transport deactivated[] ===" ""
label *label88
set .WAIT_LIMIT 30000
label *label85
sensor *tmp150 :first_unit @dead
op strictEqual :alive *tmp150 0
op strictEqual *tmp152 @unit :first_unit
jump *label91 greaterThan :alive *tmp152
jump *label93 notEqual :active 0
print "\n[salmon]No active units.[]"
label *label93
printflush message2
set .STATE_LIMIT 6
sensor .ITEM .SORTER @config
jump *label95 equal .ITEM .LAST_ITEM
jump *label99 notEqual .ITEM null
label *label250
print "[salmon]No item type selected for transport.[]"
printflush message1
sensor .ITEM .SORTER @config
jump *label250 equal .ITEM null
label *label99
set .LAST_ITEM .ITEM
# "Function: def itemTypeToIcon(in itemType)"
sensor *tmp367 .ITEM @id
jump *label256 greaterThanEq *tmp367 16
multijump *label259 *tmp367 0
multilabel *label259
jump *label257 always
multilabel *label260
jump *label111 always
multilabel *label261
jump *label113 always
multilabel *label262
jump *label109 always
multilabel *label263
jump *label121 always
multilabel *label264
jump *label105 always
multilabel *label265
jump *label133 always
multilabel *label266
jump *label131 always
multilabel *label267
jump *label123 always
multilabel *label268
jump *label125 always
multilabel *label269
jump *label117 always
multilabel *label270
jump *label115 always
multilabel *label271
jump *label129 always
multilabel *label272
jump *label127 always
multilabel *label273
jump *label103 always
multilabel *label274
set *tmp163 "[]"
jump *label101 always
label *label103
set *tmp163 "[]"
jump *label101 always
label *label105
set *tmp163 "[]"
jump *label101 always
label *label257
jump *label256 strictEqual *tmp367 null
set *tmp163 "[]"
jump *label101 always
label *label109
set *tmp163 "[]"
jump *label101 always
label *label111
set *tmp163 "[]"
jump *label101 always
label *label113
set *tmp163 "[]"
jump *label101 always
label *label115
set *tmp163 "[]"
jump *label101 always
label *label117
set *tmp163 "[]"
jump *label101 always
label *label121
set *tmp163 "[]"
jump *label101 always
label *label123
set *tmp163 "[]"
jump *label101 always
label *label125
set *tmp163 "[]"
jump *label101 always
label *label127
set *tmp163 "[]"
jump *label101 always
label *label129
set *tmp163 "[]"
jump *label101 always
label *label131
set *tmp163 "[]"
jump *label101 always
label *label133
set *tmp163 "[]"
jump *label101 always
label *label256
set *tmp163 null
label *label101
set .ITEM_ICON *tmp163
set .STATE_LIMIT 1
sensor :last_level .CONTAINER .ITEM
set :min_level 999999
set :max_level 0
label *label95
sensor :container_items .CONTAINER .ITEM
op min :min_level :min_level :container_items
op max :max_level :max_level :container_items
op sub :loop_time @tick .LOOP_START
set .LOOP_START @tick
op mul *tmp171 :loop_time 100
op idiv :loop_time_ms *tmp171 6
jump *label136 greaterThanEq :transfers :active
jump *label134 lessThanEq :wait_time .WAIT_LIMIT
label *label136
op div *tmp176 :wait_time 100
op ceil *tmp177 *tmp176
op div :wait_time_str *tmp177 10
op sub :elapsed_ticks @tick .TRANSFER_START
set .TRANSFER_START @tick
op div :elapsed_ms :elapsed_ticks 0.06
op idiv *tmp182 :elapsed_ms 100
op div :elapsed_str *tmp182 10
op div :items_per_ms :transferred :elapsed_ms
op idiv :items_per_min :items_per_ms 0.000016666666666666667
set :transferred 0
set :transfers 0
jump *label138 equal .EFF_AUTO_ALLOCATION false
set .AUTO_ALLOCATION_TXT "\n=== [gold]Unit auto allocation[] ==="
op mul *tmp187 16.666666666666668 :loop_time
op add :turnaround_ms .TRAVEL_TIME *tmp187
op mul .WAIT_LIMIT :turnaround_ms .DEC_OVERALLOCATION
op idiv *tmp190 :turnaround_ms 100
op div :turnaround_str *tmp190 10
op div :items_per_ms_unit .UNIT_CAPACITY :turnaround_ms
op idiv :items_per_min_unit :items_per_ms_unit 0.000016666666666666667
op add *tmp195 :min_level :max_level
op div :this_level *tmp195 2
op sub *tmp197 :last_level :this_level
op mul :corr *tmp197 .FLOW_CORR_SIGN
op div :corr_per_ms :corr :elapsed_ms
set :last_level :this_level
op add :total_flow_per_ms :items_per_ms :corr_per_ms
op idiv :corr_per_min :corr_per_ms 0.000016666666666666667
select .CORR_SIGN greaterThanEq :corr_per_min 0 "[]([green]+" "[]([green]"
set .SPEED_UNIT_TXT "[])/min"
jump *label142 equal :alive false
op lessThan *tmp366 :min_level .LOW_LEVEL_TRIGGER
select *tmp208 greaterThan :max_level .HIGH_LEVEL_TRIGGER true *tmp366
jump *label150 equal :wait_time 0
jump *label148 lessThanEq *tmp208 :remote_wait_time
label *label150
jump *label152 equal STABILIZATION false
set :total_flow_3 :total_flow_2
set :total_flow_2 :total_flow_1
set :total_flow_1 :total_flow_per_ms
op add *tmp213 :total_flow_3 :total_flow_2
op add *tmp214 *tmp213 :total_flow_per_ms
op div :total_flow_per_ms *tmp214 3
label *label152
op div *tmp216 :total_flow_per_ms :items_per_ms_unit
op add *tmp217 *tmp216 OVERALLOCATION_LOW
op ceil :new_target *tmp217
op mul :level_boost 2 *tmp208
op add *tmp220 :new_target :level_boost
op min :new_target *tmp220 MAX_UNITS
op sub *tmp222 :new_target :active
op max *tmp223 *tmp222 0
op min :new_change *tmp223 .INC_LIMIT
set .INC_LIMIT 6
op lessThanEq *tmp225 :new_change 0
op mul .DEC_LIMIT *tmp225 -1
jump *label149 always
label *label148
op idiv *tmp227 :wait_time .WAIT_LIMIT
op mul *tmp228 -1 *tmp227
op max :new_change *tmp228 .DEC_LIMIT
op greaterThanEq *tmp230 :new_change 0
op mul .INC_LIMIT *tmp230 6
set .DEC_LIMIT -1
label *label149
op add *tmp232 :active :new_change
op max .TARGET *tmp232 1
jump *label143 always
label *label142
set .INC_LIMIT 0
set .DEC_LIMIT 0
label *label143
set :min_level 999999
set :max_level 0
label *label138
set :wait_time 0
set :remote_wait_time 0
label *label134
print "Moving [green]{0}[]"
format .ITEM
print .DIRECTION
print *tmp96
print .AUTO_ALLOCATION_TXT
jump *label156 lessThanEq .TARGET 0
jump *label158 lessThan :active .TARGET
print "\nUsing [green]{0}/{0}[] units ({0}) [gold]+"
format :active
format .TARGET
format UNIT
print :items_in_transit
jump *label159 always
label *label158
print "\nUsing [salmon]{0}/{0}[] units ({0}) [gold]+"
format :active
format .TARGET
format UNIT
print :items_in_transit
label *label159
jump *label160 lessThanEq .CHANGE 0
print "\n[][salmon]Cannot acquire additional units![]"
label *label160
label *label156
print "\n[]Local items: [gold]"
print :container_items
jump *label162 greaterThanEq .EFF_LOCAL_LIMIT 100
print "[] (limit [orange]{0}[])"
format .LOCAL_MARGIN
label *label162
jump *label164 equal .SHOW_REMOTE_LEVEL false
sensor :remote_level .CORE .ITEM
print "\n[]Remote items: [gold]"
print :remote_level
jump *label166 greaterThanEq .EFF_REMOTE_LIMIT 100
print "[] (limit [orange]{0}[])"
format .REMOTE_MARGIN
label *label166
label *label164
jump *label168 lessThanEq .TARGET 0
print "\n[]Speed: [green]"
print :items_per_min
print .CORR_SIGN
print :corr_per_min
print .SPEED_UNIT_TXT
jump *label170 equal .EFF_AUTO_ALLOCATION false
print "\nUnit throughput: [green]{0}[]/min\nMin/last round: [green]{0}[]/[green]{0}[] s"
format :items_per_min_unit
format :turnaround_str
format :elapsed_str
jump *label171 always
label *label170
print "\nLast round: [green]{0}[] s"
format :elapsed_str
label *label171
print "\nTotal wait time: [green]{0}[] s"
format :wait_time_str
label *label168
print "\n[lightgray]Loop: {0} ms"
format :loop_time_ms
printflush message1
op sub .CHANGE .TARGET :active
set :active 0
set :first_unit @unit
set :items_in_transit 0
print "Unit status:"
sensor *tmp253 .SRC @dead
jump *label79 notEqual *tmp253 0
sensor *tmp256 .DST @dead
jump *label79 notEqual *tmp256 0
sensor *tmp259 .SORTER @dead
jump *label79 notEqual *tmp259 0
getlink *tmp262 .CONTAINER_INDEX
jump *label79 notEqual .CONTAINER *tmp262
label *label91
jump *label180 lessThanEq .CHANGE 0
sensor *tmp267 @unit @controlled
jump *label182 notEqual *tmp267 0
op sub .CHANGE .CHANGE 1
ucontrol flag 1
label *label182
label *label180
sensor *tmp270 @unit @controller
jump *label77 notEqual *tmp270 @this
sensor :state @unit @flag
jump *label77 equal :state .S_UNUSED
op max *tmp276 :state 1
op min :state *tmp276 .STATE_LIMIT
jump *label188 greaterThanEq .CHANGE 0
jump *label190 equal :state 6
sensor *tmp282 @unit @totalItems
jump *label192 greaterThan *tmp282 .DISCARD_UNIT_MAX_ITEMS
op add .CHANGE .CHANGE 1
set :state 6
label *label192
label *label190
label *label188
jump *label194 notEqual :state 1
sensor *tmp287 @unit @totalItems
jump *label196 notEqual *tmp287 0
set :state 2
jump *label197 always
label *label196
sensor *tmp290 @unit @firstItem
jump *label198 notEqual *tmp290 .ITEM
set :state 4
jump *label199 always
label *label198
ucontrol approach .DROP_X .DROP_Y 6
ucontrol within .DROP_X .DROP_Y 8 *tmp293
jump *label200 equal *tmp293 false
ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
label *label200
print "[]\nUnloading previous items: [green]"
label *label199
label *label197
label *label194
jump *label202 notEqual :state 2
ucontrol approach .SRC_X .SRC_Y 6
ucontrol within .SRC_X .SRC_Y 8 *tmp297
jump *label204 equal *tmp297 false
set :state 3
jump *label205 always
label *label204
sensor *tmp299 @unit @x
op sub *tmp300 .SRC_X *tmp299
sensor *tmp301 @unit @y
op sub *tmp302 .SRC_Y *tmp301
op len *tmp303 *tmp300 *tmp302
op idiv *tmp304 *tmp303 .SPEED_SEC
op div *tmp305 *tmp304 10
print "[]\n[gold]{0} sec[] to source: [green]"
format *tmp305
label *label205
label *label202
jump *label206 notEqual :state 3
sensor *tmp308 .SRC .ITEM
op sub :max_load *tmp308 .LOAD_LEVEL
jump *label208 lessThan :max_load .LOAD_PACK
ucontrol itemTake .SRC .ITEM :max_load
label *label208
sensor *tmp312 @unit @totalItems
jump *label210 lessThan *tmp312 .UNIT_CAPACITY
set :state 4
jump *label211 always
label *label210
print "[]\nWaiting at source: [green]"
ucontrol approach .SRC_X .SRC_Y 6
op add :wait_time :wait_time :loop_time_ms
op mul *tmp315 :loop_time_ms .SRC_REMOTE_WAIT
op add :remote_wait_time :remote_wait_time *tmp315
label *label211
label *label206
jump *label212 notEqual :state 4
ucontrol approach .DST_X .DST_Y 6
ucontrol within .DST_X .DST_Y 8 *tmp318
jump *label214 equal *tmp318 false
sensor *tmp320 @unit @totalItems
op add :transferred :transferred *tmp320
op add :transfers :transfers 1
set :state 5
jump *label215 always
label *label214
sensor *tmp321 @unit @x
op sub *tmp322 .DST_X *tmp321
sensor *tmp323 @unit @y
op sub *tmp324 .DST_Y *tmp323
op len *tmp325 *tmp322 *tmp324
op idiv *tmp326 *tmp325 .SPEED_SEC
op div *tmp327 *tmp326 10
print "[]\n[gold]{0} sec[] to destination: [green]"
format *tmp327
label *label215
label *label212
jump *label216 notEqual :state 5
sensor *tmp330 .DST .ITEM
op sub :max_drop .DROP_LEVEL *tmp330
jump *label218 lessThan :max_drop .DROP_PACK
ucontrol itemDrop .DST :max_drop
label *label218
sensor *tmp334 @unit @totalItems
jump *label220 greaterThan *tmp334 0
set :state 2
ucontrol approach .SRC_X .SRC_Y 6
sensor *tmp338 @unit @x
op sub *tmp339 .SRC_X *tmp338
sensor *tmp340 @unit @y
op sub *tmp341 .SRC_Y *tmp340
op len *tmp342 *tmp339 *tmp341
op idiv *tmp343 *tmp342 .SPEED_SEC
op div *tmp344 *tmp343 10
print "[]\n[gold]{0} sec[] to source: [green]"
format *tmp344
jump *label221 always
label *label220
print "[]\nWaiting at destination: [green]"
ucontrol approach .DST_X .DST_Y 6
op add :wait_time :wait_time :loop_time_ms
op mul *tmp345 :loop_time_ms .DST_REMOTE_WAIT
op add :remote_wait_time :remote_wait_time *tmp345
label *label221
label *label216
sensor :items @unit @totalItems
op add :items_in_transit :items_in_transit :items
jump *label224 notEqual :state 6
print "[]\nParking: [green]"
ucontrol approach .DROP_X .DROP_Y 6
ucontrol within .DROP_X .DROP_Y 8 *tmp349
jump *label225 equal *tmp349 false
ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
sensor :items @unit @totalItems
jump *label225 greaterThan :items .PARK_ITEM_LIMIT
ucontrol move .PARK_X .PARK_Y
set :state .S_UNUSED
jump *label225 always
label *label224
op add :active :active 1
label *label225
print :items
print .ITEM_ICON
ucontrol flag :state
jump *label77 always
label *label79
sensor *tmp354 .SORTER @dead
op strictNotEqual *tmp355 *tmp354 0
jump *label232 equal *tmp355 false
label *label254
print "[salmon]sorter1 is missing![]\nPlease place and link sorter or inverted sorter to the processor."
printflush message1
printflush message2
sensor *tmp354 sorter1 @dead
op strictNotEqual *tmp355 *tmp354 0
jump *label254 notEqual *tmp355 false
label *label232
sensor *tmp356 .SRC @dead
op strictNotEqual *tmp357 *tmp356 0
jump *label235 notEqual *tmp357 false
sensor *tmp358 .DST @dead
op strictNotEqual *tmp359 *tmp358 0
jump *label233 equal *tmp359 false
label *label235
sensor *tmp361 switch1 @enabled
jump *label239 notEqual *tmp361 false
label *label255
sensor *tmp362 switch2 @enabled
jump *label239 notEqual *tmp362 false
print "[salmon]Local or remote container became invalid.\nPlease fix and press any button to reinitialize."
printflush message1
printflush message2
sensor *tmp361 switch1 @enabled
jump *label255 equal *tmp361 false
label *label239
label *label233
control enabled switch1 false
control enabled switch2 false
