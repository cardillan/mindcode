  1142 instructions before optimizations.
   104 instructions eliminated by Temp Variables Elimination (3 passes, 7 iterations).
     2 instructions eliminated by Case Expression Optimization.
   122 instructions eliminated by Dead Code Elimination (7 iterations).
     6 instructions eliminated by Jump Normalization (2 passes, 6 iterations).
    76 instructions eliminated by Condition Optimization (2 passes, 8 iterations).
    52 instructions eliminated by Single Step Elimination (3 passes, 9 iterations).
     2 instructions eliminated by Expression Optimization (2 passes, 3 iterations).
    32 instructions eliminated by Boolean Optimization (7 iterations).
       2 short-circuited expressions optimized using selects.
       1 final jumps of a short-circuited expression optimized.
       8 fully-evaluated expressions optimized using selects.
     1 instructions eliminated by If Expression Optimization (3 iterations).
    24 instructions eliminated by Data Flow Optimization (3 passes, 15 iterations).
     1 loops improved by Loop Hoisting.
     5 instructions added by Loop Rotation (3 iterations).
       13 loop conditions were partially rotated.
     3 instructions added by Case Switching (8 iterations).
     1 case expressions converted to switched jumps by Case Switching.
    25 instructions eliminated by Jump Straightening (2 passes, 8 iterations).
     6 instructions updated by Jump Threading.
     2 instructions eliminated by Unreachable Code Elimination (3 iterations).
    71 instructions eliminated by Print Merging.
   631 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 287):
  * Full loop rotation at line 172:9                             size    +1, benefit      325.0, efficiency    325.000 (-1 instructions)
    Partial loop rotation at line 184:13                         size    +1, benefit      156.3, efficiency    156.250
    Full loop rotation at line 692:1                             size    +2, benefit        1.0, efficiency      0.500
    Partial loop rotation at line 700:5                          size    +1, benefit       12.5, efficiency     12.500
    Convert case at line 712:5 (segments: 16)                    size    +2, benefit       19.5, efficiency      9.766
    Convert case at line 712:5 (segments: 1)                     size    +3, benefit       28.1, efficiency      9.375

Pass 1: speed optimization selection (cost limit 288):
  * Partial loop rotation at line 184:13                         size    +1, benefit      156.3, efficiency    156.250 (+1 instructions)
    Full loop rotation at line 692:1                             size    +2, benefit        1.0, efficiency      0.500
    Partial loop rotation at line 700:5                          size    +1, benefit       12.5, efficiency     12.500
    Convert case at line 712:5 (segments: 16)                    size    +2, benefit       19.5, efficiency      9.766
    Convert case at line 712:5 (segments: 1)                     size    +3, benefit       28.1, efficiency      9.375

Pass 1: speed optimization selection (cost limit 287):
    Full loop rotation at line 692:1                             size    +2, benefit        1.0, efficiency      0.500
  * Partial loop rotation at line 700:5                          size    +1, benefit       12.5, efficiency     12.500 (+1 instructions)
    Convert case at line 712:5 (segments: 16)                    size    +2, benefit       19.5, efficiency      9.766
    Convert case at line 712:5 (segments: 1)                     size    +3, benefit       28.1, efficiency      9.375

Pass 1: speed optimization selection (cost limit 286):
  * Full loop rotation at line 692:1                             size    +2, benefit        1.0, efficiency      0.500 (+2 instructions)
  o Convert case at line 712:5 (segments: 16)                    size    +2, benefit       19.5, efficiency      9.766
  o Convert case at line 712:5 (segments: 1)                     size    +3, benefit       28.1, efficiency      9.375

Pass 1: speed optimization selection (cost limit 284):
  o Convert case at line 712:5 (segments: 16)                    size    +2, benefit       19.5, efficiency      9.766
  * Convert case at line 712:5 (segments: 1)                     size    +3, benefit       28.1, efficiency      9.375 (+3 instructions)

Modifications by Initial phase, Case Expression Optimization, iteration 1 (-2 instructions):
 
   119 getlink *tmp27 :n
   120 set :block *tmp27
   121 sensor *tmp29 :block @type
-    * set *tmp30 *tmp29
-    * jump *label24 equal *tmp30 @vault
-    * jump *label24 equal *tmp30 @container
+  122 jump *label24 equal *tmp29 @vault
+  123 jump *label24 equal *tmp29 @container
   124 jump *label23 always
   125 label *label24
   126 set .DROP_TARGET .CONTAINER
 
   584 set .LAST_ITEM .ITEM
   585 # "Function: def itemTypeToIcon(in itemType)"
   586 set :itemTypeToIcon:itemType .ITEM
-    * set *tmp166 :itemTypeToIcon:itemType
-    * jump *label103 equal *tmp166 @blast-compound
+  587 jump *label103 equal :itemTypeToIcon:itemType @blast-compound
   588 jump *label102 always
   589 label *label103
   590 set *tmp165 "[]"
   591 jump *label101 always
   592 label *label102
-    * jump *label105 equal *tmp166 @coal
+  593 jump *label105 equal :itemTypeToIcon:itemType @coal
   594 jump *label104 always
   595 label *label105
   596 set *tmp165 "[]"
   597 jump *label101 always
   598 label *label104
-    * jump *label107 equal *tmp166 @copper
+  599 jump *label107 equal :itemTypeToIcon:itemType @copper
   600 jump *label106 always
   601 label *label107
   602 set *tmp165 "[]"
   603 jump *label101 always
   604 label *label106
-    * jump *label109 equal *tmp166 @graphite
+  605 jump *label109 equal :itemTypeToIcon:itemType @graphite
   606 jump *label108 always
   607 label *label109
   608 set *tmp165 "[]"
   609 jump *label101 always
   610 label *label108
-    * jump *label111 equal *tmp166 @lead
+  611 jump *label111 equal :itemTypeToIcon:itemType @lead
   612 jump *label110 always
   613 label *label111
   614 set *tmp165 "[]"
   615 jump *label101 always
   616 label *label110
-    * jump *label113 equal *tmp166 @metaglass
+  617 jump *label113 equal :itemTypeToIcon:itemType @metaglass
   618 jump *label112 always
   619 label *label113
   620 set *tmp165 "[]"
   621 jump *label101 always
   622 label *label112
-    * jump *label115 equal *tmp166 @phase-fabric
+  623 jump *label115 equal :itemTypeToIcon:itemType @phase-fabric
   624 jump *label114 always
   625 label *label115
   626 set *tmp165 "[]"
   627 jump *label101 always
   628 label *label114
-    * jump *label117 equal *tmp166 @plastanium
+  629 jump *label117 equal :itemTypeToIcon:itemType @plastanium
   630 jump *label116 always
   631 label *label117
   632 set *tmp165 "[]"
   633 jump *label101 always
   634 label *label116
-    * jump *label119 equal *tmp166 @pyratite
+  635 jump *label119 equal :itemTypeToIcon:itemType @pyratite
   636 jump *label118 always
   637 label *label119
   638 set *tmp165 "[]"
   639 jump *label101 always
   640 label *label118
-    * jump *label121 equal *tmp166 @sand
+  641 jump *label121 equal :itemTypeToIcon:itemType @sand
   642 jump *label120 always
   643 label *label121
   644 set *tmp165 "[]"
   645 jump *label101 always
   646 label *label120
-    * jump *label123 equal *tmp166 @scrap
+  647 jump *label123 equal :itemTypeToIcon:itemType @scrap
   648 jump *label122 always
   649 label *label123
   650 set *tmp165 "[]"
   651 jump *label101 always
   652 label *label122
-    * jump *label125 equal *tmp166 @silicon
+  653 jump *label125 equal :itemTypeToIcon:itemType @silicon
   654 jump *label124 always
   655 label *label125
   656 set *tmp165 "[]"
   657 jump *label101 always
   658 label *label124
-    * jump *label127 equal *tmp166 @spore-pod
+  659 jump *label127 equal :itemTypeToIcon:itemType @spore-pod
   660 jump *label126 always
   661 label *label127
   662 set *tmp165 "[]"
   663 jump *label101 always
   664 label *label126
-    * jump *label129 equal *tmp166 @surge-alloy
+  665 jump *label129 equal :itemTypeToIcon:itemType @surge-alloy
   666 jump *label128 always
   667 label *label129
   668 set *tmp165 "[]"
   669 jump *label101 always
   670 label *label128
-    * jump *label131 equal *tmp166 @thorium
+  671 jump *label131 equal :itemTypeToIcon:itemType @thorium
   672 jump *label130 always
   673 label *label131
   674 set *tmp165 "[]"
   675 jump *label101 always
   676 label *label130
-    * jump *label133 equal *tmp166 @titanium
+  677 jump *label133 equal :itemTypeToIcon:itemType @titanium
   678 jump *label132 always
   679 label *label133
   680 set *tmp165 "[]"

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-88 instructions):
 
    75 set *tmp18 false
    76 label *label9
    77 op add .TARGET .TARGET *tmp18
-    * set *tmp14 .TARGET
    78 jump *label7 always
    79 label *label6
-    * set *tmp14 null
    80 label *label7
    81 ubind UNIT
    82 op notEqual *tmp19 @unit :first_unit
 
   124 set .DROP_TARGET .CONTAINER
   125 set .CONTAINER :block
   126 set .CONTAINER_INDEX :n
-    * set *tmp28 .CONTAINER_INDEX
   127 jump *label22 always
   128 label *label23
-    * set *tmp28 null
   129 label *label22
   130 label *label20
   131 jump *label19 always
 
   134 jump *label25 equal *tmp31 false
   135 print "[salmon]No vault or container."
   136 printflush message1
-    * set *tmp32 null
   137 jump *label26 always
   138 label *label25
   139 jump *label18 always
-    * set *tmp32 null
   140 label *label26
   141 label *label17
   142 jump *label16 always
 
   156 ulocate building core false @copper .CORE_X .CORE_Y *tmp40 *tmp39
   157 set .CORE *tmp39
   158 ucontrol flag .S_UNUSED
-    * set *tmp38 null
   159 jump *label33 always
   160 label *label32
-    * set *tmp38 null
   161 label *label33
   162 label *label30
   163 jump *label29 always
   164 label *label31
   165 set .DISCARD_UNIT_MAX_ITEMS .UNIT_CAPACITY
-    * set *tmp34 .DISCARD_UNIT_MAX_ITEMS
   166 jump *label28 always
   167 label *label27
   168 printflush message2
 
   242 label *label52
   243 set *tmp61 null
   244 label *label53
-    * set *tmp50 *tmp61
   245 jump *label46 always
   246 label *label45
-    * set *tmp50 null
   247 label *label46
   248 ucontrol flag .S_UNUSED
   249 label *label35
   250 jump *label34 always
   251 label *label36
   252 set .DISCARD_UNIT_MAX_ITEMS 0
-    * set *tmp34 .DISCARD_UNIT_MAX_ITEMS
   253 label *label28
   254 set .SORTER sorter1
   255 sensor *tmp62 .SORTER @type
 
   268 jump *label59 equal *tmp65 false
   269 print "Block found: "
   270 print .SORTER
-    * set *tmp66 .SORTER
   271 jump *label60 always
   272 label *label59
-    * set *tmp66 null
   273 label *label60
   274 printflush message1
   275 set .SORTER sorter1
 
   311 set *tmp80 " from vault #"
   312 label *label64
   313 set .DIRECTION *tmp80
-    * set *tmp69 .DIRECTION
   314 jump *label62 always
   315 label *label61
   316 op greaterThan *tmp81 LINK_ID 0
 
   347 set *tmp94 " to vault #"
   348 label *label66
   349 set .DIRECTION *tmp94
-    * set *tmp69 .DIRECTION
   350 label *label62
   351 op equal *tmp95 LINK_ID 0
   352 jump *label67 equal *tmp95 false
 
   413 op equal *tmp127 LINK_ID 0
   414 op mul *tmp128 *tmp127 .UNIT_CAPACITY
   415 set .PARK_ITEM_LIMIT *tmp128
-    * set *tmp118 .PARK_ITEM_LIMIT
   416 jump *label70 always
   417 label *label69
   418 sensor *tmp129 .DROP_TARGET @x
 
   422 set .PARK_X .DROP_X
   423 set .PARK_Y .DROP_Y
   424 set .PARK_ITEM_LIMIT 0
-    * set *tmp118 .PARK_ITEM_LIMIT
   425 label *label70
   426 set *tmp131 @tick
   427 set .TRANSFER_START *tmp131
 
   452 set :corr_per_min 0
   453 set .SPEED_UNIT_TXT "[])/min"
   454 set .AUTO_ALLOCATION_TXT "\n=== [gold]Gathering statistics[] ==="
-    * set *tmp134 .AUTO_ALLOCATION_TXT
   455 jump *label76 always
   456 label *label75
   457 set .CORR_SIGN "[]"
   458 set :corr_per_min ""
   459 set .SPEED_UNIT_TXT "/min"
   460 set .AUTO_ALLOCATION_TXT ""
-    * set *tmp134 .AUTO_ALLOCATION_TXT
   461 label *label76
   462 label *label77
   463 jump *label79 equal true false
 
   487 set :corr_per_min ""
   488 set .SPEED_UNIT_TXT "/min"
   489 set .WAIT_LIMIT 30000
-    * set *tmp137 .WAIT_LIMIT
   490 jump *label84 always
   491 label *label83
-    * set *tmp137 null
   492 label *label84
   493 sensor *tmp142 switch2 @enabled
   494 jump *label85 equal *tmp142 false
 
   503 set .CORR_SIGN "[]([green]+"
   504 set :corr_per_min 0
   505 set .SPEED_UNIT_TXT "[])/min"
-    * set *tmp147 .SPEED_UNIT_TXT
   506 jump *label88 always
   507 label *label87
   508 set .EFF_AUTO_ALLOCATION false
 
   520 set *tmp151 ""
   521 label *label90
   522 set .AUTO_ALLOCATION_TXT *tmp151
-    * set *tmp147 .AUTO_ALLOCATION_TXT
   523 label *label88
   524 set .WAIT_LIMIT 30000
-    * set *tmp143 .WAIT_LIMIT
   525 jump *label86 always
   526 label *label85
-    * set *tmp143 null
   527 label *label86
   528 sensor *tmp152 :first_unit @dead
   529 op strictEqual *tmp153 *tmp152 0
 
   534 op equal *tmp157 :active 0
   535 jump *label93 equal *tmp157 false
   536 print "\n[salmon]No active units.[]"
-    * set *tmp158 "\n[salmon]No active units.[]"
   537 jump *label94 always
   538 label *label93
-    * set *tmp158 null
   539 label *label94
   540 printflush message2
   541 set .STATE_LIMIT 6
 
   662 set :last_level *tmp167
   663 set :min_level 999999
   664 set :max_level 0
-    * set *tmp161 :max_level
   665 jump *label96 always
   666 label *label95
-    * set *tmp161 null
   667 label *label96
   668 sensor *tmp168 .CONTAINER .ITEM
   669 set :container_items *tmp168
 
   737 op greaterThanEq *tmp205 :corr_per_min 0
   738 jump *label140 equal *tmp205 false
   739 set .CORR_SIGN "[]([green]+"
-    * set *tmp206 .CORR_SIGN
   740 jump *label141 always
   741 label *label140
-    * set *tmp206 null
   742 label *label141
   743 set .SPEED_UNIT_TXT "[])/min"
   744 jump *label142 equal :alive false
 
   770 op add *tmp216 *tmp215 :total_flow_1
   771 op div *tmp217 *tmp216 3
   772 set :total_flow_per_ms *tmp217
-    * set *tmp214 :total_flow_per_ms
   773 jump *label153 always
   774 label *label152
-    * set *tmp214 null
   775 label *label153
   776 op div *tmp218 :total_flow_per_ms :items_per_ms_unit
   777 op add *tmp219 *tmp218 .INC_OVERALLOCATION
 
   790 op lessThanEq *tmp227 :new_change 0
   791 op mul *tmp228 *tmp227 .DEC_MAX
   792 set .DEC_LIMIT *tmp228
-    * set *tmp213 .DEC_LIMIT
   793 jump *label149 always
   794 label *label148
   795 op idiv *tmp229 :wait_time .WAIT_LIMIT
 
   800 op mul *tmp233 *tmp232 .INC_MAX
   801 set .INC_LIMIT *tmp233
   802 set .DEC_LIMIT .DEC_MAX
-    * set *tmp213 .DEC_LIMIT
   803 label *label149
   804 op add *tmp234 :active :new_change
   805 op max *tmp235 *tmp234 1
   806 set .TARGET *tmp235
-    * set *tmp207 .TARGET
   807 jump *label143 always
   808 label *label142
   809 set .INC_LIMIT 0
   810 set .DEC_LIMIT 0
-    * set *tmp207 .DEC_LIMIT
   811 label *label143
   812 set :min_level 999999
   813 set :max_level 0
-    * set *tmp188 :max_level
   814 jump *label139 always
   815 label *label138
-    * set *tmp188 null
   816 label *label139
   817 set :wait_time 0
   818 set :remote_wait_time 0
 
   824 label *label154
   825 set *tmp237 null
   826 label *label155
-    * set *tmp177 *tmp237
   827 jump *label135 always
   828 label *label134
-    * set *tmp177 null
   829 label *label135
   830 print .MESSAGE
   831 print "Moving [green]"
 
   850 print ")"
   851 print " [gold]+"
   852 print :items_in_transit
-    * set *tmp241 null
   853 jump *label159 always
   854 label *label158
   855 print "\n"
 
   863 print ")"
   864 print " [gold]+"
   865 print :items_in_transit
-    * set *tmp241 null
   866 label *label159
   867 op greaterThan *tmp242 .CHANGE 0
   868 jump *label160 equal *tmp242 false
 
   872 label *label160
   873 set *tmp243 null
   874 label *label161
-    * set *tmp239 *tmp243
   875 jump *label157 always
   876 label *label156
-    * set *tmp239 null
   877 label *label157
   878 print "\n"
   879 print "[]Local items: [gold]"
 
   884 print .LOCAL_MARGIN
   885 print "["
   886 print "])"
-    * set *tmp245 null
   887 jump *label163 always
   888 label *label162
-    * set *tmp245 null
   889 label *label163
   890 jump *label164 equal .SHOW_REMOTE_LEVEL false
   891 sensor *tmp247 .CORE .ITEM
 
   904 label *label166
   905 set *tmp249 null
   906 label *label167
-    * set *tmp246 *tmp249
   907 jump *label165 always
   908 label *label164
-    * set *tmp246 null
   909 label *label165
   910 op greaterThan *tmp250 .TARGET 0
   911 jump *label168 equal *tmp250 false
 
   929 print :elapsed_str
   930 print "["
   931 print "] s"
-    * set *tmp252 null
   932 jump *label171 always
   933 label *label170
   934 print "\n"
 
   936 print :elapsed_str
   937 print "["
   938 print "] s"
-    * set *tmp252 null
   939 label *label171
   940 print "\n"
   941 print "Total wait time: [green]"
   942 print :wait_time_str
   943 print "["
   944 print "] s"
-    * set *tmp251 null
   945 jump *label169 always
   946 label *label168
-    * set *tmp251 null
   947 label *label169
   948 print "\n"
   949 print "[lightgray]Loop: "
 
   962 op notEqual *tmp256 *tmp255 0
   963 jump *label172 equal *tmp256 false
   964 jump *label79 always
-    * set *tmp257 null
   965 jump *label173 always
   966 label *label172
-    * set *tmp257 null
   967 label *label173
   968 sensor *tmp258 .DST @dead
   969 op notEqual *tmp259 *tmp258 0
   970 jump *label174 equal *tmp259 false
   971 jump *label79 always
-    * set *tmp260 null
   972 jump *label175 always
   973 label *label174
-    * set *tmp260 null
   974 label *label175
   975 sensor *tmp261 .SORTER @dead
   976 op notEqual *tmp262 *tmp261 0
   977 jump *label176 equal *tmp262 false
   978 jump *label79 always
-    * set *tmp263 null
   979 jump *label177 always
   980 label *label176
-    * set *tmp263 null
   981 label *label177
   982 getlink *tmp264 .CONTAINER_INDEX
   983 op notEqual *tmp265 .CONTAINER *tmp264
 
   988 label *label178
   989 set *tmp266 null
   990 label *label179
-    * set *tmp156 *tmp266
   991 jump *label92 always
   992 label *label91
-    * set *tmp156 null
   993 label *label92
   994 op greaterThan *tmp267 .CHANGE 0
   995 jump *label180 equal *tmp267 false
 
  1003 label *label182
  1004 set *tmp271 null
  1005 label *label183
-    * set *tmp268 *tmp271
  1006 jump *label181 always
  1007 label *label180
-    * set *tmp268 null
  1008 label *label181
  1009 sensor *tmp272 @unit @controller
  1010 op equal *tmp273 *tmp272 @this
 
  1035 label *label190
  1036 set *tmp283 null
  1037 label *label191
-    * set *tmp281 *tmp283
  1038 jump *label189 always
  1039 label *label188
-    * set *tmp281 null
  1040 label *label189
  1041 op equal *tmp287 :state 1
  1042 jump *label194 equal *tmp287 false
 
  1058 ucontrol within .DROP_X .DROP_Y 8 *tmp295
  1059 jump *label200 equal *tmp295 false
  1060 ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
-    * set *tmp296 null
  1061 jump *label201 always
  1062 label *label200
-    * set *tmp296 null
  1063 label *label201
  1064 print "[]"
  1065 print "\n"
 
  1068 label *label199
  1069 set *tmp291 *tmp294
  1070 label *label197
-    * set *tmp288 *tmp291
  1071 jump *label195 always
  1072 label *label194
-    * set *tmp288 null
  1073 label *label195
  1074 op equal *tmp297 :state 2
  1075 jump *label202 equal *tmp297 false
 
  1095 print "sec[] to source: [green]"
  1096 set *tmp300 null
  1097 label *label205
-    * set *tmp298 *tmp300
  1098 jump *label203 always
  1099 label *label202
-    * set *tmp298 null
  1100 label *label203
  1101 op equal *tmp308 :state 3
  1102 jump *label206 equal *tmp308 false
 
  1106 op greaterThanEq *tmp312 :max_load .LOAD_PACK
  1107 jump *label208 equal *tmp312 false
  1108 ucontrol itemTake .SRC .ITEM :max_load
-    * set *tmp313 null
  1109 jump *label209 always
  1110 label *label208
-    * set *tmp313 null
  1111 label *label209
  1112 sensor *tmp314 @unit @totalItems
  1113 op greaterThanEq *tmp315 *tmp314 .UNIT_CAPACITY
 
  1125 op add :remote_wait_time :remote_wait_time *tmp317
  1126 set *tmp316 :remote_wait_time
  1127 label *label211
-    * set *tmp309 *tmp316
  1128 jump *label207 always
  1129 label *label206
-    * set *tmp309 null
  1130 label *label207
  1131 op equal *tmp318 :state 4
  1132 jump *label212 equal *tmp318 false
 
  1155 print "sec[] to destination: [green]"
  1156 set *tmp321 null
  1157 label *label215
-    * set *tmp319 *tmp321
  1158 jump *label213 always
  1159 label *label212
-    * set *tmp319 null
  1160 label *label213
  1161 op equal *tmp330 :state 5
  1162 jump *label216 equal *tmp330 false
 
  1166 op greaterThanEq *tmp334 :max_drop .DROP_PACK
  1167 jump *label218 equal *tmp334 false
  1168 ucontrol itemDrop .DST :max_drop
-    * set *tmp335 null
  1169 jump *label219 always
  1170 label *label218
-    * set *tmp335 null
  1171 label *label219
  1172 sensor *tmp336 @unit @totalItems
  1173 op lessThanEq *tmp337 *tmp336 0
 
  1199 op add :remote_wait_time :remote_wait_time *tmp346
  1200 set *tmp338 :remote_wait_time
  1201 label *label221
-    * set *tmp331 *tmp338
  1202 jump *label217 always
  1203 label *label216
-    * set *tmp331 null
  1204 label *label217
  1205 sensor *tmp347 @unit @totalItems
  1206 set :items *tmp347
 
  1230 label *label224
  1231 set *tmp351 null
  1232 label *label225
-    * set *tmp349 *tmp351
  1233 jump *label223 always
  1234 label *label222
  1235 op add :active :active 1
-    * set *tmp349 :active
  1236 label *label223
  1237 print :items
  1238 print .ITEM_ICON
 
  1242 label *label186
  1243 set *tmp277 null
  1244 label *label187
-    * set *tmp274 *tmp277
  1245 jump *label185 always
  1246 label *label184
-    * set *tmp274 null
  1247 label *label185
  1248 label *label78
  1249 jump *label77 always
 
  1282 label *label236
  1283 jump *label235 always
  1284 label *label237
-    * set *tmp361 null
  1285 jump *label232 always
  1286 label *label231
-    * set *tmp361 null
  1287 label *label232
  1288 set *tmp364 switch1
  1289 control enabled *tmp364 false

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-28 instructions):
 
   237 print "is not a vault!"
   238 printflush message2
   239 set .CORE null
-    * set *tmp61 .CORE
   240 jump *label53 always
   241 label *label52
-    * set *tmp61 null
   242 label *label53
   243 jump *label46 always
   244 label *label45
 
   817 op greaterThanEq *tmp236 @tick .MESSAGE_TIMEOUT
   818 jump *label154 equal *tmp236 false
   819 set .MESSAGE ""
-    * set *tmp237 .MESSAGE
   820 jump *label155 always
   821 label *label154
-    * set *tmp237 null
   822 label *label155
   823 jump *label135 always
   824 label *label134
 
   863 op greaterThan *tmp242 .CHANGE 0
   864 jump *label160 equal *tmp242 false
   865 print "\n[][salmon]Cannot acquire additional units![]"
-    * set *tmp243 "\n[][salmon]Cannot acquire additional units![]"
   866 jump *label161 always
   867 label *label160
-    * set *tmp243 null
   868 label *label161
   869 jump *label157 always
   870 label *label156
 
   893 print .REMOTE_MARGIN
   894 print "["
   895 print "])"
-    * set *tmp249 null
   896 jump *label167 always
   897 label *label166
-    * set *tmp249 null
   898 label *label167
   899 jump *label165 always
   900 label *label164
 
   975 op notEqual *tmp265 .CONTAINER *tmp264
   976 jump *label178 equal *tmp265 false
   977 jump *label79 always
-    * set *tmp266 null
   978 jump *label179 always
   979 label *label178
-    * set *tmp266 null
   980 label *label179
   981 jump *label92 always
   982 label *label91
 
   988 jump *label182 equal *tmp270 false
   989 op sub .CHANGE .CHANGE 1
   990 ucontrol flag 1
-    * set *tmp271 null
   991 jump *label183 always
   992 label *label182
-    * set *tmp271 null
   993 label *label183
   994 jump *label181 always
   995 label *label180
 
  1018 label *label192
  1019 set *tmp286 null
  1020 label *label193
-    * set *tmp283 *tmp286
  1021 jump *label191 always
  1022 label *label190
-    * set *tmp283 null
  1023 label *label191
  1024 jump *label189 always
  1025 label *label188
 
  1030 op equal *tmp290 *tmp289 0
  1031 jump *label196 equal *tmp290 false
  1032 set :state 2
-    * set *tmp291 :state
  1033 jump *label197 always
  1034 label *label196
  1035 sensor *tmp292 @unit @firstItem
 
  1051 print "Unloading previous items: [green]"
  1052 set *tmp294 null
  1053 label *label199
-    * set *tmp291 *tmp294
  1054 label *label197
  1055 jump *label195 always
  1056 label *label194
 
  1061 ucontrol within .SRC_X .SRC_Y 8 *tmp299
  1062 jump *label204 equal *tmp299 false
  1063 set :state 3
-    * set *tmp300 :state
  1064 jump *label205 always
  1065 label *label204
  1066 sensor *tmp301 @unit @x
 
  1076 print *tmp307
  1077 print " "
  1078 print "sec[] to source: [green]"
-    * set *tmp300 null
  1079 label *label205
  1080 jump *label203 always
  1081 label *label202
 
  1095 op greaterThanEq *tmp315 *tmp314 .UNIT_CAPACITY
  1096 jump *label210 equal *tmp315 false
  1097 set :state 4
-    * set *tmp316 :state
  1098 jump *label211 always
  1099 label *label210
  1100 print "[]"
 
  1104 op add :wait_time :wait_time :loop_time_ms
  1105 op mul *tmp317 :loop_time_ms .SRC_REMOTE_WAIT
  1106 op add :remote_wait_time :remote_wait_time *tmp317
-    * set *tmp316 :remote_wait_time
  1107 label *label211
  1108 jump *label207 always
  1109 label *label206
 
  1117 op add :transferred :transferred *tmp322
  1118 op add :transfers :transfers 1
  1119 set :state 5
-    * set *tmp321 :state
  1120 jump *label215 always
  1121 label *label214
  1122 sensor *tmp323 @unit @x
 
  1132 print *tmp329
  1133 print " "
  1134 print "sec[] to destination: [green]"
-    * set *tmp321 null
  1135 label *label215
  1136 jump *label213 always
  1137 label *label212
 
  1165 print *tmp345
  1166 print " "
  1167 print "sec[] to source: [green]"
-    * set *tmp338 null
  1168 jump *label221 always
  1169 label *label220
  1170 print "[]"
 
  1174 op add :wait_time :wait_time :loop_time_ms
  1175 op mul *tmp346 :loop_time_ms .DST_REMOTE_WAIT
  1176 op add :remote_wait_time :remote_wait_time *tmp346
-    * set *tmp338 :remote_wait_time
  1177 label *label221
  1178 jump *label217 always
  1179 label *label216
 
  1201 label *label226
  1202 set *tmp354 null
  1203 label *label227
-    * set *tmp351 *tmp354
  1204 jump *label225 always
  1205 label *label224
-    * set *tmp351 null
  1206 label *label225
  1207 jump *label223 always
  1208 label *label222
 
  1211 print :items
  1212 print .ITEM_ICON
  1213 ucontrol flag :state
-    * set *tmp277 null
  1214 jump *label187 always
  1215 label *label186
-    * set *tmp277 null
  1216 label *label187
  1217 jump *label185 always
  1218 label *label184

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-6 instructions):
 
  1013 jump *label192 equal *tmp285 false
  1014 op add .CHANGE .CHANGE 1
  1015 set :state 6
-    * set *tmp286 :state
  1016 jump *label193 always
  1017 label *label192
-    * set *tmp286 null
  1018 label *label193
  1019 jump *label191 always
  1020 label *label190
 
  1034 op equal *tmp293 *tmp292 .ITEM
  1035 jump *label198 equal *tmp293 false
  1036 set :state 4
-    * set *tmp294 :state
  1037 jump *label199 always
  1038 label *label198
  1039 ucontrol approach .DROP_X .DROP_Y 6
 
  1046 print "[]"
  1047 print "\n"
  1048 print "Unloading previous items: [green]"
-    * set *tmp294 null
  1049 label *label199
  1050 label *label197
  1051 jump *label195 always
 
  1192 jump *label226 equal *tmp353 false
  1193 ucontrol move .PARK_X .PARK_Y
  1194 set :state .S_UNUSED
-    * set *tmp354 :state
  1195 jump *label227 always
  1196 label *label226
-    * set *tmp354 null
  1197 label *label227
  1198 jump *label225 always
  1199 label *label224

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-101 instructions):
 
    14 set .CORE_X .CORE_Y
    15 set .CONTAINER_INDEX .CORE_X
    16 set .MESSAGE ""
-    * op max *tmp0 LOCAL_LIMIT 20
-    * set .EFF_LOCAL_LIMIT *tmp0
-    * op max *tmp1 REMOTE_LIMIT 20
-    * set .EFF_REMOTE_LIMIT *tmp1
+   17 op max .EFF_LOCAL_LIMIT LOCAL_LIMIT 20
+   18 op max .EFF_REMOTE_LIMIT REMOTE_LIMIT 20
    19 set .EFF_AUTO_ALLOCATION AUTO_ALLOCATION
    20 set .TRIGGER_LEVEL 0.9
-    * op mul *tmp2 -1 HOUSEKEEPING
-    * set .S_UNUSED *tmp2
+   21 op mul .S_UNUSED -1 HOUSEKEEPING
    22 set .LOOPS 1
    23 op mul *tmp3 .LOOPS 1000
-    * op div *tmp4 *tmp3 60
-    * set .LOOPS_TICKS_TO_MS *tmp4
+   24 op div .LOOPS_TICKS_TO_MS *tmp3 60
    25 set .INC_OVERALLOCATION OVERALLOCATION_LOW
-    * op add *tmp5 1 OVERALLOCATION_HIGH
-    * set .DEC_OVERALLOCATION *tmp5
+   26 op add .DEC_OVERALLOCATION 1 OVERALLOCATION_HIGH
    27 set .TRIGGER_BOOST 2
    28 set .INC_MAX 6
    29 set .DEC_MAX -1
 
    40 label *label1
    41 jump *label0 always
    42 label *label2
-    * set *tmp7 @unit
-    * set :first_unit *tmp7
+   43 set :first_unit @unit
    44 sensor *tmp8 @unit @speed
-    * op div *tmp9 *tmp8 10
-    * set .SPEED_SEC *tmp9
+   45 op div .SPEED_SEC *tmp8 10
    46 sensor *tmp10 @unit @speed
-    * op div *tmp11 *tmp10 1000
-    * set .SPEED *tmp11
+   47 op div .SPEED *tmp10 1000
    48 set .TARGET 0
    49 set :repeat true
    50 label *label3
 
    52 sensor *tmp12 @unit @controller
    53 op equal *tmp13 *tmp12 @this
    54 jump *label6 equal *tmp13 false
-    * sensor *tmp15 @unit @flag
-    * set :state *tmp15
+   55 sensor :state @unit @flag
    56 op greaterThanEq *tmp16 :state 1
    57 jump *label8 equal *tmp16 false
    58 label *label11
 
    91 set :active .TARGET
    92 set .DEC_LIMIT 0
    93 set .INC_LIMIT 0
-    * sensor *tmp23 @unit @itemCapacity
-    * set .UNIT_CAPACITY *tmp23
+   94 sensor .UNIT_CAPACITY @unit @itemCapacity
    95 set :first_unit null
    96 label *label16
    97 jump *label18 equal true false
    98 set .CONTAINER null
    99 set .DROP_TARGET null
-    * set *tmp24 @links
-    * set :n *tmp24
+  100 set :n @links
   101 label *label19
   102 op greaterThan *tmp25 :n 0
   103 jump *label21 equal *tmp25 false
-    * op sub *tmp26 :n 1
-    * set :n *tmp26
-    * getlink *tmp27 :n
-    * set :block *tmp27
+  104 op sub :n :n 1
+  105 getlink :block :n
   106 sensor *tmp29 :block @type
   107 jump *label24 equal *tmp29 @vault
   108 jump *label24 equal *tmp29 @container
 
   140 sensor *tmp36 @unit @controlled
   141 op equal *tmp37 *tmp36 0
   142 jump *label32 equal *tmp37 false
-    * ulocate building core false @copper .CORE_X .CORE_Y *tmp40 *tmp39
-    * set .CORE *tmp39
+  143 ulocate building core false @copper .CORE_X .CORE_Y *tmp40 .CORE
   144 ucontrol flag .S_UNUSED
   145 jump *label33 always
   146 label *label32
 
   160 label *label34
   161 op equal *tmp41 .CORE null
   162 jump *label36 equal *tmp41 false
-    * op add *tmp42 99999900 LINK_ID
-    * set .QUERY_FLAG *tmp42
+  163 op add .QUERY_FLAG 99999900 LINK_ID
   164 set :flag .QUERY_FLAG
   165 ubind UNIT
   166 label *label37
 
   182 jump *label43 always
   183 label *label43
   184 ucontrol stop
-    * sensor *tmp48 @unit @flag
-    * set :flag *tmp48
+  185 sensor :flag @unit @flag
   186 label *label41
   187 jump *label40 always
   188 label *label42
   189 op notEqual *tmp49 :flag .QUERY_FLAG
   190 jump *label45 equal *tmp49 false
-    * op idiv *tmp51 :flag 100
-    * set :position *tmp51
-    * op mod *tmp52 :position @mapw
-    * set .CORE_X *tmp52
-    * op idiv *tmp53 :position @mapw
-    * set .CORE_Y *tmp53
+  191 op idiv :position :flag 100
+  192 op mod .CORE_X :position @mapw
+  193 op idiv .CORE_Y :position @mapw
   194 label *label47
   195 sensor *tmp54 @unit @dead
   196 op equal *tmp55 *tmp54 0
 
   205 label *label48
   206 jump *label47 always
   207 label *label49
-    * ucontrol getBlock .CORE_X .CORE_Y :b_type *tmp58 *tmp59
-    * set .CORE *tmp58
+  208 ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE *tmp59
   209 op notEqual *tmp60 :b_type @vault
   210 jump *label52 equal *tmp60 false
   211 print "[salmon]Building at "
 
   230 set .DISCARD_UNIT_MAX_ITEMS 0
   231 label *label28
   232 set .SORTER sorter1
-    * sensor *tmp62 .SORTER @type
-    * set :sorter_type *tmp62
+  233 sensor :sorter_type .SORTER @type
   234 label *label54
   235 op notEqual *tmp63 :sorter_type @sorter
   236 jump *label56 equal *tmp63 false
 
   250 label *label60
   251 printflush message1
   252 set .SORTER sorter1
-    * sensor *tmp67 .SORTER @type
-    * set :sorter_type *tmp67
+  253 sensor :sorter_type .SORTER @type
   254 label *label55
   255 jump *label54 always
   256 label *label56
 
   259 set .SHOW_REMOTE_LEVEL true
   260 set .SRC .CORE
   261 set .DST .CONTAINER
-    * sensor *tmp70 .SRC @itemCapacity
-    * set :src_capacity *tmp70
-    * sensor *tmp71 .DST @itemCapacity
-    * set :dst_capacity *tmp71
+  262 sensor :src_capacity .SRC @itemCapacity
+  263 sensor :dst_capacity .DST @itemCapacity
   264 op sub *tmp72 100 .EFF_REMOTE_LIMIT
   265 op mul *tmp73 :src_capacity *tmp72
-    * op idiv *tmp74 *tmp73 100
-    * set .LOAD_LEVEL *tmp74
+  266 op idiv .LOAD_LEVEL *tmp73 100
   267 op mul *tmp75 :dst_capacity .EFF_LOCAL_LIMIT
-    * op idiv *tmp76 *tmp75 100
-    * set .DROP_LEVEL *tmp76
+  268 op idiv .DROP_LEVEL *tmp75 100
   269 set .LOCAL_MARGIN .DROP_LEVEL
   270 set .REMOTE_MARGIN .LOAD_LEVEL
   271 op sub *tmp77 1 .TRIGGER_LEVEL
-    * op mul *tmp78 :dst_capacity *tmp77
-    * set .LOW_LEVEL_TRIGGER *tmp78
+  272 op mul .LOW_LEVEL_TRIGGER :dst_capacity *tmp77
   273 set .HIGH_LEVEL_TRIGGER :dst_capacity
   274 set .FLOW_CORR_SIGN 1
   275 set .SRC_REMOTE_WAIT 1
 
   284 set .DIRECTION *tmp80
   285 jump *label62 always
   286 label *label61
-    * op greaterThan *tmp81 LINK_ID 0
-    * set .SHOW_REMOTE_LEVEL *tmp81
+  287 op greaterThan .SHOW_REMOTE_LEVEL LINK_ID 0
   288 set .SRC .CONTAINER
   289 set .DST .CORE
-    * sensor *tmp82 .SRC @itemCapacity
-    * set :src_capacity *tmp82
-    * sensor *tmp83 .DST @itemCapacity
-    * set :dst_capacity *tmp83
+  290 sensor :src_capacity .SRC @itemCapacity
+  291 sensor :dst_capacity .DST @itemCapacity
   292 op sub *tmp84 100 .EFF_LOCAL_LIMIT
   293 op mul *tmp85 :src_capacity *tmp84
-    * op idiv *tmp86 *tmp85 100
-    * set .LOAD_LEVEL *tmp86
+  294 op idiv .LOAD_LEVEL *tmp85 100
   295 op mul *tmp87 :dst_capacity .EFF_REMOTE_LIMIT
   296 op idiv *tmp88 *tmp87 100
   297 op equal *tmp89 LINK_ID 0
   298 op mul *tmp90 *tmp89 .UNIT_CAPACITY
-    * op add *tmp91 *tmp88 *tmp90
-    * set .DROP_LEVEL *tmp91
+  299 op add .DROP_LEVEL *tmp88 *tmp90
   300 set .LOCAL_MARGIN .LOAD_LEVEL
   301 set .REMOTE_MARGIN .DROP_LEVEL
-    * op mul *tmp92 :src_capacity .TRIGGER_LEVEL
-    * set .HIGH_LEVEL_TRIGGER *tmp92
+  302 op mul .HIGH_LEVEL_TRIGGER :src_capacity .TRIGGER_LEVEL
   303 set .LOW_LEVEL_TRIGGER 0
   304 set .FLOW_CORR_SIGN -1
   305 set .SRC_REMOTE_WAIT 0
 
   322 label *label68
   323 set .LINK_TXT *tmp96
   324 op sub *tmp97 :src_capacity .LOAD_LEVEL
-    * op min *tmp98 .UNIT_CAPACITY *tmp97
-    * set .LOAD_PACK *tmp98
-    * op min *tmp99 .UNIT_CAPACITY .DROP_LEVEL
-    * set .DROP_PACK *tmp99
-    * sensor *tmp100 .SRC @x
-    * set .SRC_X *tmp100
-    * sensor *tmp101 .SRC @y
-    * set .SRC_Y *tmp101
-    * sensor *tmp102 .DST @x
-    * set .DST_X *tmp102
-    * sensor *tmp103 .DST @y
-    * set .DST_Y *tmp103
+  325 op min .LOAD_PACK .UNIT_CAPACITY *tmp97
+  326 op min .DROP_PACK .UNIT_CAPACITY .DROP_LEVEL
+  327 sensor .SRC_X .SRC @x
+  328 sensor .SRC_Y .SRC @y
+  329 sensor .DST_X .DST @x
+  330 sensor .DST_Y .DST @y
   331 op sub *tmp104 .DST_X .SRC_X
   332 op sub *tmp105 .DST_Y .SRC_Y
   333 op len *tmp106 *tmp104 *tmp105
   334 op sub *tmp107 *tmp106 6
-    * op sub *tmp108 *tmp107 8
-    * set .DISTANCE *tmp108
+  335 op sub .DISTANCE *tmp107 8
   336 op max *tmp109 .DISTANCE 10
   337 op mul *tmp110 2 *tmp109
-    * op div *tmp111 *tmp110 .SPEED
-    * set .TRAVEL_TIME *tmp111
+  338 op div .TRAVEL_TIME *tmp110 .SPEED
   339 op sub *tmp112 .DST_X .SRC_X
   340 op sub *tmp113 .DST_Y .SRC_Y
   341 op len *tmp114 *tmp112 *tmp113
   342 op sub *tmp115 *tmp114 6
-    * op div *tmp116 *tmp115 100
-    * set .DISTANCE *tmp116
+  343 op div .DISTANCE *tmp115 100
   344 op equal *tmp117 .DROP_TARGET null
   345 jump *label69 equal *tmp117 false
   346 set .DROP_TARGET .CORE
 
   354 label *label71
   355 set *tmp121 -15
   356 label *label72
-    * op add *tmp122 .CORE_X *tmp121
-    * set .PARK_X *tmp122
+  357 op add .PARK_X .CORE_X *tmp121
   358 sensor *tmp123 .CONTAINER @y
   359 op lessThan *tmp124 *tmp123 .CORE_Y
   360 jump *label73 equal *tmp124 false
 
   363 label *label73
   364 set *tmp125 -15
   365 label *label74
-    * op add *tmp126 .CORE_Y *tmp125
-    * set .PARK_Y *tmp126
+  366 op add .PARK_Y .CORE_Y *tmp125
   367 op equal *tmp127 LINK_ID 0
-    * op mul *tmp128 *tmp127 .UNIT_CAPACITY
-    * set .PARK_ITEM_LIMIT *tmp128
+  368 op mul .PARK_ITEM_LIMIT *tmp127 .UNIT_CAPACITY
   369 jump *label70 always
   370 label *label69
-    * sensor *tmp129 .DROP_TARGET @x
-    * set .DROP_X *tmp129
-    * sensor *tmp130 .DROP_TARGET @y
-    * set .DROP_Y *tmp130
+  371 sensor .DROP_X .DROP_TARGET @x
+  372 sensor .DROP_Y .DROP_TARGET @y
   373 set .PARK_X .DROP_X
   374 set .PARK_Y .DROP_Y
   375 set .PARK_ITEM_LIMIT 0
   376 label *label70
-    * set *tmp131 @tick
-    * set .TRANSFER_START *tmp131
-    * op sub *tmp132 @tick 60
-    * set .LOOP_START *tmp132
+  377 set .TRANSFER_START @tick
+  378 op sub .LOOP_START @tick 60
   379 set .LAST_ITEM @mono
-    * op add *tmp133 @tick 600
-    * set .MESSAGE_TIMEOUT *tmp133
+  380 op add .MESSAGE_TIMEOUT @tick 600
   381 set .WAIT_LIMIT 30000
   382 set :items_in_transit 0
   383 set :items_per_min_unit "--"
 
   424 label *label82
   425 sensor *tmp136 switch1 @enabled
   426 jump *label83 equal *tmp136 false
-    * set *tmp138 switch1
-    * control enabled *tmp138 false
+  427 control enabled switch1 false
   428 set .EFF_AUTO_ALLOCATION false
   429 set .AUTO_ALLOCATION_TXT ""
   430 op add *tmp140 .TARGET 1
-    * op min *tmp141 *tmp140 MAX_UNITS
-    * set .TARGET *tmp141
+  431 op min .TARGET *tmp140 MAX_UNITS
   432 set .CORR_SIGN "[]"
   433 set :corr_per_min ""
   434 set .SPEED_UNIT_TXT "/min"
 
   438 label *label84
   439 sensor *tmp142 switch2 @enabled
   440 jump *label85 equal *tmp142 false
-    * set *tmp144 switch2
-    * control enabled *tmp144 false
+  441 control enabled switch2 false
   442 op lessThan *tmp146 .TARGET 1
   443 jump *label87 equal *tmp146 false
   444 set .EFF_AUTO_ALLOCATION true
 
   452 label *label87
   453 set .EFF_AUTO_ALLOCATION false
   454 op sub *tmp148 .TARGET 1
-    * op max *tmp149 *tmp148 0
-    * set .TARGET *tmp149
+  455 op max .TARGET *tmp148 0
   456 set .CORR_SIGN "[]"
   457 set :corr_per_min ""
   458 set .SPEED_UNIT_TXT "/min"
 
   470 label *label85
   471 label *label86
   472 sensor *tmp152 :first_unit @dead
-    * op strictEqual *tmp153 *tmp152 0
-    * set :alive *tmp153
+  473 op strictEqual :alive *tmp152 0
   474 op strictEqual *tmp154 @unit :first_unit
   475 op lessThanEq *tmp155 :alive *tmp154
   476 jump *label91 equal *tmp155 false
 
   482 label *label94
   483 printflush message2
   484 set .STATE_LIMIT 6
-    * sensor *tmp159 .SORTER @config
-    * set .ITEM *tmp159
+  485 sensor .ITEM .SORTER @config
   486 op notEqual *tmp160 .ITEM .LAST_ITEM
   487 jump *label95 equal *tmp160 false
   488 label *label97
 
   490 jump *label99 equal *tmp162 false
   491 print "[salmon]No item type selected for transport.[]"
   492 printflush message1
-    * sensor *tmp163 .SORTER @config
-    * set .ITEM *tmp163
+  493 sensor .ITEM .SORTER @config
   494 label *label98
   495 jump *label97 always
   496 label *label99
 
   599 label *label100
   600 set .ITEM_ICON *tmp164
   601 set .STATE_LIMIT 1
-    * sensor *tmp167 .CONTAINER .ITEM
-    * set :last_level *tmp167
+  602 sensor :last_level .CONTAINER .ITEM
   603 set :min_level 999999
   604 set :max_level 0
   605 jump *label96 always
   606 label *label95
   607 label *label96
-    * sensor *tmp168 .CONTAINER .ITEM
-    * set :container_items *tmp168
-    * op min *tmp169 :min_level :container_items
-    * set :min_level *tmp169
-    * op max *tmp170 :max_level :container_items
-    * set :max_level *tmp170
-    * op sub *tmp171 @tick .LOOP_START
-    * set :loop_time *tmp171
-    * set *tmp172 @tick
-    * set .LOOP_START *tmp172
+  608 sensor :container_items .CONTAINER .ITEM
+  609 op min :min_level :min_level :container_items
+  610 op max :max_level :max_level :container_items
+  611 op sub :loop_time @tick .LOOP_START
+  612 set .LOOP_START @tick
   613 op mul *tmp173 :loop_time 100
-    * op idiv *tmp174 *tmp173 6
-    * set :loop_time_ms *tmp174
+  614 op idiv :loop_time_ms *tmp173 6
   615 op greaterThanEq *tmp175 :transfers :active
   616 jump *label136 notEqual *tmp175 false
   617 label *label137
 
   621 label *label136
   622 op div *tmp178 :wait_time 100
   623 op ceil *tmp179 *tmp178
-    * op div *tmp180 *tmp179 10
-    * set :wait_time_str *tmp180
-    * op sub *tmp181 @tick .TRANSFER_START
-    * set :elapsed_ticks *tmp181
-    * set *tmp182 @tick
-    * set .TRANSFER_START *tmp182
-    * op div *tmp183 :elapsed_ticks 0.06
-    * set :elapsed_ms *tmp183
+  624 op div :wait_time_str *tmp179 10
+  625 op sub :elapsed_ticks @tick .TRANSFER_START
+  626 set .TRANSFER_START @tick
+  627 op div :elapsed_ms :elapsed_ticks 0.06
   628 op idiv *tmp184 :elapsed_ms 100
-    * op div *tmp185 *tmp184 10
-    * set :elapsed_str *tmp185
-    * op div *tmp186 :transferred :elapsed_ms
-    * set :items_per_ms *tmp186
-    * op idiv *tmp187 :items_per_ms 0.000016666666666666667
-    * set :items_per_min *tmp187
+  629 op div :elapsed_str *tmp184 10
+  630 op div :items_per_ms :transferred :elapsed_ms
+  631 op idiv :items_per_min :items_per_ms 0.000016666666666666667
   632 set :transferred 0
   633 set :transfers 0
   634 jump *label138 equal .EFF_AUTO_ALLOCATION false
   635 set .AUTO_ALLOCATION_TXT "\n=== [gold]Unit auto allocation[] ==="
   636 op mul *tmp189 .LOOPS_TICKS_TO_MS :loop_time
-    * op add *tmp190 .TRAVEL_TIME *tmp189
-    * set :turnaround_ms *tmp190
-    * op mul *tmp191 :turnaround_ms .DEC_OVERALLOCATION
-    * set .WAIT_LIMIT *tmp191
+  637 op add :turnaround_ms .TRAVEL_TIME *tmp189
+  638 op mul .WAIT_LIMIT :turnaround_ms .DEC_OVERALLOCATION
   639 op idiv *tmp192 :turnaround_ms 100
-    * op div *tmp193 *tmp192 10
-    * set :turnaround_str *tmp193
-    * op div *tmp194 .UNIT_CAPACITY :turnaround_ms
-    * set :items_per_ms_unit *tmp194
+  640 op div :turnaround_str *tmp192 10
+  641 op div :items_per_ms_unit .UNIT_CAPACITY :turnaround_ms
   642 op mul *tmp195 :items_per_ms_unit 60000
-    * op floor *tmp196 *tmp195
-    * set :items_per_min_unit *tmp196
+  643 op floor :items_per_min_unit *tmp195
   644 op add *tmp197 :min_level :max_level
-    * op div *tmp198 *tmp197 2
-    * set :this_level *tmp198
+  645 op div :this_level *tmp197 2
   646 op sub *tmp199 :last_level :this_level
-    * op mul *tmp200 *tmp199 .FLOW_CORR_SIGN
-    * set :corr *tmp200
-    * op div *tmp201 :corr :elapsed_ms
-    * set :corr_per_ms *tmp201
+  647 op mul :corr *tmp199 .FLOW_CORR_SIGN
+  648 op div :corr_per_ms :corr :elapsed_ms
   649 set :last_level :this_level
-    * op add *tmp202 :items_per_ms :corr_per_ms
-    * set :total_flow_per_ms *tmp202
+  650 op add :total_flow_per_ms :items_per_ms :corr_per_ms
   651 op mul *tmp203 60000 :corr_per_ms
-    * op floor *tmp204 *tmp203
-    * set :corr_per_min *tmp204
+  652 op floor :corr_per_min *tmp203
   653 set .CORR_SIGN "[]([green]"
   654 op greaterThanEq *tmp205 :corr_per_min 0
   655 jump *label140 equal *tmp205 false
 
   685 set :total_flow_1 :total_flow_per_ms
   686 op add *tmp215 :total_flow_3 :total_flow_2
   687 op add *tmp216 *tmp215 :total_flow_1
-    * op div *tmp217 *tmp216 3
-    * set :total_flow_per_ms *tmp217
+  688 op div :total_flow_per_ms *tmp216 3
   689 jump *label153 always
   690 label *label152
   691 label *label153
   692 op div *tmp218 :total_flow_per_ms :items_per_ms_unit
   693 op add *tmp219 *tmp218 .INC_OVERALLOCATION
-    * op ceil *tmp220 *tmp219
-    * set :new_target *tmp220
-    * op mul *tmp221 .TRIGGER_BOOST :trigger
-    * set :level_boost *tmp221
+  694 op ceil :new_target *tmp219
+  695 op mul :level_boost .TRIGGER_BOOST :trigger
   696 op add *tmp222 :new_target :level_boost
-    * op min *tmp223 *tmp222 MAX_UNITS
-    * set :new_target *tmp223
+  697 op min :new_target *tmp222 MAX_UNITS
   698 op sub *tmp224 :new_target :active
   699 op max *tmp225 *tmp224 0
-    * op min *tmp226 *tmp225 .INC_LIMIT
-    * set :new_change *tmp226
+  700 op min :new_change *tmp225 .INC_LIMIT
   701 set .INC_LIMIT .INC_MAX
   702 op lessThanEq *tmp227 :new_change 0
-    * op mul *tmp228 *tmp227 .DEC_MAX
-    * set .DEC_LIMIT *tmp228
+  703 op mul .DEC_LIMIT *tmp227 .DEC_MAX
   704 jump *label149 always
   705 label *label148
   706 op idiv *tmp229 :wait_time .WAIT_LIMIT
   707 op mul *tmp230 -1 *tmp229
-    * op max *tmp231 *tmp230 .DEC_LIMIT
-    * set :new_change *tmp231
+  708 op max :new_change *tmp230 .DEC_LIMIT
   709 op greaterThanEq *tmp232 :new_change 0
-    * op mul *tmp233 *tmp232 .INC_MAX
-    * set .INC_LIMIT *tmp233
+  710 op mul .INC_LIMIT *tmp232 .INC_MAX
   711 set .DEC_LIMIT .DEC_MAX
   712 label *label149
   713 op add *tmp234 :active :new_change
-    * op max *tmp235 *tmp234 1
-    * set .TARGET *tmp235
+  714 op max .TARGET *tmp234 1
   715 jump *label143 always
   716 label *label142
   717 set .INC_LIMIT 0
 
   792 label *label162
   793 label *label163
   794 jump *label164 equal .SHOW_REMOTE_LEVEL false
-    * sensor *tmp247 .CORE .ITEM
-    * set :remote_level *tmp247
+  795 sensor :remote_level .CORE .ITEM
   796 print "\n"
   797 print "[]Remote items: [gold]"
   798 print :remote_level
 
   852 print " "
   853 print "ms"
   854 printflush message1
-    * op sub *tmp253 .TARGET :active
-    * set .CHANGE *tmp253
+  855 op sub .CHANGE .TARGET :active
   856 set :active 0
-    * set *tmp254 @unit
-    * set :first_unit *tmp254
+  857 set :first_unit @unit
   858 set :items_in_transit 0
   859 print "Unit status:"
   860 sensor *tmp255 .SRC @dead
 
   904 sensor *tmp272 @unit @controller
   905 op equal *tmp273 *tmp272 @this
   906 jump *label184 equal *tmp273 false
-    * sensor *tmp275 @unit @flag
-    * set :state *tmp275
+  907 sensor :state @unit @flag
   908 op notEqual *tmp276 :state .S_UNUSED
   909 jump *label186 equal *tmp276 false
   910 op max *tmp278 :state 1
-    * op min *tmp279 *tmp278 .STATE_LIMIT
-    * set :state *tmp279
+  911 op min :state *tmp278 .STATE_LIMIT
   912 op lessThan *tmp280 .CHANGE 0
   913 jump *label188 equal *tmp280 false
   914 op notEqual *tmp282 :state 6
 
   984 op equal *tmp308 :state 3
   985 jump *label206 equal *tmp308 false
   986 sensor *tmp310 .SRC .ITEM
-    * op sub *tmp311 *tmp310 .LOAD_LEVEL
-    * set :max_load *tmp311
+  987 op sub :max_load *tmp310 .LOAD_LEVEL
   988 op greaterThanEq *tmp312 :max_load .LOAD_PACK
   989 jump *label208 equal *tmp312 false
   990 ucontrol itemTake .SRC .ITEM :max_load
 
  1039 op equal *tmp330 :state 5
  1040 jump *label216 equal *tmp330 false
  1041 sensor *tmp332 .DST .ITEM
-    * op sub *tmp333 .DROP_LEVEL *tmp332
-    * set :max_drop *tmp333
+ 1042 op sub :max_drop .DROP_LEVEL *tmp332
  1043 op greaterThanEq *tmp334 :max_drop .DROP_PACK
  1044 jump *label218 equal *tmp334 false
  1045 ucontrol itemDrop .DST :max_drop
 
  1077 jump *label217 always
  1078 label *label216
  1079 label *label217
-    * sensor *tmp347 @unit @totalItems
-    * set :items *tmp347
+ 1080 sensor :items @unit @totalItems
  1081 op add :items_in_transit :items_in_transit :items
  1082 op equal *tmp348 :state 6
  1083 jump *label222 equal *tmp348 false
 
  1088 ucontrol within .DROP_X .DROP_Y 8 *tmp350
  1089 jump *label224 equal *tmp350 false
  1090 ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
-    * sensor *tmp352 @unit @totalItems
-    * set :items *tmp352
+ 1091 sensor :items @unit @totalItems
  1092 op lessThanEq *tmp353 :items .PARK_ITEM_LIMIT
  1093 jump *label226 equal *tmp353 false
  1094 ucontrol move .PARK_X .PARK_Y
 
  1152 jump *label232 always
  1153 label *label231
  1154 label *label232
-    * set *tmp364 switch1
-    * control enabled *tmp364 false
-    * set *tmp366 switch2
-    * control enabled *tmp366 false
+ 1155 control enabled switch1 false
+ 1156 control enabled switch2 false
  1157 end

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-2 instructions):
 
    94 sensor .UNIT_CAPACITY @unit @itemCapacity
    95 set :first_unit null
    96 label *label16
-    * jump *label18 equal true false
    97 set .CONTAINER null
    98 set .DROP_TARGET null
    99 set :n @links
 
   407 set .AUTO_ALLOCATION_TXT ""
   408 label *label76
   409 label *label77
-    * jump *label79 equal true false
   410 ubind UNIT
   411 label *label80
   412 op equal *tmp135 @unit null

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-21 instructions):
 
   104 getlink :block :n
   105 sensor *tmp29 :block @type
   106 jump *label24 equal *tmp29 @vault
-    * jump *label24 equal *tmp29 @container
-    * jump *label23 always
+  107 jump *label23 notEqual *tmp29 @container
   108 label *label24
   109 set .DROP_TARGET .CONTAINER
   110 set .CONTAINER :block
 
   494 set .LAST_ITEM .ITEM
   495 # "Function: def itemTypeToIcon(in itemType)"
   496 set :itemTypeToIcon:itemType .ITEM
-    * jump *label103 equal :itemTypeToIcon:itemType @blast-compound
-    * jump *label102 always
+  497 jump *label102 notEqual :itemTypeToIcon:itemType @blast-compound
   498 label *label103
   499 set *tmp165 "[]"
   500 jump *label101 always
   501 label *label102
-    * jump *label105 equal :itemTypeToIcon:itemType @coal
-    * jump *label104 always
+  502 jump *label104 notEqual :itemTypeToIcon:itemType @coal
   503 label *label105
   504 set *tmp165 "[]"
   505 jump *label101 always
   506 label *label104
-    * jump *label107 equal :itemTypeToIcon:itemType @copper
-    * jump *label106 always
+  507 jump *label106 notEqual :itemTypeToIcon:itemType @copper
   508 label *label107
   509 set *tmp165 "[]"
   510 jump *label101 always
   511 label *label106
-    * jump *label109 equal :itemTypeToIcon:itemType @graphite
-    * jump *label108 always
+  512 jump *label108 notEqual :itemTypeToIcon:itemType @graphite
   513 label *label109
   514 set *tmp165 "[]"
   515 jump *label101 always
   516 label *label108
-    * jump *label111 equal :itemTypeToIcon:itemType @lead
-    * jump *label110 always
+  517 jump *label110 notEqual :itemTypeToIcon:itemType @lead
   518 label *label111
   519 set *tmp165 "[]"
   520 jump *label101 always
   521 label *label110
-    * jump *label113 equal :itemTypeToIcon:itemType @metaglass
-    * jump *label112 always
+  522 jump *label112 notEqual :itemTypeToIcon:itemType @metaglass
   523 label *label113
   524 set *tmp165 "[]"
   525 jump *label101 always
   526 label *label112
-    * jump *label115 equal :itemTypeToIcon:itemType @phase-fabric
-    * jump *label114 always
+  527 jump *label114 notEqual :itemTypeToIcon:itemType @phase-fabric
   528 label *label115
   529 set *tmp165 "[]"
   530 jump *label101 always
   531 label *label114
-    * jump *label117 equal :itemTypeToIcon:itemType @plastanium
-    * jump *label116 always
+  532 jump *label116 notEqual :itemTypeToIcon:itemType @plastanium
   533 label *label117
   534 set *tmp165 "[]"
   535 jump *label101 always
   536 label *label116
-    * jump *label119 equal :itemTypeToIcon:itemType @pyratite
-    * jump *label118 always
+  537 jump *label118 notEqual :itemTypeToIcon:itemType @pyratite
   538 label *label119
   539 set *tmp165 "[]"
   540 jump *label101 always
   541 label *label118
-    * jump *label121 equal :itemTypeToIcon:itemType @sand
-    * jump *label120 always
+  542 jump *label120 notEqual :itemTypeToIcon:itemType @sand
   543 label *label121
   544 set *tmp165 "[]"
   545 jump *label101 always
   546 label *label120
-    * jump *label123 equal :itemTypeToIcon:itemType @scrap
-    * jump *label122 always
+  547 jump *label122 notEqual :itemTypeToIcon:itemType @scrap
   548 label *label123
   549 set *tmp165 "[]"
   550 jump *label101 always
   551 label *label122
-    * jump *label125 equal :itemTypeToIcon:itemType @silicon
-    * jump *label124 always
+  552 jump *label124 notEqual :itemTypeToIcon:itemType @silicon
   553 label *label125
   554 set *tmp165 "[]"
   555 jump *label101 always
   556 label *label124
-    * jump *label127 equal :itemTypeToIcon:itemType @spore-pod
-    * jump *label126 always
+  557 jump *label126 notEqual :itemTypeToIcon:itemType @spore-pod
   558 label *label127
   559 set *tmp165 "[]"
   560 jump *label101 always
   561 label *label126
-    * jump *label129 equal :itemTypeToIcon:itemType @surge-alloy
-    * jump *label128 always
+  562 jump *label128 notEqual :itemTypeToIcon:itemType @surge-alloy
   563 label *label129
   564 set *tmp165 "[]"
   565 jump *label101 always
   566 label *label128
-    * jump *label131 equal :itemTypeToIcon:itemType @thorium
-    * jump *label130 always
+  567 jump *label130 notEqual :itemTypeToIcon:itemType @thorium
   568 label *label131
   569 set *tmp165 "[]"
   570 jump *label101 always
   571 label *label130
-    * jump *label133 equal :itemTypeToIcon:itemType @titanium
-    * jump *label132 always
+  572 jump *label132 notEqual :itemTypeToIcon:itemType @titanium
   573 label *label133
   574 set *tmp165 "[]"
   575 jump *label101 always
 
   597 jump *label136 notEqual *tmp175 false
   598 label *label137
   599 op greaterThan *tmp176 :wait_time .WAIT_LIMIT
-    * jump *label136 notEqual *tmp176 false
-    * jump *label134 always
+  600 jump *label134 equal *tmp176 false
   601 label *label136
   602 op div *tmp178 :wait_time 100
   603 op ceil *tmp179 *tmp178
 
   643 jump *label146 notEqual *tmp208 false
   644 label *label147
   645 op greaterThan *tmp209 :max_level .HIGH_LEVEL_TRIGGER
-    * jump *label146 notEqual *tmp209 false
-    * jump *label144 always
+  646 jump *label144 equal *tmp209 false
   647 label *label146
   648 set *tmp210 true
   649 jump *label145 always
 
   655 jump *label150 notEqual *tmp211 false
   656 label *label151
   657 op greaterThan *tmp212 :trigger :remote_wait_time
-    * jump *label150 notEqual *tmp212 false
-    * jump *label148 always
+  658 jump *label148 equal *tmp212 false
   659 label *label150
   660 jump *label152 equal STABILIZATION false
   661 set :total_flow_3 :total_flow_2
 
  1110 label *label234
  1111 sensor *tmp359 .DST @dead
  1112 op strictNotEqual *tmp360 *tmp359 0
-    * jump *label233 notEqual *tmp360 false
-    * jump *label231 always
+ 1113 jump *label231 equal *tmp360 false
  1114 label *label233
  1115 label *label235
  1116 sensor *tmp362 switch1 @enabled

Modifications by Iterated phase, Condition Optimization, pass 1, iteration 1 (-75 instructions):
 
    29 set .DEC_MAX -1
    30 ubind UNIT
    31 label *label0
-    * op equal *tmp6 @unit null
-    * jump *label2 equal *tmp6 false
+   32 jump *label2 notEqual @unit null
    33 print "[salmon]No unit of type "
    34 print UNIT
    35 print " "
 
    49 label *label3
    50 jump *label5 equal :repeat false
    51 sensor *tmp12 @unit @controller
-    * op equal *tmp13 *tmp12 @this
-    * jump *label6 equal *tmp13 false
+   52 jump *label6 notEqual *tmp12 @this
    53 sensor :state @unit @flag
-    * op greaterThanEq *tmp16 :state 1
-    * jump *label8 equal *tmp16 false
+   54 jump *label8 lessThan :state 1
    55 label *label11
-    * op lessThan *tmp17 :state 6
-    * jump *label8 equal *tmp17 false
+   56 jump *label8 greaterThanEq :state 6
    57 jump *label10 always
    58 label *label10
    59 set *tmp18 true
 
    66 label *label6
    67 label *label7
    68 ubind UNIT
-    * op notEqual *tmp19 @unit :first_unit
-    * jump *label12 equal *tmp19 false
+   69 jump *label12 equal @unit :first_unit
    70 label *label15
    71 sensor *tmp20 :first_unit @dead
    72 op strictEqual *tmp21 *tmp20 0
 
    93 set .DROP_TARGET null
    94 set :n @links
    95 label *label19
-    * op greaterThan *tmp25 :n 0
-    * jump *label21 equal *tmp25 false
+   96 jump *label21 lessThanEq :n 0
    97 op sub :n :n 1
    98 getlink :block :n
    99 sensor *tmp29 :block @type
 
   109 label *label20
   110 jump *label19 always
   111 label *label21
-    * op equal *tmp31 .CONTAINER null
-    * jump *label25 equal *tmp31 false
+  112 jump *label25 notEqual .CONTAINER null
   113 print "[salmon]No vault or container."
   114 printflush message1
   115 jump *label26 always
 
   120 jump *label16 always
   121 label *label18
   122 set .CORE null
-    * op equal *tmp33 LINK_ID 0
-    * jump *label27 equal *tmp33 false
+  123 jump *label27 notEqual LINK_ID 0
   124 label *label29
-    * op equal *tmp35 .CORE null
-    * jump *label31 equal *tmp35 false
+  125 jump *label31 notEqual .CORE null
   126 print "[green]Locating core..."
   127 printflush message1
   128 ubind UNIT
   129 sensor *tmp36 @unit @controlled
-    * op equal *tmp37 *tmp36 0
-    * jump *label32 equal *tmp37 false
+  130 jump *label32 notEqual *tmp36 0
   131 ulocate building core false @copper .CORE_X .CORE_Y *tmp40 .CORE
   132 ucontrol flag .S_UNUSED
   133 jump *label33 always
 
   146 print ".."
   147 printflush message1
   148 label *label34
-    * op equal *tmp41 .CORE null
-    * jump *label36 equal *tmp41 false
+  149 jump *label36 notEqual .CORE null
   150 op add .QUERY_FLAG 99999900 LINK_ID
   151 set :flag .QUERY_FLAG
   152 ubind UNIT
   153 label *label37
   154 sensor *tmp43 @unit @controlled
-    * op notEqual *tmp44 *tmp43 0
-    * jump *label39 equal *tmp44 false
+  155 jump *label39 equal *tmp43 0
   156 ubind UNIT
   157 label *label38
   158 jump *label37 always
   159 label *label39
   160 ucontrol flag :flag
   161 label *label40
-    * op equal *tmp45 :flag .QUERY_FLAG
-    * jump *label42 equal *tmp45 false
+  162 jump *label42 notEqual :flag .QUERY_FLAG
   163 label *label44
   164 sensor *tmp46 @unit @dead
-    * op equal *tmp47 *tmp46 0
-    * jump *label42 equal *tmp47 false
+  165 jump *label42 notEqual *tmp46 0
   166 jump *label43 always
   167 label *label43
   168 ucontrol stop
 
   170 label *label41
   171 jump *label40 always
   172 label *label42
-    * op notEqual *tmp49 :flag .QUERY_FLAG
-    * jump *label45 equal *tmp49 false
+  173 jump *label45 equal :flag .QUERY_FLAG
   174 op idiv :position :flag 100
   175 op mod .CORE_X :position @mapw
   176 op idiv .CORE_Y :position @mapw
   177 label *label47
   178 sensor *tmp54 @unit @dead
-    * op equal *tmp55 *tmp54 0
-    * jump *label49 equal *tmp55 false
+  179 jump *label49 notEqual *tmp54 0
   180 label *label51
   181 ucontrol within .CORE_X .CORE_Y 8 *tmp56
-    * op equal *tmp57 *tmp56 false
-    * jump *label49 equal *tmp57 false
+  182 jump *label49 notEqual *tmp56 false
   183 jump *label50 always
   184 label *label50
   185 ucontrol approach .CORE_X .CORE_Y 6
 
   187 jump *label47 always
   188 label *label49
   189 ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE *tmp59
-    * op notEqual *tmp60 :b_type @vault
-    * jump *label52 equal *tmp60 false
+  190 jump *label52 equal :b_type @vault
   191 print "[salmon]Building at "
   192 print .CORE_X
   193 print ","
 
   212 set .SORTER sorter1
   213 sensor :sorter_type .SORTER @type
   214 label *label54
-    * op notEqual *tmp63 :sorter_type @sorter
-    * jump *label56 equal *tmp63 false
+  215 jump *label56 equal :sorter_type @sorter
   216 label *label58
-    * op notEqual *tmp64 :sorter_type @inverted-sorter
-    * jump *label56 equal *tmp64 false
+  217 jump *label56 equal :sorter_type @inverted-sorter
   218 jump *label57 always
   219 label *label57
   220 print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter."
   221 print "\n"
-    * op notEqual *tmp65 .SORTER null
-    * jump *label59 equal *tmp65 false
+  222 jump *label59 equal .SORTER null
   223 print "Block found: "
   224 print .SORTER
   225 jump *label60 always
 
   231 label *label55
   232 jump *label54 always
   233 label *label56
-    * op equal *tmp68 :sorter_type @sorter
-    * jump *label61 equal *tmp68 false
+  234 jump *label61 notEqual :sorter_type @sorter
   235 set .SHOW_REMOTE_LEVEL true
   236 set .SRC .CORE
   237 set .DST .CONTAINER
 
   250 set .FLOW_CORR_SIGN 1
   251 set .SRC_REMOTE_WAIT 1
   252 set .DST_REMOTE_WAIT 0
-    * op equal *tmp79 LINK_ID 0
-    * jump *label63 equal *tmp79 false
+  253 jump *label63 notEqual LINK_ID 0
   254 set *tmp80 " from core"
   255 jump *label64 always
   256 label *label63
 
   279 set .FLOW_CORR_SIGN -1
   280 set .SRC_REMOTE_WAIT 0
   281 set .DST_REMOTE_WAIT 1
-    * op equal *tmp93 LINK_ID 0
-    * jump *label65 equal *tmp93 false
+  282 jump *label65 notEqual LINK_ID 0
   283 set *tmp94 " to core"
   284 jump *label66 always
   285 label *label65
 
   287 label *label66
   288 set .DIRECTION *tmp94
   289 label *label62
-    * op equal *tmp95 LINK_ID 0
-    * jump *label67 equal *tmp95 false
+  290 jump *label67 notEqual LINK_ID 0
   291 set *tmp96 ""
   292 jump *label68 always
   293 label *label67
 
   314 op len *tmp114 *tmp112 *tmp113
   315 op sub *tmp115 *tmp114 6
   316 op div .DISTANCE *tmp115 100
-    * op equal *tmp117 .DROP_TARGET null
-    * jump *label69 equal *tmp117 false
+  317 jump *label69 notEqual .DROP_TARGET null
   318 set .DROP_TARGET .CORE
   319 set .DROP_X .CORE_X
   320 set .DROP_Y .CORE_Y
   321 sensor *tmp119 .CONTAINER @x
-    * op lessThan *tmp120 *tmp119 .CORE_X
-    * jump *label71 equal *tmp120 false
+  322 jump *label71 greaterThanEq *tmp119 .CORE_X
   323 set *tmp121 15
   324 jump *label72 always
   325 label *label71
 
   327 label *label72
   328 op add .PARK_X .CORE_X *tmp121
   329 sensor *tmp123 .CONTAINER @y
-    * op lessThan *tmp124 *tmp123 .CORE_Y
-    * jump *label73 equal *tmp124 false
+  330 jump *label73 greaterThanEq *tmp123 .CORE_Y
   331 set *tmp125 15
   332 jump *label74 always
   333 label *label73
 
   380 label *label77
   381 ubind UNIT
   382 label *label80
-    * op equal *tmp135 @unit null
-    * jump *label82 equal *tmp135 false
+  383 jump *label82 notEqual @unit null
   384 print "No unit of type "
   385 print UNIT
   386 print " "
 
   407 sensor *tmp142 switch2 @enabled
   408 jump *label85 equal *tmp142 false
   409 control enabled switch2 false
-    * op lessThan *tmp146 .TARGET 1
-    * jump *label87 equal *tmp146 false
+  410 jump *label87 greaterThanEq .TARGET 1
   411 set .EFF_AUTO_ALLOCATION true
   412 set .TARGET 1
   413 set .DEC_LIMIT 0
 
   423 set .CORR_SIGN "[]"
   424 set :corr_per_min ""
   425 set .SPEED_UNIT_TXT "/min"
-    * op equal *tmp150 .TARGET 0
-    * jump *label89 equal *tmp150 false
+  426 jump *label89 notEqual .TARGET 0
   427 set *tmp151 "\n=== [salmon]Transport deactivated[] ==="
   428 jump *label90 always
   429 label *label89
 
   438 sensor *tmp152 :first_unit @dead
   439 op strictEqual :alive *tmp152 0
   440 op strictEqual *tmp154 @unit :first_unit
-    * op lessThanEq *tmp155 :alive *tmp154
-    * jump *label91 equal *tmp155 false
-    * op equal *tmp157 :active 0
-    * jump *label93 equal *tmp157 false
+  441 jump *label91 greaterThan :alive *tmp154
+  442 jump *label93 notEqual :active 0
   443 print "\n[salmon]No active units.[]"
   444 jump *label94 always
   445 label *label93
 
   447 printflush message2
   448 set .STATE_LIMIT 6
   449 sensor .ITEM .SORTER @config
-    * op notEqual *tmp160 .ITEM .LAST_ITEM
-    * jump *label95 equal *tmp160 false
+  450 jump *label95 equal .ITEM .LAST_ITEM
   451 label *label97
-    * op equal *tmp162 .ITEM null
-    * jump *label99 equal *tmp162 false
+  452 jump *label99 notEqual .ITEM null
   453 print "[salmon]No item type selected for transport.[]"
   454 printflush message1
   455 sensor .ITEM .SORTER @config
 
   558 set .LOOP_START @tick
   559 op mul *tmp173 :loop_time 100
   560 op idiv :loop_time_ms *tmp173 6
-    * op greaterThanEq *tmp175 :transfers :active
-    * jump *label136 notEqual *tmp175 false
+  561 jump *label136 greaterThanEq :transfers :active
   562 label *label137
-    * op greaterThan *tmp176 :wait_time .WAIT_LIMIT
-    * jump *label134 equal *tmp176 false
+  563 jump *label134 lessThanEq :wait_time .WAIT_LIMIT
   564 label *label136
   565 op div *tmp178 :wait_time 100
   566 op ceil *tmp179 *tmp178
 
   594 op mul *tmp203 60000 :corr_per_ms
   595 op floor :corr_per_min *tmp203
   596 set .CORR_SIGN "[]([green]"
-    * op greaterThanEq *tmp205 :corr_per_min 0
-    * jump *label140 equal *tmp205 false
+  597 jump *label140 lessThan :corr_per_min 0
   598 set .CORR_SIGN "[]([green]+"
   599 jump *label141 always
   600 label *label140
   601 label *label141
   602 set .SPEED_UNIT_TXT "[])/min"
   603 jump *label142 equal :alive false
-    * op lessThan *tmp208 :min_level .LOW_LEVEL_TRIGGER
-    * jump *label146 notEqual *tmp208 false
+  604 jump *label146 lessThan :min_level .LOW_LEVEL_TRIGGER
   605 label *label147
-    * op greaterThan *tmp209 :max_level .HIGH_LEVEL_TRIGGER
-    * jump *label144 equal *tmp209 false
+  606 jump *label144 lessThanEq :max_level .HIGH_LEVEL_TRIGGER
   607 label *label146
   608 set *tmp210 true
   609 jump *label145 always
 
   611 set *tmp210 false
   612 label *label145
   613 set :trigger *tmp210
-    * op equal *tmp211 :wait_time 0
-    * jump *label150 notEqual *tmp211 false
+  614 jump *label150 equal :wait_time 0
   615 label *label151
-    * op greaterThan *tmp212 :trigger :remote_wait_time
-    * jump *label148 equal *tmp212 false
+  616 jump *label148 lessThanEq :trigger :remote_wait_time
   617 label *label150
   618 jump *label152 equal STABILIZATION false
   619 set :total_flow_3 :total_flow_2
 
   660 label *label139
   661 set :wait_time 0
   662 set :remote_wait_time 0
-    * op greaterThanEq *tmp236 @tick .MESSAGE_TIMEOUT
-    * jump *label154 equal *tmp236 false
+  663 jump *label154 lessThan @tick .MESSAGE_TIMEOUT
   664 set .MESSAGE ""
   665 jump *label155 always
   666 label *label154
 
   676 print .DIRECTION
   677 print .LINK_TXT
   678 print .AUTO_ALLOCATION_TXT
-    * op greaterThan *tmp238 .TARGET 0
-    * jump *label156 equal *tmp238 false
-    * op greaterThanEq *tmp240 :active .TARGET
-    * jump *label158 equal *tmp240 false
+  679 jump *label156 lessThanEq .TARGET 0
+  680 jump *label158 lessThan :active .TARGET
   681 print "\n"
   682 print "Using [green]"
   683 print :active
 
   703 print " [gold]+"
   704 print :items_in_transit
   705 label *label159
-    * op greaterThan *tmp242 .CHANGE 0
-    * jump *label160 equal *tmp242 false
+  706 jump *label160 lessThanEq .CHANGE 0
   707 print "\n[][salmon]Cannot acquire additional units![]"
   708 jump *label161 always
   709 label *label160
 
   714 print "\n"
   715 print "[]Local items: [gold]"
   716 print :container_items
-    * op lessThan *tmp244 .EFF_LOCAL_LIMIT 100
-    * jump *label162 equal *tmp244 false
+  717 jump *label162 greaterThanEq .EFF_LOCAL_LIMIT 100
   718 print "[] (limit [orange]"
   719 print .LOCAL_MARGIN
   720 print "["
 
   727 print "\n"
   728 print "[]Remote items: [gold]"
   729 print :remote_level
-    * op lessThan *tmp248 .EFF_REMOTE_LIMIT 100
-    * jump *label166 equal *tmp248 false
+  730 jump *label166 greaterThanEq .EFF_REMOTE_LIMIT 100
   731 print "[] (limit [orange]"
   732 print .REMOTE_MARGIN
   733 print "["
 
   738 jump *label165 always
   739 label *label164
   740 label *label165
-    * op greaterThan *tmp250 .TARGET 0
-    * jump *label168 equal *tmp250 false
+  741 jump *label168 lessThanEq .TARGET 0
   742 print "\n"
   743 print "[]Speed: [green]"
   744 print :items_per_min
 
   787 set :items_in_transit 0
   788 print "Unit status:"
   789 sensor *tmp255 .SRC @dead
-    * op notEqual *tmp256 *tmp255 0
-    * jump *label172 equal *tmp256 false
+  790 jump *label172 equal *tmp255 0
   791 jump *label79 always
   792 jump *label173 always
   793 label *label172
   794 label *label173
   795 sensor *tmp258 .DST @dead
-    * op notEqual *tmp259 *tmp258 0
-    * jump *label174 equal *tmp259 false
+  796 jump *label174 equal *tmp258 0
   797 jump *label79 always
   798 jump *label175 always
   799 label *label174
   800 label *label175
   801 sensor *tmp261 .SORTER @dead
-    * op notEqual *tmp262 *tmp261 0
-    * jump *label176 equal *tmp262 false
+  802 jump *label176 equal *tmp261 0
   803 jump *label79 always
   804 jump *label177 always
   805 label *label176
   806 label *label177
   807 getlink *tmp264 .CONTAINER_INDEX
-    * op notEqual *tmp265 .CONTAINER *tmp264
-    * jump *label178 equal *tmp265 false
+  808 jump *label178 equal .CONTAINER *tmp264
   809 jump *label79 always
   810 jump *label179 always
   811 label *label178
 
   813 jump *label92 always
   814 label *label91
   815 label *label92
-    * op greaterThan *tmp267 .CHANGE 0
-    * jump *label180 equal *tmp267 false
+  816 jump *label180 lessThanEq .CHANGE 0
   817 sensor *tmp269 @unit @controlled
-    * op equal *tmp270 *tmp269 0
-    * jump *label182 equal *tmp270 false
+  818 jump *label182 notEqual *tmp269 0
   819 op sub .CHANGE .CHANGE 1
   820 ucontrol flag 1
   821 jump *label183 always
 
   825 label *label180
   826 label *label181
   827 sensor *tmp272 @unit @controller
-    * op equal *tmp273 *tmp272 @this
-    * jump *label184 equal *tmp273 false
+  828 jump *label184 notEqual *tmp272 @this
   829 sensor :state @unit @flag
-    * op notEqual *tmp276 :state .S_UNUSED
-    * jump *label186 equal *tmp276 false
+  830 jump *label186 equal :state .S_UNUSED
   831 op max *tmp278 :state 1
   832 op min :state *tmp278 .STATE_LIMIT
-    * op lessThan *tmp280 .CHANGE 0
-    * jump *label188 equal *tmp280 false
-    * op notEqual *tmp282 :state 6
-    * jump *label190 equal *tmp282 false
+  833 jump *label188 greaterThanEq .CHANGE 0
+  834 jump *label190 equal :state 6
   835 sensor *tmp284 @unit @totalItems
-    * op lessThanEq *tmp285 *tmp284 .DISCARD_UNIT_MAX_ITEMS
-    * jump *label192 equal *tmp285 false
+  836 jump *label192 greaterThan *tmp284 .DISCARD_UNIT_MAX_ITEMS
   837 op add .CHANGE .CHANGE 1
   838 set :state 6
   839 jump *label193 always
 
   845 jump *label189 always
   846 label *label188
   847 label *label189
-    * op equal *tmp287 :state 1
-    * jump *label194 equal *tmp287 false
+  848 jump *label194 notEqual :state 1
   849 sensor *tmp289 @unit @totalItems
-    * op equal *tmp290 *tmp289 0
-    * jump *label196 equal *tmp290 false
+  850 jump *label196 notEqual *tmp289 0
   851 set :state 2
   852 jump *label197 always
   853 label *label196
   854 sensor *tmp292 @unit @firstItem
-    * op equal *tmp293 *tmp292 .ITEM
-    * jump *label198 equal *tmp293 false
+  855 jump *label198 notEqual *tmp292 .ITEM
   856 set :state 4
   857 jump *label199 always
   858 label *label198
 
   871 jump *label195 always
   872 label *label194
   873 label *label195
-    * op equal *tmp297 :state 2
-    * jump *label202 equal *tmp297 false
+  874 jump *label202 notEqual :state 2
   875 ucontrol approach .SRC_X .SRC_Y 6
   876 ucontrol within .SRC_X .SRC_Y 8 *tmp299
   877 jump *label204 equal *tmp299 false
 
   895 jump *label203 always
   896 label *label202
   897 label *label203
-    * op equal *tmp308 :state 3
-    * jump *label206 equal *tmp308 false
+  898 jump *label206 notEqual :state 3
   899 sensor *tmp310 .SRC .ITEM
   900 op sub :max_load *tmp310 .LOAD_LEVEL
-    * op greaterThanEq *tmp312 :max_load .LOAD_PACK
-    * jump *label208 equal *tmp312 false
+  901 jump *label208 lessThan :max_load .LOAD_PACK
   902 ucontrol itemTake .SRC .ITEM :max_load
   903 jump *label209 always
   904 label *label208
   905 label *label209
   906 sensor *tmp314 @unit @totalItems
-    * op greaterThanEq *tmp315 *tmp314 .UNIT_CAPACITY
-    * jump *label210 equal *tmp315 false
+  907 jump *label210 lessThan *tmp314 .UNIT_CAPACITY
   908 set :state 4
   909 jump *label211 always
   910 label *label210
 
   919 jump *label207 always
   920 label *label206
   921 label *label207
-    * op equal *tmp318 :state 4
-    * jump *label212 equal *tmp318 false
+  922 jump *label212 notEqual :state 4
   923 ucontrol approach .DST_X .DST_Y 6
   924 ucontrol within .DST_X .DST_Y 8 *tmp320
   925 jump *label214 equal *tmp320 false
 
   946 jump *label213 always
   947 label *label212
   948 label *label213
-    * op equal *tmp330 :state 5
-    * jump *label216 equal *tmp330 false
+  949 jump *label216 notEqual :state 5
   950 sensor *tmp332 .DST .ITEM
   951 op sub :max_drop .DROP_LEVEL *tmp332
-    * op greaterThanEq *tmp334 :max_drop .DROP_PACK
-    * jump *label218 equal *tmp334 false
+  952 jump *label218 lessThan :max_drop .DROP_PACK
   953 ucontrol itemDrop .DST :max_drop
   954 jump *label219 always
   955 label *label218
   956 label *label219
   957 sensor *tmp336 @unit @totalItems
-    * op lessThanEq *tmp337 *tmp336 0
-    * jump *label220 equal *tmp337 false
+  958 jump *label220 greaterThan *tmp336 0
   959 set :state 2
   960 ucontrol approach .SRC_X .SRC_Y 6
   961 sensor *tmp339 @unit @x
 
   986 label *label217
   987 sensor :items @unit @totalItems
   988 op add :items_in_transit :items_in_transit :items
-    * op equal *tmp348 :state 6
-    * jump *label222 equal *tmp348 false
+  989 jump *label222 notEqual :state 6
   990 print "[]"
   991 print "\n"
   992 print "Parking: [green]"
 
   995 jump *label224 equal *tmp350 false
   996 ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
   997 sensor :items @unit @totalItems
-    * op lessThanEq *tmp353 :items .PARK_ITEM_LIMIT
-    * jump *label226 equal *tmp353 false
+  998 jump *label226 greaterThan :items .PARK_ITEM_LIMIT
   999 ucontrol move .PARK_X .PARK_Y
  1000 set :state .S_UNUSED
  1001 jump *label227 always
 
  1022 label *label79
  1023 label *label228
  1024 sensor *tmp355 .SORTER @dead
-    * op strictNotEqual *tmp356 *tmp355 0
-    * jump *label230 equal *tmp356 false
+ 1025 jump *label230 strictEqual *tmp355 0
  1026 print "[salmon]sorter1 is missing![]\nPlease place and link sorter or inverted sorter to the processor."
  1027 printflush message1
  1028 printflush message2
 
  1031 jump *label228 always
  1032 label *label230
  1033 sensor *tmp357 .SRC @dead
-    * op strictNotEqual *tmp358 *tmp357 0
-    * jump *label233 notEqual *tmp358 false
+ 1034 op strictEqual *tmp358 *tmp357 0
+ 1035 jump *label233 equal *tmp358 false
  1036 label *label234
  1037 sensor *tmp359 .DST @dead
-    * op strictNotEqual *tmp360 *tmp359 0
-    * jump *label231 equal *tmp360 false
+ 1038 jump *label231 strictEqual *tmp359 0
  1039 label *label233
  1040 label *label235
  1041 sensor *tmp362 switch1 @enabled

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-50 instructions):
 
    54 jump *label8 lessThan :state 1
    55 label *label11
    56 jump *label8 greaterThanEq :state 6
-    * jump *label10 always
    57 label *label10
    58 set *tmp18 true
    59 jump *label9 always
 
    61 set *tmp18 false
    62 label *label9
    63 op add .TARGET .TARGET *tmp18
-    * jump *label7 always
    64 label *label6
    65 label *label7
    66 ubind UNIT
 
    69 sensor *tmp20 :first_unit @dead
    70 op strictEqual *tmp21 *tmp20 0
    71 jump *label12 equal *tmp21 false
-    * jump *label14 always
    72 label *label14
    73 set *tmp22 true
    74 jump *label13 always
 
   100 set .DROP_TARGET .CONTAINER
   101 set .CONTAINER :block
   102 set .CONTAINER_INDEX :n
-    * jump *label22 always
   103 label *label23
   104 label *label22
   105 label *label20
 
   126 jump *label32 notEqual *tmp36 0
   127 ulocate building core false @copper .CORE_X .CORE_Y *tmp40 .CORE
   128 ucontrol flag .S_UNUSED
-    * jump *label33 always
   129 label *label32
   130 label *label33
   131 label *label30
 
   158 label *label44
   159 sensor *tmp46 @unit @dead
   160 jump *label42 notEqual *tmp46 0
-    * jump *label43 always
   161 label *label43
   162 ucontrol stop
   163 sensor :flag @unit @flag
 
   174 label *label51
   175 ucontrol within .CORE_X .CORE_Y 8 *tmp56
   176 jump *label49 notEqual *tmp56 false
-    * jump *label50 always
   177 label *label50
   178 ucontrol approach .CORE_X .CORE_Y 6
   179 label *label48
 
   190 print "is not a vault!"
   191 printflush message2
   192 set .CORE null
-    * jump *label53 always
   193 label *label52
   194 label *label53
-    * jump *label46 always
   195 label *label45
   196 label *label46
   197 ucontrol flag .S_UNUSED
 
   206 jump *label56 equal :sorter_type @sorter
   207 label *label58
   208 jump *label56 equal :sorter_type @inverted-sorter
-    * jump *label57 always
   209 label *label57
   210 print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter."
   211 print "\n"
   212 jump *label59 equal .SORTER null
   213 print "Block found: "
   214 print .SORTER
-    * jump *label60 always
   215 label *label59
   216 label *label60
   217 printflush message1
 
   390 set :corr_per_min ""
   391 set .SPEED_UNIT_TXT "/min"
   392 set .WAIT_LIMIT 30000
-    * jump *label84 always
   393 label *label83
   394 label *label84
   395 sensor *tmp142 switch2 @enabled
 
   420 set .AUTO_ALLOCATION_TXT *tmp151
   421 label *label88
   422 set .WAIT_LIMIT 30000
-    * jump *label86 always
   423 label *label85
   424 label *label86
   425 sensor *tmp152 :first_unit @dead
 
   428 jump *label91 greaterThan :alive *tmp154
   429 jump *label93 notEqual :active 0
   430 print "\n[salmon]No active units.[]"
-    * jump *label94 always
   431 label *label93
   432 label *label94
   433 printflush message2
 
   534 sensor :last_level .CONTAINER .ITEM
   535 set :min_level 999999
   536 set :max_level 0
-    * jump *label96 always
   537 label *label95
   538 label *label96
   539 sensor :container_items .CONTAINER .ITEM
 
   581 set .CORR_SIGN "[]([green]"
   582 jump *label140 lessThan :corr_per_min 0
   583 set .CORR_SIGN "[]([green]+"
-    * jump *label141 always
   584 label *label140
   585 label *label141
   586 set .SPEED_UNIT_TXT "[])/min"
 
   606 op add *tmp215 :total_flow_3 :total_flow_2
   607 op add *tmp216 *tmp215 :total_flow_1
   608 op div :total_flow_per_ms *tmp216 3
-    * jump *label153 always
   609 label *label152
   610 label *label153
   611 op div *tmp218 :total_flow_per_ms :items_per_ms_unit
 
   638 label *label143
   639 set :min_level 999999
   640 set :max_level 0
-    * jump *label139 always
   641 label *label138
   642 label *label139
   643 set :wait_time 0
   644 set :remote_wait_time 0
   645 jump *label154 lessThan @tick .MESSAGE_TIMEOUT
   646 set .MESSAGE ""
-    * jump *label155 always
   647 label *label154
   648 label *label155
-    * jump *label135 always
   649 label *label134
   650 label *label135
   651 print .MESSAGE
 
   685 label *label159
   686 jump *label160 lessThanEq .CHANGE 0
   687 print "\n[][salmon]Cannot acquire additional units![]"
-    * jump *label161 always
   688 label *label160
   689 label *label161
-    * jump *label157 always
   690 label *label156
   691 label *label157
   692 print "\n"
 
   697 print .LOCAL_MARGIN
   698 print "["
   699 print "])"
-    * jump *label163 always
   700 label *label162
   701 label *label163
   702 jump *label164 equal .SHOW_REMOTE_LEVEL false
 
   709 print .REMOTE_MARGIN
   710 print "["
   711 print "])"
-    * jump *label167 always
   712 label *label166
   713 label *label167
-    * jump *label165 always
   714 label *label164
   715 label *label165
   716 jump *label168 lessThanEq .TARGET 0
 
   747 print :wait_time_str
   748 print "["
   749 print "] s"
-    * jump *label169 always
   750 label *label168
   751 label *label169
   752 print "\n"
 
   763 sensor *tmp255 .SRC @dead
   764 jump *label172 equal *tmp255 0
   765 jump *label79 always
-    * jump *label173 always
   766 label *label172
   767 label *label173
   768 sensor *tmp258 .DST @dead
   769 jump *label174 equal *tmp258 0
   770 jump *label79 always
-    * jump *label175 always
   771 label *label174
   772 label *label175
   773 sensor *tmp261 .SORTER @dead
   774 jump *label176 equal *tmp261 0
   775 jump *label79 always
-    * jump *label177 always
   776 label *label176
   777 label *label177
   778 getlink *tmp264 .CONTAINER_INDEX
   779 jump *label178 equal .CONTAINER *tmp264
   780 jump *label79 always
-    * jump *label179 always
   781 label *label178
   782 label *label179
-    * jump *label92 always
   783 label *label91
   784 label *label92
   785 jump *label180 lessThanEq .CHANGE 0
 
   787 jump *label182 notEqual *tmp269 0
   788 op sub .CHANGE .CHANGE 1
   789 ucontrol flag 1
-    * jump *label183 always
   790 label *label182
   791 label *label183
-    * jump *label181 always
   792 label *label180
   793 label *label181
   794 sensor *tmp272 @unit @controller
 
   803 jump *label192 greaterThan *tmp284 .DISCARD_UNIT_MAX_ITEMS
   804 op add .CHANGE .CHANGE 1
   805 set :state 6
-    * jump *label193 always
   806 label *label192
   807 label *label193
-    * jump *label191 always
   808 label *label190
   809 label *label191
-    * jump *label189 always
   810 label *label188
   811 label *label189
   812 jump *label194 notEqual :state 1
 
   824 ucontrol within .DROP_X .DROP_Y 8 *tmp295
   825 jump *label200 equal *tmp295 false
   826 ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
-    * jump *label201 always
   827 label *label200
   828 label *label201
   829 print "[]"
 
   831 print "Unloading previous items: [green]"
   832 label *label199
   833 label *label197
-    * jump *label195 always
   834 label *label194
   835 label *label195
   836 jump *label202 notEqual :state 2
 
   854 print " "
   855 print "sec[] to source: [green]"
   856 label *label205
-    * jump *label203 always
   857 label *label202
   858 label *label203
   859 jump *label206 notEqual :state 3
 
   861 op sub :max_load *tmp310 .LOAD_LEVEL
   862 jump *label208 lessThan :max_load .LOAD_PACK
   863 ucontrol itemTake .SRC .ITEM :max_load
-    * jump *label209 always
   864 label *label208
   865 label *label209
   866 sensor *tmp314 @unit @totalItems
 
   876 op mul *tmp317 :loop_time_ms .SRC_REMOTE_WAIT
   877 op add :remote_wait_time :remote_wait_time *tmp317
   878 label *label211
-    * jump *label207 always
   879 label *label206
   880 label *label207
   881 jump *label212 notEqual :state 4
 
   902 print " "
   903 print "sec[] to destination: [green]"
   904 label *label215
-    * jump *label213 always
   905 label *label212
   906 label *label213
   907 jump *label216 notEqual :state 5
 
   909 op sub :max_drop .DROP_LEVEL *tmp332
   910 jump *label218 lessThan :max_drop .DROP_PACK
   911 ucontrol itemDrop .DST :max_drop
-    * jump *label219 always
   912 label *label218
   913 label *label219
   914 sensor *tmp336 @unit @totalItems
 
   938 op mul *tmp346 :loop_time_ms .DST_REMOTE_WAIT
   939 op add :remote_wait_time :remote_wait_time *tmp346
   940 label *label221
-    * jump *label217 always
   941 label *label216
   942 label *label217
   943 sensor :items @unit @totalItems
 
   954 jump *label226 greaterThan :items .PARK_ITEM_LIMIT
   955 ucontrol move .PARK_X .PARK_Y
   956 set :state .S_UNUSED
-    * jump *label227 always
   957 label *label226
   958 label *label227
-    * jump *label225 always
   959 label *label224
   960 label *label225
   961 jump *label223 always
 
   965 print :items
   966 print .ITEM_ICON
   967 ucontrol flag :state
-    * jump *label187 always
   968 label *label186
   969 label *label187
-    * jump *label185 always
   970 label *label184
   971 label *label185
   972 label *label78
 
   995 label *label239
   996 sensor *tmp363 switch2 @enabled
   997 jump *label237 notEqual *tmp363 false
-    * jump *label238 always
   998 label *label238
   999 print "[salmon]Local or remote container became invalid.\nPlease fix and press any button to reinitialize."
  1000 printflush message1
 
  1002 label *label236
  1003 jump *label235 always
  1004 label *label237
-    * jump *label232 always
  1005 label *label231
  1006 label *label232
  1007 control enabled switch1 false

Modifications by Iterated phase, Expression Optimization, pass 1, iteration 1 (-2 instructions):
 
   567 op idiv *tmp192 :turnaround_ms 100
   568 op div :turnaround_str *tmp192 10
   569 op div :items_per_ms_unit .UNIT_CAPACITY :turnaround_ms
-    * op mul *tmp195 :items_per_ms_unit 60000
-    * op floor :items_per_min_unit *tmp195
+  570 op idiv :items_per_min_unit :items_per_ms_unit 0.000016666666666666667
   571 op add *tmp197 :min_level :max_level
   572 op div :this_level *tmp197 2
   573 op sub *tmp199 :last_level :this_level
 
   575 op div :corr_per_ms :corr :elapsed_ms
   576 set :last_level :this_level
   577 op add :total_flow_per_ms :items_per_ms :corr_per_ms
-    * op mul *tmp203 60000 :corr_per_ms
-    * op floor :corr_per_min *tmp203
+  578 op idiv :corr_per_min :corr_per_ms 0.000016666666666666667
   579 set .CORR_SIGN "[]([green]"
   580 jump *label140 lessThan :corr_per_min 0
   581 set .CORR_SIGN "[]([green]+"

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
     8 set OVERALLOCATION_HIGH 0.75
     9 set STABILIZATION false
    10 set .STATE_LIMIT null
-    * set .ITEM_ICON .STATE_LIMIT
-    * set .ITEM .ITEM_ICON
-    * set .CORE_Y .ITEM
-    * set .CORE_X .CORE_Y
-    * set .CONTAINER_INDEX .CORE_X
+   11 set .ITEM_ICON null
+   12 set .ITEM .STATE_LIMIT
+   13 set .CORE_Y .ITEM_ICON
+   14 set .CORE_X .ITEM
+   15 set .CONTAINER_INDEX .CORE_Y
    16 set .MESSAGE ""
    17 op max .EFF_LOCAL_LIMIT LOCAL_LIMIT 20
    18 op max .EFF_REMOTE_LIMIT REMOTE_LIMIT 20
 
    20 set .TRIGGER_LEVEL 0.9
    21 op mul .S_UNUSED -1 HOUSEKEEPING
    22 set .LOOPS 1
-    * op mul *tmp3 .LOOPS 1000
-    * op div .LOOPS_TICKS_TO_MS *tmp3 60
+   23 op mul *tmp3 1 1000
+   24 op div .LOOPS_TICKS_TO_MS 1000 60
    25 set .INC_OVERALLOCATION OVERALLOCATION_LOW
    26 op add .DEC_OVERALLOCATION 1 OVERALLOCATION_HIGH
    27 set .TRIGGER_BOOST 2
 
   152 label *label38
   153 jump *label37 always
   154 label *label39
-    * ucontrol flag :flag
+  155 ucontrol flag .QUERY_FLAG
   156 label *label40
   157 jump *label42 notEqual :flag .QUERY_FLAG
   158 label *label44
 
   224 set .SHOW_REMOTE_LEVEL true
   225 set .SRC .CORE
   226 set .DST .CONTAINER
-    * sensor :src_capacity .SRC @itemCapacity
-    * sensor :dst_capacity .DST @itemCapacity
+  227 sensor :src_capacity .CORE @itemCapacity
+  228 sensor :dst_capacity .CONTAINER @itemCapacity
   229 op sub *tmp72 100 .EFF_REMOTE_LIMIT
   230 op mul *tmp73 :src_capacity *tmp72
   231 op idiv .LOAD_LEVEL *tmp73 100
 
   233 op idiv .DROP_LEVEL *tmp75 100
   234 set .LOCAL_MARGIN .DROP_LEVEL
   235 set .REMOTE_MARGIN .LOAD_LEVEL
-    * op sub *tmp77 1 .TRIGGER_LEVEL
-    * op mul .LOW_LEVEL_TRIGGER :dst_capacity *tmp77
+  236 op sub *tmp77 1 0.9
+  237 op mul .LOW_LEVEL_TRIGGER :dst_capacity 0.09999999999999998
   238 set .HIGH_LEVEL_TRIGGER :dst_capacity
   239 set .FLOW_CORR_SIGN 1
   240 set .SRC_REMOTE_WAIT 1
 
   251 op greaterThan .SHOW_REMOTE_LEVEL LINK_ID 0
   252 set .SRC .CONTAINER
   253 set .DST .CORE
-    * sensor :src_capacity .SRC @itemCapacity
-    * sensor :dst_capacity .DST @itemCapacity
+  254 sensor :src_capacity .CONTAINER @itemCapacity
+  255 sensor :dst_capacity .CORE @itemCapacity
   256 op sub *tmp84 100 .EFF_LOCAL_LIMIT
   257 op mul *tmp85 :src_capacity *tmp84
   258 op idiv .LOAD_LEVEL *tmp85 100
 
   263 op add .DROP_LEVEL *tmp88 *tmp90
   264 set .LOCAL_MARGIN .LOAD_LEVEL
   265 set .REMOTE_MARGIN .DROP_LEVEL
-    * op mul .HIGH_LEVEL_TRIGGER :src_capacity .TRIGGER_LEVEL
+  266 op mul .HIGH_LEVEL_TRIGGER :src_capacity 0.9
   267 set .LOW_LEVEL_TRIGGER 0
   268 set .FLOW_CORR_SIGN -1
   269 set .SRC_REMOTE_WAIT 0
 
   294 op sub *tmp105 .DST_Y .SRC_Y
   295 op len *tmp106 *tmp104 *tmp105
   296 op sub *tmp107 *tmp106 6
-    * op sub .DISTANCE *tmp107 8
+  297 op sub .DISTANCE *tmp106 14
   298 op max *tmp109 .DISTANCE 10
   299 op mul *tmp110 2 *tmp109
   300 op div .TRAVEL_TIME *tmp110 .SPEED
   301 op sub *tmp112 .DST_X .SRC_X
   302 op sub *tmp113 .DST_Y .SRC_Y
-    * op len *tmp114 *tmp112 *tmp113
-    * op sub *tmp115 *tmp114 6
-    * op div .DISTANCE *tmp115 100
+  303 op len *tmp114 *tmp104 *tmp105
+  304 op sub *tmp115 *tmp106 6
+  305 op div .DISTANCE *tmp107 100
   306 jump *label69 notEqual .DROP_TARGET null
   307 set .DROP_TARGET .CORE
   308 set .DROP_X .CORE_X
 
   345 set :elapsed_str "--"
   346 set :wait_time_str 0
   347 set :wait_time 0
-    * set :transfers :wait_time
-    * set :transferred :transfers
-    * set :total_flow_2 :transferred
-    * set :total_flow_1 :total_flow_2
-    * set :remote_wait_time :total_flow_1
-    * set :min_level :remote_wait_time
-    * set :max_level :min_level
-    * set :loop_time_ms :max_level
-    * set :last_level :loop_time_ms
-    * jump *label75 equal .EFF_AUTO_ALLOCATION false
+  348 set :transfers 0
+  349 set :transferred :wait_time
+  350 set :total_flow_2 :transfers
+  351 set :total_flow_1 :transferred
+  352 set :remote_wait_time :total_flow_2
+  353 set :min_level :total_flow_1
+  354 set :max_level :remote_wait_time
+  355 set :loop_time_ms :min_level
+  356 set :last_level :max_level
+  357 jump *label75 equal AUTO_ALLOCATION false
   358 set .CORR_SIGN "[]([green]+"
   359 set :corr_per_min 0
   360 set .SPEED_UNIT_TXT "[])/min"
 
   445 set .LAST_ITEM .ITEM
   446 # "Function: def itemTypeToIcon(in itemType)"
   447 set :itemTypeToIcon:itemType .ITEM
-    * jump *label102 notEqual :itemTypeToIcon:itemType @blast-compound
+  448 jump *label102 notEqual .ITEM @blast-compound
   449 label *label103
   450 set *tmp165 "[]"
   451 jump *label101 always
   452 label *label102
-    * jump *label104 notEqual :itemTypeToIcon:itemType @coal
+  453 jump *label104 notEqual .ITEM @coal
   454 label *label105
   455 set *tmp165 "[]"
   456 jump *label101 always
   457 label *label104
-    * jump *label106 notEqual :itemTypeToIcon:itemType @copper
+  458 jump *label106 notEqual .ITEM @copper
   459 label *label107
   460 set *tmp165 "[]"
   461 jump *label101 always
   462 label *label106
-    * jump *label108 notEqual :itemTypeToIcon:itemType @graphite
+  463 jump *label108 notEqual .ITEM @graphite
   464 label *label109
   465 set *tmp165 "[]"
   466 jump *label101 always
   467 label *label108
-    * jump *label110 notEqual :itemTypeToIcon:itemType @lead
+  468 jump *label110 notEqual .ITEM @lead
   469 label *label111
   470 set *tmp165 "[]"
   471 jump *label101 always
   472 label *label110
-    * jump *label112 notEqual :itemTypeToIcon:itemType @metaglass
+  473 jump *label112 notEqual .ITEM @metaglass
   474 label *label113
   475 set *tmp165 "[]"
   476 jump *label101 always
   477 label *label112
-    * jump *label114 notEqual :itemTypeToIcon:itemType @phase-fabric
+  478 jump *label114 notEqual .ITEM @phase-fabric
   479 label *label115
   480 set *tmp165 "[]"
   481 jump *label101 always
   482 label *label114
-    * jump *label116 notEqual :itemTypeToIcon:itemType @plastanium
+  483 jump *label116 notEqual .ITEM @plastanium
   484 label *label117
   485 set *tmp165 "[]"
   486 jump *label101 always
   487 label *label116
-    * jump *label118 notEqual :itemTypeToIcon:itemType @pyratite
+  488 jump *label118 notEqual .ITEM @pyratite
   489 label *label119
   490 set *tmp165 "[]"
   491 jump *label101 always
   492 label *label118
-    * jump *label120 notEqual :itemTypeToIcon:itemType @sand
+  493 jump *label120 notEqual .ITEM @sand
   494 label *label121
   495 set *tmp165 "[]"
   496 jump *label101 always
   497 label *label120
-    * jump *label122 notEqual :itemTypeToIcon:itemType @scrap
+  498 jump *label122 notEqual .ITEM @scrap
   499 label *label123
   500 set *tmp165 "[]"
   501 jump *label101 always
   502 label *label122
-    * jump *label124 notEqual :itemTypeToIcon:itemType @silicon
+  503 jump *label124 notEqual .ITEM @silicon
   504 label *label125
   505 set *tmp165 "[]"
   506 jump *label101 always
   507 label *label124
-    * jump *label126 notEqual :itemTypeToIcon:itemType @spore-pod
+  508 jump *label126 notEqual .ITEM @spore-pod
   509 label *label127
   510 set *tmp165 "[]"
   511 jump *label101 always
   512 label *label126
-    * jump *label128 notEqual :itemTypeToIcon:itemType @surge-alloy
+  513 jump *label128 notEqual .ITEM @surge-alloy
   514 label *label129
   515 set *tmp165 "[]"
   516 jump *label101 always
   517 label *label128
-    * jump *label130 notEqual :itemTypeToIcon:itemType @thorium
+  518 jump *label130 notEqual .ITEM @thorium
   519 label *label131
   520 set *tmp165 "[]"
   521 jump *label101 always
   522 label *label130
-    * jump *label132 notEqual :itemTypeToIcon:itemType @titanium
+  523 jump *label132 notEqual .ITEM @titanium
   524 label *label133
   525 set *tmp165 "[]"
   526 jump *label101 always
 
   529 label *label101
   530 set *tmp164 *tmp165
   531 label *label100
-    * set .ITEM_ICON *tmp164
+  532 set .ITEM_ICON *tmp165
   533 set .STATE_LIMIT 1
   534 sensor :last_level .CONTAINER .ITEM
   535 set :min_level 999999
 
   561 set :transfers 0
   562 jump *label138 equal .EFF_AUTO_ALLOCATION false
   563 set .AUTO_ALLOCATION_TXT "\n=== [gold]Unit auto allocation[] ==="
-    * op mul *tmp189 .LOOPS_TICKS_TO_MS :loop_time
+  564 op mul *tmp189 16.666666666666668 :loop_time
   565 op add :turnaround_ms .TRAVEL_TIME *tmp189
   566 op mul .WAIT_LIMIT :turnaround_ms .DEC_OVERALLOCATION
   567 op idiv *tmp192 :turnaround_ms 100
 
   595 set :trigger *tmp210
   596 jump *label150 equal :wait_time 0
   597 label *label151
-    * jump *label148 lessThanEq :trigger :remote_wait_time
+  598 jump *label148 lessThanEq *tmp210 :remote_wait_time
   599 label *label150
   600 jump *label152 equal STABILIZATION false
   601 set :total_flow_3 :total_flow_2
   602 set :total_flow_2 :total_flow_1
   603 set :total_flow_1 :total_flow_per_ms
   604 op add *tmp215 :total_flow_3 :total_flow_2
-    * op add *tmp216 *tmp215 :total_flow_1
+  605 op add *tmp216 *tmp215 :total_flow_per_ms
   606 op div :total_flow_per_ms *tmp216 3
   607 label *label152
   608 label *label153
   609 op div *tmp218 :total_flow_per_ms :items_per_ms_unit
-    * op add *tmp219 *tmp218 .INC_OVERALLOCATION
+  610 op add *tmp219 *tmp218 OVERALLOCATION_LOW
   611 op ceil :new_target *tmp219
-    * op mul :level_boost .TRIGGER_BOOST :trigger
+  612 op mul :level_boost 2 *tmp210
   613 op add *tmp222 :new_target :level_boost
   614 op min :new_target *tmp222 MAX_UNITS
   615 op sub *tmp224 :new_target :active
   616 op max *tmp225 *tmp224 0
   617 op min :new_change *tmp225 .INC_LIMIT
-    * set .INC_LIMIT .INC_MAX
+  618 set .INC_LIMIT 6
   619 op lessThanEq *tmp227 :new_change 0
-    * op mul .DEC_LIMIT *tmp227 .DEC_MAX
+  620 op mul .DEC_LIMIT *tmp227 -1
   621 jump *label149 always
   622 label *label148
   623 op idiv *tmp229 :wait_time .WAIT_LIMIT
   624 op mul *tmp230 -1 *tmp229
   625 op max :new_change *tmp230 .DEC_LIMIT
   626 op greaterThanEq *tmp232 :new_change 0
-    * op mul .INC_LIMIT *tmp232 .INC_MAX
-    * set .DEC_LIMIT .DEC_MAX
+  627 op mul .INC_LIMIT *tmp232 6
+  628 set .DEC_LIMIT -1
   629 label *label149
   630 op add *tmp234 :active :new_change
   631 op max .TARGET *tmp234 1
 
   646 label *label155
   647 label *label134
   648 label *label135
-    * print .MESSAGE
+  649 print ""
   650 print "Moving [green]"
   651 print .ITEM
   652 print "["
   653 print "]"
   654 print .DIRECTION
-    * print .LINK_TXT
+  655 print *tmp96
   656 print .AUTO_ALLOCATION_TXT
   657 jump *label156 lessThanEq .TARGET 0
   658 jump *label158 lessThan :active .TARGET

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-20 instructions):
 
     9 set STABILIZATION false
    10 set .STATE_LIMIT null
    11 set .ITEM_ICON null
-    * set .ITEM .STATE_LIMIT
-    * set .CORE_Y .ITEM_ICON
-    * set .CORE_X .ITEM
-    * set .CONTAINER_INDEX .CORE_Y
-    * set .MESSAGE ""
+   12 set .ITEM null
+   13 set .CORE_Y null
+   14 set .CORE_X .STATE_LIMIT
+   15 set .CONTAINER_INDEX .ITEM_ICON
    16 op max .EFF_LOCAL_LIMIT LOCAL_LIMIT 20
    17 op max .EFF_REMOTE_LIMIT REMOTE_LIMIT 20
    18 set .EFF_AUTO_ALLOCATION AUTO_ALLOCATION
-    * set .TRIGGER_LEVEL 0.9
    19 op mul .S_UNUSED -1 HOUSEKEEPING
-    * set .LOOPS 1
-    * op mul *tmp3 1 1000
-    * op div .LOOPS_TICKS_TO_MS 1000 60
-    * set .INC_OVERALLOCATION OVERALLOCATION_LOW
    20 op add .DEC_OVERALLOCATION 1 OVERALLOCATION_HIGH
-    * set .TRIGGER_BOOST 2
-    * set .INC_MAX 6
-    * set .DEC_MAX -1
    21 ubind UNIT
    22 label *label0
    23 jump *label2 notEqual @unit null
 
   224 op idiv .DROP_LEVEL *tmp75 100
   225 set .LOCAL_MARGIN .DROP_LEVEL
   226 set .REMOTE_MARGIN .LOAD_LEVEL
-    * op sub *tmp77 1 0.9
   227 op mul .LOW_LEVEL_TRIGGER :dst_capacity 0.09999999999999998
   228 set .HIGH_LEVEL_TRIGGER :dst_capacity
   229 set .FLOW_CORR_SIGN 1
 
   272 label *label67
   273 set *tmp96 LINK_ID
   274 label *label68
-    * set .LINK_TXT *tmp96
   275 op sub *tmp97 :src_capacity .LOAD_LEVEL
   276 op min .LOAD_PACK .UNIT_CAPACITY *tmp97
   277 op min .DROP_PACK .UNIT_CAPACITY .DROP_LEVEL
 
   287 op max *tmp109 .DISTANCE 10
   288 op mul *tmp110 2 *tmp109
   289 op div .TRAVEL_TIME *tmp110 .SPEED
-    * op sub *tmp112 .DST_X .SRC_X
-    * op sub *tmp113 .DST_Y .SRC_Y
-    * op len *tmp114 *tmp104 *tmp105
-    * op sub *tmp115 *tmp106 6
-    * op div .DISTANCE *tmp107 100
   290 jump *label69 notEqual .DROP_TARGET null
   291 set .DROP_TARGET .CORE
   292 set .DROP_X .CORE_X
 
   330 set :wait_time_str 0
   331 set :wait_time 0
   332 set :transfers 0
-    * set :transferred :wait_time
-    * set :total_flow_2 :transfers
-    * set :total_flow_1 :transferred
-    * set :remote_wait_time :total_flow_2
-    * set :min_level :total_flow_1
-    * set :max_level :remote_wait_time
-    * set :loop_time_ms :min_level
-    * set :last_level :max_level
+  333 set :transferred 0
+  334 set :total_flow_2 0
+  335 set :total_flow_1 :wait_time
+  336 set :remote_wait_time :transfers
+  337 set :min_level :transferred
+  338 set :max_level :total_flow_2
+  339 set :loop_time_ms :total_flow_1
+  340 set :last_level :remote_wait_time
   341 jump *label75 equal AUTO_ALLOCATION false
   342 set .CORR_SIGN "[]([green]+"
   343 set :corr_per_min 0
 
   428 label *label99
   429 set .LAST_ITEM .ITEM
   430 # "Function: def itemTypeToIcon(in itemType)"
-    * set :itemTypeToIcon:itemType .ITEM
   431 jump *label102 notEqual .ITEM @blast-compound
   432 label *label103
   433 set *tmp165 "[]"
 
   510 label *label132
   511 set *tmp165 null
   512 label *label101
-    * set *tmp164 *tmp165
   513 label *label100
   514 set .ITEM_ICON *tmp165
   515 set .STATE_LIMIT 1
 
   574 label *label144
   575 set *tmp210 false
   576 label *label145
-    * set :trigger *tmp210
   577 jump *label150 equal :wait_time 0
   578 label *label151
   579 jump *label148 lessThanEq *tmp210 :remote_wait_time
 
   622 set :wait_time 0
   623 set :remote_wait_time 0
   624 jump *label154 lessThan @tick .MESSAGE_TIMEOUT
-    * set .MESSAGE ""
   625 label *label154
   626 label *label155
   627 label *label134

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-1 instructions):
 
    11 set .ITEM_ICON null
    12 set .ITEM null
    13 set .CORE_Y null
-    * set .CORE_X .STATE_LIMIT
-    * set .CONTAINER_INDEX .ITEM_ICON
+   14 set .CORE_X null
+   15 set .CONTAINER_INDEX null
    16 op max .EFF_LOCAL_LIMIT LOCAL_LIMIT 20
    17 op max .EFF_REMOTE_LIMIT REMOTE_LIMIT 20
    18 set .EFF_AUTO_ALLOCATION AUTO_ALLOCATION
 
   282 op sub *tmp104 .DST_X .SRC_X
   283 op sub *tmp105 .DST_Y .SRC_Y
   284 op len *tmp106 *tmp104 *tmp105
-    * op sub *tmp107 *tmp106 6
   285 op sub .DISTANCE *tmp106 14
   286 op max *tmp109 .DISTANCE 10
   287 op mul *tmp110 2 *tmp109
 
   331 set :transfers 0
   332 set :transferred 0
   333 set :total_flow_2 0
-    * set :total_flow_1 :wait_time
-    * set :remote_wait_time :transfers
-    * set :min_level :transferred
-    * set :max_level :total_flow_2
-    * set :loop_time_ms :total_flow_1
-    * set :last_level :remote_wait_time
+  334 set :total_flow_1 0
+  335 set :remote_wait_time 0
+  336 set :min_level 0
+  337 set :max_level 0
+  338 set :loop_time_ms :wait_time
+  339 set :last_level :transfers
   340 jump *label75 equal AUTO_ALLOCATION false
   341 set .CORR_SIGN "[]([green]+"
   342 set :corr_per_min 0

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 4:
 
   335 set :remote_wait_time 0
   336 set :min_level 0
   337 set :max_level 0
-    * set :loop_time_ms :wait_time
-    * set :last_level :transfers
+  338 set :loop_time_ms 0
+  339 set :last_level 0
   340 jump *label75 equal AUTO_ALLOCATION false
   341 set .CORR_SIGN "[]([green]+"
   342 set :corr_per_min 0

Modifications by Iterated phase, Loop Hoisting, pass 1, iteration 1:
 
   131 print "."
   132 print ".."
   133 printflush message1
+  134 op add .QUERY_FLAG 99999900 LINK_ID
   135 label *label34
   136 jump *label36 notEqual .CORE null
-    * op add .QUERY_FLAG 99999900 LINK_ID
   137 set :flag .QUERY_FLAG
   138 ubind UNIT
   139 label *label37

Modifications by Iterated phase, Loop Rotation, pass 1, iteration 1:
 
    21 ubind UNIT
    22 label *label0
    23 jump *label2 notEqual @unit null
+   24 label *label240
    25 print "[salmon]No unit of type "
    26 print UNIT
    27 print " "
 
    29 printflush message1
    30 ubind UNIT
    31 label *label1
-    * jump *label0 always
+   32 jump *label240 equal @unit null
    33 label *label2
    34 set :first_unit @unit
    35 sensor *tmp8 @unit @speed
 
    40 set :repeat true
    41 label *label3
    42 jump *label5 equal :repeat false
+   43 label *label241
    44 sensor *tmp12 @unit @controller
    45 jump *label6 notEqual *tmp12 @this
    46 sensor :state @unit @flag
 
    70 label *label13
    71 set :repeat *tmp22
    72 label *label4
-    * jump *label3 always
+   73 jump *label241 notEqual :repeat false
    74 label *label5
    75 set .CHANGE 0
    76 set :active .TARGET
 
    84 set :n @links
    85 label *label19
    86 jump *label21 lessThanEq :n 0
+   87 label *label242
    88 op sub :n :n 1
    89 getlink :block :n
    90 sensor *tmp29 :block @type
 
    97 label *label23
    98 label *label22
    99 label *label20
-    * jump *label19 always
+  100 jump *label242 greaterThan :n 0
   101 label *label21
   102 jump *label25 notEqual .CONTAINER null
   103 print "[salmon]No vault or container."
 
   113 jump *label27 notEqual LINK_ID 0
   114 label *label29
   115 jump *label31 notEqual .CORE null
+  116 label *label243
   117 print "[green]Locating core..."
   118 printflush message1
   119 ubind UNIT
 
   124 label *label32
   125 label *label33
   126 label *label30
-    * jump *label29 always
+  127 jump *label243 equal .CORE null
   128 label *label31
   129 set .DISCARD_UNIT_MAX_ITEMS .UNIT_CAPACITY
   130 jump *label28 always
 
   138 op add .QUERY_FLAG 99999900 LINK_ID
   139 label *label34
   140 jump *label36 notEqual .CORE null
+  141 label *label244
   142 set :flag .QUERY_FLAG
   143 ubind UNIT
   144 label *label37
 
   151 ucontrol flag .QUERY_FLAG
   152 label *label40
   153 jump *label42 notEqual :flag .QUERY_FLAG
-    * label *label44
+  154 label *label245
   155 sensor *tmp46 @unit @dead
   156 jump *label42 notEqual *tmp46 0
-    * label *label43
   157 ucontrol stop
   158 sensor :flag @unit @flag
   159 label *label41
-    * jump *label40 always
+  160 jump *label245 equal :flag .QUERY_FLAG
   161 label *label42
   162 jump *label45 equal :flag .QUERY_FLAG
   163 op idiv :position :flag 100
 
   166 label *label47
   167 sensor *tmp54 @unit @dead
   168 jump *label49 notEqual *tmp54 0
-    * label *label51
   169 ucontrol within .CORE_X .CORE_Y 8 *tmp56
   170 jump *label49 notEqual *tmp56 false
-    * label *label50
   171 ucontrol approach .CORE_X .CORE_Y 6
   172 label *label48
   173 jump *label47 always
 
   189 label *label46
   190 ucontrol flag .S_UNUSED
   191 label *label35
-    * jump *label34 always
+  192 jump *label244 equal .CORE null
   193 label *label36
   194 set .DISCARD_UNIT_MAX_ITEMS 0
   195 label *label28
 
   197 sensor :sorter_type .SORTER @type
   198 label *label54
   199 jump *label56 equal :sorter_type @sorter
-    * label *label58
+  200 label *label246
   201 jump *label56 equal :sorter_type @inverted-sorter
-    * label *label57
   202 print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter."
   203 print "\n"
   204 jump *label59 equal .SORTER null
 
   210 set .SORTER sorter1
   211 sensor :sorter_type .SORTER @type
   212 label *label55
-    * jump *label54 always
+  213 jump *label246 notEqual :sorter_type @sorter
   214 label *label56
   215 jump *label61 notEqual :sorter_type @sorter
   216 set .SHOW_REMOTE_LEVEL true
 
   354 ubind UNIT
   355 label *label80
   356 jump *label82 notEqual @unit null
+  357 label *label247
   358 print "No unit of type "
   359 print UNIT
   360 print " "
 
   362 printflush message1
   363 ubind UNIT
   364 label *label81
-    * jump *label80 always
+  365 jump *label247 equal @unit null
   366 label *label82
   367 sensor *tmp136 switch1 @enabled
   368 jump *label83 equal *tmp136 false
 
   421 jump *label95 equal .ITEM .LAST_ITEM
   422 label *label97
   423 jump *label99 notEqual .ITEM null
+  424 label *label248
   425 print "[salmon]No item type selected for transport.[]"
   426 printflush message1
   427 sensor .ITEM .SORTER @config
   428 label *label98
-    * jump *label97 always
+  429 jump *label248 equal .ITEM null
   430 label *label99
   431 set .LAST_ITEM .ITEM
   432 # "Function: def itemTypeToIcon(in itemType)"
 
   972 label *label235
   973 sensor *tmp362 switch1 @enabled
   974 jump *label237 notEqual *tmp362 false
-    * label *label239
   975 sensor *tmp363 switch2 @enabled
   976 jump *label237 notEqual *tmp363 false
-    * label *label238
   977 print "[salmon]Local or remote container became invalid.\nPlease fix and press any button to reinitialize."
   978 printflush message1
   979 printflush message2

Modifications by Iterated phase, Boolean Optimization, pass 1, iteration 1 (-32 instructions):
 
    44 sensor *tmp12 @unit @controller
    45 jump *label6 notEqual *tmp12 @this
    46 sensor :state @unit @flag
-    * jump *label8 lessThan :state 1
-    * label *label11
-    * jump *label8 greaterThanEq :state 6
-    * label *label10
-    * set *tmp18 true
-    * jump *label9 always
-    * label *label8
-    * set *tmp18 false
-    * label *label9
+   47 select *tmp368 greaterThanEq :state 1 true false
+   48 select *tmp18 lessThan :state 6 *tmp368 false
    49 op add .TARGET .TARGET *tmp18
    50 label *label6
    51 label *label7
    52 ubind UNIT
    53 jump *label12 equal @unit :first_unit
-    * label *label15
-    * sensor *tmp20 :first_unit @dead
-    * op strictEqual *tmp21 *tmp20 0
-    * jump *label12 equal *tmp21 false
-    * label *label14
-    * set *tmp22 true
+   54 sensor *tmp20 :first_unit @dead
+   55 op strictEqual *tmp21 *tmp20 0
+   56 op notEqual *tmp22 *tmp21 false
    57 jump *label13 always
    58 label *label12
    59 set *tmp22 false
 
   220 set .FLOW_CORR_SIGN 1
   221 set .SRC_REMOTE_WAIT 1
   222 set .DST_REMOTE_WAIT 0
-    * jump *label63 notEqual LINK_ID 0
-    * set *tmp80 " from core"
-    * jump *label64 always
-    * label *label63
-    * set *tmp80 " from vault #"
-    * label *label64
+  223 select *tmp80 equal LINK_ID 0 " from core" " from vault #"
   224 set .DIRECTION *tmp80
   225 jump *label62 always
   226 label *label61
 
   244 set .FLOW_CORR_SIGN -1
   245 set .SRC_REMOTE_WAIT 0
   246 set .DST_REMOTE_WAIT 1
-    * jump *label65 notEqual LINK_ID 0
-    * set *tmp94 " to core"
-    * jump *label66 always
-    * label *label65
-    * set *tmp94 " to vault #"
-    * label *label66
+  247 select *tmp94 equal LINK_ID 0 " to core" " to vault #"
   248 set .DIRECTION *tmp94
   249 label *label62
-    * jump *label67 notEqual LINK_ID 0
-    * set *tmp96 ""
-    * jump *label68 always
-    * label *label67
-    * set *tmp96 LINK_ID
-    * label *label68
+  250 select *tmp96 equal LINK_ID 0 "" LINK_ID
   251 op sub *tmp97 :src_capacity .LOAD_LEVEL
   252 op min .LOAD_PACK .UNIT_CAPACITY *tmp97
   253 op min .DROP_PACK .UNIT_CAPACITY .DROP_LEVEL
 
   266 set .DROP_TARGET .CORE
   267 set .DROP_X .CORE_X
   268 set .DROP_Y .CORE_Y
-    * sensor *tmp119 .CONTAINER @x
-    * jump *label71 greaterThanEq *tmp119 .CORE_X
-    * set *tmp121 15
-    * jump *label72 always
-    * label *label71
-    * set *tmp121 -15
-    * label *label72
+  269 sensor *tmp119 .CONTAINER @x
+  270 select *tmp121 lessThan *tmp119 .CORE_X 15 -15
   271 op add .PARK_X .CORE_X *tmp121
-    * sensor *tmp123 .CONTAINER @y
-    * jump *label73 greaterThanEq *tmp123 .CORE_Y
-    * set *tmp125 15
-    * jump *label74 always
-    * label *label73
-    * set *tmp125 -15
-    * label *label74
+  272 sensor *tmp123 .CONTAINER @y
+  273 select *tmp125 lessThan *tmp123 .CORE_Y 15 -15
   274 op add .PARK_Y .CORE_Y *tmp125
   275 op equal *tmp127 LINK_ID 0
   276 op mul .PARK_ITEM_LIMIT *tmp127 .UNIT_CAPACITY
 
   303 set :max_level 0
   304 set :loop_time_ms 0
   305 set :last_level 0
-    * jump *label75 equal AUTO_ALLOCATION false
-    * set .CORR_SIGN "[]([green]+"
-    * set :corr_per_min 0
-    * set .SPEED_UNIT_TXT "[])/min"
-    * set .AUTO_ALLOCATION_TXT "\n=== [gold]Gathering statistics[] ==="
-    * jump *label76 always
-    * label *label75
-    * set .CORR_SIGN "[]"
-    * set :corr_per_min ""
-    * set .SPEED_UNIT_TXT "/min"
-    * set .AUTO_ALLOCATION_TXT ""
-    * label *label76
+  306 select .CORR_SIGN notEqual AUTO_ALLOCATION false "[]([green]+" "[]"
+  307 select :corr_per_min notEqual AUTO_ALLOCATION false 0 ""
+  308 select .SPEED_UNIT_TXT notEqual AUTO_ALLOCATION false "[])/min" "/min"
+  309 select .AUTO_ALLOCATION_TXT notEqual AUTO_ALLOCATION false "\n=== [gold]Gathering statistics[] ===" ""
   310 label *label77
   311 ubind UNIT
   312 label *label80
 
   353 set .CORR_SIGN "[]"
   354 set :corr_per_min ""
   355 set .SPEED_UNIT_TXT "/min"
-    * jump *label89 notEqual .TARGET 0
-    * set *tmp151 "\n=== [salmon]Transport deactivated[] ==="
-    * jump *label90 always
-    * label *label89
-    * set *tmp151 ""
-    * label *label90
+  356 select *tmp151 equal .TARGET 0 "\n=== [salmon]Transport deactivated[] ===" ""
   357 set .AUTO_ALLOCATION_TXT *tmp151
   358 label *label88
   359 set .WAIT_LIMIT 30000
 
   480 op mul *tmp173 :loop_time 100
   481 op idiv :loop_time_ms *tmp173 6
   482 jump *label136 greaterThanEq :transfers :active
-    * label *label137
   483 jump *label134 lessThanEq :wait_time .WAIT_LIMIT
   484 label *label136
   485 op div *tmp178 :wait_time 100
 
   512 op add :total_flow_per_ms :items_per_ms :corr_per_ms
   513 op idiv :corr_per_min :corr_per_ms 0.000016666666666666667
   514 set .CORR_SIGN "[]([green]"
-    * jump *label140 lessThan :corr_per_min 0
-    * set .CORR_SIGN "[]([green]+"
-    * label *label140
-    * label *label141
+  515 select .CORR_SIGN greaterThanEq :corr_per_min 0 "[]([green]+" .CORR_SIGN
   516 set .SPEED_UNIT_TXT "[])/min"
   517 jump *label142 equal :alive false
-    * jump *label146 lessThan :min_level .LOW_LEVEL_TRIGGER
-    * label *label147
-    * jump *label144 lessThanEq :max_level .HIGH_LEVEL_TRIGGER
-    * label *label146
-    * set *tmp210 true
-    * jump *label145 always
-    * label *label144
-    * set *tmp210 false
-    * label *label145
+  518 select *tmp369 lessThan :min_level .LOW_LEVEL_TRIGGER true false
+  519 select *tmp210 greaterThan :max_level .HIGH_LEVEL_TRIGGER true *tmp369
+  520 label *label249
   521 jump *label150 equal :wait_time 0
-    * label *label151
   522 jump *label148 lessThanEq *tmp210 :remote_wait_time
   523 label *label150
   524 jump *label152 equal STABILIZATION false
 
   906 sensor *tmp357 .SRC @dead
   907 op strictEqual *tmp358 *tmp357 0
   908 jump *label233 equal *tmp358 false
-    * label *label234
   909 sensor *tmp359 .DST @dead
   910 jump *label231 strictEqual *tmp359 0
   911 label *label233

Modifications by Iterated phase, If Expression Optimization, pass 1, iteration 1 (-1 instructions):
 
    53 jump *label12 equal @unit :first_unit
    54 sensor *tmp20 :first_unit @dead
    55 op strictEqual *tmp21 *tmp20 0
-    * op notEqual *tmp22 *tmp21 false
+   56 op notEqual :repeat *tmp21 false
    57 jump *label13 always
    58 label *label12
-    * set *tmp22 false
+   59 set :repeat false
    60 label *label13
-    * set :repeat *tmp22
    61 label *label4
    62 jump *label241 notEqual :repeat false
    63 label *label5

Modifications by Full loop rotation at line 172:9 (+1 instructions):
 
   133 label *label37
   134 sensor *tmp43 @unit @controlled
   135 jump *label39 equal *tmp43 0
+  136 label *label250
   137 ubind UNIT
   138 label *label38
-    * jump *label37 always
+  139 sensor *tmp43 @unit @controlled
+  140 jump *label250 notEqual *tmp43 0
   141 label *label39
   142 ucontrol flag .QUERY_FLAG
   143 label *label40

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    39 set .TARGET 0
    40 set :repeat true
    41 label *label3
-    * jump *label5 equal :repeat false
+   42 jump *label5 equal true false
    43 label *label241
    44 sensor *tmp12 @unit @controller
    45 jump *label6 notEqual *tmp12 @this
 
   101 set .CORE null
   102 jump *label27 notEqual LINK_ID 0
   103 label *label29
-    * jump *label31 notEqual .CORE null
+  104 jump *label31 notEqual null null
   105 label *label243
   106 print "[green]Locating core..."
   107 printflush message1
 
   126 printflush message1
   127 op add .QUERY_FLAG 99999900 LINK_ID
   128 label *label34
-    * jump *label36 notEqual .CORE null
+  129 jump *label36 notEqual null null
   130 label *label244
   131 set :flag .QUERY_FLAG
   132 ubind UNIT
 
   141 label *label39
   142 ucontrol flag .QUERY_FLAG
   143 label *label40
-    * jump *label42 notEqual :flag .QUERY_FLAG
+  144 jump *label42 notEqual .QUERY_FLAG .QUERY_FLAG
   145 label *label245
   146 sensor *tmp46 @unit @dead
   147 jump *label42 notEqual *tmp46 0
 
   513 op add :total_flow_per_ms :items_per_ms :corr_per_ms
   514 op idiv :corr_per_min :corr_per_ms 0.000016666666666666667
   515 set .CORR_SIGN "[]([green]"
-    * select .CORR_SIGN greaterThanEq :corr_per_min 0 "[]([green]+" .CORR_SIGN
+  516 select .CORR_SIGN greaterThanEq :corr_per_min 0 "[]([green]+" "[]([green]"
   517 set .SPEED_UNIT_TXT "[])/min"
   518 jump *label142 equal :alive false
   519 select *tmp369 lessThan :min_level .LOW_LEVEL_TRIGGER true false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-2 instructions):
 
    37 sensor *tmp10 @unit @speed
    38 op div .SPEED *tmp10 1000
    39 set .TARGET 0
-    * set :repeat true
    40 label *label3
    41 jump *label5 equal true false
    42 label *label241
 
   511 set :last_level :this_level
   512 op add :total_flow_per_ms :items_per_ms :corr_per_ms
   513 op idiv :corr_per_min :corr_per_ms 0.000016666666666666667
-    * set .CORR_SIGN "[]([green]"
   514 select .CORR_SIGN greaterThanEq :corr_per_min 0 "[]([green]+" "[]([green]"
   515 set .SPEED_UNIT_TXT "[])/min"
   516 jump *label142 equal :alive false

Modifications by Partial loop rotation at line 184:13 (+1 instructions):
 
   156 label *label47
   157 sensor *tmp54 @unit @dead
   158 jump *label49 notEqual *tmp54 0
+  159 label *label251
   160 ucontrol within .CORE_X .CORE_Y 8 *tmp56
   161 jump *label49 notEqual *tmp56 false
   162 ucontrol approach .CORE_X .CORE_Y 6
   163 label *label48
-    * jump *label47 always
+  164 sensor *tmp54 @unit @dead
+  165 jump *label251 equal *tmp54 0
   166 label *label49
   167 ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE *tmp59
   168 jump *label52 equal :b_type @vault

Modifications by Partial loop rotation at line 700:5 (+1 instructions):
 
   913 label *label235
   914 sensor *tmp362 switch1 @enabled
   915 jump *label237 notEqual *tmp362 false
+  916 label *label252
   917 sensor *tmp363 switch2 @enabled
   918 jump *label237 notEqual *tmp363 false
   919 print "[salmon]Local or remote container became invalid.\nPlease fix and press any button to reinitialize."
   920 printflush message1
   921 printflush message2
   922 label *label236
-    * jump *label235 always
+  923 sensor *tmp362 switch1 @enabled
+  924 jump *label252 equal *tmp362 false
   925 label *label237
   926 label *label231
   927 label *label232

Modifications by Full loop rotation at line 692:1 (+2 instructions):
 
   897 label *label228
   898 sensor *tmp355 .SORTER @dead
   899 jump *label230 strictEqual *tmp355 0
+  900 label *label253
   901 print "[salmon]sorter1 is missing![]\nPlease place and link sorter or inverted sorter to the processor."
   902 printflush message1
   903 printflush message2
   904 set .SORTER sorter1
   905 label *label229
-    * jump *label228 always
+  906 sensor *tmp355 .SORTER @dead
+  907 op strictEqual *tmp370 *tmp355 0
+  908 jump *label253 equal *tmp370 false
   909 label *label230
   910 sensor *tmp357 .SRC @dead
   911 op strictEqual *tmp358 *tmp357 0

Modifications by Convert case at line 712:5 (segments: 1) (+3 instructions):
 
   384 label *label99
   385 set .LAST_ITEM .ITEM
   386 # "Function: def itemTypeToIcon(in itemType)"
-    * jump *label102 notEqual .ITEM @blast-compound
+  387 sensor *tmp371 .ITEM @id
+  388 jump *label254 greaterThanEq *tmp371 16
+  389 multijump *label257 *tmp371 0 (m:*label256)
+  390 multilabel *label257 (m:*label256)
+  391 jump *label255 always
+  392 multilabel *label258 (m:*label256)
+  393 jump *label111 always
+  394 multilabel *label259 (m:*label256)
+  395 jump *label113 always
+  396 multilabel *label260 (m:*label256)
+  397 jump *label109 always
+  398 multilabel *label261 (m:*label256)
+  399 jump *label121 always
+  400 multilabel *label262 (m:*label256)
+  401 jump *label105 always
+  402 multilabel *label263 (m:*label256)
+  403 jump *label133 always
+  404 multilabel *label264 (m:*label256)
+  405 jump *label131 always
+  406 multilabel *label265 (m:*label256)
+  407 jump *label123 always
+  408 multilabel *label266 (m:*label256)
+  409 jump *label125 always
+  410 multilabel *label267 (m:*label256)
+  411 jump *label117 always
+  412 multilabel *label268 (m:*label256)
+  413 jump *label115 always
+  414 multilabel *label269 (m:*label256)
+  415 jump *label129 always
+  416 multilabel *label270 (m:*label256)
+  417 jump *label127 always
+  418 multilabel *label271 (m:*label256)
+  419 jump *label103 always
+  420 multilabel *label272 (m:*label256)
+  421 label *label119
+  422 set *tmp165 "[]"
+  423 jump *label101 always
   424 label *label103
   425 set *tmp165 "[]"
   426 jump *label101 always
   427 label *label102
-    * jump *label104 notEqual .ITEM @coal
   428 label *label105
   429 set *tmp165 "[]"
   430 jump *label101 always
   431 label *label104
-    * jump *label106 notEqual .ITEM @copper
+  432 label *label255
+  433 jump *label254 strictEqual *tmp371 null
   434 label *label107
   435 set *tmp165 "[]"
   436 jump *label101 always
   437 label *label106
-    * jump *label108 notEqual .ITEM @graphite
   438 label *label109
   439 set *tmp165 "[]"
   440 jump *label101 always
   441 label *label108
-    * jump *label110 notEqual .ITEM @lead
   442 label *label111
   443 set *tmp165 "[]"
   444 jump *label101 always
   445 label *label110
-    * jump *label112 notEqual .ITEM @metaglass
   446 label *label113
   447 set *tmp165 "[]"
   448 jump *label101 always
   449 label *label112
-    * jump *label114 notEqual .ITEM @phase-fabric
   450 label *label115
   451 set *tmp165 "[]"
   452 jump *label101 always
   453 label *label114
-    * jump *label116 notEqual .ITEM @plastanium
   454 label *label117
   455 set *tmp165 "[]"
   456 jump *label101 always
   457 label *label116
-    * jump *label118 notEqual .ITEM @pyratite
-    * label *label119
-    * set *tmp165 "[]"
-    * jump *label101 always
   458 label *label118
-    * jump *label120 notEqual .ITEM @sand
   459 label *label121
   460 set *tmp165 "[]"
   461 jump *label101 always
   462 label *label120
-    * jump *label122 notEqual .ITEM @scrap
   463 label *label123
   464 set *tmp165 "[]"
   465 jump *label101 always
   466 label *label122
-    * jump *label124 notEqual .ITEM @silicon
   467 label *label125
   468 set *tmp165 "[]"
   469 jump *label101 always
   470 label *label124
-    * jump *label126 notEqual .ITEM @spore-pod
   471 label *label127
   472 set *tmp165 "[]"
   473 jump *label101 always
   474 label *label126
-    * jump *label128 notEqual .ITEM @surge-alloy
   475 label *label129
   476 set *tmp165 "[]"
   477 jump *label101 always
   478 label *label128
-    * jump *label130 notEqual .ITEM @thorium
   479 label *label131
   480 set *tmp165 "[]"
   481 jump *label101 always
   482 label *label130
-    * jump *label132 notEqual .ITEM @titanium
   483 label *label133
   484 set *tmp165 "[]"
   485 jump *label101 always
   486 label *label132
+  487 label *label254
   488 set *tmp165 null
   489 label *label101
   490 label *label100

Modifications by Iterated phase, Jump Normalization, pass 2, iteration 1 (-4 instructions):
 
    38 op div .SPEED *tmp10 1000
    39 set .TARGET 0
    40 label *label3
-    * jump *label5 equal true false
    41 label *label241
    42 sensor *tmp12 @unit @controller
    43 jump *label6 notEqual *tmp12 @this
 
    99 set .CORE null
   100 jump *label27 notEqual LINK_ID 0
   101 label *label29
-    * jump *label31 notEqual null null
   102 label *label243
   103 print "[green]Locating core..."
   104 printflush message1
 
   123 printflush message1
   124 op add .QUERY_FLAG 99999900 LINK_ID
   125 label *label34
-    * jump *label36 notEqual null null
   126 label *label244
   127 set :flag .QUERY_FLAG
   128 ubind UNIT
 
   137 label *label39
   138 ucontrol flag .QUERY_FLAG
   139 label *label40
-    * jump *label42 notEqual .QUERY_FLAG .QUERY_FLAG
   140 label *label245
   141 sensor *tmp46 @unit @dead
   142 jump *label42 notEqual *tmp46 0

Modifications by Iterated phase, Condition Optimization, pass 2, iteration 1 (-1 instructions):
 
    50 ubind UNIT
    51 jump *label12 equal @unit :first_unit
    52 sensor *tmp20 :first_unit @dead
-    * op strictEqual *tmp21 *tmp20 0
-    * op notEqual :repeat *tmp21 false
+   53 op strictEqual :repeat *tmp20 0
    54 jump *label13 always
    55 label *label12
    56 set :repeat false

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-1 instructions):
 
   581 label *label139
   582 set :wait_time 0
   583 set :remote_wait_time 0
-    * jump *label154 lessThan @tick .MESSAGE_TIMEOUT
   584 label *label154
   585 label *label155
   586 label *label134

Modifications by Iterated phase, Expression Optimization, pass 2, iteration 1:
 
    42 sensor *tmp12 @unit @controller
    43 jump *label6 notEqual *tmp12 @this
    44 sensor :state @unit @flag
-    * select *tmp368 greaterThanEq :state 1 true false
+   45 op greaterThanEq *tmp368 :state 1
    46 select *tmp18 lessThan :state 6 *tmp368 false
    47 op add .TARGET .TARGET *tmp18
    48 label *label6
 
   532 select .CORR_SIGN greaterThanEq :corr_per_min 0 "[]([green]+" "[]([green]"
   533 set .SPEED_UNIT_TXT "[])/min"
   534 jump *label142 equal :alive false
-    * select *tmp369 lessThan :min_level .LOW_LEVEL_TRIGGER true false
+  535 op lessThan *tmp369 :min_level .LOW_LEVEL_TRIGGER
   536 select *tmp210 greaterThan :max_level .HIGH_LEVEL_TRIGGER true *tmp369
   537 label *label249
   538 jump *label150 equal :wait_time 0

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-1 instructions):
 
   282 set .TRANSFER_START @tick
   283 op sub .LOOP_START @tick 60
   284 set .LAST_ITEM @mono
-    * op add .MESSAGE_TIMEOUT @tick 600
   285 set .WAIT_LIMIT 30000
   286 set :items_in_transit 0
   287 set :items_per_min_unit "--"

Modifications by Iterated phase, Temp Variables Elimination, pass 2, iteration 1 (-3 instructions):
 
   217 set .FLOW_CORR_SIGN 1
   218 set .SRC_REMOTE_WAIT 1
   219 set .DST_REMOTE_WAIT 0
-    * select *tmp80 equal LINK_ID 0 " from core" " from vault #"
-    * set .DIRECTION *tmp80
+  220 select .DIRECTION equal LINK_ID 0 " from core" " from vault #"
   221 jump *label62 always
   222 label *label61
   223 op greaterThan .SHOW_REMOTE_LEVEL LINK_ID 0
 
   240 set .FLOW_CORR_SIGN -1
   241 set .SRC_REMOTE_WAIT 0
   242 set .DST_REMOTE_WAIT 1
-    * select *tmp94 equal LINK_ID 0 " to core" " to vault #"
-    * set .DIRECTION *tmp94
+  243 select .DIRECTION equal LINK_ID 0 " to core" " to vault #"
   244 label *label62
   245 select *tmp96 equal LINK_ID 0 "" LINK_ID
   246 op sub *tmp97 :src_capacity .LOAD_LEVEL
 
   347 set .CORR_SIGN "[]"
   348 set :corr_per_min ""
   349 set .SPEED_UNIT_TXT "/min"
-    * select *tmp151 equal .TARGET 0 "\n=== [salmon]Transport deactivated[] ===" ""
-    * set .AUTO_ALLOCATION_TXT *tmp151
+  350 select .AUTO_ALLOCATION_TXT equal .TARGET 0 "\n=== [salmon]Transport deactivated[] ===" ""
   351 label *label88
   352 set .WAIT_LIMIT 30000
   353 label *label85

Modifications by Jumps phase, Jump Straightening, pass 4, iteration 1 (-4 instructions):
 
   627 set :items_in_transit 0
   628 print "Unit status:"
   629 sensor *tmp255 .SRC @dead
-    * jump *label172 equal *tmp255 0
-    * jump *label79 always
+  630 jump *label79 notEqual *tmp255 0
   631 label *label172
   632 sensor *tmp258 .DST @dead
-    * jump *label174 equal *tmp258 0
-    * jump *label79 always
+  633 jump *label79 notEqual *tmp258 0
   634 label *label174
   635 sensor *tmp261 .SORTER @dead
-    * jump *label176 equal *tmp261 0
-    * jump *label79 always
+  636 jump *label79 notEqual *tmp261 0
   637 label *label176
   638 getlink *tmp264 .CONTAINER_INDEX
-    * jump *label178 equal .CONTAINER *tmp264
-    * jump *label79 always
+  639 jump *label79 notEqual .CONTAINER *tmp264
   640 label *label178
   641 label *label91
   642 jump *label180 lessThanEq .CHANGE 0

Modifications by Jumps phase, Jump Threading, pass 4, iteration 1:
 
    76 label *label23
    77 jump *label242 greaterThan :n 0
    78 label *label21
-    * jump *label25 notEqual .CONTAINER null
+   79 jump *label18 notEqual .CONTAINER null
    80 print "[salmon]No vault or container."
    81 printflush message1
-    * jump *label26 always
+   82 jump *label16 always
    83 label *label25
    84 jump *label18 always
    85 label *label26
 
   643 label *label182
   644 label *label180
   645 sensor *tmp272 @unit @controller
-    * jump *label184 notEqual *tmp272 @this
+  646 jump *label77 notEqual *tmp272 @this
   647 sensor :state @unit @flag
-    * jump *label186 equal :state .S_UNUSED
+  648 jump *label77 equal :state .S_UNUSED
   649 op max *tmp278 :state 1
   650 op min :state *tmp278 .STATE_LIMIT
   651 jump *label188 greaterThanEq .CHANGE 0
 
   788 print "Parking: [green]"
   789 ucontrol approach .DROP_X .DROP_Y 6
   790 ucontrol within .DROP_X .DROP_Y 8 *tmp350
-    * jump *label224 equal *tmp350 false
+  791 jump *label223 equal *tmp350 false
   792 ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
   793 sensor :items @unit @totalItems
-    * jump *label226 greaterThan :items .PARK_ITEM_LIMIT
+  794 jump *label223 greaterThan :items .PARK_ITEM_LIMIT
   795 ucontrol move .PARK_X .PARK_Y
   796 set :state .S_UNUSED
   797 label *label226

Modifications by Jumps phase, Single Step Elimination, pass 4, iteration 1 (-1 instructions):
 
   832 label *label231
   833 control enabled switch1 false
   834 control enabled switch2 false
-    * end

Modifications by Jumps phase, Unreachable Code Elimination, pass 5, iteration 1 (-2 instructions):
 
    80 print "[salmon]No vault or container."
    81 printflush message1
    82 jump *label16 always
-    * jump *label18 always
-    * jump *label16 always
    83 label *label18
    84 set .CORE null
    85 jump *label27 notEqual LINK_ID 0

Modifications by Final phase, Temp Variables Elimination, iteration 1:
 
    89 ubind UNIT
    90 sensor *tmp36 @unit @controlled
    91 jump *label32 notEqual *tmp36 0
-    * ulocate building core false @copper .CORE_X .CORE_Y *tmp40 .CORE
+   92 ulocate building core false @copper .CORE_X .CORE_Y 0 .CORE
    93 ucontrol flag .S_UNUSED
    94 label *label32
    95 jump *label243 equal .CORE null
 
   134 sensor *tmp54 @unit @dead
   135 jump *label251 equal *tmp54 0
   136 label *label49
-    * ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE *tmp59
+  137 ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE 0
   138 jump *label52 equal :b_type @vault
   139 print "[salmon]Building at "
   140 print .CORE_X

Modifications by Final phase, Print Merging, iteration 1 (-71 instructions):
 
    21 ubind UNIT
    22 jump *label2 notEqual @unit null
    23 label *label240
-    * print "[salmon]No unit of type "
-    * print UNIT
-    * print " "
-    * print "found."
+   24 print "[salmon]No unit of type {0} found."
+   25 format UNIT
    26 printflush message1
    27 ubind UNIT
    28 jump *label240 equal @unit null
 
    95 jump *label28 always
    96 label *label27
    97 printflush message2
-    * print "[green]Locating vault #"
-    * print LINK_ID
-    * print "."
-    * print ".."
+   98 print "[green]Locating vault #{0}..."
+   99 format LINK_ID
   100 printflush message1
   101 op add .QUERY_FLAG 99999900 LINK_ID
   102 label *label244
 
   132 label *label49
   133 ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE 0
   134 jump *label52 equal :b_type @vault
-    * print "[salmon]Building at "
-    * print .CORE_X
-    * print ","
-    * print " "
-    * print .CORE_Y
-    * print " "
-    * print "is not a vault!"
+  135 print "[salmon]Building at {0}, {0} is not a vault!"
+  136 format .CORE_X
+  137 format .CORE_Y
   138 printflush message2
   139 set .CORE null
   140 label *label52
 
   148 jump *label56 equal :sorter_type @sorter
   149 label *label246
   150 jump *label56 equal :sorter_type @inverted-sorter
-    * print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter."
-    * print "\n"
+  151 print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter.\n"
   152 jump *label59 equal .SORTER null
   153 print "Block found: "
   154 print .SORTER
 
   264 ubind UNIT
   265 jump *label82 notEqual @unit null
   266 label *label247
-    * print "No unit of type "
-    * print UNIT
-    * print " "
-    * print "found."
+  267 print "No unit of type {0} found."
+  268 format UNIT
   269 printflush message1
   270 ubind UNIT
   271 jump *label247 equal @unit null
 
   505 set :wait_time 0
   506 set :remote_wait_time 0
   507 label *label134
-    * print ""
-    * print "Moving [green]"
-    * print .ITEM
-    * print "["
-    * print "]"
+  508 print "Moving [green]{0}[]"
+  509 format .ITEM
   510 print .DIRECTION
   511 print *tmp96
   512 print .AUTO_ALLOCATION_TXT
   513 jump *label156 lessThanEq .TARGET 0
   514 jump *label158 lessThan :active .TARGET
-    * print "\n"
-    * print "Using [green]"
-    * print :active
-    * print "/"
-    * print .TARGET
-    * print "["
-    * print "] units ("
-    * print UNIT
-    * print ")"
-    * print " [gold]+"
+  515 print "\nUsing [green]{0}/{0}[] units ({0}) [gold]+"
+  516 format :active
+  517 format .TARGET
+  518 format UNIT
   519 print :items_in_transit
   520 jump *label159 always
   521 label *label158
-    * print "\n"
-    * print "Using [salmon]"
-    * print :active
-    * print "/"
-    * print .TARGET
-    * print "["
-    * print "] units ("
-    * print UNIT
-    * print ")"
-    * print " [gold]+"
+  522 print "\nUsing [salmon]{0}/{0}[] units ({0}) [gold]+"
+  523 format :active
+  524 format .TARGET
+  525 format UNIT
   526 print :items_in_transit
   527 label *label159
   528 jump *label160 lessThanEq .CHANGE 0
   529 print "\n[][salmon]Cannot acquire additional units![]"
   530 label *label160
   531 label *label156
-    * print "\n"
-    * print "[]Local items: [gold]"
+  532 print "\n[]Local items: [gold]"
   533 print :container_items
   534 jump *label162 greaterThanEq .EFF_LOCAL_LIMIT 100
-    * print "[] (limit [orange]"
-    * print .LOCAL_MARGIN
-    * print "["
-    * print "])"
+  535 print "[] (limit [orange]{0}[])"
+  536 format .LOCAL_MARGIN
   537 label *label162
   538 jump *label164 equal .SHOW_REMOTE_LEVEL false
   539 sensor :remote_level .CORE .ITEM
-    * print "\n"
-    * print "[]Remote items: [gold]"
+  540 print "\n[]Remote items: [gold]"
   541 print :remote_level
   542 jump *label166 greaterThanEq .EFF_REMOTE_LIMIT 100
-    * print "[] (limit [orange]"
-    * print .REMOTE_MARGIN
-    * print "["
-    * print "])"
+  543 print "[] (limit [orange]{0}[])"
+  544 format .REMOTE_MARGIN
   545 label *label166
   546 label *label164
   547 jump *label168 lessThanEq .TARGET 0
-    * print "\n"
-    * print "[]Speed: [green]"
+  548 print "\n[]Speed: [green]"
   549 print :items_per_min
   550 print .CORR_SIGN
   551 print :corr_per_min
   552 print .SPEED_UNIT_TXT
   553 jump *label170 equal .EFF_AUTO_ALLOCATION false
-    * print "\n"
-    * print "Unit throughput: [green]"
-    * print :items_per_min_unit
-    * print "["
-    * print "]/min"
-    * print "\n"
-    * print "Min/last round: [green]"
-    * print :turnaround_str
-    * print "["
-    * print "]/[green]"
-    * print :elapsed_str
-    * print "["
-    * print "] s"
+  554 print "\nUnit throughput: [green]{0}[]/min\nMin/last round: [green]{0}[]/[green]{0}[] s"
+  555 format :items_per_min_unit
+  556 format :turnaround_str
+  557 format :elapsed_str
   558 jump *label171 always
   559 label *label170
-    * print "\n"
-    * print "Last round: [green]"
-    * print :elapsed_str
-    * print "["
-    * print "] s"
+  560 print "\nLast round: [green]{0}[] s"
+  561 format :elapsed_str
   562 label *label171
-    * print "\n"
-    * print "Total wait time: [green]"
-    * print :wait_time_str
-    * print "["
-    * print "] s"
+  563 print "\nTotal wait time: [green]{0}[] s"
+  564 format :wait_time_str
   565 label *label168
-    * print "\n"
-    * print "[lightgray]Loop: "
-    * print :loop_time_ms
-    * print " "
-    * print "ms"
+  566 print "\n[lightgray]Loop: {0} ms"
+  567 format :loop_time_ms
   568 printflush message1
   569 op sub .CHANGE .TARGET :active
   570 set :active 0
 
   618 jump *label200 equal *tmp295 false
   619 ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
   620 label *label200
-    * print "[]"
-    * print "\n"
-    * print "Unloading previous items: [green]"
+  621 print "[]\nUnloading previous items: [green]"
   622 label *label199
   623 label *label197
   624 label *label194
 
   636 op len *tmp305 *tmp302 *tmp304
   637 op idiv *tmp306 *tmp305 .SPEED_SEC
   638 op div *tmp307 *tmp306 10
-    * print "[]"
-    * print "\n"
-    * print "[gold]"
-    * print *tmp307
-    * print " "
-    * print "sec[] to source: [green]"
+  639 print "[]\n[gold]{0} sec[] to source: [green]"
+  640 format *tmp307
   641 label *label205
   642 label *label202
   643 jump *label206 notEqual :state 3
 
   651 set :state 4
   652 jump *label211 always
   653 label *label210
-    * print "[]"
-    * print "\n"
-    * print "Waiting at source: [green]"
+  654 print "[]\nWaiting at source: [green]"
   655 ucontrol approach .SRC_X .SRC_Y 6
   656 op add :wait_time :wait_time :loop_time_ms
   657 op mul *tmp317 :loop_time_ms .SRC_REMOTE_WAIT
 
   675 op len *tmp327 *tmp324 *tmp326
   676 op idiv *tmp328 *tmp327 .SPEED_SEC
   677 op div *tmp329 *tmp328 10
-    * print "[]"
-    * print "\n"
-    * print "[gold]"
-    * print *tmp329
-    * print " "
-    * print "sec[] to destination: [green]"
+  678 print "[]\n[gold]{0} sec[] to destination: [green]"
+  679 format *tmp329
   680 label *label215
   681 label *label212
   682 jump *label216 notEqual :state 5
 
   696 op len *tmp343 *tmp340 *tmp342
   697 op idiv *tmp344 *tmp343 .SPEED_SEC
   698 op div *tmp345 *tmp344 10
-    * print "[]"
-    * print "\n"
-    * print "[gold]"
-    * print *tmp345
-    * print " "
-    * print "sec[] to source: [green]"
+  699 print "[]\n[gold]{0} sec[] to source: [green]"
+  700 format *tmp345
   701 jump *label221 always
   702 label *label220
-    * print "[]"
-    * print "\n"
-    * print "Waiting at destination: [green]"
+  703 print "[]\nWaiting at destination: [green]"
   704 ucontrol approach .DST_X .DST_Y 6
   705 op add :wait_time :wait_time :loop_time_ms
   706 op mul *tmp346 :loop_time_ms .DST_REMOTE_WAIT
 
   710 sensor :items @unit @totalItems
   711 op add :items_in_transit :items_in_transit :items
   712 jump *label222 notEqual :state 6
-    * print "[]"
-    * print "\n"
-    * print "Parking: [green]"
+  713 print "[]\nParking: [green]"
   714 ucontrol approach .DROP_X .DROP_Y 6
   715 ucontrol within .DROP_X .DROP_Y 8 *tmp350
   716 jump *label223 equal *tmp350 false

Final code before resolving virtual instructions:

set UNIT @mega
set LINK_ID 0
set AUTO_ALLOCATION true
set MAX_UNITS 24
set HOUSEKEEPING true
set LOCAL_LIMIT 100
set REMOTE_LIMIT 100
set OVERALLOCATION_LOW 0.25
set OVERALLOCATION_HIGH 0.75
set STABILIZATION false
set .STATE_LIMIT null
set .ITEM_ICON null
set .ITEM null
set .CORE_Y null
set .CORE_X null
set .CONTAINER_INDEX null
op max .EFF_LOCAL_LIMIT LOCAL_LIMIT 20
op max .EFF_REMOTE_LIMIT REMOTE_LIMIT 20
set .EFF_AUTO_ALLOCATION AUTO_ALLOCATION
op mul .S_UNUSED -1 HOUSEKEEPING
op add .DEC_OVERALLOCATION 1 OVERALLOCATION_HIGH
ubind UNIT
jump *label2 notEqual @unit null
label *label240
print "[salmon]No unit of type {0} found."
format UNIT
printflush message1
ubind UNIT
jump *label240 equal @unit null
label *label2
set :first_unit @unit
sensor *tmp8 @unit @speed
op div .SPEED_SEC *tmp8 10
sensor *tmp10 @unit @speed
op div .SPEED *tmp10 1000
set .TARGET 0
label *label241
sensor *tmp12 @unit @controller
jump *label6 notEqual *tmp12 @this
sensor :state @unit @flag
op greaterThanEq *tmp368 :state 1
select *tmp18 lessThan :state 6 *tmp368 false
op add .TARGET .TARGET *tmp18
label *label6
ubind UNIT
jump *label12 equal @unit :first_unit
sensor *tmp20 :first_unit @dead
op strictEqual :repeat *tmp20 0
jump *label13 always
label *label12
set :repeat false
label *label13
jump *label241 notEqual :repeat false
set .CHANGE 0
set :active .TARGET
set .DEC_LIMIT 0
set .INC_LIMIT 0
sensor .UNIT_CAPACITY @unit @itemCapacity
set :first_unit null
label *label16
set .CONTAINER null
set .DROP_TARGET null
set :n @links
jump *label21 lessThanEq :n 0
label *label242
op sub :n :n 1
getlink :block :n
sensor *tmp29 :block @type
jump *label24 equal *tmp29 @vault
jump *label23 notEqual *tmp29 @container
label *label24
set .DROP_TARGET .CONTAINER
set .CONTAINER :block
set .CONTAINER_INDEX :n
label *label23
jump *label242 greaterThan :n 0
label *label21
jump *label18 notEqual .CONTAINER null
print "[salmon]No vault or container."
printflush message1
jump *label16 always
label *label18
set .CORE null
jump *label27 notEqual LINK_ID 0
label *label243
print "[green]Locating core..."
printflush message1
ubind UNIT
sensor *tmp36 @unit @controlled
jump *label32 notEqual *tmp36 0
ulocate building core false @copper .CORE_X .CORE_Y 0 .CORE
ucontrol flag .S_UNUSED
label *label32
jump *label243 equal .CORE null
set .DISCARD_UNIT_MAX_ITEMS .UNIT_CAPACITY
jump *label28 always
label *label27
printflush message2
print "[green]Locating vault #{0}..."
format LINK_ID
printflush message1
op add .QUERY_FLAG 99999900 LINK_ID
label *label244
set :flag .QUERY_FLAG
ubind UNIT
sensor *tmp43 @unit @controlled
jump *label39 equal *tmp43 0
label *label250
ubind UNIT
sensor *tmp43 @unit @controlled
jump *label250 notEqual *tmp43 0
label *label39
ucontrol flag .QUERY_FLAG
label *label245
sensor *tmp46 @unit @dead
jump *label42 notEqual *tmp46 0
ucontrol stop
sensor :flag @unit @flag
jump *label245 equal :flag .QUERY_FLAG
label *label42
jump *label45 equal :flag .QUERY_FLAG
op idiv :position :flag 100
op mod .CORE_X :position @mapw
op idiv .CORE_Y :position @mapw
sensor *tmp54 @unit @dead
jump *label49 notEqual *tmp54 0
label *label251
ucontrol within .CORE_X .CORE_Y 8 *tmp56
jump *label49 notEqual *tmp56 false
ucontrol approach .CORE_X .CORE_Y 6
sensor *tmp54 @unit @dead
jump *label251 equal *tmp54 0
label *label49
ucontrol getBlock .CORE_X .CORE_Y :b_type .CORE 0
jump *label52 equal :b_type @vault
print "[salmon]Building at {0}, {0} is not a vault!"
format .CORE_X
format .CORE_Y
printflush message2
set .CORE null
label *label52
label *label45
ucontrol flag .S_UNUSED
jump *label244 equal .CORE null
set .DISCARD_UNIT_MAX_ITEMS 0
label *label28
set .SORTER sorter1
sensor :sorter_type .SORTER @type
jump *label56 equal :sorter_type @sorter
label *label246
jump *label56 equal :sorter_type @inverted-sorter
print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter.\n"
jump *label59 equal .SORTER null
print "Block found: "
print .SORTER
label *label59
printflush message1
set .SORTER sorter1
sensor :sorter_type .SORTER @type
jump *label246 notEqual :sorter_type @sorter
label *label56
jump *label61 notEqual :sorter_type @sorter
set .SHOW_REMOTE_LEVEL true
set .SRC .CORE
set .DST .CONTAINER
sensor :src_capacity .CORE @itemCapacity
sensor :dst_capacity .CONTAINER @itemCapacity
op sub *tmp72 100 .EFF_REMOTE_LIMIT
op mul *tmp73 :src_capacity *tmp72
op idiv .LOAD_LEVEL *tmp73 100
op mul *tmp75 :dst_capacity .EFF_LOCAL_LIMIT
op idiv .DROP_LEVEL *tmp75 100
set .LOCAL_MARGIN .DROP_LEVEL
set .REMOTE_MARGIN .LOAD_LEVEL
op mul .LOW_LEVEL_TRIGGER :dst_capacity 0.09999999999999998
set .HIGH_LEVEL_TRIGGER :dst_capacity
set .FLOW_CORR_SIGN 1
set .SRC_REMOTE_WAIT 1
set .DST_REMOTE_WAIT 0
select .DIRECTION equal LINK_ID 0 " from core" " from vault #"
jump *label62 always
label *label61
op greaterThan .SHOW_REMOTE_LEVEL LINK_ID 0
set .SRC .CONTAINER
set .DST .CORE
sensor :src_capacity .CONTAINER @itemCapacity
sensor :dst_capacity .CORE @itemCapacity
op sub *tmp84 100 .EFF_LOCAL_LIMIT
op mul *tmp85 :src_capacity *tmp84
op idiv .LOAD_LEVEL *tmp85 100
op mul *tmp87 :dst_capacity .EFF_REMOTE_LIMIT
op idiv *tmp88 *tmp87 100
op equal *tmp89 LINK_ID 0
op mul *tmp90 *tmp89 .UNIT_CAPACITY
op add .DROP_LEVEL *tmp88 *tmp90
set .LOCAL_MARGIN .LOAD_LEVEL
set .REMOTE_MARGIN .DROP_LEVEL
op mul .HIGH_LEVEL_TRIGGER :src_capacity 0.9
set .LOW_LEVEL_TRIGGER 0
set .FLOW_CORR_SIGN -1
set .SRC_REMOTE_WAIT 0
set .DST_REMOTE_WAIT 1
select .DIRECTION equal LINK_ID 0 " to core" " to vault #"
label *label62
select *tmp96 equal LINK_ID 0 "" LINK_ID
op sub *tmp97 :src_capacity .LOAD_LEVEL
op min .LOAD_PACK .UNIT_CAPACITY *tmp97
op min .DROP_PACK .UNIT_CAPACITY .DROP_LEVEL
sensor .SRC_X .SRC @x
sensor .SRC_Y .SRC @y
sensor .DST_X .DST @x
sensor .DST_Y .DST @y
op sub *tmp104 .DST_X .SRC_X
op sub *tmp105 .DST_Y .SRC_Y
op len *tmp106 *tmp104 *tmp105
op sub .DISTANCE *tmp106 14
op max *tmp109 .DISTANCE 10
op mul *tmp110 2 *tmp109
op div .TRAVEL_TIME *tmp110 .SPEED
jump *label69 notEqual .DROP_TARGET null
set .DROP_TARGET .CORE
set .DROP_X .CORE_X
set .DROP_Y .CORE_Y
sensor *tmp119 .CONTAINER @x
select *tmp121 lessThan *tmp119 .CORE_X 15 -15
op add .PARK_X .CORE_X *tmp121
sensor *tmp123 .CONTAINER @y
select *tmp125 lessThan *tmp123 .CORE_Y 15 -15
op add .PARK_Y .CORE_Y *tmp125
op equal *tmp127 LINK_ID 0
op mul .PARK_ITEM_LIMIT *tmp127 .UNIT_CAPACITY
jump *label70 always
label *label69
sensor .DROP_X .DROP_TARGET @x
sensor .DROP_Y .DROP_TARGET @y
set .PARK_X .DROP_X
set .PARK_Y .DROP_Y
set .PARK_ITEM_LIMIT 0
label *label70
set .TRANSFER_START @tick
op sub .LOOP_START @tick 60
set .LAST_ITEM @mono
set .WAIT_LIMIT 30000
set :items_in_transit 0
set :items_per_min_unit "--"
set :items_per_min "-- "
set :turnaround_str "--"
set :elapsed_str "--"
set :wait_time_str 0
set :wait_time 0
set :transfers 0
set :transferred 0
set :total_flow_2 0
set :total_flow_1 0
set :remote_wait_time 0
set :min_level 0
set :max_level 0
set :loop_time_ms 0
set :last_level 0
select .CORR_SIGN notEqual AUTO_ALLOCATION false "[]([green]+" "[]"
select :corr_per_min notEqual AUTO_ALLOCATION false 0 ""
select .SPEED_UNIT_TXT notEqual AUTO_ALLOCATION false "[])/min" "/min"
select .AUTO_ALLOCATION_TXT notEqual AUTO_ALLOCATION false "\n=== [gold]Gathering statistics[] ===" ""
label *label77
ubind UNIT
jump *label82 notEqual @unit null
label *label247
print "No unit of type {0} found."
format UNIT
printflush message1
ubind UNIT
jump *label247 equal @unit null
label *label82
sensor *tmp136 switch1 @enabled
jump *label83 equal *tmp136 false
control enabled switch1 false
set .EFF_AUTO_ALLOCATION false
set .AUTO_ALLOCATION_TXT ""
op add *tmp140 .TARGET 1
op min .TARGET *tmp140 MAX_UNITS
set .CORR_SIGN "[]"
set :corr_per_min ""
set .SPEED_UNIT_TXT "/min"
set .WAIT_LIMIT 30000
label *label83
sensor *tmp142 switch2 @enabled
jump *label85 equal *tmp142 false
control enabled switch2 false
jump *label87 greaterThanEq .TARGET 1
set .EFF_AUTO_ALLOCATION true
set .TARGET 1
set .DEC_LIMIT 0
set .INC_LIMIT 0
set .CORR_SIGN "[]([green]+"
set :corr_per_min 0
set .SPEED_UNIT_TXT "[])/min"
jump *label88 always
label *label87
set .EFF_AUTO_ALLOCATION false
op sub *tmp148 .TARGET 1
op max .TARGET *tmp148 0
set .CORR_SIGN "[]"
set :corr_per_min ""
set .SPEED_UNIT_TXT "/min"
select .AUTO_ALLOCATION_TXT equal .TARGET 0 "\n=== [salmon]Transport deactivated[] ===" ""
label *label88
set .WAIT_LIMIT 30000
label *label85
sensor *tmp152 :first_unit @dead
op strictEqual :alive *tmp152 0
op strictEqual *tmp154 @unit :first_unit
jump *label91 greaterThan :alive *tmp154
jump *label93 notEqual :active 0
print "\n[salmon]No active units.[]"
label *label93
printflush message2
set .STATE_LIMIT 6
sensor .ITEM .SORTER @config
jump *label95 equal .ITEM .LAST_ITEM
jump *label99 notEqual .ITEM null
label *label248
print "[salmon]No item type selected for transport.[]"
printflush message1
sensor .ITEM .SORTER @config
jump *label248 equal .ITEM null
label *label99
set .LAST_ITEM .ITEM
# "Function: def itemTypeToIcon(in itemType)"
sensor *tmp371 .ITEM @id
jump *label254 greaterThanEq *tmp371 16
multijump *label257 *tmp371 0
multilabel *label257
jump *label255 always
multilabel *label258
jump *label111 always
multilabel *label259
jump *label113 always
multilabel *label260
jump *label109 always
multilabel *label261
jump *label121 always
multilabel *label262
jump *label105 always
multilabel *label263
jump *label133 always
multilabel *label264
jump *label131 always
multilabel *label265
jump *label123 always
multilabel *label266
jump *label125 always
multilabel *label267
jump *label117 always
multilabel *label268
jump *label115 always
multilabel *label269
jump *label129 always
multilabel *label270
jump *label127 always
multilabel *label271
jump *label103 always
multilabel *label272
set *tmp165 "[]"
jump *label101 always
label *label103
set *tmp165 "[]"
jump *label101 always
label *label105
set *tmp165 "[]"
jump *label101 always
label *label255
jump *label254 strictEqual *tmp371 null
set *tmp165 "[]"
jump *label101 always
label *label109
set *tmp165 "[]"
jump *label101 always
label *label111
set *tmp165 "[]"
jump *label101 always
label *label113
set *tmp165 "[]"
jump *label101 always
label *label115
set *tmp165 "[]"
jump *label101 always
label *label117
set *tmp165 "[]"
jump *label101 always
label *label121
set *tmp165 "[]"
jump *label101 always
label *label123
set *tmp165 "[]"
jump *label101 always
label *label125
set *tmp165 "[]"
jump *label101 always
label *label127
set *tmp165 "[]"
jump *label101 always
label *label129
set *tmp165 "[]"
jump *label101 always
label *label131
set *tmp165 "[]"
jump *label101 always
label *label133
set *tmp165 "[]"
jump *label101 always
label *label254
set *tmp165 null
label *label101
set .ITEM_ICON *tmp165
set .STATE_LIMIT 1
sensor :last_level .CONTAINER .ITEM
set :min_level 999999
set :max_level 0
label *label95
sensor :container_items .CONTAINER .ITEM
op min :min_level :min_level :container_items
op max :max_level :max_level :container_items
op sub :loop_time @tick .LOOP_START
set .LOOP_START @tick
op mul *tmp173 :loop_time 100
op idiv :loop_time_ms *tmp173 6
jump *label136 greaterThanEq :transfers :active
jump *label134 lessThanEq :wait_time .WAIT_LIMIT
label *label136
op div *tmp178 :wait_time 100
op ceil *tmp179 *tmp178
op div :wait_time_str *tmp179 10
op sub :elapsed_ticks @tick .TRANSFER_START
set .TRANSFER_START @tick
op div :elapsed_ms :elapsed_ticks 0.06
op idiv *tmp184 :elapsed_ms 100
op div :elapsed_str *tmp184 10
op div :items_per_ms :transferred :elapsed_ms
op idiv :items_per_min :items_per_ms 0.000016666666666666667
set :transferred 0
set :transfers 0
jump *label138 equal .EFF_AUTO_ALLOCATION false
set .AUTO_ALLOCATION_TXT "\n=== [gold]Unit auto allocation[] ==="
op mul *tmp189 16.666666666666668 :loop_time
op add :turnaround_ms .TRAVEL_TIME *tmp189
op mul .WAIT_LIMIT :turnaround_ms .DEC_OVERALLOCATION
op idiv *tmp192 :turnaround_ms 100
op div :turnaround_str *tmp192 10
op div :items_per_ms_unit .UNIT_CAPACITY :turnaround_ms
op idiv :items_per_min_unit :items_per_ms_unit 0.000016666666666666667
op add *tmp197 :min_level :max_level
op div :this_level *tmp197 2
op sub *tmp199 :last_level :this_level
op mul :corr *tmp199 .FLOW_CORR_SIGN
op div :corr_per_ms :corr :elapsed_ms
set :last_level :this_level
op add :total_flow_per_ms :items_per_ms :corr_per_ms
op idiv :corr_per_min :corr_per_ms 0.000016666666666666667
select .CORR_SIGN greaterThanEq :corr_per_min 0 "[]([green]+" "[]([green]"
set .SPEED_UNIT_TXT "[])/min"
jump *label142 equal :alive false
op lessThan *tmp369 :min_level .LOW_LEVEL_TRIGGER
select *tmp210 greaterThan :max_level .HIGH_LEVEL_TRIGGER true *tmp369
jump *label150 equal :wait_time 0
jump *label148 lessThanEq *tmp210 :remote_wait_time
label *label150
jump *label152 equal STABILIZATION false
set :total_flow_3 :total_flow_2
set :total_flow_2 :total_flow_1
set :total_flow_1 :total_flow_per_ms
op add *tmp215 :total_flow_3 :total_flow_2
op add *tmp216 *tmp215 :total_flow_per_ms
op div :total_flow_per_ms *tmp216 3
label *label152
op div *tmp218 :total_flow_per_ms :items_per_ms_unit
op add *tmp219 *tmp218 OVERALLOCATION_LOW
op ceil :new_target *tmp219
op mul :level_boost 2 *tmp210
op add *tmp222 :new_target :level_boost
op min :new_target *tmp222 MAX_UNITS
op sub *tmp224 :new_target :active
op max *tmp225 *tmp224 0
op min :new_change *tmp225 .INC_LIMIT
set .INC_LIMIT 6
op lessThanEq *tmp227 :new_change 0
op mul .DEC_LIMIT *tmp227 -1
jump *label149 always
label *label148
op idiv *tmp229 :wait_time .WAIT_LIMIT
op mul *tmp230 -1 *tmp229
op max :new_change *tmp230 .DEC_LIMIT
op greaterThanEq *tmp232 :new_change 0
op mul .INC_LIMIT *tmp232 6
set .DEC_LIMIT -1
label *label149
op add *tmp234 :active :new_change
op max .TARGET *tmp234 1
jump *label143 always
label *label142
set .INC_LIMIT 0
set .DEC_LIMIT 0
label *label143
set :min_level 999999
set :max_level 0
label *label138
set :wait_time 0
set :remote_wait_time 0
label *label134
print "Moving [green]{0}[]"
format .ITEM
print .DIRECTION
print *tmp96
print .AUTO_ALLOCATION_TXT
jump *label156 lessThanEq .TARGET 0
jump *label158 lessThan :active .TARGET
print "\nUsing [green]{0}/{0}[] units ({0}) [gold]+"
format :active
format .TARGET
format UNIT
print :items_in_transit
jump *label159 always
label *label158
print "\nUsing [salmon]{0}/{0}[] units ({0}) [gold]+"
format :active
format .TARGET
format UNIT
print :items_in_transit
label *label159
jump *label160 lessThanEq .CHANGE 0
print "\n[][salmon]Cannot acquire additional units![]"
label *label160
label *label156
print "\n[]Local items: [gold]"
print :container_items
jump *label162 greaterThanEq .EFF_LOCAL_LIMIT 100
print "[] (limit [orange]{0}[])"
format .LOCAL_MARGIN
label *label162
jump *label164 equal .SHOW_REMOTE_LEVEL false
sensor :remote_level .CORE .ITEM
print "\n[]Remote items: [gold]"
print :remote_level
jump *label166 greaterThanEq .EFF_REMOTE_LIMIT 100
print "[] (limit [orange]{0}[])"
format .REMOTE_MARGIN
label *label166
label *label164
jump *label168 lessThanEq .TARGET 0
print "\n[]Speed: [green]"
print :items_per_min
print .CORR_SIGN
print :corr_per_min
print .SPEED_UNIT_TXT
jump *label170 equal .EFF_AUTO_ALLOCATION false
print "\nUnit throughput: [green]{0}[]/min\nMin/last round: [green]{0}[]/[green]{0}[] s"
format :items_per_min_unit
format :turnaround_str
format :elapsed_str
jump *label171 always
label *label170
print "\nLast round: [green]{0}[] s"
format :elapsed_str
label *label171
print "\nTotal wait time: [green]{0}[] s"
format :wait_time_str
label *label168
print "\n[lightgray]Loop: {0} ms"
format :loop_time_ms
printflush message1
op sub .CHANGE .TARGET :active
set :active 0
set :first_unit @unit
set :items_in_transit 0
print "Unit status:"
sensor *tmp255 .SRC @dead
jump *label79 notEqual *tmp255 0
sensor *tmp258 .DST @dead
jump *label79 notEqual *tmp258 0
sensor *tmp261 .SORTER @dead
jump *label79 notEqual *tmp261 0
getlink *tmp264 .CONTAINER_INDEX
jump *label79 notEqual .CONTAINER *tmp264
label *label91
jump *label180 lessThanEq .CHANGE 0
sensor *tmp269 @unit @controlled
jump *label182 notEqual *tmp269 0
op sub .CHANGE .CHANGE 1
ucontrol flag 1
label *label182
label *label180
sensor *tmp272 @unit @controller
jump *label77 notEqual *tmp272 @this
sensor :state @unit @flag
jump *label77 equal :state .S_UNUSED
op max *tmp278 :state 1
op min :state *tmp278 .STATE_LIMIT
jump *label188 greaterThanEq .CHANGE 0
jump *label190 equal :state 6
sensor *tmp284 @unit @totalItems
jump *label192 greaterThan *tmp284 .DISCARD_UNIT_MAX_ITEMS
op add .CHANGE .CHANGE 1
set :state 6
label *label192
label *label190
label *label188
jump *label194 notEqual :state 1
sensor *tmp289 @unit @totalItems
jump *label196 notEqual *tmp289 0
set :state 2
jump *label197 always
label *label196
sensor *tmp292 @unit @firstItem
jump *label198 notEqual *tmp292 .ITEM
set :state 4
jump *label199 always
label *label198
ucontrol approach .DROP_X .DROP_Y 6
ucontrol within .DROP_X .DROP_Y 8 *tmp295
jump *label200 equal *tmp295 false
ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
label *label200
print "[]\nUnloading previous items: [green]"
label *label199
label *label197
label *label194
jump *label202 notEqual :state 2
ucontrol approach .SRC_X .SRC_Y 6
ucontrol within .SRC_X .SRC_Y 8 *tmp299
jump *label204 equal *tmp299 false
set :state 3
jump *label205 always
label *label204
sensor *tmp301 @unit @x
op sub *tmp302 .SRC_X *tmp301
sensor *tmp303 @unit @y
op sub *tmp304 .SRC_Y *tmp303
op len *tmp305 *tmp302 *tmp304
op idiv *tmp306 *tmp305 .SPEED_SEC
op div *tmp307 *tmp306 10
print "[]\n[gold]{0} sec[] to source: [green]"
format *tmp307
label *label205
label *label202
jump *label206 notEqual :state 3
sensor *tmp310 .SRC .ITEM
op sub :max_load *tmp310 .LOAD_LEVEL
jump *label208 lessThan :max_load .LOAD_PACK
ucontrol itemTake .SRC .ITEM :max_load
label *label208
sensor *tmp314 @unit @totalItems
jump *label210 lessThan *tmp314 .UNIT_CAPACITY
set :state 4
jump *label211 always
label *label210
print "[]\nWaiting at source: [green]"
ucontrol approach .SRC_X .SRC_Y 6
op add :wait_time :wait_time :loop_time_ms
op mul *tmp317 :loop_time_ms .SRC_REMOTE_WAIT
op add :remote_wait_time :remote_wait_time *tmp317
label *label211
label *label206
jump *label212 notEqual :state 4
ucontrol approach .DST_X .DST_Y 6
ucontrol within .DST_X .DST_Y 8 *tmp320
jump *label214 equal *tmp320 false
sensor *tmp322 @unit @totalItems
op add :transferred :transferred *tmp322
op add :transfers :transfers 1
set :state 5
jump *label215 always
label *label214
sensor *tmp323 @unit @x
op sub *tmp324 .DST_X *tmp323
sensor *tmp325 @unit @y
op sub *tmp326 .DST_Y *tmp325
op len *tmp327 *tmp324 *tmp326
op idiv *tmp328 *tmp327 .SPEED_SEC
op div *tmp329 *tmp328 10
print "[]\n[gold]{0} sec[] to destination: [green]"
format *tmp329
label *label215
label *label212
jump *label216 notEqual :state 5
sensor *tmp332 .DST .ITEM
op sub :max_drop .DROP_LEVEL *tmp332
jump *label218 lessThan :max_drop .DROP_PACK
ucontrol itemDrop .DST :max_drop
label *label218
sensor *tmp336 @unit @totalItems
jump *label220 greaterThan *tmp336 0
set :state 2
ucontrol approach .SRC_X .SRC_Y 6
sensor *tmp339 @unit @x
op sub *tmp340 .SRC_X *tmp339
sensor *tmp341 @unit @y
op sub *tmp342 .SRC_Y *tmp341
op len *tmp343 *tmp340 *tmp342
op idiv *tmp344 *tmp343 .SPEED_SEC
op div *tmp345 *tmp344 10
print "[]\n[gold]{0} sec[] to source: [green]"
format *tmp345
jump *label221 always
label *label220
print "[]\nWaiting at destination: [green]"
ucontrol approach .DST_X .DST_Y 6
op add :wait_time :wait_time :loop_time_ms
op mul *tmp346 :loop_time_ms .DST_REMOTE_WAIT
op add :remote_wait_time :remote_wait_time *tmp346
label *label221
label *label216
sensor :items @unit @totalItems
op add :items_in_transit :items_in_transit :items
jump *label222 notEqual :state 6
print "[]\nParking: [green]"
ucontrol approach .DROP_X .DROP_Y 6
ucontrol within .DROP_X .DROP_Y 8 *tmp350
jump *label223 equal *tmp350 false
ucontrol itemDrop .DROP_TARGET .UNIT_CAPACITY
sensor :items @unit @totalItems
jump *label223 greaterThan :items .PARK_ITEM_LIMIT
ucontrol move .PARK_X .PARK_Y
set :state .S_UNUSED
jump *label223 always
label *label222
op add :active :active 1
label *label223
print :items
print .ITEM_ICON
ucontrol flag :state
jump *label77 always
label *label79
sensor *tmp355 .SORTER @dead
jump *label230 strictEqual *tmp355 0
label *label253
print "[salmon]sorter1 is missing![]\nPlease place and link sorter or inverted sorter to the processor."
printflush message1
printflush message2
set .SORTER sorter1
sensor *tmp355 .SORTER @dead
op strictEqual *tmp370 *tmp355 0
jump *label253 equal *tmp370 false
label *label230
sensor *tmp357 .SRC @dead
op strictEqual *tmp358 *tmp357 0
jump *label233 equal *tmp358 false
sensor *tmp359 .DST @dead
jump *label231 strictEqual *tmp359 0
label *label233
sensor *tmp362 switch1 @enabled
jump *label237 notEqual *tmp362 false
label *label252
sensor *tmp363 switch2 @enabled
jump *label237 notEqual *tmp363 false
print "[salmon]Local or remote container became invalid.\nPlease fix and press any button to reinitialize."
printflush message1
printflush message2
sensor *tmp362 switch1 @enabled
jump *label252 equal *tmp362 false
label *label237
label *label231
control enabled switch1 false
control enabled switch2 false
