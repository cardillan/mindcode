  1480 instructions before optimizations.
    41 instructions eliminated by Temp Variables Elimination (2 passes, 6 iterations).
   258 instructions eliminated by Dead Code Elimination (8 iterations).
     7 instructions eliminated by Jump Normalization (2 passes, 6 iterations).
   126 instructions eliminated by Condition Optimization (2 passes, 8 iterations).
   101 instructions eliminated by Single Step Elimination (3 passes, 9 iterations).
    20 instructions eliminated by Boolean Optimization (2 passes, 8 iterations).
       2 final jumps of a short-circuited expression optimized.
       6 fully-evaluated expressions optimized using selects.
     4 instructions eliminated by If Expression Optimization (3 iterations).
    89 instructions eliminated by Data Flow Optimization (4 passes, 16 iterations).
     2 instructions added by Loop Rotation (3 iterations).
       3 loop conditions were partially rotated.
   158 instructions added by Loop Unrolling (7 iterations).
     2 loops unrolled by Loop Unrolling.
    46 instructions eliminated by Jump Straightening (3 passes, 9 iterations).
    33 instructions updated by Jump Threading.
    19 instructions eliminated by Unreachable Code Elimination (2 passes, 3 iterations).
    75 instructions eliminated by Print Merging.
   854 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 231):
    Full loop rotation at line 54:5                              size    +1, benefit       26.0, efficiency     26.000
    Full loop rotation at line 119:5                             size    +1, benefit       26.0, efficiency     26.000
  * Unroll iteration loop at line 169:9                          size    +5, benefit      375.0, efficiency     75.000 (+3 instructions)
    Unroll iteration loop at line 201:9                          size  +197, benefit      375.0, efficiency      1.904

Pass 1: speed optimization selection (cost limit 228):
  * Full loop rotation at line 54:5                              size    +1, benefit       26.0, efficiency     26.000 (+1 instructions)
    Full loop rotation at line 119:5                             size    +1, benefit       26.0, efficiency     26.000
    Unroll iteration loop at line 201:9                          size  +197, benefit      375.0, efficiency      1.904

Pass 1: speed optimization selection (cost limit 227):
  * Full loop rotation at line 119:5                             size    +1, benefit       26.0, efficiency     26.000 (+1 instructions)
    Unroll iteration loop at line 201:9                          size  +197, benefit      375.0, efficiency      1.904

Pass 1: speed optimization selection (cost limit 226):
  * Unroll iteration loop at line 201:9                          size  +197, benefit      375.0, efficiency      1.904 (+147 instructions)

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-173 instructions):
 
    37 label *label18
    38 jump *label16 equal :locateCore*retval false
    39 jump *label2 always
-    * set *tmp2 null
    40 jump *label17 always
    41 label *label16
-    * set *tmp2 null
    42 label *label17
    43 label *label10
    44 multijump *tmp1 0 0 (m:marker0)
 
   120 label *label41
   121 set *tmp28 null
   122 label *label42
-    * set *tmp26 *tmp28
   123 jump *label38 always
   124 label *label37
   125 set *tmp29 :areUnitsAvailable:occupied
   126 op add :areUnitsAvailable:occupied :areUnitsAvailable:occupied 1
-    * set *tmp26 *tmp29
   127 label *label38
   128 ubind :areUnitsAvailable:type
   129 label *label35
 
   135 jump *label36 equal *tmp32 false
   136 jump *label34 always
   137 label *label36
-    * set *tmp12 null
   138 jump *label30 always
   139 label *label29
-    * set *tmp12 null
   140 label *label30
   141 jump *label44 equal :areUnitsAvailable:output false
   142 print :areUnitsAvailable:type
 
   150 jump *label46 equal *tmp34 false
   151 print ", needed: "
   152 print :areUnitsAvailable:needed
-    * set *tmp35 null
   153 jump *label47 always
   154 label *label46
-    * set *tmp35 null
   155 label *label47
   156 print "\n"
-    * set *tmp33 null
   157 jump *label45 always
   158 label *label44
-    * set *tmp33 null
   159 label *label45
   160 set *tmp10 false
   161 jump *label28 always
 
   164 jump *label26 equal *tmp10 false
   165 set *tmp9 UNIT_TYPE
   166 jump *label22 always
-    * set *tmp36 null
   167 jump *label27 always
   168 label *label26
-    * set *tmp36 null
   169 label *label27
   170 set :chooseUnitType:type @flare
   171 setaddr *tmp37 *label51
 
   233 label *label72
   234 set *tmp58 null
   235 label *label73
-    * set *tmp56 *tmp58
   236 jump *label69 always
   237 label *label68
   238 set *tmp59 :areUnitsAvailable.1:occupied
   239 op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
-    * set *tmp56 *tmp59
   240 label *label69
   241 ubind :areUnitsAvailable.1:type
   242 label *label66
 
   248 jump *label67 equal *tmp62 false
   249 jump *label65 always
   250 label *label67
-    * set *tmp42 null
   251 jump *label61 always
   252 label *label60
-    * set *tmp42 null
   253 label *label61
   254 jump *label75 equal :areUnitsAvailable.1:output false
   255 print :areUnitsAvailable.1:type
 
   263 jump *label77 equal *tmp64 false
   264 print ", needed: "
   265 print :areUnitsAvailable.1:needed
-    * set *tmp65 null
   266 jump *label78 always
   267 label *label77
-    * set *tmp65 null
   268 label *label78
   269 print "\n"
-    * set *tmp63 null
   270 jump *label76 always
   271 label *label75
-    * set *tmp63 null
   272 label *label76
   273 set *tmp40 false
   274 jump *label59 always
 
   283 label *label57
   284 set *tmp66 null
   285 label *label58
-    * set *tmp39 *tmp66
   286 jump *label56 always
   287 label *label55
-    * set *tmp39 null
   288 label *label56
   289 label *label49
   290 multijump *tmp37 0 0 (m:marker1)
 
   309 op equal *tmp68 :rebindUnits:firstUnit null
   310 jump *label80 equal *tmp68 false
   311 end
-    * set *tmp69 null
   312 jump *label81 always
   313 label *label80
-    * set *tmp69 null
   314 label *label81
   315 label *label82
   316 sensor *tmp70 @unit @controller
   317 op equal *tmp71 *tmp70 @this
   318 jump *label85 equal *tmp71 false
-    * set *tmp73 :rebindUnits:count
   319 op add :rebindUnits:count :rebindUnits:count 1
   320 ucontrol flag 1
   321 set .UNIT_S2 .UNIT_P2
 
   331 label *label87
   332 set *tmp76 null
   333 label *label88
-    * set *tmp72 *tmp76
   334 jump *label86 always
   335 label *label85
-    * set *tmp72 null
   336 label *label86
   337 ubind .TYPE
   338 label *label83
 
   344 jump *label84 equal *tmp79 false
   345 jump *label82 always
   346 label *label84
-    * set *tmp67 :rebindUnits:count
   347 jump *label79 always
-    * set *tmp67 null
   348 label *label79
   349 set :acquireUnit:currentUnit .UNIT_S1
   350 set :rebindUnit:currentUnit :acquireUnit:currentUnit
 
   357 op equal *tmp87 *tmp86 @this
   358 op land *tmp88 *tmp85 *tmp87
   359 jump *label94 equal *tmp88 false
-    * set *tmp81 :rebindUnit:currentUnit
   360 jump *label91 always
   361 set *tmp89 null
   362 jump *label95 always
   363 label *label94
   364 set *tmp89 null
   365 label *label95
-    * set *tmp83 *tmp89
   366 jump *label93 always
   367 label *label92
-    * set *tmp83 null
   368 label *label93
   369 ubind .TYPE
   370 set :rebindUnit:firstUnit @unit
 
   374 sensor *tmp92 @unit @controlled
   375 op equal *tmp93 *tmp92 0
   376 jump *label101 equal *tmp93 false
-    * set *tmp81 @unit
   377 jump *label91 always
-    * set *tmp94 null
   378 jump *label102 always
   379 label *label101
-    * set *tmp94 null
   380 label *label102
   381 ubind .TYPE
   382 label *label99
 
   388 jump *label100 equal *tmp97 false
   389 jump *label98 always
   390 label *label100
-    * set *tmp91 null
   391 jump *label97 always
   392 label *label96
-    * set *tmp91 null
   393 label *label97
   394 end
-    * set *tmp81 null
   395 label *label91
   396 ucontrol flag 1
   397 set *tmp80 @unit
 
   410 op equal *tmp105 *tmp104 @this
   411 op land *tmp106 *tmp103 *tmp105
   412 jump *label108 equal *tmp106 false
-    * set *tmp99 :rebindUnit.1:currentUnit
   413 jump *label105 always
   414 set *tmp107 null
   415 jump *label109 always
   416 label *label108
   417 set *tmp107 null
   418 label *label109
-    * set *tmp101 *tmp107
   419 jump *label107 always
   420 label *label106
-    * set *tmp101 null
   421 label *label107
   422 ubind .TYPE
   423 set :rebindUnit.1:firstUnit @unit
 
   427 sensor *tmp110 @unit @controlled
   428 op equal *tmp111 *tmp110 0
   429 jump *label115 equal *tmp111 false
-    * set *tmp99 @unit
   430 jump *label105 always
-    * set *tmp112 null
   431 jump *label116 always
   432 label *label115
-    * set *tmp112 null
   433 label *label116
   434 ubind .TYPE
   435 label *label113
 
   441 jump *label114 equal *tmp115 false
   442 jump *label112 always
   443 label *label114
-    * set *tmp109 null
   444 jump *label111 always
   445 label *label110
-    * set *tmp109 null
   446 label *label111
   447 end
-    * set *tmp99 null
   448 label *label105
   449 ucontrol flag 1
   450 set *tmp98 @unit
 
   469 label *label122
   470 set .UNIT_S1 :swap:a
   471 set .UNIT_P1 :swap:b
-    * set *tmp120 null
   472 jump *label119 always
   473 label *label118
-    * set *tmp120 null
   474 label *label119
   475 sensor *tmp121 .UNIT_S1 @itemCapacity
   476 set .UNIT_CAPACITY *tmp121
 
   481 op strictEqual *tmp124 .SPEED null
   482 jump *label123 equal *tmp124 false
   483 stop
-    * set *tmp125 null
   484 jump *label124 always
   485 label *label123
-    * set *tmp125 null
   486 label *label124
   487 set :needsFourUnits.2:unit .UNIT_S1
   488 op sub *tmp127 .DOME_X .CORE_X
 
   510 op equal *tmp142 *tmp141 @this
   511 op land *tmp143 *tmp140 *tmp142
   512 jump *label132 equal *tmp143 false
-    * set *tmp136 :rebindUnit.2:currentUnit
   513 jump *label129 always
   514 set *tmp144 null
   515 jump *label133 always
   516 label *label132
   517 set *tmp144 null
   518 label *label133
-    * set *tmp138 *tmp144
   519 jump *label131 always
   520 label *label130
-    * set *tmp138 null
   521 label *label131
   522 ubind .TYPE
   523 set :rebindUnit.2:firstUnit @unit
 
   527 sensor *tmp147 @unit @controlled
   528 op equal *tmp148 *tmp147 0
   529 jump *label139 equal *tmp148 false
-    * set *tmp136 @unit
   530 jump *label129 always
-    * set *tmp149 null
   531 jump *label140 always
   532 label *label139
-    * set *tmp149 null
   533 label *label140
   534 ubind .TYPE
   535 label *label137
 
   541 jump *label138 equal *tmp152 false
   542 jump *label136 always
   543 label *label138
-    * set *tmp146 null
   544 jump *label135 always
   545 label *label134
-    * set *tmp146 null
   546 label *label135
   547 end
-    * set *tmp136 null
   548 label *label129
   549 ucontrol flag 1
   550 set *tmp135 @unit
 
   563 op equal *tmp160 *tmp159 @this
   564 op land *tmp161 *tmp158 *tmp160
   565 jump *label146 equal *tmp161 false
-    * set *tmp154 :rebindUnit.3:currentUnit
   566 jump *label143 always
   567 set *tmp162 null
   568 jump *label147 always
   569 label *label146
   570 set *tmp162 null
   571 label *label147
-    * set *tmp156 *tmp162
   572 jump *label145 always
   573 label *label144
-    * set *tmp156 null
   574 label *label145
   575 ubind .TYPE
   576 set :rebindUnit.3:firstUnit @unit
 
   580 sensor *tmp165 @unit @controlled
   581 op equal *tmp166 *tmp165 0
   582 jump *label153 equal *tmp166 false
-    * set *tmp154 @unit
   583 jump *label143 always
-    * set *tmp167 null
   584 jump *label154 always
   585 label *label153
-    * set *tmp167 null
   586 label *label154
   587 ubind .TYPE
   588 label *label151
 
   594 jump *label152 equal *tmp170 false
   595 jump *label150 always
   596 label *label152
-    * set *tmp164 null
   597 jump *label149 always
   598 label *label148
-    * set *tmp164 null
   599 label *label149
   600 end
-    * set *tmp154 null
   601 label *label143
   602 ucontrol flag 1
   603 set *tmp153 @unit
 
   622 label *label160
   623 set .UNIT_S1 :swap.1:a
   624 set .UNIT_P2 :swap.1:b
-    * set *tmp175 null
   625 jump *label157 always
   626 label *label156
-    * set *tmp175 null
   627 label *label157
   628 sensor *tmp176 .UNIT_S2 @firstItem
   629 op equal *tmp177 *tmp176 @phase-fabric
 
   642 label *label165
   643 set .UNIT_S2 :swap.2:a
   644 set .UNIT_P2 :swap.2:b
-    * set *tmp180 null
   645 jump *label162 always
   646 label *label161
-    * set *tmp180 null
   647 label *label162
   648 set .GROUP1 "unit  1"
   649 set .GROUP2 "unit 2"
-    * set *tmp134 .GROUP2
   650 jump *label127 always
   651 label *label126
   652 ubind .UNIT_S2
 
   656 ucontrol unbind
   657 set .UNIT_P2 null
   658 set .GROUP1 "unit"
-    * set *tmp134 .GROUP1
   659 label *label127
   660 op equal *tmp181 .FOUR_UNITS false
   661 jump *label168 notEqual *tmp181 false
 
   713 print "["
   714 print "]"
   715 print "\n"
-    * set *tmp195 null
   716 jump *label179 always
   717 label *label178
   718 print "  dome:  [coral]"
 
   720 print "["
   721 print "]"
   722 print "\n"
-    * set *tmp195 null
   723 label *label179
   724 label *label177
   725 set :processUnit:unit .UNIT_S1
 
   736 op equal *tmp202 *tmp201 @this
   737 op land *tmp203 *tmp200 *tmp202
   738 jump *label184 equal *tmp203 false
-    * set *tmp196 :rebindUnit.4:currentUnit
   739 jump *label181 always
   740 set *tmp204 null
   741 jump *label185 always
   742 label *label184
   743 set *tmp204 null
   744 label *label185
-    * set *tmp198 *tmp204
   745 jump *label183 always
   746 label *label182
-    * set *tmp198 null
   747 label *label183
   748 ubind .TYPE
   749 set :rebindUnit.4:firstUnit @unit
 
   753 sensor *tmp207 @unit @controlled
   754 op equal *tmp208 *tmp207 0
   755 jump *label191 equal *tmp208 false
-    * set *tmp196 @unit
   756 jump *label181 always
-    * set *tmp209 null
   757 jump *label192 always
   758 label *label191
-    * set *tmp209 null
   759 label *label192
   760 ubind .TYPE
   761 label *label189
 
   767 jump *label190 equal *tmp212 false
   768 jump *label188 always
   769 label *label190
-    * set *tmp206 null
   770 jump *label187 always
   771 label *label186
-    * set *tmp206 null
   772 label *label187
   773 end
-    * set *tmp196 null
   774 label *label181
   775 sensor *tmp213 @unit @flag
   776 set :processUnit:state *tmp213
 
   811 label *label201
   812 set *tmp219 *tmp222
   813 label *label199
-    * set *tmp216 *tmp219
   814 jump *label195 always
   815 label *label194
-    * set *tmp216 null
   816 label *label195
   817 op equal *tmp225 :processUnit:state 2
   818 jump *label204 equal *tmp225 false
 
   845 set :processUnit:distance *tmp238
   846 set *tmp228 :processUnit:distance
   847 label *label207
-    * set *tmp226 *tmp228
   848 jump *label205 always
   849 label *label204
-    * set *tmp226 null
   850 label *label205
   851 op equal *tmp239 :processUnit:state 3
   852 jump *label210 equal *tmp239 false
 
   855 jump *label214 equal :processUnit:supply false
   856 ucontrol itemDrop .DOME .UNIT_CAPACITY
   857 set .MSG ", supplying\n"
-    * set *tmp243 .MSG
   858 jump *label215 always
   859 label *label214
   860 ucontrol approach .DOME_X .DOME_Y 6
   861 set .MSG ", waiting\n"
-    * set *tmp243 .MSG
   862 label *label215
   863 sensor *tmp244 @unit @totalItems
   864 op lessThanEq *tmp245 *tmp244 0
 
   885 set :processUnit:distance *tmp253
   886 set *tmp242 :processUnit:distance
   887 label *label213
-    * set *tmp240 *tmp242
   888 jump *label211 always
   889 label *label210
-    * set *tmp240 null
   890 label *label211
   891 ucontrol flag :processUnit:state
   892 sensor *tmp254 @unit @totalItems
 
   906 print "["
   907 print "] sec"
   908 print "\n"
-    * set *tmp256 null
   909 jump *label219 always
   910 label *label218
   911 print .MSG
-    * set *tmp256 .MSG
   912 label *label219
   913 set *tmp257 @unit
   914 set :processUnit:unit *tmp257
 
   930 op equal *tmp266 *tmp265 @this
   931 op land *tmp267 *tmp264 *tmp266
   932 jump *label226 equal *tmp267 false
-    * set *tmp260 :rebindUnit.5:currentUnit
   933 jump *label223 always
   934 set *tmp268 null
   935 jump *label227 always
   936 label *label226
   937 set *tmp268 null
   938 label *label227
-    * set *tmp262 *tmp268
   939 jump *label225 always
   940 label *label224
-    * set *tmp262 null
   941 label *label225
   942 ubind .TYPE
   943 set :rebindUnit.5:firstUnit @unit
 
   947 sensor *tmp271 @unit @controlled
   948 op equal *tmp272 *tmp271 0
   949 jump *label233 equal *tmp272 false
-    * set *tmp260 @unit
   950 jump *label223 always
-    * set *tmp273 null
   951 jump *label234 always
   952 label *label233
-    * set *tmp273 null
   953 label *label234
   954 ubind .TYPE
   955 label *label231
 
   961 jump *label232 equal *tmp276 false
   962 jump *label230 always
   963 label *label232
-    * set *tmp270 null
   964 jump *label229 always
   965 label *label228
-    * set *tmp270 null
   966 label *label229
   967 end
-    * set *tmp260 null
   968 label *label223
   969 sensor *tmp277 @unit @flag
   970 set :processUnit.1:state *tmp277
 
  1005 label *label243
  1006 set *tmp283 *tmp286
  1007 label *label241
-    * set *tmp280 *tmp283
  1008 jump *label237 always
  1009 label *label236
-    * set *tmp280 null
  1010 label *label237
  1011 op equal *tmp289 :processUnit.1:state 2
  1012 jump *label246 equal *tmp289 false
 
  1039 set :processUnit.1:distance *tmp302
  1040 set *tmp292 :processUnit.1:distance
  1041 label *label249
-    * set *tmp290 *tmp292
  1042 jump *label247 always
  1043 label *label246
-    * set *tmp290 null
  1044 label *label247
  1045 op equal *tmp303 :processUnit.1:state 3
  1046 jump *label252 equal *tmp303 false
 
  1049 jump *label256 equal :processUnit.1:supply false
  1050 ucontrol itemDrop .DOME .UNIT_CAPACITY
  1051 set .MSG ", supplying\n"
-    * set *tmp307 .MSG
  1052 jump *label257 always
  1053 label *label256
  1054 ucontrol approach .DOME_X .DOME_Y 6
  1055 set .MSG ", waiting\n"
-    * set *tmp307 .MSG
  1056 label *label257
  1057 sensor *tmp308 @unit @totalItems
  1058 op lessThanEq *tmp309 *tmp308 0
 
  1079 set :processUnit.1:distance *tmp317
  1080 set *tmp306 :processUnit.1:distance
  1081 label *label255
-    * set *tmp304 *tmp306
  1082 jump *label253 always
  1083 label *label252
-    * set *tmp304 null
  1084 label *label253
  1085 ucontrol flag :processUnit.1:state
  1086 sensor *tmp318 @unit @totalItems
 
  1100 print "["
  1101 print "] sec"
  1102 print "\n"
-    * set *tmp320 null
  1103 jump *label261 always
  1104 label *label260
  1105 print .MSG
-    * set *tmp320 .MSG
  1106 label *label261
  1107 set *tmp321 @unit
  1108 set :processUnit.1:unit *tmp321
 
  1119 set *tmp322 *tmp326
  1120 label *label263
  1121 set .SUPPLY_S_FIRST *tmp322
-    * set *tmp258 .SUPPLY_S_FIRST
  1122 jump *label221 always
  1123 label *label220
-    * set *tmp258 null
  1124 label *label221
  1125 set :printDomeStatus.1:item @phase-fabric
  1126 set :printDomeStatus.1:text "\n[green]Phase fabric[] status:\n"
 
  1134 print "["
  1135 print "]"
  1136 print "\n"
-    * set *tmp329 null
  1137 jump *label266 always
  1138 label *label265
  1139 print "  dome:  [coral]"
 
  1141 print "["
  1142 print "]"
  1143 print "\n"
-    * set *tmp329 null
  1144 label *label266
  1145 label *label264
  1146 set :processUnit.2:unit .UNIT_P1
 
  1157 op equal *tmp336 *tmp335 @this
  1158 op land *tmp337 *tmp334 *tmp336
  1159 jump *label271 equal *tmp337 false
-    * set *tmp330 :rebindUnit.6:currentUnit
  1160 jump *label268 always
  1161 set *tmp338 null
  1162 jump *label272 always
  1163 label *label271
  1164 set *tmp338 null
  1165 label *label272
-    * set *tmp332 *tmp338
  1166 jump *label270 always
  1167 label *label269
-    * set *tmp332 null
  1168 label *label270
  1169 ubind .TYPE
  1170 set :rebindUnit.6:firstUnit @unit
 
  1174 sensor *tmp341 @unit @controlled
  1175 op equal *tmp342 *tmp341 0
  1176 jump *label278 equal *tmp342 false
-    * set *tmp330 @unit
  1177 jump *label268 always
-    * set *tmp343 null
  1178 jump *label279 always
  1179 label *label278
-    * set *tmp343 null
  1180 label *label279
  1181 ubind .TYPE
  1182 label *label276
 
  1188 jump *label277 equal *tmp346 false
  1189 jump *label275 always
  1190 label *label277
-    * set *tmp340 null
  1191 jump *label274 always
  1192 label *label273
-    * set *tmp340 null
  1193 label *label274
  1194 end
-    * set *tmp330 null
  1195 label *label268
  1196 sensor *tmp347 @unit @flag
  1197 set :processUnit.2:state *tmp347
 
  1232 label *label288
  1233 set *tmp353 *tmp356
  1234 label *label286
-    * set *tmp350 *tmp353
  1235 jump *label282 always
  1236 label *label281
-    * set *tmp350 null
  1237 label *label282
  1238 op equal *tmp359 :processUnit.2:state 2
  1239 jump *label291 equal *tmp359 false
 
  1266 set :processUnit.2:distance *tmp372
  1267 set *tmp362 :processUnit.2:distance
  1268 label *label294
-    * set *tmp360 *tmp362
  1269 jump *label292 always
  1270 label *label291
-    * set *tmp360 null
  1271 label *label292
  1272 op equal *tmp373 :processUnit.2:state 3
  1273 jump *label297 equal *tmp373 false
 
  1276 jump *label301 equal :processUnit.2:supply false
  1277 ucontrol itemDrop .DOME .UNIT_CAPACITY
  1278 set .MSG ", supplying\n"
-    * set *tmp377 .MSG
  1279 jump *label302 always
  1280 label *label301
  1281 ucontrol approach .DOME_X .DOME_Y 6
  1282 set .MSG ", waiting\n"
-    * set *tmp377 .MSG
  1283 label *label302
  1284 sensor *tmp378 @unit @totalItems
  1285 op lessThanEq *tmp379 *tmp378 0
 
  1306 set :processUnit.2:distance *tmp387
  1307 set *tmp376 :processUnit.2:distance
  1308 label *label300
-    * set *tmp374 *tmp376
  1309 jump *label298 always
  1310 label *label297
-    * set *tmp374 null
  1311 label *label298
  1312 ucontrol flag :processUnit.2:state
  1313 sensor *tmp388 @unit @totalItems
 
  1327 print "["
  1328 print "] sec"
  1329 print "\n"
-    * set *tmp390 null
  1330 jump *label306 always
  1331 label *label305
  1332 print .MSG
-    * set *tmp390 .MSG
  1333 label *label306
  1334 set *tmp391 @unit
  1335 set :processUnit.2:unit *tmp391
 
  1351 op equal *tmp400 *tmp399 @this
  1352 op land *tmp401 *tmp398 *tmp400
  1353 jump *label313 equal *tmp401 false
-    * set *tmp394 :rebindUnit.7:currentUnit
  1354 jump *label310 always
  1355 set *tmp402 null
  1356 jump *label314 always
  1357 label *label313
  1358 set *tmp402 null
  1359 label *label314
-    * set *tmp396 *tmp402
  1360 jump *label312 always
  1361 label *label311
-    * set *tmp396 null
  1362 label *label312
  1363 ubind .TYPE
  1364 set :rebindUnit.7:firstUnit @unit
 
  1368 sensor *tmp405 @unit @controlled
  1369 op equal *tmp406 *tmp405 0
  1370 jump *label320 equal *tmp406 false
-    * set *tmp394 @unit
  1371 jump *label310 always
-    * set *tmp407 null
  1372 jump *label321 always
  1373 label *label320
-    * set *tmp407 null
  1374 label *label321
  1375 ubind .TYPE
  1376 label *label318
 
  1382 jump *label319 equal *tmp410 false
  1383 jump *label317 always
  1384 label *label319
-    * set *tmp404 null
  1385 jump *label316 always
  1386 label *label315
-    * set *tmp404 null
  1387 label *label316
  1388 end
-    * set *tmp394 null
  1389 label *label310
  1390 sensor *tmp411 @unit @flag
  1391 set :processUnit.3:state *tmp411
 
  1426 label *label330
  1427 set *tmp417 *tmp420
  1428 label *label328
-    * set *tmp414 *tmp417
  1429 jump *label324 always
  1430 label *label323
-    * set *tmp414 null
  1431 label *label324
  1432 op equal *tmp423 :processUnit.3:state 2
  1433 jump *label333 equal *tmp423 false
 
  1460 set :processUnit.3:distance *tmp436
  1461 set *tmp426 :processUnit.3:distance
  1462 label *label336
-    * set *tmp424 *tmp426
  1463 jump *label334 always
  1464 label *label333
-    * set *tmp424 null
  1465 label *label334
  1466 op equal *tmp437 :processUnit.3:state 3
  1467 jump *label339 equal *tmp437 false
 
  1470 jump *label343 equal :processUnit.3:supply false
  1471 ucontrol itemDrop .DOME .UNIT_CAPACITY
  1472 set .MSG ", supplying\n"
-    * set *tmp441 .MSG
  1473 jump *label344 always
  1474 label *label343
  1475 ucontrol approach .DOME_X .DOME_Y 6
  1476 set .MSG ", waiting\n"
-    * set *tmp441 .MSG
  1477 label *label344
  1478 sensor *tmp442 @unit @totalItems
  1479 op lessThanEq *tmp443 *tmp442 0
 
  1500 set :processUnit.3:distance *tmp451
  1501 set *tmp440 :processUnit.3:distance
  1502 label *label342
-    * set *tmp438 *tmp440
  1503 jump *label340 always
  1504 label *label339
-    * set *tmp438 null
  1505 label *label340
  1506 ucontrol flag :processUnit.3:state
  1507 sensor *tmp452 @unit @totalItems
 
  1521 print "["
  1522 print "] sec"
  1523 print "\n"
-    * set *tmp454 null
  1524 jump *label348 always
  1525 label *label347
  1526 print .MSG
-    * set *tmp454 .MSG
  1527 label *label348
  1528 set *tmp455 @unit
  1529 set :processUnit.3:unit *tmp455
 
  1540 set *tmp456 *tmp460
  1541 label *label350
  1542 set .SUPPLY_P_FIRST *tmp456
-    * set *tmp392 .SUPPLY_P_FIRST
  1543 jump *label308 always
  1544 label *label307
-    * set *tmp392 null
  1545 label *label308
  1546 op sub *tmp461 @time :start
  1547 op floor *tmp462 *tmp461
 
  1607 label *label370
  1608 set *tmp484 null
  1609 label *label371
-    * set *tmp482 *tmp484
  1610 jump *label367 always
  1611 label *label366
  1612 set *tmp485 :areUnitsAvailable.2:occupied
  1613 op add :areUnitsAvailable.2:occupied :areUnitsAvailable.2:occupied 1
-    * set *tmp482 *tmp485
  1614 label *label367
  1615 ubind :areUnitsAvailable.2:type
  1616 label *label364
 
  1622 jump *label365 equal *tmp488 false
  1623 jump *label363 always
  1624 label *label365
-    * set *tmp468 null
  1625 jump *label359 always
  1626 label *label358
-    * set *tmp468 null
  1627 label *label359
  1628 jump *label373 equal :areUnitsAvailable.2:output false
  1629 print :areUnitsAvailable.2:type
 
  1637 jump *label375 equal *tmp490 false
  1638 print ", needed: "
  1639 print :areUnitsAvailable.2:needed
-    * set *tmp491 null
  1640 jump *label376 always
  1641 label *label375
-    * set *tmp491 null
  1642 label *label376
  1643 print "\n"
-    * set *tmp489 null
  1644 jump *label374 always
  1645 label *label373
-    * set *tmp489 null
  1646 label *label374
  1647 set *tmp466 false
  1648 jump *label357 always
 
  1650 label *label357
  1651 jump *label355 equal *tmp466 false
  1652 end
-    * set *tmp492 null
  1653 jump *label356 always
  1654 label *label355
-    * set *tmp492 null
  1655 label *label356
  1656 op add *tmp493 @time 5000
  1657 set :unitCheck *tmp493
-    * set *tmp465 :unitCheck
  1658 jump *label352 always
  1659 label *label351
-    * set *tmp465 null
  1660 label *label352
  1661 label *label175
  1662 jump *label174 always
 
  1676 label *label380
  1677 ulocate building core false @copper *tmp500 *tmp501 *tmp502 *tmp499
  1678 set .CORE *tmp499
-    * set *tmp498 .CORE
  1679 jump *label379 always
  1680 label *label378
-    * set *tmp498 null
  1681 label *label379
  1682 set :locateCore*retval .CORE
  1683 label *label377

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-53 instructions):
 
   115 jump *label41 equal *tmp27 false
   116 set *tmp10 true
   117 jump *label28 always
-    * set *tmp28 null
   118 jump *label42 always
   119 label *label41
-    * set *tmp28 null
   120 label *label42
   121 jump *label38 always
   122 label *label37
-    * set *tmp29 :areUnitsAvailable:occupied
   123 op add :areUnitsAvailable:occupied :areUnitsAvailable:occupied 1
   124 label *label38
   125 ubind :areUnitsAvailable:type
 
   225 jump *label72 equal *tmp57 false
   226 set *tmp40 true
   227 jump *label59 always
-    * set *tmp58 null
   228 jump *label73 always
   229 label *label72
-    * set *tmp58 null
   230 label *label73
   231 jump *label69 always
   232 label *label68
-    * set *tmp59 :areUnitsAvailable.1:occupied
   233 op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
   234 label *label69
   235 ubind :areUnitsAvailable.1:type
 
   272 printflush null
   273 set *tmp9 :chooseUnitType:type
   274 jump *label22 always
-    * set *tmp66 null
   275 jump *label58 always
   276 label *label57
-    * set *tmp66 null
   277 label *label58
   278 jump *label56 always
   279 label *label55
 
   318 op notEqual *tmp75 .UNIT_S2 null
   319 jump *label87 equal *tmp75 false
   320 jump *label84 always
-    * set *tmp76 null
   321 jump *label88 always
   322 label *label87
-    * set *tmp76 null
   323 label *label88
   324 jump *label86 always
   325 label *label85
 
   348 op land *tmp88 *tmp85 *tmp87
   349 jump *label94 equal *tmp88 false
   350 jump *label91 always
-    * set *tmp89 null
   351 jump *label95 always
   352 label *label94
-    * set *tmp89 null
   353 label *label95
   354 jump *label93 always
   355 label *label92
 
   399 op land *tmp106 *tmp103 *tmp105
   400 jump *label108 equal *tmp106 false
   401 jump *label105 always
-    * set *tmp107 null
   402 jump *label109 always
   403 label *label108
-    * set *tmp107 null
   404 label *label109
   405 jump *label107 always
   406 label *label106
 
   497 op land *tmp143 *tmp140 *tmp142
   498 jump *label132 equal *tmp143 false
   499 jump *label129 always
-    * set *tmp144 null
   500 jump *label133 always
   501 label *label132
-    * set *tmp144 null
   502 label *label133
   503 jump *label131 always
   504 label *label130
 
   548 op land *tmp161 *tmp158 *tmp160
   549 jump *label146 equal *tmp161 false
   550 jump *label143 always
-    * set *tmp162 null
   551 jump *label147 always
   552 label *label146
-    * set *tmp162 null
   553 label *label147
   554 jump *label145 always
   555 label *label144
 
   719 op land *tmp203 *tmp200 *tmp202
   720 jump *label184 equal *tmp203 false
   721 jump *label181 always
-    * set *tmp204 null
   722 jump *label185 always
   723 label *label184
-    * set *tmp204 null
   724 label *label185
   725 jump *label183 always
   726 label *label182
 
   767 op equal *tmp218 *tmp217 :processUnit:item
   768 jump *label198 equal *tmp218 false
   769 set :processUnit:state 3
-    * set *tmp219 :processUnit:state
   770 jump *label199 always
   771 label *label198
   772 sensor *tmp220 @unit @totalItems
 
   788 label *label203
   789 set *tmp222 *tmp224
   790 label *label201
-    * set *tmp219 *tmp222
   791 label *label199
   792 jump *label195 always
   793 label *label194
 
   808 set .MSG ", loading\n"
   809 set *tmp231 .MSG
   810 label *label209
-    * set *tmp228 *tmp231
   811 jump *label207 always
   812 label *label206
   813 ucontrol approach .CORE_X .CORE_Y 6
 
   820 op idiv *tmp237 *tmp236 .SPEED_TENTHS
   821 op div *tmp238 *tmp237 10
   822 set :processUnit:distance *tmp238
-    * set *tmp228 :processUnit:distance
   823 label *label207
   824 jump *label205 always
   825 label *label204
 
   846 label *label216
   847 set *tmp246 null
   848 label *label217
-    * set *tmp242 *tmp246
   849 jump *label213 always
   850 label *label212
   851 ucontrol approach .DOME_X .DOME_Y 6
 
   858 op idiv *tmp252 *tmp251 .SPEED_TENTHS
   859 op div *tmp253 *tmp252 10
   860 set :processUnit:distance *tmp253
-    * set *tmp242 :processUnit:distance
   861 label *label213
   862 jump *label211 always
   863 label *label210
 
   905 op land *tmp267 *tmp264 *tmp266
   906 jump *label226 equal *tmp267 false
   907 jump *label223 always
-    * set *tmp268 null
   908 jump *label227 always
   909 label *label226
-    * set *tmp268 null
   910 label *label227
   911 jump *label225 always
   912 label *label224
 
   953 op equal *tmp282 *tmp281 :processUnit.1:item
   954 jump *label240 equal *tmp282 false
   955 set :processUnit.1:state 3
-    * set *tmp283 :processUnit.1:state
   956 jump *label241 always
   957 label *label240
   958 sensor *tmp284 @unit @totalItems
 
   974 label *label245
   975 set *tmp286 *tmp288
   976 label *label243
-    * set *tmp283 *tmp286
   977 label *label241
   978 jump *label237 always
   979 label *label236
 
   994 set .MSG ", loading\n"
   995 set *tmp295 .MSG
   996 label *label251
-    * set *tmp292 *tmp295
   997 jump *label249 always
   998 label *label248
   999 ucontrol approach .CORE_X .CORE_Y 6
 
  1006 op idiv *tmp301 *tmp300 .SPEED_TENTHS
  1007 op div *tmp302 *tmp301 10
  1008 set :processUnit.1:distance *tmp302
-    * set *tmp292 :processUnit.1:distance
  1009 label *label249
  1010 jump *label247 always
  1011 label *label246
 
  1032 label *label258
  1033 set *tmp310 null
  1034 label *label259
-    * set *tmp306 *tmp310
  1035 jump *label255 always
  1036 label *label254
  1037 ucontrol approach .DOME_X .DOME_Y 6
 
  1044 op idiv *tmp316 *tmp315 .SPEED_TENTHS
  1045 op div *tmp317 *tmp316 10
  1046 set :processUnit.1:distance *tmp317
-    * set *tmp306 :processUnit.1:distance
  1047 label *label255
  1048 jump *label253 always
  1049 label *label252
 
  1124 op land *tmp337 *tmp334 *tmp336
  1125 jump *label271 equal *tmp337 false
  1126 jump *label268 always
-    * set *tmp338 null
  1127 jump *label272 always
  1128 label *label271
-    * set *tmp338 null
  1129 label *label272
  1130 jump *label270 always
  1131 label *label269
 
  1172 op equal *tmp352 *tmp351 :processUnit.2:item
  1173 jump *label285 equal *tmp352 false
  1174 set :processUnit.2:state 3
-    * set *tmp353 :processUnit.2:state
  1175 jump *label286 always
  1176 label *label285
  1177 sensor *tmp354 @unit @totalItems
 
  1193 label *label290
  1194 set *tmp356 *tmp358
  1195 label *label288
-    * set *tmp353 *tmp356
  1196 label *label286
  1197 jump *label282 always
  1198 label *label281
 
  1213 set .MSG ", loading\n"
  1214 set *tmp365 .MSG
  1215 label *label296
-    * set *tmp362 *tmp365
  1216 jump *label294 always
  1217 label *label293
  1218 ucontrol approach .CORE_X .CORE_Y 6
 
  1225 op idiv *tmp371 *tmp370 .SPEED_TENTHS
  1226 op div *tmp372 *tmp371 10
  1227 set :processUnit.2:distance *tmp372
-    * set *tmp362 :processUnit.2:distance
  1228 label *label294
  1229 jump *label292 always
  1230 label *label291
 
  1251 label *label303
  1252 set *tmp380 null
  1253 label *label304
-    * set *tmp376 *tmp380
  1254 jump *label300 always
  1255 label *label299
  1256 ucontrol approach .DOME_X .DOME_Y 6
 
  1263 op idiv *tmp386 *tmp385 .SPEED_TENTHS
  1264 op div *tmp387 *tmp386 10
  1265 set :processUnit.2:distance *tmp387
-    * set *tmp376 :processUnit.2:distance
  1266 label *label300
  1267 jump *label298 always
  1268 label *label297
 
  1310 op land *tmp401 *tmp398 *tmp400
  1311 jump *label313 equal *tmp401 false
  1312 jump *label310 always
-    * set *tmp402 null
  1313 jump *label314 always
  1314 label *label313
-    * set *tmp402 null
  1315 label *label314
  1316 jump *label312 always
  1317 label *label311
 
  1358 op equal *tmp416 *tmp415 :processUnit.3:item
  1359 jump *label327 equal *tmp416 false
  1360 set :processUnit.3:state 3
-    * set *tmp417 :processUnit.3:state
  1361 jump *label328 always
  1362 label *label327
  1363 sensor *tmp418 @unit @totalItems
 
  1379 label *label332
  1380 set *tmp420 *tmp422
  1381 label *label330
-    * set *tmp417 *tmp420
  1382 label *label328
  1383 jump *label324 always
  1384 label *label323
 
  1399 set .MSG ", loading\n"
  1400 set *tmp429 .MSG
  1401 label *label338
-    * set *tmp426 *tmp429
  1402 jump *label336 always
  1403 label *label335
  1404 ucontrol approach .CORE_X .CORE_Y 6
 
  1411 op idiv *tmp435 *tmp434 .SPEED_TENTHS
  1412 op div *tmp436 *tmp435 10
  1413 set :processUnit.3:distance *tmp436
-    * set *tmp426 :processUnit.3:distance
  1414 label *label336
  1415 jump *label334 always
  1416 label *label333
 
  1437 label *label345
  1438 set *tmp444 null
  1439 label *label346
-    * set *tmp440 *tmp444
  1440 jump *label342 always
  1441 label *label341
  1442 ucontrol approach .DOME_X .DOME_Y 6
 
  1449 op idiv *tmp450 *tmp449 .SPEED_TENTHS
  1450 op div *tmp451 *tmp450 10
  1451 set :processUnit.3:distance *tmp451
-    * set *tmp440 :processUnit.3:distance
  1452 label *label342
  1453 jump *label340 always
  1454 label *label339
 
  1552 jump *label370 equal *tmp483 false
  1553 set *tmp466 true
  1554 jump *label357 always
-    * set *tmp484 null
  1555 jump *label371 always
  1556 label *label370
-    * set *tmp484 null
  1557 label *label371
  1558 jump *label367 always
  1559 label *label366
-    * set *tmp485 :areUnitsAvailable.2:occupied
  1560 op add :areUnitsAvailable.2:occupied :areUnitsAvailable.2:occupied 1
  1561 label *label367
  1562 ubind :areUnitsAvailable.2:type

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-24 instructions):
 
   773 op equal *tmp221 *tmp220 0
   774 jump *label200 equal *tmp221 false
   775 set :processUnit:state 2
-    * set *tmp222 :processUnit:state
   776 jump *label201 always
   777 label *label200
   778 set .MSG ", initializing\n"
 
   785 label *label202
   786 set *tmp224 null
   787 label *label203
-    * set *tmp222 *tmp224
   788 label *label201
   789 label *label199
   790 jump *label195 always
 
   800 jump *label208 equal *tmp230 false
   801 ucontrol approach .DOME_X .DOME_Y 6
   802 set :processUnit:state 3
-    * set *tmp231 :processUnit:state
   803 jump *label209 always
   804 label *label208
   805 set .MSG ", loading\n"
-    * set *tmp231 .MSG
   806 label *label209
   807 jump *label207 always
   808 label *label206
 
   837 jump *label216 equal *tmp245 false
   838 ucontrol approach .CORE_X .CORE_Y 6
   839 set :processUnit:state 2
-    * set *tmp246 :processUnit:state
   840 jump *label217 always
   841 label *label216
-    * set *tmp246 null
   842 label *label217
   843 jump *label213 always
   844 label *label212
 
   953 op equal *tmp285 *tmp284 0
   954 jump *label242 equal *tmp285 false
   955 set :processUnit.1:state 2
-    * set *tmp286 :processUnit.1:state
   956 jump *label243 always
   957 label *label242
   958 set .MSG ", initializing\n"
 
   965 label *label244
   966 set *tmp288 null
   967 label *label245
-    * set *tmp286 *tmp288
   968 label *label243
   969 label *label241
   970 jump *label237 always
 
   980 jump *label250 equal *tmp294 false
   981 ucontrol approach .DOME_X .DOME_Y 6
   982 set :processUnit.1:state 3
-    * set *tmp295 :processUnit.1:state
   983 jump *label251 always
   984 label *label250
   985 set .MSG ", loading\n"
-    * set *tmp295 .MSG
   986 label *label251
   987 jump *label249 always
   988 label *label248
 
  1017 jump *label258 equal *tmp309 false
  1018 ucontrol approach .CORE_X .CORE_Y 6
  1019 set :processUnit.1:state 2
-    * set *tmp310 :processUnit.1:state
  1020 jump *label259 always
  1021 label *label258
-    * set *tmp310 null
  1022 label *label259
  1023 jump *label255 always
  1024 label *label254
 
  1166 op equal *tmp355 *tmp354 0
  1167 jump *label287 equal *tmp355 false
  1168 set :processUnit.2:state 2
-    * set *tmp356 :processUnit.2:state
  1169 jump *label288 always
  1170 label *label287
  1171 set .MSG ", initializing\n"
 
  1178 label *label289
  1179 set *tmp358 null
  1180 label *label290
-    * set *tmp356 *tmp358
  1181 label *label288
  1182 label *label286
  1183 jump *label282 always
 
  1193 jump *label295 equal *tmp364 false
  1194 ucontrol approach .DOME_X .DOME_Y 6
  1195 set :processUnit.2:state 3
-    * set *tmp365 :processUnit.2:state
  1196 jump *label296 always
  1197 label *label295
  1198 set .MSG ", loading\n"
-    * set *tmp365 .MSG
  1199 label *label296
  1200 jump *label294 always
  1201 label *label293
 
  1230 jump *label303 equal *tmp379 false
  1231 ucontrol approach .CORE_X .CORE_Y 6
  1232 set :processUnit.2:state 2
-    * set *tmp380 :processUnit.2:state
  1233 jump *label304 always
  1234 label *label303
-    * set *tmp380 null
  1235 label *label304
  1236 jump *label300 always
  1237 label *label299
 
  1346 op equal *tmp419 *tmp418 0
  1347 jump *label329 equal *tmp419 false
  1348 set :processUnit.3:state 2
-    * set *tmp420 :processUnit.3:state
  1349 jump *label330 always
  1350 label *label329
  1351 set .MSG ", initializing\n"
 
  1358 label *label331
  1359 set *tmp422 null
  1360 label *label332
-    * set *tmp420 *tmp422
  1361 label *label330
  1362 label *label328
  1363 jump *label324 always
 
  1373 jump *label337 equal *tmp428 false
  1374 ucontrol approach .DOME_X .DOME_Y 6
  1375 set :processUnit.3:state 3
-    * set *tmp429 :processUnit.3:state
  1376 jump *label338 always
  1377 label *label337
  1378 set .MSG ", loading\n"
-    * set *tmp429 .MSG
  1379 label *label338
  1380 jump *label336 always
  1381 label *label335
 
  1410 jump *label345 equal *tmp443 false
  1411 ucontrol approach .CORE_X .CORE_Y 6
  1412 set :processUnit.3:state 2
-    * set *tmp444 :processUnit.3:state
  1413 jump *label346 always
  1414 label *label345
-    * set *tmp444 null
  1415 label *label346
  1416 jump *label342 always
  1417 label *label341

Modifications by Initial phase, Dead Code Elimination, iteration 4 (-8 instructions):
 
   780 ucontrol within .CORE_X .CORE_Y 8 *tmp223
   781 jump *label202 equal *tmp223 false
   782 ucontrol itemDrop .CORE .UNIT_CAPACITY
-    * set *tmp224 null
   783 jump *label203 always
   784 label *label202
-    * set *tmp224 null
   785 label *label203
   786 label *label201
   787 label *label199
 
   958 ucontrol within .CORE_X .CORE_Y 8 *tmp287
   959 jump *label244 equal *tmp287 false
   960 ucontrol itemDrop .CORE .UNIT_CAPACITY
-    * set *tmp288 null
   961 jump *label245 always
   962 label *label244
-    * set *tmp288 null
   963 label *label245
   964 label *label243
   965 label *label241
 
  1169 ucontrol within .CORE_X .CORE_Y 8 *tmp357
  1170 jump *label289 equal *tmp357 false
  1171 ucontrol itemDrop .CORE .UNIT_CAPACITY
-    * set *tmp358 null
  1172 jump *label290 always
  1173 label *label289
-    * set *tmp358 null
  1174 label *label290
  1175 label *label288
  1176 label *label286
 
  1347 ucontrol within .CORE_X .CORE_Y 8 *tmp421
  1348 jump *label331 equal *tmp421 false
  1349 ucontrol itemDrop .CORE .UNIT_CAPACITY
-    * set *tmp422 null
  1350 jump *label332 always
  1351 label *label331
-    * set *tmp422 null
  1352 label *label332
  1353 label *label330
  1354 label *label328

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-41 instructions):
 
    48 jump *label6 always
    49 label *label8
    50 label *label2
-    * sensor *tmp3 .CORE @x
-    * set .CORE_X *tmp3
-    * sensor *tmp4 .CORE @y
-    * set .CORE_Y *tmp4
-    * sensor *tmp5 .DOME @x
-    * set .DOME_X *tmp5
-    * sensor *tmp6 .DOME @y
-    * set .DOME_Y *tmp6
+   51 sensor .CORE_X .CORE @x
+   52 sensor .CORE_Y .CORE @y
+   53 sensor .DOME_X .DOME @x
+   54 sensor .DOME_Y .DOME @y
    55 label *label19
    56 sensor *tmp7 switch1 @enabled
    57 op equal *tmp8 *tmp7 false
 
    82 op len *tmp16 *tmp14 *tmp15
    83 op mul *tmp17 2 *tmp16
    84 sensor *tmp18 :needsFourUnits:unit @speed
-    * op div *tmp19 *tmp17 *tmp18
-    * set :needsFourUnits:travel_time *tmp19
-    * op greaterThanEq *tmp20 :needsFourUnits:travel_time 47
-    * set *tmp13 *tmp20
+   85 op div :needsFourUnits:travel_time *tmp17 *tmp18
+   86 op greaterThanEq *tmp13 :needsFourUnits:travel_time 47
    87 jump *label33 always
    88 set *tmp13 null
    89 label *label33
 
   190 op len *tmp46 *tmp44 *tmp45
   191 op mul *tmp47 2 *tmp46
   192 sensor *tmp48 :needsFourUnits.1:unit @speed
-    * op div *tmp49 *tmp47 *tmp48
-    * set :needsFourUnits.1:travel_time *tmp49
-    * op greaterThanEq *tmp50 :needsFourUnits.1:travel_time 47
-    * set *tmp43 *tmp50
+  193 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
+  194 op greaterThanEq *tmp43 :needsFourUnits.1:travel_time 47
   195 jump *label64 always
   196 set *tmp43 null
   197 label *label64
 
   305 set .UNIT_S2 .UNIT_P2
   306 set .UNIT_P2 .UNIT_S1
   307 set .UNIT_S1 .UNIT_P1
-    * set *tmp74 @unit
-    * set .UNIT_P1 *tmp74
+  308 set .UNIT_P1 @unit
   309 op notEqual *tmp75 .UNIT_S2 null
   310 jump *label87 equal *tmp75 false
   311 jump *label84 always
 
   449 jump *label119 always
   450 label *label118
   451 label *label119
-    * sensor *tmp121 .UNIT_S1 @itemCapacity
-    * set .UNIT_CAPACITY *tmp121
-    * sensor *tmp122 .UNIT_S1 @speed
-    * set .SPEED *tmp122
-    * op div *tmp123 .SPEED 10
-    * set .SPEED_TENTHS *tmp123
+  452 sensor .UNIT_CAPACITY .UNIT_S1 @itemCapacity
+  453 sensor .SPEED .UNIT_S1 @speed
+  454 op div .SPEED_TENTHS .SPEED 10
   455 op strictEqual *tmp124 .SPEED null
   456 jump *label123 equal *tmp124 false
   457 stop
 
   464 op len *tmp129 *tmp127 *tmp128
   465 op mul *tmp130 2 *tmp129
   466 sensor *tmp131 :needsFourUnits.2:unit @speed
-    * op div *tmp132 *tmp130 *tmp131
-    * set :needsFourUnits.2:travel_time *tmp132
-    * op greaterThanEq *tmp133 :needsFourUnits.2:travel_time 47
-    * set *tmp126 *tmp133
+  467 op div :needsFourUnits.2:travel_time *tmp130 *tmp131
+  468 op greaterThanEq *tmp126 :needsFourUnits.2:travel_time 47
   469 jump *label125 always
   470 set *tmp126 null
   471 label *label125
 
   655 set *tmp190 false
   656 label *label171
   657 set .SUPPLY_P_FIRST *tmp190
-    * op add *tmp191 @time 5000
-    * set :unitCheck *tmp191
+  658 op add :unitCheck @time 5000
   659 label *label174
   660 sensor *tmp192 switch1 @enabled
   661 jump *label176 equal *tmp192 false
 
   671 set :printDomeStatus:item @silicon
   672 set :printDomeStatus:text "\n[green]Silicon[] status:\n"
   673 print :printDomeStatus:text
-    * sensor *tmp193 .DOME :printDomeStatus:item
-    * set :printDomeStatus:level *tmp193
+  674 sensor :printDomeStatus:level .DOME :printDomeStatus:item
   675 op greaterThan *tmp194 :printDomeStatus:level 3
   676 jump *label178 equal *tmp194 false
   677 print "  dome:  [green]"
 
   736 label *label187
   737 end
   738 label *label181
-    * sensor *tmp213 @unit @flag
-    * set :processUnit:state *tmp213
+  739 sensor :processUnit:state @unit @flag
   740 set :processUnit:distance -1
   741 set :processUnit:color "gold"
   742 op lessThan *tmp214 :processUnit:state 2
 
   795 op sub *tmp235 .CORE_Y *tmp234
   796 op len *tmp236 *tmp233 *tmp235
   797 op idiv *tmp237 *tmp236 .SPEED_TENTHS
-    * op div *tmp238 *tmp237 10
-    * set :processUnit:distance *tmp238
+  798 op div :processUnit:distance *tmp237 10
   799 label *label207
   800 jump *label205 always
   801 label *label204
 
   830 op sub *tmp250 .DOME_Y *tmp249
   831 op len *tmp251 *tmp248 *tmp250
   832 op idiv *tmp252 *tmp251 .SPEED_TENTHS
-    * op div *tmp253 *tmp252 10
-    * set :processUnit:distance *tmp253
+  833 op div :processUnit:distance *tmp252 10
   834 label *label213
   835 jump *label211 always
   836 label *label210
 
   857 label *label218
   858 print .MSG
   859 label *label219
-    * set *tmp257 @unit
-    * set :processUnit:unit *tmp257
+  860 set :processUnit:unit @unit
   861 label *label180
   862 set .UNIT_S1 :processUnit:unit
   863 jump *label220 equal .FOUR_UNITS false
 
   910 label *label229
   911 end
   912 label *label223
-    * sensor *tmp277 @unit @flag
-    * set :processUnit.1:state *tmp277
+  913 sensor :processUnit.1:state @unit @flag
   914 set :processUnit.1:distance -1
   915 set :processUnit.1:color "gold"
   916 op lessThan *tmp278 :processUnit.1:state 2
 
   969 op sub *tmp299 .CORE_Y *tmp298
   970 op len *tmp300 *tmp297 *tmp299
   971 op idiv *tmp301 *tmp300 .SPEED_TENTHS
-    * op div *tmp302 *tmp301 10
-    * set :processUnit.1:distance *tmp302
+  972 op div :processUnit.1:distance *tmp301 10
   973 label *label249
   974 jump *label247 always
   975 label *label246
 
  1004 op sub *tmp314 .DOME_Y *tmp313
  1005 op len *tmp315 *tmp312 *tmp314
  1006 op idiv *tmp316 *tmp315 .SPEED_TENTHS
-    * op div *tmp317 *tmp316 10
-    * set :processUnit.1:distance *tmp317
+ 1007 op div :processUnit.1:distance *tmp316 10
  1008 label *label255
  1009 jump *label253 always
  1010 label *label252
 
  1031 label *label260
  1032 print .MSG
  1033 label *label261
-    * set *tmp321 @unit
-    * set :processUnit.1:unit *tmp321
+ 1034 set :processUnit.1:unit @unit
  1035 label *label222
  1036 set .UNIT_S2 :processUnit.1:unit
  1037 jump *label262 equal .SUPPLY_S_FIRST false
  1038 sensor *tmp323 .UNIT_S1 @totalItems
-    * op greaterThan *tmp324 *tmp323 0
-    * set *tmp322 *tmp324
+ 1039 op greaterThan *tmp322 *tmp323 0
  1040 jump *label263 always
  1041 label *label262
  1042 sensor *tmp325 .UNIT_S2 @totalItems
-    * op equal *tmp326 *tmp325 0
-    * set *tmp322 *tmp326
+ 1043 op equal *tmp322 *tmp325 0
  1044 label *label263
  1045 set .SUPPLY_S_FIRST *tmp322
  1046 jump *label221 always
 
  1049 set :printDomeStatus.1:item @phase-fabric
  1050 set :printDomeStatus.1:text "\n[green]Phase fabric[] status:\n"
  1051 print :printDomeStatus.1:text
-    * sensor *tmp327 .DOME :printDomeStatus.1:item
-    * set :printDomeStatus.1:level *tmp327
+ 1052 sensor :printDomeStatus.1:level .DOME :printDomeStatus.1:item
  1053 op greaterThan *tmp328 :printDomeStatus.1:level 3
  1054 jump *label265 equal *tmp328 false
  1055 print "  dome:  [green]"
 
  1114 label *label274
  1115 end
  1116 label *label268
-    * sensor *tmp347 @unit @flag
-    * set :processUnit.2:state *tmp347
+ 1117 sensor :processUnit.2:state @unit @flag
  1118 set :processUnit.2:distance -1
  1119 set :processUnit.2:color "gold"
  1120 op lessThan *tmp348 :processUnit.2:state 2
 
  1173 op sub *tmp369 .CORE_Y *tmp368
  1174 op len *tmp370 *tmp367 *tmp369
  1175 op idiv *tmp371 *tmp370 .SPEED_TENTHS
-    * op div *tmp372 *tmp371 10
-    * set :processUnit.2:distance *tmp372
+ 1176 op div :processUnit.2:distance *tmp371 10
  1177 label *label294
  1178 jump *label292 always
  1179 label *label291
 
  1208 op sub *tmp384 .DOME_Y *tmp383
  1209 op len *tmp385 *tmp382 *tmp384
  1210 op idiv *tmp386 *tmp385 .SPEED_TENTHS
-    * op div *tmp387 *tmp386 10
-    * set :processUnit.2:distance *tmp387
+ 1211 op div :processUnit.2:distance *tmp386 10
  1212 label *label300
  1213 jump *label298 always
  1214 label *label297
 
  1235 label *label305
  1236 print .MSG
  1237 label *label306
-    * set *tmp391 @unit
-    * set :processUnit.2:unit *tmp391
+ 1238 set :processUnit.2:unit @unit
  1239 label *label267
  1240 set .UNIT_P1 :processUnit.2:unit
  1241 jump *label307 equal .FOUR_UNITS false
 
  1288 label *label316
  1289 end
  1290 label *label310
-    * sensor *tmp411 @unit @flag
-    * set :processUnit.3:state *tmp411
+ 1291 sensor :processUnit.3:state @unit @flag
  1292 set :processUnit.3:distance -1
  1293 set :processUnit.3:color "gold"
  1294 op lessThan *tmp412 :processUnit.3:state 2
 
  1347 op sub *tmp433 .CORE_Y *tmp432
  1348 op len *tmp434 *tmp431 *tmp433
  1349 op idiv *tmp435 *tmp434 .SPEED_TENTHS
-    * op div *tmp436 *tmp435 10
-    * set :processUnit.3:distance *tmp436
+ 1350 op div :processUnit.3:distance *tmp435 10
  1351 label *label336
  1352 jump *label334 always
  1353 label *label333
 
  1382 op sub *tmp448 .DOME_Y *tmp447
  1383 op len *tmp449 *tmp446 *tmp448
  1384 op idiv *tmp450 *tmp449 .SPEED_TENTHS
-    * op div *tmp451 *tmp450 10
-    * set :processUnit.3:distance *tmp451
+ 1385 op div :processUnit.3:distance *tmp450 10
  1386 label *label342
  1387 jump *label340 always
  1388 label *label339
 
  1409 label *label347
  1410 print .MSG
  1411 label *label348
-    * set *tmp455 @unit
-    * set :processUnit.3:unit *tmp455
+ 1412 set :processUnit.3:unit @unit
  1413 label *label309
  1414 set .UNIT_P2 :processUnit.3:unit
  1415 jump *label349 equal .SUPPLY_P_FIRST false
  1416 sensor *tmp457 .UNIT_P1 @totalItems
-    * op greaterThan *tmp458 *tmp457 0
-    * set *tmp456 *tmp458
+ 1417 op greaterThan *tmp456 *tmp457 0
  1418 jump *label350 always
  1419 label *label349
  1420 sensor *tmp459 .UNIT_P2 @totalItems
-    * op equal *tmp460 *tmp459 0
-    * set *tmp456 *tmp460
+ 1421 op equal *tmp456 *tmp459 0
  1422 label *label350
  1423 set .SUPPLY_P_FIRST *tmp456
  1424 jump *label308 always
 
  1454 op len *tmp472 *tmp470 *tmp471
  1455 op mul *tmp473 2 *tmp472
  1456 sensor *tmp474 :needsFourUnits.3:unit @speed
-    * op div *tmp475 *tmp473 *tmp474
-    * set :needsFourUnits.3:travel_time *tmp475
-    * op greaterThanEq *tmp476 :needsFourUnits.3:travel_time 47
-    * set *tmp469 *tmp476
+ 1457 op div :needsFourUnits.3:travel_time *tmp473 *tmp474
+ 1458 op greaterThanEq *tmp469 :needsFourUnits.3:travel_time 47
  1459 jump *label362 always
  1460 set *tmp469 null
  1461 label *label362
 
  1529 jump *label356 always
  1530 label *label355
  1531 label *label356
-    * op add *tmp493 @time 5000
-    * set :unitCheck *tmp493
+ 1532 op add :unitCheck @time 5000
  1533 jump *label352 always
  1534 label *label351
  1535 label *label352
 
  1549 jump *label380 notEqual *tmp497 false
  1550 jump *label378 always
  1551 label *label380
-    * ulocate building core false @copper *tmp500 *tmp501 *tmp502 *tmp499
-    * set .CORE *tmp499
+ 1552 ulocate building core false @copper *tmp500 *tmp501 *tmp502 .CORE
  1553 jump *label379 always
  1554 label *label378
  1555 label *label379

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-2 instructions):
 
    15 printflush message1
    16 set .CORE null
    17 label *label6
-    * jump *label8 equal true false
    18 set :locateDomeAndCore:type @flare
    19 setaddr *tmp1 *label12
    20 jump *label9 always
 
    62 jump *label19 always
    63 label *label21
    64 label *label23
-    * jump *label25 equal true false
    65 printflush null
    66 print "[gold]Looking for suitable unit type:[]"
    67 print "\n"

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-24 instructions):
 
    99 label *label40
   100 sensor *tmp24 @unit @controller
   101 op equal *tmp25 *tmp24 @this
-    * jump *label39 notEqual *tmp25 false
-    * jump *label37 always
+  102 jump *label37 equal *tmp25 false
   103 label *label39
   104 op add :areUnitsAvailable:free :areUnitsAvailable:free 1
   105 op greaterThanEq *tmp27 :areUnitsAvailable:free :areUnitsAvailable:needed
 
   120 label *label43
   121 sensor *tmp31 :areUnitsAvailable:firstUnit @dead
   122 op equal *tmp32 *tmp31 0
-    * jump *label36 equal *tmp32 false
-    * jump *label34 always
+  123 jump *label34 notEqual *tmp32 false
   124 label *label36
   125 jump *label30 always
   126 label *label29
 
   205 label *label71
   206 sensor *tmp54 @unit @controller
   207 op equal *tmp55 *tmp54 @this
-    * jump *label70 notEqual *tmp55 false
-    * jump *label68 always
+  208 jump *label68 equal *tmp55 false
   209 label *label70
   210 op add :areUnitsAvailable.1:free :areUnitsAvailable.1:free 1
   211 op greaterThanEq *tmp57 :areUnitsAvailable.1:free :areUnitsAvailable.1:needed
 
   226 label *label74
   227 sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
   228 op equal *tmp62 *tmp61 0
-    * jump *label67 equal *tmp62 false
-    * jump *label65 always
+  229 jump *label65 notEqual *tmp62 false
   230 label *label67
   231 jump *label61 always
   232 label *label60
 
   316 label *label89
   317 sensor *tmp78 :rebindUnits:firstUnit @dead
   318 op equal *tmp79 *tmp78 0
-    * jump *label84 equal *tmp79 false
-    * jump *label82 always
+  319 jump *label82 notEqual *tmp79 false
   320 label *label84
   321 jump *label79 always
   322 label *label79
 
   357 label *label103
   358 sensor *tmp96 :rebindUnit:firstUnit @dead
   359 op equal *tmp97 *tmp96 0
-    * jump *label100 equal *tmp97 false
-    * jump *label98 always
+  360 jump *label98 notEqual *tmp97 false
   361 label *label100
   362 jump *label97 always
   363 label *label96
 
   407 label *label117
   408 sensor *tmp114 :rebindUnit.1:firstUnit @dead
   409 op equal *tmp115 *tmp114 0
-    * jump *label114 equal *tmp115 false
-    * jump *label112 always
+  410 jump *label112 notEqual *tmp115 false
   411 label *label114
   412 jump *label111 always
   413 label *label110
 
   426 label *label121
   427 sensor *tmp118 .UNIT_P1 @firstItem
   428 op equal *tmp119 *tmp118 @silicon
-    * jump *label120 notEqual *tmp119 false
-    * jump *label118 always
+  429 jump *label118 equal *tmp119 false
   430 label *label120
   431 set :swap:a .UNIT_S1
   432 set :swap:b .UNIT_P1
 
   498 label *label141
   499 sensor *tmp151 :rebindUnit.2:firstUnit @dead
   500 op equal *tmp152 *tmp151 0
-    * jump *label138 equal *tmp152 false
-    * jump *label136 always
+  501 jump *label136 notEqual *tmp152 false
   502 label *label138
   503 jump *label135 always
   504 label *label134
 
   548 label *label155
   549 sensor *tmp169 :rebindUnit.3:firstUnit @dead
   550 op equal *tmp170 *tmp169 0
-    * jump *label152 equal *tmp170 false
-    * jump *label150 always
+  551 jump *label150 notEqual *tmp170 false
   552 label *label152
   553 jump *label149 always
   554 label *label148
 
   587 label *label164
   588 sensor *tmp178 .UNIT_P2 @firstItem
   589 op equal *tmp179 *tmp178 @silicon
-    * jump *label163 notEqual *tmp179 false
-    * jump *label161 always
+  590 jump *label161 equal *tmp179 false
   591 label *label163
   592 set :swap.2:a .UNIT_S2
   593 set :swap.2:b .UNIT_P2
 
   618 sensor *tmp182 .UNIT_S1 @totalItems
   619 sensor *tmp183 .UNIT_S2 @totalItems
   620 op lessThan *tmp184 *tmp182 *tmp183
-    * jump *label168 notEqual *tmp184 false
-    * jump *label166 always
+  621 jump *label166 equal *tmp184 false
   622 label *label168
   623 set *tmp185 true
   624 jump *label167 always
 
   632 sensor *tmp187 .UNIT_P1 @totalItems
   633 sensor *tmp188 .UNIT_P2 @totalItems
   634 op lessThan *tmp189 *tmp187 *tmp188
-    * jump *label172 notEqual *tmp189 false
-    * jump *label170 always
+  635 jump *label170 equal *tmp189 false
   636 label *label172
   637 set *tmp190 true
   638 jump *label171 always
 
   713 label *label193
   714 sensor *tmp211 :rebindUnit.4:firstUnit @dead
   715 op equal *tmp212 *tmp211 0
-    * jump *label190 equal *tmp212 false
-    * jump *label188 always
+  716 jump *label188 notEqual *tmp212 false
   717 label *label190
   718 jump *label187 always
   719 label *label186
 
   727 jump *label196 notEqual *tmp214 false
   728 label *label197
   729 op greaterThan *tmp215 :processUnit:state 3
-    * jump *label196 notEqual *tmp215 false
-    * jump *label194 always
+  730 jump *label194 equal *tmp215 false
   731 label *label196
   732 sensor *tmp217 @unit @firstItem
   733 op equal *tmp218 *tmp217 :processUnit:item
 
   885 label *label235
   886 sensor *tmp275 :rebindUnit.5:firstUnit @dead
   887 op equal *tmp276 *tmp275 0
-    * jump *label232 equal *tmp276 false
-    * jump *label230 always
+  888 jump *label230 notEqual *tmp276 false
   889 label *label232
   890 jump *label229 always
   891 label *label228
 
   899 jump *label238 notEqual *tmp278 false
   900 label *label239
   901 op greaterThan *tmp279 :processUnit.1:state 3
-    * jump *label238 notEqual *tmp279 false
-    * jump *label236 always
+  902 jump *label236 equal *tmp279 false
   903 label *label238
   904 sensor *tmp281 @unit @firstItem
   905 op equal *tmp282 *tmp281 :processUnit.1:item
 
  1087 label *label280
  1088 sensor *tmp345 :rebindUnit.6:firstUnit @dead
  1089 op equal *tmp346 *tmp345 0
-    * jump *label277 equal *tmp346 false
-    * jump *label275 always
+ 1090 jump *label275 notEqual *tmp346 false
  1091 label *label277
  1092 jump *label274 always
  1093 label *label273
 
  1101 jump *label283 notEqual *tmp348 false
  1102 label *label284
  1103 op greaterThan *tmp349 :processUnit.2:state 3
-    * jump *label283 notEqual *tmp349 false
-    * jump *label281 always
+ 1104 jump *label281 equal *tmp349 false
  1105 label *label283
  1106 sensor *tmp351 @unit @firstItem
  1107 op equal *tmp352 *tmp351 :processUnit.2:item
 
  1259 label *label322
  1260 sensor *tmp409 :rebindUnit.7:firstUnit @dead
  1261 op equal *tmp410 *tmp409 0
-    * jump *label319 equal *tmp410 false
-    * jump *label317 always
+ 1262 jump *label317 notEqual *tmp410 false
  1263 label *label319
  1264 jump *label316 always
  1265 label *label315
 
  1273 jump *label325 notEqual *tmp412 false
  1274 label *label326
  1275 op greaterThan *tmp413 :processUnit.3:state 3
-    * jump *label325 notEqual *tmp413 false
-    * jump *label323 always
+ 1276 jump *label323 equal *tmp413 false
  1277 label *label325
  1278 sensor *tmp415 @unit @firstItem
  1279 op equal *tmp416 *tmp415 :processUnit.3:item
 
  1450 label *label369
  1451 sensor *tmp480 @unit @controller
  1452 op equal *tmp481 *tmp480 @this
-    * jump *label368 notEqual *tmp481 false
-    * jump *label366 always
+ 1453 jump *label366 equal *tmp481 false
  1454 label *label368
  1455 op add :areUnitsAvailable.2:free :areUnitsAvailable.2:free 1
  1456 op greaterThanEq *tmp483 :areUnitsAvailable.2:free :areUnitsAvailable.2:needed
 
  1471 label *label372
  1472 sensor *tmp487 :areUnitsAvailable.2:firstUnit @dead
  1473 op equal *tmp488 *tmp487 0
-    * jump *label365 equal *tmp488 false
-    * jump *label363 always
+ 1474 jump *label363 notEqual *tmp488 false
  1475 label *label365
  1476 jump *label359 always
  1477 label *label358
 
  1521 label *label381
  1522 sensor *tmp496 @unit @controller
  1523 op equal *tmp497 *tmp496 @this
-    * jump *label380 notEqual *tmp497 false
-    * jump *label378 always
+ 1524 jump *label378 equal *tmp497 false
  1525 label *label380
  1526 ulocate building core false @copper *tmp500 *tmp501 *tmp502 .CORE
  1527 jump *label379 always

Modifications by Iterated phase, Condition Optimization, pass 1, iteration 1 (-122 instructions):
 
     3 remark "Do not modify anything below this line."
     4 set .DOME dome1
     5 label *label3
-    * op equal *tmp0 .DOME null
-    * jump *label5 equal *tmp0 false
+    6 jump *label5 notEqual .DOME null
     7 print "[gold]Waiting for an overdrive dome to be connected..."
     8 printflush message1
     9 set .DOME dome1
 
    52 sensor .DOME_Y .DOME @y
    53 label *label19
    54 sensor *tmp7 switch1 @enabled
-    * op equal *tmp8 *tmp7 false
-    * jump *label21 equal *tmp8 false
+   55 jump *label21 notEqual *tmp7 false
    56 print "[coral]Activate switch to begin supplying overdrive dome..."
    57 print "\n"
    58 printflush message1
 
    70 set :areUnitsAvailable:needed 0
    71 ubind :areUnitsAvailable:type
    72 set :areUnitsAvailable:firstUnit @unit
-    * op notEqual *tmp11 :areUnitsAvailable:firstUnit null
-    * jump *label29 equal *tmp11 false
+   73 jump *label29 equal :areUnitsAvailable:firstUnit null
    74 set :needsFourUnits:unit @unit
    75 op sub *tmp14 .DOME_X .CORE_X
    76 op sub *tmp15 .DOME_Y .CORE_Y
 
    91 set :areUnitsAvailable:needed *tmp21
    92 label *label34
    93 sensor *tmp22 @unit @controlled
-    * op equal *tmp23 *tmp22 0
-    * jump *label39 notEqual *tmp23 false
+   94 jump *label39 equal *tmp22 0
    95 label *label40
    96 sensor *tmp24 @unit @controller
-    * op equal *tmp25 *tmp24 @this
-    * jump *label37 equal *tmp25 false
+   97 jump *label37 notEqual *tmp24 @this
    98 label *label39
    99 op add :areUnitsAvailable:free :areUnitsAvailable:free 1
-    * op greaterThanEq *tmp27 :areUnitsAvailable:free :areUnitsAvailable:needed
-    * jump *label41 equal *tmp27 false
+  100 jump *label41 lessThan :areUnitsAvailable:free :areUnitsAvailable:needed
   101 set *tmp10 true
   102 jump *label28 always
   103 jump *label42 always
 
   109 label *label38
   110 ubind :areUnitsAvailable:type
   111 label *label35
-    * op notEqual *tmp30 @unit :areUnitsAvailable:firstUnit
-    * jump *label36 equal *tmp30 false
+  112 jump *label36 equal @unit :areUnitsAvailable:firstUnit
   113 label *label43
   114 sensor *tmp31 :areUnitsAvailable:firstUnit @dead
-    * op equal *tmp32 *tmp31 0
-    * jump *label34 notEqual *tmp32 false
+  115 jump *label34 equal *tmp31 0
   116 label *label36
   117 jump *label30 always
   118 label *label29
 
   125 print ","
   126 print " free: "
   127 print :areUnitsAvailable:free
-    * op greaterThan *tmp34 :areUnitsAvailable:needed 0
-    * jump *label46 equal *tmp34 false
+  128 jump *label46 lessThanEq :areUnitsAvailable:needed 0
   129 print ", needed: "
   130 print :areUnitsAvailable:needed
   131 jump *label47 always
 
   160 set :chooseUnitType:type @mono
   161 setaddr *tmp37 *label54
   162 label *label48
-    * op notEqual *tmp38 :chooseUnitType:type UNIT_TYPE
-    * jump *label55 equal *tmp38 false
+  163 jump *label55 equal :chooseUnitType:type UNIT_TYPE
   164 set :areUnitsAvailable.1:type :chooseUnitType:type
   165 set :areUnitsAvailable.1:output true
   166 set :areUnitsAvailable.1:free 0
 
   168 set :areUnitsAvailable.1:needed 0
   169 ubind :areUnitsAvailable.1:type
   170 set :areUnitsAvailable.1:firstUnit @unit
-    * op notEqual *tmp41 :areUnitsAvailable.1:firstUnit null
-    * jump *label60 equal *tmp41 false
+  171 jump *label60 equal :areUnitsAvailable.1:firstUnit null
   172 set :needsFourUnits.1:unit @unit
   173 op sub *tmp44 .DOME_X .CORE_X
   174 op sub *tmp45 .DOME_Y .CORE_Y
 
   189 set :areUnitsAvailable.1:needed *tmp51
   190 label *label65
   191 sensor *tmp52 @unit @controlled
-    * op equal *tmp53 *tmp52 0
-    * jump *label70 notEqual *tmp53 false
+  192 jump *label70 equal *tmp52 0
   193 label *label71
   194 sensor *tmp54 @unit @controller
-    * op equal *tmp55 *tmp54 @this
-    * jump *label68 equal *tmp55 false
+  195 jump *label68 notEqual *tmp54 @this
   196 label *label70
   197 op add :areUnitsAvailable.1:free :areUnitsAvailable.1:free 1
-    * op greaterThanEq *tmp57 :areUnitsAvailable.1:free :areUnitsAvailable.1:needed
-    * jump *label72 equal *tmp57 false
+  198 jump *label72 lessThan :areUnitsAvailable.1:free :areUnitsAvailable.1:needed
   199 set *tmp40 true
   200 jump *label59 always
   201 jump *label73 always
 
   207 label *label69
   208 ubind :areUnitsAvailable.1:type
   209 label *label66
-    * op notEqual *tmp60 @unit :areUnitsAvailable.1:firstUnit
-    * jump *label67 equal *tmp60 false
+  210 jump *label67 equal @unit :areUnitsAvailable.1:firstUnit
   211 label *label74
   212 sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
-    * op equal *tmp62 *tmp61 0
-    * jump *label65 notEqual *tmp62 false
+  213 jump *label65 equal *tmp61 0
   214 label *label67
   215 jump *label61 always
   216 label *label60
 
   223 print ","
   224 print " free: "
   225 print :areUnitsAvailable.1:free
-    * op greaterThan *tmp64 :areUnitsAvailable.1:needed 0
-    * jump *label77 equal *tmp64 false
+  226 jump *label77 lessThanEq :areUnitsAvailable.1:needed 0
   227 print ", needed: "
   228 print :areUnitsAvailable.1:needed
   229 jump *label78 always
 
   267 set :rebindUnits:count 0
   268 ubind .TYPE
   269 set :rebindUnits:firstUnit @unit
-    * op equal *tmp68 :rebindUnits:firstUnit null
-    * jump *label80 equal *tmp68 false
+  270 jump *label80 notEqual :rebindUnits:firstUnit null
   271 end
   272 jump *label81 always
   273 label *label80
   274 label *label81
   275 label *label82
   276 sensor *tmp70 @unit @controller
-    * op equal *tmp71 *tmp70 @this
-    * jump *label85 equal *tmp71 false
+  277 jump *label85 notEqual *tmp70 @this
   278 op add :rebindUnits:count :rebindUnits:count 1
   279 ucontrol flag 1
   280 set .UNIT_S2 .UNIT_P2
   281 set .UNIT_P2 .UNIT_S1
   282 set .UNIT_S1 .UNIT_P1
   283 set .UNIT_P1 @unit
-    * op notEqual *tmp75 .UNIT_S2 null
-    * jump *label87 equal *tmp75 false
+  284 jump *label87 equal .UNIT_S2 null
   285 jump *label84 always
   286 jump *label88 always
   287 label *label87
 
   291 label *label86
   292 ubind .TYPE
   293 label *label83
-    * op notEqual *tmp77 @unit :rebindUnits:firstUnit
-    * jump *label84 equal *tmp77 false
+  294 jump *label84 equal @unit :rebindUnits:firstUnit
   295 label *label89
   296 sensor *tmp78 :rebindUnits:firstUnit @dead
-    * op equal *tmp79 *tmp78 0
-    * jump *label82 notEqual *tmp79 false
+  297 jump *label82 equal *tmp78 0
   298 label *label84
   299 jump *label79 always
   300 label *label79
   301 set :acquireUnit:currentUnit .UNIT_S1
   302 set :rebindUnit:currentUnit :acquireUnit:currentUnit
-    * op notEqual *tmp82 :rebindUnit:currentUnit null
-    * jump *label92 equal *tmp82 false
+  303 jump *label92 equal :rebindUnit:currentUnit null
   304 ubind :rebindUnit:currentUnit
   305 sensor *tmp84 @unit @dead
   306 op equal *tmp85 *tmp84 0
 
   317 label *label93
   318 ubind .TYPE
   319 set :rebindUnit:firstUnit @unit
-    * op notEqual *tmp90 :rebindUnit:firstUnit null
-    * jump *label96 equal *tmp90 false
+  320 jump *label96 equal :rebindUnit:firstUnit null
   321 label *label98
   322 sensor *tmp92 @unit @controlled
-    * op equal *tmp93 *tmp92 0
-    * jump *label101 equal *tmp93 false
+  323 jump *label101 notEqual *tmp92 0
   324 jump *label91 always
   325 jump *label102 always
   326 label *label101
   327 label *label102
   328 ubind .TYPE
   329 label *label99
-    * op notEqual *tmp95 @unit :rebindUnit:firstUnit
-    * jump *label100 equal *tmp95 false
+  330 jump *label100 equal @unit :rebindUnit:firstUnit
   331 label *label103
   332 sensor *tmp96 :rebindUnit:firstUnit @dead
-    * op equal *tmp97 *tmp96 0
-    * jump *label98 notEqual *tmp97 false
+  333 jump *label98 equal *tmp96 0
   334 label *label100
   335 jump *label97 always
   336 label *label96
 
   345 set .UNIT_S1 *tmp80
   346 set :acquireUnit.1:currentUnit .UNIT_P1
   347 set :rebindUnit.1:currentUnit :acquireUnit.1:currentUnit
-    * op notEqual *tmp100 :rebindUnit.1:currentUnit null
-    * jump *label106 equal *tmp100 false
+  348 jump *label106 equal :rebindUnit.1:currentUnit null
   349 ubind :rebindUnit.1:currentUnit
   350 sensor *tmp102 @unit @dead
   351 op equal *tmp103 *tmp102 0
 
   362 label *label107
   363 ubind .TYPE
   364 set :rebindUnit.1:firstUnit @unit
-    * op notEqual *tmp108 :rebindUnit.1:firstUnit null
-    * jump *label110 equal *tmp108 false
+  365 jump *label110 equal :rebindUnit.1:firstUnit null
   366 label *label112
   367 sensor *tmp110 @unit @controlled
-    * op equal *tmp111 *tmp110 0
-    * jump *label115 equal *tmp111 false
+  368 jump *label115 notEqual *tmp110 0
   369 jump *label105 always
   370 jump *label116 always
   371 label *label115
   372 label *label116
   373 ubind .TYPE
   374 label *label113
-    * op notEqual *tmp113 @unit :rebindUnit.1:firstUnit
-    * jump *label114 equal *tmp113 false
+  375 jump *label114 equal @unit :rebindUnit.1:firstUnit
   376 label *label117
   377 sensor *tmp114 :rebindUnit.1:firstUnit @dead
-    * op equal *tmp115 *tmp114 0
-    * jump *label112 notEqual *tmp115 false
+  378 jump *label112 equal *tmp114 0
   379 label *label114
   380 jump *label111 always
   381 label *label110
 
   389 label *label104
   390 set .UNIT_P1 *tmp98
   391 sensor *tmp116 .UNIT_S1 @firstItem
-    * op equal *tmp117 *tmp116 @phase-fabric
-    * jump *label120 notEqual *tmp117 false
+  392 jump *label120 equal *tmp116 @phase-fabric
   393 label *label121
   394 sensor *tmp118 .UNIT_P1 @firstItem
-    * op equal *tmp119 *tmp118 @silicon
-    * jump *label118 equal *tmp119 false
+  395 jump *label118 notEqual *tmp118 @silicon
   396 label *label120
   397 set :swap:a .UNIT_S1
   398 set :swap:b .UNIT_P1
 
   408 sensor .UNIT_CAPACITY .UNIT_S1 @itemCapacity
   409 sensor .SPEED .UNIT_S1 @speed
   410 op div .SPEED_TENTHS .SPEED 10
-    * op strictEqual *tmp124 .SPEED null
-    * jump *label123 equal *tmp124 false
+  411 jump *label123 strictNotEqual .SPEED null
   412 stop
   413 jump *label124 always
   414 label *label123
 
   428 jump *label126 equal .FOUR_UNITS false
   429 set :acquireUnit.2:currentUnit .UNIT_S2
   430 set :rebindUnit.2:currentUnit :acquireUnit.2:currentUnit
-    * op notEqual *tmp137 :rebindUnit.2:currentUnit null
-    * jump *label130 equal *tmp137 false
+  431 jump *label130 equal :rebindUnit.2:currentUnit null
   432 ubind :rebindUnit.2:currentUnit
   433 sensor *tmp139 @unit @dead
   434 op equal *tmp140 *tmp139 0
 
   445 label *label131
   446 ubind .TYPE
   447 set :rebindUnit.2:firstUnit @unit
-    * op notEqual *tmp145 :rebindUnit.2:firstUnit null
-    * jump *label134 equal *tmp145 false
+  448 jump *label134 equal :rebindUnit.2:firstUnit null
   449 label *label136
   450 sensor *tmp147 @unit @controlled
-    * op equal *tmp148 *tmp147 0
-    * jump *label139 equal *tmp148 false
+  451 jump *label139 notEqual *tmp147 0
   452 jump *label129 always
   453 jump *label140 always
   454 label *label139
   455 label *label140
   456 ubind .TYPE
   457 label *label137
-    * op notEqual *tmp150 @unit :rebindUnit.2:firstUnit
-    * jump *label138 equal *tmp150 false
+  458 jump *label138 equal @unit :rebindUnit.2:firstUnit
   459 label *label141
   460 sensor *tmp151 :rebindUnit.2:firstUnit @dead
-    * op equal *tmp152 *tmp151 0
-    * jump *label136 notEqual *tmp152 false
+  461 jump *label136 equal *tmp151 0
   462 label *label138
   463 jump *label135 always
   464 label *label134
 
   473 set .UNIT_S2 *tmp135
   474 set :acquireUnit.3:currentUnit .UNIT_P2
   475 set :rebindUnit.3:currentUnit :acquireUnit.3:currentUnit
-    * op notEqual *tmp155 :rebindUnit.3:currentUnit null
-    * jump *label144 equal *tmp155 false
+  476 jump *label144 equal :rebindUnit.3:currentUnit null
   477 ubind :rebindUnit.3:currentUnit
   478 sensor *tmp157 @unit @dead
   479 op equal *tmp158 *tmp157 0
 
   490 label *label145
   491 ubind .TYPE
   492 set :rebindUnit.3:firstUnit @unit
-    * op notEqual *tmp163 :rebindUnit.3:firstUnit null
-    * jump *label148 equal *tmp163 false
+  493 jump *label148 equal :rebindUnit.3:firstUnit null
   494 label *label150
   495 sensor *tmp165 @unit @controlled
-    * op equal *tmp166 *tmp165 0
-    * jump *label153 equal *tmp166 false
+  496 jump *label153 notEqual *tmp165 0
   497 jump *label143 always
   498 jump *label154 always
   499 label *label153
   500 label *label154
   501 ubind .TYPE
   502 label *label151
-    * op notEqual *tmp168 @unit :rebindUnit.3:firstUnit
-    * jump *label152 equal *tmp168 false
+  503 jump *label152 equal @unit :rebindUnit.3:firstUnit
   504 label *label155
   505 sensor *tmp169 :rebindUnit.3:firstUnit @dead
-    * op equal *tmp170 *tmp169 0
-    * jump *label150 notEqual *tmp170 false
+  506 jump *label150 equal *tmp169 0
   507 label *label152
   508 jump *label149 always
   509 label *label148
 
   517 label *label142
   518 set .UNIT_P2 *tmp153
   519 sensor *tmp171 .UNIT_S1 @firstItem
-    * op equal *tmp172 *tmp171 @phase-fabric
-    * jump *label156 equal *tmp172 false
+  520 jump *label156 notEqual *tmp171 @phase-fabric
   521 label *label159
   522 sensor *tmp173 .UNIT_P2 @firstItem
-    * op notEqual *tmp174 *tmp173 @phase-fabric
-    * jump *label156 equal *tmp174 false
+  523 jump *label156 equal *tmp173 @phase-fabric
   524 jump *label158 always
   525 label *label158
   526 set :swap.1:a .UNIT_S1
 
   535 label *label156
   536 label *label157
   537 sensor *tmp176 .UNIT_S2 @firstItem
-    * op equal *tmp177 *tmp176 @phase-fabric
-    * jump *label163 notEqual *tmp177 false
+  538 jump *label163 equal *tmp176 @phase-fabric
   539 label *label164
   540 sensor *tmp178 .UNIT_P2 @firstItem
-    * op equal *tmp179 *tmp178 @silicon
-    * jump *label161 equal *tmp179 false
+  541 jump *label161 notEqual *tmp178 @silicon
   542 label *label163
   543 set :swap.2:a .UNIT_S2
   544 set :swap.2:b .UNIT_P2
 
   563 set .UNIT_P2 null
   564 set .GROUP1 "unit"
   565 label *label127
-    * op equal *tmp181 .FOUR_UNITS false
-    * jump *label168 notEqual *tmp181 false
+  566 jump *label168 equal .FOUR_UNITS false
   567 label *label169
   568 sensor *tmp182 .UNIT_S1 @totalItems
   569 sensor *tmp183 .UNIT_S2 @totalItems
-    * op lessThan *tmp184 *tmp182 *tmp183
-    * jump *label166 equal *tmp184 false
+  570 jump *label166 greaterThanEq *tmp182 *tmp183
   571 label *label168
   572 set *tmp185 true
   573 jump *label167 always
 
   575 set *tmp185 false
   576 label *label167
   577 set .SUPPLY_S_FIRST *tmp185
-    * op equal *tmp186 .FOUR_UNITS false
-    * jump *label172 notEqual *tmp186 false
+  578 jump *label172 equal .FOUR_UNITS false
   579 label *label173
   580 sensor *tmp187 .UNIT_P1 @totalItems
   581 sensor *tmp188 .UNIT_P2 @totalItems
-    * op lessThan *tmp189 *tmp187 *tmp188
-    * jump *label170 equal *tmp189 false
+  582 jump *label170 greaterThanEq *tmp187 *tmp188
   583 label *label172
   584 set *tmp190 true
   585 jump *label171 always
 
   604 set :printDomeStatus:text "\n[green]Silicon[] status:\n"
   605 print :printDomeStatus:text
   606 sensor :printDomeStatus:level .DOME :printDomeStatus:item
-    * op greaterThan *tmp194 :printDomeStatus:level 3
-    * jump *label178 equal *tmp194 false
+  607 jump *label178 lessThanEq :printDomeStatus:level 3
   608 print "  dome:  [green]"
   609 print :printDomeStatus:level
   610 print "["
 
   624 set :processUnit:group .GROUP1
   625 set :processUnit:supply .SUPPLY_S_FIRST
   626 set :rebindUnit.4:currentUnit :processUnit:unit
-    * op notEqual *tmp197 :rebindUnit.4:currentUnit null
-    * jump *label182 equal *tmp197 false
+  627 jump *label182 equal :rebindUnit.4:currentUnit null
   628 ubind :rebindUnit.4:currentUnit
   629 sensor *tmp199 @unit @dead
   630 op equal *tmp200 *tmp199 0
 
   641 label *label183
   642 ubind .TYPE
   643 set :rebindUnit.4:firstUnit @unit
-    * op notEqual *tmp205 :rebindUnit.4:firstUnit null
-    * jump *label186 equal *tmp205 false
+  644 jump *label186 equal :rebindUnit.4:firstUnit null
   645 label *label188
   646 sensor *tmp207 @unit @controlled
-    * op equal *tmp208 *tmp207 0
-    * jump *label191 equal *tmp208 false
+  647 jump *label191 notEqual *tmp207 0
   648 jump *label181 always
   649 jump *label192 always
   650 label *label191
   651 label *label192
   652 ubind .TYPE
   653 label *label189
-    * op notEqual *tmp210 @unit :rebindUnit.4:firstUnit
-    * jump *label190 equal *tmp210 false
+  654 jump *label190 equal @unit :rebindUnit.4:firstUnit
   655 label *label193
   656 sensor *tmp211 :rebindUnit.4:firstUnit @dead
-    * op equal *tmp212 *tmp211 0
-    * jump *label188 notEqual *tmp212 false
+  657 jump *label188 equal *tmp211 0
   658 label *label190
   659 jump *label187 always
   660 label *label186
 
   664 sensor :processUnit:state @unit @flag
   665 set :processUnit:distance -1
   666 set :processUnit:color "gold"
-    * op lessThan *tmp214 :processUnit:state 2
-    * jump *label196 notEqual *tmp214 false
+  667 jump *label196 lessThan :processUnit:state 2
   668 label *label197
-    * op greaterThan *tmp215 :processUnit:state 3
-    * jump *label194 equal *tmp215 false
+  669 jump *label194 lessThanEq :processUnit:state 3
   670 label *label196
   671 sensor *tmp217 @unit @firstItem
-    * op equal *tmp218 *tmp217 :processUnit:item
-    * jump *label198 equal *tmp218 false
+  672 jump *label198 notEqual *tmp217 :processUnit:item
   673 set :processUnit:state 3
   674 jump *label199 always
   675 label *label198
   676 sensor *tmp220 @unit @totalItems
-    * op equal *tmp221 *tmp220 0
-    * jump *label200 equal *tmp221 false
+  677 jump *label200 notEqual *tmp220 0
   678 set :processUnit:state 2
   679 jump *label201 always
   680 label *label200
 
   691 jump *label195 always
   692 label *label194
   693 label *label195
-    * op equal *tmp225 :processUnit:state 2
-    * jump *label204 equal *tmp225 false
+  694 jump *label204 notEqual :processUnit:state 2
   695 ucontrol within .CORE_X .CORE_Y 8 *tmp227
   696 jump *label206 equal *tmp227 false
   697 ucontrol itemTake .CORE :processUnit:item .UNIT_CAPACITY
   698 sensor *tmp229 @unit @totalItems
-    * op greaterThanEq *tmp230 *tmp229 .UNIT_CAPACITY
-    * jump *label208 equal *tmp230 false
+  699 jump *label208 lessThan *tmp229 .UNIT_CAPACITY
   700 ucontrol approach .DOME_X .DOME_Y 6
   701 set :processUnit:state 3
   702 jump *label209 always
 
   718 jump *label205 always
   719 label *label204
   720 label *label205
-    * op equal *tmp239 :processUnit:state 3
-    * jump *label210 equal *tmp239 false
+  721 jump *label210 notEqual :processUnit:state 3
   722 ucontrol within .DOME_X .DOME_Y 8 *tmp241
   723 jump *label212 equal *tmp241 false
   724 jump *label214 equal :processUnit:supply false
 
   730 set .MSG ", waiting\n"
   731 label *label215
   732 sensor *tmp244 @unit @totalItems
-    * op lessThanEq *tmp245 *tmp244 0
-    * jump *label216 equal *tmp245 false
+  733 jump *label216 greaterThan *tmp244 0
   734 ucontrol approach .CORE_X .CORE_Y 6
   735 set :processUnit:state 2
   736 jump *label217 always
 
   762 print *tmp254
   763 print "["
   764 print "]"
-    * op greaterThanEq *tmp255 :processUnit:distance 0
-    * jump *label218 equal *tmp255 false
+  765 jump *label218 lessThan :processUnit:distance 0
   766 print .MSG
   767 print :processUnit:distance
   768 print "["
 
   782 set :processUnit.1:group .GROUP2
   783 set :processUnit.1:supply *tmp259
   784 set :rebindUnit.5:currentUnit :processUnit.1:unit
-    * op notEqual *tmp261 :rebindUnit.5:currentUnit null
-    * jump *label224 equal *tmp261 false
+  785 jump *label224 equal :rebindUnit.5:currentUnit null
   786 ubind :rebindUnit.5:currentUnit
   787 sensor *tmp263 @unit @dead
   788 op equal *tmp264 *tmp263 0
 
   799 label *label225
   800 ubind .TYPE
   801 set :rebindUnit.5:firstUnit @unit
-    * op notEqual *tmp269 :rebindUnit.5:firstUnit null
-    * jump *label228 equal *tmp269 false
+  802 jump *label228 equal :rebindUnit.5:firstUnit null
   803 label *label230
   804 sensor *tmp271 @unit @controlled
-    * op equal *tmp272 *tmp271 0
-    * jump *label233 equal *tmp272 false
+  805 jump *label233 notEqual *tmp271 0
   806 jump *label223 always
   807 jump *label234 always
   808 label *label233
   809 label *label234
   810 ubind .TYPE
   811 label *label231
-    * op notEqual *tmp274 @unit :rebindUnit.5:firstUnit
-    * jump *label232 equal *tmp274 false
+  812 jump *label232 equal @unit :rebindUnit.5:firstUnit
   813 label *label235
   814 sensor *tmp275 :rebindUnit.5:firstUnit @dead
-    * op equal *tmp276 *tmp275 0
-    * jump *label230 notEqual *tmp276 false
+  815 jump *label230 equal *tmp275 0
   816 label *label232
   817 jump *label229 always
   818 label *label228
 
   822 sensor :processUnit.1:state @unit @flag
   823 set :processUnit.1:distance -1
   824 set :processUnit.1:color "gold"
-    * op lessThan *tmp278 :processUnit.1:state 2
-    * jump *label238 notEqual *tmp278 false
+  825 jump *label238 lessThan :processUnit.1:state 2
   826 label *label239
-    * op greaterThan *tmp279 :processUnit.1:state 3
-    * jump *label236 equal *tmp279 false
+  827 jump *label236 lessThanEq :processUnit.1:state 3
   828 label *label238
   829 sensor *tmp281 @unit @firstItem
-    * op equal *tmp282 *tmp281 :processUnit.1:item
-    * jump *label240 equal *tmp282 false
+  830 jump *label240 notEqual *tmp281 :processUnit.1:item
   831 set :processUnit.1:state 3
   832 jump *label241 always
   833 label *label240
   834 sensor *tmp284 @unit @totalItems
-    * op equal *tmp285 *tmp284 0
-    * jump *label242 equal *tmp285 false
+  835 jump *label242 notEqual *tmp284 0
   836 set :processUnit.1:state 2
   837 jump *label243 always
   838 label *label242
 
   849 jump *label237 always
   850 label *label236
   851 label *label237
-    * op equal *tmp289 :processUnit.1:state 2
-    * jump *label246 equal *tmp289 false
+  852 jump *label246 notEqual :processUnit.1:state 2
   853 ucontrol within .CORE_X .CORE_Y 8 *tmp291
   854 jump *label248 equal *tmp291 false
   855 ucontrol itemTake .CORE :processUnit.1:item .UNIT_CAPACITY
   856 sensor *tmp293 @unit @totalItems
-    * op greaterThanEq *tmp294 *tmp293 .UNIT_CAPACITY
-    * jump *label250 equal *tmp294 false
+  857 jump *label250 lessThan *tmp293 .UNIT_CAPACITY
   858 ucontrol approach .DOME_X .DOME_Y 6
   859 set :processUnit.1:state 3
   860 jump *label251 always
 
   876 jump *label247 always
   877 label *label246
   878 label *label247
-    * op equal *tmp303 :processUnit.1:state 3
-    * jump *label252 equal *tmp303 false
+  879 jump *label252 notEqual :processUnit.1:state 3
   880 ucontrol within .DOME_X .DOME_Y 8 *tmp305
   881 jump *label254 equal *tmp305 false
   882 jump *label256 equal :processUnit.1:supply false
 
   888 set .MSG ", waiting\n"
   889 label *label257
   890 sensor *tmp308 @unit @totalItems
-    * op lessThanEq *tmp309 *tmp308 0
-    * jump *label258 equal *tmp309 false
+  891 jump *label258 greaterThan *tmp308 0
   892 ucontrol approach .CORE_X .CORE_Y 6
   893 set :processUnit.1:state 2
   894 jump *label259 always
 
   920 print *tmp318
   921 print "["
   922 print "]"
-    * op greaterThanEq *tmp319 :processUnit.1:distance 0
-    * jump *label260 equal *tmp319 false
+  923 jump *label260 lessThan :processUnit.1:distance 0
   924 print .MSG
   925 print :processUnit.1:distance
   926 print "["
 
   949 set :printDomeStatus.1:text "\n[green]Phase fabric[] status:\n"
   950 print :printDomeStatus.1:text
   951 sensor :printDomeStatus.1:level .DOME :printDomeStatus.1:item
-    * op greaterThan *tmp328 :printDomeStatus.1:level 3
-    * jump *label265 equal *tmp328 false
+  952 jump *label265 lessThanEq :printDomeStatus.1:level 3
   953 print "  dome:  [green]"
   954 print :printDomeStatus.1:level
   955 print "["
 
   969 set :processUnit.2:group .GROUP1
   970 set :processUnit.2:supply .SUPPLY_P_FIRST
   971 set :rebindUnit.6:currentUnit :processUnit.2:unit
-    * op notEqual *tmp331 :rebindUnit.6:currentUnit null
-    * jump *label269 equal *tmp331 false
+  972 jump *label269 equal :rebindUnit.6:currentUnit null
   973 ubind :rebindUnit.6:currentUnit
   974 sensor *tmp333 @unit @dead
   975 op equal *tmp334 *tmp333 0
 
   986 label *label270
   987 ubind .TYPE
   988 set :rebindUnit.6:firstUnit @unit
-    * op notEqual *tmp339 :rebindUnit.6:firstUnit null
-    * jump *label273 equal *tmp339 false
+  989 jump *label273 equal :rebindUnit.6:firstUnit null
   990 label *label275
   991 sensor *tmp341 @unit @controlled
-    * op equal *tmp342 *tmp341 0
-    * jump *label278 equal *tmp342 false
+  992 jump *label278 notEqual *tmp341 0
   993 jump *label268 always
   994 jump *label279 always
   995 label *label278
   996 label *label279
   997 ubind .TYPE
   998 label *label276
-    * op notEqual *tmp344 @unit :rebindUnit.6:firstUnit
-    * jump *label277 equal *tmp344 false
+  999 jump *label277 equal @unit :rebindUnit.6:firstUnit
  1000 label *label280
  1001 sensor *tmp345 :rebindUnit.6:firstUnit @dead
-    * op equal *tmp346 *tmp345 0
-    * jump *label275 notEqual *tmp346 false
+ 1002 jump *label275 equal *tmp345 0
  1003 label *label277
  1004 jump *label274 always
  1005 label *label273
 
  1009 sensor :processUnit.2:state @unit @flag
  1010 set :processUnit.2:distance -1
  1011 set :processUnit.2:color "gold"
-    * op lessThan *tmp348 :processUnit.2:state 2
-    * jump *label283 notEqual *tmp348 false
+ 1012 jump *label283 lessThan :processUnit.2:state 2
  1013 label *label284
-    * op greaterThan *tmp349 :processUnit.2:state 3
-    * jump *label281 equal *tmp349 false
+ 1014 jump *label281 lessThanEq :processUnit.2:state 3
  1015 label *label283
  1016 sensor *tmp351 @unit @firstItem
-    * op equal *tmp352 *tmp351 :processUnit.2:item
-    * jump *label285 equal *tmp352 false
+ 1017 jump *label285 notEqual *tmp351 :processUnit.2:item
  1018 set :processUnit.2:state 3
  1019 jump *label286 always
  1020 label *label285
  1021 sensor *tmp354 @unit @totalItems
-    * op equal *tmp355 *tmp354 0
-    * jump *label287 equal *tmp355 false
+ 1022 jump *label287 notEqual *tmp354 0
  1023 set :processUnit.2:state 2
  1024 jump *label288 always
  1025 label *label287
 
  1036 jump *label282 always
  1037 label *label281
  1038 label *label282
-    * op equal *tmp359 :processUnit.2:state 2
-    * jump *label291 equal *tmp359 false
+ 1039 jump *label291 notEqual :processUnit.2:state 2
  1040 ucontrol within .CORE_X .CORE_Y 8 *tmp361
  1041 jump *label293 equal *tmp361 false
  1042 ucontrol itemTake .CORE :processUnit.2:item .UNIT_CAPACITY
  1043 sensor *tmp363 @unit @totalItems
-    * op greaterThanEq *tmp364 *tmp363 .UNIT_CAPACITY
-    * jump *label295 equal *tmp364 false
+ 1044 jump *label295 lessThan *tmp363 .UNIT_CAPACITY
  1045 ucontrol approach .DOME_X .DOME_Y 6
  1046 set :processUnit.2:state 3
  1047 jump *label296 always
 
  1063 jump *label292 always
  1064 label *label291
  1065 label *label292
-    * op equal *tmp373 :processUnit.2:state 3
-    * jump *label297 equal *tmp373 false
+ 1066 jump *label297 notEqual :processUnit.2:state 3
  1067 ucontrol within .DOME_X .DOME_Y 8 *tmp375
  1068 jump *label299 equal *tmp375 false
  1069 jump *label301 equal :processUnit.2:supply false
 
  1075 set .MSG ", waiting\n"
  1076 label *label302
  1077 sensor *tmp378 @unit @totalItems
-    * op lessThanEq *tmp379 *tmp378 0
-    * jump *label303 equal *tmp379 false
+ 1078 jump *label303 greaterThan *tmp378 0
  1079 ucontrol approach .CORE_X .CORE_Y 6
  1080 set :processUnit.2:state 2
  1081 jump *label304 always
 
  1107 print *tmp388
  1108 print "["
  1109 print "]"
-    * op greaterThanEq *tmp389 :processUnit.2:distance 0
-    * jump *label305 equal *tmp389 false
+ 1110 jump *label305 lessThan :processUnit.2:distance 0
  1111 print .MSG
  1112 print :processUnit.2:distance
  1113 print "["
 
  1127 set :processUnit.3:group .GROUP2
  1128 set :processUnit.3:supply *tmp393
  1129 set :rebindUnit.7:currentUnit :processUnit.3:unit
-    * op notEqual *tmp395 :rebindUnit.7:currentUnit null
-    * jump *label311 equal *tmp395 false
+ 1130 jump *label311 equal :rebindUnit.7:currentUnit null
  1131 ubind :rebindUnit.7:currentUnit
  1132 sensor *tmp397 @unit @dead
  1133 op equal *tmp398 *tmp397 0
 
  1144 label *label312
  1145 ubind .TYPE
  1146 set :rebindUnit.7:firstUnit @unit
-    * op notEqual *tmp403 :rebindUnit.7:firstUnit null
-    * jump *label315 equal *tmp403 false
+ 1147 jump *label315 equal :rebindUnit.7:firstUnit null
  1148 label *label317
  1149 sensor *tmp405 @unit @controlled
-    * op equal *tmp406 *tmp405 0
-    * jump *label320 equal *tmp406 false
+ 1150 jump *label320 notEqual *tmp405 0
  1151 jump *label310 always
  1152 jump *label321 always
  1153 label *label320
  1154 label *label321
  1155 ubind .TYPE
  1156 label *label318
-    * op notEqual *tmp408 @unit :rebindUnit.7:firstUnit
-    * jump *label319 equal *tmp408 false
+ 1157 jump *label319 equal @unit :rebindUnit.7:firstUnit
  1158 label *label322
  1159 sensor *tmp409 :rebindUnit.7:firstUnit @dead
-    * op equal *tmp410 *tmp409 0
-    * jump *label317 notEqual *tmp410 false
+ 1160 jump *label317 equal *tmp409 0
  1161 label *label319
  1162 jump *label316 always
  1163 label *label315
 
  1167 sensor :processUnit.3:state @unit @flag
  1168 set :processUnit.3:distance -1
  1169 set :processUnit.3:color "gold"
-    * op lessThan *tmp412 :processUnit.3:state 2
-    * jump *label325 notEqual *tmp412 false
+ 1170 jump *label325 lessThan :processUnit.3:state 2
  1171 label *label326
-    * op greaterThan *tmp413 :processUnit.3:state 3
-    * jump *label323 equal *tmp413 false
+ 1172 jump *label323 lessThanEq :processUnit.3:state 3
  1173 label *label325
  1174 sensor *tmp415 @unit @firstItem
-    * op equal *tmp416 *tmp415 :processUnit.3:item
-    * jump *label327 equal *tmp416 false
+ 1175 jump *label327 notEqual *tmp415 :processUnit.3:item
  1176 set :processUnit.3:state 3
  1177 jump *label328 always
  1178 label *label327
  1179 sensor *tmp418 @unit @totalItems
-    * op equal *tmp419 *tmp418 0
-    * jump *label329 equal *tmp419 false
+ 1180 jump *label329 notEqual *tmp418 0
  1181 set :processUnit.3:state 2
  1182 jump *label330 always
  1183 label *label329
 
  1194 jump *label324 always
  1195 label *label323
  1196 label *label324
-    * op equal *tmp423 :processUnit.3:state 2
-    * jump *label333 equal *tmp423 false
+ 1197 jump *label333 notEqual :processUnit.3:state 2
  1198 ucontrol within .CORE_X .CORE_Y 8 *tmp425
  1199 jump *label335 equal *tmp425 false
  1200 ucontrol itemTake .CORE :processUnit.3:item .UNIT_CAPACITY
  1201 sensor *tmp427 @unit @totalItems
-    * op greaterThanEq *tmp428 *tmp427 .UNIT_CAPACITY
-    * jump *label337 equal *tmp428 false
+ 1202 jump *label337 lessThan *tmp427 .UNIT_CAPACITY
  1203 ucontrol approach .DOME_X .DOME_Y 6
  1204 set :processUnit.3:state 3
  1205 jump *label338 always
 
  1221 jump *label334 always
  1222 label *label333
  1223 label *label334
-    * op equal *tmp437 :processUnit.3:state 3
-    * jump *label339 equal *tmp437 false
+ 1224 jump *label339 notEqual :processUnit.3:state 3
  1225 ucontrol within .DOME_X .DOME_Y 8 *tmp439
  1226 jump *label341 equal *tmp439 false
  1227 jump *label343 equal :processUnit.3:supply false
 
  1233 set .MSG ", waiting\n"
  1234 label *label344
  1235 sensor *tmp442 @unit @totalItems
-    * op lessThanEq *tmp443 *tmp442 0
-    * jump *label345 equal *tmp443 false
+ 1236 jump *label345 greaterThan *tmp442 0
  1237 ucontrol approach .CORE_X .CORE_Y 6
  1238 set :processUnit.3:state 2
  1239 jump *label346 always
 
  1265 print *tmp452
  1266 print "["
  1267 print "]"
-    * op greaterThanEq *tmp453 :processUnit.3:distance 0
-    * jump *label347 equal *tmp453 false
+ 1268 jump *label347 lessThan :processUnit.3:distance 0
  1269 print .MSG
  1270 print :processUnit.3:distance
  1271 print "["
 
  1298 print " "
  1299 print "ms"
  1300 printflush message1
-    * op notEqual *tmp463 .TYPE UNIT_TYPE
-    * jump *label351 equal *tmp463 false
+ 1301 jump *label351 equal .TYPE UNIT_TYPE
  1302 label *label354
-    * op greaterThan *tmp464 :unitCheck @time
-    * jump *label351 equal *tmp464 false
+ 1303 jump *label351 lessThanEq :unitCheck @time
  1304 jump *label353 always
  1305 label *label353
  1306 set :areUnitsAvailable.2:type UNIT_TYPE
 
  1310 set :areUnitsAvailable.2:needed 0
  1311 ubind :areUnitsAvailable.2:type
  1312 set :areUnitsAvailable.2:firstUnit @unit
-    * op notEqual *tmp467 :areUnitsAvailable.2:firstUnit null
-    * jump *label358 equal *tmp467 false
+ 1313 jump *label358 equal :areUnitsAvailable.2:firstUnit null
  1314 set :needsFourUnits.3:unit @unit
  1315 op sub *tmp470 .DOME_X .CORE_X
  1316 op sub *tmp471 .DOME_Y .CORE_Y
 
  1331 set :areUnitsAvailable.2:needed *tmp477
  1332 label *label363
  1333 sensor *tmp478 @unit @controlled
-    * op equal *tmp479 *tmp478 0
-    * jump *label368 notEqual *tmp479 false
+ 1334 jump *label368 equal *tmp478 0
  1335 label *label369
  1336 sensor *tmp480 @unit @controller
-    * op equal *tmp481 *tmp480 @this
-    * jump *label366 equal *tmp481 false
+ 1337 jump *label366 notEqual *tmp480 @this
  1338 label *label368
  1339 op add :areUnitsAvailable.2:free :areUnitsAvailable.2:free 1
-    * op greaterThanEq *tmp483 :areUnitsAvailable.2:free :areUnitsAvailable.2:needed
-    * jump *label370 equal *tmp483 false
+ 1340 jump *label370 lessThan :areUnitsAvailable.2:free :areUnitsAvailable.2:needed
  1341 set *tmp466 true
  1342 jump *label357 always
  1343 jump *label371 always
 
  1349 label *label367
  1350 ubind :areUnitsAvailable.2:type
  1351 label *label364
-    * op notEqual *tmp486 @unit :areUnitsAvailable.2:firstUnit
-    * jump *label365 equal *tmp486 false
+ 1352 jump *label365 equal @unit :areUnitsAvailable.2:firstUnit
  1353 label *label372
  1354 sensor *tmp487 :areUnitsAvailable.2:firstUnit @dead
-    * op equal *tmp488 *tmp487 0
-    * jump *label363 notEqual *tmp488 false
+ 1355 jump *label363 equal *tmp487 0
  1356 label *label365
  1357 jump *label359 always
  1358 label *label358
 
  1365 print ","
  1366 print " free: "
  1367 print :areUnitsAvailable.2:free
-    * op greaterThan *tmp490 :areUnitsAvailable.2:needed 0
-    * jump *label375 equal *tmp490 false
+ 1368 jump *label375 lessThanEq :areUnitsAvailable.2:needed 0
  1369 print ", needed: "
  1370 print :areUnitsAvailable.2:needed
  1371 jump *label376 always
 
  1396 label *label0
  1397 ubind :locateCore:type
  1398 sensor *tmp494 @unit @controlled
-    * op equal *tmp495 *tmp494 0
-    * jump *label380 notEqual *tmp495 false
+ 1399 jump *label380 equal *tmp494 0
  1400 label *label381
  1401 sensor *tmp496 @unit @controller
-    * op equal *tmp497 *tmp496 @this
-    * jump *label378 equal *tmp497 false
+ 1402 jump *label378 notEqual *tmp496 @this
  1403 label *label380
  1404 ulocate building core false @copper *tmp500 *tmp501 *tmp502 .CORE
  1405 jump *label379 always

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-83 instructions):
 
    35 label *label18
    36 jump *label16 equal :locateCore*retval false
    37 jump *label2 always
-    * jump *label17 always
    38 label *label16
    39 label *label17
    40 label *label10
 
    99 jump *label41 lessThan :areUnitsAvailable:free :areUnitsAvailable:needed
   100 set *tmp10 true
   101 jump *label28 always
-    * jump *label42 always
   102 label *label41
   103 label *label42
   104 jump *label38 always
 
   112 sensor *tmp31 :areUnitsAvailable:firstUnit @dead
   113 jump *label34 equal *tmp31 0
   114 label *label36
-    * jump *label30 always
   115 label *label29
   116 label *label30
   117 jump *label44 equal :areUnitsAvailable:output false
 
   125 jump *label46 lessThanEq :areUnitsAvailable:needed 0
   126 print ", needed: "
   127 print :areUnitsAvailable:needed
-    * jump *label47 always
   128 label *label46
   129 label *label47
   130 print "\n"
-    * jump *label45 always
   131 label *label44
   132 label *label45
   133 set *tmp10 false
 
   137 jump *label26 equal *tmp10 false
   138 set *tmp9 UNIT_TYPE
   139 jump *label22 always
-    * jump *label27 always
   140 label *label26
   141 label *label27
   142 set :chooseUnitType:type @flare
 
   192 jump *label72 lessThan :areUnitsAvailable.1:free :areUnitsAvailable.1:needed
   193 set *tmp40 true
   194 jump *label59 always
-    * jump *label73 always
   195 label *label72
   196 label *label73
   197 jump *label69 always
 
   205 sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
   206 jump *label65 equal *tmp61 0
   207 label *label67
-    * jump *label61 always
   208 label *label60
   209 label *label61
   210 jump *label75 equal :areUnitsAvailable.1:output false
 
   218 jump *label77 lessThanEq :areUnitsAvailable.1:needed 0
   219 print ", needed: "
   220 print :areUnitsAvailable.1:needed
-    * jump *label78 always
   221 label *label77
   222 label *label78
   223 print "\n"
-    * jump *label76 always
   224 label *label75
   225 label *label76
   226 set *tmp40 false
 
   231 printflush null
   232 set *tmp9 :chooseUnitType:type
   233 jump *label22 always
-    * jump *label58 always
   234 label *label57
   235 label *label58
-    * jump *label56 always
   236 label *label55
   237 label *label56
   238 label *label49
 
   257 set :rebindUnits:firstUnit @unit
   258 jump *label80 notEqual :rebindUnits:firstUnit null
   259 end
-    * jump *label81 always
   260 label *label80
   261 label *label81
   262 label *label82
 
   270 set .UNIT_P1 @unit
   271 jump *label87 equal .UNIT_S2 null
   272 jump *label84 always
-    * jump *label88 always
   273 label *label87
   274 label *label88
-    * jump *label86 always
   275 label *label85
   276 label *label86
   277 ubind .TYPE
 
   281 sensor *tmp78 :rebindUnits:firstUnit @dead
   282 jump *label82 equal *tmp78 0
   283 label *label84
-    * jump *label79 always
   284 label *label79
   285 set :acquireUnit:currentUnit .UNIT_S1
   286 set :rebindUnit:currentUnit :acquireUnit:currentUnit
 
   293 op land *tmp88 *tmp85 *tmp87
   294 jump *label94 equal *tmp88 false
   295 jump *label91 always
-    * jump *label95 always
   296 label *label94
   297 label *label95
-    * jump *label93 always
   298 label *label92
   299 label *label93
   300 ubind .TYPE
 
   304 sensor *tmp92 @unit @controlled
   305 jump *label101 notEqual *tmp92 0
   306 jump *label91 always
-    * jump *label102 always
   307 label *label101
   308 label *label102
   309 ubind .TYPE
 
   313 sensor *tmp96 :rebindUnit:firstUnit @dead
   314 jump *label98 equal *tmp96 0
   315 label *label100
-    * jump *label97 always
   316 label *label96
   317 label *label97
   318 end
 
   334 op land *tmp106 *tmp103 *tmp105
   335 jump *label108 equal *tmp106 false
   336 jump *label105 always
-    * jump *label109 always
   337 label *label108
   338 label *label109
-    * jump *label107 always
   339 label *label106
   340 label *label107
   341 ubind .TYPE
 
   345 sensor *tmp110 @unit @controlled
   346 jump *label115 notEqual *tmp110 0
   347 jump *label105 always
-    * jump *label116 always
   348 label *label115
   349 label *label116
   350 ubind .TYPE
 
   354 sensor *tmp114 :rebindUnit.1:firstUnit @dead
   355 jump *label112 equal *tmp114 0
   356 label *label114
-    * jump *label111 always
   357 label *label110
   358 label *label111
   359 end
 
   378 label *label122
   379 set .UNIT_S1 :swap:a
   380 set .UNIT_P1 :swap:b
-    * jump *label119 always
   381 label *label118
   382 label *label119
   383 sensor .UNIT_CAPACITY .UNIT_S1 @itemCapacity
 
   385 op div .SPEED_TENTHS .SPEED 10
   386 jump *label123 strictNotEqual .SPEED null
   387 stop
-    * jump *label124 always
   388 label *label123
   389 label *label124
   390 set :needsFourUnits.2:unit .UNIT_S1
 
   411 op land *tmp143 *tmp140 *tmp142
   412 jump *label132 equal *tmp143 false
   413 jump *label129 always
-    * jump *label133 always
   414 label *label132
   415 label *label133
-    * jump *label131 always
   416 label *label130
   417 label *label131
   418 ubind .TYPE
 
   422 sensor *tmp147 @unit @controlled
   423 jump *label139 notEqual *tmp147 0
   424 jump *label129 always
-    * jump *label140 always
   425 label *label139
   426 label *label140
   427 ubind .TYPE
 
   431 sensor *tmp151 :rebindUnit.2:firstUnit @dead
   432 jump *label136 equal *tmp151 0
   433 label *label138
-    * jump *label135 always
   434 label *label134
   435 label *label135
   436 end
 
   452 op land *tmp161 *tmp158 *tmp160
   453 jump *label146 equal *tmp161 false
   454 jump *label143 always
-    * jump *label147 always
   455 label *label146
   456 label *label147
-    * jump *label145 always
   457 label *label144
   458 label *label145
   459 ubind .TYPE
 
   463 sensor *tmp165 @unit @controlled
   464 jump *label153 notEqual *tmp165 0
   465 jump *label143 always
-    * jump *label154 always
   466 label *label153
   467 label *label154
   468 ubind .TYPE
 
   472 sensor *tmp169 :rebindUnit.3:firstUnit @dead
   473 jump *label150 equal *tmp169 0
   474 label *label152
-    * jump *label149 always
   475 label *label148
   476 label *label149
   477 end
 
   487 label *label159
   488 sensor *tmp173 .UNIT_P2 @firstItem
   489 jump *label156 equal *tmp173 @phase-fabric
-    * jump *label158 always
   490 label *label158
   491 set :swap.1:a .UNIT_S1
   492 set :swap.1:b .UNIT_P2
 
   496 label *label160
   497 set .UNIT_S1 :swap.1:a
   498 set .UNIT_P2 :swap.1:b
-    * jump *label157 always
   499 label *label156
   500 label *label157
   501 sensor *tmp176 .UNIT_S2 @firstItem
 
   512 label *label165
   513 set .UNIT_S2 :swap.2:a
   514 set .UNIT_P2 :swap.2:b
-    * jump *label162 always
   515 label *label161
   516 label *label162
   517 set .GROUP1 "unit  1"
 
   596 op land *tmp203 *tmp200 *tmp202
   597 jump *label184 equal *tmp203 false
   598 jump *label181 always
-    * jump *label185 always
   599 label *label184
   600 label *label185
-    * jump *label183 always
   601 label *label182
   602 label *label183
   603 ubind .TYPE
 
   607 sensor *tmp207 @unit @controlled
   608 jump *label191 notEqual *tmp207 0
   609 jump *label181 always
-    * jump *label192 always
   610 label *label191
   611 label *label192
   612 ubind .TYPE
 
   616 sensor *tmp211 :rebindUnit.4:firstUnit @dead
   617 jump *label188 equal *tmp211 0
   618 label *label190
-    * jump *label187 always
   619 label *label186
   620 label *label187
   621 end
 
   642 ucontrol within .CORE_X .CORE_Y 8 *tmp223
   643 jump *label202 equal *tmp223 false
   644 ucontrol itemDrop .CORE .UNIT_CAPACITY
-    * jump *label203 always
   645 label *label202
   646 label *label203
   647 label *label201
   648 label *label199
-    * jump *label195 always
   649 label *label194
   650 label *label195
   651 jump *label204 notEqual :processUnit:state 2
 
   672 op idiv *tmp237 *tmp236 .SPEED_TENTHS
   673 op div :processUnit:distance *tmp237 10
   674 label *label207
-    * jump *label205 always
   675 label *label204
   676 label *label205
   677 jump *label210 notEqual :processUnit:state 3
 
   689 jump *label216 greaterThan *tmp244 0
   690 ucontrol approach .CORE_X .CORE_Y 6
   691 set :processUnit:state 2
-    * jump *label217 always
   692 label *label216
   693 label *label217
   694 jump *label213 always
 
   703 op idiv *tmp252 *tmp251 .SPEED_TENTHS
   704 op div :processUnit:distance *tmp252 10
   705 label *label213
-    * jump *label211 always
   706 label *label210
   707 label *label211
   708 ucontrol flag :processUnit:state
 
   745 op land *tmp267 *tmp264 *tmp266
   746 jump *label226 equal *tmp267 false
   747 jump *label223 always
-    * jump *label227 always
   748 label *label226
   749 label *label227
-    * jump *label225 always
   750 label *label224
   751 label *label225
   752 ubind .TYPE
 
   756 sensor *tmp271 @unit @controlled
   757 jump *label233 notEqual *tmp271 0
   758 jump *label223 always
-    * jump *label234 always
   759 label *label233
   760 label *label234
   761 ubind .TYPE
 
   765 sensor *tmp275 :rebindUnit.5:firstUnit @dead
   766 jump *label230 equal *tmp275 0
   767 label *label232
-    * jump *label229 always
   768 label *label228
   769 label *label229
   770 end
 
   791 ucontrol within .CORE_X .CORE_Y 8 *tmp287
   792 jump *label244 equal *tmp287 false
   793 ucontrol itemDrop .CORE .UNIT_CAPACITY
-    * jump *label245 always
   794 label *label244
   795 label *label245
   796 label *label243
   797 label *label241
-    * jump *label237 always
   798 label *label236
   799 label *label237
   800 jump *label246 notEqual :processUnit.1:state 2
 
   821 op idiv *tmp301 *tmp300 .SPEED_TENTHS
   822 op div :processUnit.1:distance *tmp301 10
   823 label *label249
-    * jump *label247 always
   824 label *label246
   825 label *label247
   826 jump *label252 notEqual :processUnit.1:state 3
 
   838 jump *label258 greaterThan *tmp308 0
   839 ucontrol approach .CORE_X .CORE_Y 6
   840 set :processUnit.1:state 2
-    * jump *label259 always
   841 label *label258
   842 label *label259
   843 jump *label255 always
 
   852 op idiv *tmp316 *tmp315 .SPEED_TENTHS
   853 op div :processUnit.1:distance *tmp316 10
   854 label *label255
-    * jump *label253 always
   855 label *label252
   856 label *label253
   857 ucontrol flag :processUnit.1:state
 
   887 op equal *tmp322 *tmp325 0
   888 label *label263
   889 set .SUPPLY_S_FIRST *tmp322
-    * jump *label221 always
   890 label *label220
   891 label *label221
   892 set :printDomeStatus.1:item @phase-fabric
 
   922 op land *tmp337 *tmp334 *tmp336
   923 jump *label271 equal *tmp337 false
   924 jump *label268 always
-    * jump *label272 always
   925 label *label271
   926 label *label272
-    * jump *label270 always
   927 label *label269
   928 label *label270
   929 ubind .TYPE
 
   933 sensor *tmp341 @unit @controlled
   934 jump *label278 notEqual *tmp341 0
   935 jump *label268 always
-    * jump *label279 always
   936 label *label278
   937 label *label279
   938 ubind .TYPE
 
   942 sensor *tmp345 :rebindUnit.6:firstUnit @dead
   943 jump *label275 equal *tmp345 0
   944 label *label277
-    * jump *label274 always
   945 label *label273
   946 label *label274
   947 end
 
   968 ucontrol within .CORE_X .CORE_Y 8 *tmp357
   969 jump *label289 equal *tmp357 false
   970 ucontrol itemDrop .CORE .UNIT_CAPACITY
-    * jump *label290 always
   971 label *label289
   972 label *label290
   973 label *label288
   974 label *label286
-    * jump *label282 always
   975 label *label281
   976 label *label282
   977 jump *label291 notEqual :processUnit.2:state 2
 
   998 op idiv *tmp371 *tmp370 .SPEED_TENTHS
   999 op div :processUnit.2:distance *tmp371 10
  1000 label *label294
-    * jump *label292 always
  1001 label *label291
  1002 label *label292
  1003 jump *label297 notEqual :processUnit.2:state 3
 
  1015 jump *label303 greaterThan *tmp378 0
  1016 ucontrol approach .CORE_X .CORE_Y 6
  1017 set :processUnit.2:state 2
-    * jump *label304 always
  1018 label *label303
  1019 label *label304
  1020 jump *label300 always
 
  1029 op idiv *tmp386 *tmp385 .SPEED_TENTHS
  1030 op div :processUnit.2:distance *tmp386 10
  1031 label *label300
-    * jump *label298 always
  1032 label *label297
  1033 label *label298
  1034 ucontrol flag :processUnit.2:state
 
  1071 op land *tmp401 *tmp398 *tmp400
  1072 jump *label313 equal *tmp401 false
  1073 jump *label310 always
-    * jump *label314 always
  1074 label *label313
  1075 label *label314
-    * jump *label312 always
  1076 label *label311
  1077 label *label312
  1078 ubind .TYPE
 
  1082 sensor *tmp405 @unit @controlled
  1083 jump *label320 notEqual *tmp405 0
  1084 jump *label310 always
-    * jump *label321 always
  1085 label *label320
  1086 label *label321
  1087 ubind .TYPE
 
  1091 sensor *tmp409 :rebindUnit.7:firstUnit @dead
  1092 jump *label317 equal *tmp409 0
  1093 label *label319
-    * jump *label316 always
  1094 label *label315
  1095 label *label316
  1096 end
 
  1117 ucontrol within .CORE_X .CORE_Y 8 *tmp421
  1118 jump *label331 equal *tmp421 false
  1119 ucontrol itemDrop .CORE .UNIT_CAPACITY
-    * jump *label332 always
  1120 label *label331
  1121 label *label332
  1122 label *label330
  1123 label *label328
-    * jump *label324 always
  1124 label *label323
  1125 label *label324
  1126 jump *label333 notEqual :processUnit.3:state 2
 
  1147 op idiv *tmp435 *tmp434 .SPEED_TENTHS
  1148 op div :processUnit.3:distance *tmp435 10
  1149 label *label336
-    * jump *label334 always
  1150 label *label333
  1151 label *label334
  1152 jump *label339 notEqual :processUnit.3:state 3
 
  1164 jump *label345 greaterThan *tmp442 0
  1165 ucontrol approach .CORE_X .CORE_Y 6
  1166 set :processUnit.3:state 2
-    * jump *label346 always
  1167 label *label345
  1168 label *label346
  1169 jump *label342 always
 
  1178 op idiv *tmp450 *tmp449 .SPEED_TENTHS
  1179 op div :processUnit.3:distance *tmp450 10
  1180 label *label342
-    * jump *label340 always
  1181 label *label339
  1182 label *label340
  1183 ucontrol flag :processUnit.3:state
 
  1213 op equal *tmp456 *tmp459 0
  1214 label *label350
  1215 set .SUPPLY_P_FIRST *tmp456
-    * jump *label308 always
  1216 label *label307
  1217 label *label308
  1218 op sub *tmp461 @time :start
 
  1226 jump *label351 equal .TYPE UNIT_TYPE
  1227 label *label354
  1228 jump *label351 lessThanEq :unitCheck @time
-    * jump *label353 always
  1229 label *label353
  1230 set :areUnitsAvailable.2:type UNIT_TYPE
  1231 set :areUnitsAvailable.2:output false
 
  1264 jump *label370 lessThan :areUnitsAvailable.2:free :areUnitsAvailable.2:needed
  1265 set *tmp466 true
  1266 jump *label357 always
-    * jump *label371 always
  1267 label *label370
  1268 label *label371
  1269 jump *label367 always
 
  1277 sensor *tmp487 :areUnitsAvailable.2:firstUnit @dead
  1278 jump *label363 equal *tmp487 0
  1279 label *label365
-    * jump *label359 always
  1280 label *label358
  1281 label *label359
  1282 jump *label373 equal :areUnitsAvailable.2:output false
 
  1290 jump *label375 lessThanEq :areUnitsAvailable.2:needed 0
  1291 print ", needed: "
  1292 print :areUnitsAvailable.2:needed
-    * jump *label376 always
  1293 label *label375
  1294 label *label376
  1295 print "\n"
-    * jump *label374 always
  1296 label *label373
  1297 label *label374
  1298 set *tmp466 false
 
  1301 label *label357
  1302 jump *label355 equal *tmp466 false
  1303 end
-    * jump *label356 always
  1304 label *label355
  1305 label *label356
  1306 op add :unitCheck @time 5000
-    * jump *label352 always
  1307 label *label351
  1308 label *label352
  1309 label *label175
 
  1320 jump *label378 notEqual *tmp496 @this
  1321 label *label380
  1322 ulocate building core false @copper *tmp500 *tmp501 *tmp502 .CORE
-    * jump *label379 always
  1323 label *label378
  1324 label *label379
  1325 set :locateCore*retval .CORE

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-11 instructions):
 
    67 set :areUnitsAvailable:free 0
    68 set :areUnitsAvailable:occupied 0
    69 set :areUnitsAvailable:needed 0
-    * ubind :areUnitsAvailable:type
+   70 ubind UNIT_TYPE
    71 set :areUnitsAvailable:firstUnit @unit
    72 jump *label29 equal :areUnitsAvailable:firstUnit null
    73 set :needsFourUnits:unit @unit
 
    79 op div :needsFourUnits:travel_time *tmp17 *tmp18
    80 op greaterThanEq *tmp13 :needsFourUnits:travel_time 47
    81 jump *label33 always
-    * set *tmp13 null
    82 label *label33
    83 jump *label31 equal *tmp13 false
    84 set *tmp21 4
 
    95 jump *label37 notEqual *tmp24 @this
    96 label *label39
    97 op add :areUnitsAvailable:free :areUnitsAvailable:free 1
-    * jump *label41 lessThan :areUnitsAvailable:free :areUnitsAvailable:needed
+   98 jump *label41 lessThan :areUnitsAvailable:free *tmp21
    99 set *tmp10 true
   100 jump *label28 always
   101 label *label41
 
   104 label *label37
   105 op add :areUnitsAvailable:occupied :areUnitsAvailable:occupied 1
   106 label *label38
-    * ubind :areUnitsAvailable:type
+  107 ubind UNIT_TYPE
   108 label *label35
   109 jump *label36 equal @unit :areUnitsAvailable:firstUnit
   110 label *label43
 
   113 label *label36
   114 label *label29
   115 label *label30
-    * jump *label44 equal :areUnitsAvailable:output false
-    * print :areUnitsAvailable:type
+  116 jump *label44 equal true false
+  117 print UNIT_TYPE
   118 print ":"
   119 print " occupied: "
   120 print :areUnitsAvailable:occupied
 
   131 label *label45
   132 set *tmp10 false
   133 jump *label28 always
-    * set *tmp10 null
   134 label *label28
   135 jump *label26 equal *tmp10 false
   136 set *tmp9 UNIT_TYPE
 
   158 set :areUnitsAvailable.1:free 0
   159 set :areUnitsAvailable.1:occupied 0
   160 set :areUnitsAvailable.1:needed 0
-    * ubind :areUnitsAvailable.1:type
+  161 ubind :chooseUnitType:type
   162 set :areUnitsAvailable.1:firstUnit @unit
   163 jump *label60 equal :areUnitsAvailable.1:firstUnit null
   164 set :needsFourUnits.1:unit @unit
 
   170 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
   171 op greaterThanEq *tmp43 :needsFourUnits.1:travel_time 47
   172 jump *label64 always
-    * set *tmp43 null
   173 label *label64
   174 jump *label62 equal *tmp43 false
   175 set *tmp51 4
 
   186 jump *label68 notEqual *tmp54 @this
   187 label *label70
   188 op add :areUnitsAvailable.1:free :areUnitsAvailable.1:free 1
-    * jump *label72 lessThan :areUnitsAvailable.1:free :areUnitsAvailable.1:needed
+  189 jump *label72 lessThan :areUnitsAvailable.1:free *tmp51
   190 set *tmp40 true
   191 jump *label59 always
   192 label *label72
 
   195 label *label68
   196 op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
   197 label *label69
-    * ubind :areUnitsAvailable.1:type
+  198 ubind :chooseUnitType:type
   199 label *label66
   200 jump *label67 equal @unit :areUnitsAvailable.1:firstUnit
   201 label *label74
 
   204 label *label67
   205 label *label60
   206 label *label61
-    * jump *label75 equal :areUnitsAvailable.1:output false
-    * print :areUnitsAvailable.1:type
+  207 jump *label75 equal true false
+  208 print :chooseUnitType:type
   209 print ":"
   210 print " occupied: "
   211 print :areUnitsAvailable.1:occupied
 
   222 label *label76
   223 set *tmp40 false
   224 jump *label59 always
-    * set *tmp40 null
   225 label *label59
   226 jump *label57 equal *tmp40 false
   227 printflush null
 
   245 print "[gold]Binding units..."
   246 printflush message1
   247 set .UNIT_P2 null
-    * set .UNIT_S2 .UNIT_P2
-    * set .UNIT_P1 .UNIT_S2
-    * set .UNIT_S1 .UNIT_P1
+  248 set .UNIT_S2 null
+  249 set .UNIT_P1 .UNIT_P2
+  250 set .UNIT_S1 .UNIT_S2
   251 set :rebindUnits:count 0
-    * ubind .TYPE
+  252 ubind *tmp9
   253 set :rebindUnits:firstUnit @unit
   254 jump *label80 notEqual :rebindUnits:firstUnit null
   255 end
 
   270 label *label88
   271 label *label85
   272 label *label86
-    * ubind .TYPE
+  273 ubind *tmp9
   274 label *label83
   275 jump *label84 equal @unit :rebindUnits:firstUnit
   276 label *label89
 
   279 label *label84
   280 label *label79
   281 set :acquireUnit:currentUnit .UNIT_S1
-    * set :rebindUnit:currentUnit :acquireUnit:currentUnit
-    * jump *label92 equal :rebindUnit:currentUnit null
-    * ubind :rebindUnit:currentUnit
+  282 set :rebindUnit:currentUnit .UNIT_S1
+  283 jump *label92 equal :acquireUnit:currentUnit null
+  284 ubind :acquireUnit:currentUnit
   285 sensor *tmp84 @unit @dead
   286 op equal *tmp85 *tmp84 0
   287 sensor *tmp86 @unit @controller
 
   293 label *label95
   294 label *label92
   295 label *label93
-    * ubind .TYPE
+  296 ubind *tmp9
   297 set :rebindUnit:firstUnit @unit
   298 jump *label96 equal :rebindUnit:firstUnit null
   299 label *label98
 
   302 jump *label91 always
   303 label *label101
   304 label *label102
-    * ubind .TYPE
+  305 ubind *tmp9
   306 label *label99
   307 jump *label100 equal @unit :rebindUnit:firstUnit
   308 label *label103
 
   316 ucontrol flag 1
   317 set *tmp80 @unit
   318 jump *label90 always
-    * set *tmp80 null
   319 label *label90
   320 set .UNIT_S1 *tmp80
   321 set :acquireUnit.1:currentUnit .UNIT_P1
-    * set :rebindUnit.1:currentUnit :acquireUnit.1:currentUnit
-    * jump *label106 equal :rebindUnit.1:currentUnit null
-    * ubind :rebindUnit.1:currentUnit
+  322 set :rebindUnit.1:currentUnit .UNIT_P1
+  323 jump *label106 equal :acquireUnit.1:currentUnit null
+  324 ubind :acquireUnit.1:currentUnit
   325 sensor *tmp102 @unit @dead
   326 op equal *tmp103 *tmp102 0
   327 sensor *tmp104 @unit @controller
 
   333 label *label109
   334 label *label106
   335 label *label107
-    * ubind .TYPE
+  336 ubind *tmp9
   337 set :rebindUnit.1:firstUnit @unit
   338 jump *label110 equal :rebindUnit.1:firstUnit null
   339 label *label112
 
   342 jump *label105 always
   343 label *label115
   344 label *label116
-    * ubind .TYPE
+  345 ubind *tmp9
   346 label *label113
   347 jump *label114 equal @unit :rebindUnit.1:firstUnit
   348 label *label117
 
   356 ucontrol flag 1
   357 set *tmp98 @unit
   358 jump *label104 always
-    * set *tmp98 null
   359 label *label104
   360 set .UNIT_P1 *tmp98
-    * sensor *tmp116 .UNIT_S1 @firstItem
+  361 sensor *tmp116 *tmp80 @firstItem
   362 jump *label120 equal *tmp116 @phase-fabric
   363 label *label121
-    * sensor *tmp118 .UNIT_P1 @firstItem
+  364 sensor *tmp118 *tmp98 @firstItem
   365 jump *label118 notEqual *tmp118 @silicon
   366 label *label120
-    * set :swap:a .UNIT_S1
-    * set :swap:b .UNIT_P1
-    * set :swap:t :swap:a
-    * set :swap:a :swap:b
+  367 set :swap:a *tmp80
+  368 set :swap:b *tmp98
+  369 set :swap:t .UNIT_S1
+  370 set :swap:a .UNIT_P1
   371 set :swap:b :swap:t
   372 label *label122
   373 set .UNIT_S1 :swap:a
-    * set .UNIT_P1 :swap:b
+  374 set .UNIT_P1 :swap:t
   375 label *label118
   376 label *label119
   377 sensor .UNIT_CAPACITY .UNIT_S1 @itemCapacity
 
   386 op sub *tmp128 .DOME_Y .CORE_Y
   387 op len *tmp129 *tmp127 *tmp128
   388 op mul *tmp130 2 *tmp129
-    * sensor *tmp131 :needsFourUnits.2:unit @speed
-    * op div :needsFourUnits.2:travel_time *tmp130 *tmp131
+  389 sensor *tmp131 .UNIT_S1 @speed
+  390 op div :needsFourUnits.2:travel_time *tmp130 .SPEED
   391 op greaterThanEq *tmp126 :needsFourUnits.2:travel_time 47
   392 jump *label125 always
-    * set *tmp126 null
   393 label *label125
   394 set .FOUR_UNITS *tmp126
-    * jump *label126 equal .FOUR_UNITS false
+  395 jump *label126 equal *tmp126 false
   396 set :acquireUnit.2:currentUnit .UNIT_S2
-    * set :rebindUnit.2:currentUnit :acquireUnit.2:currentUnit
-    * jump *label130 equal :rebindUnit.2:currentUnit null
-    * ubind :rebindUnit.2:currentUnit
+  397 set :rebindUnit.2:currentUnit .UNIT_S2
+  398 jump *label130 equal :acquireUnit.2:currentUnit null
+  399 ubind :acquireUnit.2:currentUnit
   400 sensor *tmp139 @unit @dead
   401 op equal *tmp140 *tmp139 0
   402 sensor *tmp141 @unit @controller
 
   408 label *label133
   409 label *label130
   410 label *label131
-    * ubind .TYPE
+  411 ubind *tmp9
   412 set :rebindUnit.2:firstUnit @unit
   413 jump *label134 equal :rebindUnit.2:firstUnit null
   414 label *label136
 
   417 jump *label129 always
   418 label *label139
   419 label *label140
-    * ubind .TYPE
+  420 ubind *tmp9
   421 label *label137
   422 jump *label138 equal @unit :rebindUnit.2:firstUnit
   423 label *label141
 
   431 ucontrol flag 1
   432 set *tmp135 @unit
   433 jump *label128 always
-    * set *tmp135 null
   434 label *label128
   435 set .UNIT_S2 *tmp135
   436 set :acquireUnit.3:currentUnit .UNIT_P2
-    * set :rebindUnit.3:currentUnit :acquireUnit.3:currentUnit
-    * jump *label144 equal :rebindUnit.3:currentUnit null
-    * ubind :rebindUnit.3:currentUnit
+  437 set :rebindUnit.3:currentUnit .UNIT_P2
+  438 jump *label144 equal :acquireUnit.3:currentUnit null
+  439 ubind :acquireUnit.3:currentUnit
   440 sensor *tmp157 @unit @dead
   441 op equal *tmp158 *tmp157 0
   442 sensor *tmp159 @unit @controller
 
   448 label *label147
   449 label *label144
   450 label *label145
-    * ubind .TYPE
+  451 ubind *tmp9
   452 set :rebindUnit.3:firstUnit @unit
   453 jump *label148 equal :rebindUnit.3:firstUnit null
   454 label *label150
 
   457 jump *label143 always
   458 label *label153
   459 label *label154
-    * ubind .TYPE
+  460 ubind *tmp9
   461 label *label151
   462 jump *label152 equal @unit :rebindUnit.3:firstUnit
   463 label *label155
 
   471 ucontrol flag 1
   472 set *tmp153 @unit
   473 jump *label142 always
-    * set *tmp153 null
   474 label *label142
   475 set .UNIT_P2 *tmp153
   476 sensor *tmp171 .UNIT_S1 @firstItem
   477 jump *label156 notEqual *tmp171 @phase-fabric
   478 label *label159
-    * sensor *tmp173 .UNIT_P2 @firstItem
+  479 sensor *tmp173 *tmp153 @firstItem
   480 jump *label156 equal *tmp173 @phase-fabric
   481 label *label158
   482 set :swap.1:a .UNIT_S1
-    * set :swap.1:b .UNIT_P2
-    * set :swap.1:t :swap.1:a
-    * set :swap.1:a :swap.1:b
+  483 set :swap.1:b *tmp153
+  484 set :swap.1:t .UNIT_S1
+  485 set :swap.1:a .UNIT_P2
   486 set :swap.1:b :swap.1:t
   487 label *label160
   488 set .UNIT_S1 :swap.1:a
-    * set .UNIT_P2 :swap.1:b
+  489 set .UNIT_P2 :swap.1:t
   490 label *label156
   491 label *label157
-    * sensor *tmp176 .UNIT_S2 @firstItem
+  492 sensor *tmp176 *tmp135 @firstItem
   493 jump *label163 equal *tmp176 @phase-fabric
   494 label *label164
   495 sensor *tmp178 .UNIT_P2 @firstItem
   496 jump *label161 notEqual *tmp178 @silicon
   497 label *label163
-    * set :swap.2:a .UNIT_S2
+  498 set :swap.2:a *tmp135
   499 set :swap.2:b .UNIT_P2
-    * set :swap.2:t :swap.2:a
-    * set :swap.2:a :swap.2:b
+  500 set :swap.2:t .UNIT_S2
+  501 set :swap.2:a .UNIT_P2
   502 set :swap.2:b :swap.2:t
   503 label *label165
   504 set .UNIT_S2 :swap.2:a
-    * set .UNIT_P2 :swap.2:b
+  505 set .UNIT_P2 :swap.2:t
   506 label *label161
   507 label *label162
   508 set .GROUP1 "unit  1"
 
   517 set .UNIT_P2 null
   518 set .GROUP1 "unit"
   519 label *label127
-    * jump *label168 equal .FOUR_UNITS false
+  520 jump *label168 equal *tmp126 false
   521 label *label169
   522 sensor *tmp182 .UNIT_S1 @totalItems
   523 sensor *tmp183 .UNIT_S2 @totalItems
 
   529 set *tmp185 false
   530 label *label167
   531 set .SUPPLY_S_FIRST *tmp185
-    * jump *label172 equal .FOUR_UNITS false
+  532 jump *label172 equal *tmp126 false
   533 label *label173
   534 sensor *tmp187 .UNIT_P1 @totalItems
   535 sensor *tmp188 .UNIT_P2 @totalItems
 
   550 print "\n"
   551 print "\n"
   552 print "Unit type: [green]"
-    * print .TYPE
+  553 print *tmp9
   554 print "["
   555 print "]"
   556 print "\n"
   557 set :printDomeStatus:item @silicon
   558 set :printDomeStatus:text "\n[green]Silicon[] status:\n"
-    * print :printDomeStatus:text
-    * sensor :printDomeStatus:level .DOME :printDomeStatus:item
+  559 print "\n[green]Silicon[] status:\n"
+  560 sensor :printDomeStatus:level .DOME @silicon
   561 jump *label178 lessThanEq :printDomeStatus:level 3
   562 print "  dome:  [green]"
   563 print :printDomeStatus:level
 
   577 set :processUnit:item @silicon
   578 set :processUnit:group .GROUP1
   579 set :processUnit:supply .SUPPLY_S_FIRST
-    * set :rebindUnit.4:currentUnit :processUnit:unit
-    * jump *label182 equal :rebindUnit.4:currentUnit null
-    * ubind :rebindUnit.4:currentUnit
+  580 set :rebindUnit.4:currentUnit .UNIT_S1
+  581 jump *label182 equal :processUnit:unit null
+  582 ubind :processUnit:unit
   583 sensor *tmp199 @unit @dead
   584 op equal *tmp200 *tmp199 0
   585 sensor *tmp201 @unit @controller
 
   591 label *label185
   592 label *label182
   593 label *label183
-    * ubind .TYPE
+  594 ubind *tmp9
   595 set :rebindUnit.4:firstUnit @unit
   596 jump *label186 equal :rebindUnit.4:firstUnit null
   597 label *label188
 
   600 jump *label181 always
   601 label *label191
   602 label *label192
-    * ubind .TYPE
+  603 ubind *tmp9
   604 label *label189
   605 jump *label190 equal @unit :rebindUnit.4:firstUnit
   606 label *label193
 
   619 jump *label194 lessThanEq :processUnit:state 3
   620 label *label196
   621 sensor *tmp217 @unit @firstItem
-    * jump *label198 notEqual *tmp217 :processUnit:item
+  622 jump *label198 notEqual *tmp217 @silicon
   623 set :processUnit:state 3
   624 jump *label199 always
   625 label *label198
 
   642 jump *label204 notEqual :processUnit:state 2
   643 ucontrol within .CORE_X .CORE_Y 8 *tmp227
   644 jump *label206 equal *tmp227 false
-    * ucontrol itemTake .CORE :processUnit:item .UNIT_CAPACITY
+  645 ucontrol itemTake .CORE @silicon .UNIT_CAPACITY
   646 sensor *tmp229 @unit @totalItems
   647 jump *label208 lessThan *tmp229 .UNIT_CAPACITY
   648 ucontrol approach .DOME_X .DOME_Y 6
 
   668 jump *label210 notEqual :processUnit:state 3
   669 ucontrol within .DOME_X .DOME_Y 8 *tmp241
   670 jump *label212 equal *tmp241 false
-    * jump *label214 equal :processUnit:supply false
+  671 jump *label214 equal .SUPPLY_S_FIRST false
   672 ucontrol itemDrop .DOME .UNIT_CAPACITY
   673 set .MSG ", supplying\n"
   674 jump *label215 always
 
   699 ucontrol flag :processUnit:state
   700 sensor *tmp254 @unit @totalItems
   701 print "  "
-    * print :processUnit:group
+  702 print .GROUP1
   703 print ":"
   704 print " ["
-    * print :processUnit:color
+  705 print "gold"
   706 print "]"
   707 print *tmp254
   708 print "["
 
   720 set :processUnit:unit @unit
   721 label *label180
   722 set .UNIT_S1 :processUnit:unit
-    * jump *label220 equal .FOUR_UNITS false
+  723 jump *label220 equal *tmp126 false
   724 op equal *tmp259 .SUPPLY_S_FIRST false
   725 set :processUnit.1:unit .UNIT_S2
   726 set :processUnit.1:item @silicon
   727 set :processUnit.1:group .GROUP2
   728 set :processUnit.1:supply *tmp259
-    * set :rebindUnit.5:currentUnit :processUnit.1:unit
-    * jump *label224 equal :rebindUnit.5:currentUnit null
-    * ubind :rebindUnit.5:currentUnit
+  729 set :rebindUnit.5:currentUnit .UNIT_S2
+  730 jump *label224 equal :processUnit.1:unit null
+  731 ubind :processUnit.1:unit
   732 sensor *tmp263 @unit @dead
   733 op equal *tmp264 *tmp263 0
   734 sensor *tmp265 @unit @controller
 
   740 label *label227
   741 label *label224
   742 label *label225
-    * ubind .TYPE
+  743 ubind *tmp9
   744 set :rebindUnit.5:firstUnit @unit
   745 jump *label228 equal :rebindUnit.5:firstUnit null
   746 label *label230
 
   749 jump *label223 always
   750 label *label233
   751 label *label234
-    * ubind .TYPE
+  752 ubind *tmp9
   753 label *label231
   754 jump *label232 equal @unit :rebindUnit.5:firstUnit
   755 label *label235
 
   768 jump *label236 lessThanEq :processUnit.1:state 3
   769 label *label238
   770 sensor *tmp281 @unit @firstItem
-    * jump *label240 notEqual *tmp281 :processUnit.1:item
+  771 jump *label240 notEqual *tmp281 @silicon
   772 set :processUnit.1:state 3
   773 jump *label241 always
   774 label *label240
 
   791 jump *label246 notEqual :processUnit.1:state 2
   792 ucontrol within .CORE_X .CORE_Y 8 *tmp291
   793 jump *label248 equal *tmp291 false
-    * ucontrol itemTake .CORE :processUnit.1:item .UNIT_CAPACITY
+  794 ucontrol itemTake .CORE @silicon .UNIT_CAPACITY
   795 sensor *tmp293 @unit @totalItems
   796 jump *label250 lessThan *tmp293 .UNIT_CAPACITY
   797 ucontrol approach .DOME_X .DOME_Y 6
 
   817 jump *label252 notEqual :processUnit.1:state 3
   818 ucontrol within .DOME_X .DOME_Y 8 *tmp305
   819 jump *label254 equal *tmp305 false
-    * jump *label256 equal :processUnit.1:supply false
+  820 jump *label256 equal *tmp259 false
   821 ucontrol itemDrop .DOME .UNIT_CAPACITY
   822 set .MSG ", supplying\n"
   823 jump *label257 always
 
   848 ucontrol flag :processUnit.1:state
   849 sensor *tmp318 @unit @totalItems
   850 print "  "
-    * print :processUnit.1:group
+  851 print .GROUP2
   852 print ":"
   853 print " ["
-    * print :processUnit.1:color
+  854 print "gold"
   855 print "]"
   856 print *tmp318
   857 print "["
 
   870 label *label222
   871 set .UNIT_S2 :processUnit.1:unit
   872 jump *label262 equal .SUPPLY_S_FIRST false
-    * sensor *tmp323 .UNIT_S1 @totalItems
+  873 sensor *tmp323 :processUnit:unit @totalItems
   874 op greaterThan *tmp322 *tmp323 0
   875 jump *label263 always
   876 label *label262
-    * sensor *tmp325 .UNIT_S2 @totalItems
+  877 sensor *tmp325 :processUnit.1:unit @totalItems
   878 op equal *tmp322 *tmp325 0
   879 label *label263
   880 set .SUPPLY_S_FIRST *tmp322
 
   882 label *label221
   883 set :printDomeStatus.1:item @phase-fabric
   884 set :printDomeStatus.1:text "\n[green]Phase fabric[] status:\n"
-    * print :printDomeStatus.1:text
-    * sensor :printDomeStatus.1:level .DOME :printDomeStatus.1:item
+  885 print "\n[green]Phase fabric[] status:\n"
+  886 sensor :printDomeStatus.1:level .DOME @phase-fabric
   887 jump *label265 lessThanEq :printDomeStatus.1:level 3
   888 print "  dome:  [green]"
   889 print :printDomeStatus.1:level
 
   903 set :processUnit.2:item @phase-fabric
   904 set :processUnit.2:group .GROUP1
   905 set :processUnit.2:supply .SUPPLY_P_FIRST
-    * set :rebindUnit.6:currentUnit :processUnit.2:unit
-    * jump *label269 equal :rebindUnit.6:currentUnit null
-    * ubind :rebindUnit.6:currentUnit
+  906 set :rebindUnit.6:currentUnit .UNIT_P1
+  907 jump *label269 equal :processUnit.2:unit null
+  908 ubind :processUnit.2:unit
   909 sensor *tmp333 @unit @dead
   910 op equal *tmp334 *tmp333 0
   911 sensor *tmp335 @unit @controller
 
   917 label *label272
   918 label *label269
   919 label *label270
-    * ubind .TYPE
+  920 ubind *tmp9
   921 set :rebindUnit.6:firstUnit @unit
   922 jump *label273 equal :rebindUnit.6:firstUnit null
   923 label *label275
 
   926 jump *label268 always
   927 label *label278
   928 label *label279
-    * ubind .TYPE
+  929 ubind *tmp9
   930 label *label276
   931 jump *label277 equal @unit :rebindUnit.6:firstUnit
   932 label *label280
 
   945 jump *label281 lessThanEq :processUnit.2:state 3
   946 label *label283
   947 sensor *tmp351 @unit @firstItem
-    * jump *label285 notEqual *tmp351 :processUnit.2:item
+  948 jump *label285 notEqual *tmp351 @phase-fabric
   949 set :processUnit.2:state 3
   950 jump *label286 always
   951 label *label285
 
   968 jump *label291 notEqual :processUnit.2:state 2
   969 ucontrol within .CORE_X .CORE_Y 8 *tmp361
   970 jump *label293 equal *tmp361 false
-    * ucontrol itemTake .CORE :processUnit.2:item .UNIT_CAPACITY
+  971 ucontrol itemTake .CORE @phase-fabric .UNIT_CAPACITY
   972 sensor *tmp363 @unit @totalItems
   973 jump *label295 lessThan *tmp363 .UNIT_CAPACITY
   974 ucontrol approach .DOME_X .DOME_Y 6
 
   994 jump *label297 notEqual :processUnit.2:state 3
   995 ucontrol within .DOME_X .DOME_Y 8 *tmp375
   996 jump *label299 equal *tmp375 false
-    * jump *label301 equal :processUnit.2:supply false
+  997 jump *label301 equal .SUPPLY_P_FIRST false
   998 ucontrol itemDrop .DOME .UNIT_CAPACITY
   999 set .MSG ", supplying\n"
  1000 jump *label302 always
 
  1025 ucontrol flag :processUnit.2:state
  1026 sensor *tmp388 @unit @totalItems
  1027 print "  "
-    * print :processUnit.2:group
+ 1028 print .GROUP1
  1029 print ":"
  1030 print " ["
-    * print :processUnit.2:color
+ 1031 print "gold"
  1032 print "]"
  1033 print *tmp388
  1034 print "["
 
  1046 set :processUnit.2:unit @unit
  1047 label *label267
  1048 set .UNIT_P1 :processUnit.2:unit
-    * jump *label307 equal .FOUR_UNITS false
+ 1049 jump *label307 equal *tmp126 false
  1050 op equal *tmp393 .SUPPLY_P_FIRST false
  1051 set :processUnit.3:unit .UNIT_P2
  1052 set :processUnit.3:item @phase-fabric
  1053 set :processUnit.3:group .GROUP2
  1054 set :processUnit.3:supply *tmp393
-    * set :rebindUnit.7:currentUnit :processUnit.3:unit
-    * jump *label311 equal :rebindUnit.7:currentUnit null
-    * ubind :rebindUnit.7:currentUnit
+ 1055 set :rebindUnit.7:currentUnit .UNIT_P2
+ 1056 jump *label311 equal :processUnit.3:unit null
+ 1057 ubind :processUnit.3:unit
  1058 sensor *tmp397 @unit @dead
  1059 op equal *tmp398 *tmp397 0
  1060 sensor *tmp399 @unit @controller
 
  1066 label *label314
  1067 label *label311
  1068 label *label312
-    * ubind .TYPE
+ 1069 ubind *tmp9
  1070 set :rebindUnit.7:firstUnit @unit
  1071 jump *label315 equal :rebindUnit.7:firstUnit null
  1072 label *label317
 
  1075 jump *label310 always
  1076 label *label320
  1077 label *label321
-    * ubind .TYPE
+ 1078 ubind *tmp9
  1079 label *label318
  1080 jump *label319 equal @unit :rebindUnit.7:firstUnit
  1081 label *label322
 
  1094 jump *label323 lessThanEq :processUnit.3:state 3
  1095 label *label325
  1096 sensor *tmp415 @unit @firstItem
-    * jump *label327 notEqual *tmp415 :processUnit.3:item
+ 1097 jump *label327 notEqual *tmp415 @phase-fabric
  1098 set :processUnit.3:state 3
  1099 jump *label328 always
  1100 label *label327
 
  1117 jump *label333 notEqual :processUnit.3:state 2
  1118 ucontrol within .CORE_X .CORE_Y 8 *tmp425
  1119 jump *label335 equal *tmp425 false
-    * ucontrol itemTake .CORE :processUnit.3:item .UNIT_CAPACITY
+ 1120 ucontrol itemTake .CORE @phase-fabric .UNIT_CAPACITY
  1121 sensor *tmp427 @unit @totalItems
  1122 jump *label337 lessThan *tmp427 .UNIT_CAPACITY
  1123 ucontrol approach .DOME_X .DOME_Y 6
 
  1143 jump *label339 notEqual :processUnit.3:state 3
  1144 ucontrol within .DOME_X .DOME_Y 8 *tmp439
  1145 jump *label341 equal *tmp439 false
-    * jump *label343 equal :processUnit.3:supply false
+ 1146 jump *label343 equal *tmp393 false
  1147 ucontrol itemDrop .DOME .UNIT_CAPACITY
  1148 set .MSG ", supplying\n"
  1149 jump *label344 always
 
  1174 ucontrol flag :processUnit.3:state
  1175 sensor *tmp452 @unit @totalItems
  1176 print "  "
-    * print :processUnit.3:group
+ 1177 print .GROUP2
  1178 print ":"
  1179 print " ["
-    * print :processUnit.3:color
+ 1180 print "gold"
  1181 print "]"
  1182 print *tmp452
  1183 print "["
 
  1196 label *label309
  1197 set .UNIT_P2 :processUnit.3:unit
  1198 jump *label349 equal .SUPPLY_P_FIRST false
-    * sensor *tmp457 .UNIT_P1 @totalItems
+ 1199 sensor *tmp457 :processUnit.2:unit @totalItems
  1200 op greaterThan *tmp456 *tmp457 0
  1201 jump *label350 always
  1202 label *label349
-    * sensor *tmp459 .UNIT_P2 @totalItems
+ 1203 sensor *tmp459 :processUnit.3:unit @totalItems
  1204 op equal *tmp456 *tmp459 0
  1205 label *label350
  1206 set .SUPPLY_P_FIRST *tmp456
 
  1214 print " "
  1215 print "ms"
  1216 printflush message1
-    * jump *label351 equal .TYPE UNIT_TYPE
+ 1217 jump *label351 equal *tmp9 UNIT_TYPE
  1218 label *label354
  1219 jump *label351 lessThanEq :unitCheck @time
  1220 label *label353
 
  1223 set :areUnitsAvailable.2:free 0
  1224 set :areUnitsAvailable.2:occupied 0
  1225 set :areUnitsAvailable.2:needed 0
-    * ubind :areUnitsAvailable.2:type
+ 1226 ubind UNIT_TYPE
  1227 set :areUnitsAvailable.2:firstUnit @unit
  1228 jump *label358 equal :areUnitsAvailable.2:firstUnit null
  1229 set :needsFourUnits.3:unit @unit
  1230 op sub *tmp470 .DOME_X .CORE_X
  1231 op sub *tmp471 .DOME_Y .CORE_Y
-    * op len *tmp472 *tmp470 *tmp471
-    * op mul *tmp473 2 *tmp472
+ 1232 op len *tmp472 *tmp127 *tmp128
+ 1233 op mul *tmp473 2 *tmp129
  1234 sensor *tmp474 :needsFourUnits.3:unit @speed
-    * op div :needsFourUnits.3:travel_time *tmp473 *tmp474
+ 1235 op div :needsFourUnits.3:travel_time *tmp130 *tmp474
  1236 op greaterThanEq *tmp469 :needsFourUnits.3:travel_time 47
  1237 jump *label362 always
-    * set *tmp469 null
  1238 label *label362
  1239 jump *label360 equal *tmp469 false
  1240 set *tmp477 4
 
  1251 jump *label366 notEqual *tmp480 @this
  1252 label *label368
  1253 op add :areUnitsAvailable.2:free :areUnitsAvailable.2:free 1
-    * jump *label370 lessThan :areUnitsAvailable.2:free :areUnitsAvailable.2:needed
+ 1254 jump *label370 lessThan :areUnitsAvailable.2:free *tmp477
  1255 set *tmp466 true
  1256 jump *label357 always
  1257 label *label370
 
  1260 label *label366
  1261 op add :areUnitsAvailable.2:occupied :areUnitsAvailable.2:occupied 1
  1262 label *label367
-    * ubind :areUnitsAvailable.2:type
+ 1263 ubind UNIT_TYPE
  1264 label *label364
  1265 jump *label365 equal @unit :areUnitsAvailable.2:firstUnit
  1266 label *label372
 
  1269 label *label365
  1270 label *label358
  1271 label *label359
-    * jump *label373 equal :areUnitsAvailable.2:output false
-    * print :areUnitsAvailable.2:type
+ 1272 jump *label373 equal false false
+ 1273 print UNIT_TYPE
  1274 print ":"
  1275 print " occupied: "
  1276 print :areUnitsAvailable.2:occupied
 
  1287 label *label374
  1288 set *tmp466 false
  1289 jump *label357 always
-    * set *tmp466 null
  1290 label *label357
  1291 jump *label355 equal *tmp466 false
  1292 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-48 instructions):
 
    62 printflush null
    63 print "[gold]Looking for suitable unit type:[]"
    64 print "\n"
-    * set :areUnitsAvailable:type UNIT_TYPE
-    * set :areUnitsAvailable:output true
    65 set :areUnitsAvailable:free 0
    66 set :areUnitsAvailable:occupied 0
    67 set :areUnitsAvailable:needed 0
 
   151 setaddr *tmp37 *label54
   152 label *label48
   153 jump *label55 equal :chooseUnitType:type UNIT_TYPE
-    * set :areUnitsAvailable.1:type :chooseUnitType:type
-    * set :areUnitsAvailable.1:output true
   154 set :areUnitsAvailable.1:free 0
   155 set :areUnitsAvailable.1:occupied 0
   156 set :areUnitsAvailable.1:needed 0
 
   237 label *label25
   238 set *tmp9 null
   239 label *label22
-    * set .TYPE *tmp9
   240 print "[gold]Binding units..."
   241 printflush message1
   242 set .UNIT_P2 null
   243 set .UNIT_S2 null
-    * set .UNIT_P1 .UNIT_P2
-    * set .UNIT_S1 .UNIT_S2
+  244 set .UNIT_P1 null
+  245 set .UNIT_S1 null
   246 set :rebindUnits:count 0
   247 ubind *tmp9
   248 set :rebindUnits:firstUnit @unit
 
   274 label *label84
   275 label *label79
   276 set :acquireUnit:currentUnit .UNIT_S1
-    * set :rebindUnit:currentUnit .UNIT_S1
-    * jump *label92 equal :acquireUnit:currentUnit null
-    * ubind :acquireUnit:currentUnit
+  277 jump *label92 equal .UNIT_S1 null
+  278 ubind .UNIT_S1
   279 sensor *tmp84 @unit @dead
   280 op equal *tmp85 *tmp84 0
   281 sensor *tmp86 @unit @controller
 
   313 label *label90
   314 set .UNIT_S1 *tmp80
   315 set :acquireUnit.1:currentUnit .UNIT_P1
-    * set :rebindUnit.1:currentUnit .UNIT_P1
-    * jump *label106 equal :acquireUnit.1:currentUnit null
-    * ubind :acquireUnit.1:currentUnit
+  316 jump *label106 equal .UNIT_P1 null
+  317 ubind .UNIT_P1
   318 sensor *tmp102 @unit @dead
   319 op equal *tmp103 *tmp102 0
   320 sensor *tmp104 @unit @controller
 
   357 sensor *tmp118 *tmp98 @firstItem
   358 jump *label118 notEqual *tmp118 @silicon
   359 label *label120
-    * set :swap:a *tmp80
-    * set :swap:b *tmp98
-    * set :swap:t .UNIT_S1
-    * set :swap:a .UNIT_P1
-    * set :swap:b :swap:t
+  360 set :swap:t *tmp80
+  361 set :swap:a *tmp98
+  362 set :swap:b .UNIT_S1
   363 label *label122
-    * set .UNIT_S1 :swap:a
+  364 set .UNIT_S1 .UNIT_P1
   365 set .UNIT_P1 :swap:t
   366 label *label118
   367 label *label119
 
   372 stop
   373 label *label123
   374 label *label124
-    * set :needsFourUnits.2:unit .UNIT_S1
   375 op sub *tmp127 .DOME_X .CORE_X
   376 op sub *tmp128 .DOME_Y .CORE_Y
   377 op len *tmp129 *tmp127 *tmp128
   378 op mul *tmp130 2 *tmp129
-    * sensor *tmp131 .UNIT_S1 @speed
   379 op div :needsFourUnits.2:travel_time *tmp130 .SPEED
   380 op greaterThanEq *tmp126 :needsFourUnits.2:travel_time 47
   381 jump *label125 always
   382 label *label125
-    * set .FOUR_UNITS *tmp126
   383 jump *label126 equal *tmp126 false
   384 set :acquireUnit.2:currentUnit .UNIT_S2
-    * set :rebindUnit.2:currentUnit .UNIT_S2
-    * jump *label130 equal :acquireUnit.2:currentUnit null
-    * ubind :acquireUnit.2:currentUnit
+  385 jump *label130 equal .UNIT_S2 null
+  386 ubind .UNIT_S2
   387 sensor *tmp139 @unit @dead
   388 op equal *tmp140 *tmp139 0
   389 sensor *tmp141 @unit @controller
 
   421 label *label128
   422 set .UNIT_S2 *tmp135
   423 set :acquireUnit.3:currentUnit .UNIT_P2
-    * set :rebindUnit.3:currentUnit .UNIT_P2
-    * jump *label144 equal :acquireUnit.3:currentUnit null
-    * ubind :acquireUnit.3:currentUnit
+  424 jump *label144 equal .UNIT_P2 null
+  425 ubind .UNIT_P2
   426 sensor *tmp157 @unit @dead
   427 op equal *tmp158 *tmp157 0
   428 sensor *tmp159 @unit @controller
 
   465 sensor *tmp173 *tmp153 @firstItem
   466 jump *label156 equal *tmp173 @phase-fabric
   467 label *label158
-    * set :swap.1:a .UNIT_S1
-    * set :swap.1:b *tmp153
   468 set :swap.1:t .UNIT_S1
-    * set :swap.1:a .UNIT_P2
-    * set :swap.1:b :swap.1:t
+  469 set :swap.1:a *tmp153
+  470 set :swap.1:b .UNIT_S1
   471 label *label160
-    * set .UNIT_S1 :swap.1:a
+  472 set .UNIT_S1 .UNIT_P2
   473 set .UNIT_P2 :swap.1:t
   474 label *label156
   475 label *label157
 
   479 sensor *tmp178 .UNIT_P2 @firstItem
   480 jump *label161 notEqual *tmp178 @silicon
   481 label *label163
-    * set :swap.2:a *tmp135
-    * set :swap.2:b .UNIT_P2
-    * set :swap.2:t .UNIT_S2
+  482 set :swap.2:t *tmp135
   483 set :swap.2:a .UNIT_P2
-    * set :swap.2:b :swap.2:t
+  484 set :swap.2:b .UNIT_S2
   485 label *label165
-    * set .UNIT_S2 :swap.2:a
+  486 set .UNIT_S2 .UNIT_P2
   487 set .UNIT_P2 :swap.2:t
   488 label *label161
   489 label *label162
 
   536 print "["
   537 print "]"
   538 print "\n"
-    * set :printDomeStatus:item @silicon
-    * set :printDomeStatus:text "\n[green]Silicon[] status:\n"
   539 print "\n[green]Silicon[] status:\n"
   540 sensor :printDomeStatus:level .DOME @silicon
   541 jump *label178 lessThanEq :printDomeStatus:level 3
 
   554 label *label179
   555 label *label177
   556 set :processUnit:unit .UNIT_S1
-    * set :processUnit:item @silicon
-    * set :processUnit:group .GROUP1
-    * set :processUnit:supply .SUPPLY_S_FIRST
-    * set :rebindUnit.4:currentUnit .UNIT_S1
-    * jump *label182 equal :processUnit:unit null
-    * ubind :processUnit:unit
+  557 jump *label182 equal .UNIT_S1 null
+  558 ubind .UNIT_S1
   559 sensor *tmp199 @unit @dead
   560 op equal *tmp200 *tmp199 0
   561 sensor *tmp201 @unit @controller
 
   589 label *label181
   590 sensor :processUnit:state @unit @flag
   591 set :processUnit:distance -1
-    * set :processUnit:color "gold"
   592 jump *label196 lessThan :processUnit:state 2
   593 label *label197
   594 jump *label194 lessThanEq :processUnit:state 3
 
   698 jump *label220 equal *tmp126 false
   699 op equal *tmp259 .SUPPLY_S_FIRST false
   700 set :processUnit.1:unit .UNIT_S2
-    * set :processUnit.1:item @silicon
-    * set :processUnit.1:group .GROUP2
-    * set :processUnit.1:supply *tmp259
-    * set :rebindUnit.5:currentUnit .UNIT_S2
-    * jump *label224 equal :processUnit.1:unit null
-    * ubind :processUnit.1:unit
+  701 jump *label224 equal .UNIT_S2 null
+  702 ubind .UNIT_S2
   703 sensor *tmp263 @unit @dead
   704 op equal *tmp264 *tmp263 0
   705 sensor *tmp265 @unit @controller
 
   733 label *label223
   734 sensor :processUnit.1:state @unit @flag
   735 set :processUnit.1:distance -1
-    * set :processUnit.1:color "gold"
   736 jump *label238 lessThan :processUnit.1:state 2
   737 label *label239
   738 jump *label236 lessThanEq :processUnit.1:state 3
 
   850 set .SUPPLY_S_FIRST *tmp322
   851 label *label220
   852 label *label221
-    * set :printDomeStatus.1:item @phase-fabric
-    * set :printDomeStatus.1:text "\n[green]Phase fabric[] status:\n"
   853 print "\n[green]Phase fabric[] status:\n"
   854 sensor :printDomeStatus.1:level .DOME @phase-fabric
   855 jump *label265 lessThanEq :printDomeStatus.1:level 3
 
   868 label *label266
   869 label *label264
   870 set :processUnit.2:unit .UNIT_P1
-    * set :processUnit.2:item @phase-fabric
-    * set :processUnit.2:group .GROUP1
-    * set :processUnit.2:supply .SUPPLY_P_FIRST
-    * set :rebindUnit.6:currentUnit .UNIT_P1
-    * jump *label269 equal :processUnit.2:unit null
-    * ubind :processUnit.2:unit
+  871 jump *label269 equal .UNIT_P1 null
+  872 ubind .UNIT_P1
   873 sensor *tmp333 @unit @dead
   874 op equal *tmp334 *tmp333 0
   875 sensor *tmp335 @unit @controller
 
   903 label *label268
   904 sensor :processUnit.2:state @unit @flag
   905 set :processUnit.2:distance -1
-    * set :processUnit.2:color "gold"
   906 jump *label283 lessThan :processUnit.2:state 2
   907 label *label284
   908 jump *label281 lessThanEq :processUnit.2:state 3
 
  1012 jump *label307 equal *tmp126 false
  1013 op equal *tmp393 .SUPPLY_P_FIRST false
  1014 set :processUnit.3:unit .UNIT_P2
-    * set :processUnit.3:item @phase-fabric
-    * set :processUnit.3:group .GROUP2
-    * set :processUnit.3:supply *tmp393
-    * set :rebindUnit.7:currentUnit .UNIT_P2
-    * jump *label311 equal :processUnit.3:unit null
-    * ubind :processUnit.3:unit
+ 1015 jump *label311 equal .UNIT_P2 null
+ 1016 ubind .UNIT_P2
  1017 sensor *tmp397 @unit @dead
  1018 op equal *tmp398 *tmp397 0
  1019 sensor *tmp399 @unit @controller
 
  1047 label *label310
  1048 sensor :processUnit.3:state @unit @flag
  1049 set :processUnit.3:distance -1
-    * set :processUnit.3:color "gold"
  1050 jump *label325 lessThan :processUnit.3:state 2
  1051 label *label326
  1052 jump *label323 lessThanEq :processUnit.3:state 3
 
  1176 label *label354
  1177 jump *label351 lessThanEq :unitCheck @time
  1178 label *label353
-    * set :areUnitsAvailable.2:type UNIT_TYPE
-    * set :areUnitsAvailable.2:output false
  1179 set :areUnitsAvailable.2:free 0
  1180 set :areUnitsAvailable.2:occupied 0
  1181 set :areUnitsAvailable.2:needed 0
 
  1183 set :areUnitsAvailable.2:firstUnit @unit
  1184 jump *label358 equal :areUnitsAvailable.2:firstUnit null
  1185 set :needsFourUnits.3:unit @unit
-    * op sub *tmp470 .DOME_X .CORE_X
-    * op sub *tmp471 .DOME_Y .CORE_Y
-    * op len *tmp472 *tmp127 *tmp128
-    * op mul *tmp473 2 *tmp129
  1186 sensor *tmp474 :needsFourUnits.3:unit @speed
  1187 op div :needsFourUnits.3:travel_time *tmp130 *tmp474
  1188 op greaterThanEq *tmp469 :needsFourUnits.3:travel_time 47

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-12 instructions):
 
   273 jump *label82 equal *tmp78 0
   274 label *label84
   275 label *label79
-    * set :acquireUnit:currentUnit .UNIT_S1
   276 jump *label92 equal .UNIT_S1 null
   277 ubind .UNIT_S1
   278 sensor *tmp84 @unit @dead
 
   311 jump *label90 always
   312 label *label90
   313 set .UNIT_S1 *tmp80
-    * set :acquireUnit.1:currentUnit .UNIT_P1
   314 jump *label106 equal .UNIT_P1 null
   315 ubind .UNIT_P1
   316 sensor *tmp102 @unit @dead
 
   356 jump *label118 notEqual *tmp118 @silicon
   357 label *label120
   358 set :swap:t *tmp80
-    * set :swap:a *tmp98
-    * set :swap:b .UNIT_S1
+  359 set :swap:b *tmp80
   360 label *label122
-    * set .UNIT_S1 .UNIT_P1
-    * set .UNIT_P1 :swap:t
+  361 set .UNIT_S1 *tmp98
+  362 set .UNIT_P1 *tmp80
   363 label *label118
   364 label *label119
   365 sensor .UNIT_CAPACITY .UNIT_S1 @itemCapacity
 
   378 jump *label125 always
   379 label *label125
   380 jump *label126 equal *tmp126 false
-    * set :acquireUnit.2:currentUnit .UNIT_S2
   381 jump *label130 equal .UNIT_S2 null
   382 ubind .UNIT_S2
   383 sensor *tmp139 @unit @dead
 
   416 jump *label128 always
   417 label *label128
   418 set .UNIT_S2 *tmp135
-    * set :acquireUnit.3:currentUnit .UNIT_P2
   419 jump *label144 equal .UNIT_P2 null
   420 ubind .UNIT_P2
   421 sensor *tmp157 @unit @dead
 
   461 jump *label156 equal *tmp173 @phase-fabric
   462 label *label158
   463 set :swap.1:t .UNIT_S1
-    * set :swap.1:a *tmp153
-    * set :swap.1:b .UNIT_S1
   464 label *label160
-    * set .UNIT_S1 .UNIT_P2
+  465 set .UNIT_S1 *tmp153
   466 set .UNIT_P2 :swap.1:t
   467 label *label156
   468 label *label157
 
   473 jump *label161 notEqual *tmp178 @silicon
   474 label *label163
   475 set :swap.2:t *tmp135
-    * set :swap.2:a .UNIT_P2
-    * set :swap.2:b .UNIT_S2
+  476 set :swap.2:b *tmp135
   477 label *label165
   478 set .UNIT_S2 .UNIT_P2
-    * set .UNIT_P2 :swap.2:t
+  479 set .UNIT_P2 *tmp135
   480 label *label161
   481 label *label162
   482 set .GROUP1 "unit  1"
 
   545 print "\n"
   546 label *label179
   547 label *label177
-    * set :processUnit:unit .UNIT_S1
   548 jump *label182 equal .UNIT_S1 null
   549 ubind .UNIT_S1
   550 sensor *tmp199 @unit @dead
 
   688 set .UNIT_S1 :processUnit:unit
   689 jump *label220 equal *tmp126 false
   690 op equal *tmp259 .SUPPLY_S_FIRST false
-    * set :processUnit.1:unit .UNIT_S2
   691 jump *label224 equal .UNIT_S2 null
   692 ubind .UNIT_S2
   693 sensor *tmp263 @unit @dead
 
   857 print "\n"
   858 label *label266
   859 label *label264
-    * set :processUnit.2:unit .UNIT_P1
   860 jump *label269 equal .UNIT_P1 null
   861 ubind .UNIT_P1
   862 sensor *tmp333 @unit @dead
 
  1000 set .UNIT_P1 :processUnit.2:unit
  1001 jump *label307 equal *tmp126 false
  1002 op equal *tmp393 .SUPPLY_P_FIRST false
-    * set :processUnit.3:unit .UNIT_P2
  1003 jump *label311 equal .UNIT_P2 null
  1004 ubind .UNIT_P2
  1005 sensor *tmp397 @unit @dead

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 4 (-4 instructions):
 
   355 sensor *tmp118 *tmp98 @firstItem
   356 jump *label118 notEqual *tmp118 @silicon
   357 label *label120
-    * set :swap:t *tmp80
-    * set :swap:b *tmp80
   358 label *label122
   359 set .UNIT_S1 *tmp98
   360 set .UNIT_P1 *tmp80
 
   470 sensor *tmp178 .UNIT_P2 @firstItem
   471 jump *label161 notEqual *tmp178 @silicon
   472 label *label163
-    * set :swap.2:t *tmp135
-    * set :swap.2:b *tmp135
   473 label *label165
   474 set .UNIT_S2 .UNIT_P2
   475 set .UNIT_P2 *tmp135

Modifications by Iterated phase, Loop Rotation, pass 1, iteration 1:
 
     4 set .DOME dome1
     5 label *label3
     6 jump *label5 notEqual .DOME null
+    7 label *label382
     8 print "[gold]Waiting for an overdrive dome to be connected..."
     9 printflush message1
    10 set .DOME dome1
    11 label *label4
-    * jump *label3 always
+   12 jump *label382 equal .DOME null
    13 label *label5
    14 print "[gold]Locating core..."
    15 printflush message1
 
   106 ubind UNIT_TYPE
   107 label *label35
   108 jump *label36 equal @unit :areUnitsAvailable:firstUnit
-    * label *label43
   109 sensor *tmp31 :areUnitsAvailable:firstUnit @dead
   110 jump *label34 equal *tmp31 0
   111 label *label36
 
   194 ubind :chooseUnitType:type
   195 label *label66
   196 jump *label67 equal @unit :areUnitsAvailable.1:firstUnit
-    * label *label74
   197 sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
   198 jump *label65 equal *tmp61 0
   199 label *label67
 
   267 ubind *tmp9
   268 label *label83
   269 jump *label84 equal @unit :rebindUnits:firstUnit
-    * label *label89
   270 sensor *tmp78 :rebindUnits:firstUnit @dead
   271 jump *label82 equal *tmp78 0
   272 label *label84
 
   296 ubind *tmp9
   297 label *label99
   298 jump *label100 equal @unit :rebindUnit:firstUnit
-    * label *label103
   299 sensor *tmp96 :rebindUnit:firstUnit @dead
   300 jump *label98 equal *tmp96 0
   301 label *label100
 
   333 ubind *tmp9
   334 label *label113
   335 jump *label114 equal @unit :rebindUnit.1:firstUnit
-    * label *label117
   336 sensor *tmp114 :rebindUnit.1:firstUnit @dead
   337 jump *label112 equal *tmp114 0
   338 label *label114
 
   397 ubind *tmp9
   398 label *label137
   399 jump *label138 equal @unit :rebindUnit.2:firstUnit
-    * label *label141
   400 sensor *tmp151 :rebindUnit.2:firstUnit @dead
   401 jump *label136 equal *tmp151 0
   402 label *label138
 
   434 ubind *tmp9
   435 label *label151
   436 jump *label152 equal @unit :rebindUnit.3:firstUnit
-    * label *label155
   437 sensor *tmp169 :rebindUnit.3:firstUnit @dead
   438 jump *label150 equal *tmp169 0
   439 label *label152
 
   560 ubind *tmp9
   561 label *label189
   562 jump *label190 equal @unit :rebindUnit.4:firstUnit
-    * label *label193
   563 sensor *tmp211 :rebindUnit.4:firstUnit @dead
   564 jump *label188 equal *tmp211 0
   565 label *label190
 
   702 ubind *tmp9
   703 label *label231
   704 jump *label232 equal @unit :rebindUnit.5:firstUnit
-    * label *label235
   705 sensor *tmp275 :rebindUnit.5:firstUnit @dead
   706 jump *label230 equal *tmp275 0
   707 label *label232
 
   870 ubind *tmp9
   871 label *label276
   872 jump *label277 equal @unit :rebindUnit.6:firstUnit
-    * label *label280
   873 sensor *tmp345 :rebindUnit.6:firstUnit @dead
   874 jump *label275 equal *tmp345 0
   875 label *label277
 
  1012 ubind *tmp9
  1013 label *label318
  1014 jump *label319 equal @unit :rebindUnit.7:firstUnit
-    * label *label322
  1015 sensor *tmp409 :rebindUnit.7:firstUnit @dead
  1016 jump *label317 equal *tmp409 0
  1017 label *label319
 
  1189 ubind UNIT_TYPE
  1190 label *label364
  1191 jump *label365 equal @unit :areUnitsAvailable.2:firstUnit
-    * label *label372
  1192 sensor *tmp487 :areUnitsAvailable.2:firstUnit @dead
  1193 jump *label363 equal *tmp487 0
  1194 label *label365

Modifications by Iterated phase, Boolean Optimization, pass 1, iteration 1 (-2 instructions):
 
    89 label *label34
    90 sensor *tmp22 @unit @controlled
    91 jump *label39 equal *tmp22 0
-    * label *label40
    92 sensor *tmp24 @unit @controller
    93 jump *label37 notEqual *tmp24 @this
    94 label *label39
 
   176 label *label65
   177 sensor *tmp52 @unit @controlled
   178 jump *label70 equal *tmp52 0
-    * label *label71
   179 sensor *tmp54 @unit @controller
   180 jump *label68 notEqual *tmp54 @this
   181 label *label70
 
   345 set .UNIT_P1 *tmp98
   346 sensor *tmp116 *tmp80 @firstItem
   347 jump *label120 equal *tmp116 @phase-fabric
-    * label *label121
   348 sensor *tmp118 *tmp98 @firstItem
   349 jump *label118 notEqual *tmp118 @silicon
   350 label *label120
 
   445 set .UNIT_P2 *tmp153
   446 sensor *tmp171 .UNIT_S1 @firstItem
   447 jump *label156 notEqual *tmp171 @phase-fabric
-    * label *label159
   448 sensor *tmp173 *tmp153 @firstItem
   449 jump *label156 equal *tmp173 @phase-fabric
-    * label *label158
   450 set :swap.1:t .UNIT_S1
   451 label *label160
   452 set .UNIT_S1 *tmp153
 
   455 label *label157
   456 sensor *tmp176 *tmp135 @firstItem
   457 jump *label163 equal *tmp176 @phase-fabric
-    * label *label164
   458 sensor *tmp178 .UNIT_P2 @firstItem
   459 jump *label161 notEqual *tmp178 @silicon
   460 label *label163
 
   475 set .UNIT_P2 null
   476 set .GROUP1 "unit"
   477 label *label127
-    * jump *label168 equal *tmp126 false
-    * label *label169
-    * sensor *tmp182 .UNIT_S1 @totalItems
-    * sensor *tmp183 .UNIT_S2 @totalItems
-    * jump *label166 greaterThanEq *tmp182 *tmp183
+  478 jump *label166 notEqual *tmp126 false
   479 label *label168
   480 set *tmp185 true
   481 jump *label167 always
   482 label *label166
-    * set *tmp185 false
+  483 sensor *tmp182 .UNIT_S1 @totalItems
+  484 sensor *tmp183 .UNIT_S2 @totalItems
+  485 op lessThan *tmp185 *tmp182 *tmp183
   486 label *label167
   487 set .SUPPLY_S_FIRST *tmp185
-    * jump *label172 equal *tmp126 false
-    * label *label173
-    * sensor *tmp187 .UNIT_P1 @totalItems
-    * sensor *tmp188 .UNIT_P2 @totalItems
-    * jump *label170 greaterThanEq *tmp187 *tmp188
+  488 jump *label170 notEqual *tmp126 false
   489 label *label172
   490 set *tmp190 true
   491 jump *label171 always
   492 label *label170
-    * set *tmp190 false
+  493 sensor *tmp187 .UNIT_P1 @totalItems
+  494 sensor *tmp188 .UNIT_P2 @totalItems
+  495 op lessThan *tmp190 *tmp187 *tmp188
   496 label *label171
   497 set .SUPPLY_P_FIRST *tmp190
   498 op add :unitCheck @time 5000
 
   560 sensor :processUnit:state @unit @flag
   561 set :processUnit:distance -1
   562 jump *label196 lessThan :processUnit:state 2
-    * label *label197
   563 jump *label194 lessThanEq :processUnit:state 3
   564 label *label196
   565 sensor *tmp217 @unit @firstItem
 
   701 sensor :processUnit.1:state @unit @flag
   702 set :processUnit.1:distance -1
   703 jump *label238 lessThan :processUnit.1:state 2
-    * label *label239
   704 jump *label236 lessThanEq :processUnit.1:state 3
   705 label *label238
   706 sensor *tmp281 @unit @firstItem
 
   868 sensor :processUnit.2:state @unit @flag
   869 set :processUnit.2:distance -1
   870 jump *label283 lessThan :processUnit.2:state 2
-    * label *label284
   871 jump *label281 lessThanEq :processUnit.2:state 3
   872 label *label283
   873 sensor *tmp351 @unit @firstItem
 
  1009 sensor :processUnit.3:state @unit @flag
  1010 set :processUnit.3:distance -1
  1011 jump *label325 lessThan :processUnit.3:state 2
-    * label *label326
  1012 jump *label323 lessThanEq :processUnit.3:state 3
  1013 label *label325
  1014 sensor *tmp415 @unit @firstItem
 
  1133 print "ms"
  1134 printflush message1
  1135 jump *label351 equal *tmp9 UNIT_TYPE
-    * label *label354
  1136 jump *label351 lessThanEq :unitCheck @time
-    * label *label353
  1137 set :areUnitsAvailable.2:free 0
  1138 set :areUnitsAvailable.2:occupied 0
  1139 set :areUnitsAvailable.2:needed 0
 
  1156 label *label363
  1157 sensor *tmp478 @unit @controlled
  1158 jump *label368 equal *tmp478 0
-    * label *label369
  1159 sensor *tmp480 @unit @controller
  1160 jump *label366 notEqual *tmp480 @this
  1161 label *label368
 
  1212 ubind :locateCore:type
  1213 sensor *tmp494 @unit @controlled
  1214 jump *label380 equal *tmp494 0
-    * label *label381
  1215 sensor *tmp496 @unit @controller
  1216 jump *label378 notEqual *tmp496 @this
  1217 label *label380

Modifications by Iterated phase, If Expression Optimization, pass 1, iteration 1 (-4 instructions):
 
   476 set .GROUP1 "unit"
   477 label *label127
   478 jump *label166 notEqual *tmp126 false
-    * set *tmp185 true
+  479 set .SUPPLY_S_FIRST true
   480 jump *label167 always
   481 label *label166
   482 sensor *tmp182 .UNIT_S1 @totalItems
   483 sensor *tmp183 .UNIT_S2 @totalItems
-    * op lessThan *tmp185 *tmp182 *tmp183
+  484 op lessThan .SUPPLY_S_FIRST *tmp182 *tmp183
   485 label *label167
-    * set .SUPPLY_S_FIRST *tmp185
   486 jump *label170 notEqual *tmp126 false
-    * set *tmp190 true
+  487 set .SUPPLY_P_FIRST true
   488 jump *label171 always
   489 label *label170
   490 sensor *tmp187 .UNIT_P1 @totalItems
   491 sensor *tmp188 .UNIT_P2 @totalItems
-    * op lessThan *tmp190 *tmp187 *tmp188
+  492 op lessThan .SUPPLY_P_FIRST *tmp187 *tmp188
   493 label *label171
-    * set .SUPPLY_P_FIRST *tmp190
   494 op add :unitCheck @time 5000
   495 label *label174
   496 sensor *tmp192 switch1 @enabled
 
   803 set .UNIT_S2 :processUnit.1:unit
   804 jump *label262 equal .SUPPLY_S_FIRST false
   805 sensor *tmp323 :processUnit:unit @totalItems
-    * op greaterThan *tmp322 *tmp323 0
+  806 op greaterThan .SUPPLY_S_FIRST *tmp323 0
   807 jump *label263 always
   808 label *label262
   809 sensor *tmp325 :processUnit.1:unit @totalItems
-    * op equal *tmp322 *tmp325 0
+  810 op equal .SUPPLY_S_FIRST *tmp325 0
   811 label *label263
-    * set .SUPPLY_S_FIRST *tmp322
   812 label *label220
   813 label *label221
   814 print "\n[green]Phase fabric[] status:\n"
 
  1110 set .UNIT_P2 :processUnit.3:unit
  1111 jump *label349 equal .SUPPLY_P_FIRST false
  1112 sensor *tmp457 :processUnit.2:unit @totalItems
-    * op greaterThan *tmp456 *tmp457 0
+ 1113 op greaterThan .SUPPLY_P_FIRST *tmp457 0
  1114 jump *label350 always
  1115 label *label349
  1116 sensor *tmp459 :processUnit.3:unit @totalItems
-    * op equal *tmp456 *tmp459 0
+ 1117 op equal .SUPPLY_P_FIRST *tmp459 0
  1118 label *label350
-    * set .SUPPLY_P_FIRST *tmp456
  1119 label *label307
  1120 label *label308
  1121 op sub *tmp461 @time :start

Modifications by Unroll iteration loop at line 169:9 (+7 instructions):
 
    15 printflush message1
    16 set .CORE null
    17 label *label6
-    * set :locateDomeAndCore:type @flare
-    * setaddr *tmp1 *label12
-    * jump *label9 always
-    * multilabel *label12 (m:marker0)
-    * set :locateDomeAndCore:type @poly
-    * setaddr *tmp1 *label13
-    * jump *label9 always
-    * multilabel *label13 (m:marker0)
-    * set :locateDomeAndCore:type @mega
-    * setaddr *tmp1 *label14
-    * jump *label9 always
-    * multilabel *label14 (m:marker0)
-    * set :locateDomeAndCore:type @mono
-    * setaddr *tmp1 *label15
-    * label *label9
-    * set :locateCore:type :locateDomeAndCore:type
-    * setaddr :locateCore*retaddr *label18 (h:*label18)
-    * call *label0 *invalid :locateCore*retval (m:*label18) (h:*label18)
-    * label *label18
-    * jump *label16 equal :locateCore*retval false
-    * jump *label2 always
-    * label *label16
-    * label *label17
-    * label *label10
-    * multijump *tmp1 0 0 (m:marker0)
-    * multilabel *label15 (m:marker0)
-    * label *label11
+   18 set :locateDomeAndCore:type @flare
+   19 label *label385
+   20 set :locateCore:type :locateDomeAndCore:type
+   21 setaddr :locateCore*retaddr *label386 (h:*label386)
+   22 call *label0 *invalid :locateCore*retval (m:*label386) (h:*label386)
+   23 label *label386
+   24 jump *label387 equal :locateCore*retval false
+   25 jump *label2 always
+   26 label *label387
+   27 label *label388
+   28 label *label389
+   29 set :locateDomeAndCore:type @poly
+   30 label *label392
+   31 set :locateCore:type :locateDomeAndCore:type
+   32 setaddr :locateCore*retaddr *label393 (h:*label393)
+   33 call *label0 *invalid :locateCore*retval (m:*label393) (h:*label393)
+   34 label *label393
+   35 jump *label394 equal :locateCore*retval false
+   36 jump *label2 always
+   37 label *label394
+   38 label *label395
+   39 label *label396
+   40 set :locateDomeAndCore:type @mega
+   41 label *label399
+   42 set :locateCore:type :locateDomeAndCore:type
+   43 setaddr :locateCore*retaddr *label400 (h:*label400)
+   44 call *label0 *invalid :locateCore*retval (m:*label400) (h:*label400)
+   45 label *label400
+   46 jump *label401 equal :locateCore*retval false
+   47 jump *label2 always
+   48 label *label401
+   49 label *label402
+   50 label *label403
+   51 set :locateDomeAndCore:type @mono
+   52 label *label406
+   53 set :locateCore:type :locateDomeAndCore:type
+   54 setaddr :locateCore*retaddr *label407 (h:*label407)
+   55 call *label0 *invalid :locateCore*retval (m:*label407) (h:*label407)
+   56 label *label407
+   57 jump *label408 equal :locateCore*retval false
+   58 jump *label2 always
+   59 label *label408
+   60 label *label409
+   61 label *label410
+   62 label *label11
    63 label *label7
    64 jump *label6 always
    65 label *label8

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
     3 remark "Do not modify anything below this line."
     4 set .DOME dome1
     5 label *label3
-    * jump *label5 notEqual .DOME null
+    6 jump *label5 notEqual dome1 null
     7 label *label382
     8 print "[gold]Waiting for an overdrive dome to be connected..."
     9 printflush message1
    10 set .DOME dome1
    11 label *label4
-    * jump *label382 equal .DOME null
+   12 jump *label382 equal dome1 null
    13 label *label5
    14 print "[gold]Locating core..."
    15 printflush message1
 
    17 label *label6
    18 set :locateDomeAndCore:type @flare
    19 label *label385
-    * set :locateCore:type :locateDomeAndCore:type
+   20 set :locateCore:type @flare
    21 setaddr :locateCore*retaddr *label386 (h:*label386)
    22 call *label0 *invalid :locateCore*retval (m:*label386) (h:*label386)
    23 label *label386
 
    28 label *label389
    29 set :locateDomeAndCore:type @poly
    30 label *label392
-    * set :locateCore:type :locateDomeAndCore:type
+   31 set :locateCore:type @poly
    32 setaddr :locateCore*retaddr *label393 (h:*label393)
    33 call *label0 *invalid :locateCore*retval (m:*label393) (h:*label393)
    34 label *label393
 
    39 label *label396
    40 set :locateDomeAndCore:type @mega
    41 label *label399
-    * set :locateCore:type :locateDomeAndCore:type
+   42 set :locateCore:type @mega
    43 setaddr :locateCore*retaddr *label400 (h:*label400)
    44 call *label0 *invalid :locateCore*retval (m:*label400) (h:*label400)
    45 label *label400
 
    50 label *label403
    51 set :locateDomeAndCore:type @mono
    52 label *label406
-    * set :locateCore:type :locateDomeAndCore:type
+   53 set :locateCore:type @mono
    54 setaddr :locateCore*retaddr *label407 (h:*label407)
    55 call *label0 *invalid :locateCore*retval (m:*label407) (h:*label407)
    56 label *label407

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-4 instructions):
 
    15 printflush message1
    16 set .CORE null
    17 label *label6
-    * set :locateDomeAndCore:type @flare
    18 label *label385
    19 set :locateCore:type @flare
    20 setaddr :locateCore*retaddr *label386 (h:*label386)
 
    25 label *label387
    26 label *label388
    27 label *label389
-    * set :locateDomeAndCore:type @poly
    28 label *label392
    29 set :locateCore:type @poly
    30 setaddr :locateCore*retaddr *label393 (h:*label393)
 
    35 label *label394
    36 label *label395
    37 label *label396
-    * set :locateDomeAndCore:type @mega
    38 label *label399
    39 set :locateCore:type @mega
    40 setaddr :locateCore*retaddr *label400 (h:*label400)
 
    45 label *label401
    46 label *label402
    47 label *label403
-    * set :locateDomeAndCore:type @mono
    48 label *label406
    49 set :locateCore:type @mono
    50 setaddr :locateCore*retaddr *label407 (h:*label407)

Modifications by Full loop rotation at line 54:5 (+1 instructions):
 
    67 label *label19
    68 sensor *tmp7 switch1 @enabled
    69 jump *label21 notEqual *tmp7 false
+   70 label *label414
    71 print "[coral]Activate switch to begin supplying overdrive dome..."
    72 print "\n"
    73 printflush message1
    74 label *label20
-    * jump *label19 always
+   75 sensor *tmp7 switch1 @enabled
+   76 jump *label414 equal *tmp7 false
    77 label *label21
    78 label *label23
    79 printflush null

Modifications by Full loop rotation at line 119:5 (+1 instructions):
 
   511 label *label174
   512 sensor *tmp192 switch1 @enabled
   513 jump *label176 equal *tmp192 false
+  514 label *label415
   515 set :start @time
   516 print " === [gold]Supplying Overdrive Dome[] === "
   517 print "\n"
 
  1215 label *label351
  1216 label *label352
  1217 label *label175
-    * jump *label174 always
+ 1218 sensor *tmp192 switch1 @enabled
+ 1219 jump *label415 notEqual *tmp192 false
  1220 label *label176
  1221 label *label1
  1222 end

Modifications by Unroll iteration loop at line 201:9 (+151 instructions):
 
   150 jump *label22 always
   151 label *label26
   152 label *label27
-    * set :chooseUnitType:type @flare
-    * setaddr *tmp37 *label51
-    * jump *label48 always
-    * multilabel *label51 (m:marker1)
-    * set :chooseUnitType:type @poly
-    * setaddr *tmp37 *label52
-    * jump *label48 always
-    * multilabel *label52 (m:marker1)
-    * set :chooseUnitType:type @mega
-    * setaddr *tmp37 *label53
-    * jump *label48 always
-    * multilabel *label53 (m:marker1)
-    * set :chooseUnitType:type @mono
-    * setaddr *tmp37 *label54
-    * label *label48
-    * jump *label55 equal :chooseUnitType:type UNIT_TYPE
-    * set :areUnitsAvailable.1:free 0
-    * set :areUnitsAvailable.1:occupied 0
-    * set :areUnitsAvailable.1:needed 0
-    * ubind :chooseUnitType:type
-    * set :areUnitsAvailable.1:firstUnit @unit
-    * jump *label60 equal :areUnitsAvailable.1:firstUnit null
-    * set :needsFourUnits.1:unit @unit
-    * op sub *tmp44 .DOME_X .CORE_X
-    * op sub *tmp45 .DOME_Y .CORE_Y
-    * op len *tmp46 *tmp44 *tmp45
-    * op mul *tmp47 2 *tmp46
-    * sensor *tmp48 :needsFourUnits.1:unit @speed
-    * op div :needsFourUnits.1:travel_time *tmp47 *tmp48
-    * op greaterThanEq *tmp43 :needsFourUnits.1:travel_time 47
-    * jump *label64 always
-    * label *label64
-    * jump *label62 equal *tmp43 false
-    * set *tmp51 4
-    * jump *label63 always
-    * label *label62
-    * set *tmp51 2
-    * label *label63
-    * set :areUnitsAvailable.1:needed *tmp51
-    * label *label65
-    * sensor *tmp52 @unit @controlled
-    * jump *label70 equal *tmp52 0
-    * sensor *tmp54 @unit @controller
-    * jump *label68 notEqual *tmp54 @this
-    * label *label70
-    * op add :areUnitsAvailable.1:free :areUnitsAvailable.1:free 1
-    * jump *label72 lessThan :areUnitsAvailable.1:free *tmp51
-    * set *tmp40 true
-    * jump *label59 always
-    * label *label72
-    * label *label73
-    * jump *label69 always
-    * label *label68
-    * op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
-    * label *label69
-    * ubind :chooseUnitType:type
-    * label *label66
-    * jump *label67 equal @unit :areUnitsAvailable.1:firstUnit
-    * sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
-    * jump *label65 equal *tmp61 0
-    * label *label67
-    * label *label60
-    * label *label61
-    * jump *label75 equal true false
-    * print :chooseUnitType:type
-    * print ":"
-    * print " occupied: "
-    * print :areUnitsAvailable.1:occupied
-    * print ","
-    * print " free: "
-    * print :areUnitsAvailable.1:free
-    * jump *label77 lessThanEq :areUnitsAvailable.1:needed 0
-    * print ", needed: "
-    * print :areUnitsAvailable.1:needed
-    * label *label77
-    * label *label78
-    * print "\n"
-    * label *label75
-    * label *label76
-    * set *tmp40 false
-    * jump *label59 always
-    * label *label59
-    * jump *label57 equal *tmp40 false
-    * printflush null
-    * set *tmp9 :chooseUnitType:type
-    * jump *label22 always
-    * label *label57
-    * label *label58
-    * label *label55
-    * label *label56
-    * label *label49
-    * multijump *tmp37 0 0 (m:marker1)
-    * multilabel *label54 (m:marker1)
-    * label *label50
+  153 set :chooseUnitType:type @flare
+  154 label *label416
+  155 jump *label437 equal :chooseUnitType:type UNIT_TYPE
+  156 set :areUnitsAvailable.1:free 0
+  157 set :areUnitsAvailable.1:occupied 0
+  158 set :areUnitsAvailable.1:needed 0
+  159 ubind :chooseUnitType:type
+  160 set :areUnitsAvailable.1:firstUnit @unit
+  161 jump *label428 equal :areUnitsAvailable.1:firstUnit null
+  162 set :needsFourUnits.1:unit @unit
+  163 op sub *tmp44 .DOME_X .CORE_X
+  164 op sub *tmp45 .DOME_Y .CORE_Y
+  165 op len *tmp46 *tmp44 *tmp45
+  166 op mul *tmp47 2 *tmp46
+  167 sensor *tmp48 :needsFourUnits.1:unit @speed
+  168 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
+  169 op greaterThanEq *tmp43 :needsFourUnits.1:travel_time 47
+  170 jump *label417 always
+  171 label *label417
+  172 jump *label418 equal *tmp43 false
+  173 set *tmp51 4
+  174 jump *label419 always
+  175 label *label418
+  176 set *tmp51 2
+  177 label *label419
+  178 set :areUnitsAvailable.1:needed *tmp51
+  179 label *label420
+  180 sensor *tmp52 @unit @controlled
+  181 jump *label421 equal *tmp52 0
+  182 sensor *tmp54 @unit @controller
+  183 jump *label424 notEqual *tmp54 @this
+  184 label *label421
+  185 op add :areUnitsAvailable.1:free :areUnitsAvailable.1:free 1
+  186 jump *label422 lessThan :areUnitsAvailable.1:free *tmp51
+  187 set *tmp40 true
+  188 jump *label434 always
+  189 label *label422
+  190 label *label423
+  191 jump *label425 always
+  192 label *label424
+  193 op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
+  194 label *label425
+  195 ubind :chooseUnitType:type
+  196 label *label426
+  197 jump *label427 equal @unit :areUnitsAvailable.1:firstUnit
+  198 sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
+  199 jump *label420 equal *tmp61 0
+  200 label *label427
+  201 label *label428
+  202 label *label429
+  203 jump *label432 equal true false
+  204 print :chooseUnitType:type
+  205 print ":"
+  206 print " occupied: "
+  207 print :areUnitsAvailable.1:occupied
+  208 print ","
+  209 print " free: "
+  210 print :areUnitsAvailable.1:free
+  211 jump *label430 lessThanEq :areUnitsAvailable.1:needed 0
+  212 print ", needed: "
+  213 print :areUnitsAvailable.1:needed
+  214 label *label430
+  215 label *label431
+  216 print "\n"
+  217 label *label432
+  218 label *label433
+  219 set *tmp40 false
+  220 jump *label434 always
+  221 label *label434
+  222 jump *label435 equal *tmp40 false
+  223 printflush null
+  224 set *tmp9 :chooseUnitType:type
+  225 jump *label22 always
+  226 label *label435
+  227 label *label436
+  228 label *label437
+  229 label *label438
+  230 label *label439
+  231 set :chooseUnitType:type @poly
+  232 label *label442
+  233 jump *label463 equal :chooseUnitType:type UNIT_TYPE
+  234 set :areUnitsAvailable.1:free 0
+  235 set :areUnitsAvailable.1:occupied 0
+  236 set :areUnitsAvailable.1:needed 0
+  237 ubind :chooseUnitType:type
+  238 set :areUnitsAvailable.1:firstUnit @unit
+  239 jump *label454 equal :areUnitsAvailable.1:firstUnit null
+  240 set :needsFourUnits.1:unit @unit
+  241 op sub *tmp44 .DOME_X .CORE_X
+  242 op sub *tmp45 .DOME_Y .CORE_Y
+  243 op len *tmp46 *tmp44 *tmp45
+  244 op mul *tmp47 2 *tmp46
+  245 sensor *tmp48 :needsFourUnits.1:unit @speed
+  246 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
+  247 op greaterThanEq *tmp43 :needsFourUnits.1:travel_time 47
+  248 jump *label443 always
+  249 label *label443
+  250 jump *label444 equal *tmp43 false
+  251 set *tmp51 4
+  252 jump *label445 always
+  253 label *label444
+  254 set *tmp51 2
+  255 label *label445
+  256 set :areUnitsAvailable.1:needed *tmp51
+  257 label *label446
+  258 sensor *tmp52 @unit @controlled
+  259 jump *label447 equal *tmp52 0
+  260 sensor *tmp54 @unit @controller
+  261 jump *label450 notEqual *tmp54 @this
+  262 label *label447
+  263 op add :areUnitsAvailable.1:free :areUnitsAvailable.1:free 1
+  264 jump *label448 lessThan :areUnitsAvailable.1:free *tmp51
+  265 set *tmp40 true
+  266 jump *label460 always
+  267 label *label448
+  268 label *label449
+  269 jump *label451 always
+  270 label *label450
+  271 op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
+  272 label *label451
+  273 ubind :chooseUnitType:type
+  274 label *label452
+  275 jump *label453 equal @unit :areUnitsAvailable.1:firstUnit
+  276 sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
+  277 jump *label446 equal *tmp61 0
+  278 label *label453
+  279 label *label454
+  280 label *label455
+  281 jump *label458 equal true false
+  282 print :chooseUnitType:type
+  283 print ":"
+  284 print " occupied: "
+  285 print :areUnitsAvailable.1:occupied
+  286 print ","
+  287 print " free: "
+  288 print :areUnitsAvailable.1:free
+  289 jump *label456 lessThanEq :areUnitsAvailable.1:needed 0
+  290 print ", needed: "
+  291 print :areUnitsAvailable.1:needed
+  292 label *label456
+  293 label *label457
+  294 print "\n"
+  295 label *label458
+  296 label *label459
+  297 set *tmp40 false
+  298 jump *label460 always
+  299 label *label460
+  300 jump *label461 equal *tmp40 false
+  301 printflush null
+  302 set *tmp9 :chooseUnitType:type
+  303 jump *label22 always
+  304 label *label461
+  305 label *label462
+  306 label *label463
+  307 label *label464
+  308 label *label465
+  309 set :chooseUnitType:type @mega
+  310 label *label468
+  311 jump *label489 equal :chooseUnitType:type UNIT_TYPE
+  312 set :areUnitsAvailable.1:free 0
+  313 set :areUnitsAvailable.1:occupied 0
+  314 set :areUnitsAvailable.1:needed 0
+  315 ubind :chooseUnitType:type
+  316 set :areUnitsAvailable.1:firstUnit @unit
+  317 jump *label480 equal :areUnitsAvailable.1:firstUnit null
+  318 set :needsFourUnits.1:unit @unit
+  319 op sub *tmp44 .DOME_X .CORE_X
+  320 op sub *tmp45 .DOME_Y .CORE_Y
+  321 op len *tmp46 *tmp44 *tmp45
+  322 op mul *tmp47 2 *tmp46
+  323 sensor *tmp48 :needsFourUnits.1:unit @speed
+  324 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
+  325 op greaterThanEq *tmp43 :needsFourUnits.1:travel_time 47
+  326 jump *label469 always
+  327 label *label469
+  328 jump *label470 equal *tmp43 false
+  329 set *tmp51 4
+  330 jump *label471 always
+  331 label *label470
+  332 set *tmp51 2
+  333 label *label471
+  334 set :areUnitsAvailable.1:needed *tmp51
+  335 label *label472
+  336 sensor *tmp52 @unit @controlled
+  337 jump *label473 equal *tmp52 0
+  338 sensor *tmp54 @unit @controller
+  339 jump *label476 notEqual *tmp54 @this
+  340 label *label473
+  341 op add :areUnitsAvailable.1:free :areUnitsAvailable.1:free 1
+  342 jump *label474 lessThan :areUnitsAvailable.1:free *tmp51
+  343 set *tmp40 true
+  344 jump *label486 always
+  345 label *label474
+  346 label *label475
+  347 jump *label477 always
+  348 label *label476
+  349 op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
+  350 label *label477
+  351 ubind :chooseUnitType:type
+  352 label *label478
+  353 jump *label479 equal @unit :areUnitsAvailable.1:firstUnit
+  354 sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
+  355 jump *label472 equal *tmp61 0
+  356 label *label479
+  357 label *label480
+  358 label *label481
+  359 jump *label484 equal true false
+  360 print :chooseUnitType:type
+  361 print ":"
+  362 print " occupied: "
+  363 print :areUnitsAvailable.1:occupied
+  364 print ","
+  365 print " free: "
+  366 print :areUnitsAvailable.1:free
+  367 jump *label482 lessThanEq :areUnitsAvailable.1:needed 0
+  368 print ", needed: "
+  369 print :areUnitsAvailable.1:needed
+  370 label *label482
+  371 label *label483
+  372 print "\n"
+  373 label *label484
+  374 label *label485
+  375 set *tmp40 false
+  376 jump *label486 always
+  377 label *label486
+  378 jump *label487 equal *tmp40 false
+  379 printflush null
+  380 set *tmp9 :chooseUnitType:type
+  381 jump *label22 always
+  382 label *label487
+  383 label *label488
+  384 label *label489
+  385 label *label490
+  386 label *label491
+  387 set :chooseUnitType:type @mono
+  388 label *label494
+  389 jump *label515 equal :chooseUnitType:type UNIT_TYPE
+  390 set :areUnitsAvailable.1:free 0
+  391 set :areUnitsAvailable.1:occupied 0
+  392 set :areUnitsAvailable.1:needed 0
+  393 ubind :chooseUnitType:type
+  394 set :areUnitsAvailable.1:firstUnit @unit
+  395 jump *label506 equal :areUnitsAvailable.1:firstUnit null
+  396 set :needsFourUnits.1:unit @unit
+  397 op sub *tmp44 .DOME_X .CORE_X
+  398 op sub *tmp45 .DOME_Y .CORE_Y
+  399 op len *tmp46 *tmp44 *tmp45
+  400 op mul *tmp47 2 *tmp46
+  401 sensor *tmp48 :needsFourUnits.1:unit @speed
+  402 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
+  403 op greaterThanEq *tmp43 :needsFourUnits.1:travel_time 47
+  404 jump *label495 always
+  405 label *label495
+  406 jump *label496 equal *tmp43 false
+  407 set *tmp51 4
+  408 jump *label497 always
+  409 label *label496
+  410 set *tmp51 2
+  411 label *label497
+  412 set :areUnitsAvailable.1:needed *tmp51
+  413 label *label498
+  414 sensor *tmp52 @unit @controlled
+  415 jump *label499 equal *tmp52 0
+  416 sensor *tmp54 @unit @controller
+  417 jump *label502 notEqual *tmp54 @this
+  418 label *label499
+  419 op add :areUnitsAvailable.1:free :areUnitsAvailable.1:free 1
+  420 jump *label500 lessThan :areUnitsAvailable.1:free *tmp51
+  421 set *tmp40 true
+  422 jump *label512 always
+  423 label *label500
+  424 label *label501
+  425 jump *label503 always
+  426 label *label502
+  427 op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
+  428 label *label503
+  429 ubind :chooseUnitType:type
+  430 label *label504
+  431 jump *label505 equal @unit :areUnitsAvailable.1:firstUnit
+  432 sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
+  433 jump *label498 equal *tmp61 0
+  434 label *label505
+  435 label *label506
+  436 label *label507
+  437 jump *label510 equal true false
+  438 print :chooseUnitType:type
+  439 print ":"
+  440 print " occupied: "
+  441 print :areUnitsAvailable.1:occupied
+  442 print ","
+  443 print " free: "
+  444 print :areUnitsAvailable.1:free
+  445 jump *label508 lessThanEq :areUnitsAvailable.1:needed 0
+  446 print ", needed: "
+  447 print :areUnitsAvailable.1:needed
+  448 label *label508
+  449 label *label509
+  450 print "\n"
+  451 label *label510
+  452 label *label511
+  453 set *tmp40 false
+  454 jump *label512 always
+  455 label *label512
+  456 jump *label513 equal *tmp40 false
+  457 printflush null
+  458 set *tmp9 :chooseUnitType:type
+  459 jump *label22 always
+  460 label *label513
+  461 label *label514
+  462 label *label515
+  463 label *label516
+  464 label *label517
+  465 label *label50
   466 printflush message1
   467 label *label24
   468 jump *label23 always

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   152 label *label27
   153 set :chooseUnitType:type @flare
   154 label *label416
-    * jump *label437 equal :chooseUnitType:type UNIT_TYPE
+  155 jump *label437 equal @flare UNIT_TYPE
   156 set :areUnitsAvailable.1:free 0
   157 set :areUnitsAvailable.1:occupied 0
   158 set :areUnitsAvailable.1:needed 0
-    * ubind :chooseUnitType:type
+  159 ubind @flare
   160 set :areUnitsAvailable.1:firstUnit @unit
   161 jump *label428 equal :areUnitsAvailable.1:firstUnit null
   162 set :needsFourUnits.1:unit @unit
 
   192 label *label424
   193 op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
   194 label *label425
-    * ubind :chooseUnitType:type
+  195 ubind @flare
   196 label *label426
   197 jump *label427 equal @unit :areUnitsAvailable.1:firstUnit
   198 sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
 
   201 label *label428
   202 label *label429
   203 jump *label432 equal true false
-    * print :chooseUnitType:type
+  204 print @flare
   205 print ":"
   206 print " occupied: "
   207 print :areUnitsAvailable.1:occupied
 
   221 label *label434
   222 jump *label435 equal *tmp40 false
   223 printflush null
-    * set *tmp9 :chooseUnitType:type
+  224 set *tmp9 @flare
   225 jump *label22 always
   226 label *label435
   227 label *label436
 
   230 label *label439
   231 set :chooseUnitType:type @poly
   232 label *label442
-    * jump *label463 equal :chooseUnitType:type UNIT_TYPE
+  233 jump *label463 equal @poly UNIT_TYPE
   234 set :areUnitsAvailable.1:free 0
   235 set :areUnitsAvailable.1:occupied 0
   236 set :areUnitsAvailable.1:needed 0
-    * ubind :chooseUnitType:type
+  237 ubind @poly
   238 set :areUnitsAvailable.1:firstUnit @unit
   239 jump *label454 equal :areUnitsAvailable.1:firstUnit null
   240 set :needsFourUnits.1:unit @unit
 
   270 label *label450
   271 op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
   272 label *label451
-    * ubind :chooseUnitType:type
+  273 ubind @poly
   274 label *label452
   275 jump *label453 equal @unit :areUnitsAvailable.1:firstUnit
   276 sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
 
   279 label *label454
   280 label *label455
   281 jump *label458 equal true false
-    * print :chooseUnitType:type
+  282 print @poly
   283 print ":"
   284 print " occupied: "
   285 print :areUnitsAvailable.1:occupied
 
   299 label *label460
   300 jump *label461 equal *tmp40 false
   301 printflush null
-    * set *tmp9 :chooseUnitType:type
+  302 set *tmp9 @poly
   303 jump *label22 always
   304 label *label461
   305 label *label462
 
   308 label *label465
   309 set :chooseUnitType:type @mega
   310 label *label468
-    * jump *label489 equal :chooseUnitType:type UNIT_TYPE
+  311 jump *label489 equal @mega UNIT_TYPE
   312 set :areUnitsAvailable.1:free 0
   313 set :areUnitsAvailable.1:occupied 0
   314 set :areUnitsAvailable.1:needed 0
-    * ubind :chooseUnitType:type
+  315 ubind @mega
   316 set :areUnitsAvailable.1:firstUnit @unit
   317 jump *label480 equal :areUnitsAvailable.1:firstUnit null
   318 set :needsFourUnits.1:unit @unit
 
   348 label *label476
   349 op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
   350 label *label477
-    * ubind :chooseUnitType:type
+  351 ubind @mega
   352 label *label478
   353 jump *label479 equal @unit :areUnitsAvailable.1:firstUnit
   354 sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
 
   357 label *label480
   358 label *label481
   359 jump *label484 equal true false
-    * print :chooseUnitType:type
+  360 print @mega
   361 print ":"
   362 print " occupied: "
   363 print :areUnitsAvailable.1:occupied
 
   377 label *label486
   378 jump *label487 equal *tmp40 false
   379 printflush null
-    * set *tmp9 :chooseUnitType:type
+  380 set *tmp9 @mega
   381 jump *label22 always
   382 label *label487
   383 label *label488
 
   386 label *label491
   387 set :chooseUnitType:type @mono
   388 label *label494
-    * jump *label515 equal :chooseUnitType:type UNIT_TYPE
+  389 jump *label515 equal @mono UNIT_TYPE
   390 set :areUnitsAvailable.1:free 0
   391 set :areUnitsAvailable.1:occupied 0
   392 set :areUnitsAvailable.1:needed 0
-    * ubind :chooseUnitType:type
+  393 ubind @mono
   394 set :areUnitsAvailable.1:firstUnit @unit
   395 jump *label506 equal :areUnitsAvailable.1:firstUnit null
   396 set :needsFourUnits.1:unit @unit
 
   426 label *label502
   427 op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
   428 label *label503
-    * ubind :chooseUnitType:type
+  429 ubind @mono
   430 label *label504
   431 jump *label505 equal @unit :areUnitsAvailable.1:firstUnit
   432 sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
 
   435 label *label506
   436 label *label507
   437 jump *label510 equal true false
-    * print :chooseUnitType:type
+  438 print @mono
   439 print ":"
   440 print " occupied: "
   441 print :areUnitsAvailable.1:occupied
 
   455 label *label512
   456 jump *label513 equal *tmp40 false
   457 printflush null
-    * set *tmp9 :chooseUnitType:type
+  458 set *tmp9 @mono
   459 jump *label22 always
   460 label *label513
   461 label *label514

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-4 instructions):
 
   150 jump *label22 always
   151 label *label26
   152 label *label27
-    * set :chooseUnitType:type @flare
   153 label *label416
   154 jump *label437 equal @flare UNIT_TYPE
   155 set :areUnitsAvailable.1:free 0
 
   227 label *label437
   228 label *label438
   229 label *label439
-    * set :chooseUnitType:type @poly
   230 label *label442
   231 jump *label463 equal @poly UNIT_TYPE
   232 set :areUnitsAvailable.1:free 0
 
   304 label *label463
   305 label *label464
   306 label *label465
-    * set :chooseUnitType:type @mega
   307 label *label468
   308 jump *label489 equal @mega UNIT_TYPE
   309 set :areUnitsAvailable.1:free 0
 
   381 label *label489
   382 label *label490
   383 label *label491
-    * set :chooseUnitType:type @mono
   384 label *label494
   385 jump *label515 equal @mono UNIT_TYPE
   386 set :areUnitsAvailable.1:free 0

Modifications by Iterated phase, Jump Normalization, pass 2, iteration 1 (-5 instructions):
 
   126 label *label36
   127 label *label29
   128 label *label30
-    * jump *label44 equal true false
   129 print UNIT_TYPE
   130 print ":"
   131 print " occupied: "
 
   198 label *label427
   199 label *label428
   200 label *label429
-    * jump *label432 equal true false
   201 print @flare
   202 print ":"
   203 print " occupied: "
 
   274 label *label453
   275 label *label454
   276 label *label455
-    * jump *label458 equal true false
   277 print @poly
   278 print ":"
   279 print " occupied: "
 
   350 label *label479
   351 label *label480
   352 label *label481
-    * jump *label484 equal true false
   353 print @mega
   354 print ":"
   355 print " occupied: "
 
   426 label *label505
   427 label *label506
   428 label *label507
-    * jump *label510 equal true false
   429 print @mono
   430 print ":"
   431 print " occupied: "
 
  1398 label *label365
  1399 label *label358
  1400 label *label359
-    * jump *label373 equal false false
+ 1401 jump *label373 always
  1402 print UNIT_TYPE
  1403 print ":"
  1404 print " occupied: "

Modifications by Iterated phase, Condition Optimization, pass 2, iteration 1 (-4 instructions):
 
    92 op mul *tmp17 2 *tmp16
    93 sensor *tmp18 :needsFourUnits:unit @speed
    94 op div :needsFourUnits:travel_time *tmp17 *tmp18
-    * op greaterThanEq *tmp13 :needsFourUnits:travel_time 47
    95 jump *label33 always
    96 label *label33
-    * jump *label31 equal *tmp13 false
+   97 jump *label31 lessThan :needsFourUnits:travel_time 47
    98 set *tmp21 4
    99 jump *label32 always
   100 label *label31
 
   166 op greaterThanEq *tmp43 :needsFourUnits.1:travel_time 47
   167 jump *label417 always
   168 label *label417
-    * jump *label418 equal *tmp43 false
+  169 jump *label418 lessThan :needsFourUnits.1:travel_time 47
   170 set *tmp51 4
   171 jump *label419 always
   172 label *label418
 
   242 op greaterThanEq *tmp43 :needsFourUnits.1:travel_time 47
   243 jump *label443 always
   244 label *label443
-    * jump *label444 equal *tmp43 false
+  245 jump *label444 lessThan :needsFourUnits.1:travel_time 47
   246 set *tmp51 4
   247 jump *label445 always
   248 label *label444
 
   318 op greaterThanEq *tmp43 :needsFourUnits.1:travel_time 47
   319 jump *label469 always
   320 label *label469
-    * jump *label470 equal *tmp43 false
+  321 jump *label470 lessThan :needsFourUnits.1:travel_time 47
   322 set *tmp51 4
   323 jump *label471 always
   324 label *label470
 
   394 op greaterThanEq *tmp43 :needsFourUnits.1:travel_time 47
   395 jump *label495 always
   396 label *label495
-    * jump *label496 equal *tmp43 false
+  397 jump *label496 lessThan :needsFourUnits.1:travel_time 47
   398 set *tmp51 4
   399 jump *label497 always
   400 label *label496
 
   593 op greaterThanEq *tmp126 :needsFourUnits.2:travel_time 47
   594 jump *label125 always
   595 label *label125
-    * jump *label126 equal *tmp126 false
+  596 jump *label126 lessThan :needsFourUnits.2:travel_time 47
   597 jump *label130 equal .UNIT_S2 null
   598 ubind .UNIT_S2
   599 sensor *tmp139 @unit @dead
 
   887 label *label180
   888 set .UNIT_S1 :processUnit:unit
   889 jump *label220 equal *tmp126 false
-    * op equal *tmp259 .SUPPLY_S_FIRST false
   890 jump *label224 equal .UNIT_S2 null
   891 ubind .UNIT_S2
   892 sensor *tmp263 @unit @dead
 
   974 jump *label252 notEqual :processUnit.1:state 3
   975 ucontrol within .DOME_X .DOME_Y 8 *tmp305
   976 jump *label254 equal *tmp305 false
-    * jump *label256 equal *tmp259 false
+  977 jump *label256 notEqual .SUPPLY_S_FIRST false
   978 ucontrol itemDrop .DOME .UNIT_CAPACITY
   979 set .MSG ", supplying\n"
   980 jump *label257 always
 
  1193 label *label267
  1194 set .UNIT_P1 :processUnit.2:unit
  1195 jump *label307 equal *tmp126 false
-    * op equal *tmp393 .SUPPLY_P_FIRST false
  1196 jump *label311 equal .UNIT_P2 null
  1197 ubind .UNIT_P2
  1198 sensor *tmp397 @unit @dead
 
  1280 jump *label339 notEqual :processUnit.3:state 3
  1281 ucontrol within .DOME_X .DOME_Y 8 *tmp439
  1282 jump *label341 equal *tmp439 false
-    * jump *label343 equal *tmp393 false
+ 1283 jump *label343 notEqual .SUPPLY_P_FIRST false
  1284 ucontrol itemDrop .DOME .UNIT_CAPACITY
  1285 set .MSG ", supplying\n"
  1286 jump *label344 always
 
  1361 set :needsFourUnits.3:unit @unit
  1362 sensor *tmp474 :needsFourUnits.3:unit @speed
  1363 op div :needsFourUnits.3:travel_time *tmp130 *tmp474
-    * op greaterThanEq *tmp469 :needsFourUnits.3:travel_time 47
  1364 jump *label362 always
  1365 label *label362
-    * jump *label360 equal *tmp469 false
+ 1366 jump *label360 lessThan :needsFourUnits.3:travel_time 47
  1367 set *tmp477 4
  1368 jump *label361 always
  1369 label *label360

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-17 instructions):
 
    92 op mul *tmp17 2 *tmp16
    93 sensor *tmp18 :needsFourUnits:unit @speed
    94 op div :needsFourUnits:travel_time *tmp17 *tmp18
-    * jump *label33 always
    95 label *label33
    96 jump *label31 lessThan :needsFourUnits:travel_time 47
    97 set *tmp21 4
 
   140 label *label44
   141 label *label45
   142 set *tmp10 false
-    * jump *label28 always
   143 label *label28
   144 jump *label26 equal *tmp10 false
   145 set *tmp9 UNIT_TYPE
 
   162 sensor *tmp48 :needsFourUnits.1:unit @speed
   163 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
   164 op greaterThanEq *tmp43 :needsFourUnits.1:travel_time 47
-    * jump *label417 always
   165 label *label417
   166 jump *label418 lessThan :needsFourUnits.1:travel_time 47
   167 set *tmp51 4
 
   210 label *label432
   211 label *label433
   212 set *tmp40 false
-    * jump *label434 always
   213 label *label434
   214 jump *label435 equal *tmp40 false
   215 printflush null
 
   236 sensor *tmp48 :needsFourUnits.1:unit @speed
   237 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
   238 op greaterThanEq *tmp43 :needsFourUnits.1:travel_time 47
-    * jump *label443 always
   239 label *label443
   240 jump *label444 lessThan :needsFourUnits.1:travel_time 47
   241 set *tmp51 4
 
   284 label *label458
   285 label *label459
   286 set *tmp40 false
-    * jump *label460 always
   287 label *label460
   288 jump *label461 equal *tmp40 false
   289 printflush null
 
   310 sensor *tmp48 :needsFourUnits.1:unit @speed
   311 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
   312 op greaterThanEq *tmp43 :needsFourUnits.1:travel_time 47
-    * jump *label469 always
   313 label *label469
   314 jump *label470 lessThan :needsFourUnits.1:travel_time 47
   315 set *tmp51 4
 
   358 label *label484
   359 label *label485
   360 set *tmp40 false
-    * jump *label486 always
   361 label *label486
   362 jump *label487 equal *tmp40 false
   363 printflush null
 
   384 sensor *tmp48 :needsFourUnits.1:unit @speed
   385 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
   386 op greaterThanEq *tmp43 :needsFourUnits.1:travel_time 47
-    * jump *label495 always
   387 label *label495
   388 jump *label496 lessThan :needsFourUnits.1:travel_time 47
   389 set *tmp51 4
 
   432 label *label510
   433 label *label511
   434 set *tmp40 false
-    * jump *label512 always
   435 label *label512
   436 jump *label513 equal *tmp40 false
   437 printflush null
 
   518 label *label91
   519 ucontrol flag 1
   520 set *tmp80 @unit
-    * jump *label90 always
   521 label *label90
   522 set .UNIT_S1 *tmp80
   523 jump *label106 equal .UNIT_P1 null
 
   554 label *label105
   555 ucontrol flag 1
   556 set *tmp98 @unit
-    * jump *label104 always
   557 label *label104
   558 set .UNIT_P1 *tmp98
   559 sensor *tmp116 *tmp80 @firstItem
 
   579 op mul *tmp130 2 *tmp129
   580 op div :needsFourUnits.2:travel_time *tmp130 .SPEED
   581 op greaterThanEq *tmp126 :needsFourUnits.2:travel_time 47
-    * jump *label125 always
   582 label *label125
   583 jump *label126 lessThan :needsFourUnits.2:travel_time 47
   584 jump *label130 equal .UNIT_S2 null
 
   615 label *label129
   616 ucontrol flag 1
   617 set *tmp135 @unit
-    * jump *label128 always
   618 label *label128
   619 set .UNIT_S2 *tmp135
   620 jump *label144 equal .UNIT_P2 null
 
   651 label *label143
   652 ucontrol flag 1
   653 set *tmp153 @unit
-    * jump *label142 always
   654 label *label142
   655 set .UNIT_P2 *tmp153
   656 sensor *tmp171 .UNIT_S1 @firstItem
 
  1346 set :needsFourUnits.3:unit @unit
  1347 sensor *tmp474 :needsFourUnits.3:unit @speed
  1348 op div :needsFourUnits.3:travel_time *tmp130 *tmp474
-    * jump *label362 always
  1349 label *label362
  1350 jump *label360 lessThan :needsFourUnits.3:travel_time 47
  1351 set *tmp477 4
 
  1395 label *label373
  1396 label *label374
  1397 set *tmp466 false
-    * jump *label357 always
  1398 label *label357
  1399 jump *label355 equal *tmp466 false
  1400 end

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-6 instructions):
 
   161 op mul *tmp47 2 *tmp46
   162 sensor *tmp48 :needsFourUnits.1:unit @speed
   163 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
-    * op greaterThanEq *tmp43 :needsFourUnits.1:travel_time 47
   164 label *label417
   165 jump *label418 lessThan :needsFourUnits.1:travel_time 47
   166 set *tmp51 4
 
   234 op mul *tmp47 2 *tmp46
   235 sensor *tmp48 :needsFourUnits.1:unit @speed
   236 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
-    * op greaterThanEq *tmp43 :needsFourUnits.1:travel_time 47
   237 label *label443
   238 jump *label444 lessThan :needsFourUnits.1:travel_time 47
   239 set *tmp51 4
 
   307 op mul *tmp47 2 *tmp46
   308 sensor *tmp48 :needsFourUnits.1:unit @speed
   309 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
-    * op greaterThanEq *tmp43 :needsFourUnits.1:travel_time 47
   310 label *label469
   311 jump *label470 lessThan :needsFourUnits.1:travel_time 47
   312 set *tmp51 4
 
   380 op mul *tmp47 2 *tmp46
   381 sensor *tmp48 :needsFourUnits.1:unit @speed
   382 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
-    * op greaterThanEq *tmp43 :needsFourUnits.1:travel_time 47
   383 label *label495
   384 jump *label496 lessThan :needsFourUnits.1:travel_time 47
   385 set *tmp51 4
 
  1335 jump *label351 lessThanEq :unitCheck @time
  1336 set :areUnitsAvailable.2:free 0
  1337 set :areUnitsAvailable.2:occupied 0
-    * set :areUnitsAvailable.2:needed 0
  1338 ubind UNIT_TYPE
  1339 set :areUnitsAvailable.2:firstUnit @unit
  1340 jump *label358 equal :areUnitsAvailable.2:firstUnit null
 
  1348 label *label360
  1349 set *tmp477 2
  1350 label *label361
-    * set :areUnitsAvailable.2:needed *tmp477
  1351 label *label363
  1352 sensor *tmp478 @unit @controlled
  1353 jump *label368 equal *tmp478 0

Modifications by Iterated phase, Boolean Optimization, pass 2, iteration 1 (-18 instructions):
 
    85 ubind UNIT_TYPE
    86 set :areUnitsAvailable:firstUnit @unit
    87 jump *label29 equal :areUnitsAvailable:firstUnit null
-    * set :needsFourUnits:unit @unit
-    * op sub *tmp14 .DOME_X .CORE_X
-    * op sub *tmp15 .DOME_Y .CORE_Y
-    * op len *tmp16 *tmp14 *tmp15
-    * op mul *tmp17 2 *tmp16
-    * sensor *tmp18 :needsFourUnits:unit @speed
-    * op div :needsFourUnits:travel_time *tmp17 *tmp18
-    * label *label33
-    * jump *label31 lessThan :needsFourUnits:travel_time 47
-    * set *tmp21 4
-    * jump *label32 always
-    * label *label31
-    * set *tmp21 2
-    * label *label32
+   88 set :needsFourUnits:unit @unit
+   89 op sub *tmp14 .DOME_X .CORE_X
+   90 op sub *tmp15 .DOME_Y .CORE_Y
+   91 op len *tmp16 *tmp14 *tmp15
+   92 op mul *tmp17 2 *tmp16
+   93 sensor *tmp18 :needsFourUnits:unit @speed
+   94 op div :needsFourUnits:travel_time *tmp17 *tmp18
+   95 label *label521
+   96 select *tmp21 greaterThanEq :needsFourUnits:travel_time 47 4 2
    97 set :areUnitsAvailable:needed *tmp21
    98 label *label34
    99 sensor *tmp22 @unit @controlled
 
   149 ubind @flare
   150 set :areUnitsAvailable.1:firstUnit @unit
   151 jump *label428 equal :areUnitsAvailable.1:firstUnit null
-    * set :needsFourUnits.1:unit @unit
-    * op sub *tmp44 .DOME_X .CORE_X
-    * op sub *tmp45 .DOME_Y .CORE_Y
-    * op len *tmp46 *tmp44 *tmp45
-    * op mul *tmp47 2 *tmp46
-    * sensor *tmp48 :needsFourUnits.1:unit @speed
-    * op div :needsFourUnits.1:travel_time *tmp47 *tmp48
-    * label *label417
-    * jump *label418 lessThan :needsFourUnits.1:travel_time 47
-    * set *tmp51 4
-    * jump *label419 always
-    * label *label418
-    * set *tmp51 2
-    * label *label419
+  152 set :needsFourUnits.1:unit @unit
+  153 op sub *tmp44 .DOME_X .CORE_X
+  154 op sub *tmp45 .DOME_Y .CORE_Y
+  155 op len *tmp46 *tmp44 *tmp45
+  156 op mul *tmp47 2 *tmp46
+  157 sensor *tmp48 :needsFourUnits.1:unit @speed
+  158 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
+  159 label *label522
+  160 select *tmp51 greaterThanEq :needsFourUnits.1:travel_time 47 4 2
   161 set :areUnitsAvailable.1:needed *tmp51
   162 label *label420
   163 sensor *tmp52 @unit @controlled
 
   217 ubind @poly
   218 set :areUnitsAvailable.1:firstUnit @unit
   219 jump *label454 equal :areUnitsAvailable.1:firstUnit null
-    * set :needsFourUnits.1:unit @unit
-    * op sub *tmp44 .DOME_X .CORE_X
-    * op sub *tmp45 .DOME_Y .CORE_Y
-    * op len *tmp46 *tmp44 *tmp45
-    * op mul *tmp47 2 *tmp46
-    * sensor *tmp48 :needsFourUnits.1:unit @speed
-    * op div :needsFourUnits.1:travel_time *tmp47 *tmp48
-    * label *label443
-    * jump *label444 lessThan :needsFourUnits.1:travel_time 47
-    * set *tmp51 4
-    * jump *label445 always
-    * label *label444
-    * set *tmp51 2
-    * label *label445
+  220 set :needsFourUnits.1:unit @unit
+  221 op sub *tmp44 .DOME_X .CORE_X
+  222 op sub *tmp45 .DOME_Y .CORE_Y
+  223 op len *tmp46 *tmp44 *tmp45
+  224 op mul *tmp47 2 *tmp46
+  225 sensor *tmp48 :needsFourUnits.1:unit @speed
+  226 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
+  227 label *label523
+  228 select *tmp51 greaterThanEq :needsFourUnits.1:travel_time 47 4 2
   229 set :areUnitsAvailable.1:needed *tmp51
   230 label *label446
   231 sensor *tmp52 @unit @controlled
 
   285 ubind @mega
   286 set :areUnitsAvailable.1:firstUnit @unit
   287 jump *label480 equal :areUnitsAvailable.1:firstUnit null
-    * set :needsFourUnits.1:unit @unit
-    * op sub *tmp44 .DOME_X .CORE_X
-    * op sub *tmp45 .DOME_Y .CORE_Y
-    * op len *tmp46 *tmp44 *tmp45
-    * op mul *tmp47 2 *tmp46
-    * sensor *tmp48 :needsFourUnits.1:unit @speed
-    * op div :needsFourUnits.1:travel_time *tmp47 *tmp48
-    * label *label469
-    * jump *label470 lessThan :needsFourUnits.1:travel_time 47
-    * set *tmp51 4
-    * jump *label471 always
-    * label *label470
-    * set *tmp51 2
-    * label *label471
+  288 set :needsFourUnits.1:unit @unit
+  289 op sub *tmp44 .DOME_X .CORE_X
+  290 op sub *tmp45 .DOME_Y .CORE_Y
+  291 op len *tmp46 *tmp44 *tmp45
+  292 op mul *tmp47 2 *tmp46
+  293 sensor *tmp48 :needsFourUnits.1:unit @speed
+  294 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
+  295 label *label524
+  296 select *tmp51 greaterThanEq :needsFourUnits.1:travel_time 47 4 2
   297 set :areUnitsAvailable.1:needed *tmp51
   298 label *label472
   299 sensor *tmp52 @unit @controlled
 
   353 ubind @mono
   354 set :areUnitsAvailable.1:firstUnit @unit
   355 jump *label506 equal :areUnitsAvailable.1:firstUnit null
-    * set :needsFourUnits.1:unit @unit
-    * op sub *tmp44 .DOME_X .CORE_X
-    * op sub *tmp45 .DOME_Y .CORE_Y
-    * op len *tmp46 *tmp44 *tmp45
-    * op mul *tmp47 2 *tmp46
-    * sensor *tmp48 :needsFourUnits.1:unit @speed
-    * op div :needsFourUnits.1:travel_time *tmp47 *tmp48
-    * label *label495
-    * jump *label496 lessThan :needsFourUnits.1:travel_time 47
-    * set *tmp51 4
-    * jump *label497 always
-    * label *label496
-    * set *tmp51 2
-    * label *label497
+  356 set :needsFourUnits.1:unit @unit
+  357 op sub *tmp44 .DOME_X .CORE_X
+  358 op sub *tmp45 .DOME_Y .CORE_Y
+  359 op len *tmp46 *tmp44 *tmp45
+  360 op mul *tmp47 2 *tmp46
+  361 sensor *tmp48 :needsFourUnits.1:unit @speed
+  362 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
+  363 label *label525
+  364 select *tmp51 greaterThanEq :needsFourUnits.1:travel_time 47 4 2
   365 set :areUnitsAvailable.1:needed *tmp51
   366 label *label498
   367 sensor *tmp52 @unit @controlled
 
  1313 ubind UNIT_TYPE
  1314 set :areUnitsAvailable.2:firstUnit @unit
  1315 jump *label358 equal :areUnitsAvailable.2:firstUnit null
-    * set :needsFourUnits.3:unit @unit
-    * sensor *tmp474 :needsFourUnits.3:unit @speed
-    * op div :needsFourUnits.3:travel_time *tmp130 *tmp474
-    * label *label362
-    * jump *label360 lessThan :needsFourUnits.3:travel_time 47
-    * set *tmp477 4
-    * jump *label361 always
-    * label *label360
-    * set *tmp477 2
-    * label *label361
+ 1316 set :needsFourUnits.3:unit @unit
+ 1317 sensor *tmp474 :needsFourUnits.3:unit @speed
+ 1318 op div :needsFourUnits.3:travel_time *tmp130 *tmp474
+ 1319 label *label526
+ 1320 select *tmp477 greaterThanEq :needsFourUnits.3:travel_time 47 4 2
  1321 label *label363
  1322 sensor *tmp478 @unit @controlled
  1323 jump *label368 equal *tmp478 0

Modifications by Jumps phase, Unreachable Code Elimination, pass 4, iteration 1 (-13 instructions):
 
     2 set UNIT_TYPE @flare
     3 remark "Do not modify anything below this line."
     4 set .DOME dome1
-    * label *label3
     5 jump *label5 notEqual dome1 null
     6 label *label382
     7 print "[gold]Waiting for an overdrive dome to be connected..."
     8 printflush message1
     9 set .DOME dome1
-    * label *label4
    10 jump *label382 equal dome1 null
    11 label *label5
    12 print "[gold]Locating core..."
    13 printflush message1
    14 set .CORE null
    15 label *label6
-    * label *label385
    16 set :locateCore:type @flare
    17 setaddr :locateCore*retaddr *label386 (h:*label386)
    18 call *label0 *invalid :locateCore*retval (m:*label386) (h:*label386)
 
    20 jump *label387 equal :locateCore*retval false
    21 jump *label2 always
    22 label *label387
-    * label *label388
-    * label *label389
-    * label *label392
    23 set :locateCore:type @poly
    24 setaddr :locateCore*retaddr *label393 (h:*label393)
    25 call *label0 *invalid :locateCore*retval (m:*label393) (h:*label393)
 
    27 jump *label394 equal :locateCore*retval false
    28 jump *label2 always
    29 label *label394
-    * label *label395
-    * label *label396
-    * label *label399
    30 set :locateCore:type @mega
    31 setaddr :locateCore*retaddr *label400 (h:*label400)
    32 call *label0 *invalid :locateCore*retval (m:*label400) (h:*label400)
 
    34 jump *label401 equal :locateCore*retval false
    35 jump *label2 always
    36 label *label401
-    * label *label402
-    * label *label403
-    * label *label406
    37 set :locateCore:type @mono
    38 setaddr :locateCore*retaddr *label407 (h:*label407)
    39 call *label0 *invalid :locateCore*retval (m:*label407) (h:*label407)
 
    41 jump *label408 equal :locateCore*retval false
    42 jump *label2 always
    43 label *label408
-    * label *label409
-    * label *label410
-    * label *label11
-    * label *label7
    44 jump *label6 always
-    * label *label8
    45 label *label2
    46 sensor .CORE_X .CORE @x
    47 sensor .CORE_Y .CORE @y
    48 sensor .DOME_X .DOME @x
    49 sensor .DOME_Y .DOME @y
-    * label *label19
    50 sensor *tmp7 switch1 @enabled
    51 jump *label21 notEqual *tmp7 false
    52 label *label414
    53 print "[coral]Activate switch to begin supplying overdrive dome..."
    54 print "\n"
    55 printflush message1
-    * label *label20
    56 sensor *tmp7 switch1 @enabled
    57 jump *label414 equal *tmp7 false
    58 label *label21
 
    73 op mul *tmp17 2 *tmp16
    74 sensor *tmp18 :needsFourUnits:unit @speed
    75 op div :needsFourUnits:travel_time *tmp17 *tmp18
-    * label *label521
    76 select *tmp21 greaterThanEq :needsFourUnits:travel_time 47 4 2
    77 set :areUnitsAvailable:needed *tmp21
    78 label *label34
 
    86 set *tmp10 true
    87 jump *label28 always
    88 label *label41
-    * label *label42
    89 jump *label38 always
    90 label *label37
    91 op add :areUnitsAvailable:occupied :areUnitsAvailable:occupied 1
    92 label *label38
    93 ubind UNIT_TYPE
-    * label *label35
    94 jump *label36 equal @unit :areUnitsAvailable:firstUnit
    95 sensor *tmp31 :areUnitsAvailable:firstUnit @dead
    96 jump *label34 equal *tmp31 0
    97 label *label36
    98 label *label29
-    * label *label30
    99 print UNIT_TYPE
   100 print ":"
   101 print " occupied: "
 
   107 print ", needed: "
   108 print :areUnitsAvailable:needed
   109 label *label46
-    * label *label47
   110 print "\n"
-    * label *label44
-    * label *label45
   111 set *tmp10 false
   112 label *label28
   113 jump *label26 equal *tmp10 false
   114 set *tmp9 UNIT_TYPE
   115 jump *label22 always
   116 label *label26
-    * label *label27
-    * label *label416
   117 jump *label437 equal @flare UNIT_TYPE
   118 set :areUnitsAvailable.1:free 0
   119 set :areUnitsAvailable.1:occupied 0
 
   128 op mul *tmp47 2 *tmp46
   129 sensor *tmp48 :needsFourUnits.1:unit @speed
   130 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
-    * label *label522
   131 select *tmp51 greaterThanEq :needsFourUnits.1:travel_time 47 4 2
   132 set :areUnitsAvailable.1:needed *tmp51
   133 label *label420
 
   141 set *tmp40 true
   142 jump *label434 always
   143 label *label422
-    * label *label423
   144 jump *label425 always
   145 label *label424
   146 op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
   147 label *label425
   148 ubind @flare
-    * label *label426
   149 jump *label427 equal @unit :areUnitsAvailable.1:firstUnit
   150 sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
   151 jump *label420 equal *tmp61 0
   152 label *label427
   153 label *label428
-    * label *label429
   154 print @flare
   155 print ":"
   156 print " occupied: "
 
   162 print ", needed: "
   163 print :areUnitsAvailable.1:needed
   164 label *label430
-    * label *label431
   165 print "\n"
-    * label *label432
-    * label *label433
   166 set *tmp40 false
   167 label *label434
   168 jump *label435 equal *tmp40 false
 
   170 set *tmp9 @flare
   171 jump *label22 always
   172 label *label435
-    * label *label436
   173 label *label437
-    * label *label438
-    * label *label439
-    * label *label442
   174 jump *label463 equal @poly UNIT_TYPE
   175 set :areUnitsAvailable.1:free 0
   176 set :areUnitsAvailable.1:occupied 0
 
   185 op mul *tmp47 2 *tmp46
   186 sensor *tmp48 :needsFourUnits.1:unit @speed
   187 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
-    * label *label523
   188 select *tmp51 greaterThanEq :needsFourUnits.1:travel_time 47 4 2
   189 set :areUnitsAvailable.1:needed *tmp51
   190 label *label446
 
   198 set *tmp40 true
   199 jump *label460 always
   200 label *label448
-    * label *label449
   201 jump *label451 always
   202 label *label450
   203 op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
   204 label *label451
   205 ubind @poly
-    * label *label452
   206 jump *label453 equal @unit :areUnitsAvailable.1:firstUnit
   207 sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
   208 jump *label446 equal *tmp61 0
   209 label *label453
   210 label *label454
-    * label *label455
   211 print @poly
   212 print ":"
   213 print " occupied: "
 
   219 print ", needed: "
   220 print :areUnitsAvailable.1:needed
   221 label *label456
-    * label *label457
   222 print "\n"
-    * label *label458
-    * label *label459
   223 set *tmp40 false
   224 label *label460
   225 jump *label461 equal *tmp40 false
 
   227 set *tmp9 @poly
   228 jump *label22 always
   229 label *label461
-    * label *label462
   230 label *label463
-    * label *label464
-    * label *label465
-    * label *label468
   231 jump *label489 equal @mega UNIT_TYPE
   232 set :areUnitsAvailable.1:free 0
   233 set :areUnitsAvailable.1:occupied 0
 
   242 op mul *tmp47 2 *tmp46
   243 sensor *tmp48 :needsFourUnits.1:unit @speed
   244 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
-    * label *label524
   245 select *tmp51 greaterThanEq :needsFourUnits.1:travel_time 47 4 2
   246 set :areUnitsAvailable.1:needed *tmp51
   247 label *label472
 
   255 set *tmp40 true
   256 jump *label486 always
   257 label *label474
-    * label *label475
   258 jump *label477 always
   259 label *label476
   260 op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
   261 label *label477
   262 ubind @mega
-    * label *label478
   263 jump *label479 equal @unit :areUnitsAvailable.1:firstUnit
   264 sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
   265 jump *label472 equal *tmp61 0
   266 label *label479
   267 label *label480
-    * label *label481
   268 print @mega
   269 print ":"
   270 print " occupied: "
 
   276 print ", needed: "
   277 print :areUnitsAvailable.1:needed
   278 label *label482
-    * label *label483
   279 print "\n"
-    * label *label484
-    * label *label485
   280 set *tmp40 false
   281 label *label486
   282 jump *label487 equal *tmp40 false
 
   284 set *tmp9 @mega
   285 jump *label22 always
   286 label *label487
-    * label *label488
   287 label *label489
-    * label *label490
-    * label *label491
-    * label *label494
   288 jump *label515 equal @mono UNIT_TYPE
   289 set :areUnitsAvailable.1:free 0
   290 set :areUnitsAvailable.1:occupied 0
 
   299 op mul *tmp47 2 *tmp46
   300 sensor *tmp48 :needsFourUnits.1:unit @speed
   301 op div :needsFourUnits.1:travel_time *tmp47 *tmp48
-    * label *label525
   302 select *tmp51 greaterThanEq :needsFourUnits.1:travel_time 47 4 2
   303 set :areUnitsAvailable.1:needed *tmp51
   304 label *label498
 
   312 set *tmp40 true
   313 jump *label512 always
   314 label *label500
-    * label *label501
   315 jump *label503 always
   316 label *label502
   317 op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
   318 label *label503
   319 ubind @mono
-    * label *label504
   320 jump *label505 equal @unit :areUnitsAvailable.1:firstUnit
   321 sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
   322 jump *label498 equal *tmp61 0
   323 label *label505
   324 label *label506
-    * label *label507
   325 print @mono
   326 print ":"
   327 print " occupied: "
 
   333 print ", needed: "
   334 print :areUnitsAvailable.1:needed
   335 label *label508
-    * label *label509
   336 print "\n"
-    * label *label510
-    * label *label511
   337 set *tmp40 false
   338 label *label512
   339 jump *label513 equal *tmp40 false
 
   341 set *tmp9 @mono
   342 jump *label22 always
   343 label *label513
-    * label *label514
   344 label *label515
-    * label *label516
-    * label *label517
-    * label *label50
   345 printflush message1
-    * label *label24
   346 jump *label23 always
-    * label *label25
-    * set *tmp9 null
   347 label *label22
   348 print "[gold]Binding units..."
   349 printflush message1
 
   357 jump *label80 notEqual :rebindUnits:firstUnit null
   358 end
   359 label *label80
-    * label *label81
   360 label *label82
   361 sensor *tmp70 @unit @controller
   362 jump *label85 notEqual *tmp70 @this
 
   369 jump *label87 equal .UNIT_S2 null
   370 jump *label84 always
   371 label *label87
-    * label *label88
   372 label *label85
-    * label *label86
   373 ubind *tmp9
-    * label *label83
   374 jump *label84 equal @unit :rebindUnits:firstUnit
   375 sensor *tmp78 :rebindUnits:firstUnit @dead
   376 jump *label82 equal *tmp78 0
   377 label *label84
-    * label *label79
   378 jump *label92 equal .UNIT_S1 null
   379 ubind .UNIT_S1
   380 sensor *tmp84 @unit @dead
 
   385 jump *label94 equal *tmp88 false
   386 jump *label91 always
   387 label *label94
-    * label *label95
   388 label *label92
-    * label *label93
   389 ubind *tmp9
   390 set :rebindUnit:firstUnit @unit
   391 jump *label96 equal :rebindUnit:firstUnit null
 
   394 jump *label101 notEqual *tmp92 0
   395 jump *label91 always
   396 label *label101
-    * label *label102
   397 ubind *tmp9
-    * label *label99
   398 jump *label100 equal @unit :rebindUnit:firstUnit
   399 sensor *tmp96 :rebindUnit:firstUnit @dead
   400 jump *label98 equal *tmp96 0
   401 label *label100
   402 label *label96
-    * label *label97
   403 end
   404 label *label91
   405 ucontrol flag 1
   406 set *tmp80 @unit
-    * label *label90
   407 set .UNIT_S1 *tmp80
   408 jump *label106 equal .UNIT_P1 null
   409 ubind .UNIT_P1
 
   415 jump *label108 equal *tmp106 false
   416 jump *label105 always
   417 label *label108
-    * label *label109
   418 label *label106
-    * label *label107
   419 ubind *tmp9
   420 set :rebindUnit.1:firstUnit @unit
   421 jump *label110 equal :rebindUnit.1:firstUnit null
 
   424 jump *label115 notEqual *tmp110 0
   425 jump *label105 always
   426 label *label115
-    * label *label116
   427 ubind *tmp9
-    * label *label113
   428 jump *label114 equal @unit :rebindUnit.1:firstUnit
   429 sensor *tmp114 :rebindUnit.1:firstUnit @dead
   430 jump *label112 equal *tmp114 0
   431 label *label114
   432 label *label110
-    * label *label111
   433 end
   434 label *label105
   435 ucontrol flag 1
   436 set *tmp98 @unit
-    * label *label104
   437 set .UNIT_P1 *tmp98
   438 sensor *tmp116 *tmp80 @firstItem
   439 jump *label120 equal *tmp116 @phase-fabric
   440 sensor *tmp118 *tmp98 @firstItem
   441 jump *label118 notEqual *tmp118 @silicon
   442 label *label120
-    * label *label122
   443 set .UNIT_S1 *tmp98
   444 set .UNIT_P1 *tmp80
   445 label *label118
-    * label *label119
   446 sensor .UNIT_CAPACITY .UNIT_S1 @itemCapacity
   447 sensor .SPEED .UNIT_S1 @speed
   448 op div .SPEED_TENTHS .SPEED 10
   449 jump *label123 strictNotEqual .SPEED null
   450 stop
   451 label *label123
-    * label *label124
   452 op sub *tmp127 .DOME_X .CORE_X
   453 op sub *tmp128 .DOME_Y .CORE_Y
   454 op len *tmp129 *tmp127 *tmp128
   455 op mul *tmp130 2 *tmp129
   456 op div :needsFourUnits.2:travel_time *tmp130 .SPEED
   457 op greaterThanEq *tmp126 :needsFourUnits.2:travel_time 47
-    * label *label125
   458 jump *label126 lessThan :needsFourUnits.2:travel_time 47
   459 jump *label130 equal .UNIT_S2 null
   460 ubind .UNIT_S2
 
   466 jump *label132 equal *tmp143 false
   467 jump *label129 always
   468 label *label132
-    * label *label133
   469 label *label130
-    * label *label131
   470 ubind *tmp9
   471 set :rebindUnit.2:firstUnit @unit
   472 jump *label134 equal :rebindUnit.2:firstUnit null
 
   475 jump *label139 notEqual *tmp147 0
   476 jump *label129 always
   477 label *label139
-    * label *label140
   478 ubind *tmp9
-    * label *label137
   479 jump *label138 equal @unit :rebindUnit.2:firstUnit
   480 sensor *tmp151 :rebindUnit.2:firstUnit @dead
   481 jump *label136 equal *tmp151 0
   482 label *label138
   483 label *label134
-    * label *label135
   484 end
   485 label *label129
   486 ucontrol flag 1
   487 set *tmp135 @unit
-    * label *label128
   488 set .UNIT_S2 *tmp135
   489 jump *label144 equal .UNIT_P2 null
   490 ubind .UNIT_P2
 
   496 jump *label146 equal *tmp161 false
   497 jump *label143 always
   498 label *label146
-    * label *label147
   499 label *label144
-    * label *label145
   500 ubind *tmp9
   501 set :rebindUnit.3:firstUnit @unit
   502 jump *label148 equal :rebindUnit.3:firstUnit null
 
   505 jump *label153 notEqual *tmp165 0
   506 jump *label143 always
   507 label *label153
-    * label *label154
   508 ubind *tmp9
-    * label *label151
   509 jump *label152 equal @unit :rebindUnit.3:firstUnit
   510 sensor *tmp169 :rebindUnit.3:firstUnit @dead
   511 jump *label150 equal *tmp169 0
   512 label *label152
   513 label *label148
-    * label *label149
   514 end
   515 label *label143
   516 ucontrol flag 1
   517 set *tmp153 @unit
-    * label *label142
   518 set .UNIT_P2 *tmp153
   519 sensor *tmp171 .UNIT_S1 @firstItem
   520 jump *label156 notEqual *tmp171 @phase-fabric
   521 sensor *tmp173 *tmp153 @firstItem
   522 jump *label156 equal *tmp173 @phase-fabric
   523 set :swap.1:t .UNIT_S1
-    * label *label160
   524 set .UNIT_S1 *tmp153
   525 set .UNIT_P2 :swap.1:t
   526 label *label156
-    * label *label157
   527 sensor *tmp176 *tmp135 @firstItem
   528 jump *label163 equal *tmp176 @phase-fabric
   529 sensor *tmp178 .UNIT_P2 @firstItem
   530 jump *label161 notEqual *tmp178 @silicon
   531 label *label163
-    * label *label165
   532 set .UNIT_S2 .UNIT_P2
   533 set .UNIT_P2 *tmp135
   534 label *label161
-    * label *label162
   535 set .GROUP1 "unit  1"
   536 set .GROUP2 "unit 2"
   537 jump *label127 always
 
   561 op lessThan .SUPPLY_P_FIRST *tmp187 *tmp188
   562 label *label171
   563 op add :unitCheck @time 5000
-    * label *label174
   564 sensor *tmp192 switch1 @enabled
   565 jump *label176 equal *tmp192 false
   566 label *label415
 
   589 print "]"
   590 print "\n"
   591 label *label179
-    * label *label177
   592 jump *label182 equal .UNIT_S1 null
   593 ubind .UNIT_S1
   594 sensor *tmp199 @unit @dead
 
   599 jump *label184 equal *tmp203 false
   600 jump *label181 always
   601 label *label184
-    * label *label185
   602 label *label182
-    * label *label183
   603 ubind *tmp9
   604 set :rebindUnit.4:firstUnit @unit
   605 jump *label186 equal :rebindUnit.4:firstUnit null
 
   608 jump *label191 notEqual *tmp207 0
   609 jump *label181 always
   610 label *label191
-    * label *label192
   611 ubind *tmp9
-    * label *label189
   612 jump *label190 equal @unit :rebindUnit.4:firstUnit
   613 sensor *tmp211 :rebindUnit.4:firstUnit @dead
   614 jump *label188 equal *tmp211 0
   615 label *label190
   616 label *label186
-    * label *label187
   617 end
   618 label *label181
   619 sensor :processUnit:state @unit @flag
 
   637 jump *label202 equal *tmp223 false
   638 ucontrol itemDrop .CORE .UNIT_CAPACITY
   639 label *label202
-    * label *label203
   640 label *label201
   641 label *label199
   642 label *label194
-    * label *label195
   643 jump *label204 notEqual :processUnit:state 2
   644 ucontrol within .CORE_X .CORE_Y 8 *tmp227
   645 jump *label206 equal *tmp227 false
 
   665 op div :processUnit:distance *tmp237 10
   666 label *label207
   667 label *label204
-    * label *label205
   668 jump *label210 notEqual :processUnit:state 3
   669 ucontrol within .DOME_X .DOME_Y 8 *tmp241
   670 jump *label212 equal *tmp241 false
 
   681 ucontrol approach .CORE_X .CORE_Y 6
   682 set :processUnit:state 2
   683 label *label216
-    * label *label217
   684 jump *label213 always
   685 label *label212
   686 ucontrol approach .DOME_X .DOME_Y 6
 
   694 op div :processUnit:distance *tmp252 10
   695 label *label213
   696 label *label210
-    * label *label211
   697 ucontrol flag :processUnit:state
   698 sensor *tmp254 @unit @totalItems
   699 print "  "
 
   716 print .MSG
   717 label *label219
   718 set :processUnit:unit @unit
-    * label *label180
   719 set .UNIT_S1 :processUnit:unit
   720 jump *label220 equal *tmp126 false
   721 jump *label224 equal .UNIT_S2 null
 
   728 jump *label226 equal *tmp267 false
   729 jump *label223 always
   730 label *label226
-    * label *label227
   731 label *label224
-    * label *label225
   732 ubind *tmp9
   733 set :rebindUnit.5:firstUnit @unit
   734 jump *label228 equal :rebindUnit.5:firstUnit null
 
   737 jump *label233 notEqual *tmp271 0
   738 jump *label223 always
   739 label *label233
-    * label *label234
   740 ubind *tmp9
-    * label *label231
   741 jump *label232 equal @unit :rebindUnit.5:firstUnit
   742 sensor *tmp275 :rebindUnit.5:firstUnit @dead
   743 jump *label230 equal *tmp275 0
   744 label *label232
   745 label *label228
-    * label *label229
   746 end
   747 label *label223
   748 sensor :processUnit.1:state @unit @flag
 
   766 jump *label244 equal *tmp287 false
   767 ucontrol itemDrop .CORE .UNIT_CAPACITY
   768 label *label244
-    * label *label245
   769 label *label243
   770 label *label241
   771 label *label236
-    * label *label237
   772 jump *label246 notEqual :processUnit.1:state 2
   773 ucontrol within .CORE_X .CORE_Y 8 *tmp291
   774 jump *label248 equal *tmp291 false
 
   794 op div :processUnit.1:distance *tmp301 10
   795 label *label249
   796 label *label246
-    * label *label247
   797 jump *label252 notEqual :processUnit.1:state 3
   798 ucontrol within .DOME_X .DOME_Y 8 *tmp305
   799 jump *label254 equal *tmp305 false
 
   810 ucontrol approach .CORE_X .CORE_Y 6
   811 set :processUnit.1:state 2
   812 label *label258
-    * label *label259
   813 jump *label255 always
   814 label *label254
   815 ucontrol approach .DOME_X .DOME_Y 6
 
   823 op div :processUnit.1:distance *tmp316 10
   824 label *label255
   825 label *label252
-    * label *label253
   826 ucontrol flag :processUnit.1:state
   827 sensor *tmp318 @unit @totalItems
   828 print "  "
 
   845 print .MSG
   846 label *label261
   847 set :processUnit.1:unit @unit
-    * label *label222
   848 set .UNIT_S2 :processUnit.1:unit
   849 jump *label262 equal .SUPPLY_S_FIRST false
   850 sensor *tmp323 :processUnit:unit @totalItems
 
   855 op equal .SUPPLY_S_FIRST *tmp325 0
   856 label *label263
   857 label *label220
-    * label *label221
   858 print "\n[green]Phase fabric[] status:\n"
   859 sensor :printDomeStatus.1:level .DOME @phase-fabric
   860 jump *label265 lessThanEq :printDomeStatus.1:level 3
 
   871 print "]"
   872 print "\n"
   873 label *label266
-    * label *label264
   874 jump *label269 equal .UNIT_P1 null
   875 ubind .UNIT_P1
   876 sensor *tmp333 @unit @dead
 
   881 jump *label271 equal *tmp337 false
   882 jump *label268 always
   883 label *label271
-    * label *label272
   884 label *label269
-    * label *label270
   885 ubind *tmp9
   886 set :rebindUnit.6:firstUnit @unit
   887 jump *label273 equal :rebindUnit.6:firstUnit null
 
   890 jump *label278 notEqual *tmp341 0
   891 jump *label268 always
   892 label *label278
-    * label *label279
   893 ubind *tmp9
-    * label *label276
   894 jump *label277 equal @unit :rebindUnit.6:firstUnit
   895 sensor *tmp345 :rebindUnit.6:firstUnit @dead
   896 jump *label275 equal *tmp345 0
   897 label *label277
   898 label *label273
-    * label *label274
   899 end
   900 label *label268
   901 sensor :processUnit.2:state @unit @flag
 
   919 jump *label289 equal *tmp357 false
   920 ucontrol itemDrop .CORE .UNIT_CAPACITY
   921 label *label289
-    * label *label290
   922 label *label288
   923 label *label286
   924 label *label281
-    * label *label282
   925 jump *label291 notEqual :processUnit.2:state 2
   926 ucontrol within .CORE_X .CORE_Y 8 *tmp361
   927 jump *label293 equal *tmp361 false
 
   947 op div :processUnit.2:distance *tmp371 10
   948 label *label294
   949 label *label291
-    * label *label292
   950 jump *label297 notEqual :processUnit.2:state 3
   951 ucontrol within .DOME_X .DOME_Y 8 *tmp375
   952 jump *label299 equal *tmp375 false
 
   963 ucontrol approach .CORE_X .CORE_Y 6
   964 set :processUnit.2:state 2
   965 label *label303
-    * label *label304
   966 jump *label300 always
   967 label *label299
   968 ucontrol approach .DOME_X .DOME_Y 6
 
   976 op div :processUnit.2:distance *tmp386 10
   977 label *label300
   978 label *label297
-    * label *label298
   979 ucontrol flag :processUnit.2:state
   980 sensor *tmp388 @unit @totalItems
   981 print "  "
 
   998 print .MSG
   999 label *label306
  1000 set :processUnit.2:unit @unit
-    * label *label267
  1001 set .UNIT_P1 :processUnit.2:unit
  1002 jump *label307 equal *tmp126 false
  1003 jump *label311 equal .UNIT_P2 null
 
  1010 jump *label313 equal *tmp401 false
  1011 jump *label310 always
  1012 label *label313
-    * label *label314
  1013 label *label311
-    * label *label312
  1014 ubind *tmp9
  1015 set :rebindUnit.7:firstUnit @unit
  1016 jump *label315 equal :rebindUnit.7:firstUnit null
 
  1019 jump *label320 notEqual *tmp405 0
  1020 jump *label310 always
  1021 label *label320
-    * label *label321
  1022 ubind *tmp9
-    * label *label318
  1023 jump *label319 equal @unit :rebindUnit.7:firstUnit
  1024 sensor *tmp409 :rebindUnit.7:firstUnit @dead
  1025 jump *label317 equal *tmp409 0
  1026 label *label319
  1027 label *label315
-    * label *label316
  1028 end
  1029 label *label310
  1030 sensor :processUnit.3:state @unit @flag
 
  1048 jump *label331 equal *tmp421 false
  1049 ucontrol itemDrop .CORE .UNIT_CAPACITY
  1050 label *label331
-    * label *label332
  1051 label *label330
  1052 label *label328
  1053 label *label323
-    * label *label324
  1054 jump *label333 notEqual :processUnit.3:state 2
  1055 ucontrol within .CORE_X .CORE_Y 8 *tmp425
  1056 jump *label335 equal *tmp425 false
 
  1076 op div :processUnit.3:distance *tmp435 10
  1077 label *label336
  1078 label *label333
-    * label *label334
  1079 jump *label339 notEqual :processUnit.3:state 3
  1080 ucontrol within .DOME_X .DOME_Y 8 *tmp439
  1081 jump *label341 equal *tmp439 false
 
  1092 ucontrol approach .CORE_X .CORE_Y 6
  1093 set :processUnit.3:state 2
  1094 label *label345
-    * label *label346
  1095 jump *label342 always
  1096 label *label341
  1097 ucontrol approach .DOME_X .DOME_Y 6
 
  1105 op div :processUnit.3:distance *tmp450 10
  1106 label *label342
  1107 label *label339
-    * label *label340
  1108 ucontrol flag :processUnit.3:state
  1109 sensor *tmp452 @unit @totalItems
  1110 print "  "
 
  1127 print .MSG
  1128 label *label348
  1129 set :processUnit.3:unit @unit
-    * label *label309
  1130 set .UNIT_P2 :processUnit.3:unit
  1131 jump *label349 equal .SUPPLY_P_FIRST false
  1132 sensor *tmp457 :processUnit.2:unit @totalItems
 
  1137 op equal .SUPPLY_P_FIRST *tmp459 0
  1138 label *label350
  1139 label *label307
-    * label *label308
  1140 op sub *tmp461 @time :start
  1141 op floor *tmp462 *tmp461
  1142 print "\n"
 
  1155 set :needsFourUnits.3:unit @unit
  1156 sensor *tmp474 :needsFourUnits.3:unit @speed
  1157 op div :needsFourUnits.3:travel_time *tmp130 *tmp474
-    * label *label526
  1158 select *tmp477 greaterThanEq :needsFourUnits.3:travel_time 47 4 2
  1159 label *label363
  1160 sensor *tmp478 @unit @controlled
 
  1167 set *tmp466 true
  1168 jump *label357 always
  1169 label *label370
-    * label *label371
  1170 jump *label367 always
  1171 label *label366
  1172 op add :areUnitsAvailable.2:occupied :areUnitsAvailable.2:occupied 1
  1173 label *label367
  1174 ubind UNIT_TYPE
-    * label *label364
  1175 jump *label365 equal @unit :areUnitsAvailable.2:firstUnit
  1176 sensor *tmp487 :areUnitsAvailable.2:firstUnit @dead
  1177 jump *label363 equal *tmp487 0
  1178 label *label365
  1179 label *label358
-    * label *label359
  1180 jump *label373 always
-    * print UNIT_TYPE
-    * print ":"
-    * print " occupied: "
-    * print :areUnitsAvailable.2:occupied
-    * print ","
-    * print " free: "
-    * print :areUnitsAvailable.2:free
-    * jump *label375 lessThanEq :areUnitsAvailable.2:needed 0
-    * print ", needed: "
-    * print :areUnitsAvailable.2:needed
-    * label *label375
-    * label *label376
-    * print "\n"
  1181 label *label373
-    * label *label374
  1182 set *tmp466 false
  1183 label *label357
  1184 jump *label355 equal *tmp466 false
  1185 end
  1186 label *label355
-    * label *label356
  1187 op add :unitCheck @time 5000
  1188 label *label351
-    * label *label352
-    * label *label175
  1189 sensor *tmp192 switch1 @enabled
  1190 jump *label415 notEqual *tmp192 false
  1191 label *label176
-    * label *label1
  1192 end
  1193 label *label0
  1194 ubind :locateCore:type
 
  1199 label *label380
  1200 ulocate building core false @copper *tmp500 *tmp501 *tmp502 .CORE
  1201 label *label378
-    * label *label379
  1202 set :locateCore*retval .CORE
-    * label *label377
  1203 return :locateCore*retaddr
-    * end

Modifications by Jumps phase, Jump Straightening, pass 4, iteration 1 (-21 instructions):
 
    17 setaddr :locateCore*retaddr *label386 (h:*label386)
    18 call *label0 *invalid :locateCore*retval (m:*label386) (h:*label386)
    19 label *label386
-    * jump *label387 equal :locateCore*retval false
-    * jump *label2 always
+   20 jump *label2 notEqual :locateCore*retval false
    21 label *label387
    22 set :locateCore:type @poly
    23 setaddr :locateCore*retaddr *label393 (h:*label393)
    24 call *label0 *invalid :locateCore*retval (m:*label393) (h:*label393)
    25 label *label393
-    * jump *label394 equal :locateCore*retval false
-    * jump *label2 always
+   26 jump *label2 notEqual :locateCore*retval false
    27 label *label394
    28 set :locateCore:type @mega
    29 setaddr :locateCore*retaddr *label400 (h:*label400)
    30 call *label0 *invalid :locateCore*retval (m:*label400) (h:*label400)
    31 label *label400
-    * jump *label401 equal :locateCore*retval false
-    * jump *label2 always
+   32 jump *label2 notEqual :locateCore*retval false
    33 label *label401
    34 set :locateCore:type @mono
    35 setaddr :locateCore*retaddr *label407 (h:*label407)
    36 call *label0 *invalid :locateCore*retval (m:*label407) (h:*label407)
    37 label *label407
-    * jump *label408 equal :locateCore*retval false
-    * jump *label2 always
+   38 jump *label2 notEqual :locateCore*retval false
    39 label *label408
    40 jump *label6 always
    41 label *label2
 
   362 set .UNIT_P2 .UNIT_S1
   363 set .UNIT_S1 .UNIT_P1
   364 set .UNIT_P1 @unit
-    * jump *label87 equal .UNIT_S2 null
-    * jump *label84 always
+  365 jump *label84 notEqual .UNIT_S2 null
   366 label *label87
   367 label *label85
   368 ubind *tmp9
 
   377 sensor *tmp86 @unit @controller
   378 op equal *tmp87 *tmp86 @this
   379 op land *tmp88 *tmp85 *tmp87
-    * jump *label94 equal *tmp88 false
-    * jump *label91 always
+  380 jump *label91 notEqual *tmp88 false
   381 label *label94
   382 label *label92
   383 ubind *tmp9
 
   385 jump *label96 equal :rebindUnit:firstUnit null
   386 label *label98
   387 sensor *tmp92 @unit @controlled
-    * jump *label101 notEqual *tmp92 0
-    * jump *label91 always
+  388 jump *label91 equal *tmp92 0
   389 label *label101
   390 ubind *tmp9
   391 jump *label100 equal @unit :rebindUnit:firstUnit
 
   405 sensor *tmp104 @unit @controller
   406 op equal *tmp105 *tmp104 @this
   407 op land *tmp106 *tmp103 *tmp105
-    * jump *label108 equal *tmp106 false
-    * jump *label105 always
+  408 jump *label105 notEqual *tmp106 false
   409 label *label108
   410 label *label106
   411 ubind *tmp9
 
   413 jump *label110 equal :rebindUnit.1:firstUnit null
   414 label *label112
   415 sensor *tmp110 @unit @controlled
-    * jump *label115 notEqual *tmp110 0
-    * jump *label105 always
+  416 jump *label105 equal *tmp110 0
   417 label *label115
   418 ubind *tmp9
   419 jump *label114 equal @unit :rebindUnit.1:firstUnit
 
   454 sensor *tmp141 @unit @controller
   455 op equal *tmp142 *tmp141 @this
   456 op land *tmp143 *tmp140 *tmp142
-    * jump *label132 equal *tmp143 false
-    * jump *label129 always
+  457 jump *label129 notEqual *tmp143 false
   458 label *label132
   459 label *label130
   460 ubind *tmp9
 
   462 jump *label134 equal :rebindUnit.2:firstUnit null
   463 label *label136
   464 sensor *tmp147 @unit @controlled
-    * jump *label139 notEqual *tmp147 0
-    * jump *label129 always
+  465 jump *label129 equal *tmp147 0
   466 label *label139
   467 ubind *tmp9
   468 jump *label138 equal @unit :rebindUnit.2:firstUnit
 
   482 sensor *tmp159 @unit @controller
   483 op equal *tmp160 *tmp159 @this
   484 op land *tmp161 *tmp158 *tmp160
-    * jump *label146 equal *tmp161 false
-    * jump *label143 always
+  485 jump *label143 notEqual *tmp161 false
   486 label *label146
   487 label *label144
   488 ubind *tmp9
 
   490 jump *label148 equal :rebindUnit.3:firstUnit null
   491 label *label150
   492 sensor *tmp165 @unit @controlled
-    * jump *label153 notEqual *tmp165 0
-    * jump *label143 always
+  493 jump *label143 equal *tmp165 0
   494 label *label153
   495 ubind *tmp9
   496 jump *label152 equal @unit :rebindUnit.3:firstUnit
 
   583 sensor *tmp201 @unit @controller
   584 op equal *tmp202 *tmp201 @this
   585 op land *tmp203 *tmp200 *tmp202
-    * jump *label184 equal *tmp203 false
-    * jump *label181 always
+  586 jump *label181 notEqual *tmp203 false
   587 label *label184
   588 label *label182
   589 ubind *tmp9
 
   591 jump *label186 equal :rebindUnit.4:firstUnit null
   592 label *label188
   593 sensor *tmp207 @unit @controlled
-    * jump *label191 notEqual *tmp207 0
-    * jump *label181 always
+  594 jump *label181 equal *tmp207 0
   595 label *label191
   596 ubind *tmp9
   597 jump *label190 equal @unit :rebindUnit.4:firstUnit
 
   710 sensor *tmp265 @unit @controller
   711 op equal *tmp266 *tmp265 @this
   712 op land *tmp267 *tmp264 *tmp266
-    * jump *label226 equal *tmp267 false
-    * jump *label223 always
+  713 jump *label223 notEqual *tmp267 false
   714 label *label226
   715 label *label224
   716 ubind *tmp9
 
   718 jump *label228 equal :rebindUnit.5:firstUnit null
   719 label *label230
   720 sensor *tmp271 @unit @controlled
-    * jump *label233 notEqual *tmp271 0
-    * jump *label223 always
+  721 jump *label223 equal *tmp271 0
   722 label *label233
   723 ubind *tmp9
   724 jump *label232 equal @unit :rebindUnit.5:firstUnit
 
   861 sensor *tmp335 @unit @controller
   862 op equal *tmp336 *tmp335 @this
   863 op land *tmp337 *tmp334 *tmp336
-    * jump *label271 equal *tmp337 false
-    * jump *label268 always
+  864 jump *label268 notEqual *tmp337 false
   865 label *label271
   866 label *label269
   867 ubind *tmp9
 
   869 jump *label273 equal :rebindUnit.6:firstUnit null
   870 label *label275
   871 sensor *tmp341 @unit @controlled
-    * jump *label278 notEqual *tmp341 0
-    * jump *label268 always
+  872 jump *label268 equal *tmp341 0
   873 label *label278
   874 ubind *tmp9
   875 jump *label277 equal @unit :rebindUnit.6:firstUnit
 
   988 sensor *tmp399 @unit @controller
   989 op equal *tmp400 *tmp399 @this
   990 op land *tmp401 *tmp398 *tmp400
-    * jump *label313 equal *tmp401 false
-    * jump *label310 always
+  991 jump *label310 notEqual *tmp401 false
   992 label *label313
   993 label *label311
   994 ubind *tmp9
 
   996 jump *label315 equal :rebindUnit.7:firstUnit null
   997 label *label317
   998 sensor *tmp405 @unit @controlled
-    * jump *label320 notEqual *tmp405 0
-    * jump *label310 always
+  999 jump *label310 equal *tmp405 0
  1000 label *label320
  1001 ubind *tmp9
  1002 jump *label319 equal @unit :rebindUnit.7:firstUnit

Modifications by Jumps phase, Jump Threading, pass 4, iteration 1:
+    0 label __start__
     1 remark "This is the preferred unit type to use for bringing in supplies."
     2 remark "If no units of this type exist, we'll try using other types."
     3 set UNIT_TYPE @flare
 
    75 jump *label37 notEqual *tmp24 @this
    76 label *label39
    77 op add :areUnitsAvailable:free :areUnitsAvailable:free 1
-    * jump *label41 lessThan :areUnitsAvailable:free *tmp21
+   78 jump *label38 lessThan :areUnitsAvailable:free *tmp21
    79 set *tmp10 true
    80 jump *label28 always
    81 label *label41
 
   130 jump *label424 notEqual *tmp54 @this
   131 label *label421
   132 op add :areUnitsAvailable.1:free :areUnitsAvailable.1:free 1
-    * jump *label422 lessThan :areUnitsAvailable.1:free *tmp51
+  133 jump *label425 lessThan :areUnitsAvailable.1:free *tmp51
   134 set *tmp40 true
   135 jump *label434 always
   136 label *label422
 
   187 jump *label450 notEqual *tmp54 @this
   188 label *label447
   189 op add :areUnitsAvailable.1:free :areUnitsAvailable.1:free 1
-    * jump *label448 lessThan :areUnitsAvailable.1:free *tmp51
+  190 jump *label451 lessThan :areUnitsAvailable.1:free *tmp51
   191 set *tmp40 true
   192 jump *label460 always
   193 label *label448
 
   244 jump *label476 notEqual *tmp54 @this
   245 label *label473
   246 op add :areUnitsAvailable.1:free :areUnitsAvailable.1:free 1
-    * jump *label474 lessThan :areUnitsAvailable.1:free *tmp51
+  247 jump *label477 lessThan :areUnitsAvailable.1:free *tmp51
   248 set *tmp40 true
   249 jump *label486 always
   250 label *label474
 
   301 jump *label502 notEqual *tmp54 @this
   302 label *label499
   303 op add :areUnitsAvailable.1:free :areUnitsAvailable.1:free 1
-    * jump *label500 lessThan :areUnitsAvailable.1:free *tmp51
+  304 jump *label503 lessThan :areUnitsAvailable.1:free *tmp51
   305 set *tmp40 true
   306 jump *label512 always
   307 label *label500
 
   377 label *label92
   378 ubind *tmp9
   379 set :rebindUnit:firstUnit @unit
-    * jump *label96 equal :rebindUnit:firstUnit null
+  380 jump __start__ equal :rebindUnit:firstUnit null
   381 label *label98
   382 sensor *tmp92 @unit @controlled
   383 jump *label91 equal *tmp92 0
   384 ubind *tmp9
-    * jump *label100 equal @unit :rebindUnit:firstUnit
+  385 jump __start__ equal @unit :rebindUnit:firstUnit
   386 sensor *tmp96 :rebindUnit:firstUnit @dead
   387 jump *label98 equal *tmp96 0
   388 label *label100
 
   403 label *label106
   404 ubind *tmp9
   405 set :rebindUnit.1:firstUnit @unit
-    * jump *label110 equal :rebindUnit.1:firstUnit null
+  406 jump __start__ equal :rebindUnit.1:firstUnit null
   407 label *label112
   408 sensor *tmp110 @unit @controlled
   409 jump *label105 equal *tmp110 0
   410 ubind *tmp9
-    * jump *label114 equal @unit :rebindUnit.1:firstUnit
+  411 jump __start__ equal @unit :rebindUnit.1:firstUnit
   412 sensor *tmp114 :rebindUnit.1:firstUnit @dead
   413 jump *label112 equal *tmp114 0
   414 label *label114
 
   450 label *label130
   451 ubind *tmp9
   452 set :rebindUnit.2:firstUnit @unit
-    * jump *label134 equal :rebindUnit.2:firstUnit null
+  453 jump __start__ equal :rebindUnit.2:firstUnit null
   454 label *label136
   455 sensor *tmp147 @unit @controlled
   456 jump *label129 equal *tmp147 0
   457 ubind *tmp9
-    * jump *label138 equal @unit :rebindUnit.2:firstUnit
+  458 jump __start__ equal @unit :rebindUnit.2:firstUnit
   459 sensor *tmp151 :rebindUnit.2:firstUnit @dead
   460 jump *label136 equal *tmp151 0
   461 label *label138
 
   476 label *label144
   477 ubind *tmp9
   478 set :rebindUnit.3:firstUnit @unit
-    * jump *label148 equal :rebindUnit.3:firstUnit null
+  479 jump __start__ equal :rebindUnit.3:firstUnit null
   480 label *label150
   481 sensor *tmp165 @unit @controlled
   482 jump *label143 equal *tmp165 0
   483 ubind *tmp9
-    * jump *label152 equal @unit :rebindUnit.3:firstUnit
+  484 jump __start__ equal @unit :rebindUnit.3:firstUnit
   485 sensor *tmp169 :rebindUnit.3:firstUnit @dead
   486 jump *label150 equal *tmp169 0
   487 label *label152
 
   537 label *label171
   538 op add :unitCheck @time 5000
   539 sensor *tmp192 switch1 @enabled
-    * jump *label176 equal *tmp192 false
+  540 jump __start__ equal *tmp192 false
   541 label *label415
   542 set :start @time
   543 print " === [gold]Supplying Overdrive Dome[] === "
 
   575 label *label182
   576 ubind *tmp9
   577 set :rebindUnit.4:firstUnit @unit
-    * jump *label186 equal :rebindUnit.4:firstUnit null
+  578 jump __start__ equal :rebindUnit.4:firstUnit null
   579 label *label188
   580 sensor *tmp207 @unit @controlled
   581 jump *label181 equal *tmp207 0
   582 ubind *tmp9
-    * jump *label190 equal @unit :rebindUnit.4:firstUnit
+  583 jump __start__ equal @unit :rebindUnit.4:firstUnit
   584 sensor *tmp211 :rebindUnit.4:firstUnit @dead
   585 jump *label188 equal *tmp211 0
   586 label *label190
 
   619 jump *label208 lessThan *tmp229 .UNIT_CAPACITY
   620 ucontrol approach .DOME_X .DOME_Y 6
   621 set :processUnit:state 3
-    * jump *label209 always
+  622 jump *label207 always
   623 label *label208
   624 set .MSG ", loading\n"
   625 label *label209
 
   648 set .MSG ", waiting\n"
   649 label *label215
   650 sensor *tmp244 @unit @totalItems
-    * jump *label216 greaterThan *tmp244 0
+  651 jump *label213 greaterThan *tmp244 0
   652 ucontrol approach .CORE_X .CORE_Y 6
   653 set :processUnit:state 2
   654 label *label216
 
   700 label *label224
   701 ubind *tmp9
   702 set :rebindUnit.5:firstUnit @unit
-    * jump *label228 equal :rebindUnit.5:firstUnit null
+  703 jump __start__ equal :rebindUnit.5:firstUnit null
   704 label *label230
   705 sensor *tmp271 @unit @controlled
   706 jump *label223 equal *tmp271 0
   707 ubind *tmp9
-    * jump *label232 equal @unit :rebindUnit.5:firstUnit
+  708 jump __start__ equal @unit :rebindUnit.5:firstUnit
   709 sensor *tmp275 :rebindUnit.5:firstUnit @dead
   710 jump *label230 equal *tmp275 0
   711 label *label232
 
   744 jump *label250 lessThan *tmp293 .UNIT_CAPACITY
   745 ucontrol approach .DOME_X .DOME_Y 6
   746 set :processUnit.1:state 3
-    * jump *label251 always
+  747 jump *label249 always
   748 label *label250
   749 set .MSG ", loading\n"
   750 label *label251
 
   773 set .MSG ", waiting\n"
   774 label *label257
   775 sensor *tmp308 @unit @totalItems
-    * jump *label258 greaterThan *tmp308 0
+  776 jump *label255 greaterThan *tmp308 0
   777 ucontrol approach .CORE_X .CORE_Y 6
   778 set :processUnit.1:state 2
   779 label *label258
 
   849 label *label269
   850 ubind *tmp9
   851 set :rebindUnit.6:firstUnit @unit
-    * jump *label273 equal :rebindUnit.6:firstUnit null
+  852 jump __start__ equal :rebindUnit.6:firstUnit null
   853 label *label275
   854 sensor *tmp341 @unit @controlled
   855 jump *label268 equal *tmp341 0
   856 ubind *tmp9
-    * jump *label277 equal @unit :rebindUnit.6:firstUnit
+  857 jump __start__ equal @unit :rebindUnit.6:firstUnit
   858 sensor *tmp345 :rebindUnit.6:firstUnit @dead
   859 jump *label275 equal *tmp345 0
   860 label *label277
 
   893 jump *label295 lessThan *tmp363 .UNIT_CAPACITY
   894 ucontrol approach .DOME_X .DOME_Y 6
   895 set :processUnit.2:state 3
-    * jump *label296 always
+  896 jump *label294 always
   897 label *label295
   898 set .MSG ", loading\n"
   899 label *label296
 
   922 set .MSG ", waiting\n"
   923 label *label302
   924 sensor *tmp378 @unit @totalItems
-    * jump *label303 greaterThan *tmp378 0
+  925 jump *label300 greaterThan *tmp378 0
   926 ucontrol approach .CORE_X .CORE_Y 6
   927 set :processUnit.2:state 2
   928 label *label303
 
   974 label *label311
   975 ubind *tmp9
   976 set :rebindUnit.7:firstUnit @unit
-    * jump *label315 equal :rebindUnit.7:firstUnit null
+  977 jump __start__ equal :rebindUnit.7:firstUnit null
   978 label *label317
   979 sensor *tmp405 @unit @controlled
   980 jump *label310 equal *tmp405 0
   981 ubind *tmp9
-    * jump *label319 equal @unit :rebindUnit.7:firstUnit
+  982 jump __start__ equal @unit :rebindUnit.7:firstUnit
   983 sensor *tmp409 :rebindUnit.7:firstUnit @dead
   984 jump *label317 equal *tmp409 0
   985 label *label319
 
  1018 jump *label337 lessThan *tmp427 .UNIT_CAPACITY
  1019 ucontrol approach .DOME_X .DOME_Y 6
  1020 set :processUnit.3:state 3
-    * jump *label338 always
+ 1021 jump *label336 always
  1022 label *label337
  1023 set .MSG ", loading\n"
  1024 label *label338
 
  1047 set .MSG ", waiting\n"
  1048 label *label344
  1049 sensor *tmp442 @unit @totalItems
-    * jump *label345 greaterThan *tmp442 0
+ 1050 jump *label342 greaterThan *tmp442 0
  1051 ucontrol approach .CORE_X .CORE_Y 6
  1052 set :processUnit.3:state 2
  1053 label *label345
 
  1110 set :areUnitsAvailable.2:occupied 0
  1111 ubind UNIT_TYPE
  1112 set :areUnitsAvailable.2:firstUnit @unit
-    * jump *label358 equal :areUnitsAvailable.2:firstUnit null
+ 1113 jump *label373 equal :areUnitsAvailable.2:firstUnit null
  1114 set :needsFourUnits.3:unit @unit
  1115 sensor *tmp474 :needsFourUnits.3:unit @speed
  1116 op div :needsFourUnits.3:travel_time *tmp130 *tmp474
 
  1122 jump *label366 notEqual *tmp480 @this
  1123 label *label368
  1124 op add :areUnitsAvailable.2:free :areUnitsAvailable.2:free 1
-    * jump *label370 lessThan :areUnitsAvailable.2:free *tmp477
+ 1125 jump *label367 lessThan :areUnitsAvailable.2:free *tmp477
  1126 set *tmp466 true
  1127 jump *label357 always
  1128 label *label370
 
  1131 op add :areUnitsAvailable.2:occupied :areUnitsAvailable.2:occupied 1
  1132 label *label367
  1133 ubind UNIT_TYPE
-    * jump *label365 equal @unit :areUnitsAvailable.2:firstUnit
+ 1134 jump *label373 equal @unit :areUnitsAvailable.2:firstUnit
  1135 sensor *tmp487 :areUnitsAvailable.2:firstUnit @dead
  1136 jump *label363 equal *tmp487 0
  1137 label *label365

Modifications by Jumps phase, Single Step Elimination, pass 4, iteration 1 (-1 instructions):
 
  1104 jump *label373 equal @unit :areUnitsAvailable.2:firstUnit
  1105 sensor *tmp487 :areUnitsAvailable.2:firstUnit @dead
  1106 jump *label363 equal *tmp487 0
-    * jump *label373 always
  1107 label *label373
  1108 set *tmp466 false
  1109 label *label357

Modifications by Jumps phase, Unreachable Code Elimination, pass 5, iteration 1 (-6 instructions):
 
    78 jump *label38 lessThan :areUnitsAvailable:free *tmp21
    79 set *tmp10 true
    80 jump *label28 always
-    * jump *label38 always
    81 label *label37
    82 op add :areUnitsAvailable:occupied :areUnitsAvailable:occupied 1
    83 label *label38
 
   131 jump *label425 lessThan :areUnitsAvailable.1:free *tmp51
   132 set *tmp40 true
   133 jump *label434 always
-    * jump *label425 always
   134 label *label424
   135 op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
   136 label *label425
 
   186 jump *label451 lessThan :areUnitsAvailable.1:free *tmp51
   187 set *tmp40 true
   188 jump *label460 always
-    * jump *label451 always
   189 label *label450
   190 op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
   191 label *label451
 
   241 jump *label477 lessThan :areUnitsAvailable.1:free *tmp51
   242 set *tmp40 true
   243 jump *label486 always
-    * jump *label477 always
   244 label *label476
   245 op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
   246 label *label477
 
   296 jump *label503 lessThan :areUnitsAvailable.1:free *tmp51
   297 set *tmp40 true
   298 jump *label512 always
-    * jump *label503 always
   299 label *label502
   300 op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
   301 label *label503
 
  1091 jump *label367 lessThan :areUnitsAvailable.2:free *tmp477
  1092 set *tmp466 true
  1093 jump *label357 always
-    * jump *label367 always
  1094 label *label366
  1095 op add :areUnitsAvailable.2:occupied :areUnitsAvailable.2:occupied 1
  1096 label *label367

Modifications by Jumps phase, Jump Straightening, pass 5, iteration 1 (-1 instructions):
 
    33 setaddr :locateCore*retaddr *label407 (h:*label407)
    34 call *label0 *invalid :locateCore*retval (m:*label407) (h:*label407)
    35 label *label407
-    * jump *label2 notEqual :locateCore*retval false
-    * jump *label6 always
+   36 jump *label6 equal :locateCore*retval false
    37 label *label2
    38 sensor .CORE_X .CORE @x
    39 sensor .CORE_Y .CORE @y

Modifications by Final phase, Temp Variables Elimination, iteration 1:
 
  1115 sensor *tmp496 @unit @controller
  1116 jump *label378 notEqual *tmp496 @this
  1117 label *label380
-    * ulocate building core false @copper *tmp500 *tmp501 *tmp502 .CORE
+ 1118 ulocate building core false @copper 0 0 0 .CORE
  1119 label *label378
  1120 set :locateCore*retval .CORE
  1121 return :locateCore*retaddr

Modifications by Final phase, Print Merging, iteration 1 (-75 instructions):
 
    42 sensor *tmp7 switch1 @enabled
    43 jump *label21 notEqual *tmp7 false
    44 label *label414
-    * print "[coral]Activate switch to begin supplying overdrive dome..."
-    * print "\n"
+   45 print "[coral]Activate switch to begin supplying overdrive dome...\n"
    46 printflush message1
    47 sensor *tmp7 switch1 @enabled
    48 jump *label414 equal *tmp7 false
    49 label *label21
    50 label *label23
    51 printflush null
-    * print "[gold]Looking for suitable unit type:[]"
-    * print "\n"
+   52 print "[gold]Looking for suitable unit type:[]\n"
    53 set :areUnitsAvailable:free 0
    54 set :areUnitsAvailable:occupied 0
    55 set :areUnitsAvailable:needed 0
 
    85 label *label36
    86 label *label29
    87 print UNIT_TYPE
-    * print ":"
-    * print " occupied: "
-    * print :areUnitsAvailable:occupied
-    * print ","
-    * print " free: "
+   88 print ": occupied: {0}, free: "
+   89 format :areUnitsAvailable:occupied
    90 print :areUnitsAvailable:free
    91 jump *label46 lessThanEq :areUnitsAvailable:needed 0
    92 print ", needed: "
 
   134 jump *label420 equal *tmp61 0
   135 label *label427
   136 label *label428
-    * print @flare
-    * print ":"
-    * print " occupied: "
-    * print :areUnitsAvailable.1:occupied
-    * print ","
-    * print " free: "
+  137 print "flare: occupied: {0}, free: "
+  138 format :areUnitsAvailable.1:occupied
   139 print :areUnitsAvailable.1:free
   140 jump *label430 lessThanEq :areUnitsAvailable.1:needed 0
   141 print ", needed: "
 
   185 jump *label446 equal *tmp61 0
   186 label *label453
   187 label *label454
-    * print @poly
-    * print ":"
-    * print " occupied: "
-    * print :areUnitsAvailable.1:occupied
-    * print ","
-    * print " free: "
+  188 print "poly: occupied: {0}, free: "
+  189 format :areUnitsAvailable.1:occupied
   190 print :areUnitsAvailable.1:free
   191 jump *label456 lessThanEq :areUnitsAvailable.1:needed 0
   192 print ", needed: "
 
   236 jump *label472 equal *tmp61 0
   237 label *label479
   238 label *label480
-    * print @mega
-    * print ":"
-    * print " occupied: "
-    * print :areUnitsAvailable.1:occupied
-    * print ","
-    * print " free: "
+  239 print "mega: occupied: {0}, free: "
+  240 format :areUnitsAvailable.1:occupied
   241 print :areUnitsAvailable.1:free
   242 jump *label482 lessThanEq :areUnitsAvailable.1:needed 0
   243 print ", needed: "
 
   287 jump *label498 equal *tmp61 0
   288 label *label505
   289 label *label506
-    * print @mono
-    * print ":"
-    * print " occupied: "
-    * print :areUnitsAvailable.1:occupied
-    * print ","
-    * print " free: "
+  290 print "mono: occupied: {0}, free: "
+  291 format :areUnitsAvailable.1:occupied
   292 print :areUnitsAvailable.1:free
   293 jump *label508 lessThanEq :areUnitsAvailable.1:needed 0
   294 print ", needed: "
 
   500 jump __start__ equal *tmp192 false
   501 label *label415
   502 set :start @time
-    * print " === [gold]Supplying Overdrive Dome[] === "
-    * print "\n"
-    * print "\n"
-    * print "Unit type: [green]"
-    * print *tmp9
-    * print "["
-    * print "]"
-    * print "\n"
-    * print "\n[green]Silicon[] status:\n"
+  503 print " === [gold]Supplying Overdrive Dome[] === \n\nUnit type: [green]{0}[]\n\n[green]Silicon[] status:\n"
+  504 format *tmp9
   505 sensor :printDomeStatus:level .DOME @silicon
   506 jump *label178 lessThanEq :printDomeStatus:level 3
-    * print "  dome:  [green]"
-    * print :printDomeStatus:level
-    * print "["
-    * print "]"
-    * print "\n"
+  507 print "  dome:  [green]{0}[]\n"
+  508 format :printDomeStatus:level
   509 jump *label179 always
   510 label *label178
-    * print "  dome:  [coral]"
-    * print :printDomeStatus:level
-    * print "["
-    * print "]"
-    * print "\n"
+  511 print "  dome:  [coral]{0}[]\n"
+  512 format :printDomeStatus:level
   513 label *label179
   514 jump *label182 equal .UNIT_S1 null
   515 ubind .UNIT_S1
 
   610 label *label210
   611 ucontrol flag :processUnit:state
   612 sensor *tmp254 @unit @totalItems
-    * print "  "
-    * print .GROUP1
-    * print ":"
-    * print " ["
-    * print "gold"
-    * print "]"
-    * print *tmp254
-    * print "["
-    * print "]"
+  613 print "  {0}: [gold]{0}[]"
+  614 format .GROUP1
+  615 format *tmp254
   616 jump *label218 lessThan :processUnit:distance 0
   617 print .MSG
   618 print :processUnit:distance
-    * print "["
-    * print "] sec"
-    * print "\n"
+  619 print "[] sec\n"
   620 jump *label219 always
   621 label *label218
   622 print .MSG
 
   723 label *label252
   724 ucontrol flag :processUnit.1:state
   725 sensor *tmp318 @unit @totalItems
-    * print "  "
-    * print .GROUP2
-    * print ":"
-    * print " ["
-    * print "gold"
-    * print "]"
-    * print *tmp318
-    * print "["
-    * print "]"
+  726 print "  {0}: [gold]{0}[]"
+  727 format .GROUP2
+  728 format *tmp318
   729 jump *label260 lessThan :processUnit.1:distance 0
   730 print .MSG
   731 print :processUnit.1:distance
-    * print "["
-    * print "] sec"
-    * print "\n"
+  732 print "[] sec\n"
   733 jump *label261 always
   734 label *label260
   735 print .MSG
 
   748 print "\n[green]Phase fabric[] status:\n"
   749 sensor :printDomeStatus.1:level .DOME @phase-fabric
   750 jump *label265 lessThanEq :printDomeStatus.1:level 3
-    * print "  dome:  [green]"
-    * print :printDomeStatus.1:level
-    * print "["
-    * print "]"
-    * print "\n"
+  751 print "  dome:  [green]{0}[]\n"
+  752 format :printDomeStatus.1:level
   753 jump *label266 always
   754 label *label265
-    * print "  dome:  [coral]"
-    * print :printDomeStatus.1:level
-    * print "["
-    * print "]"
-    * print "\n"
+  755 print "  dome:  [coral]{0}[]\n"
+  756 format :printDomeStatus.1:level
   757 label *label266
   758 jump *label269 equal .UNIT_P1 null
   759 ubind .UNIT_P1
 
   854 label *label297
   855 ucontrol flag :processUnit.2:state
   856 sensor *tmp388 @unit @totalItems
-    * print "  "
-    * print .GROUP1
-    * print ":"
-    * print " ["
-    * print "gold"
-    * print "]"
-    * print *tmp388
-    * print "["
-    * print "]"
+  857 print "  {0}: [gold]{0}[]"
+  858 format .GROUP1
+  859 format *tmp388
   860 jump *label305 lessThan :processUnit.2:distance 0
   861 print .MSG
   862 print :processUnit.2:distance
-    * print "["
-    * print "] sec"
-    * print "\n"
+  863 print "[] sec\n"
   864 jump *label306 always
   865 label *label305
   866 print .MSG
 
   967 label *label339
   968 ucontrol flag :processUnit.3:state
   969 sensor *tmp452 @unit @totalItems
-    * print "  "
-    * print .GROUP2
-    * print ":"
-    * print " ["
-    * print "gold"
-    * print "]"
-    * print *tmp452
-    * print "["
-    * print "]"
+  970 print "  {0}: [gold]{0}[]"
+  971 format .GROUP2
+  972 format *tmp452
   973 jump *label347 lessThan :processUnit.3:distance 0
   974 print .MSG
   975 print :processUnit.3:distance
-    * print "["
-    * print "] sec"
-    * print "\n"
+  976 print "[] sec\n"
   977 jump *label348 always
   978 label *label347
   979 print .MSG
 
   991 label *label307
   992 op sub *tmp461 @time :start
   993 op floor *tmp462 *tmp461
-    * print "\n"
-    * print "[lightgray]Loop time: "
-    * print *tmp462
-    * print " "
-    * print "ms"
+  994 print "\n[lightgray]Loop time: {0} ms"
+  995 format *tmp462
   996 printflush message1
   997 jump *label351 equal *tmp9 UNIT_TYPE
   998 jump *label351 lessThanEq :unitCheck @time

Final code before resolving virtual instructions:

label __start__
remark "This is the preferred unit type to use for bringing in supplies."
remark "If no units of this type exist, we'll try using other types."
set UNIT_TYPE @flare
remark "Do not modify anything below this line."
set .DOME dome1
jump *label5 notEqual dome1 null
label *label382
print "[gold]Waiting for an overdrive dome to be connected..."
printflush message1
set .DOME dome1
jump *label382 equal dome1 null
label *label5
print "[gold]Locating core..."
printflush message1
set .CORE null
label *label6
set :locateCore:type @flare
setaddr :locateCore*retaddr *label386
call *label0 *invalid :locateCore*retval
label *label386
jump *label2 notEqual :locateCore*retval false
set :locateCore:type @poly
setaddr :locateCore*retaddr *label393
call *label0 *invalid :locateCore*retval
label *label393
jump *label2 notEqual :locateCore*retval false
set :locateCore:type @mega
setaddr :locateCore*retaddr *label400
call *label0 *invalid :locateCore*retval
label *label400
jump *label2 notEqual :locateCore*retval false
set :locateCore:type @mono
setaddr :locateCore*retaddr *label407
call *label0 *invalid :locateCore*retval
label *label407
jump *label6 equal :locateCore*retval false
label *label2
sensor .CORE_X .CORE @x
sensor .CORE_Y .CORE @y
sensor .DOME_X .DOME @x
sensor .DOME_Y .DOME @y
sensor *tmp7 switch1 @enabled
jump *label21 notEqual *tmp7 false
label *label414
print "[coral]Activate switch to begin supplying overdrive dome...\n"
printflush message1
sensor *tmp7 switch1 @enabled
jump *label414 equal *tmp7 false
label *label21
label *label23
printflush null
print "[gold]Looking for suitable unit type:[]\n"
set :areUnitsAvailable:free 0
set :areUnitsAvailable:occupied 0
set :areUnitsAvailable:needed 0
ubind UNIT_TYPE
set :areUnitsAvailable:firstUnit @unit
jump *label29 equal :areUnitsAvailable:firstUnit null
set :needsFourUnits:unit @unit
op sub *tmp14 .DOME_X .CORE_X
op sub *tmp15 .DOME_Y .CORE_Y
op len *tmp16 *tmp14 *tmp15
op mul *tmp17 2 *tmp16
sensor *tmp18 :needsFourUnits:unit @speed
op div :needsFourUnits:travel_time *tmp17 *tmp18
select *tmp21 greaterThanEq :needsFourUnits:travel_time 47 4 2
set :areUnitsAvailable:needed *tmp21
label *label34
sensor *tmp22 @unit @controlled
jump *label39 equal *tmp22 0
sensor *tmp24 @unit @controller
jump *label37 notEqual *tmp24 @this
label *label39
op add :areUnitsAvailable:free :areUnitsAvailable:free 1
jump *label38 lessThan :areUnitsAvailable:free *tmp21
set *tmp10 true
jump *label28 always
label *label37
op add :areUnitsAvailable:occupied :areUnitsAvailable:occupied 1
label *label38
ubind UNIT_TYPE
jump *label36 equal @unit :areUnitsAvailable:firstUnit
sensor *tmp31 :areUnitsAvailable:firstUnit @dead
jump *label34 equal *tmp31 0
label *label36
label *label29
print UNIT_TYPE
print ": occupied: {0}, free: "
format :areUnitsAvailable:occupied
print :areUnitsAvailable:free
jump *label46 lessThanEq :areUnitsAvailable:needed 0
print ", needed: "
print :areUnitsAvailable:needed
label *label46
print "\n"
set *tmp10 false
label *label28
jump *label26 equal *tmp10 false
set *tmp9 UNIT_TYPE
jump *label22 always
label *label26
jump *label437 equal @flare UNIT_TYPE
set :areUnitsAvailable.1:free 0
set :areUnitsAvailable.1:occupied 0
set :areUnitsAvailable.1:needed 0
ubind @flare
set :areUnitsAvailable.1:firstUnit @unit
jump *label428 equal :areUnitsAvailable.1:firstUnit null
set :needsFourUnits.1:unit @unit
op sub *tmp44 .DOME_X .CORE_X
op sub *tmp45 .DOME_Y .CORE_Y
op len *tmp46 *tmp44 *tmp45
op mul *tmp47 2 *tmp46
sensor *tmp48 :needsFourUnits.1:unit @speed
op div :needsFourUnits.1:travel_time *tmp47 *tmp48
select *tmp51 greaterThanEq :needsFourUnits.1:travel_time 47 4 2
set :areUnitsAvailable.1:needed *tmp51
label *label420
sensor *tmp52 @unit @controlled
jump *label421 equal *tmp52 0
sensor *tmp54 @unit @controller
jump *label424 notEqual *tmp54 @this
label *label421
op add :areUnitsAvailable.1:free :areUnitsAvailable.1:free 1
jump *label425 lessThan :areUnitsAvailable.1:free *tmp51
set *tmp40 true
jump *label434 always
label *label424
op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
label *label425
ubind @flare
jump *label427 equal @unit :areUnitsAvailable.1:firstUnit
sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
jump *label420 equal *tmp61 0
label *label427
label *label428
print "flare: occupied: {0}, free: "
format :areUnitsAvailable.1:occupied
print :areUnitsAvailable.1:free
jump *label430 lessThanEq :areUnitsAvailable.1:needed 0
print ", needed: "
print :areUnitsAvailable.1:needed
label *label430
print "\n"
set *tmp40 false
label *label434
jump *label435 equal *tmp40 false
printflush null
set *tmp9 @flare
jump *label22 always
label *label435
label *label437
jump *label463 equal @poly UNIT_TYPE
set :areUnitsAvailable.1:free 0
set :areUnitsAvailable.1:occupied 0
set :areUnitsAvailable.1:needed 0
ubind @poly
set :areUnitsAvailable.1:firstUnit @unit
jump *label454 equal :areUnitsAvailable.1:firstUnit null
set :needsFourUnits.1:unit @unit
op sub *tmp44 .DOME_X .CORE_X
op sub *tmp45 .DOME_Y .CORE_Y
op len *tmp46 *tmp44 *tmp45
op mul *tmp47 2 *tmp46
sensor *tmp48 :needsFourUnits.1:unit @speed
op div :needsFourUnits.1:travel_time *tmp47 *tmp48
select *tmp51 greaterThanEq :needsFourUnits.1:travel_time 47 4 2
set :areUnitsAvailable.1:needed *tmp51
label *label446
sensor *tmp52 @unit @controlled
jump *label447 equal *tmp52 0
sensor *tmp54 @unit @controller
jump *label450 notEqual *tmp54 @this
label *label447
op add :areUnitsAvailable.1:free :areUnitsAvailable.1:free 1
jump *label451 lessThan :areUnitsAvailable.1:free *tmp51
set *tmp40 true
jump *label460 always
label *label450
op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
label *label451
ubind @poly
jump *label453 equal @unit :areUnitsAvailable.1:firstUnit
sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
jump *label446 equal *tmp61 0
label *label453
label *label454
print "poly: occupied: {0}, free: "
format :areUnitsAvailable.1:occupied
print :areUnitsAvailable.1:free
jump *label456 lessThanEq :areUnitsAvailable.1:needed 0
print ", needed: "
print :areUnitsAvailable.1:needed
label *label456
print "\n"
set *tmp40 false
label *label460
jump *label461 equal *tmp40 false
printflush null
set *tmp9 @poly
jump *label22 always
label *label461
label *label463
jump *label489 equal @mega UNIT_TYPE
set :areUnitsAvailable.1:free 0
set :areUnitsAvailable.1:occupied 0
set :areUnitsAvailable.1:needed 0
ubind @mega
set :areUnitsAvailable.1:firstUnit @unit
jump *label480 equal :areUnitsAvailable.1:firstUnit null
set :needsFourUnits.1:unit @unit
op sub *tmp44 .DOME_X .CORE_X
op sub *tmp45 .DOME_Y .CORE_Y
op len *tmp46 *tmp44 *tmp45
op mul *tmp47 2 *tmp46
sensor *tmp48 :needsFourUnits.1:unit @speed
op div :needsFourUnits.1:travel_time *tmp47 *tmp48
select *tmp51 greaterThanEq :needsFourUnits.1:travel_time 47 4 2
set :areUnitsAvailable.1:needed *tmp51
label *label472
sensor *tmp52 @unit @controlled
jump *label473 equal *tmp52 0
sensor *tmp54 @unit @controller
jump *label476 notEqual *tmp54 @this
label *label473
op add :areUnitsAvailable.1:free :areUnitsAvailable.1:free 1
jump *label477 lessThan :areUnitsAvailable.1:free *tmp51
set *tmp40 true
jump *label486 always
label *label476
op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
label *label477
ubind @mega
jump *label479 equal @unit :areUnitsAvailable.1:firstUnit
sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
jump *label472 equal *tmp61 0
label *label479
label *label480
print "mega: occupied: {0}, free: "
format :areUnitsAvailable.1:occupied
print :areUnitsAvailable.1:free
jump *label482 lessThanEq :areUnitsAvailable.1:needed 0
print ", needed: "
print :areUnitsAvailable.1:needed
label *label482
print "\n"
set *tmp40 false
label *label486
jump *label487 equal *tmp40 false
printflush null
set *tmp9 @mega
jump *label22 always
label *label487
label *label489
jump *label515 equal @mono UNIT_TYPE
set :areUnitsAvailable.1:free 0
set :areUnitsAvailable.1:occupied 0
set :areUnitsAvailable.1:needed 0
ubind @mono
set :areUnitsAvailable.1:firstUnit @unit
jump *label506 equal :areUnitsAvailable.1:firstUnit null
set :needsFourUnits.1:unit @unit
op sub *tmp44 .DOME_X .CORE_X
op sub *tmp45 .DOME_Y .CORE_Y
op len *tmp46 *tmp44 *tmp45
op mul *tmp47 2 *tmp46
sensor *tmp48 :needsFourUnits.1:unit @speed
op div :needsFourUnits.1:travel_time *tmp47 *tmp48
select *tmp51 greaterThanEq :needsFourUnits.1:travel_time 47 4 2
set :areUnitsAvailable.1:needed *tmp51
label *label498
sensor *tmp52 @unit @controlled
jump *label499 equal *tmp52 0
sensor *tmp54 @unit @controller
jump *label502 notEqual *tmp54 @this
label *label499
op add :areUnitsAvailable.1:free :areUnitsAvailable.1:free 1
jump *label503 lessThan :areUnitsAvailable.1:free *tmp51
set *tmp40 true
jump *label512 always
label *label502
op add :areUnitsAvailable.1:occupied :areUnitsAvailable.1:occupied 1
label *label503
ubind @mono
jump *label505 equal @unit :areUnitsAvailable.1:firstUnit
sensor *tmp61 :areUnitsAvailable.1:firstUnit @dead
jump *label498 equal *tmp61 0
label *label505
label *label506
print "mono: occupied: {0}, free: "
format :areUnitsAvailable.1:occupied
print :areUnitsAvailable.1:free
jump *label508 lessThanEq :areUnitsAvailable.1:needed 0
print ", needed: "
print :areUnitsAvailable.1:needed
label *label508
print "\n"
set *tmp40 false
label *label512
jump *label513 equal *tmp40 false
printflush null
set *tmp9 @mono
jump *label22 always
label *label513
label *label515
printflush message1
jump *label23 always
label *label22
print "[gold]Binding units..."
printflush message1
set .UNIT_P2 null
set .UNIT_S2 null
set .UNIT_P1 null
set .UNIT_S1 null
set :rebindUnits:count 0
ubind *tmp9
set :rebindUnits:firstUnit @unit
jump *label80 notEqual :rebindUnits:firstUnit null
end
label *label80
label *label82
sensor *tmp70 @unit @controller
jump *label85 notEqual *tmp70 @this
op add :rebindUnits:count :rebindUnits:count 1
ucontrol flag 1
set .UNIT_S2 .UNIT_P2
set .UNIT_P2 .UNIT_S1
set .UNIT_S1 .UNIT_P1
set .UNIT_P1 @unit
jump *label84 notEqual .UNIT_S2 null
label *label85
ubind *tmp9
jump *label84 equal @unit :rebindUnits:firstUnit
sensor *tmp78 :rebindUnits:firstUnit @dead
jump *label82 equal *tmp78 0
label *label84
jump *label92 equal .UNIT_S1 null
ubind .UNIT_S1
sensor *tmp84 @unit @dead
op equal *tmp85 *tmp84 0
sensor *tmp86 @unit @controller
op equal *tmp87 *tmp86 @this
op land *tmp88 *tmp85 *tmp87
jump *label91 notEqual *tmp88 false
label *label92
ubind *tmp9
set :rebindUnit:firstUnit @unit
jump __start__ equal :rebindUnit:firstUnit null
label *label98
sensor *tmp92 @unit @controlled
jump *label91 equal *tmp92 0
ubind *tmp9
jump __start__ equal @unit :rebindUnit:firstUnit
sensor *tmp96 :rebindUnit:firstUnit @dead
jump *label98 equal *tmp96 0
end
label *label91
ucontrol flag 1
set *tmp80 @unit
set .UNIT_S1 *tmp80
jump *label106 equal .UNIT_P1 null
ubind .UNIT_P1
sensor *tmp102 @unit @dead
op equal *tmp103 *tmp102 0
sensor *tmp104 @unit @controller
op equal *tmp105 *tmp104 @this
op land *tmp106 *tmp103 *tmp105
jump *label105 notEqual *tmp106 false
label *label106
ubind *tmp9
set :rebindUnit.1:firstUnit @unit
jump __start__ equal :rebindUnit.1:firstUnit null
label *label112
sensor *tmp110 @unit @controlled
jump *label105 equal *tmp110 0
ubind *tmp9
jump __start__ equal @unit :rebindUnit.1:firstUnit
sensor *tmp114 :rebindUnit.1:firstUnit @dead
jump *label112 equal *tmp114 0
end
label *label105
ucontrol flag 1
set *tmp98 @unit
set .UNIT_P1 *tmp98
sensor *tmp116 *tmp80 @firstItem
jump *label120 equal *tmp116 @phase-fabric
sensor *tmp118 *tmp98 @firstItem
jump *label118 notEqual *tmp118 @silicon
label *label120
set .UNIT_S1 *tmp98
set .UNIT_P1 *tmp80
label *label118
sensor .UNIT_CAPACITY .UNIT_S1 @itemCapacity
sensor .SPEED .UNIT_S1 @speed
op div .SPEED_TENTHS .SPEED 10
jump *label123 strictNotEqual .SPEED null
stop
label *label123
op sub *tmp127 .DOME_X .CORE_X
op sub *tmp128 .DOME_Y .CORE_Y
op len *tmp129 *tmp127 *tmp128
op mul *tmp130 2 *tmp129
op div :needsFourUnits.2:travel_time *tmp130 .SPEED
op greaterThanEq *tmp126 :needsFourUnits.2:travel_time 47
jump *label126 lessThan :needsFourUnits.2:travel_time 47
jump *label130 equal .UNIT_S2 null
ubind .UNIT_S2
sensor *tmp139 @unit @dead
op equal *tmp140 *tmp139 0
sensor *tmp141 @unit @controller
op equal *tmp142 *tmp141 @this
op land *tmp143 *tmp140 *tmp142
jump *label129 notEqual *tmp143 false
label *label130
ubind *tmp9
set :rebindUnit.2:firstUnit @unit
jump __start__ equal :rebindUnit.2:firstUnit null
label *label136
sensor *tmp147 @unit @controlled
jump *label129 equal *tmp147 0
ubind *tmp9
jump __start__ equal @unit :rebindUnit.2:firstUnit
sensor *tmp151 :rebindUnit.2:firstUnit @dead
jump *label136 equal *tmp151 0
end
label *label129
ucontrol flag 1
set *tmp135 @unit
set .UNIT_S2 *tmp135
jump *label144 equal .UNIT_P2 null
ubind .UNIT_P2
sensor *tmp157 @unit @dead
op equal *tmp158 *tmp157 0
sensor *tmp159 @unit @controller
op equal *tmp160 *tmp159 @this
op land *tmp161 *tmp158 *tmp160
jump *label143 notEqual *tmp161 false
label *label144
ubind *tmp9
set :rebindUnit.3:firstUnit @unit
jump __start__ equal :rebindUnit.3:firstUnit null
label *label150
sensor *tmp165 @unit @controlled
jump *label143 equal *tmp165 0
ubind *tmp9
jump __start__ equal @unit :rebindUnit.3:firstUnit
sensor *tmp169 :rebindUnit.3:firstUnit @dead
jump *label150 equal *tmp169 0
end
label *label143
ucontrol flag 1
set *tmp153 @unit
set .UNIT_P2 *tmp153
sensor *tmp171 .UNIT_S1 @firstItem
jump *label156 notEqual *tmp171 @phase-fabric
sensor *tmp173 *tmp153 @firstItem
jump *label156 equal *tmp173 @phase-fabric
set :swap.1:t .UNIT_S1
set .UNIT_S1 *tmp153
set .UNIT_P2 :swap.1:t
label *label156
sensor *tmp176 *tmp135 @firstItem
jump *label163 equal *tmp176 @phase-fabric
sensor *tmp178 .UNIT_P2 @firstItem
jump *label161 notEqual *tmp178 @silicon
label *label163
set .UNIT_S2 .UNIT_P2
set .UNIT_P2 *tmp135
label *label161
set .GROUP1 "unit  1"
set .GROUP2 "unit 2"
jump *label127 always
label *label126
ubind .UNIT_S2
ucontrol unbind
set .UNIT_S2 null
ubind .UNIT_P2
ucontrol unbind
set .UNIT_P2 null
set .GROUP1 "unit"
label *label127
jump *label166 notEqual *tmp126 false
set .SUPPLY_S_FIRST true
jump *label167 always
label *label166
sensor *tmp182 .UNIT_S1 @totalItems
sensor *tmp183 .UNIT_S2 @totalItems
op lessThan .SUPPLY_S_FIRST *tmp182 *tmp183
label *label167
jump *label170 notEqual *tmp126 false
set .SUPPLY_P_FIRST true
jump *label171 always
label *label170
sensor *tmp187 .UNIT_P1 @totalItems
sensor *tmp188 .UNIT_P2 @totalItems
op lessThan .SUPPLY_P_FIRST *tmp187 *tmp188
label *label171
op add :unitCheck @time 5000
sensor *tmp192 switch1 @enabled
jump __start__ equal *tmp192 false
label *label415
set :start @time
print " === [gold]Supplying Overdrive Dome[] === \n\nUnit type: [green]{0}[]\n\n[green]Silicon[] status:\n"
format *tmp9
sensor :printDomeStatus:level .DOME @silicon
jump *label178 lessThanEq :printDomeStatus:level 3
print "  dome:  [green]{0}[]\n"
format :printDomeStatus:level
jump *label179 always
label *label178
print "  dome:  [coral]{0}[]\n"
format :printDomeStatus:level
label *label179
jump *label182 equal .UNIT_S1 null
ubind .UNIT_S1
sensor *tmp199 @unit @dead
op equal *tmp200 *tmp199 0
sensor *tmp201 @unit @controller
op equal *tmp202 *tmp201 @this
op land *tmp203 *tmp200 *tmp202
jump *label181 notEqual *tmp203 false
label *label182
ubind *tmp9
set :rebindUnit.4:firstUnit @unit
jump __start__ equal :rebindUnit.4:firstUnit null
label *label188
sensor *tmp207 @unit @controlled
jump *label181 equal *tmp207 0
ubind *tmp9
jump __start__ equal @unit :rebindUnit.4:firstUnit
sensor *tmp211 :rebindUnit.4:firstUnit @dead
jump *label188 equal *tmp211 0
end
label *label181
sensor :processUnit:state @unit @flag
set :processUnit:distance -1
jump *label196 lessThan :processUnit:state 2
jump *label194 lessThanEq :processUnit:state 3
label *label196
sensor *tmp217 @unit @firstItem
jump *label198 notEqual *tmp217 @silicon
set :processUnit:state 3
jump *label199 always
label *label198
sensor *tmp220 @unit @totalItems
jump *label200 notEqual *tmp220 0
set :processUnit:state 2
jump *label201 always
label *label200
set .MSG ", initializing\n"
ucontrol approach .CORE_X .CORE_Y 6
ucontrol within .CORE_X .CORE_Y 8 *tmp223
jump *label202 equal *tmp223 false
ucontrol itemDrop .CORE .UNIT_CAPACITY
label *label202
label *label201
label *label199
label *label194
jump *label204 notEqual :processUnit:state 2
ucontrol within .CORE_X .CORE_Y 8 *tmp227
jump *label206 equal *tmp227 false
ucontrol itemTake .CORE @silicon .UNIT_CAPACITY
sensor *tmp229 @unit @totalItems
jump *label208 lessThan *tmp229 .UNIT_CAPACITY
ucontrol approach .DOME_X .DOME_Y 6
set :processUnit:state 3
jump *label207 always
label *label208
set .MSG ", loading\n"
jump *label207 always
label *label206
ucontrol approach .CORE_X .CORE_Y 6
set .MSG ", fetching in [gold]"
sensor *tmp232 @unit @x
op sub *tmp233 .CORE_X *tmp232
sensor *tmp234 @unit @y
op sub *tmp235 .CORE_Y *tmp234
op len *tmp236 *tmp233 *tmp235
op idiv *tmp237 *tmp236 .SPEED_TENTHS
op div :processUnit:distance *tmp237 10
label *label207
label *label204
jump *label210 notEqual :processUnit:state 3
ucontrol within .DOME_X .DOME_Y 8 *tmp241
jump *label212 equal *tmp241 false
jump *label214 equal .SUPPLY_S_FIRST false
ucontrol itemDrop .DOME .UNIT_CAPACITY
set .MSG ", supplying\n"
jump *label215 always
label *label214
ucontrol approach .DOME_X .DOME_Y 6
set .MSG ", waiting\n"
label *label215
sensor *tmp244 @unit @totalItems
jump *label213 greaterThan *tmp244 0
ucontrol approach .CORE_X .CORE_Y 6
set :processUnit:state 2
jump *label213 always
label *label212
ucontrol approach .DOME_X .DOME_Y 6
set .MSG ", returning in [gold]"
sensor *tmp247 @unit @x
op sub *tmp248 .DOME_X *tmp247
sensor *tmp249 @unit @y
op sub *tmp250 .DOME_Y *tmp249
op len *tmp251 *tmp248 *tmp250
op idiv *tmp252 *tmp251 .SPEED_TENTHS
op div :processUnit:distance *tmp252 10
label *label213
label *label210
ucontrol flag :processUnit:state
sensor *tmp254 @unit @totalItems
print "  {0}: [gold]{0}[]"
format .GROUP1
format *tmp254
jump *label218 lessThan :processUnit:distance 0
print .MSG
print :processUnit:distance
print "[] sec\n"
jump *label219 always
label *label218
print .MSG
label *label219
set :processUnit:unit @unit
set .UNIT_S1 :processUnit:unit
jump *label220 equal *tmp126 false
jump *label224 equal .UNIT_S2 null
ubind .UNIT_S2
sensor *tmp263 @unit @dead
op equal *tmp264 *tmp263 0
sensor *tmp265 @unit @controller
op equal *tmp266 *tmp265 @this
op land *tmp267 *tmp264 *tmp266
jump *label223 notEqual *tmp267 false
label *label224
ubind *tmp9
set :rebindUnit.5:firstUnit @unit
jump __start__ equal :rebindUnit.5:firstUnit null
label *label230
sensor *tmp271 @unit @controlled
jump *label223 equal *tmp271 0
ubind *tmp9
jump __start__ equal @unit :rebindUnit.5:firstUnit
sensor *tmp275 :rebindUnit.5:firstUnit @dead
jump *label230 equal *tmp275 0
end
label *label223
sensor :processUnit.1:state @unit @flag
set :processUnit.1:distance -1
jump *label238 lessThan :processUnit.1:state 2
jump *label236 lessThanEq :processUnit.1:state 3
label *label238
sensor *tmp281 @unit @firstItem
jump *label240 notEqual *tmp281 @silicon
set :processUnit.1:state 3
jump *label241 always
label *label240
sensor *tmp284 @unit @totalItems
jump *label242 notEqual *tmp284 0
set :processUnit.1:state 2
jump *label243 always
label *label242
set .MSG ", initializing\n"
ucontrol approach .CORE_X .CORE_Y 6
ucontrol within .CORE_X .CORE_Y 8 *tmp287
jump *label244 equal *tmp287 false
ucontrol itemDrop .CORE .UNIT_CAPACITY
label *label244
label *label243
label *label241
label *label236
jump *label246 notEqual :processUnit.1:state 2
ucontrol within .CORE_X .CORE_Y 8 *tmp291
jump *label248 equal *tmp291 false
ucontrol itemTake .CORE @silicon .UNIT_CAPACITY
sensor *tmp293 @unit @totalItems
jump *label250 lessThan *tmp293 .UNIT_CAPACITY
ucontrol approach .DOME_X .DOME_Y 6
set :processUnit.1:state 3
jump *label249 always
label *label250
set .MSG ", loading\n"
jump *label249 always
label *label248
ucontrol approach .CORE_X .CORE_Y 6
set .MSG ", fetching in [gold]"
sensor *tmp296 @unit @x
op sub *tmp297 .CORE_X *tmp296
sensor *tmp298 @unit @y
op sub *tmp299 .CORE_Y *tmp298
op len *tmp300 *tmp297 *tmp299
op idiv *tmp301 *tmp300 .SPEED_TENTHS
op div :processUnit.1:distance *tmp301 10
label *label249
label *label246
jump *label252 notEqual :processUnit.1:state 3
ucontrol within .DOME_X .DOME_Y 8 *tmp305
jump *label254 equal *tmp305 false
jump *label256 notEqual .SUPPLY_S_FIRST false
ucontrol itemDrop .DOME .UNIT_CAPACITY
set .MSG ", supplying\n"
jump *label257 always
label *label256
ucontrol approach .DOME_X .DOME_Y 6
set .MSG ", waiting\n"
label *label257
sensor *tmp308 @unit @totalItems
jump *label255 greaterThan *tmp308 0
ucontrol approach .CORE_X .CORE_Y 6
set :processUnit.1:state 2
jump *label255 always
label *label254
ucontrol approach .DOME_X .DOME_Y 6
set .MSG ", returning in [gold]"
sensor *tmp311 @unit @x
op sub *tmp312 .DOME_X *tmp311
sensor *tmp313 @unit @y
op sub *tmp314 .DOME_Y *tmp313
op len *tmp315 *tmp312 *tmp314
op idiv *tmp316 *tmp315 .SPEED_TENTHS
op div :processUnit.1:distance *tmp316 10
label *label255
label *label252
ucontrol flag :processUnit.1:state
sensor *tmp318 @unit @totalItems
print "  {0}: [gold]{0}[]"
format .GROUP2
format *tmp318
jump *label260 lessThan :processUnit.1:distance 0
print .MSG
print :processUnit.1:distance
print "[] sec\n"
jump *label261 always
label *label260
print .MSG
label *label261
set :processUnit.1:unit @unit
set .UNIT_S2 :processUnit.1:unit
jump *label262 equal .SUPPLY_S_FIRST false
sensor *tmp323 :processUnit:unit @totalItems
op greaterThan .SUPPLY_S_FIRST *tmp323 0
jump *label263 always
label *label262
sensor *tmp325 :processUnit.1:unit @totalItems
op equal .SUPPLY_S_FIRST *tmp325 0
label *label263
label *label220
print "\n[green]Phase fabric[] status:\n"
sensor :printDomeStatus.1:level .DOME @phase-fabric
jump *label265 lessThanEq :printDomeStatus.1:level 3
print "  dome:  [green]{0}[]\n"
format :printDomeStatus.1:level
jump *label266 always
label *label265
print "  dome:  [coral]{0}[]\n"
format :printDomeStatus.1:level
label *label266
jump *label269 equal .UNIT_P1 null
ubind .UNIT_P1
sensor *tmp333 @unit @dead
op equal *tmp334 *tmp333 0
sensor *tmp335 @unit @controller
op equal *tmp336 *tmp335 @this
op land *tmp337 *tmp334 *tmp336
jump *label268 notEqual *tmp337 false
label *label269
ubind *tmp9
set :rebindUnit.6:firstUnit @unit
jump __start__ equal :rebindUnit.6:firstUnit null
label *label275
sensor *tmp341 @unit @controlled
jump *label268 equal *tmp341 0
ubind *tmp9
jump __start__ equal @unit :rebindUnit.6:firstUnit
sensor *tmp345 :rebindUnit.6:firstUnit @dead
jump *label275 equal *tmp345 0
end
label *label268
sensor :processUnit.2:state @unit @flag
set :processUnit.2:distance -1
jump *label283 lessThan :processUnit.2:state 2
jump *label281 lessThanEq :processUnit.2:state 3
label *label283
sensor *tmp351 @unit @firstItem
jump *label285 notEqual *tmp351 @phase-fabric
set :processUnit.2:state 3
jump *label286 always
label *label285
sensor *tmp354 @unit @totalItems
jump *label287 notEqual *tmp354 0
set :processUnit.2:state 2
jump *label288 always
label *label287
set .MSG ", initializing\n"
ucontrol approach .CORE_X .CORE_Y 6
ucontrol within .CORE_X .CORE_Y 8 *tmp357
jump *label289 equal *tmp357 false
ucontrol itemDrop .CORE .UNIT_CAPACITY
label *label289
label *label288
label *label286
label *label281
jump *label291 notEqual :processUnit.2:state 2
ucontrol within .CORE_X .CORE_Y 8 *tmp361
jump *label293 equal *tmp361 false
ucontrol itemTake .CORE @phase-fabric .UNIT_CAPACITY
sensor *tmp363 @unit @totalItems
jump *label295 lessThan *tmp363 .UNIT_CAPACITY
ucontrol approach .DOME_X .DOME_Y 6
set :processUnit.2:state 3
jump *label294 always
label *label295
set .MSG ", loading\n"
jump *label294 always
label *label293
ucontrol approach .CORE_X .CORE_Y 6
set .MSG ", fetching in [gold]"
sensor *tmp366 @unit @x
op sub *tmp367 .CORE_X *tmp366
sensor *tmp368 @unit @y
op sub *tmp369 .CORE_Y *tmp368
op len *tmp370 *tmp367 *tmp369
op idiv *tmp371 *tmp370 .SPEED_TENTHS
op div :processUnit.2:distance *tmp371 10
label *label294
label *label291
jump *label297 notEqual :processUnit.2:state 3
ucontrol within .DOME_X .DOME_Y 8 *tmp375
jump *label299 equal *tmp375 false
jump *label301 equal .SUPPLY_P_FIRST false
ucontrol itemDrop .DOME .UNIT_CAPACITY
set .MSG ", supplying\n"
jump *label302 always
label *label301
ucontrol approach .DOME_X .DOME_Y 6
set .MSG ", waiting\n"
label *label302
sensor *tmp378 @unit @totalItems
jump *label300 greaterThan *tmp378 0
ucontrol approach .CORE_X .CORE_Y 6
set :processUnit.2:state 2
jump *label300 always
label *label299
ucontrol approach .DOME_X .DOME_Y 6
set .MSG ", returning in [gold]"
sensor *tmp381 @unit @x
op sub *tmp382 .DOME_X *tmp381
sensor *tmp383 @unit @y
op sub *tmp384 .DOME_Y *tmp383
op len *tmp385 *tmp382 *tmp384
op idiv *tmp386 *tmp385 .SPEED_TENTHS
op div :processUnit.2:distance *tmp386 10
label *label300
label *label297
ucontrol flag :processUnit.2:state
sensor *tmp388 @unit @totalItems
print "  {0}: [gold]{0}[]"
format .GROUP1
format *tmp388
jump *label305 lessThan :processUnit.2:distance 0
print .MSG
print :processUnit.2:distance
print "[] sec\n"
jump *label306 always
label *label305
print .MSG
label *label306
set :processUnit.2:unit @unit
set .UNIT_P1 :processUnit.2:unit
jump *label307 equal *tmp126 false
jump *label311 equal .UNIT_P2 null
ubind .UNIT_P2
sensor *tmp397 @unit @dead
op equal *tmp398 *tmp397 0
sensor *tmp399 @unit @controller
op equal *tmp400 *tmp399 @this
op land *tmp401 *tmp398 *tmp400
jump *label310 notEqual *tmp401 false
label *label311
ubind *tmp9
set :rebindUnit.7:firstUnit @unit
jump __start__ equal :rebindUnit.7:firstUnit null
label *label317
sensor *tmp405 @unit @controlled
jump *label310 equal *tmp405 0
ubind *tmp9
jump __start__ equal @unit :rebindUnit.7:firstUnit
sensor *tmp409 :rebindUnit.7:firstUnit @dead
jump *label317 equal *tmp409 0
end
label *label310
sensor :processUnit.3:state @unit @flag
set :processUnit.3:distance -1
jump *label325 lessThan :processUnit.3:state 2
jump *label323 lessThanEq :processUnit.3:state 3
label *label325
sensor *tmp415 @unit @firstItem
jump *label327 notEqual *tmp415 @phase-fabric
set :processUnit.3:state 3
jump *label328 always
label *label327
sensor *tmp418 @unit @totalItems
jump *label329 notEqual *tmp418 0
set :processUnit.3:state 2
jump *label330 always
label *label329
set .MSG ", initializing\n"
ucontrol approach .CORE_X .CORE_Y 6
ucontrol within .CORE_X .CORE_Y 8 *tmp421
jump *label331 equal *tmp421 false
ucontrol itemDrop .CORE .UNIT_CAPACITY
label *label331
label *label330
label *label328
label *label323
jump *label333 notEqual :processUnit.3:state 2
ucontrol within .CORE_X .CORE_Y 8 *tmp425
jump *label335 equal *tmp425 false
ucontrol itemTake .CORE @phase-fabric .UNIT_CAPACITY
sensor *tmp427 @unit @totalItems
jump *label337 lessThan *tmp427 .UNIT_CAPACITY
ucontrol approach .DOME_X .DOME_Y 6
set :processUnit.3:state 3
jump *label336 always
label *label337
set .MSG ", loading\n"
jump *label336 always
label *label335
ucontrol approach .CORE_X .CORE_Y 6
set .MSG ", fetching in [gold]"
sensor *tmp430 @unit @x
op sub *tmp431 .CORE_X *tmp430
sensor *tmp432 @unit @y
op sub *tmp433 .CORE_Y *tmp432
op len *tmp434 *tmp431 *tmp433
op idiv *tmp435 *tmp434 .SPEED_TENTHS
op div :processUnit.3:distance *tmp435 10
label *label336
label *label333
jump *label339 notEqual :processUnit.3:state 3
ucontrol within .DOME_X .DOME_Y 8 *tmp439
jump *label341 equal *tmp439 false
jump *label343 notEqual .SUPPLY_P_FIRST false
ucontrol itemDrop .DOME .UNIT_CAPACITY
set .MSG ", supplying\n"
jump *label344 always
label *label343
ucontrol approach .DOME_X .DOME_Y 6
set .MSG ", waiting\n"
label *label344
sensor *tmp442 @unit @totalItems
jump *label342 greaterThan *tmp442 0
ucontrol approach .CORE_X .CORE_Y 6
set :processUnit.3:state 2
jump *label342 always
label *label341
ucontrol approach .DOME_X .DOME_Y 6
set .MSG ", returning in [gold]"
sensor *tmp445 @unit @x
op sub *tmp446 .DOME_X *tmp445
sensor *tmp447 @unit @y
op sub *tmp448 .DOME_Y *tmp447
op len *tmp449 *tmp446 *tmp448
op idiv *tmp450 *tmp449 .SPEED_TENTHS
op div :processUnit.3:distance *tmp450 10
label *label342
label *label339
ucontrol flag :processUnit.3:state
sensor *tmp452 @unit @totalItems
print "  {0}: [gold]{0}[]"
format .GROUP2
format *tmp452
jump *label347 lessThan :processUnit.3:distance 0
print .MSG
print :processUnit.3:distance
print "[] sec\n"
jump *label348 always
label *label347
print .MSG
label *label348
set :processUnit.3:unit @unit
set .UNIT_P2 :processUnit.3:unit
jump *label349 equal .SUPPLY_P_FIRST false
sensor *tmp457 :processUnit.2:unit @totalItems
op greaterThan .SUPPLY_P_FIRST *tmp457 0
jump *label350 always
label *label349
sensor *tmp459 :processUnit.3:unit @totalItems
op equal .SUPPLY_P_FIRST *tmp459 0
label *label350
label *label307
op sub *tmp461 @time :start
op floor *tmp462 *tmp461
print "\n[lightgray]Loop time: {0} ms"
format *tmp462
printflush message1
jump *label351 equal *tmp9 UNIT_TYPE
jump *label351 lessThanEq :unitCheck @time
set :areUnitsAvailable.2:free 0
set :areUnitsAvailable.2:occupied 0
ubind UNIT_TYPE
set :areUnitsAvailable.2:firstUnit @unit
jump *label373 equal :areUnitsAvailable.2:firstUnit null
set :needsFourUnits.3:unit @unit
sensor *tmp474 :needsFourUnits.3:unit @speed
op div :needsFourUnits.3:travel_time *tmp130 *tmp474
select *tmp477 greaterThanEq :needsFourUnits.3:travel_time 47 4 2
label *label363
sensor *tmp478 @unit @controlled
jump *label368 equal *tmp478 0
sensor *tmp480 @unit @controller
jump *label366 notEqual *tmp480 @this
label *label368
op add :areUnitsAvailable.2:free :areUnitsAvailable.2:free 1
jump *label367 lessThan :areUnitsAvailable.2:free *tmp477
set *tmp466 true
jump *label357 always
label *label366
op add :areUnitsAvailable.2:occupied :areUnitsAvailable.2:occupied 1
label *label367
ubind UNIT_TYPE
jump *label373 equal @unit :areUnitsAvailable.2:firstUnit
sensor *tmp487 :areUnitsAvailable.2:firstUnit @dead
jump *label363 equal *tmp487 0
label *label373
set *tmp466 false
label *label357
jump *label355 equal *tmp466 false
end
label *label355
op add :unitCheck @time 5000
label *label351
sensor *tmp192 switch1 @enabled
jump *label415 notEqual *tmp192 false
end
label *label0
ubind :locateCore:type
sensor *tmp494 @unit @controlled
jump *label380 equal *tmp494 0
sensor *tmp496 @unit @controller
jump *label378 notEqual *tmp496 @this
label *label380
ulocate building core false @copper 0 0 0 .CORE
label *label378
set :locateCore*retval .CORE
return :locateCore*retaddr
