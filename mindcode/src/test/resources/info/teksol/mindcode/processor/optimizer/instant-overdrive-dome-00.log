   454 instructions before optimizations.
    33 instructions eliminated by Temp Variables Elimination.
    63 instructions eliminated by Dead Code Elimination (6 iterations).
     2 instructions eliminated by Jump Normalization (3 iterations).
    22 instructions eliminated by Jump Optimization (3 iterations).
    23 instructions eliminated by Single Step Elimination (2 passes, 5 iterations).
     2 instructions eliminated by If Expression Optimization (2 iterations).
    24 instructions eliminated by Data Flow Optimization (4 passes, 15 iterations).
     2 instructions added by Loop Optimization (2 iterations).
     3 loops improved by Loop Optimization.
   349 instructions added by Function Inlining (8 iterations).
    11 function calls inlined by Function Inlining.
     2 instructions eliminated by Jump Straightening (3 iterations).
     8 instructions updated by PropagateJumpTargets.
     8 instructions eliminated by Unreachable Code Elimination.
     1 instructions eliminated by Print Merging.
   625 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 689):
  * Loop Optimization: replicate condition at line 38            cost     1, benefit       25,0, efficiency       25,0 (+1 instructions)
    Loop Optimization: replicate condition at line 115           cost     1, benefit       25,0, efficiency       25,0
    Function Inlining: inline function processUnit               cost   257, benefit      375,0, efficiency        1,5
    Function Inlining: inline function findUnit                  cost    67, benefit      117,0, efficiency        1,7
    Function Inlining: inline function printDomeStatus           cost     8, benefit      200,0, efficiency       25,0
    Function Inlining: inline function call at line 50           cost    17, benefit        1,5, efficiency        0,1
    Function Inlining: inline function call at line 51           cost    17, benefit        1,5, efficiency        0,1
    Function Inlining: inline function call at line 84           cost    17, benefit        0,8, efficiency        0,0
    Function Inlining: inline function call at line 85           cost    17, benefit        0,8, efficiency        0,0
    Function Inlining: inline function call at line 120          cost     9, benefit      100,0, efficiency       11,1
    Function Inlining: inline function call at line 121          cost    86, benefit      125,0, efficiency        1,5
    Function Inlining: inline function call at line 123          cost    86, benefit       62,5, efficiency        0,7
    Function Inlining: inline function call at line 127          cost     9, benefit      100,0, efficiency       11,1
    Function Inlining: inline function call at line 128          cost    86, benefit      125,0, efficiency        1,5
    Function Inlining: inline function call at line 130          cost    86, benefit       62,5, efficiency        0,7
    Function Inlining: inline function call at line 191          cost    17, benefit      112,5, efficiency        6,6

Pass 1: speed optimization selection (cost limit 688):
  * Loop Optimization: replicate condition at line 115           cost     1, benefit       25,0, efficiency       25,0 (+1 instructions)
    Function Inlining: inline function processUnit               cost   257, benefit      375,0, efficiency        1,5
    Function Inlining: inline function findUnit                  cost    67, benefit      117,0, efficiency        1,7
    Function Inlining: inline function printDomeStatus           cost     8, benefit      200,0, efficiency       25,0
    Function Inlining: inline function call at line 50           cost    17, benefit        1,5, efficiency        0,1
    Function Inlining: inline function call at line 51           cost    17, benefit        1,5, efficiency        0,1
    Function Inlining: inline function call at line 84           cost    17, benefit        0,8, efficiency        0,0
    Function Inlining: inline function call at line 85           cost    17, benefit        0,8, efficiency        0,0
    Function Inlining: inline function call at line 120          cost     9, benefit      100,0, efficiency       11,1
    Function Inlining: inline function call at line 121          cost    86, benefit      125,0, efficiency        1,5
    Function Inlining: inline function call at line 123          cost    86, benefit       62,5, efficiency        0,7
    Function Inlining: inline function call at line 127          cost     9, benefit      100,0, efficiency       11,1
    Function Inlining: inline function call at line 128          cost    86, benefit      125,0, efficiency        1,5
    Function Inlining: inline function call at line 130          cost    86, benefit       62,5, efficiency        0,7
    Function Inlining: inline function call at line 191          cost    17, benefit      112,5, efficiency        6,6

Pass 1: speed optimization selection (cost limit 687):
    Function Inlining: inline function processUnit               cost   257, benefit      375,0, efficiency        1,5
    Function Inlining: inline function findUnit                  cost    67, benefit      117,0, efficiency        1,7
  * Function Inlining: inline function printDomeStatus           cost     8, benefit      200,0, efficiency       25,0 (+0 instructions)
    Function Inlining: inline function call at line 50           cost    17, benefit        1,5, efficiency        0,1
    Function Inlining: inline function call at line 51           cost    17, benefit        1,5, efficiency        0,1
    Function Inlining: inline function call at line 84           cost    17, benefit        0,8, efficiency        0,0
    Function Inlining: inline function call at line 85           cost    17, benefit        0,8, efficiency        0,0
    Function Inlining: inline function call at line 120          cost     9, benefit      100,0, efficiency       11,1
    Function Inlining: inline function call at line 121          cost    86, benefit      125,0, efficiency        1,5
    Function Inlining: inline function call at line 123          cost    86, benefit       62,5, efficiency        0,7
    Function Inlining: inline function call at line 127          cost     9, benefit      100,0, efficiency       11,1
    Function Inlining: inline function call at line 128          cost    86, benefit      125,0, efficiency        1,5
    Function Inlining: inline function call at line 130          cost    86, benefit       62,5, efficiency        0,7
    Function Inlining: inline function call at line 191          cost    17, benefit      112,5, efficiency        6,6

Pass 1: speed optimization selection (cost limit 687):
    Function Inlining: inline function processUnit               cost   257, benefit      375,0, efficiency        1,5
    Function Inlining: inline function findUnit                  cost    67, benefit      117,0, efficiency        1,7
    Function Inlining: inline function call at line 50           cost    17, benefit        1,5, efficiency        0,1
    Function Inlining: inline function call at line 51           cost    17, benefit        1,5, efficiency        0,1
    Function Inlining: inline function call at line 84           cost    17, benefit        0,8, efficiency        0,0
    Function Inlining: inline function call at line 85           cost    17, benefit        0,8, efficiency        0,0
    Function Inlining: inline function call at line 121          cost    86, benefit      125,0, efficiency        1,5
    Function Inlining: inline function call at line 123          cost    86, benefit       62,5, efficiency        0,7
    Function Inlining: inline function call at line 128          cost    86, benefit      125,0, efficiency        1,5
    Function Inlining: inline function call at line 130          cost    86, benefit       62,5, efficiency        0,7
  * Function Inlining: inline function call at line 191          cost    17, benefit      112,5, efficiency        6,6 (+14 instructions)

Pass 1: speed optimization selection (cost limit 673):
  * Function Inlining: inline function processUnit               cost   299, benefit      375,0, efficiency        1,3 (+273 instructions)
    Function Inlining: inline function findUnit                  cost    50, benefit        4,5, efficiency        0,1
    Function Inlining: inline function call at line 50           cost    17, benefit        1,5, efficiency        0,1
    Function Inlining: inline function call at line 51           cost    17, benefit        1,5, efficiency        0,1
    Function Inlining: inline function call at line 84           cost    17, benefit        0,8, efficiency        0,0
    Function Inlining: inline function call at line 85           cost    17, benefit        0,8, efficiency        0,0
    Function Inlining: inline function call at line 121          cost   100, benefit      125,0, efficiency        1,3
    Function Inlining: inline function call at line 123          cost   100, benefit       62,5, efficiency        0,6
    Function Inlining: inline function call at line 128          cost   100, benefit      125,0, efficiency        1,3
    Function Inlining: inline function call at line 130          cost   100, benefit       62,5, efficiency        0,6

Pass 1: speed optimization selection (cost limit 400):
  * Function Inlining: inline function findUnit                  cost    50, benefit        4,5, efficiency        0,1 (+40 instructions)
    Function Inlining: inline function call at line 50           cost    17, benefit        1,5, efficiency        0,1
    Function Inlining: inline function call at line 51           cost    17, benefit        1,5, efficiency        0,1
    Function Inlining: inline function call at line 84           cost    17, benefit        0,8, efficiency        0,0
    Function Inlining: inline function call at line 85           cost    17, benefit        0,8, efficiency        0,0

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-33 instructions):
 
    31 ubind UNIT
    32 op notEqual __tmp4 @unit null
    33 jump __label14 equal __tmp4 false
-    * set __tmp6 @unit
-    * set __fn3_first_unit __tmp6
+   34 set __fn3_first_unit @unit
    35 jump __label13 always
    36 set __tmp5 null
    37 jump __label15 always
 
    45 label __label12
    46 jump __label11 always
    47 label __label13
-    * set __tmp7 @unit
-    * set __fn3_first_unit __tmp7
+   48 set __fn3_first_unit @unit
    49 label __label16
    50 sensor __tmp8 @unit @controller
    51 op equal __tmp9 __tmp8 @this
    52 jump __label19 equal __tmp9 false
-    * op add __tmp11 __fn3_count 1
-    * set __fn3_count __tmp11
+   53 op add __fn3_count __fn3_count 1
    54 ucontrol flag 1
    55 set UNIT_S2 UNIT_P2
    56 set UNIT_P2 UNIT_S1
    57 set UNIT_S1 UNIT_P1
-    * set __tmp12 @unit
-    * set UNIT_P1 __tmp12
+   58 set UNIT_P1 @unit
    59 op notEqual __tmp13 UNIT_S2 null
    60 jump __label21 equal __tmp13 false
    61 jump __label18 always
 
    86 setaddr __fn1retaddr __label25
    87 call __label1
    88 gotolabel __label25 __fn1
-    * set __tmp21 __fn1retval
-    * set UNIT_S1 __tmp21
+   89 set UNIT_S1 __fn1retval
    90 set __tmp20 UNIT_S1
    91 jump __label24 always
    92 label __label23
 
    97 setaddr __fn1retaddr __label28
    98 call __label1
    99 gotolabel __label28 __fn1
-    * set __tmp24 __fn1retval
-    * set UNIT_P1 __tmp24
+  100 set UNIT_P1 __fn1retval
   101 set __tmp23 UNIT_P1
   102 jump __label27 always
   103 label __label26
 
   117 label __label29
   118 set __tmp30 null
   119 label __label30
-    * sensor __tmp31 UNIT_S1 @itemCapacity
-    * set UNIT_CAPACITY __tmp31
-    * sensor __tmp32 UNIT_S1 @speed
-    * set SPEED __tmp32
-    * op div __tmp33 SPEED 10
-    * set SPEED_TENTHS __tmp33
+  120 sensor UNIT_CAPACITY UNIT_S1 @itemCapacity
+  121 sensor SPEED UNIT_S1 @speed
+  122 op div SPEED_TENTHS SPEED 10
   123 print "[gold]Locating core..."
   124 printflush message1
   125 label __label31
-    * ulocate building core false @copper __tmp35 __tmp36 __tmp37 __tmp34
-    * set CORE __tmp34
+  126 ulocate building core false @copper __tmp35 __tmp36 __tmp37 CORE
   127 label __label32
   128 op equal __tmp38 CORE null
   129 jump __label31 notEqual __tmp38 false
   130 label __label33
-    * sensor __tmp39 CORE @x
-    * set CORE_X __tmp39
-    * sensor __tmp40 CORE @y
-    * set CORE_Y __tmp40
-    * sensor __tmp41 DOME @x
-    * set DOME_X __tmp41
-    * sensor __tmp42 DOME @y
-    * set DOME_Y __tmp42
+  131 sensor CORE_X CORE @x
+  132 sensor CORE_Y CORE @y
+  133 sensor DOME_X DOME @x
+  134 sensor DOME_Y DOME @y
   135 op sub __tmp43 DOME_X CORE_X
   136 op sub __tmp44 DOME_Y CORE_Y
   137 op len __tmp45 __tmp43 __tmp44
   138 op mul __tmp46 2 __tmp45
-    * op div __tmp47 __tmp46 SPEED
-    * set travel_time __tmp47
-    * op greaterThanEq __tmp48 travel_time 47
-    * set FOUR_UNITS __tmp48
+  139 op div travel_time __tmp46 SPEED
+  140 op greaterThanEq FOUR_UNITS travel_time 47
   141 jump __label34 equal FOUR_UNITS false
   142 op equal __tmp50 UNIT_S2 null
   143 jump __label36 equal __tmp50 false
   144 setaddr __fn1retaddr __label38
   145 call __label1
   146 gotolabel __label38 __fn1
-    * set __tmp52 __fn1retval
-    * set UNIT_S2 __tmp52
+  147 set UNIT_S2 __fn1retval
   148 set __tmp51 UNIT_S2
   149 jump __label37 always
   150 label __label36
 
   155 setaddr __fn1retaddr __label41
   156 call __label1
   157 gotolabel __label41 __fn1
-    * set __tmp55 __fn1retval
-    * set UNIT_P2 __tmp55
+  158 set UNIT_P2 __fn1retval
   159 set __tmp54 UNIT_P2
   160 jump __label40 always
   161 label __label39
 
   207 sensor __tmp69 UNIT_S1 @totalItems
   208 sensor __tmp70 UNIT_S2 @totalItems
   209 op lessThan __tmp71 __tmp69 __tmp70
-    * op or __tmp72 __tmp68 __tmp71
-    * set SUPPLY_S_FIRST __tmp72
+  210 op or SUPPLY_S_FIRST __tmp68 __tmp71
   211 op equal __tmp73 FOUR_UNITS false
   212 sensor __tmp74 UNIT_P1 @totalItems
   213 sensor __tmp75 UNIT_P2 @totalItems
   214 op lessThan __tmp76 __tmp74 __tmp75
-    * op or __tmp77 __tmp73 __tmp76
-    * set SUPPLY_P_FIRST __tmp77
+  215 op or SUPPLY_P_FIRST __tmp73 __tmp76
   216 label __label46
   217 sensor __tmp78 switch1 @enabled
   218 jump __label48 equal __tmp78 false
-    * set __tmp79 @time
-    * set start __tmp79
+  219 set start @time
   220 print " === [gold]Supplying Overdrive Dome[] === "
   221 print "\n"
   222 set __fn2_item @silicon
 
   232 setaddr __fn0retaddr __label50
   233 call __label0
   234 gotolabel __label50 __fn0
-    * set __tmp81 __fn0retval
-    * set UNIT_S1 __tmp81
+  235 set UNIT_S1 __fn0retval
   236 jump __label51 equal FOUR_UNITS false
   237 op equal __tmp83 SUPPLY_S_FIRST false
   238 set __fn0_unit UNIT_S2
 
   242 setaddr __fn0retaddr __label53
   243 call __label0
   244 gotolabel __label53 __fn0
-    * set __tmp84 __fn0retval
-    * set UNIT_S2 __tmp84
+  245 set UNIT_S2 __fn0retval
   246 jump __label54 equal SUPPLY_S_FIRST false
   247 sensor __tmp86 UNIT_S1 @totalItems
-    * op greaterThan __tmp87 __tmp86 0
-    * set __tmp85 __tmp87
+  248 op greaterThan __tmp85 __tmp86 0
   249 jump __label55 always
   250 label __label54
   251 sensor __tmp88 UNIT_S2 @totalItems
-    * op equal __tmp89 __tmp88 0
-    * set __tmp85 __tmp89
+  252 op equal __tmp85 __tmp88 0
   253 label __label55
   254 set SUPPLY_S_FIRST __tmp85
   255 set __tmp82 SUPPLY_S_FIRST
 
   270 setaddr __fn0retaddr __label57
   271 call __label0
   272 gotolabel __label57 __fn0
-    * set __tmp91 __fn0retval
-    * set UNIT_P1 __tmp91
+  273 set UNIT_P1 __fn0retval
   274 jump __label58 equal FOUR_UNITS false
   275 op equal __tmp93 SUPPLY_P_FIRST false
   276 set __fn0_unit UNIT_P2
 
   280 setaddr __fn0retaddr __label60
   281 call __label0
   282 gotolabel __label60 __fn0
-    * set __tmp94 __fn0retval
-    * set UNIT_P2 __tmp94
+  283 set UNIT_P2 __fn0retval
   284 jump __label61 equal SUPPLY_P_FIRST false
   285 sensor __tmp96 UNIT_P1 @totalItems
-    * op greaterThan __tmp97 __tmp96 0
-    * set __tmp95 __tmp97
+  286 op greaterThan __tmp95 __tmp96 0
   287 jump __label62 always
   288 label __label61
   289 sensor __tmp98 UNIT_P2 @totalItems
-    * op equal __tmp99 __tmp98 0
-    * set __tmp95 __tmp99
+  290 op equal __tmp95 __tmp98 0
   291 label __label62
   292 set SUPPLY_P_FIRST __tmp95
   293 set __tmp92 SUPPLY_P_FIRST
 
   321 label __label64
   322 set __tmp107 null
   323 label __label65
-    * sensor __tmp108 @unit @flag
-    * set __fn0_state __tmp108
+  324 sensor __fn0_state @unit @flag
   325 set __fn0_distance -1
   326 set __fn0_color "gold"
   327 op equal __tmp109 __fn0_state 1
 
   386 op sub __tmp129 CORE_Y __tmp128
   387 op len __tmp130 __tmp127 __tmp129
   388 op idiv __tmp131 __tmp130 SPEED_TENTHS
-    * op div __tmp132 __tmp131 10
-    * set __fn0_distance __tmp132
+  389 op div __fn0_distance __tmp131 10
   390 set __tmp122 __fn0_distance
   391 label __label78
   392 set __tmp120 __tmp122
 
   430 op sub __tmp144 DOME_Y __tmp143
   431 op len __tmp145 __tmp142 __tmp144
   432 op idiv __tmp146 __tmp145 SPEED_TENTHS
-    * op div __tmp147 __tmp146 10
-    * set __fn0_distance __tmp147
+  433 op div __fn0_distance __tmp146 10
   434 set __tmp136 __fn0_distance
   435 label __label84
   436 set __tmp134 __tmp136
 
   502 end
   503 label __label2
   504 print __fn2_text
-    * sensor __tmp156 DOME __fn2_item
-    * set __fn2_level __tmp156
+  505 sensor __fn2_level DOME __fn2_item
   506 op greaterThan __tmp157 __fn2_level 3
   507 jump __label100 equal __tmp157 false
   508 print "  dome:  [green]"

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-42 instructions):
 
    33 jump __label14 equal __tmp4 false
    34 set __fn3_first_unit @unit
    35 jump __label13 always
-    * set __tmp5 null
    36 jump __label15 always
    37 label __label14
-    * set __tmp5 null
    38 label __label15
    39 print "[salmon]No unit of type "
    40 print UNIT
 
    62 label __label21
    63 set __tmp14 null
    64 label __label22
-    * set __tmp10 __tmp14
    65 jump __label20 always
    66 label __label19
-    * set __tmp10 null
    67 label __label20
    68 ubind UNIT
    69 label __label17
 
    73 op land __tmp18 __tmp15 __tmp17
    74 jump __label16 notEqual __tmp18 false
    75 label __label18
-    * set __tmp3 __fn3_count
    76 jump __label10 always
-    * set __tmp3 null
    77 label __label10
    78 op equal __tmp19 UNIT_S1 null
    79 jump __label23 equal __tmp19 false
 
    81 call __label1
    82 gotolabel __label25 __fn1
    83 set UNIT_S1 __fn1retval
-    * set __tmp20 UNIT_S1
    84 jump __label24 always
    85 label __label23
-    * set __tmp20 null
    86 label __label24
    87 op equal __tmp22 UNIT_P1 null
    88 jump __label26 equal __tmp22 false
 
    90 call __label1
    91 gotolabel __label28 __fn1
    92 set UNIT_P1 __fn1retval
-    * set __tmp23 UNIT_P1
    93 jump __label27 always
    94 label __label26
-    * set __tmp23 null
    95 label __label27
    96 sensor __tmp25 UNIT_S1 @firstItem
    97 op equal __tmp26 __tmp25 @phase-fabric
 
   102 set u UNIT_S1
   103 set UNIT_S1 UNIT_P1
   104 set UNIT_P1 u
-    * set __tmp30 UNIT_P1
   105 jump __label30 always
   106 label __label29
-    * set __tmp30 null
   107 label __label30
   108 sensor UNIT_CAPACITY UNIT_S1 @itemCapacity
   109 sensor SPEED UNIT_S1 @speed
 
   133 call __label1
   134 gotolabel __label38 __fn1
   135 set UNIT_S2 __fn1retval
-    * set __tmp51 UNIT_S2
   136 jump __label37 always
   137 label __label36
-    * set __tmp51 null
   138 label __label37
   139 op equal __tmp53 UNIT_P2 null
   140 jump __label39 equal __tmp53 false
 
   142 call __label1
   143 gotolabel __label41 __fn1
   144 set UNIT_P2 __fn1retval
-    * set __tmp54 UNIT_P2
   145 jump __label40 always
   146 label __label39
-    * set __tmp54 null
   147 label __label40
   148 sensor __tmp56 UNIT_S1 @firstItem
   149 op equal __tmp57 __tmp56 @phase-fabric
 
   154 set u UNIT_S1
   155 set UNIT_S1 UNIT_P2
   156 set UNIT_P2 u
-    * set __tmp61 UNIT_P2
   157 jump __label43 always
   158 label __label42
-    * set __tmp61 null
   159 label __label43
   160 sensor __tmp62 UNIT_S2 @firstItem
   161 op equal __tmp63 __tmp62 @phase-fabric
 
   166 set u UNIT_S2
   167 set UNIT_S2 UNIT_P2
   168 set UNIT_P2 u
-    * set __tmp67 UNIT_P2
   169 jump __label45 always
   170 label __label44
-    * set __tmp67 null
   171 label __label45
   172 set GROUP1 "probe  1"
   173 set GROUP2 "probe 2"
-    * set __tmp49 GROUP2
   174 jump __label35 always
   175 label __label34
   176 ubind UNIT_S2
 
   180 ucontrol unbind
   181 set UNIT_P2 null
   182 set GROUP1 "probe"
-    * set __tmp49 GROUP1
   183 label __label35
   184 op equal __tmp68 FOUR_UNITS false
   185 sensor __tmp69 UNIT_S1 @totalItems
 
   202 setaddr __fn2retaddr __label49
   203 call __label2
   204 gotolabel __label49 __fn2
-    * set __tmp80 __fn2retval
   205 set __fn0_unit UNIT_S1
   206 set __fn0_item @silicon
   207 set __fn0_group GROUP1
 
   229 op equal __tmp85 __tmp88 0
   230 label __label55
   231 set SUPPLY_S_FIRST __tmp85
-    * set __tmp82 SUPPLY_S_FIRST
   232 jump __label52 always
   233 label __label51
-    * set __tmp82 null
   234 label __label52
   235 set __fn2_item @phase-fabric
   236 set __fn2_text "\n[green]Phase fabric[] status:\n"
   237 setaddr __fn2retaddr __label56
   238 call __label2
   239 gotolabel __label56 __fn2
-    * set __tmp90 __fn2retval
   240 set __fn0_unit UNIT_P1
   241 set __fn0_item @phase-fabric
   242 set __fn0_group GROUP1
 
   264 op equal __tmp95 __tmp98 0
   265 label __label62
   266 set SUPPLY_P_FIRST __tmp95
-    * set __tmp92 SUPPLY_P_FIRST
   267 jump __label59 always
   268 label __label58
-    * set __tmp92 null
   269 label __label59
   270 op sub __tmp100 @time start
   271 op floor __tmp101 __tmp100
 
   288 setaddr __fn1retaddr __label66
   289 call __label1
   290 gotolabel __label66 __fn1
-    * set __tmp107 __fn1retval
   291 jump __label65 always
   292 label __label64
-    * set __tmp107 null
   293 label __label65
   294 sensor __fn0_state @unit @flag
   295 set __fn0_distance -1
 
   324 label __label72
   325 set __tmp113 __tmp116
   326 label __label70
-    * set __tmp110 __tmp113
   327 jump __label68 always
   328 label __label67
-    * set __tmp110 null
   329 label __label68
   330 op equal __tmp119 __fn0_state 2
   331 jump __label75 equal __tmp119 false
 
   357 op div __fn0_distance __tmp131 10
   358 set __tmp122 __fn0_distance
   359 label __label78
-    * set __tmp120 __tmp122
   360 jump __label76 always
   361 label __label75
-    * set __tmp120 null
   362 label __label76
   363 op equal __tmp133 __fn0_state 3
   364 jump __label81 equal __tmp133 false
 
   368 ucontrol itemDrop DOME UNIT_CAPACITY
   369 set MSG ", supplying\n"
   370 set __fn0_color "green"
-    * set __tmp137 __fn0_color
   371 jump __label86 always
   372 label __label85
   373 ucontrol approach DOME_X DOME_Y 6
   374 set MSG ", waiting\n"
-    * set __tmp137 MSG
   375 label __label86
   376 sensor __tmp138 @unit @totalItems
   377 op lessThanEq __tmp139 __tmp138 0
 
   397 op div __fn0_distance __tmp146 10
   398 set __tmp136 __fn0_distance
   399 label __label84
-    * set __tmp134 __tmp136
   400 jump __label82 always
   401 label __label81
-    * set __tmp134 null
   402 label __label82
   403 ucontrol flag __fn0_state
   404 sensor __tmp148 @unit @totalItems
 
   414 print MSG
   415 print __fn0_distance
   416 print "[] sec\n"
-    * set __tmp150 null
   417 jump __label90 always
   418 label __label89
   419 print MSG
-    * set __tmp150 MSG
   420 label __label90
   421 set __fn0retval @unit
   422 jump __label63 always
 
   433 print "[salmon]No unit of type "
   434 print UNIT
   435 print " found..."
-    * set __tmp152 null
   436 jump __label96 always
   437 label __label95
   438 sensor __tmp153 @unit @controlled
 
   449 jump __label91 always
   450 set __tmp155 null
   451 label __label98
-    * set __tmp152 __tmp155
   452 label __label96
   453 printflush message1
   454 label __label93

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-11 instructions):
 
    57 op notEqual __tmp13 UNIT_S2 null
    58 jump __label21 equal __tmp13 false
    59 jump __label18 always
-    * set __tmp14 null
    60 jump __label22 always
    61 label __label21
-    * set __tmp14 null
    62 label __label22
    63 jump __label20 always
    64 label __label19
 
   298 op equal __tmp112 __tmp111 __fn0_item
   299 jump __label69 equal __tmp112 false
   300 set __fn0_state 3
-    * set __tmp113 __fn0_state
   301 jump __label70 always
   302 label __label69
   303 sensor __tmp114 @unit @totalItems
 
   319 label __label74
   320 set __tmp116 __tmp118
   321 label __label72
-    * set __tmp113 __tmp116
   322 label __label70
   323 jump __label68 always
   324 label __label67
 
   339 set MSG ", loading\n"
   340 set __tmp125 MSG
   341 label __label80
-    * set __tmp122 __tmp125
   342 jump __label78 always
   343 label __label77
   344 ucontrol approach CORE_X CORE_Y 6
 
   350 op len __tmp130 __tmp127 __tmp129
   351 op idiv __tmp131 __tmp130 SPEED_TENTHS
   352 op div __fn0_distance __tmp131 10
-    * set __tmp122 __fn0_distance
   353 label __label78
   354 jump __label76 always
   355 label __label75
 
   377 label __label87
   378 set __tmp140 null
   379 label __label88
-    * set __tmp136 __tmp140
   380 jump __label84 always
   381 label __label83
   382 ucontrol approach DOME_X DOME_Y 6
 
   388 op len __tmp145 __tmp142 __tmp144
   389 op idiv __tmp146 __tmp145 SPEED_TENTHS
   390 op div __fn0_distance __tmp146 10
-    * set __tmp136 __fn0_distance
   391 label __label84
   392 jump __label82 always
   393 label __label81
 
   433 print "[salmon]Looking for a free "
   434 print UNIT
   435 print "..."
-    * set __tmp155 null
   436 jump __label98 always
   437 label __label97
   438 ucontrol flag 1
   439 set __fn1retval @unit
   440 jump __label91 always
-    * set __tmp155 null
   441 label __label98
   442 label __label96
   443 printflush message1
 
   464 print "[]\n"
   465 set __tmp158 null
   466 label __label101
-    * set __fn2retval __tmp158
   467 label __label99
   468 goto __fn2retaddr __fn2
   469 end

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-8 instructions):
 
   304 op equal __tmp115 __tmp114 0
   305 jump __label71 equal __tmp115 false
   306 set __fn0_state 2
-    * set __tmp116 __fn0_state
   307 jump __label72 always
   308 label __label71
   309 set MSG ", initializing\n"
 
   316 label __label73
   317 set __tmp118 null
   318 label __label74
-    * set __tmp116 __tmp118
   319 label __label72
   320 label __label70
   321 jump __label68 always
 
   331 jump __label79 equal __tmp124 false
   332 ucontrol approach DOME_X DOME_Y 6
   333 set __fn0_state 3
-    * set __tmp125 __fn0_state
   334 jump __label80 always
   335 label __label79
   336 set MSG ", loading\n"
-    * set __tmp125 MSG
   337 label __label80
   338 jump __label78 always
   339 label __label77
 
   368 jump __label87 equal __tmp139 false
   369 ucontrol approach CORE_X CORE_Y 6
   370 set __fn0_state 2
-    * set __tmp140 __fn0_state
   371 jump __label88 always
   372 label __label87
-    * set __tmp140 null
   373 label __label88
   374 jump __label84 always
   375 label __label83
 
   450 print "  dome:  [green]"
   451 print __fn2_level
   452 print "[]\n"
-    * set __tmp158 null
   453 jump __label101 always
   454 label __label100
   455 print "  dome:  [coral]"
   456 print __fn2_level
   457 print "[]\n"
-    * set __tmp158 null
   458 label __label101
   459 label __label99
   460 goto __fn2retaddr __fn2

Modifications by Initial phase, Dead Code Elimination, iteration 4 (-2 instructions):
 
   311 ucontrol within CORE_X CORE_Y 8 __tmp117
   312 jump __label73 equal __tmp117 false
   313 ucontrol itemDrop CORE UNIT_CAPACITY
-    * set __tmp118 null
   314 jump __label74 always
   315 label __label73
-    * set __tmp118 null
   316 label __label74
   317 label __label72
   318 label __label70

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-2 instructions):
 
    27 set UNIT_S1 UNIT_P1
    28 set __fn3_count 0
    29 label __label11
-    * jump __label13 equal true false
    30 ubind UNIT
    31 op notEqual __tmp4 @unit null
    32 jump __label14 equal __tmp4 false
 
   409 end
   410 label __label1
   411 label __label92
-    * jump __label94 equal true false
   412 ubind UNIT
   413 op equal __tmp151 @unit null
   414 jump __label95 equal __tmp151 false

Modifications by Iterated phase, Jump Optimization, pass 1, iteration 1 (-22 instructions):
     0 set UNIT @flare
     1 set DOME dome1
     2 label __label3
-    * op equal __tmp0 DOME null
-    * jump __label5 equal __tmp0 false
+    3 jump __label5 notEqual DOME null
     4 print "[gold]Waiting for an overdrive dome to be connected..."
     5 printflush message1
     6 set DOME dome1
 
     9 label __label5
    10 label __label6
    11 sensor __tmp1 switch1 @enabled
-    * op equal __tmp2 __tmp1 false
-    * jump __label8 equal __tmp2 false
+   12 jump __label8 notEqual __tmp1 false
    13 print "[coral]Activate switch to begin supplying overdrive dome..."
    14 print "\n"
    15 printflush message1
 
    26 set __fn3_count 0
    27 label __label11
    28 ubind UNIT
-    * op notEqual __tmp4 @unit null
-    * jump __label14 equal __tmp4 false
+   29 jump __label14 equal @unit null
    30 set __fn3_first_unit @unit
    31 jump __label13 always
    32 jump __label15 always
 
    42 set __fn3_first_unit @unit
    43 label __label16
    44 sensor __tmp8 @unit @controller
-    * op equal __tmp9 __tmp8 @this
-    * jump __label19 equal __tmp9 false
+   45 jump __label19 notEqual __tmp8 @this
    46 op add __fn3_count __fn3_count 1
    47 ucontrol flag 1
    48 set UNIT_S2 UNIT_P2
    49 set UNIT_P2 UNIT_S1
    50 set UNIT_S1 UNIT_P1
    51 set UNIT_P1 @unit
-    * op notEqual __tmp13 UNIT_S2 null
-    * jump __label21 equal __tmp13 false
+   52 jump __label21 equal UNIT_S2 null
    53 jump __label18 always
    54 jump __label22 always
    55 label __label21
 
    67 label __label18
    68 jump __label10 always
    69 label __label10
-    * op equal __tmp19 UNIT_S1 null
-    * jump __label23 equal __tmp19 false
+   70 jump __label23 notEqual UNIT_S1 null
    71 setaddr __fn1retaddr __label25
    72 call __label1
    73 gotolabel __label25 __fn1
 
    75 jump __label24 always
    76 label __label23
    77 label __label24
-    * op equal __tmp22 UNIT_P1 null
-    * jump __label26 equal __tmp22 false
+   78 jump __label26 notEqual UNIT_P1 null
    79 setaddr __fn1retaddr __label28
    80 call __label1
    81 gotolabel __label28 __fn1
 
   103 label __label31
   104 ulocate building core false @copper __tmp35 __tmp36 __tmp37 CORE
   105 label __label32
-    * op equal __tmp38 CORE null
-    * jump __label31 notEqual __tmp38 false
+  106 jump __label31 equal CORE null
   107 label __label33
   108 sensor CORE_X CORE @x
   109 sensor CORE_Y CORE @y
 
   116 op div travel_time __tmp46 SPEED
   117 op greaterThanEq FOUR_UNITS travel_time 47
   118 jump __label34 equal FOUR_UNITS false
-    * op equal __tmp50 UNIT_S2 null
-    * jump __label36 equal __tmp50 false
+  119 jump __label36 notEqual UNIT_S2 null
   120 setaddr __fn1retaddr __label38
   121 call __label1
   122 gotolabel __label38 __fn1
 
   124 jump __label37 always
   125 label __label36
   126 label __label37
-    * op equal __tmp53 UNIT_P2 null
-    * jump __label39 equal __tmp53 false
+  127 jump __label39 notEqual UNIT_P2 null
   128 setaddr __fn1retaddr __label41
   129 call __label1
   130 gotolabel __label41 __fn1
 
   270 op strictEqual __tmp103 __tmp102 0
   271 sensor __tmp104 @unit @controller
   272 op notEqual __tmp105 __tmp104 @this
-    * op lessThanEq __tmp106 __tmp103 __tmp105
-    * jump __label64 equal __tmp106 false
+  273 jump __label64 greaterThan __tmp103 __tmp105
   274 setaddr __fn1retaddr __label66
   275 call __label1
   276 gotolabel __label66 __fn1
 
   280 sensor __fn0_state @unit @flag
   281 set __fn0_distance -1
   282 set __fn0_color "gold"
-    * op equal __tmp109 __fn0_state 1
-    * jump __label67 equal __tmp109 false
+  283 jump __label67 notEqual __fn0_state 1
   284 sensor __tmp111 @unit @firstItem
-    * op equal __tmp112 __tmp111 __fn0_item
-    * jump __label69 equal __tmp112 false
+  285 jump __label69 notEqual __tmp111 __fn0_item
   286 set __fn0_state 3
   287 jump __label70 always
   288 label __label69
   289 sensor __tmp114 @unit @totalItems
-    * op equal __tmp115 __tmp114 0
-    * jump __label71 equal __tmp115 false
+  290 jump __label71 notEqual __tmp114 0
   291 set __fn0_state 2
   292 jump __label72 always
   293 label __label71
 
   304 jump __label68 always
   305 label __label67
   306 label __label68
-    * op equal __tmp119 __fn0_state 2
-    * jump __label75 equal __tmp119 false
+  307 jump __label75 notEqual __fn0_state 2
   308 ucontrol within CORE_X CORE_Y 8 __tmp121
   309 jump __label77 equal __tmp121 false
   310 ucontrol itemTake CORE __fn0_item UNIT_CAPACITY
   311 sensor __tmp123 @unit @totalItems
-    * op greaterThanEq __tmp124 __tmp123 UNIT_CAPACITY
-    * jump __label79 equal __tmp124 false
+  312 jump __label79 lessThan __tmp123 UNIT_CAPACITY
   313 ucontrol approach DOME_X DOME_Y 6
   314 set __fn0_state 3
   315 jump __label80 always
 
   331 jump __label76 always
   332 label __label75
   333 label __label76
-    * op equal __tmp133 __fn0_state 3
-    * jump __label81 equal __tmp133 false
+  334 jump __label81 notEqual __fn0_state 3
   335 ucontrol within DOME_X DOME_Y 8 __tmp135
   336 jump __label83 equal __tmp135 false
   337 jump __label85 equal __fn0_supply false
 
   344 set MSG ", waiting\n"
   345 label __label86
   346 sensor __tmp138 @unit @totalItems
-    * op lessThanEq __tmp139 __tmp138 0
-    * jump __label87 equal __tmp139 false
+  347 jump __label87 greaterThan __tmp138 0
   348 ucontrol approach CORE_X CORE_Y 6
   349 set __fn0_state 2
   350 jump __label88 always
 
   374 print "]"
   375 print __tmp148
   376 print "[]"
-    * op greaterThanEq __tmp149 __fn0_distance 0
-    * jump __label89 equal __tmp149 false
+  377 jump __label89 lessThan __fn0_distance 0
   378 print MSG
   379 print __fn0_distance
   380 print "[] sec\n"
 
   391 label __label1
   392 label __label92
   393 ubind UNIT
-    * op equal __tmp151 @unit null
-    * jump __label95 equal __tmp151 false
+  394 jump __label95 notEqual @unit null
   395 print "[salmon]No unit of type "
   396 print UNIT
   397 print " found..."
   398 jump __label96 always
   399 label __label95
   400 sensor __tmp153 @unit @controlled
-    * op notEqual __tmp154 __tmp153 0
-    * jump __label97 equal __tmp154 false
+  401 jump __label97 equal __tmp153 0
   402 print "[salmon]Looking for a free "
   403 print UNIT
   404 print "..."
 
   420 label __label2
   421 print __fn2_text
   422 sensor __fn2_level DOME __fn2_item
-    * op greaterThan __tmp157 __fn2_level 3
-    * jump __label100 equal __tmp157 false
+  423 jump __label100 lessThanEq __fn2_level 3
   424 print "  dome:  [green]"
   425 print __fn2_level
   426 print "[]\n"

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-19 instructions):
 
    29 jump __label14 equal @unit null
    30 set __fn3_first_unit @unit
    31 jump __label13 always
-    * jump __label15 always
    32 label __label14
    33 label __label15
    34 print "[salmon]No unit of type "
 
    50 set UNIT_P1 @unit
    51 jump __label21 equal UNIT_S2 null
    52 jump __label18 always
-    * jump __label22 always
    53 label __label21
    54 label __label22
-    * jump __label20 always
    55 label __label19
    56 label __label20
    57 ubind UNIT
 
    62 op land __tmp18 __tmp15 __tmp17
    63 jump __label16 notEqual __tmp18 false
    64 label __label18
-    * jump __label10 always
    65 label __label10
    66 jump __label23 notEqual UNIT_S1 null
    67 setaddr __fn1retaddr __label25
    68 call __label1
    69 gotolabel __label25 __fn1
    70 set UNIT_S1 __fn1retval
-    * jump __label24 always
    71 label __label23
    72 label __label24
    73 jump __label26 notEqual UNIT_P1 null
 
    75 call __label1
    76 gotolabel __label28 __fn1
    77 set UNIT_P1 __fn1retval
-    * jump __label27 always
    78 label __label26
    79 label __label27
    80 sensor __tmp25 UNIT_S1 @firstItem
 
    86 set u UNIT_S1
    87 set UNIT_S1 UNIT_P1
    88 set UNIT_P1 u
-    * jump __label30 always
    89 label __label29
    90 label __label30
    91 sensor UNIT_CAPACITY UNIT_S1 @itemCapacity
 
   114 call __label1
   115 gotolabel __label38 __fn1
   116 set UNIT_S2 __fn1retval
-    * jump __label37 always
   117 label __label36
   118 label __label37
   119 jump __label39 notEqual UNIT_P2 null
 
   121 call __label1
   122 gotolabel __label41 __fn1
   123 set UNIT_P2 __fn1retval
-    * jump __label40 always
   124 label __label39
   125 label __label40
   126 sensor __tmp56 UNIT_S1 @firstItem
 
   132 set u UNIT_S1
   133 set UNIT_S1 UNIT_P2
   134 set UNIT_P2 u
-    * jump __label43 always
   135 label __label42
   136 label __label43
   137 sensor __tmp62 UNIT_S2 @firstItem
 
   143 set u UNIT_S2
   144 set UNIT_S2 UNIT_P2
   145 set UNIT_P2 u
-    * jump __label45 always
   146 label __label44
   147 label __label45
   148 set GROUP1 "probe  1"
 
   205 op equal __tmp85 __tmp88 0
   206 label __label55
   207 set SUPPLY_S_FIRST __tmp85
-    * jump __label52 always
   208 label __label51
   209 label __label52
   210 set __fn2_item @phase-fabric
 
   239 op equal __tmp95 __tmp98 0
   240 label __label62
   241 set SUPPLY_P_FIRST __tmp95
-    * jump __label59 always
   242 label __label58
   243 label __label59
   244 op sub __tmp100 @time start
 
   261 setaddr __fn1retaddr __label66
   262 call __label1
   263 gotolabel __label66 __fn1
-    * jump __label65 always
   264 label __label64
   265 label __label65
   266 sensor __fn0_state @unit @flag
 
   282 ucontrol within CORE_X CORE_Y 8 __tmp117
   283 jump __label73 equal __tmp117 false
   284 ucontrol itemDrop CORE UNIT_CAPACITY
-    * jump __label74 always
   285 label __label73
   286 label __label74
   287 label __label72
   288 label __label70
-    * jump __label68 always
   289 label __label67
   290 label __label68
   291 jump __label75 notEqual __fn0_state 2
 
   312 op idiv __tmp131 __tmp130 SPEED_TENTHS
   313 op div __fn0_distance __tmp131 10
   314 label __label78
-    * jump __label76 always
   315 label __label75
   316 label __label76
   317 jump __label81 notEqual __fn0_state 3
 
   330 jump __label87 greaterThan __tmp138 0
   331 ucontrol approach CORE_X CORE_Y 6
   332 set __fn0_state 2
-    * jump __label88 always
   333 label __label87
   334 label __label88
   335 jump __label84 always
 
   344 op idiv __tmp146 __tmp145 SPEED_TENTHS
   345 op div __fn0_distance __tmp146 10
   346 label __label84
-    * jump __label82 always
   347 label __label81
   348 label __label82
   349 ucontrol flag __fn0_state

Modifications by Iterated phase, If Expression Optimization, pass 1, iteration 1 (-2 instructions):
 
   198 set UNIT_S2 __fn0retval
   199 jump __label54 equal SUPPLY_S_FIRST false
   200 sensor __tmp86 UNIT_S1 @totalItems
-    * op greaterThan __tmp85 __tmp86 0
+  201 op greaterThan SUPPLY_S_FIRST __tmp86 0
   202 jump __label55 always
   203 label __label54
   204 sensor __tmp88 UNIT_S2 @totalItems
-    * op equal __tmp85 __tmp88 0
+  205 op equal SUPPLY_S_FIRST __tmp88 0
   206 label __label55
-    * set SUPPLY_S_FIRST __tmp85
   207 label __label51
   208 label __label52
   209 set __fn2_item @phase-fabric
 
   231 set UNIT_P2 __fn0retval
   232 jump __label61 equal SUPPLY_P_FIRST false
   233 sensor __tmp96 UNIT_P1 @totalItems
-    * op greaterThan __tmp95 __tmp96 0
+  234 op greaterThan SUPPLY_P_FIRST __tmp96 0
   235 jump __label62 always
   236 label __label61
   237 sensor __tmp98 UNIT_P2 @totalItems
-    * op equal __tmp95 __tmp98 0
+  238 op equal SUPPLY_P_FIRST __tmp98 0
   239 label __label62
-    * set SUPPLY_P_FIRST __tmp95
   240 label __label58
   241 label __label59
   242 op sub __tmp100 @time start

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-1 instructions):
 
    27 label __label11
    28 ubind UNIT
    29 jump __label14 equal @unit null
-    * set __fn3_first_unit @unit
    30 jump __label13 always
    31 label __label14
    32 label __label15
 
   165 sensor __tmp74 UNIT_P1 @totalItems
   166 sensor __tmp75 UNIT_P2 @totalItems
   167 op lessThan __tmp76 __tmp74 __tmp75
-    * op or SUPPLY_P_FIRST __tmp73 __tmp76
+  168 op or SUPPLY_P_FIRST __tmp68 __tmp76
   169 label __label46
   170 sensor __tmp78 switch1 @enabled
   171 jump __label48 equal __tmp78 false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-1 instructions):
 
   161 sensor __tmp70 UNIT_S2 @totalItems
   162 op lessThan __tmp71 __tmp69 __tmp70
   163 op or SUPPLY_S_FIRST __tmp68 __tmp71
-    * op equal __tmp73 FOUR_UNITS false
   164 sensor __tmp74 UNIT_P1 @totalItems
   165 sensor __tmp75 UNIT_P2 @totalItems
   166 op lessThan __tmp76 __tmp74 __tmp75

Modifications by Iterated phase, Loop Optimization, pass 1, iteration 1:
 
     1 set DOME dome1
     2 label __label3
     3 jump __label5 notEqual DOME null
+    4 label __label102
     5 print "[gold]Waiting for an overdrive dome to be connected..."
     6 printflush message1
     7 set DOME dome1
     8 label __label4
-    * jump __label3 always
+    9 jump __label102 equal DOME null
    10 label __label5
    11 label __label6
    12 sensor __tmp1 switch1 @enabled

Modifications by Loop Optimization: replicate condition at line 38 (+1 instructions):
 
    11 label __label6
    12 sensor __tmp1 switch1 @enabled
    13 jump __label8 notEqual __tmp1 false
+   14 label __label103
    15 print "[coral]Activate switch to begin supplying overdrive dome..."
    16 print "\n"
    17 printflush message1
    18 label __label7
-    * jump __label6 always
+   19 sensor __tmp1 switch1 @enabled
+   20 jump __label103 equal __tmp1 false
    21 label __label8
    22 print "[gold]Binding units..."
    23 printflush message1

Modifications by Loop Optimization: replicate condition at line 115 (+1 instructions):
 
   171 label __label46
   172 sensor __tmp78 switch1 @enabled
   173 jump __label48 equal __tmp78 false
+  174 label __label104
   175 set start @time
   176 print " === [gold]Supplying Overdrive Dome[] === "
   177 print "\n"
 
   248 print " ms"
   249 printflush message1
   250 label __label47
-    * jump __label46 always
+  251 sensor __tmp78 switch1 @enabled
+  252 jump __label104 notEqual __tmp78 false
   253 label __label48
   254 end
   255 label __label0

Modifications by Function Inlining: inline function printDomeStatus (+4 instructions):
 
   177 print "\n"
   178 set __fn2_item @silicon
   179 set __fn2_text "\n[green]Silicon[] status:\n"
-    * setaddr __fn2retaddr __label49
-    * call __label2
-    * gotolabel __label49 __fn2
+  180 label __label105
+  181 print __fn2_text
+  182 sensor __fn2_level DOME __fn2_item
+  183 jump __label106 lessThanEq __fn2_level 3
+  184 print "  dome:  [green]"
+  185 print __fn2_level
+  186 print "[]\n"
+  187 jump __label107 always
+  188 label __label106
+  189 print "  dome:  [coral]"
+  190 print __fn2_level
+  191 print "[]\n"
+  192 label __label107
+  193 label __label108
   194 set __fn0_unit UNIT_S1
   195 set __fn0_item @silicon
   196 set __fn0_group GROUP1
 
   221 label __label52
   222 set __fn2_item @phase-fabric
   223 set __fn2_text "\n[green]Phase fabric[] status:\n"
-    * setaddr __fn2retaddr __label56
-    * call __label2
-    * gotolabel __label56 __fn2
+  224 label __label109
+  225 print __fn2_text
+  226 sensor __fn2_level DOME __fn2_item
+  227 jump __label110 lessThanEq __fn2_level 3
+  228 print "  dome:  [green]"
+  229 print __fn2_level
+  230 print "[]\n"
+  231 jump __label111 always
+  232 label __label110
+  233 print "  dome:  [coral]"
+  234 print __fn2_level
+  235 print "[]\n"
+  236 label __label111
+  237 label __label112
   238 set __fn0_unit UNIT_P1
   239 set __fn0_item @phase-fabric
   240 set __fn0_group GROUP1
 
   421 label __label91
   422 goto __fn1retaddr __fn1
   423 end
-    * label __label2
-    * print __fn2_text
-    * sensor __fn2_level DOME __fn2_item
-    * jump __label100 lessThanEq __fn2_level 3
-    * print "  dome:  [green]"
-    * print __fn2_level
-    * print "[]\n"
-    * jump __label101 always
-    * label __label100
-    * print "  dome:  [coral]"
-    * print __fn2_level
-    * print "[]\n"
-    * label __label101
-    * label __label99
-    * goto __fn2retaddr __fn2
-    * end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   178 set __fn2_item @silicon
   179 set __fn2_text "\n[green]Silicon[] status:\n"
   180 label __label105
-    * print __fn2_text
-    * sensor __fn2_level DOME __fn2_item
+  181 print "\n[green]Silicon[] status:\n"
+  182 sensor __fn2_level DOME @silicon
   183 jump __label106 lessThanEq __fn2_level 3
   184 print "  dome:  [green]"
   185 print __fn2_level
 
   222 set __fn2_item @phase-fabric
   223 set __fn2_text "\n[green]Phase fabric[] status:\n"
   224 label __label109
-    * print __fn2_text
-    * sensor __fn2_level DOME __fn2_item
+  225 print "\n[green]Phase fabric[] status:\n"
+  226 sensor __fn2_level DOME @phase-fabric
   227 jump __label110 lessThanEq __fn2_level 3
   228 print "  dome:  [green]"
   229 print __fn2_level

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-4 instructions):
 
   175 set start @time
   176 print " === [gold]Supplying Overdrive Dome[] === "
   177 print "\n"
-    * set __fn2_item @silicon
-    * set __fn2_text "\n[green]Silicon[] status:\n"
   178 label __label105
   179 print "\n[green]Silicon[] status:\n"
   180 sensor __fn2_level DOME @silicon
 
   217 label __label55
   218 label __label51
   219 label __label52
-    * set __fn2_item @phase-fabric
-    * set __fn2_text "\n[green]Phase fabric[] status:\n"
   220 label __label109
   221 print "\n[green]Phase fabric[] status:\n"
   222 sensor __fn2_level DOME @phase-fabric

Modifications by Function Inlining: inline function call at line 191 (+16 instructions):
 
   277 sensor __tmp104 @unit @controller
   278 op notEqual __tmp105 __tmp104 @this
   279 jump __label64 greaterThan __tmp103 __tmp105
-    * setaddr __fn1retaddr __label66
-    * call __label1
-    * gotolabel __label66 __fn1
+  280 label __label113
+  281 label __label114
+  282 ubind UNIT
+  283 jump __label115 notEqual @unit null
+  284 print "[salmon]No unit of type "
+  285 print UNIT
+  286 print " found..."
+  287 jump __label118 always
+  288 label __label115
+  289 sensor __tmp153 @unit @controlled
+  290 jump __label116 equal __tmp153 0
+  291 print "[salmon]Looking for a free "
+  292 print UNIT
+  293 print "..."
+  294 jump __label117 always
+  295 label __label116
+  296 ucontrol flag 1
+  297 set __fn1retval @unit
+  298 jump __label121 always
+  299 label __label117
+  300 label __label118
+  301 printflush message1
+  302 label __label119
+  303 jump __label114 always
+  304 label __label120
+  305 set __fn1retval null
+  306 label __label121
   307 label __label64
   308 label __label65
   309 sensor __fn0_state @unit @flag

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-2 instructions):
 
   294 jump __label117 always
   295 label __label116
   296 ucontrol flag 1
-    * set __fn1retval @unit
   297 jump __label121 always
   298 label __label117
   299 label __label118
 
   301 label __label119
   302 jump __label114 always
   303 label __label120
-    * set __fn1retval null
   304 label __label121
   305 label __label64
   306 label __label65

Modifications by Function Inlining: inline function processUnit (+289 instructions):
 
   193 set __fn0_item @silicon
   194 set __fn0_group GROUP1
   195 set __fn0_supply SUPPLY_S_FIRST
-    * setaddr __fn0retaddr __label50
-    * call __label0
-    * gotolabel __label50 __fn0
-    * set UNIT_S1 __fn0retval
+  196 label __label122
+  197 ubind __fn0_unit
+  198 sensor __tmp102 @unit @dead
+  199 op strictEqual __tmp103 __tmp102 0
+  200 sensor __tmp104 @unit @controller
+  201 op notEqual __tmp105 __tmp104 @this
+  202 jump __label132 greaterThan __tmp103 __tmp105
+  203 label __label123
+  204 label __label124
+  205 ubind UNIT
+  206 jump __label125 notEqual @unit null
+  207 print "[salmon]No unit of type "
+  208 print UNIT
+  209 print " found..."
+  210 jump __label128 always
+  211 label __label125
+  212 sensor __tmp153 @unit @controlled
+  213 jump __label126 equal __tmp153 0
+  214 print "[salmon]Looking for a free "
+  215 print UNIT
+  216 print "..."
+  217 jump __label127 always
+  218 label __label126
+  219 ucontrol flag 1
+  220 jump __label131 always
+  221 label __label127
+  222 label __label128
+  223 printflush message1
+  224 label __label129
+  225 jump __label124 always
+  226 label __label130
+  227 label __label131
+  228 label __label132
+  229 label __label133
+  230 sensor __fn0_state @unit @flag
+  231 set __fn0_distance -1
+  232 set __fn0_color "gold"
+  233 jump __label140 notEqual __fn0_state 1
+  234 sensor __tmp111 @unit @firstItem
+  235 jump __label134 notEqual __tmp111 __fn0_item
+  236 set __fn0_state 3
+  237 jump __label139 always
+  238 label __label134
+  239 sensor __tmp114 @unit @totalItems
+  240 jump __label135 notEqual __tmp114 0
+  241 set __fn0_state 2
+  242 jump __label138 always
+  243 label __label135
+  244 set MSG ", initializing\n"
+  245 ucontrol approach CORE_X CORE_Y 6
+  246 ucontrol within CORE_X CORE_Y 8 __tmp117
+  247 jump __label136 equal __tmp117 false
+  248 ucontrol itemDrop CORE UNIT_CAPACITY
+  249 label __label136
+  250 label __label137
+  251 label __label138
+  252 label __label139
+  253 label __label140
+  254 label __label141
+  255 jump __label146 notEqual __fn0_state 2
+  256 ucontrol within CORE_X CORE_Y 8 __tmp121
+  257 jump __label144 equal __tmp121 false
+  258 ucontrol itemTake CORE __fn0_item UNIT_CAPACITY
+  259 sensor __tmp123 @unit @totalItems
+  260 jump __label142 lessThan __tmp123 UNIT_CAPACITY
+  261 ucontrol approach DOME_X DOME_Y 6
+  262 set __fn0_state 3
+  263 jump __label143 always
+  264 label __label142
+  265 set MSG ", loading\n"
+  266 label __label143
+  267 jump __label145 always
+  268 label __label144
+  269 ucontrol approach CORE_X CORE_Y 6
+  270 set MSG ", fetching in [gold]"
+  271 sensor __tmp126 @unit @x
+  272 op sub __tmp127 CORE_X __tmp126
+  273 sensor __tmp128 @unit @y
+  274 op sub __tmp129 CORE_Y __tmp128
+  275 op len __tmp130 __tmp127 __tmp129
+  276 op idiv __tmp131 __tmp130 SPEED_TENTHS
+  277 op div __fn0_distance __tmp131 10
+  278 label __label145
+  279 label __label146
+  280 label __label147
+  281 jump __label154 notEqual __fn0_state 3
+  282 ucontrol within DOME_X DOME_Y 8 __tmp135
+  283 jump __label152 equal __tmp135 false
+  284 jump __label148 equal __fn0_supply false
+  285 ucontrol itemDrop DOME UNIT_CAPACITY
+  286 set MSG ", supplying\n"
+  287 set __fn0_color "green"
+  288 jump __label149 always
+  289 label __label148
+  290 ucontrol approach DOME_X DOME_Y 6
+  291 set MSG ", waiting\n"
+  292 label __label149
+  293 sensor __tmp138 @unit @totalItems
+  294 jump __label150 greaterThan __tmp138 0
+  295 ucontrol approach CORE_X CORE_Y 6
+  296 set __fn0_state 2
+  297 label __label150
+  298 label __label151
+  299 jump __label153 always
+  300 label __label152
+  301 ucontrol approach DOME_X DOME_Y 6
+  302 set MSG ", returning in [gold]"
+  303 sensor __tmp141 @unit @x
+  304 op sub __tmp142 DOME_X __tmp141
+  305 sensor __tmp143 @unit @y
+  306 op sub __tmp144 DOME_Y __tmp143
+  307 op len __tmp145 __tmp142 __tmp144
+  308 op idiv __tmp146 __tmp145 SPEED_TENTHS
+  309 op div __fn0_distance __tmp146 10
+  310 label __label153
+  311 label __label154
+  312 label __label155
+  313 ucontrol flag __fn0_state
+  314 sensor __tmp148 @unit @totalItems
+  315 print "  "
+  316 print __fn0_group
+  317 print ": ["
+  318 print __fn0_color
+  319 print "]"
+  320 print __tmp148
+  321 print "[]"
+  322 jump __label156 lessThan __fn0_distance 0
+  323 print MSG
+  324 print __fn0_distance
+  325 print "[] sec\n"
+  326 jump __label157 always
+  327 label __label156
+  328 print MSG
+  329 label __label157
+  330 set UNIT_S1 @unit
+  331 jump __label158 always
+  332 set UNIT_S1 null
+  333 label __label158
   334 jump __label51 equal FOUR_UNITS false
   335 op equal __tmp83 SUPPLY_S_FIRST false
   336 set __fn0_unit UNIT_S2
   337 set __fn0_item @silicon
   338 set __fn0_group GROUP2
   339 set __fn0_supply __tmp83
-    * setaddr __fn0retaddr __label53
-    * call __label0
-    * gotolabel __label53 __fn0
-    * set UNIT_S2 __fn0retval
+  340 label __label159
+  341 ubind __fn0_unit
+  342 sensor __tmp102 @unit @dead
+  343 op strictEqual __tmp103 __tmp102 0
+  344 sensor __tmp104 @unit @controller
+  345 op notEqual __tmp105 __tmp104 @this
+  346 jump __label169 greaterThan __tmp103 __tmp105
+  347 label __label160
+  348 label __label161
+  349 ubind UNIT
+  350 jump __label162 notEqual @unit null
+  351 print "[salmon]No unit of type "
+  352 print UNIT
+  353 print " found..."
+  354 jump __label165 always
+  355 label __label162
+  356 sensor __tmp153 @unit @controlled
+  357 jump __label163 equal __tmp153 0
+  358 print "[salmon]Looking for a free "
+  359 print UNIT
+  360 print "..."
+  361 jump __label164 always
+  362 label __label163
+  363 ucontrol flag 1
+  364 jump __label168 always
+  365 label __label164
+  366 label __label165
+  367 printflush message1
+  368 label __label166
+  369 jump __label161 always
+  370 label __label167
+  371 label __label168
+  372 label __label169
+  373 label __label170
+  374 sensor __fn0_state @unit @flag
+  375 set __fn0_distance -1
+  376 set __fn0_color "gold"
+  377 jump __label177 notEqual __fn0_state 1
+  378 sensor __tmp111 @unit @firstItem
+  379 jump __label171 notEqual __tmp111 __fn0_item
+  380 set __fn0_state 3
+  381 jump __label176 always
+  382 label __label171
+  383 sensor __tmp114 @unit @totalItems
+  384 jump __label172 notEqual __tmp114 0
+  385 set __fn0_state 2
+  386 jump __label175 always
+  387 label __label172
+  388 set MSG ", initializing\n"
+  389 ucontrol approach CORE_X CORE_Y 6
+  390 ucontrol within CORE_X CORE_Y 8 __tmp117
+  391 jump __label173 equal __tmp117 false
+  392 ucontrol itemDrop CORE UNIT_CAPACITY
+  393 label __label173
+  394 label __label174
+  395 label __label175
+  396 label __label176
+  397 label __label177
+  398 label __label178
+  399 jump __label183 notEqual __fn0_state 2
+  400 ucontrol within CORE_X CORE_Y 8 __tmp121
+  401 jump __label181 equal __tmp121 false
+  402 ucontrol itemTake CORE __fn0_item UNIT_CAPACITY
+  403 sensor __tmp123 @unit @totalItems
+  404 jump __label179 lessThan __tmp123 UNIT_CAPACITY
+  405 ucontrol approach DOME_X DOME_Y 6
+  406 set __fn0_state 3
+  407 jump __label180 always
+  408 label __label179
+  409 set MSG ", loading\n"
+  410 label __label180
+  411 jump __label182 always
+  412 label __label181
+  413 ucontrol approach CORE_X CORE_Y 6
+  414 set MSG ", fetching in [gold]"
+  415 sensor __tmp126 @unit @x
+  416 op sub __tmp127 CORE_X __tmp126
+  417 sensor __tmp128 @unit @y
+  418 op sub __tmp129 CORE_Y __tmp128
+  419 op len __tmp130 __tmp127 __tmp129
+  420 op idiv __tmp131 __tmp130 SPEED_TENTHS
+  421 op div __fn0_distance __tmp131 10
+  422 label __label182
+  423 label __label183
+  424 label __label184
+  425 jump __label191 notEqual __fn0_state 3
+  426 ucontrol within DOME_X DOME_Y 8 __tmp135
+  427 jump __label189 equal __tmp135 false
+  428 jump __label185 equal __fn0_supply false
+  429 ucontrol itemDrop DOME UNIT_CAPACITY
+  430 set MSG ", supplying\n"
+  431 set __fn0_color "green"
+  432 jump __label186 always
+  433 label __label185
+  434 ucontrol approach DOME_X DOME_Y 6
+  435 set MSG ", waiting\n"
+  436 label __label186
+  437 sensor __tmp138 @unit @totalItems
+  438 jump __label187 greaterThan __tmp138 0
+  439 ucontrol approach CORE_X CORE_Y 6
+  440 set __fn0_state 2
+  441 label __label187
+  442 label __label188
+  443 jump __label190 always
+  444 label __label189
+  445 ucontrol approach DOME_X DOME_Y 6
+  446 set MSG ", returning in [gold]"
+  447 sensor __tmp141 @unit @x
+  448 op sub __tmp142 DOME_X __tmp141
+  449 sensor __tmp143 @unit @y
+  450 op sub __tmp144 DOME_Y __tmp143
+  451 op len __tmp145 __tmp142 __tmp144
+  452 op idiv __tmp146 __tmp145 SPEED_TENTHS
+  453 op div __fn0_distance __tmp146 10
+  454 label __label190
+  455 label __label191
+  456 label __label192
+  457 ucontrol flag __fn0_state
+  458 sensor __tmp148 @unit @totalItems
+  459 print "  "
+  460 print __fn0_group
+  461 print ": ["
+  462 print __fn0_color
+  463 print "]"
+  464 print __tmp148
+  465 print "[]"
+  466 jump __label193 lessThan __fn0_distance 0
+  467 print MSG
+  468 print __fn0_distance
+  469 print "[] sec\n"
+  470 jump __label194 always
+  471 label __label193
+  472 print MSG
+  473 label __label194
+  474 set UNIT_S2 @unit
+  475 jump __label195 always
+  476 set UNIT_S2 null
+  477 label __label195
   478 jump __label54 equal SUPPLY_S_FIRST false
   479 sensor __tmp86 UNIT_S1 @totalItems
   480 op greaterThan SUPPLY_S_FIRST __tmp86 0
 
   503 set __fn0_item @phase-fabric
   504 set __fn0_group GROUP1
   505 set __fn0_supply SUPPLY_P_FIRST
-    * setaddr __fn0retaddr __label57
-    * call __label0
-    * gotolabel __label57 __fn0
-    * set UNIT_P1 __fn0retval
+  506 label __label196
+  507 ubind __fn0_unit
+  508 sensor __tmp102 @unit @dead
+  509 op strictEqual __tmp103 __tmp102 0
+  510 sensor __tmp104 @unit @controller
+  511 op notEqual __tmp105 __tmp104 @this
+  512 jump __label206 greaterThan __tmp103 __tmp105
+  513 label __label197
+  514 label __label198
+  515 ubind UNIT
+  516 jump __label199 notEqual @unit null
+  517 print "[salmon]No unit of type "
+  518 print UNIT
+  519 print " found..."
+  520 jump __label202 always
+  521 label __label199
+  522 sensor __tmp153 @unit @controlled
+  523 jump __label200 equal __tmp153 0
+  524 print "[salmon]Looking for a free "
+  525 print UNIT
+  526 print "..."
+  527 jump __label201 always
+  528 label __label200
+  529 ucontrol flag 1
+  530 jump __label205 always
+  531 label __label201
+  532 label __label202
+  533 printflush message1
+  534 label __label203
+  535 jump __label198 always
+  536 label __label204
+  537 label __label205
+  538 label __label206
+  539 label __label207
+  540 sensor __fn0_state @unit @flag
+  541 set __fn0_distance -1
+  542 set __fn0_color "gold"
+  543 jump __label214 notEqual __fn0_state 1
+  544 sensor __tmp111 @unit @firstItem
+  545 jump __label208 notEqual __tmp111 __fn0_item
+  546 set __fn0_state 3
+  547 jump __label213 always
+  548 label __label208
+  549 sensor __tmp114 @unit @totalItems
+  550 jump __label209 notEqual __tmp114 0
+  551 set __fn0_state 2
+  552 jump __label212 always
+  553 label __label209
+  554 set MSG ", initializing\n"
+  555 ucontrol approach CORE_X CORE_Y 6
+  556 ucontrol within CORE_X CORE_Y 8 __tmp117
+  557 jump __label210 equal __tmp117 false
+  558 ucontrol itemDrop CORE UNIT_CAPACITY
+  559 label __label210
+  560 label __label211
+  561 label __label212
+  562 label __label213
+  563 label __label214
+  564 label __label215
+  565 jump __label220 notEqual __fn0_state 2
+  566 ucontrol within CORE_X CORE_Y 8 __tmp121
+  567 jump __label218 equal __tmp121 false
+  568 ucontrol itemTake CORE __fn0_item UNIT_CAPACITY
+  569 sensor __tmp123 @unit @totalItems
+  570 jump __label216 lessThan __tmp123 UNIT_CAPACITY
+  571 ucontrol approach DOME_X DOME_Y 6
+  572 set __fn0_state 3
+  573 jump __label217 always
+  574 label __label216
+  575 set MSG ", loading\n"
+  576 label __label217
+  577 jump __label219 always
+  578 label __label218
+  579 ucontrol approach CORE_X CORE_Y 6
+  580 set MSG ", fetching in [gold]"
+  581 sensor __tmp126 @unit @x
+  582 op sub __tmp127 CORE_X __tmp126
+  583 sensor __tmp128 @unit @y
+  584 op sub __tmp129 CORE_Y __tmp128
+  585 op len __tmp130 __tmp127 __tmp129
+  586 op idiv __tmp131 __tmp130 SPEED_TENTHS
+  587 op div __fn0_distance __tmp131 10
+  588 label __label219
+  589 label __label220
+  590 label __label221
+  591 jump __label228 notEqual __fn0_state 3
+  592 ucontrol within DOME_X DOME_Y 8 __tmp135
+  593 jump __label226 equal __tmp135 false
+  594 jump __label222 equal __fn0_supply false
+  595 ucontrol itemDrop DOME UNIT_CAPACITY
+  596 set MSG ", supplying\n"
+  597 set __fn0_color "green"
+  598 jump __label223 always
+  599 label __label222
+  600 ucontrol approach DOME_X DOME_Y 6
+  601 set MSG ", waiting\n"
+  602 label __label223
+  603 sensor __tmp138 @unit @totalItems
+  604 jump __label224 greaterThan __tmp138 0
+  605 ucontrol approach CORE_X CORE_Y 6
+  606 set __fn0_state 2
+  607 label __label224
+  608 label __label225
+  609 jump __label227 always
+  610 label __label226
+  611 ucontrol approach DOME_X DOME_Y 6
+  612 set MSG ", returning in [gold]"
+  613 sensor __tmp141 @unit @x
+  614 op sub __tmp142 DOME_X __tmp141
+  615 sensor __tmp143 @unit @y
+  616 op sub __tmp144 DOME_Y __tmp143
+  617 op len __tmp145 __tmp142 __tmp144
+  618 op idiv __tmp146 __tmp145 SPEED_TENTHS
+  619 op div __fn0_distance __tmp146 10
+  620 label __label227
+  621 label __label228
+  622 label __label229
+  623 ucontrol flag __fn0_state
+  624 sensor __tmp148 @unit @totalItems
+  625 print "  "
+  626 print __fn0_group
+  627 print ": ["
+  628 print __fn0_color
+  629 print "]"
+  630 print __tmp148
+  631 print "[]"
+  632 jump __label230 lessThan __fn0_distance 0
+  633 print MSG
+  634 print __fn0_distance
+  635 print "[] sec\n"
+  636 jump __label231 always
+  637 label __label230
+  638 print MSG
+  639 label __label231
+  640 set UNIT_P1 @unit
+  641 jump __label232 always
+  642 set UNIT_P1 null
+  643 label __label232
   644 jump __label58 equal FOUR_UNITS false
   645 op equal __tmp93 SUPPLY_P_FIRST false
   646 set __fn0_unit UNIT_P2
   647 set __fn0_item @phase-fabric
   648 set __fn0_group GROUP2
   649 set __fn0_supply __tmp93
-    * setaddr __fn0retaddr __label60
-    * call __label0
-    * gotolabel __label60 __fn0
-    * set UNIT_P2 __fn0retval
+  650 label __label233
+  651 ubind __fn0_unit
+  652 sensor __tmp102 @unit @dead
+  653 op strictEqual __tmp103 __tmp102 0
+  654 sensor __tmp104 @unit @controller
+  655 op notEqual __tmp105 __tmp104 @this
+  656 jump __label243 greaterThan __tmp103 __tmp105
+  657 label __label234
+  658 label __label235
+  659 ubind UNIT
+  660 jump __label236 notEqual @unit null
+  661 print "[salmon]No unit of type "
+  662 print UNIT
+  663 print " found..."
+  664 jump __label239 always
+  665 label __label236
+  666 sensor __tmp153 @unit @controlled
+  667 jump __label237 equal __tmp153 0
+  668 print "[salmon]Looking for a free "
+  669 print UNIT
+  670 print "..."
+  671 jump __label238 always
+  672 label __label237
+  673 ucontrol flag 1
+  674 jump __label242 always
+  675 label __label238
+  676 label __label239
+  677 printflush message1
+  678 label __label240
+  679 jump __label235 always
+  680 label __label241
+  681 label __label242
+  682 label __label243
+  683 label __label244
+  684 sensor __fn0_state @unit @flag
+  685 set __fn0_distance -1
+  686 set __fn0_color "gold"
+  687 jump __label251 notEqual __fn0_state 1
+  688 sensor __tmp111 @unit @firstItem
+  689 jump __label245 notEqual __tmp111 __fn0_item
+  690 set __fn0_state 3
+  691 jump __label250 always
+  692 label __label245
+  693 sensor __tmp114 @unit @totalItems
+  694 jump __label246 notEqual __tmp114 0
+  695 set __fn0_state 2
+  696 jump __label249 always
+  697 label __label246
+  698 set MSG ", initializing\n"
+  699 ucontrol approach CORE_X CORE_Y 6
+  700 ucontrol within CORE_X CORE_Y 8 __tmp117
+  701 jump __label247 equal __tmp117 false
+  702 ucontrol itemDrop CORE UNIT_CAPACITY
+  703 label __label247
+  704 label __label248
+  705 label __label249
+  706 label __label250
+  707 label __label251
+  708 label __label252
+  709 jump __label257 notEqual __fn0_state 2
+  710 ucontrol within CORE_X CORE_Y 8 __tmp121
+  711 jump __label255 equal __tmp121 false
+  712 ucontrol itemTake CORE __fn0_item UNIT_CAPACITY
+  713 sensor __tmp123 @unit @totalItems
+  714 jump __label253 lessThan __tmp123 UNIT_CAPACITY
+  715 ucontrol approach DOME_X DOME_Y 6
+  716 set __fn0_state 3
+  717 jump __label254 always
+  718 label __label253
+  719 set MSG ", loading\n"
+  720 label __label254
+  721 jump __label256 always
+  722 label __label255
+  723 ucontrol approach CORE_X CORE_Y 6
+  724 set MSG ", fetching in [gold]"
+  725 sensor __tmp126 @unit @x
+  726 op sub __tmp127 CORE_X __tmp126
+  727 sensor __tmp128 @unit @y
+  728 op sub __tmp129 CORE_Y __tmp128
+  729 op len __tmp130 __tmp127 __tmp129
+  730 op idiv __tmp131 __tmp130 SPEED_TENTHS
+  731 op div __fn0_distance __tmp131 10
+  732 label __label256
+  733 label __label257
+  734 label __label258
+  735 jump __label265 notEqual __fn0_state 3
+  736 ucontrol within DOME_X DOME_Y 8 __tmp135
+  737 jump __label263 equal __tmp135 false
+  738 jump __label259 equal __fn0_supply false
+  739 ucontrol itemDrop DOME UNIT_CAPACITY
+  740 set MSG ", supplying\n"
+  741 set __fn0_color "green"
+  742 jump __label260 always
+  743 label __label259
+  744 ucontrol approach DOME_X DOME_Y 6
+  745 set MSG ", waiting\n"
+  746 label __label260
+  747 sensor __tmp138 @unit @totalItems
+  748 jump __label261 greaterThan __tmp138 0
+  749 ucontrol approach CORE_X CORE_Y 6
+  750 set __fn0_state 2
+  751 label __label261
+  752 label __label262
+  753 jump __label264 always
+  754 label __label263
+  755 ucontrol approach DOME_X DOME_Y 6
+  756 set MSG ", returning in [gold]"
+  757 sensor __tmp141 @unit @x
+  758 op sub __tmp142 DOME_X __tmp141
+  759 sensor __tmp143 @unit @y
+  760 op sub __tmp144 DOME_Y __tmp143
+  761 op len __tmp145 __tmp142 __tmp144
+  762 op idiv __tmp146 __tmp145 SPEED_TENTHS
+  763 op div __fn0_distance __tmp146 10
+  764 label __label264
+  765 label __label265
+  766 label __label266
+  767 ucontrol flag __fn0_state
+  768 sensor __tmp148 @unit @totalItems
+  769 print "  "
+  770 print __fn0_group
+  771 print ": ["
+  772 print __fn0_color
+  773 print "]"
+  774 print __tmp148
+  775 print "[]"
+  776 jump __label267 lessThan __fn0_distance 0
+  777 print MSG
+  778 print __fn0_distance
+  779 print "[] sec\n"
+  780 jump __label268 always
+  781 label __label267
+  782 print MSG
+  783 label __label268
+  784 set UNIT_P2 @unit
+  785 jump __label269 always
+  786 set UNIT_P2 null
+  787 label __label269
   788 jump __label61 equal SUPPLY_P_FIRST false
   789 sensor __tmp96 UNIT_P1 @totalItems
   790 op greaterThan SUPPLY_P_FIRST __tmp96 0
 
   806 jump __label104 notEqual __tmp78 false
   807 label __label48
   808 end
-    * label __label0
-    * ubind __fn0_unit
-    * sensor __tmp102 @unit @dead
-    * op strictEqual __tmp103 __tmp102 0
-    * sensor __tmp104 @unit @controller
-    * op notEqual __tmp105 __tmp104 @this
-    * jump __label64 greaterThan __tmp103 __tmp105
-    * label __label113
-    * label __label114
-    * ubind UNIT
-    * jump __label115 notEqual @unit null
-    * print "[salmon]No unit of type "
-    * print UNIT
-    * print " found..."
-    * jump __label118 always
-    * label __label115
-    * sensor __tmp153 @unit @controlled
-    * jump __label116 equal __tmp153 0
-    * print "[salmon]Looking for a free "
-    * print UNIT
-    * print "..."
-    * jump __label117 always
-    * label __label116
-    * ucontrol flag 1
-    * jump __label121 always
-    * label __label117
-    * label __label118
-    * printflush message1
-    * label __label119
-    * jump __label114 always
-    * label __label120
-    * label __label121
-    * label __label64
-    * label __label65
-    * sensor __fn0_state @unit @flag
-    * set __fn0_distance -1
-    * set __fn0_color "gold"
-    * jump __label67 notEqual __fn0_state 1
-    * sensor __tmp111 @unit @firstItem
-    * jump __label69 notEqual __tmp111 __fn0_item
-    * set __fn0_state 3
-    * jump __label70 always
-    * label __label69
-    * sensor __tmp114 @unit @totalItems
-    * jump __label71 notEqual __tmp114 0
-    * set __fn0_state 2
-    * jump __label72 always
-    * label __label71
-    * set MSG ", initializing\n"
-    * ucontrol approach CORE_X CORE_Y 6
-    * ucontrol within CORE_X CORE_Y 8 __tmp117
-    * jump __label73 equal __tmp117 false
-    * ucontrol itemDrop CORE UNIT_CAPACITY
-    * label __label73
-    * label __label74
-    * label __label72
-    * label __label70
-    * label __label67
-    * label __label68
-    * jump __label75 notEqual __fn0_state 2
-    * ucontrol within CORE_X CORE_Y 8 __tmp121
-    * jump __label77 equal __tmp121 false
-    * ucontrol itemTake CORE __fn0_item UNIT_CAPACITY
-    * sensor __tmp123 @unit @totalItems
-    * jump __label79 lessThan __tmp123 UNIT_CAPACITY
-    * ucontrol approach DOME_X DOME_Y 6
-    * set __fn0_state 3
-    * jump __label80 always
-    * label __label79
-    * set MSG ", loading\n"
-    * label __label80
-    * jump __label78 always
-    * label __label77
-    * ucontrol approach CORE_X CORE_Y 6
-    * set MSG ", fetching in [gold]"
-    * sensor __tmp126 @unit @x
-    * op sub __tmp127 CORE_X __tmp126
-    * sensor __tmp128 @unit @y
-    * op sub __tmp129 CORE_Y __tmp128
-    * op len __tmp130 __tmp127 __tmp129
-    * op idiv __tmp131 __tmp130 SPEED_TENTHS
-    * op div __fn0_distance __tmp131 10
-    * label __label78
-    * label __label75
-    * label __label76
-    * jump __label81 notEqual __fn0_state 3
-    * ucontrol within DOME_X DOME_Y 8 __tmp135
-    * jump __label83 equal __tmp135 false
-    * jump __label85 equal __fn0_supply false
-    * ucontrol itemDrop DOME UNIT_CAPACITY
-    * set MSG ", supplying\n"
-    * set __fn0_color "green"
-    * jump __label86 always
-    * label __label85
-    * ucontrol approach DOME_X DOME_Y 6
-    * set MSG ", waiting\n"
-    * label __label86
-    * sensor __tmp138 @unit @totalItems
-    * jump __label87 greaterThan __tmp138 0
-    * ucontrol approach CORE_X CORE_Y 6
-    * set __fn0_state 2
-    * label __label87
-    * label __label88
-    * jump __label84 always
-    * label __label83
-    * ucontrol approach DOME_X DOME_Y 6
-    * set MSG ", returning in [gold]"
-    * sensor __tmp141 @unit @x
-    * op sub __tmp142 DOME_X __tmp141
-    * sensor __tmp143 @unit @y
-    * op sub __tmp144 DOME_Y __tmp143
-    * op len __tmp145 __tmp142 __tmp144
-    * op idiv __tmp146 __tmp145 SPEED_TENTHS
-    * op div __fn0_distance __tmp146 10
-    * label __label84
-    * label __label81
-    * label __label82
-    * ucontrol flag __fn0_state
-    * sensor __tmp148 @unit @totalItems
-    * print "  "
-    * print __fn0_group
-    * print ": ["
-    * print __fn0_color
-    * print "]"
-    * print __tmp148
-    * print "[]"
-    * jump __label89 lessThan __fn0_distance 0
-    * print MSG
-    * print __fn0_distance
-    * print "[] sec\n"
-    * jump __label90 always
-    * label __label89
-    * print MSG
-    * label __label90
-    * set __fn0retval @unit
-    * jump __label63 always
-    * set __fn0retval null
-    * label __label63
-    * goto __fn0retaddr __fn0
-    * end
   809 label __label1
   810 label __label92
   811 ubind UNIT

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   194 set __fn0_group GROUP1
   195 set __fn0_supply SUPPLY_S_FIRST
   196 label __label122
-    * ubind __fn0_unit
+  197 ubind UNIT_S1
   198 sensor __tmp102 @unit @dead
   199 op strictEqual __tmp103 __tmp102 0
   200 sensor __tmp104 @unit @controller
 
   232 set __fn0_color "gold"
   233 jump __label140 notEqual __fn0_state 1
   234 sensor __tmp111 @unit @firstItem
-    * jump __label134 notEqual __tmp111 __fn0_item
+  235 jump __label134 notEqual __tmp111 @silicon
   236 set __fn0_state 3
   237 jump __label139 always
   238 label __label134
 
   255 jump __label146 notEqual __fn0_state 2
   256 ucontrol within CORE_X CORE_Y 8 __tmp121
   257 jump __label144 equal __tmp121 false
-    * ucontrol itemTake CORE __fn0_item UNIT_CAPACITY
+  258 ucontrol itemTake CORE @silicon UNIT_CAPACITY
   259 sensor __tmp123 @unit @totalItems
   260 jump __label142 lessThan __tmp123 UNIT_CAPACITY
   261 ucontrol approach DOME_X DOME_Y 6
 
   281 jump __label154 notEqual __fn0_state 3
   282 ucontrol within DOME_X DOME_Y 8 __tmp135
   283 jump __label152 equal __tmp135 false
-    * jump __label148 equal __fn0_supply false
+  284 jump __label148 equal SUPPLY_S_FIRST false
   285 ucontrol itemDrop DOME UNIT_CAPACITY
   286 set MSG ", supplying\n"
   287 set __fn0_color "green"
 
   313 ucontrol flag __fn0_state
   314 sensor __tmp148 @unit @totalItems
   315 print "  "
-    * print __fn0_group
+  316 print GROUP1
   317 print ": ["
   318 print __fn0_color
   319 print "]"
 
   338 set __fn0_group GROUP2
   339 set __fn0_supply __tmp83
   340 label __label159
-    * ubind __fn0_unit
+  341 ubind UNIT_S2
   342 sensor __tmp102 @unit @dead
   343 op strictEqual __tmp103 __tmp102 0
   344 sensor __tmp104 @unit @controller
 
   376 set __fn0_color "gold"
   377 jump __label177 notEqual __fn0_state 1
   378 sensor __tmp111 @unit @firstItem
-    * jump __label171 notEqual __tmp111 __fn0_item
+  379 jump __label171 notEqual __tmp111 @silicon
   380 set __fn0_state 3
   381 jump __label176 always
   382 label __label171
 
   399 jump __label183 notEqual __fn0_state 2
   400 ucontrol within CORE_X CORE_Y 8 __tmp121
   401 jump __label181 equal __tmp121 false
-    * ucontrol itemTake CORE __fn0_item UNIT_CAPACITY
+  402 ucontrol itemTake CORE @silicon UNIT_CAPACITY
   403 sensor __tmp123 @unit @totalItems
   404 jump __label179 lessThan __tmp123 UNIT_CAPACITY
   405 ucontrol approach DOME_X DOME_Y 6
 
   425 jump __label191 notEqual __fn0_state 3
   426 ucontrol within DOME_X DOME_Y 8 __tmp135
   427 jump __label189 equal __tmp135 false
-    * jump __label185 equal __fn0_supply false
+  428 jump __label185 equal __tmp83 false
   429 ucontrol itemDrop DOME UNIT_CAPACITY
   430 set MSG ", supplying\n"
   431 set __fn0_color "green"
 
   457 ucontrol flag __fn0_state
   458 sensor __tmp148 @unit @totalItems
   459 print "  "
-    * print __fn0_group
+  460 print GROUP2
   461 print ": ["
   462 print __fn0_color
   463 print "]"
 
   504 set __fn0_group GROUP1
   505 set __fn0_supply SUPPLY_P_FIRST
   506 label __label196
-    * ubind __fn0_unit
+  507 ubind UNIT_P1
   508 sensor __tmp102 @unit @dead
   509 op strictEqual __tmp103 __tmp102 0
   510 sensor __tmp104 @unit @controller
 
   542 set __fn0_color "gold"
   543 jump __label214 notEqual __fn0_state 1
   544 sensor __tmp111 @unit @firstItem
-    * jump __label208 notEqual __tmp111 __fn0_item
+  545 jump __label208 notEqual __tmp111 @phase-fabric
   546 set __fn0_state 3
   547 jump __label213 always
   548 label __label208
 
   565 jump __label220 notEqual __fn0_state 2
   566 ucontrol within CORE_X CORE_Y 8 __tmp121
   567 jump __label218 equal __tmp121 false
-    * ucontrol itemTake CORE __fn0_item UNIT_CAPACITY
+  568 ucontrol itemTake CORE @phase-fabric UNIT_CAPACITY
   569 sensor __tmp123 @unit @totalItems
   570 jump __label216 lessThan __tmp123 UNIT_CAPACITY
   571 ucontrol approach DOME_X DOME_Y 6
 
   591 jump __label228 notEqual __fn0_state 3
   592 ucontrol within DOME_X DOME_Y 8 __tmp135
   593 jump __label226 equal __tmp135 false
-    * jump __label222 equal __fn0_supply false
+  594 jump __label222 equal SUPPLY_P_FIRST false
   595 ucontrol itemDrop DOME UNIT_CAPACITY
   596 set MSG ", supplying\n"
   597 set __fn0_color "green"
 
   623 ucontrol flag __fn0_state
   624 sensor __tmp148 @unit @totalItems
   625 print "  "
-    * print __fn0_group
+  626 print GROUP1
   627 print ": ["
   628 print __fn0_color
   629 print "]"
 
   648 set __fn0_group GROUP2
   649 set __fn0_supply __tmp93
   650 label __label233
-    * ubind __fn0_unit
+  651 ubind UNIT_P2
   652 sensor __tmp102 @unit @dead
   653 op strictEqual __tmp103 __tmp102 0
   654 sensor __tmp104 @unit @controller
 
   686 set __fn0_color "gold"
   687 jump __label251 notEqual __fn0_state 1
   688 sensor __tmp111 @unit @firstItem
-    * jump __label245 notEqual __tmp111 __fn0_item
+  689 jump __label245 notEqual __tmp111 @phase-fabric
   690 set __fn0_state 3
   691 jump __label250 always
   692 label __label245
 
   709 jump __label257 notEqual __fn0_state 2
   710 ucontrol within CORE_X CORE_Y 8 __tmp121
   711 jump __label255 equal __tmp121 false
-    * ucontrol itemTake CORE __fn0_item UNIT_CAPACITY
+  712 ucontrol itemTake CORE @phase-fabric UNIT_CAPACITY
   713 sensor __tmp123 @unit @totalItems
   714 jump __label253 lessThan __tmp123 UNIT_CAPACITY
   715 ucontrol approach DOME_X DOME_Y 6
 
   735 jump __label265 notEqual __fn0_state 3
   736 ucontrol within DOME_X DOME_Y 8 __tmp135
   737 jump __label263 equal __tmp135 false
-    * jump __label259 equal __fn0_supply false
+  738 jump __label259 equal __tmp93 false
   739 ucontrol itemDrop DOME UNIT_CAPACITY
   740 set MSG ", supplying\n"
   741 set __fn0_color "green"
 
   767 ucontrol flag __fn0_state
   768 sensor __tmp148 @unit @totalItems
   769 print "  "
-    * print __fn0_group
+  770 print GROUP2
   771 print ": ["
   772 print __fn0_color
   773 print "]"

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-16 instructions):
 
   189 print "[]\n"
   190 label __label107
   191 label __label108
-    * set __fn0_unit UNIT_S1
-    * set __fn0_item @silicon
-    * set __fn0_group GROUP1
-    * set __fn0_supply SUPPLY_S_FIRST
   192 label __label122
   193 ubind UNIT_S1
   194 sensor __tmp102 @unit @dead
 
   329 label __label158
   330 jump __label51 equal FOUR_UNITS false
   331 op equal __tmp83 SUPPLY_S_FIRST false
-    * set __fn0_unit UNIT_S2
-    * set __fn0_item @silicon
-    * set __fn0_group GROUP2
-    * set __fn0_supply __tmp83
   332 label __label159
   333 ubind UNIT_S2
   334 sensor __tmp102 @unit @dead
 
   491 print "[]\n"
   492 label __label111
   493 label __label112
-    * set __fn0_unit UNIT_P1
-    * set __fn0_item @phase-fabric
-    * set __fn0_group GROUP1
-    * set __fn0_supply SUPPLY_P_FIRST
   494 label __label196
   495 ubind UNIT_P1
   496 sensor __tmp102 @unit @dead
 
   631 label __label232
   632 jump __label58 equal FOUR_UNITS false
   633 op equal __tmp93 SUPPLY_P_FIRST false
-    * set __fn0_unit UNIT_P2
-    * set __fn0_item @phase-fabric
-    * set __fn0_group GROUP2
-    * set __fn0_supply __tmp93
   634 label __label233
   635 ubind UNIT_P2
   636 sensor __tmp102 @unit @dead

Modifications by Function Inlining: inline function findUnit (+40 instructions):
 
    66 label __label18
    67 label __label10
    68 jump __label23 notEqual UNIT_S1 null
-    * setaddr __fn1retaddr __label25
-    * call __label1
-    * gotolabel __label25 __fn1
-    * set UNIT_S1 __fn1retval
+   69 label __label270
+   70 label __label271
+   71 ubind UNIT
+   72 jump __label272 notEqual @unit null
+   73 print "[salmon]No unit of type "
+   74 print UNIT
+   75 print " found..."
+   76 jump __label275 always
+   77 label __label272
+   78 sensor __tmp153 @unit @controlled
+   79 jump __label273 equal __tmp153 0
+   80 print "[salmon]Looking for a free "
+   81 print UNIT
+   82 print "..."
+   83 jump __label274 always
+   84 label __label273
+   85 ucontrol flag 1
+   86 set UNIT_S1 @unit
+   87 jump __label278 always
+   88 label __label274
+   89 label __label275
+   90 printflush message1
+   91 label __label276
+   92 jump __label271 always
+   93 label __label277
+   94 set UNIT_S1 null
+   95 label __label278
    96 label __label23
    97 label __label24
    98 jump __label26 notEqual UNIT_P1 null
-    * setaddr __fn1retaddr __label28
-    * call __label1
-    * gotolabel __label28 __fn1
-    * set UNIT_P1 __fn1retval
+   99 label __label279
+  100 label __label280
+  101 ubind UNIT
+  102 jump __label281 notEqual @unit null
+  103 print "[salmon]No unit of type "
+  104 print UNIT
+  105 print " found..."
+  106 jump __label284 always
+  107 label __label281
+  108 sensor __tmp153 @unit @controlled
+  109 jump __label282 equal __tmp153 0
+  110 print "[salmon]Looking for a free "
+  111 print UNIT
+  112 print "..."
+  113 jump __label283 always
+  114 label __label282
+  115 ucontrol flag 1
+  116 set UNIT_P1 @unit
+  117 jump __label287 always
+  118 label __label283
+  119 label __label284
+  120 printflush message1
+  121 label __label285
+  122 jump __label280 always
+  123 label __label286
+  124 set UNIT_P1 null
+  125 label __label287
   126 label __label26
   127 label __label27
   128 sensor __tmp25 UNIT_S1 @firstItem
 
   158 op greaterThanEq FOUR_UNITS travel_time 47
   159 jump __label34 equal FOUR_UNITS false
   160 jump __label36 notEqual UNIT_S2 null
-    * setaddr __fn1retaddr __label38
-    * call __label1
-    * gotolabel __label38 __fn1
-    * set UNIT_S2 __fn1retval
+  161 label __label288
+  162 label __label289
+  163 ubind UNIT
+  164 jump __label290 notEqual @unit null
+  165 print "[salmon]No unit of type "
+  166 print UNIT
+  167 print " found..."
+  168 jump __label293 always
+  169 label __label290
+  170 sensor __tmp153 @unit @controlled
+  171 jump __label291 equal __tmp153 0
+  172 print "[salmon]Looking for a free "
+  173 print UNIT
+  174 print "..."
+  175 jump __label292 always
+  176 label __label291
+  177 ucontrol flag 1
+  178 set UNIT_S2 @unit
+  179 jump __label296 always
+  180 label __label292
+  181 label __label293
+  182 printflush message1
+  183 label __label294
+  184 jump __label289 always
+  185 label __label295
+  186 set UNIT_S2 null
+  187 label __label296
   188 label __label36
   189 label __label37
   190 jump __label39 notEqual UNIT_P2 null
-    * setaddr __fn1retaddr __label41
-    * call __label1
-    * gotolabel __label41 __fn1
-    * set UNIT_P2 __fn1retval
+  191 label __label297
+  192 label __label298
+  193 ubind UNIT
+  194 jump __label299 notEqual @unit null
+  195 print "[salmon]No unit of type "
+  196 print UNIT
+  197 print " found..."
+  198 jump __label302 always
+  199 label __label299
+  200 sensor __tmp153 @unit @controlled
+  201 jump __label300 equal __tmp153 0
+  202 print "[salmon]Looking for a free "
+  203 print UNIT
+  204 print "..."
+  205 jump __label301 always
+  206 label __label300
+  207 ucontrol flag 1
+  208 set UNIT_P2 @unit
+  209 jump __label305 always
+  210 label __label301
+  211 label __label302
+  212 printflush message1
+  213 label __label303
+  214 jump __label298 always
+  215 label __label304
+  216 set UNIT_P2 null
+  217 label __label305
   218 label __label39
   219 label __label40
   220 sensor __tmp56 UNIT_S1 @firstItem
 
   882 jump __label104 notEqual __tmp78 false
   883 label __label48
   884 end
-    * label __label1
-    * label __label92
-    * ubind UNIT
-    * jump __label95 notEqual @unit null
-    * print "[salmon]No unit of type "
-    * print UNIT
-    * print " found..."
-    * jump __label96 always
-    * label __label95
-    * sensor __tmp153 @unit @controlled
-    * jump __label97 equal __tmp153 0
-    * print "[salmon]Looking for a free "
-    * print UNIT
-    * print "..."
-    * jump __label98 always
-    * label __label97
-    * ucontrol flag 1
-    * set __fn1retval @unit
-    * jump __label91 always
-    * label __label98
-    * label __label96
-    * printflush message1
-    * label __label93
-    * jump __label92 always
-    * label __label94
-    * set __fn1retval null
-    * label __label91
-    * goto __fn1retaddr __fn1
-    * end

Modifications by Final phase, Jump Straightening, iteration 1 (-2 instructions):
 
    29 set __fn3_count 0
    30 label __label11
    31 ubind UNIT
-    * jump __label14 equal @unit null
-    * jump __label13 always
+   32 jump __label13 notEqual @unit null
    33 label __label14
    34 label __label15
    35 print "[salmon]No unit of type "
 
    49 set UNIT_P2 UNIT_S1
    50 set UNIT_S1 UNIT_P1
    51 set UNIT_P1 @unit
-    * jump __label21 equal UNIT_S2 null
-    * jump __label18 always
+   52 jump __label18 notEqual UNIT_S2 null
    53 label __label21
    54 label __label22
    55 label __label19

Modifications by Final phase, Jump Threading, iteration 1:
 
   346 jump __label142 lessThan __tmp123 UNIT_CAPACITY
   347 ucontrol approach DOME_X DOME_Y 6
   348 set __fn0_state 3
-    * jump __label143 always
+  349 jump __label145 always
   350 label __label142
   351 set MSG ", loading\n"
   352 label __label143
 
   377 set MSG ", waiting\n"
   378 label __label149
   379 sensor __tmp138 @unit @totalItems
-    * jump __label150 greaterThan __tmp138 0
+  380 jump __label153 greaterThan __tmp138 0
   381 ucontrol approach CORE_X CORE_Y 6
   382 set __fn0_state 2
   383 label __label150
 
   486 jump __label179 lessThan __tmp123 UNIT_CAPACITY
   487 ucontrol approach DOME_X DOME_Y 6
   488 set __fn0_state 3
-    * jump __label180 always
+  489 jump __label182 always
   490 label __label179
   491 set MSG ", loading\n"
   492 label __label180
 
   517 set MSG ", waiting\n"
   518 label __label186
   519 sensor __tmp138 @unit @totalItems
-    * jump __label187 greaterThan __tmp138 0
+  520 jump __label190 greaterThan __tmp138 0
   521 ucontrol approach CORE_X CORE_Y 6
   522 set __fn0_state 2
   523 label __label187
 
   648 jump __label216 lessThan __tmp123 UNIT_CAPACITY
   649 ucontrol approach DOME_X DOME_Y 6
   650 set __fn0_state 3
-    * jump __label217 always
+  651 jump __label219 always
   652 label __label216
   653 set MSG ", loading\n"
   654 label __label217
 
   679 set MSG ", waiting\n"
   680 label __label223
   681 sensor __tmp138 @unit @totalItems
-    * jump __label224 greaterThan __tmp138 0
+  682 jump __label227 greaterThan __tmp138 0
   683 ucontrol approach CORE_X CORE_Y 6
   684 set __fn0_state 2
   685 label __label224
 
   788 jump __label253 lessThan __tmp123 UNIT_CAPACITY
   789 ucontrol approach DOME_X DOME_Y 6
   790 set __fn0_state 3
-    * jump __label254 always
+  791 jump __label256 always
   792 label __label253
   793 set MSG ", loading\n"
   794 label __label254
 
   819 set MSG ", waiting\n"
   820 label __label260
   821 sensor __tmp138 @unit @totalItems
-    * jump __label261 greaterThan __tmp138 0
+  822 jump __label264 greaterThan __tmp138 0
   823 ucontrol approach CORE_X CORE_Y 6
   824 set __fn0_state 2
   825 label __label261

Modifications by Final phase, Unreachable Code Elimination, iteration 1 (-8 instructions):
 
    88 printflush message1
    89 label __label276
    90 jump __label271 always
-    * label __label277
-    * set UNIT_S1 null
    91 label __label278
    92 label __label23
    93 label __label24
 
   116 printflush message1
   117 label __label285
   118 jump __label280 always
-    * label __label286
-    * set UNIT_P1 null
   119 label __label287
   120 label __label26
   121 label __label27
 
   176 printflush message1
   177 label __label294
   178 jump __label289 always
-    * label __label295
-    * set UNIT_S2 null
   179 label __label296
   180 label __label36
   181 label __label37
 
   204 printflush message1
   205 label __label303
   206 jump __label298 always
-    * label __label304
-    * set UNIT_P2 null
   207 label __label305
   208 label __label39
   209 label __label40
 
   301 printflush message1
   302 label __label129
   303 jump __label124 always
-    * label __label130
   304 label __label131
   305 label __label132
   306 label __label133
 
   406 label __label157
   407 set UNIT_S1 @unit
   408 jump __label158 always
-    * set UNIT_S1 null
   409 label __label158
   410 jump __label51 equal FOUR_UNITS false
   411 op equal __tmp83 SUPPLY_S_FIRST false
 
   439 printflush message1
   440 label __label166
   441 jump __label161 always
-    * label __label167
   442 label __label168
   443 label __label169
   444 label __label170
 
   544 label __label194
   545 set UNIT_S2 @unit
   546 jump __label195 always
-    * set UNIT_S2 null
   547 label __label195
   548 jump __label54 equal SUPPLY_S_FIRST false
   549 sensor __tmp86 UNIT_S1 @totalItems
 
   599 printflush message1
   600 label __label203
   601 jump __label198 always
-    * label __label204
   602 label __label205
   603 label __label206
   604 label __label207
 
   704 label __label231
   705 set UNIT_P1 @unit
   706 jump __label232 always
-    * set UNIT_P1 null
   707 label __label232
   708 jump __label58 equal FOUR_UNITS false
   709 op equal __tmp93 SUPPLY_P_FIRST false
 
   737 printflush message1
   738 label __label240
   739 jump __label235 always
-    * label __label241
   740 label __label242
   741 label __label243
   742 label __label244
 
   842 label __label268
   843 set UNIT_P2 @unit
   844 jump __label269 always
-    * set UNIT_P2 null
   845 label __label269
   846 jump __label61 equal SUPPLY_P_FIRST false
   847 sensor __tmp96 UNIT_P1 @totalItems

Modifications by Final phase, Single Step Elimination, iteration 1 (-4 instructions):
 
   405 print MSG
   406 label __label157
   407 set UNIT_S1 @unit
-    * jump __label158 always
   408 label __label158
   409 jump __label51 equal FOUR_UNITS false
   410 op equal __tmp83 SUPPLY_S_FIRST false
 
   542 print MSG
   543 label __label194
   544 set UNIT_S2 @unit
-    * jump __label195 always
   545 label __label195
   546 jump __label54 equal SUPPLY_S_FIRST false
   547 sensor __tmp86 UNIT_S1 @totalItems
 
   701 print MSG
   702 label __label231
   703 set UNIT_P1 @unit
-    * jump __label232 always
   704 label __label232
   705 jump __label58 equal FOUR_UNITS false
   706 op equal __tmp93 SUPPLY_P_FIRST false
 
   838 print MSG
   839 label __label268
   840 set UNIT_P2 @unit
-    * jump __label269 always
   841 label __label269
   842 jump __label61 equal SUPPLY_P_FIRST false
   843 sensor __tmp96 UNIT_P1 @totalItems

Modifications by Final phase, Print Merging, iteration 1 (-1 instructions):
 
   256 label __label104
   257 set start @time
   258 print " === [gold]Supplying Overdrive Dome[] === "
-    * print "\n"
   259 label __label105
-    * print "\n[green]Silicon[] status:\n"
+  260 print "\n\n[green]Silicon[] status:\n"
   261 sensor __fn2_level DOME @silicon
   262 jump __label106 lessThanEq __fn2_level 3
   263 print "  dome:  [green]"

Final code before resolving virtual instructions:

set UNIT @flare
set DOME dome1
jump __label5 notEqual DOME null
label __label102
print "[gold]Waiting for an overdrive dome to be connected..."
printflush message1
set DOME dome1
jump __label102 equal DOME null
label __label5
sensor __tmp1 switch1 @enabled
jump __label8 notEqual __tmp1 false
label __label103
print "[coral]Activate switch to begin supplying overdrive dome..."
print "\n"
printflush message1
sensor __tmp1 switch1 @enabled
jump __label103 equal __tmp1 false
label __label8
print "[gold]Binding units..."
printflush message1
set UNIT_P2 null
set UNIT_S2 UNIT_P2
set UNIT_P1 UNIT_S2
set UNIT_S1 UNIT_P1
set __fn3_count 0
label __label11
ubind UNIT
jump __label13 notEqual @unit null
print "[salmon]No unit of type "
print UNIT
print " found. 1"
printflush message1
jump __label11 always 0 0
label __label13
set __fn3_first_unit @unit
label __label16
sensor __tmp8 @unit @controller
jump __label19 notEqual __tmp8 @this
op add __fn3_count __fn3_count 1
ucontrol flag 1 0 0 0 0
set UNIT_S2 UNIT_P2
set UNIT_P2 UNIT_S1
set UNIT_S1 UNIT_P1
set UNIT_P1 @unit
jump __label18 notEqual UNIT_S2 null
label __label19
ubind UNIT
op notEqual __tmp15 @unit __fn3_first_unit
sensor __tmp16 __fn3_first_unit @dead
op strictEqual __tmp17 __tmp16 0
op land __tmp18 __tmp15 __tmp17
jump __label16 notEqual __tmp18 false
label __label18
jump __label23 notEqual UNIT_S1 null
label __label271
ubind UNIT
jump __label272 notEqual @unit null
print "[salmon]No unit of type "
print UNIT
print " found..."
jump __label275 always 0 0
label __label272
sensor __tmp153 @unit @controlled
jump __label273 equal __tmp153 0
print "[salmon]Looking for a free "
print UNIT
print "..."
jump __label274 always 0 0
label __label273
ucontrol flag 1 0 0 0 0
set UNIT_S1 @unit
jump __label278 always 0 0
label __label274
label __label275
printflush message1
jump __label271 always 0 0
label __label278
label __label23
jump __label26 notEqual UNIT_P1 null
label __label280
ubind UNIT
jump __label281 notEqual @unit null
print "[salmon]No unit of type "
print UNIT
print " found..."
jump __label284 always 0 0
label __label281
sensor __tmp153 @unit @controlled
jump __label282 equal __tmp153 0
print "[salmon]Looking for a free "
print UNIT
print "..."
jump __label283 always 0 0
label __label282
ucontrol flag 1 0 0 0 0
set UNIT_P1 @unit
jump __label287 always 0 0
label __label283
label __label284
printflush message1
jump __label280 always 0 0
label __label287
label __label26
sensor __tmp25 UNIT_S1 @firstItem
op equal __tmp26 __tmp25 @phase-fabric
sensor __tmp27 UNIT_P1 @firstItem
op equal __tmp28 __tmp27 @silicon
op or __tmp29 __tmp26 __tmp28
jump __label29 equal __tmp29 false
set u UNIT_S1
set UNIT_S1 UNIT_P1
set UNIT_P1 u
label __label29
sensor UNIT_CAPACITY UNIT_S1 @itemCapacity
sensor SPEED UNIT_S1 @speed
op div SPEED_TENTHS SPEED 10
print "[gold]Locating core..."
printflush message1
label __label31
ulocate building core false @copper __tmp35 __tmp36 __tmp37 CORE
jump __label31 equal CORE null
sensor CORE_X CORE @x
sensor CORE_Y CORE @y
sensor DOME_X DOME @x
sensor DOME_Y DOME @y
op sub __tmp43 DOME_X CORE_X
op sub __tmp44 DOME_Y CORE_Y
op len __tmp45 __tmp43 __tmp44
op mul __tmp46 2 __tmp45
op div travel_time __tmp46 SPEED
op greaterThanEq FOUR_UNITS travel_time 47
jump __label34 equal FOUR_UNITS false
jump __label36 notEqual UNIT_S2 null
label __label289
ubind UNIT
jump __label290 notEqual @unit null
print "[salmon]No unit of type "
print UNIT
print " found..."
jump __label293 always 0 0
label __label290
sensor __tmp153 @unit @controlled
jump __label291 equal __tmp153 0
print "[salmon]Looking for a free "
print UNIT
print "..."
jump __label292 always 0 0
label __label291
ucontrol flag 1 0 0 0 0
set UNIT_S2 @unit
jump __label296 always 0 0
label __label292
label __label293
printflush message1
jump __label289 always 0 0
label __label296
label __label36
jump __label39 notEqual UNIT_P2 null
label __label298
ubind UNIT
jump __label299 notEqual @unit null
print "[salmon]No unit of type "
print UNIT
print " found..."
jump __label302 always 0 0
label __label299
sensor __tmp153 @unit @controlled
jump __label300 equal __tmp153 0
print "[salmon]Looking for a free "
print UNIT
print "..."
jump __label301 always 0 0
label __label300
ucontrol flag 1 0 0 0 0
set UNIT_P2 @unit
jump __label305 always 0 0
label __label301
label __label302
printflush message1
jump __label298 always 0 0
label __label305
label __label39
sensor __tmp56 UNIT_S1 @firstItem
op equal __tmp57 __tmp56 @phase-fabric
sensor __tmp58 UNIT_P2 @firstItem
op notEqual __tmp59 __tmp58 @phase-fabric
op land __tmp60 __tmp57 __tmp59
jump __label42 equal __tmp60 false
set u UNIT_S1
set UNIT_S1 UNIT_P2
set UNIT_P2 u
label __label42
sensor __tmp62 UNIT_S2 @firstItem
op equal __tmp63 __tmp62 @phase-fabric
sensor __tmp64 UNIT_P2 @firstItem
op equal __tmp65 __tmp64 @silicon
op or __tmp66 __tmp63 __tmp65
jump __label44 equal __tmp66 false
set u UNIT_S2
set UNIT_S2 UNIT_P2
set UNIT_P2 u
label __label44
set GROUP1 "probe  1"
set GROUP2 "probe 2"
jump __label35 always 0 0
label __label34
ubind UNIT_S2
ucontrol unbind 0 0 0 0 0
set UNIT_S2 null
ubind UNIT_P2
ucontrol unbind 0 0 0 0 0
set UNIT_P2 null
set GROUP1 "probe"
label __label35
op equal __tmp68 FOUR_UNITS false
sensor __tmp69 UNIT_S1 @totalItems
sensor __tmp70 UNIT_S2 @totalItems
op lessThan __tmp71 __tmp69 __tmp70
op or SUPPLY_S_FIRST __tmp68 __tmp71
sensor __tmp74 UNIT_P1 @totalItems
sensor __tmp75 UNIT_P2 @totalItems
op lessThan __tmp76 __tmp74 __tmp75
op or SUPPLY_P_FIRST __tmp68 __tmp76
sensor __tmp78 switch1 @enabled
jump __label48 equal __tmp78 false
label __label104
set start @time
print " === [gold]Supplying Overdrive Dome[] === "
print "\n\n[green]Silicon[] status:\n"
sensor __fn2_level DOME @silicon
jump __label106 lessThanEq __fn2_level 3
print "  dome:  [green]"
print __fn2_level
print "[]\n"
jump __label107 always 0 0
label __label106
print "  dome:  [coral]"
print __fn2_level
print "[]\n"
label __label107
ubind UNIT_S1
sensor __tmp102 @unit @dead
op strictEqual __tmp103 __tmp102 0
sensor __tmp104 @unit @controller
op notEqual __tmp105 __tmp104 @this
jump __label132 greaterThan __tmp103 __tmp105
label __label124
ubind UNIT
jump __label125 notEqual @unit null
print "[salmon]No unit of type "
print UNIT
print " found..."
jump __label128 always 0 0
label __label125
sensor __tmp153 @unit @controlled
jump __label126 equal __tmp153 0
print "[salmon]Looking for a free "
print UNIT
print "..."
jump __label127 always 0 0
label __label126
ucontrol flag 1 0 0 0 0
jump __label131 always 0 0
label __label127
label __label128
printflush message1
jump __label124 always 0 0
label __label131
label __label132
sensor __fn0_state @unit @flag
set __fn0_distance -1
set __fn0_color "gold"
jump __label140 notEqual __fn0_state 1
sensor __tmp111 @unit @firstItem
jump __label134 notEqual __tmp111 @silicon
set __fn0_state 3
jump __label139 always 0 0
label __label134
sensor __tmp114 @unit @totalItems
jump __label135 notEqual __tmp114 0
set __fn0_state 2
jump __label138 always 0 0
label __label135
set MSG ", initializing\n"
ucontrol approach CORE_X CORE_Y 6 0 0
ucontrol within CORE_X CORE_Y 8 __tmp117 0
jump __label136 equal __tmp117 false
ucontrol itemDrop CORE UNIT_CAPACITY 0 0 0
label __label136
label __label138
label __label139
label __label140
jump __label146 notEqual __fn0_state 2
ucontrol within CORE_X CORE_Y 8 __tmp121 0
jump __label144 equal __tmp121 false
ucontrol itemTake CORE @silicon UNIT_CAPACITY 0 0
sensor __tmp123 @unit @totalItems
jump __label142 lessThan __tmp123 UNIT_CAPACITY
ucontrol approach DOME_X DOME_Y 6 0 0
set __fn0_state 3
jump __label145 always 0 0
label __label142
set MSG ", loading\n"
jump __label145 always 0 0
label __label144
ucontrol approach CORE_X CORE_Y 6 0 0
set MSG ", fetching in [gold]"
sensor __tmp126 @unit @x
op sub __tmp127 CORE_X __tmp126
sensor __tmp128 @unit @y
op sub __tmp129 CORE_Y __tmp128
op len __tmp130 __tmp127 __tmp129
op idiv __tmp131 __tmp130 SPEED_TENTHS
op div __fn0_distance __tmp131 10
label __label145
label __label146
jump __label154 notEqual __fn0_state 3
ucontrol within DOME_X DOME_Y 8 __tmp135 0
jump __label152 equal __tmp135 false
jump __label148 equal SUPPLY_S_FIRST false
ucontrol itemDrop DOME UNIT_CAPACITY 0 0 0
set MSG ", supplying\n"
set __fn0_color "green"
jump __label149 always 0 0
label __label148
ucontrol approach DOME_X DOME_Y 6 0 0
set MSG ", waiting\n"
label __label149
sensor __tmp138 @unit @totalItems
jump __label153 greaterThan __tmp138 0
ucontrol approach CORE_X CORE_Y 6 0 0
set __fn0_state 2
jump __label153 always 0 0
label __label152
ucontrol approach DOME_X DOME_Y 6 0 0
set MSG ", returning in [gold]"
sensor __tmp141 @unit @x
op sub __tmp142 DOME_X __tmp141
sensor __tmp143 @unit @y
op sub __tmp144 DOME_Y __tmp143
op len __tmp145 __tmp142 __tmp144
op idiv __tmp146 __tmp145 SPEED_TENTHS
op div __fn0_distance __tmp146 10
label __label153
label __label154
ucontrol flag __fn0_state 0 0 0 0
sensor __tmp148 @unit @totalItems
print "  "
print GROUP1
print ": ["
print __fn0_color
print "]"
print __tmp148
print "[]"
jump __label156 lessThan __fn0_distance 0
print MSG
print __fn0_distance
print "[] sec\n"
jump __label157 always 0 0
label __label156
print MSG
label __label157
set UNIT_S1 @unit
jump __label51 equal FOUR_UNITS false
op equal __tmp83 SUPPLY_S_FIRST false
ubind UNIT_S2
sensor __tmp102 @unit @dead
op strictEqual __tmp103 __tmp102 0
sensor __tmp104 @unit @controller
op notEqual __tmp105 __tmp104 @this
jump __label169 greaterThan __tmp103 __tmp105
label __label161
ubind UNIT
jump __label162 notEqual @unit null
print "[salmon]No unit of type "
print UNIT
print " found..."
jump __label165 always 0 0
label __label162
sensor __tmp153 @unit @controlled
jump __label163 equal __tmp153 0
print "[salmon]Looking for a free "
print UNIT
print "..."
jump __label164 always 0 0
label __label163
ucontrol flag 1 0 0 0 0
jump __label168 always 0 0
label __label164
label __label165
printflush message1
jump __label161 always 0 0
label __label168
label __label169
sensor __fn0_state @unit @flag
set __fn0_distance -1
set __fn0_color "gold"
jump __label177 notEqual __fn0_state 1
sensor __tmp111 @unit @firstItem
jump __label171 notEqual __tmp111 @silicon
set __fn0_state 3
jump __label176 always 0 0
label __label171
sensor __tmp114 @unit @totalItems
jump __label172 notEqual __tmp114 0
set __fn0_state 2
jump __label175 always 0 0
label __label172
set MSG ", initializing\n"
ucontrol approach CORE_X CORE_Y 6 0 0
ucontrol within CORE_X CORE_Y 8 __tmp117 0
jump __label173 equal __tmp117 false
ucontrol itemDrop CORE UNIT_CAPACITY 0 0 0
label __label173
label __label175
label __label176
label __label177
jump __label183 notEqual __fn0_state 2
ucontrol within CORE_X CORE_Y 8 __tmp121 0
jump __label181 equal __tmp121 false
ucontrol itemTake CORE @silicon UNIT_CAPACITY 0 0
sensor __tmp123 @unit @totalItems
jump __label179 lessThan __tmp123 UNIT_CAPACITY
ucontrol approach DOME_X DOME_Y 6 0 0
set __fn0_state 3
jump __label182 always 0 0
label __label179
set MSG ", loading\n"
jump __label182 always 0 0
label __label181
ucontrol approach CORE_X CORE_Y 6 0 0
set MSG ", fetching in [gold]"
sensor __tmp126 @unit @x
op sub __tmp127 CORE_X __tmp126
sensor __tmp128 @unit @y
op sub __tmp129 CORE_Y __tmp128
op len __tmp130 __tmp127 __tmp129
op idiv __tmp131 __tmp130 SPEED_TENTHS
op div __fn0_distance __tmp131 10
label __label182
label __label183
jump __label191 notEqual __fn0_state 3
ucontrol within DOME_X DOME_Y 8 __tmp135 0
jump __label189 equal __tmp135 false
jump __label185 equal __tmp83 false
ucontrol itemDrop DOME UNIT_CAPACITY 0 0 0
set MSG ", supplying\n"
set __fn0_color "green"
jump __label186 always 0 0
label __label185
ucontrol approach DOME_X DOME_Y 6 0 0
set MSG ", waiting\n"
label __label186
sensor __tmp138 @unit @totalItems
jump __label190 greaterThan __tmp138 0
ucontrol approach CORE_X CORE_Y 6 0 0
set __fn0_state 2
jump __label190 always 0 0
label __label189
ucontrol approach DOME_X DOME_Y 6 0 0
set MSG ", returning in [gold]"
sensor __tmp141 @unit @x
op sub __tmp142 DOME_X __tmp141
sensor __tmp143 @unit @y
op sub __tmp144 DOME_Y __tmp143
op len __tmp145 __tmp142 __tmp144
op idiv __tmp146 __tmp145 SPEED_TENTHS
op div __fn0_distance __tmp146 10
label __label190
label __label191
ucontrol flag __fn0_state 0 0 0 0
sensor __tmp148 @unit @totalItems
print "  "
print GROUP2
print ": ["
print __fn0_color
print "]"
print __tmp148
print "[]"
jump __label193 lessThan __fn0_distance 0
print MSG
print __fn0_distance
print "[] sec\n"
jump __label194 always 0 0
label __label193
print MSG
label __label194
set UNIT_S2 @unit
jump __label54 equal SUPPLY_S_FIRST false
sensor __tmp86 UNIT_S1 @totalItems
op greaterThan SUPPLY_S_FIRST __tmp86 0
jump __label55 always 0 0
label __label54
sensor __tmp88 UNIT_S2 @totalItems
op equal SUPPLY_S_FIRST __tmp88 0
label __label55
label __label51
print "\n[green]Phase fabric[] status:\n"
sensor __fn2_level DOME @phase-fabric
jump __label110 lessThanEq __fn2_level 3
print "  dome:  [green]"
print __fn2_level
print "[]\n"
jump __label111 always 0 0
label __label110
print "  dome:  [coral]"
print __fn2_level
print "[]\n"
label __label111
ubind UNIT_P1
sensor __tmp102 @unit @dead
op strictEqual __tmp103 __tmp102 0
sensor __tmp104 @unit @controller
op notEqual __tmp105 __tmp104 @this
jump __label206 greaterThan __tmp103 __tmp105
label __label198
ubind UNIT
jump __label199 notEqual @unit null
print "[salmon]No unit of type "
print UNIT
print " found..."
jump __label202 always 0 0
label __label199
sensor __tmp153 @unit @controlled
jump __label200 equal __tmp153 0
print "[salmon]Looking for a free "
print UNIT
print "..."
jump __label201 always 0 0
label __label200
ucontrol flag 1 0 0 0 0
jump __label205 always 0 0
label __label201
label __label202
printflush message1
jump __label198 always 0 0
label __label205
label __label206
sensor __fn0_state @unit @flag
set __fn0_distance -1
set __fn0_color "gold"
jump __label214 notEqual __fn0_state 1
sensor __tmp111 @unit @firstItem
jump __label208 notEqual __tmp111 @phase-fabric
set __fn0_state 3
jump __label213 always 0 0
label __label208
sensor __tmp114 @unit @totalItems
jump __label209 notEqual __tmp114 0
set __fn0_state 2
jump __label212 always 0 0
label __label209
set MSG ", initializing\n"
ucontrol approach CORE_X CORE_Y 6 0 0
ucontrol within CORE_X CORE_Y 8 __tmp117 0
jump __label210 equal __tmp117 false
ucontrol itemDrop CORE UNIT_CAPACITY 0 0 0
label __label210
label __label212
label __label213
label __label214
jump __label220 notEqual __fn0_state 2
ucontrol within CORE_X CORE_Y 8 __tmp121 0
jump __label218 equal __tmp121 false
ucontrol itemTake CORE @phase-fabric UNIT_CAPACITY 0 0
sensor __tmp123 @unit @totalItems
jump __label216 lessThan __tmp123 UNIT_CAPACITY
ucontrol approach DOME_X DOME_Y 6 0 0
set __fn0_state 3
jump __label219 always 0 0
label __label216
set MSG ", loading\n"
jump __label219 always 0 0
label __label218
ucontrol approach CORE_X CORE_Y 6 0 0
set MSG ", fetching in [gold]"
sensor __tmp126 @unit @x
op sub __tmp127 CORE_X __tmp126
sensor __tmp128 @unit @y
op sub __tmp129 CORE_Y __tmp128
op len __tmp130 __tmp127 __tmp129
op idiv __tmp131 __tmp130 SPEED_TENTHS
op div __fn0_distance __tmp131 10
label __label219
label __label220
jump __label228 notEqual __fn0_state 3
ucontrol within DOME_X DOME_Y 8 __tmp135 0
jump __label226 equal __tmp135 false
jump __label222 equal SUPPLY_P_FIRST false
ucontrol itemDrop DOME UNIT_CAPACITY 0 0 0
set MSG ", supplying\n"
set __fn0_color "green"
jump __label223 always 0 0
label __label222
ucontrol approach DOME_X DOME_Y 6 0 0
set MSG ", waiting\n"
label __label223
sensor __tmp138 @unit @totalItems
jump __label227 greaterThan __tmp138 0
ucontrol approach CORE_X CORE_Y 6 0 0
set __fn0_state 2
jump __label227 always 0 0
label __label226
ucontrol approach DOME_X DOME_Y 6 0 0
set MSG ", returning in [gold]"
sensor __tmp141 @unit @x
op sub __tmp142 DOME_X __tmp141
sensor __tmp143 @unit @y
op sub __tmp144 DOME_Y __tmp143
op len __tmp145 __tmp142 __tmp144
op idiv __tmp146 __tmp145 SPEED_TENTHS
op div __fn0_distance __tmp146 10
label __label227
label __label228
ucontrol flag __fn0_state 0 0 0 0
sensor __tmp148 @unit @totalItems
print "  "
print GROUP1
print ": ["
print __fn0_color
print "]"
print __tmp148
print "[]"
jump __label230 lessThan __fn0_distance 0
print MSG
print __fn0_distance
print "[] sec\n"
jump __label231 always 0 0
label __label230
print MSG
label __label231
set UNIT_P1 @unit
jump __label58 equal FOUR_UNITS false
op equal __tmp93 SUPPLY_P_FIRST false
ubind UNIT_P2
sensor __tmp102 @unit @dead
op strictEqual __tmp103 __tmp102 0
sensor __tmp104 @unit @controller
op notEqual __tmp105 __tmp104 @this
jump __label243 greaterThan __tmp103 __tmp105
label __label235
ubind UNIT
jump __label236 notEqual @unit null
print "[salmon]No unit of type "
print UNIT
print " found..."
jump __label239 always 0 0
label __label236
sensor __tmp153 @unit @controlled
jump __label237 equal __tmp153 0
print "[salmon]Looking for a free "
print UNIT
print "..."
jump __label238 always 0 0
label __label237
ucontrol flag 1 0 0 0 0
jump __label242 always 0 0
label __label238
label __label239
printflush message1
jump __label235 always 0 0
label __label242
label __label243
sensor __fn0_state @unit @flag
set __fn0_distance -1
set __fn0_color "gold"
jump __label251 notEqual __fn0_state 1
sensor __tmp111 @unit @firstItem
jump __label245 notEqual __tmp111 @phase-fabric
set __fn0_state 3
jump __label250 always 0 0
label __label245
sensor __tmp114 @unit @totalItems
jump __label246 notEqual __tmp114 0
set __fn0_state 2
jump __label249 always 0 0
label __label246
set MSG ", initializing\n"
ucontrol approach CORE_X CORE_Y 6 0 0
ucontrol within CORE_X CORE_Y 8 __tmp117 0
jump __label247 equal __tmp117 false
ucontrol itemDrop CORE UNIT_CAPACITY 0 0 0
label __label247
label __label249
label __label250
label __label251
jump __label257 notEqual __fn0_state 2
ucontrol within CORE_X CORE_Y 8 __tmp121 0
jump __label255 equal __tmp121 false
ucontrol itemTake CORE @phase-fabric UNIT_CAPACITY 0 0
sensor __tmp123 @unit @totalItems
jump __label253 lessThan __tmp123 UNIT_CAPACITY
ucontrol approach DOME_X DOME_Y 6 0 0
set __fn0_state 3
jump __label256 always 0 0
label __label253
set MSG ", loading\n"
jump __label256 always 0 0
label __label255
ucontrol approach CORE_X CORE_Y 6 0 0
set MSG ", fetching in [gold]"
sensor __tmp126 @unit @x
op sub __tmp127 CORE_X __tmp126
sensor __tmp128 @unit @y
op sub __tmp129 CORE_Y __tmp128
op len __tmp130 __tmp127 __tmp129
op idiv __tmp131 __tmp130 SPEED_TENTHS
op div __fn0_distance __tmp131 10
label __label256
label __label257
jump __label265 notEqual __fn0_state 3
ucontrol within DOME_X DOME_Y 8 __tmp135 0
jump __label263 equal __tmp135 false
jump __label259 equal __tmp93 false
ucontrol itemDrop DOME UNIT_CAPACITY 0 0 0
set MSG ", supplying\n"
set __fn0_color "green"
jump __label260 always 0 0
label __label259
ucontrol approach DOME_X DOME_Y 6 0 0
set MSG ", waiting\n"
label __label260
sensor __tmp138 @unit @totalItems
jump __label264 greaterThan __tmp138 0
ucontrol approach CORE_X CORE_Y 6 0 0
set __fn0_state 2
jump __label264 always 0 0
label __label263
ucontrol approach DOME_X DOME_Y 6 0 0
set MSG ", returning in [gold]"
sensor __tmp141 @unit @x
op sub __tmp142 DOME_X __tmp141
sensor __tmp143 @unit @y
op sub __tmp144 DOME_Y __tmp143
op len __tmp145 __tmp142 __tmp144
op idiv __tmp146 __tmp145 SPEED_TENTHS
op div __fn0_distance __tmp146 10
label __label264
label __label265
ucontrol flag __fn0_state 0 0 0 0
sensor __tmp148 @unit @totalItems
print "  "
print GROUP2
print ": ["
print __fn0_color
print "]"
print __tmp148
print "[]"
jump __label267 lessThan __fn0_distance 0
print MSG
print __fn0_distance
print "[] sec\n"
jump __label268 always 0 0
label __label267
print MSG
label __label268
set UNIT_P2 @unit
jump __label61 equal SUPPLY_P_FIRST false
sensor __tmp96 UNIT_P1 @totalItems
op greaterThan SUPPLY_P_FIRST __tmp96 0
jump __label62 always 0 0
label __label61
sensor __tmp98 UNIT_P2 @totalItems
op equal SUPPLY_P_FIRST __tmp98 0
label __label62
label __label58
op sub __tmp100 @time start
op floor __tmp101 __tmp100 0
print "\n[lightgray]Loop time: "
print __tmp101
print " ms"
printflush message1
sensor __tmp78 switch1 @enabled
jump __label104 notEqual __tmp78 false
label __label48
end
