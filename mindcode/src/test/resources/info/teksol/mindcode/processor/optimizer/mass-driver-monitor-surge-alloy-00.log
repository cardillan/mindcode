   163 instructions before optimizations.
    13 instructions eliminated by Temp Variables Elimination.
    10 instructions eliminated by Dead Code Elimination (4 iterations).
     2 instructions eliminated by Jump Optimization (3 iterations).
     1 instructions eliminated by Single Step Elimination (4 iterations).
     1 instructions eliminated by Data Flow Optimization (5 iterations).
     1 instructions added by Loop Optimization (2 iterations).
     2 loops improved by Loop Optimization.
     8 instructions eliminated by Jump Straightening (3 iterations).
     4 instructions updated by PropagateJumpTargets.
     9 instructions eliminated by Print Merging.
   120 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 872):
  * Loop Optimization: replicate condition at line 67            cost     1, benefit       25,0, efficiency       25,0 (+1 instructions)

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-13 instructions):
 
     8 print "\n"
     9 print "Configuring..."
    10 print "\n"
-    * set __tmp0 @links
-    * set n __tmp0
+   11 set n @links
+   12 noop
    13 label __label3
    14 op greaterThan __tmp1 n 0
    15 jump __label5 equal __tmp1 false
-    * op sub __tmp2 n 1
-    * set n __tmp2
-    * getlink __tmp3 n
-    * set block __tmp3
-    * sensor __tmp4 block @type
-    * set __ast0 __tmp4
+   16 op sub n n 1
+   17 noop
+   18 getlink block n
+   19 noop
+   20 sensor __ast0 block @type
+   21 noop
    22 jump __label8 equal __ast0 @message
    23 jump __label7 always
    24 label __label8
 
    36 jump __label12 equal __ast0 @mass-driver
    37 jump __label11 always
    38 label __label12
-    * sensor __tmp6 block @firstItem
-    * set __ast1 __tmp6
+   39 sensor __ast1 block @firstItem
+   40 noop
    41 jump __label15 equal __ast1 @titanium
    42 jump __label14 always
    43 label __label15
 
   129 set ICON_SIZE 16
   130 set ICON_X 11
   131 set ICON_Y1 11
-    * op add __tmp15 ICON_Y1 ROW_HEIGHT
-    * set ICON_Y2 __tmp15
-    * op add __tmp16 ICON_Y2 ROW_HEIGHT
-    * set ICON_Y3 __tmp16
-    * op add __tmp17 ICON_Y3 ROW_HEIGHT
-    * set ICON_Y4 __tmp17
+  132 op add ICON_Y2 ICON_Y1 ROW_HEIGHT
+  133 noop
+  134 op add ICON_Y3 ICON_Y2 ROW_HEIGHT
+  135 noop
+  136 op add ICON_Y4 ICON_Y3 ROW_HEIGHT
+  137 noop
   138 set BAR_X 20
   139 set BAR_Y1 4
-    * op add __tmp18 BAR_Y1 ROW_HEIGHT
-    * set BAR_Y2 __tmp18
-    * op add __tmp19 BAR_Y2 ROW_HEIGHT
-    * set BAR_Y3 __tmp19
-    * op add __tmp20 BAR_Y3 ROW_HEIGHT
-    * set BAR_Y4 __tmp20
+  140 op add BAR_Y2 BAR_Y1 ROW_HEIGHT
+  141 noop
+  142 op add BAR_Y3 BAR_Y2 ROW_HEIGHT
+  143 noop
+  144 op add BAR_Y4 BAR_Y3 ROW_HEIGHT
+  145 noop
   146 set BAR_LENGTH 56
-    * op div __tmp21 BAR_LENGTH 200
-    * set MULTIPLICATOR __tmp21
+  147 op div MULTIPLICATOR BAR_LENGTH 200
+  148 noop
   149 control enabled SWITCH 0
   150 label __label24
   151 sensor __tmp22 SWITCH @enabled
   152 op equal __tmp23 __tmp22 0
   153 jump __label26 equal __tmp23 false
-    * set __tmp24 @time
-    * set start __tmp24
+  154 set start @time
+  155 noop
   156 draw clear 0 0 80
   157 draw color 255 255 255 255
   158 draw image ICON_X ICON_Y4 @titanium ICON_SIZE 0

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-5 instructions):
 
    23 jump __label7 always
    24 label __label8
    25 set MESSAGE block
-    * set __tmp5 MESSAGE
+   26 noop
    27 jump __label6 always
    28 label __label7
    29 jump __label10 equal __ast0 @switch
    30 jump __label9 always
    31 label __label10
    32 set SWITCH block
-    * set __tmp5 SWITCH
+   33 noop
    34 jump __label6 always
    35 label __label9
    36 jump __label12 equal __ast0 @mass-driver
 
    68 label __label20
    69 set __tmp7 null
    70 label __label13
-    * set __tmp5 __tmp7
+   71 noop
    72 jump __label6 always
    73 label __label11
    74 jump __label23 equal __ast0 @logic-display
    75 jump __label22 always
    76 label __label23
    77 set DISPLAY block
-    * set __tmp5 DISPLAY
+   78 noop
    79 jump __label6 always
    80 label __label22
    81 print "\n"
    82 print block
    83 print " is not supported."
-    * set __tmp5 " is not supported."
+   84 noop
    85 label __label6
    86 print "\nNominal production: "
    87 print EXPECTED_FLOW_STR

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-5 instructions):
 
    42 jump __label14 always
    43 label __label15
    44 set TITANIUM block
-    * set __tmp7 TITANIUM
+   45 noop
    46 jump __label13 always
    47 label __label14
    48 jump __label17 equal __ast1 @silicon
    49 jump __label16 always
    50 label __label17
    51 set SILICON block
-    * set __tmp7 SILICON
+   52 noop
    53 jump __label13 always
    54 label __label16
    55 jump __label19 equal __ast1 @copper
    56 jump __label18 always
    57 label __label19
    58 set COPPER block
-    * set __tmp7 COPPER
+   59 noop
    60 jump __label13 always
    61 label __label18
    62 jump __label21 equal __ast1 @lead
    63 jump __label20 always
    64 label __label21
    65 set LEAD block
-    * set __tmp7 LEAD
+   66 noop
    67 jump __label13 always
    68 label __label20
-    * set __tmp7 null
+   69 noop
    70 label __label13
    71 noop
    72 jump __label6 always

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-8 instructions):
 
    19 noop
    20 sensor __ast0 block @type
    21 noop
-    * jump __label8 equal __ast0 @message
-    * jump __label7 always
+   22 jump __label7 notEqual __ast0 @message
+   23 noop
    24 label __label8
    25 set MESSAGE block
    26 noop
    27 jump __label6 always
    28 label __label7
-    * jump __label10 equal __ast0 @switch
-    * jump __label9 always
+   29 jump __label9 notEqual __ast0 @switch
+   30 noop
    31 label __label10
    32 set SWITCH block
    33 noop
    34 jump __label6 always
    35 label __label9
-    * jump __label12 equal __ast0 @mass-driver
-    * jump __label11 always
+   36 jump __label11 notEqual __ast0 @mass-driver
+   37 noop
    38 label __label12
    39 sensor __ast1 block @firstItem
    40 noop
-    * jump __label15 equal __ast1 @titanium
-    * jump __label14 always
+   41 jump __label14 notEqual __ast1 @titanium
+   42 noop
    43 label __label15
    44 set TITANIUM block
    45 noop
    46 jump __label13 always
    47 label __label14
-    * jump __label17 equal __ast1 @silicon
-    * jump __label16 always
+   48 jump __label16 notEqual __ast1 @silicon
+   49 noop
    50 label __label17
    51 set SILICON block
    52 noop
    53 jump __label13 always
    54 label __label16
-    * jump __label19 equal __ast1 @copper
-    * jump __label18 always
+   55 jump __label18 notEqual __ast1 @copper
+   56 noop
    57 label __label19
    58 set COPPER block
    59 noop
    60 jump __label13 always
    61 label __label18
-    * jump __label21 equal __ast1 @lead
-    * jump __label20 always
+   62 jump __label20 notEqual __ast1 @lead
+   63 noop
    64 label __label21
    65 set LEAD block
    66 noop
 
    71 noop
    72 jump __label6 always
    73 label __label11
-    * jump __label23 equal __ast0 @logic-display
-    * jump __label22 always
+   74 jump __label22 notEqual __ast0 @logic-display
+   75 noop
    76 label __label23
    77 set DISPLAY block
    78 noop

Modifications by Iterated phase, Jump Optimization, pass 1, iteration 1 (-2 instructions):
 
    11 set n @links
    12 noop
    13 label __label3
-    * op greaterThan __tmp1 n 0
-    * jump __label5 equal __tmp1 false
+   14 jump __label5 lessThanEq n 0
    15 op sub n n 1
    16 noop
    17 getlink block n
 
   148 control enabled SWITCH 0
   149 label __label24
   150 sensor __tmp22 SWITCH @enabled
-    * op equal __tmp23 __tmp22 0
-    * jump __label26 equal __tmp23 false
+  151 jump __label26 notEqual __tmp22 0
   152 set start @time
   153 noop
   154 draw clear 0 0 80

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-1 instructions):
 
    63 label __label21
    64 set LEAD block
    65 noop
-    * jump __label13 always
+   66 noop
    67 label __label20
    68 noop
    69 label __label13

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    86 print EXPECTED_FLOW_STR
    87 print "/min"
    88 print "\nActual production: "
-    * print flow_str
+   89 print null
    90 print "/min"
    91 label __label4
    92 jump __label3 always

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-1 instructions):
     0 set EXPECTED_FLOW_STR null
-    * set flow_str null
     1 label __label0
     2 set TITANIUM null
     3 set SILICON null

Modifications by Iterated phase, Loop Optimization, pass 1, iteration 1:
 
    11 noop
    12 label __label3
    13 jump __label5 lessThanEq n 0
+   14 label __label27
    15 op sub n n 1
    16 noop
    17 getlink block n
 
    89 print null
    90 print "/min"
    91 label __label4
-    * jump __label3 always
+   92 jump __label27 greaterThan n 0
    93 label __label5
    94 print "Message: "
    95 print MESSAGE

Modifications by Loop Optimization: replicate condition at line 67 (+1 instructions):
 
   149 label __label24
   150 sensor __tmp22 SWITCH @enabled
   151 jump __label26 notEqual __tmp22 0
+  152 label __label28
   153 set start @time
   154 noop
   155 draw clear 0 0 80
 
   183 print __tmp34
   184 printflush MESSAGE
   185 label __label25
-    * jump __label24 always
+  186 sensor __tmp22 SWITCH @enabled
+  187 jump __label28 equal __tmp22 0
   188 label __label26
   189 end

Modifications by Final phase, Jump Threading, iteration 1:
 
    42 label __label15
    43 set TITANIUM block
    44 noop
-    * jump __label13 always
+   45 jump __label6 always
    46 label __label14
    47 jump __label16 notEqual __ast1 @silicon
    48 noop
    49 label __label17
    50 set SILICON block
    51 noop
-    * jump __label13 always
+   52 jump __label6 always
    53 label __label16
    54 jump __label18 notEqual __ast1 @copper
    55 noop
    56 label __label19
    57 set COPPER block
    58 noop
-    * jump __label13 always
+   59 jump __label6 always
    60 label __label18
-    * jump __label20 notEqual __ast1 @lead
+   61 jump __label6 notEqual __ast1 @lead
    62 noop
    63 label __label21
    64 set LEAD block

Modifications by Final phase, Print Merging, iteration 1 (-9 instructions):
 
     4 set COPPER null
     5 set LEAD null
     6 print "Surge Alloy Factory Driver Monitor"
-    * print "\n"
-    * print "Configuring..."
-    * print "\n"
+    7 print "\nConfiguring...\n"
     8 set n @links
     9 noop
    10 label __label3
 
    82 label __label6
    83 print "\nNominal production: "
    84 print EXPECTED_FLOW_STR
-    * print "/min"
-    * print "\nActual production: "
+   85 print "/min\nActual production: "
    86 print null
    87 print "/min"
    88 label __label4
 
    90 label __label5
    91 print "Message: "
    92 print MESSAGE
-    * print "\n"
-    * print "Switch: "
+   93 print "\nSwitch: "
    94 print SWITCH
-    * print "\n"
-    * print "Display: "
+   95 print "\nDisplay: "
    96 print DISPLAY
-    * print "\n"
-    * print "Titanium: "
+   97 print "\nTitanium: "
    98 print TITANIUM
-    * print "\n"
-    * print "Silicon: "
+   99 print "\nSilicon: "
   100 print SILICON
-    * print "\n"
-    * print "Copper: "
+  101 print "\nCopper: "
   102 print COPPER
-    * print "\n"
-    * print "Lead: "
+  103 print "\nLead: "
   104 print LEAD
   105 print "\n"
   106 printflush MESSAGE

Final code before resolving virtual instructions:

set EXPECTED_FLOW_STR null
label __label0
set TITANIUM null
set SILICON null
set COPPER null
set LEAD null
print "Surge Alloy Factory Driver Monitor"
print "\nConfiguring...\n"
set n @links
jump __label5 lessThanEq n 0
label __label27
op sub n n 1
getlink block n
sensor __ast0 block @type
jump __label7 notEqual __ast0 @message
set MESSAGE block
jump __label6 always 0 0
label __label7
jump __label9 notEqual __ast0 @switch
set SWITCH block
jump __label6 always 0 0
label __label9
jump __label11 notEqual __ast0 @mass-driver
sensor __ast1 block @firstItem
jump __label14 notEqual __ast1 @titanium
set TITANIUM block
jump __label6 always 0 0
label __label14
jump __label16 notEqual __ast1 @silicon
set SILICON block
jump __label6 always 0 0
label __label16
jump __label18 notEqual __ast1 @copper
set COPPER block
jump __label6 always 0 0
label __label18
jump __label6 notEqual __ast1 @lead
set LEAD block
jump __label6 always 0 0
label __label11
jump __label22 notEqual __ast0 @logic-display
set DISPLAY block
jump __label6 always 0 0
label __label22
print "\n"
print block
print " is not supported."
label __label6
print "\nNominal production: "
print EXPECTED_FLOW_STR
print "/min\nActual production: "
print null
print "/min"
jump __label27 greaterThan n 0
label __label5
print "Message: "
print MESSAGE
print "\nSwitch: "
print SWITCH
print "\nDisplay: "
print DISPLAY
print "\nTitanium: "
print TITANIUM
print "\nSilicon: "
print SILICON
print "\nCopper: "
print COPPER
print "\nLead: "
print LEAD
print "\n"
printflush MESSAGE
op equal __tmp8 TITANIUM null
op equal __tmp9 SILICON null
op or __tmp10 __tmp8 __tmp9
op equal __tmp11 COPPER null
op or __tmp12 __tmp10 __tmp11
op equal __tmp13 LEAD null
op or __tmp14 __tmp12 __tmp13
jump __label0 notEqual __tmp14 false
set ROW_HEIGHT 19
set BAR_HEIGHT 14
set ICON_SIZE 16
set ICON_X 11
set ICON_Y1 11
op add ICON_Y2 ICON_Y1 ROW_HEIGHT
op add ICON_Y3 ICON_Y2 ROW_HEIGHT
op add ICON_Y4 ICON_Y3 ROW_HEIGHT
set BAR_X 20
set BAR_Y1 4
op add BAR_Y2 BAR_Y1 ROW_HEIGHT
op add BAR_Y3 BAR_Y2 ROW_HEIGHT
op add BAR_Y4 BAR_Y3 ROW_HEIGHT
set BAR_LENGTH 56
op div MULTIPLICATOR BAR_LENGTH 200
control enabled SWITCH 0 0 0 0
sensor __tmp22 SWITCH @enabled
jump __label26 notEqual __tmp22 0
label __label28
set start @time
draw clear 0 0 80 0 0 0
draw color 255 255 255 255 0 0
draw image ICON_X ICON_Y4 @titanium ICON_SIZE 0 0
draw image ICON_X ICON_Y3 @silicon ICON_SIZE 0 0
draw image ICON_X ICON_Y2 @copper ICON_SIZE 0 0
draw image ICON_X ICON_Y1 @lead ICON_SIZE 0 0
draw color 0 128 0 255 0 0
sensor __tmp25 TITANIUM @totalItems
op mul __tmp26 __tmp25 MULTIPLICATOR
draw rect BAR_X BAR_Y4 __tmp26 BAR_HEIGHT 0 0
sensor __tmp27 SILICON @totalItems
op mul __tmp28 __tmp27 MULTIPLICATOR
draw rect BAR_X BAR_Y3 __tmp28 BAR_HEIGHT 0 0
sensor __tmp29 COPPER @totalItems
op mul __tmp30 __tmp29 MULTIPLICATOR
draw rect BAR_X BAR_Y2 __tmp30 BAR_HEIGHT 0 0
sensor __tmp31 LEAD @totalItems
op mul __tmp32 __tmp31 MULTIPLICATOR
draw rect BAR_X BAR_Y1 __tmp32 BAR_HEIGHT 0 0
draw color 0 255 0 255 0 0
draw lineRect BAR_X BAR_Y4 BAR_LENGTH BAR_HEIGHT 0 0
draw lineRect BAR_X BAR_Y3 BAR_LENGTH BAR_HEIGHT 0 0
draw lineRect BAR_X BAR_Y2 BAR_LENGTH BAR_HEIGHT 0 0
draw lineRect BAR_X BAR_Y1 BAR_LENGTH BAR_HEIGHT 0 0
drawflush DISPLAY
print "Surge Alloy Factory Driver Monitor\nElapsed (ms): "
op sub __tmp33 @time start
op floor __tmp34 __tmp33 0
print __tmp34
printflush MESSAGE
sensor __tmp22 SWITCH @enabled
jump __label28 equal __tmp22 0
label __label26
end
