   163 instructions before optimizations.
    13 instructions eliminated by Temp Variables Elimination.
    10 instructions eliminated by Dead Code Elimination (4 iterations).
     2 instructions eliminated by Jump Optimization (3 iterations).
     1 instructions eliminated by Single Step Elimination (4 iterations).
     1 instructions eliminated by Data Flow Optimization (5 iterations).
     1 instructions added by Loop Optimization (2 iterations).
     2 loops improved by Loop Optimization.
     8 instructions eliminated by Jump Straightening (3 iterations).
     4 instructions updated by PropagateJumpTargets.
     9 instructions eliminated by Print Merging.
   120 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 872):
  * Loop Optimization: replicate condition at line 67            cost     1, benefit       25,0, efficiency       25,0 (+1 instructions)

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-13 instructions):
 
     8 print "\n"
     9 print "Configuring..."
    10 print "\n"
-    * set __tmp0 @links
-    * set n __tmp0
+   11 set n @links
    12 label __label3
    13 op greaterThan __tmp1 n 0
    14 jump __label5 equal __tmp1 false
-    * op sub __tmp2 n 1
-    * set n __tmp2
-    * getlink __tmp3 n
-    * set block __tmp3
-    * sensor __tmp4 block @type
-    * set __ast0 __tmp4
+   15 op sub n n 1
+   16 getlink block n
+   17 sensor __ast0 block @type
    18 jump __label8 equal __ast0 @message
    19 jump __label7 always
    20 label __label8
 
    32 jump __label12 equal __ast0 @mass-driver
    33 jump __label11 always
    34 label __label12
-    * sensor __tmp6 block @firstItem
-    * set __ast1 __tmp6
+   35 sensor __ast1 block @firstItem
    36 jump __label15 equal __ast1 @titanium
    37 jump __label14 always
    38 label __label15
 
   124 set ICON_SIZE 16
   125 set ICON_X 11
   126 set ICON_Y1 11
-    * op add __tmp15 ICON_Y1 ROW_HEIGHT
-    * set ICON_Y2 __tmp15
-    * op add __tmp16 ICON_Y2 ROW_HEIGHT
-    * set ICON_Y3 __tmp16
-    * op add __tmp17 ICON_Y3 ROW_HEIGHT
-    * set ICON_Y4 __tmp17
+  127 op add ICON_Y2 ICON_Y1 ROW_HEIGHT
+  128 op add ICON_Y3 ICON_Y2 ROW_HEIGHT
+  129 op add ICON_Y4 ICON_Y3 ROW_HEIGHT
   130 set BAR_X 20
   131 set BAR_Y1 4
-    * op add __tmp18 BAR_Y1 ROW_HEIGHT
-    * set BAR_Y2 __tmp18
-    * op add __tmp19 BAR_Y2 ROW_HEIGHT
-    * set BAR_Y3 __tmp19
-    * op add __tmp20 BAR_Y3 ROW_HEIGHT
-    * set BAR_Y4 __tmp20
+  132 op add BAR_Y2 BAR_Y1 ROW_HEIGHT
+  133 op add BAR_Y3 BAR_Y2 ROW_HEIGHT
+  134 op add BAR_Y4 BAR_Y3 ROW_HEIGHT
   135 set BAR_LENGTH 56
-    * op div __tmp21 BAR_LENGTH 200
-    * set MULTIPLICATOR __tmp21
+  136 op div MULTIPLICATOR BAR_LENGTH 200
   137 control enabled SWITCH 0
   138 label __label24
   139 sensor __tmp22 SWITCH @enabled
   140 op equal __tmp23 __tmp22 0
   141 jump __label26 equal __tmp23 false
-    * set __tmp24 @time
-    * set start __tmp24
+  142 set start @time
   143 draw clear 0 0 80
   144 draw color 255 255 255 255
   145 draw image ICON_X ICON_Y4 @titanium ICON_SIZE 0

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-5 instructions):
 
    19 jump __label7 always
    20 label __label8
    21 set MESSAGE block
-    * set __tmp5 MESSAGE
    22 jump __label6 always
    23 label __label7
    24 jump __label10 equal __ast0 @switch
    25 jump __label9 always
    26 label __label10
    27 set SWITCH block
-    * set __tmp5 SWITCH
    28 jump __label6 always
    29 label __label9
    30 jump __label12 equal __ast0 @mass-driver
 
    61 label __label20
    62 set __tmp7 null
    63 label __label13
-    * set __tmp5 __tmp7
    64 jump __label6 always
    65 label __label11
    66 jump __label23 equal __ast0 @logic-display
    67 jump __label22 always
    68 label __label23
    69 set DISPLAY block
-    * set __tmp5 DISPLAY
    70 jump __label6 always
    71 label __label22
    72 print "\n"
    73 print block
    74 print " is not supported."
-    * set __tmp5 " is not supported."
    75 label __label6
    76 print "\nNominal production: "
    77 print EXPECTED_FLOW_STR

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-5 instructions):
 
    35 jump __label14 always
    36 label __label15
    37 set TITANIUM block
-    * set __tmp7 TITANIUM
    38 jump __label13 always
    39 label __label14
    40 jump __label17 equal __ast1 @silicon
    41 jump __label16 always
    42 label __label17
    43 set SILICON block
-    * set __tmp7 SILICON
    44 jump __label13 always
    45 label __label16
    46 jump __label19 equal __ast1 @copper
    47 jump __label18 always
    48 label __label19
    49 set COPPER block
-    * set __tmp7 COPPER
    50 jump __label13 always
    51 label __label18
    52 jump __label21 equal __ast1 @lead
    53 jump __label20 always
    54 label __label21
    55 set LEAD block
-    * set __tmp7 LEAD
    56 jump __label13 always
    57 label __label20
-    * set __tmp7 null
    58 label __label13
    59 jump __label6 always
    60 label __label11

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-8 instructions):
 
    15 op sub n n 1
    16 getlink block n
    17 sensor __ast0 block @type
-    * jump __label8 equal __ast0 @message
-    * jump __label7 always
+   18 jump __label7 notEqual __ast0 @message
    19 label __label8
    20 set MESSAGE block
    21 jump __label6 always
    22 label __label7
-    * jump __label10 equal __ast0 @switch
-    * jump __label9 always
+   23 jump __label9 notEqual __ast0 @switch
    24 label __label10
    25 set SWITCH block
    26 jump __label6 always
    27 label __label9
-    * jump __label12 equal __ast0 @mass-driver
-    * jump __label11 always
+   28 jump __label11 notEqual __ast0 @mass-driver
    29 label __label12
    30 sensor __ast1 block @firstItem
-    * jump __label15 equal __ast1 @titanium
-    * jump __label14 always
+   31 jump __label14 notEqual __ast1 @titanium
    32 label __label15
    33 set TITANIUM block
    34 jump __label13 always
    35 label __label14
-    * jump __label17 equal __ast1 @silicon
-    * jump __label16 always
+   36 jump __label16 notEqual __ast1 @silicon
    37 label __label17
    38 set SILICON block
    39 jump __label13 always
    40 label __label16
-    * jump __label19 equal __ast1 @copper
-    * jump __label18 always
+   41 jump __label18 notEqual __ast1 @copper
    42 label __label19
    43 set COPPER block
    44 jump __label13 always
    45 label __label18
-    * jump __label21 equal __ast1 @lead
-    * jump __label20 always
+   46 jump __label20 notEqual __ast1 @lead
    47 label __label21
    48 set LEAD block
    49 jump __label13 always
 
    51 label __label13
    52 jump __label6 always
    53 label __label11
-    * jump __label23 equal __ast0 @logic-display
-    * jump __label22 always
+   54 jump __label22 notEqual __ast0 @logic-display
    55 label __label23
    56 set DISPLAY block
    57 jump __label6 always

Modifications by Iterated phase, Jump Optimization, pass 1, iteration 1 (-2 instructions):
 
    10 print "\n"
    11 set n @links
    12 label __label3
-    * op greaterThan __tmp1 n 0
-    * jump __label5 equal __tmp1 false
+   13 jump __label5 lessThanEq n 0
    14 op sub n n 1
    15 getlink block n
    16 sensor __ast0 block @type
 
   118 control enabled SWITCH 0
   119 label __label24
   120 sensor __tmp22 SWITCH @enabled
-    * op equal __tmp23 __tmp22 0
-    * jump __label26 equal __tmp23 false
+  121 jump __label26 notEqual __tmp22 0
   122 set start @time
   123 draw clear 0 0 80
   124 draw color 255 255 255 255

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-1 instructions):
 
    45 jump __label20 notEqual __ast1 @lead
    46 label __label21
    47 set LEAD block
-    * jump __label13 always
    48 label __label20
    49 label __label13
    50 jump __label6 always

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    62 print EXPECTED_FLOW_STR
    63 print "/min"
    64 print "\nActual production: "
-    * print flow_str
+   65 print null
    66 print "/min"
    67 label __label4
    68 jump __label3 always

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-1 instructions):
     0 set EXPECTED_FLOW_STR null
-    * set flow_str null
     1 label __label0
     2 set TITANIUM null
     3 set SILICON null

Modifications by Iterated phase, Loop Optimization, pass 1, iteration 1:
 
    10 set n @links
    11 label __label3
    12 jump __label5 lessThanEq n 0
+   13 label __label27
    14 op sub n n 1
    15 getlink block n
    16 sensor __ast0 block @type
 
    65 print null
    66 print "/min"
    67 label __label4
-    * jump __label3 always
+   68 jump __label27 greaterThan n 0
    69 label __label5
    70 print "Message: "
    71 print MESSAGE

Modifications by Loop Optimization: replicate condition at line 67 (+1 instructions):
 
   118 label __label24
   119 sensor __tmp22 SWITCH @enabled
   120 jump __label26 notEqual __tmp22 0
+  121 label __label28
   122 set start @time
   123 draw clear 0 0 80
   124 draw color 255 255 255 255
 
   151 print __tmp34
   152 printflush MESSAGE
   153 label __label25
-    * jump __label24 always
+  154 sensor __tmp22 SWITCH @enabled
+  155 jump __label28 equal __tmp22 0
   156 label __label26
   157 end

Modifications by Final phase, Jump Threading, iteration 1:
 
    30 jump __label14 notEqual __ast1 @titanium
    31 label __label15
    32 set TITANIUM block
-    * jump __label13 always
+   33 jump __label6 always
    34 label __label14
    35 jump __label16 notEqual __ast1 @silicon
    36 label __label17
    37 set SILICON block
-    * jump __label13 always
+   38 jump __label6 always
    39 label __label16
    40 jump __label18 notEqual __ast1 @copper
    41 label __label19
    42 set COPPER block
-    * jump __label13 always
+   43 jump __label6 always
    44 label __label18
-    * jump __label20 notEqual __ast1 @lead
+   45 jump __label6 notEqual __ast1 @lead
    46 label __label21
    47 set LEAD block
    48 label __label20

Modifications by Final phase, Print Merging, iteration 1 (-9 instructions):
 
     4 set COPPER null
     5 set LEAD null
     6 print "Surge Alloy Factory Driver Monitor"
-    * print "\n"
-    * print "Configuring..."
-    * print "\n"
+    7 print "\nConfiguring...\n"
     8 set n @links
     9 label __label3
    10 jump __label5 lessThanEq n 0
 
    58 label __label6
    59 print "\nNominal production: "
    60 print EXPECTED_FLOW_STR
-    * print "/min"
-    * print "\nActual production: "
+   61 print "/min\nActual production: "
    62 print null
    63 print "/min"
    64 label __label4
 
    66 label __label5
    67 print "Message: "
    68 print MESSAGE
-    * print "\n"
-    * print "Switch: "
+   69 print "\nSwitch: "
    70 print SWITCH
-    * print "\n"
-    * print "Display: "
+   71 print "\nDisplay: "
    72 print DISPLAY
-    * print "\n"
-    * print "Titanium: "
+   73 print "\nTitanium: "
    74 print TITANIUM
-    * print "\n"
-    * print "Silicon: "
+   75 print "\nSilicon: "
    76 print SILICON
-    * print "\n"
-    * print "Copper: "
+   77 print "\nCopper: "
    78 print COPPER
-    * print "\n"
-    * print "Lead: "
+   79 print "\nLead: "
    80 print LEAD
    81 print "\n"
    82 printflush MESSAGE

Final code before resolving virtual instructions:

set EXPECTED_FLOW_STR null
label __label0
set TITANIUM null
set SILICON null
set COPPER null
set LEAD null
print "Surge Alloy Factory Driver Monitor"
print "\nConfiguring...\n"
set n @links
jump __label5 lessThanEq n 0
label __label27
op sub n n 1
getlink block n
sensor __ast0 block @type
jump __label7 notEqual __ast0 @message
set MESSAGE block
jump __label6 always 0 0
label __label7
jump __label9 notEqual __ast0 @switch
set SWITCH block
jump __label6 always 0 0
label __label9
jump __label11 notEqual __ast0 @mass-driver
sensor __ast1 block @firstItem
jump __label14 notEqual __ast1 @titanium
set TITANIUM block
jump __label6 always 0 0
label __label14
jump __label16 notEqual __ast1 @silicon
set SILICON block
jump __label6 always 0 0
label __label16
jump __label18 notEqual __ast1 @copper
set COPPER block
jump __label6 always 0 0
label __label18
jump __label6 notEqual __ast1 @lead
set LEAD block
jump __label6 always 0 0
label __label11
jump __label22 notEqual __ast0 @logic-display
set DISPLAY block
jump __label6 always 0 0
label __label22
print "\n"
print block
print " is not supported."
label __label6
print "\nNominal production: "
print EXPECTED_FLOW_STR
print "/min\nActual production: "
print null
print "/min"
jump __label27 greaterThan n 0
label __label5
print "Message: "
print MESSAGE
print "\nSwitch: "
print SWITCH
print "\nDisplay: "
print DISPLAY
print "\nTitanium: "
print TITANIUM
print "\nSilicon: "
print SILICON
print "\nCopper: "
print COPPER
print "\nLead: "
print LEAD
print "\n"
printflush MESSAGE
op equal __tmp8 TITANIUM null
op equal __tmp9 SILICON null
op or __tmp10 __tmp8 __tmp9
op equal __tmp11 COPPER null
op or __tmp12 __tmp10 __tmp11
op equal __tmp13 LEAD null
op or __tmp14 __tmp12 __tmp13
jump __label0 notEqual __tmp14 false
set ROW_HEIGHT 19
set BAR_HEIGHT 14
set ICON_SIZE 16
set ICON_X 11
set ICON_Y1 11
op add ICON_Y2 ICON_Y1 ROW_HEIGHT
op add ICON_Y3 ICON_Y2 ROW_HEIGHT
op add ICON_Y4 ICON_Y3 ROW_HEIGHT
set BAR_X 20
set BAR_Y1 4
op add BAR_Y2 BAR_Y1 ROW_HEIGHT
op add BAR_Y3 BAR_Y2 ROW_HEIGHT
op add BAR_Y4 BAR_Y3 ROW_HEIGHT
set BAR_LENGTH 56
op div MULTIPLICATOR BAR_LENGTH 200
control enabled SWITCH 0 0 0 0
sensor __tmp22 SWITCH @enabled
jump __label26 notEqual __tmp22 0
label __label28
set start @time
draw clear 0 0 80 0 0 0
draw color 255 255 255 255 0 0
draw image ICON_X ICON_Y4 @titanium ICON_SIZE 0 0
draw image ICON_X ICON_Y3 @silicon ICON_SIZE 0 0
draw image ICON_X ICON_Y2 @copper ICON_SIZE 0 0
draw image ICON_X ICON_Y1 @lead ICON_SIZE 0 0
draw color 0 128 0 255 0 0
sensor __tmp25 TITANIUM @totalItems
op mul __tmp26 __tmp25 MULTIPLICATOR
draw rect BAR_X BAR_Y4 __tmp26 BAR_HEIGHT 0 0
sensor __tmp27 SILICON @totalItems
op mul __tmp28 __tmp27 MULTIPLICATOR
draw rect BAR_X BAR_Y3 __tmp28 BAR_HEIGHT 0 0
sensor __tmp29 COPPER @totalItems
op mul __tmp30 __tmp29 MULTIPLICATOR
draw rect BAR_X BAR_Y2 __tmp30 BAR_HEIGHT 0 0
sensor __tmp31 LEAD @totalItems
op mul __tmp32 __tmp31 MULTIPLICATOR
draw rect BAR_X BAR_Y1 __tmp32 BAR_HEIGHT 0 0
draw color 0 255 0 255 0 0
draw lineRect BAR_X BAR_Y4 BAR_LENGTH BAR_HEIGHT 0 0
draw lineRect BAR_X BAR_Y3 BAR_LENGTH BAR_HEIGHT 0 0
draw lineRect BAR_X BAR_Y2 BAR_LENGTH BAR_HEIGHT 0 0
draw lineRect BAR_X BAR_Y1 BAR_LENGTH BAR_HEIGHT 0 0
drawflush DISPLAY
print "Surge Alloy Factory Driver Monitor\nElapsed (ms): "
op sub __tmp33 @time start
op floor __tmp34 __tmp33 0
print __tmp34
printflush MESSAGE
sensor __tmp22 SWITCH @enabled
jump __label28 equal __tmp22 0
label __label26
end
