   620 instructions before optimizations.
    53 instructions eliminated by Temp Variables Elimination.
    60 instructions eliminated by Dead Code Elimination (10 iterations).
     1 instructions eliminated by Jump Normalization (4 iterations).
    17 instructions eliminated by Jump Optimization (4 iterations).
    34 instructions eliminated by Single Step Elimination (3 passes, 7 iterations).
     3 instructions eliminated by Expression Optimization (2 passes, 3 iterations).
     1 instructions eliminated by If Expression Optimization (3 iterations).
    72 instructions eliminated by Data Flow Optimization (9 passes, 27 iterations).
   508 instructions added by Function Inlining (10 iterations).
    17 function calls inlined by Function Inlining.
    33 instructions updated by PropagateJumpTargets.
     5 instructions eliminated by Unreachable Code Elimination.
   882 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 537):
  * Function Inlining: inline function kilo                      cost     5, benefit      218,8, efficiency       43,8 (-5 instructions)
    Function Inlining: inline function update_fuel               cost    17, benefit      337,5, efficiency       19,9
    Function Inlining: inline function check_radar               cost    22, benefit      175,0, efficiency        8,0
    Function Inlining: inline function calc_charge_req           cost    69, benefit      503,9, efficiency        7,3
    Function Inlining: inline function start_reactor             cost   519, benefit      687,5, efficiency        1,3
    Function Inlining: inline function call at line 69           cost    23, benefit       87,5, efficiency        3,8
    Function Inlining: inline function call at line 73           cost    14, benefit      100,0, efficiency        7,1
    Function Inlining: inline function call at line 74           cost    14, benefit      100,0, efficiency        7,1
    Function Inlining: inline function call at line 75           cost    14, benefit      100,0, efficiency        7,1
    Function Inlining: inline function call at line 76           cost    14, benefit      100,0, efficiency        7,1
    Function Inlining: inline function call at line 77           cost    14, benefit      100,0, efficiency        7,1
    Function Inlining: inline function call at line 80           cost   130, benefit      137,5, efficiency        1,1
    Function Inlining: inline function call at line 82           cost     9, benefit      112,5, efficiency       12,5
    Function Inlining: inline function call at line 84           cost   130, benefit      137,5, efficiency        1,1
    Function Inlining: inline function call at line 86           cost     9, benefit      112,5, efficiency       12,5
    Function Inlining: inline function call at line 88           cost    23, benefit       87,5, efficiency        3,8
    Function Inlining: inline function call at line 89           cost   130, benefit      137,5, efficiency        1,1
    Function Inlining: inline function call at line 91           cost   130, benefit      137,5, efficiency        1,1
    Function Inlining: inline function call at line 93           cost   130, benefit      137,5, efficiency        1,1
    Function Inlining: inline function call at line 96           cost     9, benefit      112,5, efficiency       12,5
    Function Inlining: inline function call at line 102          cost     3, benefit       87,5, efficiency       29,2
    Function Inlining: inline function call at line 103          cost     3, benefit       87,5, efficiency       29,2
    Function Inlining: inline function call at line 105          cost     3, benefit       43,8, efficiency       14,6
    Function Inlining: inline function call at line 173          cost    14, benefit        3,9, efficiency        0,3

Pass 1: speed optimization selection (cost limit 542):
  * Function Inlining: inline function update_fuel               cost    17, benefit      337,5, efficiency       19,9 (+3 instructions)
    Function Inlining: inline function check_radar               cost    22, benefit      175,0, efficiency        8,0
    Function Inlining: inline function calc_charge_req           cost    69, benefit      503,9, efficiency        7,3
    Function Inlining: inline function start_reactor             cost   519, benefit      687,5, efficiency        1,3
    Function Inlining: inline function call at line 69           cost    23, benefit       87,5, efficiency        3,8
    Function Inlining: inline function call at line 73           cost    14, benefit      100,0, efficiency        7,1
    Function Inlining: inline function call at line 74           cost    14, benefit      100,0, efficiency        7,1
    Function Inlining: inline function call at line 75           cost    14, benefit      100,0, efficiency        7,1
    Function Inlining: inline function call at line 76           cost    14, benefit      100,0, efficiency        7,1
    Function Inlining: inline function call at line 77           cost    14, benefit      100,0, efficiency        7,1
    Function Inlining: inline function call at line 80           cost   130, benefit      137,5, efficiency        1,1
    Function Inlining: inline function call at line 82           cost     9, benefit      112,5, efficiency       12,5
    Function Inlining: inline function call at line 84           cost   130, benefit      137,5, efficiency        1,1
    Function Inlining: inline function call at line 86           cost     9, benefit      112,5, efficiency       12,5
    Function Inlining: inline function call at line 88           cost    23, benefit       87,5, efficiency        3,8
    Function Inlining: inline function call at line 89           cost   130, benefit      137,5, efficiency        1,1
    Function Inlining: inline function call at line 91           cost   130, benefit      137,5, efficiency        1,1
    Function Inlining: inline function call at line 93           cost   130, benefit      137,5, efficiency        1,1
    Function Inlining: inline function call at line 96           cost     9, benefit      112,5, efficiency       12,5
    Function Inlining: inline function call at line 173          cost    14, benefit        3,9, efficiency        0,3

Pass 1: speed optimization selection (cost limit 539):
  * Function Inlining: inline function check_radar               cost    22, benefit      175,0, efficiency        8,0 (+14 instructions)
    Function Inlining: inline function calc_charge_req           cost    69, benefit      503,9, efficiency        7,3
    Function Inlining: inline function start_reactor             cost   519, benefit      687,5, efficiency        1,3
    Function Inlining: inline function call at line 69           cost    23, benefit       87,5, efficiency        3,8
    Function Inlining: inline function call at line 73           cost    14, benefit      100,0, efficiency        7,1
    Function Inlining: inline function call at line 74           cost    14, benefit      100,0, efficiency        7,1
    Function Inlining: inline function call at line 75           cost    14, benefit      100,0, efficiency        7,1
    Function Inlining: inline function call at line 76           cost    14, benefit      100,0, efficiency        7,1
    Function Inlining: inline function call at line 77           cost    14, benefit      100,0, efficiency        7,1
    Function Inlining: inline function call at line 80           cost   130, benefit      137,5, efficiency        1,1
    Function Inlining: inline function call at line 84           cost   130, benefit      137,5, efficiency        1,1
    Function Inlining: inline function call at line 88           cost    23, benefit       87,5, efficiency        3,8
    Function Inlining: inline function call at line 89           cost   130, benefit      137,5, efficiency        1,1
    Function Inlining: inline function call at line 91           cost   130, benefit      137,5, efficiency        1,1
    Function Inlining: inline function call at line 93           cost   130, benefit      137,5, efficiency        1,1
    Function Inlining: inline function call at line 173          cost    14, benefit        3,9, efficiency        0,3

Pass 1: speed optimization selection (cost limit 525):
  * Function Inlining: inline function calc_charge_req           cost    69, benefit      503,9, efficiency        7,3 (+43 instructions)
    Function Inlining: inline function start_reactor             cost   519, benefit      687,5, efficiency        1,3
    Function Inlining: inline function call at line 73           cost    14, benefit      100,0, efficiency        7,1
    Function Inlining: inline function call at line 74           cost    14, benefit      100,0, efficiency        7,1
    Function Inlining: inline function call at line 75           cost    14, benefit      100,0, efficiency        7,1
    Function Inlining: inline function call at line 76           cost    14, benefit      100,0, efficiency        7,1
    Function Inlining: inline function call at line 77           cost    14, benefit      100,0, efficiency        7,1
    Function Inlining: inline function call at line 80           cost   130, benefit      137,5, efficiency        1,1
    Function Inlining: inline function call at line 84           cost   130, benefit      137,5, efficiency        1,1
    Function Inlining: inline function call at line 89           cost   130, benefit      137,5, efficiency        1,1
    Function Inlining: inline function call at line 91           cost   130, benefit      137,5, efficiency        1,1
    Function Inlining: inline function call at line 93           cost   130, benefit      137,5, efficiency        1,1
    Function Inlining: inline function call at line 173          cost    14, benefit        3,9, efficiency        0,3

Pass 1: speed optimization selection (cost limit 482):
  ! Function Inlining: inline function start_reactor             cost   559, benefit      687,5, efficiency        1,2
  * Function Inlining: inline function call at line 80           cost   140, benefit      137,5, efficiency        1,0 (+132 instructions)
    Function Inlining: inline function call at line 84           cost   140, benefit      137,5, efficiency        1,0
    Function Inlining: inline function call at line 89           cost   140, benefit      137,5, efficiency        1,0
    Function Inlining: inline function call at line 91           cost   140, benefit      137,5, efficiency        1,0
    Function Inlining: inline function call at line 93           cost   140, benefit      137,5, efficiency        1,0

Pass 1: speed optimization selection (cost limit 350):
  ! Function Inlining: inline function start_reactor             cost   419, benefit      550,0, efficiency        1,3
  * Function Inlining: inline function call at line 84           cost   140, benefit      137,5, efficiency        1,0 (+132 instructions)
    Function Inlining: inline function call at line 89           cost   140, benefit      137,5, efficiency        1,0
    Function Inlining: inline function call at line 91           cost   140, benefit      137,5, efficiency        1,0
    Function Inlining: inline function call at line 93           cost   140, benefit      137,5, efficiency        1,0

Pass 1: speed optimization selection (cost limit 218):
  ! Function Inlining: inline function start_reactor             cost   279, benefit      412,5, efficiency        1,5
  * Function Inlining: inline function call at line 89           cost   140, benefit      137,5, efficiency        1,0 (+132 instructions)
    Function Inlining: inline function call at line 91           cost   140, benefit      137,5, efficiency        1,0
    Function Inlining: inline function call at line 93           cost   140, benefit      137,5, efficiency        1,0

Pass 1: speed optimization selection (cost limit 86):
  ! Function Inlining: inline function start_reactor             cost   139, benefit      275,0, efficiency        2,0
  ! Function Inlining: inline function call at line 91           cost   140, benefit      137,5, efficiency        1,0
  ! Function Inlining: inline function call at line 93           cost   140, benefit      137,5, efficiency        1,0

Pass 2: speed optimization selection (cost limit 112):
  ! Function Inlining: inline function start_reactor             cost   138, benefit      275,0, efficiency        2,0
  ! Function Inlining: inline function call at line 91           cost   139, benefit      137,5, efficiency        1,0
  ! Function Inlining: inline function call at line 93           cost   139, benefit      137,5, efficiency        1,0

Pass 3: speed optimization selection (cost limit 112):
  ! Function Inlining: inline function start_reactor             cost   138, benefit      275,0, efficiency        2,0
  ! Function Inlining: inline function call at line 91           cost   139, benefit      137,5, efficiency        1,0
  ! Function Inlining: inline function call at line 93           cost   139, benefit      137,5, efficiency        1,0

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-53 instructions):
 
    25 sensor __tmp0 node1 @powerNetIn
    26 sensor __tmp1 node1 @powerNetOut
    27 op sub __tmp2 __tmp0 __tmp1
-    * op floor __tmp3 __tmp2
-    * set surplus __tmp3
+   28 op floor surplus __tmp2
    29 op greaterThan __tmp4 surplus 10000
    30 jump __label5 equal __tmp4 false
-    * op sub __tmp6 @tick 3600
-    * set __tmp5 __tmp6
+   31 op sub __tmp5 @tick 3600
    32 jump __label6 always
    33 label __label5
    34 set __tmp5 @tick
 
    58 setaddr __fn2retaddr __label10
    59 call __label2 __fn2retval
    60 gotolabel __label10 __fn2
-    * set __tmp7 __fn2retval
-    * set emerg_shutdown __tmp7
+   61 set emerg_shutdown __fn2retval
    62 label __label11
    63 op notEqual __tmp9 switch1 null
    64 sensor __tmp10 switch1 @enabled
 
    78 jump __label12 always
    79 set __tmp8 null
    80 label __label12
-    * op or __tmp14 emerg_shutdown __tmp8
-    * set emerg_shutdown __tmp14
+   81 op or emerg_shutdown emerg_shutdown __tmp8
    82 set __fn3_reactor reactor1
    83 set __fn3_time t_startup1
    84 setaddr __fn3retaddr __label15
    85 call __label3 __fn3retval
    86 gotolabel __label15 __fn3
-    * set __tmp15 __fn3retval
-    * set START_POWER_REQ __tmp15
+   87 set START_POWER_REQ __fn3retval
    88 set __fn3_reactor reactor2
    89 set __fn3_time t_startup2
    90 setaddr __fn3retaddr __label16
    91 call __label3 __fn3retval
    92 gotolabel __label16 __fn3
    93 set __tmp16 __fn3retval
-    * op add __tmp17 START_POWER_REQ __tmp16
-    * set START_POWER_REQ __tmp17
+   94 op add START_POWER_REQ START_POWER_REQ __tmp16
    95 set __fn3_reactor reactor3
    96 set __fn3_time t_startup3
    97 setaddr __fn3retaddr __label17
    98 call __label3 __fn3retval
    99 gotolabel __label17 __fn3
   100 set __tmp18 __fn3retval
-    * op add __tmp19 START_POWER_REQ __tmp18
-    * set START_POWER_REQ __tmp19
+  101 op add START_POWER_REQ START_POWER_REQ __tmp18
   102 set __fn3_reactor reactor4
   103 set __fn3_time t_startup4
   104 setaddr __fn3retaddr __label18
   105 call __label3 __fn3retval
   106 gotolabel __label18 __fn3
   107 set __tmp20 __fn3retval
-    * op add __tmp21 START_POWER_REQ __tmp20
-    * set START_POWER_REQ __tmp21
+  108 op add START_POWER_REQ START_POWER_REQ __tmp20
   109 set __fn3_reactor reactor5
   110 set __fn3_time t_startup5
   111 setaddr __fn3retaddr __label19
   112 call __label3 __fn3retval
   113 gotolabel __label19 __fn3
   114 set __tmp22 __fn3retval
-    * op add __tmp23 START_POWER_REQ __tmp22
-    * set START_POWER_REQ __tmp23
+  115 op add START_POWER_REQ START_POWER_REQ __tmp22
   116 set __fn4_reactor reactor1
   117 set __fn4_reactor_num 1
   118 set __fn4_emerg_shutdown emerg_shutdown
 
   121 setaddr __fn4retaddr __label20
   122 call __label4 __fn4retval
   123 gotolabel __label20 __fn4
-    * set __tmp24 __fn4retval
-    * set fuel_1 __tmp24
+  124 set fuel_1 __fn4retval
   125 set t_startup1 RET_T_STARTUP
   126 set __fn1_fuel fuel_1
   127 set __fn1_uld_in ULD_IN_1
 
   138 setaddr __fn4retaddr __label22
   139 call __label4 __fn4retval
   140 gotolabel __label22 __fn4
-    * set __tmp26 __fn4retval
-    * set fuel_2 __tmp26
+  141 set fuel_2 __fn4retval
   142 set t_startup2 RET_T_STARTUP
   143 set __fn1_fuel fuel_2
   144 set __fn1_uld_in ULD_IN_2
 
   152 call __label2 __fn2retval
   153 gotolabel __label24 __fn2
   154 set __tmp28 __fn2retval
-    * op or __tmp29 emerg_shutdown __tmp28
-    * set emerg_shutdown __tmp29
+  155 op or emerg_shutdown emerg_shutdown __tmp28
   156 set __fn4_reactor reactor3
   157 set __fn4_reactor_num 3
   158 set __fn4_emerg_shutdown emerg_shutdown
 
   161 setaddr __fn4retaddr __label25
   162 call __label4 __fn4retval
   163 gotolabel __label25 __fn4
-    * set __tmp30 __fn4retval
-    * set fuel_3 __tmp30
+  164 set fuel_3 __fn4retval
   165 set t_startup3 RET_T_STARTUP
   166 set __fn4_reactor reactor4
   167 set __fn4_reactor_num 4
 
   171 setaddr __fn4retaddr __label26
   172 call __label4 __fn4retval
   173 gotolabel __label26 __fn4
-    * set __tmp31 __fn4retval
-    * set fuel_4 __tmp31
+  174 set fuel_4 __fn4retval
   175 set t_startup4 RET_T_STARTUP
   176 set __fn4_reactor reactor5
   177 set __fn4_reactor_num 5
 
   181 setaddr __fn4retaddr __label27
   182 call __label4 __fn4retval
   183 gotolabel __label27 __fn4
-    * set __tmp32 __fn4retval
-    * set fuel_5 __tmp32
+  184 set fuel_5 __fn4retval
   185 set t_startup5 RET_T_STARTUP
   186 op or __tmp33 fuel_3 fuel_4
-    * op or __tmp34 __tmp33 fuel_5
-    * set fuel_many __tmp34
+  187 op or fuel_many __tmp33 fuel_5
   188 set __fn1_fuel fuel_many
   189 set __fn1_uld_in ULD_IN_MANY
   190 set __fn1_uld_out ULD_OUT_MANY
 
   198 set __fn6_reactors_fueled __tmp37
   199 set __fn6_emerg_shutdown emerg_shutdown
   200 sensor __tmp39 NODE @powerNetStored
-    * op floor __tmp40 __tmp39
-    * set __fn6_charge __tmp40
+  201 op floor __fn6_charge __tmp39
   202 sensor __tmp41 NODE @powerNetIn
   203 sensor __tmp42 NODE @powerNetOut
   204 op sub __tmp43 __tmp41 __tmp42
-    * op floor __tmp44 __tmp43
-    * set __fn6_surplus __tmp44
-    * sensor __tmp45 CONTAINER @blast-compound
-    * set __fn6_fuel_stored __tmp45
+  205 op floor __fn6_surplus __tmp43
+  206 sensor __fn6_fuel_stored CONTAINER @blast-compound
   207 op lessThan __tmp46 __fn6_charge PWR_ABORT
   208 op lessThan __tmp47 __fn6_surplus FLOW_ABORT
   209 op land __tmp48 __tmp46 __tmp47
 
   247 label __label36
   248 set __tmp50 __tmp53
   249 label __label32
-    * op lessThan __tmp54 __fn6_fuel_stored __fn6_limit
-    * set __tmp38 __tmp54
+  250 op lessThan __tmp38 __fn6_fuel_stored __fn6_limit
   251 jump __label30 always
   252 set __tmp38 null
   253 label __label30
 
   262 label __label39
   263 sensor __tmp57 NODE @powerNetStored
   264 sensor __tmp58 NODE @powerNetCapacity
-    * op div __tmp59 __tmp57 __tmp58
-    * set __fn7_stored_pc __tmp59
+  265 op div __fn7_stored_pc __tmp57 __tmp58
   266 op greaterThan __tmp60 __fn7_stored_pc 0.9
   267 op lessThan __tmp61 START_POWER_REQ 10
   268 op land __tmp62 __tmp60 __tmp61
 
   283 setaddr __fn0retaddr __label43
   284 call __label0 __fn0retval
   285 gotolabel __label43 __fn0
-    * set __tmp64 __fn0retval
-    * set surplus __tmp64
-    * sensor __tmp65 NODE @powerNetStored
-    * set __fn0_val __tmp65
+  286 set surplus __fn0retval
+  287 sensor __fn0_val NODE @powerNetStored
   288 setaddr __fn0retaddr __label44
   289 call __label0 __fn0retval
   290 gotolabel __label44 __fn0
-    * set __tmp66 __fn0retval
-    * set charge __tmp66
+  291 set charge __fn0retval
   292 op greaterThan __tmp67 START_POWER_REQ 0
   293 jump __label45 equal __tmp67 false
   294 set __fn0_val START_POWER_REQ
   295 setaddr __fn0retaddr __label47
   296 call __label0 __fn0retval
   297 gotolabel __label47 __fn0
-    * set __tmp69 __fn0retval
-    * set req __tmp69
+  298 set req __fn0retval
   299 print "Req "
   300 print req
   301 print "kJ / "
 
   314 label __label48
   315 sensor __tmp71 NODE @powerNetStored
   316 sensor __tmp72 NODE @powerNetCapacity
-    * op div __tmp73 __tmp71 __tmp72
-    * set __fn8_stored __tmp73
+  317 op div __fn8_stored __tmp71 __tmp72
   318 op greaterThan __tmp74 __fn8_stored 0.98
   319 op add __tmp75 GENERATOR_OUTPUT GOAL_BUFFER
   320 op greaterThan __tmp76 AVG_SURPLUS __tmp75
 
   322 jump __label50 equal __tmp77 false
   323 op greaterThan __tmp79 REACTORS_DESIRED 2
   324 jump __label52 equal __tmp79 false
-    * op sub __tmp81 REACTORS_DESIRED 1
-    * set REACTORS_DESIRED __tmp81
-    * op sub __tmp82 AVG_SURPLUS GENERATOR_OUTPUT
-    * set AVG_SURPLUS __tmp82
+  325 op sub REACTORS_DESIRED REACTORS_DESIRED 1
+  326 op sub AVG_SURPLUS AVG_SURPLUS GENERATOR_OUTPUT
   327 set __tmp80 AVG_SURPLUS
   328 jump __label53 always
   329 label __label52
 
   341 jump __label54 equal __tmp86 false
   342 op sub __tmp88 AVG_SURPLUS GOAL_BUFFER
   343 op idiv __tmp89 __tmp88 GENERATOR_OUTPUT
-    * op max __tmp90 1 __tmp89
-    * set __fn8_needed __tmp90
+  344 op max __fn8_needed 1 __tmp89
   345 op add __tmp91 __fn8_needed REACTORS_DESIRED
-    * op min __tmp92 5 __tmp91
-    * set REACTORS_DESIRED __tmp92
+  346 op min REACTORS_DESIRED 5 __tmp91
   347 set __tmp87 REACTORS_DESIRED
   348 jump __label55 always
   349 label __label54
 
   370 end
   371 label __label0
   372 op idiv __tmp95 __fn0_val 100
-    * op div __tmp96 __tmp95 10
-    * set __fn0retval __tmp96
+  373 op div __fn0retval __tmp95 10
   374 jump __label58 always
   375 set __fn0retval null
   376 label __label58
 
   397 goto __fn1retaddr __fn1
   398 end
   399 label __label2
-    * radar enemy any any health __fn2_unit 1 __tmp100
-    * set __fn2_enemy_found __tmp100
+  400 radar enemy any any health __fn2_unit 1 __fn2_enemy_found
   401 op notEqual __tmp101 __fn2_enemy_found null
   402 jump __label65 equal __tmp101 false
   403 control enabled projector1 true
 
   431 end
   432 label __label3
   433 op sub __tmp103 @tick __fn3_time
-    * op idiv __tmp104 __tmp103 60
-    * set __fn3_secs __tmp104
+  434 op idiv __fn3_secs __tmp103 60
   435 op greaterThan __tmp105 __fn3_secs 30
   436 sensor __tmp106 __fn3_reactor @enabled
   437 op equal __tmp107 __tmp106 false
 
   444 label __label68
   445 set __tmp109 null
   446 label __label69
-    * op sub __tmp110 30 __fn3_secs
-    * set __fn3_time_left __tmp110
+  447 op sub __fn3_time_left 30 __fn3_secs
   448 op mul __tmp111 __fn3_time_left __fn3_time_left
   449 op mul __tmp112 __tmp111 25
-    * op floor __tmp113 __tmp112
-    * set __fn3_charge_req __tmp113
+  450 op floor __fn3_charge_req __tmp112
   451 set __fn3retval __fn3_charge_req
   452 jump __label67 always
   453 set __fn3retval null
 
   457 label __label4
   458 set RET_T_STARTUP __fn4_t_startup
   459 op sub __tmp114 @tick __fn4_t_startup
-    * op idiv __tmp115 __tmp114 60
-    * set __fn4_secs __tmp115
-    * sensor __tmp116 __fn4_reactor @blast-compound
-    * set __fn4_fuel __tmp116
+  460 op idiv __fn4_secs __tmp114 60
+  461 sensor __fn4_fuel __fn4_reactor @blast-compound
   462 set __fn4_supply_fuel true
-    * sensor __tmp117 CONTAINER @blast-compound
-    * set __fn4_fuel_stored __tmp117
-    * sensor __tmp118 __fn4_reactor @cryofluid
-    * set __fn4_cryo __tmp118
+  463 sensor __fn4_fuel_stored CONTAINER @blast-compound
+  464 sensor __fn4_cryo __fn4_reactor @cryofluid
   465 sensor __tmp119 NODE @powerNetStored
-    * op floor __tmp120 __tmp119
-    * set __fn4_charge __tmp120
+  466 op floor __fn4_charge __tmp119
   467 sensor __tmp121 NODE @powerNetIn
   468 sensor __tmp122 NODE @powerNetOut
   469 op sub __tmp123 __tmp121 __tmp122
-    * op floor __tmp124 __tmp123
-    * set __fn4_surplus __tmp124
+  470 op floor __fn4_surplus __tmp123
   471 op mul __tmp125 AVG_SURPLUS 0.8
   472 op mul __tmp126 __fn4_surplus 0.2
-    * op add __tmp127 __tmp125 __tmp126
-    * set AVG_SURPLUS __tmp127
-    * sensor __tmp128 __fn4_reactor @enabled
-    * set __fn4_enabled __tmp128
+  473 op add AVG_SURPLUS __tmp125 __tmp126
+  474 sensor __fn4_enabled __fn4_reactor @enabled
   475 print "#"
   476 print __fn4_reactor_num
   477 print " - "
 
   533 set __tmp148 __fn4_supply_fuel
   534 jump __label87 always
   535 label __label86
-    * op sub __tmp149 30 __fn4_secs
-    * set __fn4_time_left __tmp149
+  536 op sub __fn4_time_left 30 __fn4_secs
   537 print "Starting "
   538 print __fn4_time_left
   539 print " secs, req "
 
   554 set __tmp153 __fn4_supply_fuel
   555 jump __label89 always
   556 label __label88
-    * op idiv __tmp154 __fn4_secs 6
-    * set __fn4_mins __tmp154
-    * op div __tmp155 __fn4_mins 10
-    * set __fn4_mins __tmp155
+  557 op idiv __fn4_mins __fn4_secs 6
+  558 op div __fn4_mins __fn4_mins 10
   559 print "RUN "
   560 print __fn4_mins
   561 print " mins\n"
 
   577 op sub __tmp156 __fn4_charge START_POWER_REQ
   578 op sub __tmp157 __tmp156 PWR_ABORT
   579 op div __tmp158 __tmp157 PWR_REQ
-    * op mul __tmp159 __tmp158 PWR_RESERVE
-    * set __fn4_charge_units __tmp159
+  580 op mul __fn4_charge_units __tmp158 PWR_RESERVE
   581 op div __tmp160 __fn4_surplus FLOW_REQ
-    * op max __tmp161 -0.1 __tmp160
-    * set __fn4_flow_units __tmp161
+  582 op max __fn4_flow_units -0.1 __tmp160
   583 op mul __tmp162 CRYO_REQ_EA __fn4_reactor_num
-    * op add __tmp163 CRYO_REQ __tmp162
-    * set __fn4_cryo_req __tmp163
+  584 op add __fn4_cryo_req CRYO_REQ __tmp162
   585 op lessThan __tmp164 REACTORS_DESIRED __fn4_reactor_num
   586 jump __label90 equal __tmp164 false
   587 print "IDLE\n"
 
   594 jump __label92 equal __tmp167 false
   595 op mul __tmp169 __fn4_flow_units 1000
   596 op floor __tmp170 __tmp169
-    * op div __tmp171 __tmp170 10
-    * set __fn4_flow __tmp171
+  597 op div __fn4_flow __tmp170 10
   598 op mul __tmp172 __fn4_charge_units 1000
   599 op floor __tmp173 __tmp172
-    * op div __tmp174 __tmp173 10
-    * set __fn4_charge __tmp174
+  600 op div __fn4_charge __tmp173 10
   601 print "WAIT power. (%"
   602 print __fn4_charge
   603 print "J + %"
 
   637 jump __label101 always
   638 label __label100
   639 print "STARTUP\n"
-    * op add __tmp186 START_POWER_REQ PWR_REQ
-    * set START_POWER_REQ __tmp186
+  640 op add START_POWER_REQ START_POWER_REQ PWR_REQ
   641 control enabled __fn4_reactor true
   642 set __tmp185 true
   643 label __label101
 
   656 sensor __tmp187 __fn4_reactor @enabled
   657 op notEqual __tmp188 __fn4_enabled __tmp187
   658 jump __label102 equal __tmp188 false
-    * set __tmp190 @tick
-    * set RET_T_STARTUP __tmp190
+  659 set RET_T_STARTUP @tick
   660 set __tmp189 RET_T_STARTUP
   661 jump __label103 always
   662 label __label102

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-20 instructions):
 
    69 print "\n"
    70 set __tmp8 true
    71 jump __label12 always
-    * set __tmp13 null
    72 jump __label14 always
    73 label __label13
-    * set __tmp13 null
    74 label __label14
    75 set __tmp8 false
    76 jump __label12 always
 
   127 setaddr __fn1retaddr __label21
   128 call __label1 __fn1retval
   129 gotolabel __label21 __fn1
-    * set __tmp25 __fn1retval
   130 set __fn4_reactor reactor2
   131 set __fn4_reactor_num 2
   132 set __fn4_emerg_shutdown emerg_shutdown
 
   143 setaddr __fn1retaddr __label23
   144 call __label1 __fn1retval
   145 gotolabel __label23 __fn1
-    * set __tmp27 __fn1retval
   146 set __fn2_unit TOWER
   147 setaddr __fn2retaddr __label24
   148 call __label2 __fn2retval
 
   187 setaddr __fn1retaddr __label28
   188 call __label1 __fn1retval
   189 gotolabel __label28 __fn1
-    * set __tmp35 __fn1retval
   190 op or __tmp36 fuel_1 fuel_2
   191 op or __tmp37 __tmp36 fuel_many
   192 label __label29
 
   218 print " Critical power.\n"
   219 set __tmp51 null
   220 label __label34
-    * set __tmp50 __tmp51
   221 jump __label32 always
   222 label __label31
   223 op equal __tmp52 __fn6_reactors_fueled false
 
   239 print "\n"
   240 set __tmp53 null
   241 label __label36
-    * set __tmp50 __tmp53
   242 label __label32
   243 op lessThan __tmp38 __fn6_fuel_stored __fn6_limit
   244 jump __label30 always
 
   270 control enabled generator2 true
   271 set __tmp63 true
   272 label __label42
-    * set __tmp56 __tmp63
   273 label __label40
   274 set __fn0_val AVG_SURPLUS
   275 setaddr __fn0retaddr __label43
 
   295 print "kJ. "
   296 print surplus
   297 print "kW flow.\n"
-    * set __tmp68 null
   298 jump __label46 always
   299 label __label45
   300 print "Power "
 
   320 label __label52
   321 set __tmp80 null
   322 label __label53
-    * set __tmp78 __tmp80
   323 jump __label51 always
   324 label __label50
-    * set __tmp78 null
   325 label __label51
   326 op lessThan __tmp83 __fn8_stored 0.8
   327 op mul __tmp84 GOAL_BUFFER 0.8
 
   340 label __label55
   341 set __tmp70 __tmp87
   342 label __label49
-    * set __tmp68 __tmp70
   343 label __label46
   344 op notEqual __tmp93 REACTORS_DESIRED 5
   345 jump __label56 equal __tmp93 false
   346 print "Require only "
   347 print REACTORS_DESIRED
   348 print "/5 reactors.\n"
-    * set __tmp94 null
   349 jump __label57 always
   350 label __label56
-    * set __tmp94 null
   351 label __label57
   352 printflush message1
   353 label __label8
 
   425 jump __label68 equal __tmp108 false
   426 set __fn3retval 0
   427 jump __label67 always
-    * set __tmp109 null
   428 jump __label69 always
   429 label __label68
-    * set __tmp109 null
   430 label __label69
   431 op sub __fn3_time_left 30 __fn3_secs
   432 op mul __tmp111 __fn3_time_left __fn3_time_left
 
   463 control enabled __fn4_reactor false
   464 print "emergency mode\n"
   465 set __fn4_supply_fuel false
-    * set __tmp129 __fn4_supply_fuel
   466 jump __label72 always
   467 label __label71
   468 jump __label73 equal __fn4_enabled false
 
   634 label __label91
   635 set __tmp130 __tmp165
   636 label __label74
-    * set __tmp129 __tmp130
   637 label __label72
   638 sensor __tmp187 __fn4_reactor @enabled
   639 op notEqual __tmp188 __fn4_enabled __tmp187
   640 jump __label102 equal __tmp188 false
   641 set RET_T_STARTUP @tick
-    * set __tmp189 RET_T_STARTUP
   642 jump __label103 always
   643 label __label102
-    * set __tmp189 null
   644 label __label103
   645 set __fn4retval __fn4_supply_fuel
   646 jump __label70 always

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-12 instructions):
 
   212 print " - "
   213 jump __label33 equal __fn6_emerg_shutdown false
   214 print " Enemies detected.\n"
-    * set __tmp51 null
   215 jump __label34 always
   216 label __label33
   217 print " Critical power.\n"
-    * set __tmp51 null
   218 label __label34
   219 jump __label32 always
   220 label __label31
 
   226 print " / "
   227 print __fn6_limit
   228 print " (due to emergency)\n"
-    * set __tmp53 null
   229 jump __label36 always
   230 label __label35
   231 set __fn6_limit FUEL_LIMIT
 
   234 print " / "
   235 print __fn6_limit
   236 print "\n"
-    * set __tmp53 null
   237 label __label36
   238 label __label32
   239 op lessThan __tmp38 __fn6_fuel_stored __fn6_limit
 
   259 print "Differential now idle.\n"
   260 control enabled generator1 false
   261 control enabled generator2 false
-    * set __tmp63 false
   262 jump __label42 always
   263 label __label41
   264 control enabled generator1 true
   265 control enabled generator2 true
-    * set __tmp63 true
   266 label __label42
   267 label __label40
   268 set __fn0_val AVG_SURPLUS
 
   309 jump __label52 equal __tmp79 false
   310 op sub REACTORS_DESIRED REACTORS_DESIRED 1
   311 op sub AVG_SURPLUS AVG_SURPLUS GENERATOR_OUTPUT
-    * set __tmp80 AVG_SURPLUS
   312 jump __label53 always
   313 label __label52
-    * set __tmp80 null
   314 label __label53
   315 jump __label51 always
   316 label __label50
 
   330 label __label54
   331 set __tmp87 null
   332 label __label55
-    * set __tmp70 __tmp87
   333 label __label49
   334 label __label46
   335 op notEqual __tmp93 REACTORS_DESIRED 5
 
   369 set __tmp99 FUEL_OFF
   370 label __label63
   371 control config __fn1_uld_out __tmp99
-    * set __fn1retval __tmp99
   372 label __label59
   373 goto __fn1retaddr __fn1
   374 end
 
   544 label __label78
   545 set __tmp132 __tmp137
   546 label __label76
-    * set __tmp130 __tmp132
   547 jump __label74 always
   548 label __label73
   549 op sub __tmp156 __fn4_charge START_POWER_REQ
 
   621 label __label93
   622 set __tmp165 __tmp168
   623 label __label91
-    * set __tmp130 __tmp165
   624 label __label74
   625 label __label72
   626 sensor __tmp187 __fn4_reactor @enabled

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-6 instructions):
 
   325 op max __fn8_needed 1 __tmp89
   326 op add __tmp91 __fn8_needed REACTORS_DESIRED
   327 op min REACTORS_DESIRED 5 __tmp91
-    * set __tmp87 REACTORS_DESIRED
   328 jump __label55 always
   329 label __label54
-    * set __tmp87 null
   330 label __label55
   331 label __label49
   332 label __label46
 
   458 jump __label75 equal __tmp131 false
   459 control enabled __fn4_reactor false
   460 print "STOP unwanted\n"
-    * set __tmp132 null
   461 jump __label76 always
   462 label __label75
   463 op greaterThan __tmp133 __fn4_reactor_num 1
 
   539 label __label80
   540 set __tmp137 __tmp139
   541 label __label78
-    * set __tmp132 __tmp137
   542 label __label76
   543 jump __label74 always
   544 label __label73
 
   554 jump __label90 equal __tmp164 false
   555 print "IDLE\n"
   556 set __fn4_supply_fuel false
-    * set __tmp165 __fn4_supply_fuel
   557 jump __label91 always
   558 label __label90
   559 op add __tmp166 __fn4_flow_units __fn4_charge_units
 
   614 label __label95
   615 set __tmp168 __tmp177
   616 label __label93
-    * set __tmp165 __tmp168
   617 label __label91
   618 label __label74
   619 label __label72

Modifications by Initial phase, Dead Code Elimination, iteration 4 (-4 instructions):
 
   467 jump __label77 equal __tmp136 false
   468 control enabled __fn4_reactor false
   469 print "STOP system fuel low\n"
-    * set __tmp137 null
   470 jump __label78 always
   471 label __label77
   472 op lessThanEq __tmp138 __fn4_fuel 1
 
   536 label __label82
   537 set __tmp139 __tmp141
   538 label __label80
-    * set __tmp137 __tmp139
   539 label __label78
   540 label __label76
   541 jump __label74 always
 
   569 print __fn4_flow
   570 print "W)\n"
   571 set __fn4_supply_fuel false
-    * set __tmp168 __fn4_supply_fuel
   572 jump __label93 always
   573 label __label92
   574 op lessThan __tmp175 __fn4_fuel FUEL_REQ
 
   609 label __label99
   610 set __tmp177 __tmp183
   611 label __label95
-    * set __tmp168 __tmp177
   612 label __label93
   613 label __label91
   614 label __label74

Modifications by Initial phase, Dead Code Elimination, iteration 5 (-4 instructions):
 
   473 jump __label79 equal __tmp138 false
   474 control enabled __fn4_reactor false
   475 print "STOP fuel low\n"
-    * set __tmp139 null
   476 jump __label80 always
   477 label __label79
   478 op lessThanEq __tmp140 __fn4_cryo CRYO_ABORT
 
   533 label __label84
   534 set __tmp141 __tmp143
   535 label __label82
-    * set __tmp139 __tmp141
   536 label __label80
   537 label __label78
   538 label __label76
 
   582 print "WAIT system fuel\n"
   583 set __tmp180 null
   584 label __label97
-    * set __tmp177 __tmp180
   585 jump __label95 always
   586 label __label94
   587 op mul __tmp181 FUEL_TOT_REQ __fn4_reactor_num
 
   604 label __label101
   605 set __tmp183 __tmp185
   606 label __label99
-    * set __tmp177 __tmp183
   607 label __label95
   608 label __label93
   609 label __label91

Modifications by Initial phase, Dead Code Elimination, iteration 6 (-6 instructions):
 
   479 jump __label81 equal __tmp140 false
   480 control enabled __fn4_reactor false
   481 print "STOP out of cryo\n"
-    * set __tmp141 null
   482 jump __label82 always
   483 label __label81
   484 op lessThan __tmp142 __fn4_secs 30
 
   530 label __label89
   531 set __tmp143 __tmp153
   532 label __label84
-    * set __tmp141 __tmp143
   533 label __label82
   534 label __label80
   535 label __label78
 
   574 op greaterThan __tmp179 __tmp178 FUEL_REQ
   575 jump __label96 equal __tmp179 false
   576 print "WAIT fuel\n"
-    * set __tmp180 null
   577 jump __label97 always
   578 label __label96
   579 print "WAIT system fuel\n"
-    * set __tmp180 null
   580 label __label97
   581 jump __label95 always
   582 label __label94
 
   584 op lessThan __tmp182 __fn4_fuel_stored __tmp181
   585 jump __label98 equal __tmp182 false
   586 print "WAIT buffer fuel\n"
-    * set __tmp183 null
   587 jump __label99 always
   588 label __label98
   589 op lessThan __tmp184 __fn4_cryo __fn4_cryo_req
 
   597 control enabled __fn4_reactor true
   598 set __tmp185 true
   599 label __label101
-    * set __tmp183 __tmp185
   600 label __label99
   601 label __label95
   602 label __label93

Modifications by Initial phase, Dead Code Elimination, iteration 7 (-4 instructions):
 
   508 print "J\n"
   509 set __tmp148 null
   510 label __label87
-    * set __tmp143 __tmp148
   511 jump __label84 always
   512 label __label83
   513 op lessThan __tmp150 __fn4_charge PWR_ABANDON
 
   527 print " mins\n"
   528 set __tmp153 null
   529 label __label89
-    * set __tmp143 __tmp153
   530 label __label84
   531 label __label82
   532 label __label80
 
   587 op lessThan __tmp184 __fn4_cryo __fn4_cryo_req
   588 jump __label100 equal __tmp184 false
   589 print "WAIT cryo\n"
-    * set __tmp185 null
   590 jump __label101 always
   591 label __label100
   592 print "STARTUP\n"
   593 op add START_POWER_REQ START_POWER_REQ PWR_REQ
   594 control enabled __fn4_reactor true
-    * set __tmp185 true
   595 label __label101
   596 label __label99
   597 label __label95

Modifications by Initial phase, Dead Code Elimination, iteration 8 (-4 instructions):
 
   497 control enabled __fn4_reactor false
   498 print "START FAIL battery\n"
   499 set __fn4_supply_fuel false
-    * set __tmp148 __fn4_supply_fuel
   500 jump __label87 always
   501 label __label86
   502 op sub __fn4_time_left 30 __fn4_secs
 
   505 print " secs, req "
   506 print __fn4_charge_req
   507 print "J\n"
-    * set __tmp148 null
   508 label __label87
   509 jump __label84 always
   510 label __label83
 
   515 control enabled __fn4_reactor false
   516 print "ABANDON - battery crit\n"
   517 set __fn4_supply_fuel false
-    * set __tmp153 __fn4_supply_fuel
   518 jump __label89 always
   519 label __label88
   520 op idiv __fn4_mins __fn4_secs 6
 
   522 print "RUN "
   523 print __fn4_mins
   524 print " mins\n"
-    * set __tmp153 null
   525 label __label89
   526 label __label84
   527 label __label82

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-1 instructions):
 
    43 set REACTORS_DESIRED 5
    44 set AVG_SURPLUS 500
    45 label __label7
-    * jump __label9 equal true false
    46 set ULD_IN_1 unloader1
    47 set ULD_OUT_1 unloader2
    48 set ULD_IN_2 unloader3

Modifications by Iterated phase, Jump Optimization, pass 1, iteration 1 (-17 instructions):
 
    26 sensor __tmp1 node1 @powerNetOut
    27 op sub __tmp2 __tmp0 __tmp1
    28 op floor surplus __tmp2
-    * op greaterThan __tmp4 surplus 10000
-    * jump __label5 equal __tmp4 false
+   29 jump __label5 lessThanEq surplus 10000
    30 op sub __tmp5 @tick 3600
    31 jump __label6 always
    32 label __label5
 
   216 label __label34
   217 jump __label32 always
   218 label __label31
-    * op equal __tmp52 __fn6_reactors_fueled false
-    * jump __label35 equal __tmp52 false
+  219 jump __label35 notEqual __fn6_reactors_fueled false
   220 set __fn6_limit FUEL_LIMIT_LOW
   221 print "Fuel "
   222 print __fn6_fuel_stored
 
   272 call __label0 __fn0retval
   273 gotolabel __label44 __fn0
   274 set charge __fn0retval
-    * op greaterThan __tmp67 START_POWER_REQ 0
-    * jump __label45 equal __tmp67 false
+  275 jump __label45 lessThanEq START_POWER_REQ 0
   276 set __fn0_val START_POWER_REQ
   277 setaddr __fn0retaddr __label47
   278 call __label0 __fn0retval
 
   301 op greaterThan __tmp76 AVG_SURPLUS __tmp75
   302 op land __tmp77 __tmp74 __tmp76
   303 jump __label50 equal __tmp77 false
-    * op greaterThan __tmp79 REACTORS_DESIRED 2
-    * jump __label52 equal __tmp79 false
+  304 jump __label52 lessThanEq REACTORS_DESIRED 2
   305 op sub REACTORS_DESIRED REACTORS_DESIRED 1
   306 op sub AVG_SURPLUS AVG_SURPLUS GENERATOR_OUTPUT
   307 jump __label53 always
 
   325 label __label55
   326 label __label49
   327 label __label46
-    * op notEqual __tmp93 REACTORS_DESIRED 5
-    * jump __label56 equal __tmp93 false
+  328 jump __label56 equal REACTORS_DESIRED 5
   329 print "Require only "
   330 print REACTORS_DESIRED
   331 print "/5 reactors.\n"
 
   353 set __tmp97 FUEL_OFF
   354 label __label61
   355 control config __fn1_uld_in __tmp97
-    * op equal __tmp98 __fn1_fuel false
-    * jump __label62 equal __tmp98 false
+  356 jump __label62 notEqual __fn1_fuel false
   357 set __tmp99 FUEL
   358 jump __label63 always
   359 label __label62
 
   365 end
   366 label __label2
   367 radar enemy any any health __fn2_unit 1 __fn2_enemy_found
-    * op notEqual __tmp101 __fn2_enemy_found null
-    * jump __label65 equal __tmp101 false
+  368 jump __label65 equal __fn2_enemy_found null
   369 control enabled projector1 true
   370 control enabled projector2 true
   371 control config ULD_IN_1 FUEL_OFF
 
   446 jump __label72 always
   447 label __label71
   448 jump __label73 equal __fn4_enabled false
-    * op lessThan __tmp131 REACTORS_DESIRED __fn4_reactor_num
-    * jump __label75 equal __tmp131 false
+  449 jump __label75 greaterThanEq REACTORS_DESIRED __fn4_reactor_num
   450 control enabled __fn4_reactor false
   451 print "STOP unwanted\n"
   452 jump __label76 always
 
   460 print "STOP system fuel low\n"
   461 jump __label78 always
   462 label __label77
-    * op lessThanEq __tmp138 __fn4_fuel 1
-    * jump __label79 equal __tmp138 false
+  463 jump __label79 greaterThan __fn4_fuel 1
   464 control enabled __fn4_reactor false
   465 print "STOP fuel low\n"
   466 jump __label80 always
   467 label __label79
-    * op lessThanEq __tmp140 __fn4_cryo CRYO_ABORT
-    * jump __label81 equal __tmp140 false
+  468 jump __label81 greaterThan __fn4_cryo CRYO_ABORT
   469 control enabled __fn4_reactor false
   470 print "STOP out of cryo\n"
   471 jump __label82 always
   472 label __label81
-    * op lessThan __tmp142 __fn4_secs 30
-    * jump __label83 equal __tmp142 false
+  473 jump __label83 greaterThanEq __fn4_secs 30
   474 set __fn3_reactor __fn4_reactor
   475 set __fn3_time __fn4_t_startup
   476 setaddr __fn3retaddr __label85
 
   526 op max __fn4_flow_units -0.1 __tmp160
   527 op mul __tmp162 CRYO_REQ_EA __fn4_reactor_num
   528 op add __fn4_cryo_req CRYO_REQ __tmp162
-    * op lessThan __tmp164 REACTORS_DESIRED __fn4_reactor_num
-    * jump __label90 equal __tmp164 false
+  529 jump __label90 greaterThanEq REACTORS_DESIRED __fn4_reactor_num
   530 print "IDLE\n"
   531 set __fn4_supply_fuel false
   532 jump __label91 always
   533 label __label90
   534 op add __tmp166 __fn4_flow_units __fn4_charge_units
-    * op lessThan __tmp167 __tmp166 1
-    * jump __label92 equal __tmp167 false
+  535 jump __label92 greaterThanEq __tmp166 1
   536 op mul __tmp169 __fn4_flow_units 1000
   537 op floor __tmp170 __tmp169
   538 op div __fn4_flow __tmp170 10
 
   551 op land __tmp176 __fn4_fuel_on __tmp175
   552 jump __label94 equal __tmp176 false
   553 op add __tmp178 __fn4_fuel __fn4_fuel_stored
-    * op greaterThan __tmp179 __tmp178 FUEL_REQ
-    * jump __label96 equal __tmp179 false
+  554 jump __label96 lessThanEq __tmp178 FUEL_REQ
   555 print "WAIT fuel\n"
   556 jump __label97 always
   557 label __label96
 
   560 jump __label95 always
   561 label __label94
   562 op mul __tmp181 FUEL_TOT_REQ __fn4_reactor_num
-    * op lessThan __tmp182 __fn4_fuel_stored __tmp181
-    * jump __label98 equal __tmp182 false
+  563 jump __label98 greaterThanEq __fn4_fuel_stored __tmp181
   564 print "WAIT buffer fuel\n"
   565 jump __label99 always
   566 label __label98
-    * op lessThan __tmp184 __fn4_cryo __fn4_cryo_req
-    * jump __label100 equal __tmp184 false
+  567 jump __label100 greaterThanEq __fn4_cryo __fn4_cryo_req
   568 print "WAIT cryo\n"
   569 jump __label101 always
   570 label __label100
 
   579 label __label74
   580 label __label72
   581 sensor __tmp187 __fn4_reactor @enabled
-    * op notEqual __tmp188 __fn4_enabled __tmp187
-    * jump __label102 equal __tmp188 false
+  582 jump __label102 equal __fn4_enabled __tmp187
   583 set RET_T_STARTUP @tick
   584 jump __label103 always
   585 label __label102

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-7 instructions):
 
    67 print "\n"
    68 set __tmp8 true
    69 jump __label12 always
-    * jump __label14 always
    70 label __label13
    71 label __label14
    72 set __tmp8 false
 
   303 jump __label52 lessThanEq REACTORS_DESIRED 2
   304 op sub REACTORS_DESIRED REACTORS_DESIRED 1
   305 op sub AVG_SURPLUS AVG_SURPLUS GENERATOR_OUTPUT
-    * jump __label53 always
   306 label __label52
   307 label __label53
-    * jump __label51 always
   308 label __label50
   309 label __label51
   310 op lessThan __tmp83 __fn8_stored 0.8
 
   317 op max __fn8_needed 1 __tmp89
   318 op add __tmp91 __fn8_needed REACTORS_DESIRED
   319 op min REACTORS_DESIRED 5 __tmp91
-    * jump __label55 always
   320 label __label54
   321 label __label55
   322 label __label49
 
   325 print "Require only "
   326 print REACTORS_DESIRED
   327 print "/5 reactors.\n"
-    * jump __label57 always
   328 label __label56
   329 label __label57
   330 printflush message1
 
   400 jump __label68 equal __tmp108 false
   401 set __fn3retval 0
   402 jump __label67 always
-    * jump __label69 always
   403 label __label68
   404 label __label69
   405 op sub __fn3_time_left 30 __fn3_secs
 
   575 sensor __tmp187 __fn4_reactor @enabled
   576 jump __label102 equal __fn4_enabled __tmp187
   577 set RET_T_STARTUP @tick
-    * jump __label103 always
   578 label __label102
   579 label __label103
   580 set __fn4retval __fn4_supply_fuel

Modifications by Iterated phase, Expression Optimization, pass 1, iteration 1 (-3 instructions):
 
   404 label __label69
   405 op sub __fn3_time_left 30 __fn3_secs
   406 op mul __tmp111 __fn3_time_left __fn3_time_left
-    * op mul __tmp112 __tmp111 25
-    * op floor __fn3_charge_req __tmp112
+  407 op idiv __fn3_charge_req __tmp111 0.04
   408 set __fn3retval __fn3_charge_req
   409 jump __label67 always
   410 set __fn3retval null
 
   526 label __label90
   527 op add __tmp166 __fn4_flow_units __fn4_charge_units
   528 jump __label92 greaterThanEq __tmp166 1
-    * op mul __tmp169 __fn4_flow_units 1000
-    * op floor __tmp170 __tmp169
+  529 op idiv __tmp170 __fn4_flow_units 0.001
   530 op div __fn4_flow __tmp170 10
-    * op mul __tmp172 __fn4_charge_units 1000
-    * op floor __tmp173 __tmp172
+  531 op idiv __tmp173 __fn4_charge_units 0.001
   532 op div __fn4_charge __tmp173 10
   533 print "WAIT power. (%"
   534 print __fn4_charge

Modifications by Iterated phase, If Expression Optimization, pass 1, iteration 1 (-1 instructions):
 
    27 op sub __tmp2 __tmp0 __tmp1
    28 op floor surplus __tmp2
    29 jump __label5 lessThanEq surplus 10000
-    * op sub __tmp5 @tick 3600
+   30 op sub start_time @tick 3600
    31 jump __label6 always
    32 label __label5
-    * set __tmp5 @tick
+   33 set start_time @tick
    34 label __label6
-    * set start_time __tmp5
    35 set t_startup1 start_time
    36 set t_startup2 start_time
    37 set t_startup3 start_time
 
   236 set __tmp38 null
   237 label __label30
   238 set feed_mixers __tmp38
-    * jump __label37 equal feed_mixers false
+  239 set __tmp55 FUEL_OFF
+  240 jump __label38 equal feed_mixers false
   241 set __tmp55 MIXER_IN
   242 jump __label38 always
-    * label __label37
-    * set __tmp55 FUEL_OFF
   243 label __label38
   244 control config ULD_MIXER __tmp55
   245 label __label39
 
   339 goto __fn0retaddr __fn0
   340 end
   341 label __label1
-    * jump __label60 equal __fn1_fuel false
+  342 set __tmp97 FUEL_OFF
+  343 jump __label61 equal __fn1_fuel false
   344 set __tmp97 FUEL
   345 jump __label61 always
-    * label __label60
-    * set __tmp97 FUEL_OFF
   346 label __label61
   347 control config __fn1_uld_in __tmp97
-    * jump __label62 notEqual __fn1_fuel false
+  348 set __tmp99 FUEL_OFF
+  349 jump __label63 notEqual __fn1_fuel false
   350 set __tmp99 FUEL
   351 jump __label63 always
-    * label __label62
-    * set __tmp99 FUEL_OFF
   352 label __label63
   353 control config __fn1_uld_out __tmp99
   354 label __label59

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-3 instructions):
 
    37 set t_startup3 start_time
    38 set t_startup4 start_time
    39 set t_startup5 start_time
-    * set RET_T_STARTUP t_startup1
+   40 set RET_T_STARTUP start_time
    41 set REACTORS_DESIRED 5
    42 set AVG_SURPLUS 500
    43 label __label7
 
    70 label __label14
    71 set __tmp8 false
    72 jump __label12 always
-    * set __tmp8 null
    73 label __label12
-    * op or emerg_shutdown emerg_shutdown __tmp8
+   74 op or emerg_shutdown __fn2retval __tmp8
    75 set __fn3_reactor reactor1
    76 set __fn3_time t_startup1
    77 setaddr __fn3retaddr __label15
 
    84 call __label3 __fn3retval
    85 gotolabel __label16 __fn3
    86 set __tmp16 __fn3retval
-    * op add START_POWER_REQ START_POWER_REQ __tmp16
+   87 op add START_POWER_REQ START_POWER_REQ __fn3retval
    88 set __fn3_reactor reactor3
    89 set __fn3_time t_startup3
    90 setaddr __fn3retaddr __label17
    91 call __label3 __fn3retval
    92 gotolabel __label17 __fn3
    93 set __tmp18 __fn3retval
-    * op add START_POWER_REQ START_POWER_REQ __tmp18
+   94 op add START_POWER_REQ START_POWER_REQ __fn3retval
    95 set __fn3_reactor reactor4
    96 set __fn3_time t_startup4
    97 setaddr __fn3retaddr __label18
    98 call __label3 __fn3retval
    99 gotolabel __label18 __fn3
   100 set __tmp20 __fn3retval
-    * op add START_POWER_REQ START_POWER_REQ __tmp20
+  101 op add START_POWER_REQ START_POWER_REQ __fn3retval
   102 set __fn3_reactor reactor5
   103 set __fn3_time t_startup5
   104 setaddr __fn3retaddr __label19
   105 call __label3 __fn3retval
   106 gotolabel __label19 __fn3
   107 set __tmp22 __fn3retval
-    * op add START_POWER_REQ START_POWER_REQ __tmp22
+  108 op add START_POWER_REQ START_POWER_REQ __fn3retval
   109 set __fn4_reactor reactor1
   110 set __fn4_reactor_num 1
   111 set __fn4_emerg_shutdown emerg_shutdown
 
   116 gotolabel __label20 __fn4
   117 set fuel_1 __fn4retval
   118 set t_startup1 RET_T_STARTUP
-    * set __fn1_fuel fuel_1
+  119 set __fn1_fuel __fn4retval
   120 set __fn1_uld_in ULD_IN_1
   121 set __fn1_uld_out ULD_OUT_1
   122 setaddr __fn1retaddr __label21
 
   132 gotolabel __label22 __fn4
   133 set fuel_2 __fn4retval
   134 set t_startup2 RET_T_STARTUP
-    * set __fn1_fuel fuel_2
+  135 set __fn1_fuel __fn4retval
   136 set __fn1_uld_in ULD_IN_2
   137 set __fn1_uld_out ULD_OUT_2
   138 setaddr __fn1retaddr __label23
 
   143 call __label2 __fn2retval
   144 gotolabel __label24 __fn2
   145 set __tmp28 __fn2retval
-    * op or emerg_shutdown emerg_shutdown __tmp28
+  146 op or emerg_shutdown emerg_shutdown __fn2retval
   147 set __fn4_reactor reactor3
   148 set __fn4_reactor_num 3
   149 set __fn4_emerg_shutdown emerg_shutdown
 
   175 set fuel_5 __fn4retval
   176 set t_startup5 RET_T_STARTUP
   177 op or __tmp33 fuel_3 fuel_4
-    * op or fuel_many __tmp33 fuel_5
+  178 op or fuel_many __tmp33 __fn4retval
   179 set __fn1_fuel fuel_many
   180 set __fn1_uld_in ULD_IN_MANY
   181 set __fn1_uld_out ULD_OUT_MANY
 
   197 op lessThan __tmp46 __fn6_charge PWR_ABORT
   198 op lessThan __tmp47 __fn6_surplus FLOW_ABORT
   199 op land __tmp48 __tmp46 __tmp47
-    * op or __tmp49 __tmp48 __fn6_emerg_shutdown
+  200 op or __tmp49 __tmp48 emerg_shutdown
   201 jump __label31 equal __tmp49 false
   202 set __fn6_limit 0
   203 print "Central Fuel at "
   204 print __fn6_fuel_stored
   205 print " / "
-    * print __fn6_limit
+  206 print 0
   207 print " - "
-    * jump __label33 equal __fn6_emerg_shutdown false
+  208 jump __label33 equal emerg_shutdown false
   209 print " Enemies detected.\n"
   210 jump __label34 always
   211 label __label33
 
   213 label __label34
   214 jump __label32 always
   215 label __label31
-    * jump __label35 notEqual __fn6_reactors_fueled false
+  216 jump __label35 notEqual __tmp37 false
   217 set __fn6_limit FUEL_LIMIT_LOW
   218 print "Fuel "
   219 print __fn6_fuel_stored
   220 print " / "
-    * print __fn6_limit
+  221 print FUEL_LIMIT_LOW
   222 print " (due to emergency)\n"
   223 jump __label36 always
   224 label __label35
 
   226 print "Fuel "
   227 print __fn6_fuel_stored
   228 print " / "
-    * print __fn6_limit
+  229 print FUEL_LIMIT
   230 print "\n"
   231 label __label36
   232 label __label32
   233 op lessThan __tmp38 __fn6_fuel_stored __fn6_limit
   234 jump __label30 always
-    * set __tmp38 null
   235 label __label30
   236 set feed_mixers __tmp38
   237 set __tmp55 FUEL_OFF
-    * jump __label38 equal feed_mixers false
+  238 jump __label38 equal __tmp38 false
   239 set __tmp55 MIXER_IN
   240 jump __label38 always
   241 label __label38
 
   274 gotolabel __label47 __fn0
   275 set req __fn0retval
   276 print "Req "
-    * print req
+  277 print __fn0retval
   278 print "kJ / "
   279 print charge
   280 print "kJ. "
 
   285 print "Power "
   286 print surplus
   287 print "kW, "
-    * print charge
+  288 print __fn0retval
   289 print "kJ\n"
   290 label __label48
   291 sensor __tmp71 NODE @powerNetStored
 
   378 control enabled projector2 false
   379 set __fn2retval false
   380 jump __label64 always
-    * set __tmp102 null
   381 label __label66
-    * set __fn2retval __tmp102
+  382 set __fn2retval null
   383 label __label64
   384 goto __fn2retaddr __fn2
   385 end
 
   463 call __label3 __fn3retval
   464 gotolabel __label85 __fn3
   465 set __fn4_charge_req __fn3retval
-    * op sub __tmp144 __fn4_charge __fn4_charge_req
+  466 op sub __tmp144 __fn4_charge __fn3retval
   467 op lessThan __tmp145 __tmp144 PWR_ABORT
   468 op lessThan __tmp146 __fn4_surplus FLOW_ABORT
   469 op land __tmp147 __tmp145 __tmp146
 
   477 print "Starting "
   478 print __fn4_time_left
   479 print " secs, req "
-    * print __fn4_charge_req
+  480 print __fn3retval
   481 print "J\n"
   482 label __label87
   483 jump __label84 always

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-12 instructions):
 
    55 setaddr __fn2retaddr __label10
    56 call __label2 __fn2retval
    57 gotolabel __label10 __fn2
-    * set emerg_shutdown __fn2retval
    58 label __label11
    59 op notEqual __tmp9 switch1 null
    60 sensor __tmp10 switch1 @enabled
 
    82 setaddr __fn3retaddr __label16
    83 call __label3 __fn3retval
    84 gotolabel __label16 __fn3
-    * set __tmp16 __fn3retval
    85 op add START_POWER_REQ START_POWER_REQ __fn3retval
    86 set __fn3_reactor reactor3
    87 set __fn3_time t_startup3
    88 setaddr __fn3retaddr __label17
    89 call __label3 __fn3retval
    90 gotolabel __label17 __fn3
-    * set __tmp18 __fn3retval
    91 op add START_POWER_REQ START_POWER_REQ __fn3retval
    92 set __fn3_reactor reactor4
    93 set __fn3_time t_startup4
    94 setaddr __fn3retaddr __label18
    95 call __label3 __fn3retval
    96 gotolabel __label18 __fn3
-    * set __tmp20 __fn3retval
    97 op add START_POWER_REQ START_POWER_REQ __fn3retval
    98 set __fn3_reactor reactor5
    99 set __fn3_time t_startup5
   100 setaddr __fn3retaddr __label19
   101 call __label3 __fn3retval
   102 gotolabel __label19 __fn3
-    * set __tmp22 __fn3retval
   103 op add START_POWER_REQ START_POWER_REQ __fn3retval
   104 set __fn4_reactor reactor1
   105 set __fn4_reactor_num 1
 
   137 setaddr __fn2retaddr __label24
   138 call __label2 __fn2retval
   139 gotolabel __label24 __fn2
-    * set __tmp28 __fn2retval
   140 op or emerg_shutdown emerg_shutdown __fn2retval
   141 set __fn4_reactor reactor3
   142 set __fn4_reactor_num 3
 
   179 op or __tmp36 fuel_1 fuel_2
   180 op or __tmp37 __tmp36 fuel_many
   181 label __label29
-    * set __fn6_reactors_fueled __tmp37
-    * set __fn6_emerg_shutdown emerg_shutdown
   182 sensor __tmp39 NODE @powerNetStored
   183 op floor __fn6_charge __tmp39
   184 sensor __tmp41 NODE @powerNetIn
 
   225 op lessThan __tmp38 __fn6_fuel_stored __fn6_limit
   226 jump __label30 always
   227 label __label30
-    * set feed_mixers __tmp38
   228 set __tmp55 FUEL_OFF
   229 jump __label38 equal __tmp38 false
   230 set __tmp55 MIXER_IN
 
   263 setaddr __fn0retaddr __label47
   264 call __label0 __fn0retval
   265 gotolabel __label47 __fn0
-    * set req __fn0retval
   266 print "Req "
   267 print __fn0retval
   268 print "kJ / "
 
   361 control enabled reactor5 false
   362 set __fn2retval true
   363 jump __label64 always
-    * set __tmp102 null
   364 jump __label66 always
   365 label __label65
   366 control enabled projector1 false
 
   451 setaddr __fn3retaddr __label85
   452 call __label3 __fn3retval
   453 gotolabel __label85 __fn3
-    * set __fn4_charge_req __fn3retval
   454 op sub __tmp144 __fn4_charge __fn3retval
   455 op lessThan __tmp145 __tmp144 PWR_ABORT
   456 op lessThan __tmp146 __fn4_surplus FLOW_ABORT

Modifications by Function Inlining: inline function kilo:
 
   249 label __label42
   250 label __label40
   251 set __fn0_val AVG_SURPLUS
-    * setaddr __fn0retaddr __label43
-    * call __label0 __fn0retval
-    * gotolabel __label43 __fn0
+  252 label __label104
+  253 op idiv __tmp95 __fn0_val 100
+  254 op div __fn0retval __tmp95 10
+  255 jump __label105 always
+  256 set __fn0retval null
+  257 label __label105
   258 set surplus __fn0retval
   259 sensor __fn0_val NODE @powerNetStored
-    * setaddr __fn0retaddr __label44
-    * call __label0 __fn0retval
-    * gotolabel __label44 __fn0
+  260 label __label106
+  261 op idiv __tmp95 __fn0_val 100
+  262 op div __fn0retval __tmp95 10
+  263 jump __label107 always
+  264 set __fn0retval null
+  265 label __label107
   266 set charge __fn0retval
   267 jump __label45 lessThanEq START_POWER_REQ 0
   268 set __fn0_val START_POWER_REQ
-    * setaddr __fn0retaddr __label47
-    * call __label0 __fn0retval
-    * gotolabel __label47 __fn0
+  269 label __label108
+  270 op idiv __tmp95 __fn0_val 100
+  271 op div __fn0retval __tmp95 10
+  272 jump __label109 always
+  273 set __fn0retval null
+  274 label __label109
   275 print "Req "
   276 print __fn0retval
   277 print "kJ / "
 
   327 jump __label7 always
   328 label __label9
   329 end
-    * label __label0
-    * op idiv __tmp95 __fn0_val 100
-    * op div __fn0retval __tmp95 10
-    * jump __label58 always
-    * set __fn0retval null
-    * label __label58
-    * goto __fn0retaddr __fn0
-    * end
   330 label __label1
   331 set __tmp97 FUEL_OFF
   332 jump __label61 equal __fn1_fuel false

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-3 instructions):
 
   250 label __label40
   251 set __fn0_val AVG_SURPLUS
   252 label __label104
-    * op idiv __tmp95 __fn0_val 100
+  253 op idiv __tmp95 AVG_SURPLUS 100
   254 op div __fn0retval __tmp95 10
   255 jump __label105 always
-    * set __fn0retval null
   256 label __label105
   257 set surplus __fn0retval
   258 sensor __fn0_val NODE @powerNetStored
 
   260 op idiv __tmp95 __fn0_val 100
   261 op div __fn0retval __tmp95 10
   262 jump __label107 always
-    * set __fn0retval null
   263 label __label107
   264 set charge __fn0retval
   265 jump __label45 lessThanEq START_POWER_REQ 0
   266 set __fn0_val START_POWER_REQ
   267 label __label108
-    * op idiv __tmp95 __fn0_val 100
+  268 op idiv __tmp95 START_POWER_REQ 100
   269 op div __fn0retval __tmp95 10
   270 jump __label109 always
-    * set __fn0retval null
   271 label __label109
   272 print "Req "
   273 print __fn0retval

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-2 instructions):
 
   248 control enabled generator2 true
   249 label __label42
   250 label __label40
-    * set __fn0_val AVG_SURPLUS
   251 label __label104
   252 op idiv __tmp95 AVG_SURPLUS 100
   253 op div __fn0retval __tmp95 10
 
   262 label __label107
   263 set charge __fn0retval
   264 jump __label45 lessThanEq START_POWER_REQ 0
-    * set __fn0_val START_POWER_REQ
   265 label __label108
   266 op idiv __tmp95 START_POWER_REQ 100
   267 op div __fn0retval __tmp95 10

Modifications by Function Inlining: inline function update_fuel (+12 instructions):
 
   114 set __fn1_fuel __fn4retval
   115 set __fn1_uld_in ULD_IN_1
   116 set __fn1_uld_out ULD_OUT_1
-    * setaddr __fn1retaddr __label21
-    * call __label1 __fn1retval
-    * gotolabel __label21 __fn1
+  117 label __label110
+  118 set __tmp97 FUEL_OFF
+  119 jump __label111 equal __fn1_fuel false
+  120 set __tmp97 FUEL
+  121 jump __label111 always
+  122 label __label111
+  123 control config __fn1_uld_in __tmp97
+  124 set __tmp99 FUEL_OFF
+  125 jump __label112 notEqual __fn1_fuel false
+  126 set __tmp99 FUEL
+  127 jump __label112 always
+  128 label __label112
+  129 control config __fn1_uld_out __tmp99
+  130 label __label113
   131 set __fn4_reactor reactor2
   132 set __fn4_reactor_num 2
   133 set __fn4_emerg_shutdown emerg_shutdown
 
   141 set __fn1_fuel __fn4retval
   142 set __fn1_uld_in ULD_IN_2
   143 set __fn1_uld_out ULD_OUT_2
-    * setaddr __fn1retaddr __label23
-    * call __label1 __fn1retval
-    * gotolabel __label23 __fn1
+  144 label __label114
+  145 set __tmp97 FUEL_OFF
+  146 jump __label115 equal __fn1_fuel false
+  147 set __tmp97 FUEL
+  148 jump __label115 always
+  149 label __label115
+  150 control config __fn1_uld_in __tmp97
+  151 set __tmp99 FUEL_OFF
+  152 jump __label116 notEqual __fn1_fuel false
+  153 set __tmp99 FUEL
+  154 jump __label116 always
+  155 label __label116
+  156 control config __fn1_uld_out __tmp99
+  157 label __label117
   158 set __fn2_unit TOWER
   159 setaddr __fn2retaddr __label24
   160 call __label2 __fn2retval
 
   195 set __fn1_fuel fuel_many
   196 set __fn1_uld_in ULD_IN_MANY
   197 set __fn1_uld_out ULD_OUT_MANY
-    * setaddr __fn1retaddr __label28
-    * call __label1 __fn1retval
-    * gotolabel __label28 __fn1
+  198 label __label118
+  199 set __tmp97 FUEL_OFF
+  200 jump __label119 equal __fn1_fuel false
+  201 set __tmp97 FUEL
+  202 jump __label119 always
+  203 label __label119
+  204 control config __fn1_uld_in __tmp97
+  205 set __tmp99 FUEL_OFF
+  206 jump __label120 notEqual __fn1_fuel false
+  207 set __tmp99 FUEL
+  208 jump __label120 always
+  209 label __label120
+  210 control config __fn1_uld_out __tmp99
+  211 label __label121
   212 op or __tmp36 fuel_1 fuel_2
   213 op or __tmp37 __tmp36 fuel_many
   214 label __label29
 
   355 jump __label7 always
   356 label __label9
   357 end
-    * label __label1
-    * set __tmp97 FUEL_OFF
-    * jump __label61 equal __fn1_fuel false
-    * set __tmp97 FUEL
-    * jump __label61 always
-    * label __label61
-    * control config __fn1_uld_in __tmp97
-    * set __tmp99 FUEL_OFF
-    * jump __label63 notEqual __fn1_fuel false
-    * set __tmp99 FUEL
-    * jump __label63 always
-    * label __label63
-    * control config __fn1_uld_out __tmp99
-    * label __label59
-    * goto __fn1retaddr __fn1
-    * end
   358 label __label2
   359 radar enemy any any health __fn2_unit 1 __fn2_enemy_found
   360 jump __label65 equal __fn2_enemy_found null

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   116 set __fn1_uld_out ULD_OUT_1
   117 label __label110
   118 set __tmp97 FUEL_OFF
-    * jump __label111 equal __fn1_fuel false
+  119 jump __label111 equal __fn4retval false
   120 set __tmp97 FUEL
   121 jump __label111 always
   122 label __label111
-    * control config __fn1_uld_in __tmp97
+  123 control config ULD_IN_1 __tmp97
   124 set __tmp99 FUEL_OFF
-    * jump __label112 notEqual __fn1_fuel false
+  125 jump __label112 notEqual __fn4retval false
   126 set __tmp99 FUEL
   127 jump __label112 always
   128 label __label112
-    * control config __fn1_uld_out __tmp99
+  129 control config ULD_OUT_1 __tmp99
   130 label __label113
   131 set __fn4_reactor reactor2
   132 set __fn4_reactor_num 2
 
   143 set __fn1_uld_out ULD_OUT_2
   144 label __label114
   145 set __tmp97 FUEL_OFF
-    * jump __label115 equal __fn1_fuel false
+  146 jump __label115 equal __fn4retval false
   147 set __tmp97 FUEL
   148 jump __label115 always
   149 label __label115
-    * control config __fn1_uld_in __tmp97
+  150 control config ULD_IN_2 __tmp97
   151 set __tmp99 FUEL_OFF
-    * jump __label116 notEqual __fn1_fuel false
+  152 jump __label116 notEqual __fn4retval false
   153 set __tmp99 FUEL
   154 jump __label116 always
   155 label __label116
-    * control config __fn1_uld_out __tmp99
+  156 control config ULD_OUT_2 __tmp99
   157 label __label117
   158 set __fn2_unit TOWER
   159 setaddr __fn2retaddr __label24
 
   197 set __fn1_uld_out ULD_OUT_MANY
   198 label __label118
   199 set __tmp97 FUEL_OFF
-    * jump __label119 equal __fn1_fuel false
+  200 jump __label119 equal fuel_many false
   201 set __tmp97 FUEL
   202 jump __label119 always
   203 label __label119
-    * control config __fn1_uld_in __tmp97
+  204 control config ULD_IN_MANY __tmp97
   205 set __tmp99 FUEL_OFF
-    * jump __label120 notEqual __fn1_fuel false
+  206 jump __label120 notEqual fuel_many false
   207 set __tmp99 FUEL
   208 jump __label120 always
   209 label __label120
-    * control config __fn1_uld_out __tmp99
+  210 control config ULD_OUT_MANY __tmp99
   211 label __label121
   212 op or __tmp36 fuel_1 fuel_2
   213 op or __tmp37 __tmp36 fuel_many

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-9 instructions):
 
   111 gotolabel __label20 __fn4
   112 set fuel_1 __fn4retval
   113 set t_startup1 RET_T_STARTUP
-    * set __fn1_fuel __fn4retval
-    * set __fn1_uld_in ULD_IN_1
-    * set __fn1_uld_out ULD_OUT_1
   114 label __label110
   115 set __tmp97 FUEL_OFF
   116 jump __label111 equal __fn4retval false
 
   135 gotolabel __label22 __fn4
   136 set fuel_2 __fn4retval
   137 set t_startup2 RET_T_STARTUP
-    * set __fn1_fuel __fn4retval
-    * set __fn1_uld_in ULD_IN_2
-    * set __fn1_uld_out ULD_OUT_2
   138 label __label114
   139 set __tmp97 FUEL_OFF
   140 jump __label115 equal __fn4retval false
 
   186 set t_startup5 RET_T_STARTUP
   187 op or __tmp33 fuel_3 fuel_4
   188 op or fuel_many __tmp33 __fn4retval
-    * set __fn1_fuel fuel_many
-    * set __fn1_uld_in ULD_IN_MANY
-    * set __fn1_uld_out ULD_OUT_MANY
   189 label __label118
   190 set __tmp97 FUEL_OFF
   191 jump __label119 equal fuel_many false

Modifications by Function Inlining: inline function check_radar (+18 instructions):
 
    52 set CONTAINER vault1
    53 set NODE node1
    54 set __fn2_unit TOWER
-    * setaddr __fn2retaddr __label10
-    * call __label2 __fn2retval
-    * gotolabel __label10 __fn2
+   55 label __label122
+   56 radar enemy any any health __fn2_unit 1 __fn2_enemy_found
+   57 jump __label123 equal __fn2_enemy_found null
+   58 control enabled projector1 true
+   59 control enabled projector2 true
+   60 control config ULD_IN_1 FUEL_OFF
+   61 control config ULD_OUT_1 FUEL
+   62 control config ULD_IN_2 FUEL_OFF
+   63 control config ULD_OUT_2 FUEL
+   64 control config ULD_IN_MANY FUEL_OFF
+   65 control config ULD_OUT_MANY FUEL
+   66 control config ULD_MIXER FUEL_OFF
+   67 control enabled reactor1 false
+   68 control enabled reactor2 false
+   69 control enabled reactor3 false
+   70 control enabled reactor4 false
+   71 control enabled reactor5 false
+   72 set __fn2retval true
+   73 jump __label125 always
+   74 jump __label124 always
+   75 label __label123
+   76 control enabled projector1 false
+   77 control enabled projector2 false
+   78 set __fn2retval false
+   79 jump __label125 always
+   80 label __label124
+   81 set __fn2retval null
+   82 label __label125
    83 label __label11
    84 op notEqual __tmp9 switch1 null
    85 sensor __tmp10 switch1 @enabled
 
   175 control config ULD_OUT_2 __tmp99
   176 label __label117
   177 set __fn2_unit TOWER
-    * setaddr __fn2retaddr __label24
-    * call __label2 __fn2retval
-    * gotolabel __label24 __fn2
+  178 label __label126
+  179 radar enemy any any health __fn2_unit 1 __fn2_enemy_found
+  180 jump __label127 equal __fn2_enemy_found null
+  181 control enabled projector1 true
+  182 control enabled projector2 true
+  183 control config ULD_IN_1 FUEL_OFF
+  184 control config ULD_OUT_1 FUEL
+  185 control config ULD_IN_2 FUEL_OFF
+  186 control config ULD_OUT_2 FUEL
+  187 control config ULD_IN_MANY FUEL_OFF
+  188 control config ULD_OUT_MANY FUEL
+  189 control config ULD_MIXER FUEL_OFF
+  190 control enabled reactor1 false
+  191 control enabled reactor2 false
+  192 control enabled reactor3 false
+  193 control enabled reactor4 false
+  194 control enabled reactor5 false
+  195 set __fn2retval true
+  196 jump __label129 always
+  197 jump __label128 always
+  198 label __label127
+  199 control enabled projector1 false
+  200 control enabled projector2 false
+  201 set __fn2retval false
+  202 jump __label129 always
+  203 label __label128
+  204 set __fn2retval null
+  205 label __label129
   206 op or emerg_shutdown emerg_shutdown __fn2retval
   207 set __fn4_reactor reactor3
   208 set __fn4_reactor_num 3
 
   396 jump __label7 always
   397 label __label9
   398 end
-    * label __label2
-    * radar enemy any any health __fn2_unit 1 __fn2_enemy_found
-    * jump __label65 equal __fn2_enemy_found null
-    * control enabled projector1 true
-    * control enabled projector2 true
-    * control config ULD_IN_1 FUEL_OFF
-    * control config ULD_OUT_1 FUEL
-    * control config ULD_IN_2 FUEL_OFF
-    * control config ULD_OUT_2 FUEL
-    * control config ULD_IN_MANY FUEL_OFF
-    * control config ULD_OUT_MANY FUEL
-    * control config ULD_MIXER FUEL_OFF
-    * control enabled reactor1 false
-    * control enabled reactor2 false
-    * control enabled reactor3 false
-    * control enabled reactor4 false
-    * control enabled reactor5 false
-    * set __fn2retval true
-    * jump __label64 always
-    * jump __label66 always
-    * label __label65
-    * control enabled projector1 false
-    * control enabled projector2 false
-    * set __fn2retval false
-    * jump __label64 always
-    * label __label66
-    * set __fn2retval null
-    * label __label64
-    * goto __fn2retaddr __fn2
-    * end
   399 label __label3
   400 op sub __tmp103 @tick __fn3_time
   401 op idiv __fn3_secs __tmp103 60

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-2 instructions):
 
    53 set NODE node1
    54 set __fn2_unit TOWER
    55 label __label122
-    * radar enemy any any health __fn2_unit 1 __fn2_enemy_found
+   56 radar enemy any any health TOWER 1 __fn2_enemy_found
    57 jump __label123 equal __fn2_enemy_found null
    58 control enabled projector1 true
    59 control enabled projector2 true
 
    78 set __fn2retval false
    79 jump __label125 always
    80 label __label124
-    * set __fn2retval null
    81 label __label125
    82 label __label11
    83 op notEqual __tmp9 switch1 null
 
   175 label __label117
   176 set __fn2_unit TOWER
   177 label __label126
-    * radar enemy any any health __fn2_unit 1 __fn2_enemy_found
+  178 radar enemy any any health TOWER 1 __fn2_enemy_found
   179 jump __label127 equal __fn2_enemy_found null
   180 control enabled projector1 true
   181 control enabled projector2 true
 
   200 set __fn2retval false
   201 jump __label129 always
   202 label __label128
-    * set __fn2retval null
   203 label __label129
   204 op or emerg_shutdown emerg_shutdown __fn2retval
   205 set __fn4_reactor reactor3

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-2 instructions):
 
    51 set TOWER cyclone1
    52 set CONTAINER vault1
    53 set NODE node1
-    * set __fn2_unit TOWER
    54 label __label122
    55 radar enemy any any health TOWER 1 __fn2_enemy_found
    56 jump __label123 equal __fn2_enemy_found null
 
   172 label __label116
   173 control config ULD_OUT_2 __tmp99
   174 label __label117
-    * set __fn2_unit TOWER
   175 label __label126
   176 radar enemy any any health TOWER 1 __fn2_enemy_found
   177 jump __label127 equal __fn2_enemy_found null

Modifications by Function Inlining: inline function calc_charge_req (+61 instructions):
 
    96 op or emerg_shutdown __fn2retval __tmp8
    97 set __fn3_reactor reactor1
    98 set __fn3_time t_startup1
-    * setaddr __fn3retaddr __label15
-    * call __label3 __fn3retval
-    * gotolabel __label15 __fn3
+   99 label __label130
+  100 op sub __tmp103 @tick __fn3_time
+  101 op idiv __fn3_secs __tmp103 60
+  102 op greaterThan __tmp105 __fn3_secs 30
+  103 sensor __tmp106 __fn3_reactor @enabled
+  104 op equal __tmp107 __tmp106 false
+  105 op or __tmp108 __tmp105 __tmp107
+  106 jump __label131 equal __tmp108 false
+  107 set __fn3retval 0
+  108 jump __label133 always
+  109 label __label131
+  110 label __label132
+  111 op sub __fn3_time_left 30 __fn3_secs
+  112 op mul __tmp111 __fn3_time_left __fn3_time_left
+  113 op idiv __fn3_charge_req __tmp111 0.04
+  114 set __fn3retval __fn3_charge_req
+  115 jump __label133 always
+  116 set __fn3retval null
+  117 label __label133
   118 set START_POWER_REQ __fn3retval
   119 set __fn3_reactor reactor2
   120 set __fn3_time t_startup2
-    * setaddr __fn3retaddr __label16
-    * call __label3 __fn3retval
-    * gotolabel __label16 __fn3
+  121 label __label134
+  122 op sub __tmp103 @tick __fn3_time
+  123 op idiv __fn3_secs __tmp103 60
+  124 op greaterThan __tmp105 __fn3_secs 30
+  125 sensor __tmp106 __fn3_reactor @enabled
+  126 op equal __tmp107 __tmp106 false
+  127 op or __tmp108 __tmp105 __tmp107
+  128 jump __label135 equal __tmp108 false
+  129 set __fn3retval 0
+  130 jump __label137 always
+  131 label __label135
+  132 label __label136
+  133 op sub __fn3_time_left 30 __fn3_secs
+  134 op mul __tmp111 __fn3_time_left __fn3_time_left
+  135 op idiv __fn3_charge_req __tmp111 0.04
+  136 set __fn3retval __fn3_charge_req
+  137 jump __label137 always
+  138 set __fn3retval null
+  139 label __label137
   140 op add START_POWER_REQ START_POWER_REQ __fn3retval
   141 set __fn3_reactor reactor3
   142 set __fn3_time t_startup3
-    * setaddr __fn3retaddr __label17
-    * call __label3 __fn3retval
-    * gotolabel __label17 __fn3
+  143 label __label138
+  144 op sub __tmp103 @tick __fn3_time
+  145 op idiv __fn3_secs __tmp103 60
+  146 op greaterThan __tmp105 __fn3_secs 30
+  147 sensor __tmp106 __fn3_reactor @enabled
+  148 op equal __tmp107 __tmp106 false
+  149 op or __tmp108 __tmp105 __tmp107
+  150 jump __label139 equal __tmp108 false
+  151 set __fn3retval 0
+  152 jump __label141 always
+  153 label __label139
+  154 label __label140
+  155 op sub __fn3_time_left 30 __fn3_secs
+  156 op mul __tmp111 __fn3_time_left __fn3_time_left
+  157 op idiv __fn3_charge_req __tmp111 0.04
+  158 set __fn3retval __fn3_charge_req
+  159 jump __label141 always
+  160 set __fn3retval null
+  161 label __label141
   162 op add START_POWER_REQ START_POWER_REQ __fn3retval
   163 set __fn3_reactor reactor4
   164 set __fn3_time t_startup4
-    * setaddr __fn3retaddr __label18
-    * call __label3 __fn3retval
-    * gotolabel __label18 __fn3
+  165 label __label142
+  166 op sub __tmp103 @tick __fn3_time
+  167 op idiv __fn3_secs __tmp103 60
+  168 op greaterThan __tmp105 __fn3_secs 30
+  169 sensor __tmp106 __fn3_reactor @enabled
+  170 op equal __tmp107 __tmp106 false
+  171 op or __tmp108 __tmp105 __tmp107
+  172 jump __label143 equal __tmp108 false
+  173 set __fn3retval 0
+  174 jump __label145 always
+  175 label __label143
+  176 label __label144
+  177 op sub __fn3_time_left 30 __fn3_secs
+  178 op mul __tmp111 __fn3_time_left __fn3_time_left
+  179 op idiv __fn3_charge_req __tmp111 0.04
+  180 set __fn3retval __fn3_charge_req
+  181 jump __label145 always
+  182 set __fn3retval null
+  183 label __label145
   184 op add START_POWER_REQ START_POWER_REQ __fn3retval
   185 set __fn3_reactor reactor5
   186 set __fn3_time t_startup5
-    * setaddr __fn3retaddr __label19
-    * call __label3 __fn3retval
-    * gotolabel __label19 __fn3
+  187 label __label146
+  188 op sub __tmp103 @tick __fn3_time
+  189 op idiv __fn3_secs __tmp103 60
+  190 op greaterThan __tmp105 __fn3_secs 30
+  191 sensor __tmp106 __fn3_reactor @enabled
+  192 op equal __tmp107 __tmp106 false
+  193 op or __tmp108 __tmp105 __tmp107
+  194 jump __label147 equal __tmp108 false
+  195 set __fn3retval 0
+  196 jump __label149 always
+  197 label __label147
+  198 label __label148
+  199 op sub __fn3_time_left 30 __fn3_secs
+  200 op mul __tmp111 __fn3_time_left __fn3_time_left
+  201 op idiv __fn3_charge_req __tmp111 0.04
+  202 set __fn3retval __fn3_charge_req
+  203 jump __label149 always
+  204 set __fn3retval null
+  205 label __label149
   206 op add START_POWER_REQ START_POWER_REQ __fn3retval
   207 set __fn4_reactor reactor1
   208 set __fn4_reactor_num 1
 
   472 jump __label7 always
   473 label __label9
   474 end
-    * label __label3
-    * op sub __tmp103 @tick __fn3_time
-    * op idiv __fn3_secs __tmp103 60
-    * op greaterThan __tmp105 __fn3_secs 30
-    * sensor __tmp106 __fn3_reactor @enabled
-    * op equal __tmp107 __tmp106 false
-    * op or __tmp108 __tmp105 __tmp107
-    * jump __label68 equal __tmp108 false
-    * set __fn3retval 0
-    * jump __label67 always
-    * label __label68
-    * label __label69
-    * op sub __fn3_time_left 30 __fn3_secs
-    * op mul __tmp111 __fn3_time_left __fn3_time_left
-    * op idiv __fn3_charge_req __tmp111 0.04
-    * set __fn3retval __fn3_charge_req
-    * jump __label67 always
-    * set __fn3retval null
-    * label __label67
-    * goto __fn3retaddr __fn3
-    * end
   475 label __label4
   476 set RET_T_STARTUP __fn4_t_startup
   477 op sub __tmp114 @tick __fn4_t_startup
 
   527 jump __label83 greaterThanEq __fn4_secs 30
   528 set __fn3_reactor __fn4_reactor
   529 set __fn3_time __fn4_t_startup
-    * setaddr __fn3retaddr __label85
-    * call __label3 __fn3retval
-    * gotolabel __label85 __fn3
+  530 label __label150
+  531 op sub __tmp103 @tick __fn3_time
+  532 op idiv __fn3_secs __tmp103 60
+  533 op greaterThan __tmp105 __fn3_secs 30
+  534 sensor __tmp106 __fn3_reactor @enabled
+  535 op equal __tmp107 __tmp106 false
+  536 op or __tmp108 __tmp105 __tmp107
+  537 jump __label151 equal __tmp108 false
+  538 set __fn3retval 0
+  539 jump __label153 always
+  540 label __label151
+  541 label __label152
+  542 op sub __fn3_time_left 30 __fn3_secs
+  543 op mul __tmp111 __fn3_time_left __fn3_time_left
+  544 op idiv __fn3_charge_req __tmp111 0.04
+  545 set __fn3retval __fn3_charge_req
+  546 jump __label153 always
+  547 set __fn3retval null
+  548 label __label153
   549 op sub __tmp144 __fn4_charge __fn3retval
   550 op lessThan __tmp145 __tmp144 PWR_ABORT
   551 op lessThan __tmp146 __fn4_surplus FLOW_ABORT

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-6 instructions):
 
    97 set __fn3_reactor reactor1
    98 set __fn3_time t_startup1
    99 label __label130
-    * op sub __tmp103 @tick __fn3_time
+  100 op sub __tmp103 @tick t_startup1
   101 op idiv __fn3_secs __tmp103 60
   102 op greaterThan __tmp105 __fn3_secs 30
-    * sensor __tmp106 __fn3_reactor @enabled
+  103 sensor __tmp106 reactor1 @enabled
   104 op equal __tmp107 __tmp106 false
   105 op or __tmp108 __tmp105 __tmp107
   106 jump __label131 equal __tmp108 false
 
   113 op idiv __fn3_charge_req __tmp111 0.04
   114 set __fn3retval __fn3_charge_req
   115 jump __label133 always
-    * set __fn3retval null
   116 label __label133
   117 set START_POWER_REQ __fn3retval
   118 set __fn3_reactor reactor2
   119 set __fn3_time t_startup2
   120 label __label134
-    * op sub __tmp103 @tick __fn3_time
+  121 op sub __tmp103 @tick t_startup2
   122 op idiv __fn3_secs __tmp103 60
   123 op greaterThan __tmp105 __fn3_secs 30
-    * sensor __tmp106 __fn3_reactor @enabled
+  124 sensor __tmp106 reactor2 @enabled
   125 op equal __tmp107 __tmp106 false
   126 op or __tmp108 __tmp105 __tmp107
   127 jump __label135 equal __tmp108 false
 
   134 op idiv __fn3_charge_req __tmp111 0.04
   135 set __fn3retval __fn3_charge_req
   136 jump __label137 always
-    * set __fn3retval null
   137 label __label137
   138 op add START_POWER_REQ START_POWER_REQ __fn3retval
   139 set __fn3_reactor reactor3
   140 set __fn3_time t_startup3
   141 label __label138
-    * op sub __tmp103 @tick __fn3_time
+  142 op sub __tmp103 @tick t_startup3
   143 op idiv __fn3_secs __tmp103 60
   144 op greaterThan __tmp105 __fn3_secs 30
-    * sensor __tmp106 __fn3_reactor @enabled
+  145 sensor __tmp106 reactor3 @enabled
   146 op equal __tmp107 __tmp106 false
   147 op or __tmp108 __tmp105 __tmp107
   148 jump __label139 equal __tmp108 false
 
   155 op idiv __fn3_charge_req __tmp111 0.04
   156 set __fn3retval __fn3_charge_req
   157 jump __label141 always
-    * set __fn3retval null
   158 label __label141
   159 op add START_POWER_REQ START_POWER_REQ __fn3retval
   160 set __fn3_reactor reactor4
   161 set __fn3_time t_startup4
   162 label __label142
-    * op sub __tmp103 @tick __fn3_time
+  163 op sub __tmp103 @tick t_startup4
   164 op idiv __fn3_secs __tmp103 60
   165 op greaterThan __tmp105 __fn3_secs 30
-    * sensor __tmp106 __fn3_reactor @enabled
+  166 sensor __tmp106 reactor4 @enabled
   167 op equal __tmp107 __tmp106 false
   168 op or __tmp108 __tmp105 __tmp107
   169 jump __label143 equal __tmp108 false
 
   176 op idiv __fn3_charge_req __tmp111 0.04
   177 set __fn3retval __fn3_charge_req
   178 jump __label145 always
-    * set __fn3retval null
   179 label __label145
   180 op add START_POWER_REQ START_POWER_REQ __fn3retval
   181 set __fn3_reactor reactor5
   182 set __fn3_time t_startup5
   183 label __label146
-    * op sub __tmp103 @tick __fn3_time
+  184 op sub __tmp103 @tick t_startup5
   185 op idiv __fn3_secs __tmp103 60
   186 op greaterThan __tmp105 __fn3_secs 30
-    * sensor __tmp106 __fn3_reactor @enabled
+  187 sensor __tmp106 reactor5 @enabled
   188 op equal __tmp107 __tmp106 false
   189 op or __tmp108 __tmp105 __tmp107
   190 jump __label147 equal __tmp108 false
 
   197 op idiv __fn3_charge_req __tmp111 0.04
   198 set __fn3retval __fn3_charge_req
   199 jump __label149 always
-    * set __fn3retval null
   200 label __label149
   201 op add START_POWER_REQ START_POWER_REQ __fn3retval
   202 set __fn4_reactor reactor1
 
   523 set __fn3_reactor __fn4_reactor
   524 set __fn3_time __fn4_t_startup
   525 label __label150
-    * op sub __tmp103 @tick __fn3_time
+  526 op sub __tmp103 @tick __fn4_t_startup
   527 op idiv __fn3_secs __tmp103 60
   528 op greaterThan __tmp105 __fn3_secs 30
-    * sensor __tmp106 __fn3_reactor @enabled
+  529 sensor __tmp106 __fn4_reactor @enabled
   530 op equal __tmp107 __tmp106 false
   531 op or __tmp108 __tmp105 __tmp107
   532 jump __label151 equal __tmp108 false
 
   539 op idiv __fn3_charge_req __tmp111 0.04
   540 set __fn3retval __fn3_charge_req
   541 jump __label153 always
-    * set __fn3retval null
   542 label __label153
   543 op sub __tmp144 __fn4_charge __fn3retval
   544 op lessThan __tmp145 __tmp144 PWR_ABORT

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-12 instructions):
 
    94 jump __label12 always
    95 label __label12
    96 op or emerg_shutdown __fn2retval __tmp8
-    * set __fn3_reactor reactor1
-    * set __fn3_time t_startup1
    97 label __label130
    98 op sub __tmp103 @tick t_startup1
    99 op idiv __fn3_secs __tmp103 60
 
   113 jump __label133 always
   114 label __label133
   115 set START_POWER_REQ __fn3retval
-    * set __fn3_reactor reactor2
-    * set __fn3_time t_startup2
   116 label __label134
   117 op sub __tmp103 @tick t_startup2
   118 op idiv __fn3_secs __tmp103 60
 
   132 jump __label137 always
   133 label __label137
   134 op add START_POWER_REQ START_POWER_REQ __fn3retval
-    * set __fn3_reactor reactor3
-    * set __fn3_time t_startup3
   135 label __label138
   136 op sub __tmp103 @tick t_startup3
   137 op idiv __fn3_secs __tmp103 60
 
   151 jump __label141 always
   152 label __label141
   153 op add START_POWER_REQ START_POWER_REQ __fn3retval
-    * set __fn3_reactor reactor4
-    * set __fn3_time t_startup4
   154 label __label142
   155 op sub __tmp103 @tick t_startup4
   156 op idiv __fn3_secs __tmp103 60
 
   170 jump __label145 always
   171 label __label145
   172 op add START_POWER_REQ START_POWER_REQ __fn3retval
-    * set __fn3_reactor reactor5
-    * set __fn3_time t_startup5
   173 label __label146
   174 op sub __tmp103 @tick t_startup5
   175 op idiv __fn3_secs __tmp103 60
 
   510 jump __label82 always
   511 label __label81
   512 jump __label83 greaterThanEq __fn4_secs 30
-    * set __fn3_reactor __fn4_reactor
-    * set __fn3_time __fn4_t_startup
   513 label __label150
   514 op sub __tmp103 @tick __fn4_t_startup
   515 op idiv __fn3_secs __tmp103 60

Modifications by Function Inlining: inline function call at line 80 (+139 instructions):
 
   194 set __fn4_emerg_shutdown emerg_shutdown
   195 set __fn4_fuel_on fuel_1
   196 set __fn4_t_startup t_startup1
-    * setaddr __fn4retaddr __label20
-    * call __label4 __fn4retval
-    * gotolabel __label20 __fn4
+  197 label __label154
+  198 set RET_T_STARTUP __fn4_t_startup
+  199 op sub __tmp114 @tick __fn4_t_startup
+  200 op idiv __fn4_secs __tmp114 60
+  201 sensor __fn4_fuel __fn4_reactor @blast-compound
+  202 set __fn4_supply_fuel true
+  203 sensor __fn4_fuel_stored CONTAINER @blast-compound
+  204 sensor __fn4_cryo __fn4_reactor @cryofluid
+  205 sensor __tmp119 NODE @powerNetStored
+  206 op floor __fn4_charge __tmp119
+  207 sensor __tmp121 NODE @powerNetIn
+  208 sensor __tmp122 NODE @powerNetOut
+  209 op sub __tmp123 __tmp121 __tmp122
+  210 op floor __fn4_surplus __tmp123
+  211 op mul __tmp125 AVG_SURPLUS 0.8
+  212 op mul __tmp126 __fn4_surplus 0.2
+  213 op add AVG_SURPLUS __tmp125 __tmp126
+  214 sensor __fn4_enabled __fn4_reactor @enabled
+  215 print "#"
+  216 print __fn4_reactor_num
+  217 print " - "
+  218 jump __label155 equal __fn4_emerg_shutdown false
+  219 control enabled __fn4_reactor false
+  220 print "emergency mode\n"
+  221 set __fn4_supply_fuel false
+  222 jump __label188 always
+  223 label __label155
+  224 jump __label174 equal __fn4_enabled false
+  225 jump __label156 greaterThanEq REACTORS_DESIRED __fn4_reactor_num
+  226 control enabled __fn4_reactor false
+  227 print "STOP unwanted\n"
+  228 jump __label173 always
+  229 label __label156
+  230 op greaterThan __tmp133 __fn4_reactor_num 1
+  231 op mul __tmp134 FUEL_TOT_ABORT __fn4_reactor_num
+  232 op lessThan __tmp135 __fn4_fuel_stored __tmp134
+  233 op land __tmp136 __tmp133 __tmp135
+  234 jump __label157 equal __tmp136 false
+  235 control enabled __fn4_reactor false
+  236 print "STOP system fuel low\n"
+  237 jump __label172 always
+  238 label __label157
+  239 jump __label158 greaterThan __fn4_fuel 1
+  240 control enabled __fn4_reactor false
+  241 print "STOP fuel low\n"
+  242 jump __label171 always
+  243 label __label158
+  244 jump __label159 greaterThan __fn4_cryo CRYO_ABORT
+  245 control enabled __fn4_reactor false
+  246 print "STOP out of cryo\n"
+  247 jump __label170 always
+  248 label __label159
+  249 jump __label166 greaterThanEq __fn4_secs 30
+  250 label __label160
+  251 op sub __tmp103 @tick __fn4_t_startup
+  252 op idiv __fn3_secs __tmp103 60
+  253 op greaterThan __tmp105 __fn3_secs 30
+  254 sensor __tmp106 __fn4_reactor @enabled
+  255 op equal __tmp107 __tmp106 false
+  256 op or __tmp108 __tmp105 __tmp107
+  257 jump __label161 equal __tmp108 false
+  258 set __fn3retval 0
+  259 jump __label163 always
+  260 label __label161
+  261 label __label162
+  262 op sub __fn3_time_left 30 __fn3_secs
+  263 op mul __tmp111 __fn3_time_left __fn3_time_left
+  264 op idiv __fn3_charge_req __tmp111 0.04
+  265 set __fn3retval __fn3_charge_req
+  266 jump __label163 always
+  267 label __label163
+  268 op sub __tmp144 __fn4_charge __fn3retval
+  269 op lessThan __tmp145 __tmp144 PWR_ABORT
+  270 op lessThan __tmp146 __fn4_surplus FLOW_ABORT
+  271 op land __tmp147 __tmp145 __tmp146
+  272 jump __label164 equal __tmp147 false
+  273 control enabled __fn4_reactor false
+  274 print "START FAIL battery\n"
+  275 set __fn4_supply_fuel false
+  276 jump __label165 always
+  277 label __label164
+  278 op sub __fn4_time_left 30 __fn4_secs
+  279 print "Starting "
+  280 print __fn4_time_left
+  281 print " secs, req "
+  282 print __fn3retval
+  283 print "J\n"
+  284 label __label165
+  285 jump __label169 always
+  286 label __label166
+  287 op lessThan __tmp150 __fn4_charge PWR_ABANDON
+  288 op lessThan __tmp151 __fn4_surplus FLOW_ABORT
+  289 op land __tmp152 __tmp150 __tmp151
+  290 jump __label167 equal __tmp152 false
+  291 control enabled __fn4_reactor false
+  292 print "ABANDON - battery crit\n"
+  293 set __fn4_supply_fuel false
+  294 jump __label168 always
+  295 label __label167
+  296 op idiv __fn4_mins __fn4_secs 6
+  297 op div __fn4_mins __fn4_mins 10
+  298 print "RUN "
+  299 print __fn4_mins
+  300 print " mins\n"
+  301 label __label168
+  302 label __label169
+  303 label __label170
+  304 label __label171
+  305 label __label172
+  306 label __label173
+  307 jump __label187 always
+  308 label __label174
+  309 op sub __tmp156 __fn4_charge START_POWER_REQ
+  310 op sub __tmp157 __tmp156 PWR_ABORT
+  311 op div __tmp158 __tmp157 PWR_REQ
+  312 op mul __fn4_charge_units __tmp158 PWR_RESERVE
+  313 op div __tmp160 __fn4_surplus FLOW_REQ
+  314 op max __fn4_flow_units -0.1 __tmp160
+  315 op mul __tmp162 CRYO_REQ_EA __fn4_reactor_num
+  316 op add __fn4_cryo_req CRYO_REQ __tmp162
+  317 jump __label175 greaterThanEq REACTORS_DESIRED __fn4_reactor_num
+  318 print "IDLE\n"
+  319 set __fn4_supply_fuel false
+  320 jump __label186 always
+  321 label __label175
+  322 op add __tmp166 __fn4_flow_units __fn4_charge_units
+  323 jump __label176 greaterThanEq __tmp166 1
+  324 op idiv __tmp170 __fn4_flow_units 0.001
+  325 op div __fn4_flow __tmp170 10
+  326 op idiv __tmp173 __fn4_charge_units 0.001
+  327 op div __fn4_charge __tmp173 10
+  328 print "WAIT power. (%"
+  329 print __fn4_charge
+  330 print "J + %"
+  331 print __fn4_flow
+  332 print "W)\n"
+  333 set __fn4_supply_fuel false
+  334 jump __label185 always
+  335 label __label176
+  336 op lessThan __tmp175 __fn4_fuel FUEL_REQ
+  337 op land __tmp176 __fn4_fuel_on __tmp175
+  338 jump __label179 equal __tmp176 false
+  339 op add __tmp178 __fn4_fuel __fn4_fuel_stored
+  340 jump __label177 lessThanEq __tmp178 FUEL_REQ
+  341 print "WAIT fuel\n"
+  342 jump __label178 always
+  343 label __label177
+  344 print "WAIT system fuel\n"
+  345 label __label178
+  346 jump __label184 always
+  347 label __label179
+  348 op mul __tmp181 FUEL_TOT_REQ __fn4_reactor_num
+  349 jump __label180 greaterThanEq __fn4_fuel_stored __tmp181
+  350 print "WAIT buffer fuel\n"
+  351 jump __label183 always
+  352 label __label180
+  353 jump __label181 greaterThanEq __fn4_cryo __fn4_cryo_req
+  354 print "WAIT cryo\n"
+  355 jump __label182 always
+  356 label __label181
+  357 print "STARTUP\n"
+  358 op add START_POWER_REQ START_POWER_REQ PWR_REQ
+  359 control enabled __fn4_reactor true
+  360 label __label182
+  361 label __label183
+  362 label __label184
+  363 label __label185
+  364 label __label186
+  365 label __label187
+  366 label __label188
+  367 sensor __tmp187 __fn4_reactor @enabled
+  368 jump __label189 equal __fn4_enabled __tmp187
+  369 set RET_T_STARTUP @tick
+  370 label __label189
+  371 label __label190
+  372 set __fn4retval __fn4_supply_fuel
+  373 jump __label191 always
+  374 set __fn4retval null
+  375 label __label191
   376 set fuel_1 __fn4retval
   377 set t_startup1 RET_T_STARTUP
   378 label __label110

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-1 instructions):
 
   195 set __fn4_fuel_on fuel_1
   196 set __fn4_t_startup t_startup1
   197 label __label154
-    * set RET_T_STARTUP __fn4_t_startup
-    * op sub __tmp114 @tick __fn4_t_startup
+  198 set RET_T_STARTUP t_startup1
+  199 op sub __tmp114 @tick t_startup1
   200 op idiv __fn4_secs __tmp114 60
-    * sensor __fn4_fuel __fn4_reactor @blast-compound
+  201 sensor __fn4_fuel reactor1 @blast-compound
   202 set __fn4_supply_fuel true
   203 sensor __fn4_fuel_stored CONTAINER @blast-compound
-    * sensor __fn4_cryo __fn4_reactor @cryofluid
+  204 sensor __fn4_cryo reactor1 @cryofluid
   205 sensor __tmp119 NODE @powerNetStored
   206 op floor __fn4_charge __tmp119
   207 sensor __tmp121 NODE @powerNetIn
 
   211 op mul __tmp125 AVG_SURPLUS 0.8
   212 op mul __tmp126 __fn4_surplus 0.2
   213 op add AVG_SURPLUS __tmp125 __tmp126
-    * sensor __fn4_enabled __fn4_reactor @enabled
+  214 sensor __fn4_enabled reactor1 @enabled
   215 print "#"
-    * print __fn4_reactor_num
+  216 print 1
   217 print " - "
-    * jump __label155 equal __fn4_emerg_shutdown false
-    * control enabled __fn4_reactor false
+  218 jump __label155 equal emerg_shutdown false
+  219 control enabled reactor1 false
   220 print "emergency mode\n"
   221 set __fn4_supply_fuel false
   222 jump __label188 always
   223 label __label155
   224 jump __label174 equal __fn4_enabled false
-    * jump __label156 greaterThanEq REACTORS_DESIRED __fn4_reactor_num
-    * control enabled __fn4_reactor false
+  225 jump __label156 greaterThanEq REACTORS_DESIRED 1
+  226 control enabled reactor1 false
   227 print "STOP unwanted\n"
   228 jump __label173 always
   229 label __label156
-    * op greaterThan __tmp133 __fn4_reactor_num 1
-    * op mul __tmp134 FUEL_TOT_ABORT __fn4_reactor_num
+  230 op greaterThan __tmp133 1 1
+  231 op mul __tmp134 FUEL_TOT_ABORT 1
   232 op lessThan __tmp135 __fn4_fuel_stored __tmp134
-    * op land __tmp136 __tmp133 __tmp135
+  233 op land __tmp136 false __tmp135
   234 jump __label157 equal __tmp136 false
-    * control enabled __fn4_reactor false
+  235 control enabled reactor1 false
   236 print "STOP system fuel low\n"
   237 jump __label172 always
   238 label __label157
   239 jump __label158 greaterThan __fn4_fuel 1
-    * control enabled __fn4_reactor false
+  240 control enabled reactor1 false
   241 print "STOP fuel low\n"
   242 jump __label171 always
   243 label __label158
   244 jump __label159 greaterThan __fn4_cryo CRYO_ABORT
-    * control enabled __fn4_reactor false
+  245 control enabled reactor1 false
   246 print "STOP out of cryo\n"
   247 jump __label170 always
   248 label __label159
   249 jump __label166 greaterThanEq __fn4_secs 30
   250 label __label160
-    * op sub __tmp103 @tick __fn4_t_startup
+  251 op sub __tmp103 @tick t_startup1
   252 op idiv __fn3_secs __tmp103 60
   253 op greaterThan __tmp105 __fn3_secs 30
-    * sensor __tmp106 __fn4_reactor @enabled
+  254 sensor __tmp106 reactor1 @enabled
   255 op equal __tmp107 __tmp106 false
   256 op or __tmp108 __tmp105 __tmp107
   257 jump __label161 equal __tmp108 false
 
   270 op lessThan __tmp146 __fn4_surplus FLOW_ABORT
   271 op land __tmp147 __tmp145 __tmp146
   272 jump __label164 equal __tmp147 false
-    * control enabled __fn4_reactor false
+  273 control enabled reactor1 false
   274 print "START FAIL battery\n"
   275 set __fn4_supply_fuel false
   276 jump __label165 always
 
   288 op lessThan __tmp151 __fn4_surplus FLOW_ABORT
   289 op land __tmp152 __tmp150 __tmp151
   290 jump __label167 equal __tmp152 false
-    * control enabled __fn4_reactor false
+  291 control enabled reactor1 false
   292 print "ABANDON - battery crit\n"
   293 set __fn4_supply_fuel false
   294 jump __label168 always
 
   312 op mul __fn4_charge_units __tmp158 PWR_RESERVE
   313 op div __tmp160 __fn4_surplus FLOW_REQ
   314 op max __fn4_flow_units -0.1 __tmp160
-    * op mul __tmp162 CRYO_REQ_EA __fn4_reactor_num
+  315 op mul __tmp162 CRYO_REQ_EA 1
   316 op add __fn4_cryo_req CRYO_REQ __tmp162
-    * jump __label175 greaterThanEq REACTORS_DESIRED __fn4_reactor_num
+  317 jump __label175 greaterThanEq REACTORS_DESIRED 1
   318 print "IDLE\n"
   319 set __fn4_supply_fuel false
   320 jump __label186 always
 
   334 jump __label185 always
   335 label __label176
   336 op lessThan __tmp175 __fn4_fuel FUEL_REQ
-    * op land __tmp176 __fn4_fuel_on __tmp175
+  337 op land __tmp176 fuel_1 __tmp175
   338 jump __label179 equal __tmp176 false
   339 op add __tmp178 __fn4_fuel __fn4_fuel_stored
   340 jump __label177 lessThanEq __tmp178 FUEL_REQ
 
   345 label __label178
   346 jump __label184 always
   347 label __label179
-    * op mul __tmp181 FUEL_TOT_REQ __fn4_reactor_num
+  348 op mul __tmp181 FUEL_TOT_REQ 1
   349 jump __label180 greaterThanEq __fn4_fuel_stored __tmp181
   350 print "WAIT buffer fuel\n"
   351 jump __label183 always
 
   356 label __label181
   357 print "STARTUP\n"
   358 op add START_POWER_REQ START_POWER_REQ PWR_REQ
-    * control enabled __fn4_reactor true
+  359 control enabled reactor1 true
   360 label __label182
   361 label __label183
   362 label __label184
 
   364 label __label186
   365 label __label187
   366 label __label188
-    * sensor __tmp187 __fn4_reactor @enabled
+  367 sensor __tmp187 reactor1 @enabled
   368 jump __label189 equal __fn4_enabled __tmp187
   369 set RET_T_STARTUP @tick
   370 label __label189
   371 label __label190
   372 set __fn4retval __fn4_supply_fuel
   373 jump __label191 always
-    * set __fn4retval null
   374 label __label191
-    * set fuel_1 __fn4retval
+  375 set fuel_1 __fn4_supply_fuel
   376 set t_startup1 RET_T_STARTUP
   377 label __label110
   378 set __tmp97 FUEL_OFF
-    * jump __label111 equal __fn4retval false
+  379 jump __label111 equal __fn4_supply_fuel false
   380 set __tmp97 FUEL
   381 jump __label111 always
   382 label __label111
   383 control config ULD_IN_1 __tmp97
   384 set __tmp99 FUEL_OFF
-    * jump __label112 notEqual __fn4retval false
+  385 jump __label112 notEqual __fn4_supply_fuel false
   386 set __tmp99 FUEL
   387 jump __label112 always
   388 label __label112

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
   189 jump __label149 always
   190 label __label149
   191 op add START_POWER_REQ START_POWER_REQ __fn3retval
-    * set __fn4_reactor reactor1
-    * set __fn4_reactor_num 1
-    * set __fn4_emerg_shutdown emerg_shutdown
-    * set __fn4_fuel_on fuel_1
-    * set __fn4_t_startup t_startup1
   192 label __label154
   193 set RET_T_STARTUP t_startup1
   194 op sub __tmp114 @tick t_startup1
 
   364 set RET_T_STARTUP @tick
   365 label __label189
   366 label __label190
-    * set __fn4retval __fn4_supply_fuel
   367 jump __label191 always
   368 label __label191
   369 set fuel_1 __fn4_supply_fuel

Modifications by Function Inlining: inline function call at line 84 (+139 instructions):
 
   387 set __fn4_emerg_shutdown emerg_shutdown
   388 set __fn4_fuel_on fuel_2
   389 set __fn4_t_startup t_startup2
-    * setaddr __fn4retaddr __label22
-    * call __label4 __fn4retval
-    * gotolabel __label22 __fn4
+  390 label __label192
+  391 set RET_T_STARTUP __fn4_t_startup
+  392 op sub __tmp114 @tick __fn4_t_startup
+  393 op idiv __fn4_secs __tmp114 60
+  394 sensor __fn4_fuel __fn4_reactor @blast-compound
+  395 set __fn4_supply_fuel true
+  396 sensor __fn4_fuel_stored CONTAINER @blast-compound
+  397 sensor __fn4_cryo __fn4_reactor @cryofluid
+  398 sensor __tmp119 NODE @powerNetStored
+  399 op floor __fn4_charge __tmp119
+  400 sensor __tmp121 NODE @powerNetIn
+  401 sensor __tmp122 NODE @powerNetOut
+  402 op sub __tmp123 __tmp121 __tmp122
+  403 op floor __fn4_surplus __tmp123
+  404 op mul __tmp125 AVG_SURPLUS 0.8
+  405 op mul __tmp126 __fn4_surplus 0.2
+  406 op add AVG_SURPLUS __tmp125 __tmp126
+  407 sensor __fn4_enabled __fn4_reactor @enabled
+  408 print "#"
+  409 print __fn4_reactor_num
+  410 print " - "
+  411 jump __label193 equal __fn4_emerg_shutdown false
+  412 control enabled __fn4_reactor false
+  413 print "emergency mode\n"
+  414 set __fn4_supply_fuel false
+  415 jump __label226 always
+  416 label __label193
+  417 jump __label212 equal __fn4_enabled false
+  418 jump __label194 greaterThanEq REACTORS_DESIRED __fn4_reactor_num
+  419 control enabled __fn4_reactor false
+  420 print "STOP unwanted\n"
+  421 jump __label211 always
+  422 label __label194
+  423 op greaterThan __tmp133 __fn4_reactor_num 1
+  424 op mul __tmp134 FUEL_TOT_ABORT __fn4_reactor_num
+  425 op lessThan __tmp135 __fn4_fuel_stored __tmp134
+  426 op land __tmp136 __tmp133 __tmp135
+  427 jump __label195 equal __tmp136 false
+  428 control enabled __fn4_reactor false
+  429 print "STOP system fuel low\n"
+  430 jump __label210 always
+  431 label __label195
+  432 jump __label196 greaterThan __fn4_fuel 1
+  433 control enabled __fn4_reactor false
+  434 print "STOP fuel low\n"
+  435 jump __label209 always
+  436 label __label196
+  437 jump __label197 greaterThan __fn4_cryo CRYO_ABORT
+  438 control enabled __fn4_reactor false
+  439 print "STOP out of cryo\n"
+  440 jump __label208 always
+  441 label __label197
+  442 jump __label204 greaterThanEq __fn4_secs 30
+  443 label __label198
+  444 op sub __tmp103 @tick __fn4_t_startup
+  445 op idiv __fn3_secs __tmp103 60
+  446 op greaterThan __tmp105 __fn3_secs 30
+  447 sensor __tmp106 __fn4_reactor @enabled
+  448 op equal __tmp107 __tmp106 false
+  449 op or __tmp108 __tmp105 __tmp107
+  450 jump __label199 equal __tmp108 false
+  451 set __fn3retval 0
+  452 jump __label201 always
+  453 label __label199
+  454 label __label200
+  455 op sub __fn3_time_left 30 __fn3_secs
+  456 op mul __tmp111 __fn3_time_left __fn3_time_left
+  457 op idiv __fn3_charge_req __tmp111 0.04
+  458 set __fn3retval __fn3_charge_req
+  459 jump __label201 always
+  460 label __label201
+  461 op sub __tmp144 __fn4_charge __fn3retval
+  462 op lessThan __tmp145 __tmp144 PWR_ABORT
+  463 op lessThan __tmp146 __fn4_surplus FLOW_ABORT
+  464 op land __tmp147 __tmp145 __tmp146
+  465 jump __label202 equal __tmp147 false
+  466 control enabled __fn4_reactor false
+  467 print "START FAIL battery\n"
+  468 set __fn4_supply_fuel false
+  469 jump __label203 always
+  470 label __label202
+  471 op sub __fn4_time_left 30 __fn4_secs
+  472 print "Starting "
+  473 print __fn4_time_left
+  474 print " secs, req "
+  475 print __fn3retval
+  476 print "J\n"
+  477 label __label203
+  478 jump __label207 always
+  479 label __label204
+  480 op lessThan __tmp150 __fn4_charge PWR_ABANDON
+  481 op lessThan __tmp151 __fn4_surplus FLOW_ABORT
+  482 op land __tmp152 __tmp150 __tmp151
+  483 jump __label205 equal __tmp152 false
+  484 control enabled __fn4_reactor false
+  485 print "ABANDON - battery crit\n"
+  486 set __fn4_supply_fuel false
+  487 jump __label206 always
+  488 label __label205
+  489 op idiv __fn4_mins __fn4_secs 6
+  490 op div __fn4_mins __fn4_mins 10
+  491 print "RUN "
+  492 print __fn4_mins
+  493 print " mins\n"
+  494 label __label206
+  495 label __label207
+  496 label __label208
+  497 label __label209
+  498 label __label210
+  499 label __label211
+  500 jump __label225 always
+  501 label __label212
+  502 op sub __tmp156 __fn4_charge START_POWER_REQ
+  503 op sub __tmp157 __tmp156 PWR_ABORT
+  504 op div __tmp158 __tmp157 PWR_REQ
+  505 op mul __fn4_charge_units __tmp158 PWR_RESERVE
+  506 op div __tmp160 __fn4_surplus FLOW_REQ
+  507 op max __fn4_flow_units -0.1 __tmp160
+  508 op mul __tmp162 CRYO_REQ_EA __fn4_reactor_num
+  509 op add __fn4_cryo_req CRYO_REQ __tmp162
+  510 jump __label213 greaterThanEq REACTORS_DESIRED __fn4_reactor_num
+  511 print "IDLE\n"
+  512 set __fn4_supply_fuel false
+  513 jump __label224 always
+  514 label __label213
+  515 op add __tmp166 __fn4_flow_units __fn4_charge_units
+  516 jump __label214 greaterThanEq __tmp166 1
+  517 op idiv __tmp170 __fn4_flow_units 0.001
+  518 op div __fn4_flow __tmp170 10
+  519 op idiv __tmp173 __fn4_charge_units 0.001
+  520 op div __fn4_charge __tmp173 10
+  521 print "WAIT power. (%"
+  522 print __fn4_charge
+  523 print "J + %"
+  524 print __fn4_flow
+  525 print "W)\n"
+  526 set __fn4_supply_fuel false
+  527 jump __label223 always
+  528 label __label214
+  529 op lessThan __tmp175 __fn4_fuel FUEL_REQ
+  530 op land __tmp176 __fn4_fuel_on __tmp175
+  531 jump __label217 equal __tmp176 false
+  532 op add __tmp178 __fn4_fuel __fn4_fuel_stored
+  533 jump __label215 lessThanEq __tmp178 FUEL_REQ
+  534 print "WAIT fuel\n"
+  535 jump __label216 always
+  536 label __label215
+  537 print "WAIT system fuel\n"
+  538 label __label216
+  539 jump __label222 always
+  540 label __label217
+  541 op mul __tmp181 FUEL_TOT_REQ __fn4_reactor_num
+  542 jump __label218 greaterThanEq __fn4_fuel_stored __tmp181
+  543 print "WAIT buffer fuel\n"
+  544 jump __label221 always
+  545 label __label218
+  546 jump __label219 greaterThanEq __fn4_cryo __fn4_cryo_req
+  547 print "WAIT cryo\n"
+  548 jump __label220 always
+  549 label __label219
+  550 print "STARTUP\n"
+  551 op add START_POWER_REQ START_POWER_REQ PWR_REQ
+  552 control enabled __fn4_reactor true
+  553 label __label220
+  554 label __label221
+  555 label __label222
+  556 label __label223
+  557 label __label224
+  558 label __label225
+  559 label __label226
+  560 sensor __tmp187 __fn4_reactor @enabled
+  561 jump __label227 equal __fn4_enabled __tmp187
+  562 set RET_T_STARTUP @tick
+  563 label __label227
+  564 label __label228
+  565 set __fn4retval __fn4_supply_fuel
+  566 jump __label229 always
+  567 set __fn4retval null
+  568 label __label229
   569 set fuel_2 __fn4retval
   570 set t_startup2 RET_T_STARTUP
   571 label __label114

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-1 instructions):
 
   388 set __fn4_fuel_on fuel_2
   389 set __fn4_t_startup t_startup2
   390 label __label192
-    * set RET_T_STARTUP __fn4_t_startup
-    * op sub __tmp114 @tick __fn4_t_startup
+  391 set RET_T_STARTUP t_startup2
+  392 op sub __tmp114 @tick t_startup2
   393 op idiv __fn4_secs __tmp114 60
-    * sensor __fn4_fuel __fn4_reactor @blast-compound
+  394 sensor __fn4_fuel reactor2 @blast-compound
   395 set __fn4_supply_fuel true
   396 sensor __fn4_fuel_stored CONTAINER @blast-compound
-    * sensor __fn4_cryo __fn4_reactor @cryofluid
+  397 sensor __fn4_cryo reactor2 @cryofluid
   398 sensor __tmp119 NODE @powerNetStored
   399 op floor __fn4_charge __tmp119
   400 sensor __tmp121 NODE @powerNetIn
 
   404 op mul __tmp125 AVG_SURPLUS 0.8
   405 op mul __tmp126 __fn4_surplus 0.2
   406 op add AVG_SURPLUS __tmp125 __tmp126
-    * sensor __fn4_enabled __fn4_reactor @enabled
+  407 sensor __fn4_enabled reactor2 @enabled
   408 print "#"
-    * print __fn4_reactor_num
+  409 print 2
   410 print " - "
-    * jump __label193 equal __fn4_emerg_shutdown false
-    * control enabled __fn4_reactor false
+  411 jump __label193 equal emerg_shutdown false
+  412 control enabled reactor2 false
   413 print "emergency mode\n"
   414 set __fn4_supply_fuel false
   415 jump __label226 always
   416 label __label193
   417 jump __label212 equal __fn4_enabled false
-    * jump __label194 greaterThanEq REACTORS_DESIRED __fn4_reactor_num
-    * control enabled __fn4_reactor false
+  418 jump __label194 greaterThanEq REACTORS_DESIRED 2
+  419 control enabled reactor2 false
   420 print "STOP unwanted\n"
   421 jump __label211 always
   422 label __label194
-    * op greaterThan __tmp133 __fn4_reactor_num 1
-    * op mul __tmp134 FUEL_TOT_ABORT __fn4_reactor_num
+  423 op greaterThan __tmp133 2 1
+  424 op mul __tmp134 FUEL_TOT_ABORT 2
   425 op lessThan __tmp135 __fn4_fuel_stored __tmp134
-    * op land __tmp136 __tmp133 __tmp135
+  426 op land __tmp136 true __tmp135
   427 jump __label195 equal __tmp136 false
-    * control enabled __fn4_reactor false
+  428 control enabled reactor2 false
   429 print "STOP system fuel low\n"
   430 jump __label210 always
   431 label __label195
   432 jump __label196 greaterThan __fn4_fuel 1
-    * control enabled __fn4_reactor false
+  433 control enabled reactor2 false
   434 print "STOP fuel low\n"
   435 jump __label209 always
   436 label __label196
   437 jump __label197 greaterThan __fn4_cryo CRYO_ABORT
-    * control enabled __fn4_reactor false
+  438 control enabled reactor2 false
   439 print "STOP out of cryo\n"
   440 jump __label208 always
   441 label __label197
   442 jump __label204 greaterThanEq __fn4_secs 30
   443 label __label198
-    * op sub __tmp103 @tick __fn4_t_startup
+  444 op sub __tmp103 @tick t_startup2
   445 op idiv __fn3_secs __tmp103 60
   446 op greaterThan __tmp105 __fn3_secs 30
-    * sensor __tmp106 __fn4_reactor @enabled
+  447 sensor __tmp106 reactor2 @enabled
   448 op equal __tmp107 __tmp106 false
   449 op or __tmp108 __tmp105 __tmp107
   450 jump __label199 equal __tmp108 false
 
   463 op lessThan __tmp146 __fn4_surplus FLOW_ABORT
   464 op land __tmp147 __tmp145 __tmp146
   465 jump __label202 equal __tmp147 false
-    * control enabled __fn4_reactor false
+  466 control enabled reactor2 false
   467 print "START FAIL battery\n"
   468 set __fn4_supply_fuel false
   469 jump __label203 always
 
   481 op lessThan __tmp151 __fn4_surplus FLOW_ABORT
   482 op land __tmp152 __tmp150 __tmp151
   483 jump __label205 equal __tmp152 false
-    * control enabled __fn4_reactor false
+  484 control enabled reactor2 false
   485 print "ABANDON - battery crit\n"
   486 set __fn4_supply_fuel false
   487 jump __label206 always
 
   505 op mul __fn4_charge_units __tmp158 PWR_RESERVE
   506 op div __tmp160 __fn4_surplus FLOW_REQ
   507 op max __fn4_flow_units -0.1 __tmp160
-    * op mul __tmp162 CRYO_REQ_EA __fn4_reactor_num
+  508 op mul __tmp162 CRYO_REQ_EA 2
   509 op add __fn4_cryo_req CRYO_REQ __tmp162
-    * jump __label213 greaterThanEq REACTORS_DESIRED __fn4_reactor_num
+  510 jump __label213 greaterThanEq REACTORS_DESIRED 2
   511 print "IDLE\n"
   512 set __fn4_supply_fuel false
   513 jump __label224 always
 
   527 jump __label223 always
   528 label __label214
   529 op lessThan __tmp175 __fn4_fuel FUEL_REQ
-    * op land __tmp176 __fn4_fuel_on __tmp175
+  530 op land __tmp176 fuel_2 __tmp175
   531 jump __label217 equal __tmp176 false
   532 op add __tmp178 __fn4_fuel __fn4_fuel_stored
   533 jump __label215 lessThanEq __tmp178 FUEL_REQ
 
   538 label __label216
   539 jump __label222 always
   540 label __label217
-    * op mul __tmp181 FUEL_TOT_REQ __fn4_reactor_num
+  541 op mul __tmp181 FUEL_TOT_REQ 2
   542 jump __label218 greaterThanEq __fn4_fuel_stored __tmp181
   543 print "WAIT buffer fuel\n"
   544 jump __label221 always
 
   549 label __label219
   550 print "STARTUP\n"
   551 op add START_POWER_REQ START_POWER_REQ PWR_REQ
-    * control enabled __fn4_reactor true
+  552 control enabled reactor2 true
   553 label __label220
   554 label __label221
   555 label __label222
 
   557 label __label224
   558 label __label225
   559 label __label226
-    * sensor __tmp187 __fn4_reactor @enabled
+  560 sensor __tmp187 reactor2 @enabled
   561 jump __label227 equal __fn4_enabled __tmp187
   562 set RET_T_STARTUP @tick
   563 label __label227
   564 label __label228
   565 set __fn4retval __fn4_supply_fuel
   566 jump __label229 always
-    * set __fn4retval null
   567 label __label229
-    * set fuel_2 __fn4retval
+  568 set fuel_2 __fn4_supply_fuel
   569 set t_startup2 RET_T_STARTUP
   570 label __label114
   571 set __tmp97 FUEL_OFF
-    * jump __label115 equal __fn4retval false
+  572 jump __label115 equal __fn4_supply_fuel false
   573 set __tmp97 FUEL
   574 jump __label115 always
   575 label __label115
   576 control config ULD_IN_2 __tmp97
   577 set __tmp99 FUEL_OFF
-    * jump __label116 notEqual __fn4retval false
+  578 jump __label116 notEqual __fn4_supply_fuel false
   579 set __tmp99 FUEL
   580 jump __label116 always
   581 label __label116

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
   382 label __label112
   383 control config ULD_OUT_1 __tmp99
   384 label __label113
-    * set __fn4_reactor reactor2
-    * set __fn4_reactor_num 2
-    * set __fn4_emerg_shutdown emerg_shutdown
-    * set __fn4_fuel_on fuel_2
-    * set __fn4_t_startup t_startup2
   385 label __label192
   386 set RET_T_STARTUP t_startup2
   387 op sub __tmp114 @tick t_startup2
 
   557 set RET_T_STARTUP @tick
   558 label __label227
   559 label __label228
-    * set __fn4retval __fn4_supply_fuel
   560 jump __label229 always
   561 label __label229
   562 set fuel_2 __fn4_supply_fuel

Modifications by Function Inlining: inline function call at line 89 (+139 instructions):
 
   608 set __fn4_emerg_shutdown emerg_shutdown
   609 set __fn4_fuel_on fuel_3
   610 set __fn4_t_startup t_startup3
-    * setaddr __fn4retaddr __label25
-    * call __label4 __fn4retval
-    * gotolabel __label25 __fn4
+  611 label __label230
+  612 set RET_T_STARTUP __fn4_t_startup
+  613 op sub __tmp114 @tick __fn4_t_startup
+  614 op idiv __fn4_secs __tmp114 60
+  615 sensor __fn4_fuel __fn4_reactor @blast-compound
+  616 set __fn4_supply_fuel true
+  617 sensor __fn4_fuel_stored CONTAINER @blast-compound
+  618 sensor __fn4_cryo __fn4_reactor @cryofluid
+  619 sensor __tmp119 NODE @powerNetStored
+  620 op floor __fn4_charge __tmp119
+  621 sensor __tmp121 NODE @powerNetIn
+  622 sensor __tmp122 NODE @powerNetOut
+  623 op sub __tmp123 __tmp121 __tmp122
+  624 op floor __fn4_surplus __tmp123
+  625 op mul __tmp125 AVG_SURPLUS 0.8
+  626 op mul __tmp126 __fn4_surplus 0.2
+  627 op add AVG_SURPLUS __tmp125 __tmp126
+  628 sensor __fn4_enabled __fn4_reactor @enabled
+  629 print "#"
+  630 print __fn4_reactor_num
+  631 print " - "
+  632 jump __label231 equal __fn4_emerg_shutdown false
+  633 control enabled __fn4_reactor false
+  634 print "emergency mode\n"
+  635 set __fn4_supply_fuel false
+  636 jump __label264 always
+  637 label __label231
+  638 jump __label250 equal __fn4_enabled false
+  639 jump __label232 greaterThanEq REACTORS_DESIRED __fn4_reactor_num
+  640 control enabled __fn4_reactor false
+  641 print "STOP unwanted\n"
+  642 jump __label249 always
+  643 label __label232
+  644 op greaterThan __tmp133 __fn4_reactor_num 1
+  645 op mul __tmp134 FUEL_TOT_ABORT __fn4_reactor_num
+  646 op lessThan __tmp135 __fn4_fuel_stored __tmp134
+  647 op land __tmp136 __tmp133 __tmp135
+  648 jump __label233 equal __tmp136 false
+  649 control enabled __fn4_reactor false
+  650 print "STOP system fuel low\n"
+  651 jump __label248 always
+  652 label __label233
+  653 jump __label234 greaterThan __fn4_fuel 1
+  654 control enabled __fn4_reactor false
+  655 print "STOP fuel low\n"
+  656 jump __label247 always
+  657 label __label234
+  658 jump __label235 greaterThan __fn4_cryo CRYO_ABORT
+  659 control enabled __fn4_reactor false
+  660 print "STOP out of cryo\n"
+  661 jump __label246 always
+  662 label __label235
+  663 jump __label242 greaterThanEq __fn4_secs 30
+  664 label __label236
+  665 op sub __tmp103 @tick __fn4_t_startup
+  666 op idiv __fn3_secs __tmp103 60
+  667 op greaterThan __tmp105 __fn3_secs 30
+  668 sensor __tmp106 __fn4_reactor @enabled
+  669 op equal __tmp107 __tmp106 false
+  670 op or __tmp108 __tmp105 __tmp107
+  671 jump __label237 equal __tmp108 false
+  672 set __fn3retval 0
+  673 jump __label239 always
+  674 label __label237
+  675 label __label238
+  676 op sub __fn3_time_left 30 __fn3_secs
+  677 op mul __tmp111 __fn3_time_left __fn3_time_left
+  678 op idiv __fn3_charge_req __tmp111 0.04
+  679 set __fn3retval __fn3_charge_req
+  680 jump __label239 always
+  681 label __label239
+  682 op sub __tmp144 __fn4_charge __fn3retval
+  683 op lessThan __tmp145 __tmp144 PWR_ABORT
+  684 op lessThan __tmp146 __fn4_surplus FLOW_ABORT
+  685 op land __tmp147 __tmp145 __tmp146
+  686 jump __label240 equal __tmp147 false
+  687 control enabled __fn4_reactor false
+  688 print "START FAIL battery\n"
+  689 set __fn4_supply_fuel false
+  690 jump __label241 always
+  691 label __label240
+  692 op sub __fn4_time_left 30 __fn4_secs
+  693 print "Starting "
+  694 print __fn4_time_left
+  695 print " secs, req "
+  696 print __fn3retval
+  697 print "J\n"
+  698 label __label241
+  699 jump __label245 always
+  700 label __label242
+  701 op lessThan __tmp150 __fn4_charge PWR_ABANDON
+  702 op lessThan __tmp151 __fn4_surplus FLOW_ABORT
+  703 op land __tmp152 __tmp150 __tmp151
+  704 jump __label243 equal __tmp152 false
+  705 control enabled __fn4_reactor false
+  706 print "ABANDON - battery crit\n"
+  707 set __fn4_supply_fuel false
+  708 jump __label244 always
+  709 label __label243
+  710 op idiv __fn4_mins __fn4_secs 6
+  711 op div __fn4_mins __fn4_mins 10
+  712 print "RUN "
+  713 print __fn4_mins
+  714 print " mins\n"
+  715 label __label244
+  716 label __label245
+  717 label __label246
+  718 label __label247
+  719 label __label248
+  720 label __label249
+  721 jump __label263 always
+  722 label __label250
+  723 op sub __tmp156 __fn4_charge START_POWER_REQ
+  724 op sub __tmp157 __tmp156 PWR_ABORT
+  725 op div __tmp158 __tmp157 PWR_REQ
+  726 op mul __fn4_charge_units __tmp158 PWR_RESERVE
+  727 op div __tmp160 __fn4_surplus FLOW_REQ
+  728 op max __fn4_flow_units -0.1 __tmp160
+  729 op mul __tmp162 CRYO_REQ_EA __fn4_reactor_num
+  730 op add __fn4_cryo_req CRYO_REQ __tmp162
+  731 jump __label251 greaterThanEq REACTORS_DESIRED __fn4_reactor_num
+  732 print "IDLE\n"
+  733 set __fn4_supply_fuel false
+  734 jump __label262 always
+  735 label __label251
+  736 op add __tmp166 __fn4_flow_units __fn4_charge_units
+  737 jump __label252 greaterThanEq __tmp166 1
+  738 op idiv __tmp170 __fn4_flow_units 0.001
+  739 op div __fn4_flow __tmp170 10
+  740 op idiv __tmp173 __fn4_charge_units 0.001
+  741 op div __fn4_charge __tmp173 10
+  742 print "WAIT power. (%"
+  743 print __fn4_charge
+  744 print "J + %"
+  745 print __fn4_flow
+  746 print "W)\n"
+  747 set __fn4_supply_fuel false
+  748 jump __label261 always
+  749 label __label252
+  750 op lessThan __tmp175 __fn4_fuel FUEL_REQ
+  751 op land __tmp176 __fn4_fuel_on __tmp175
+  752 jump __label255 equal __tmp176 false
+  753 op add __tmp178 __fn4_fuel __fn4_fuel_stored
+  754 jump __label253 lessThanEq __tmp178 FUEL_REQ
+  755 print "WAIT fuel\n"
+  756 jump __label254 always
+  757 label __label253
+  758 print "WAIT system fuel\n"
+  759 label __label254
+  760 jump __label260 always
+  761 label __label255
+  762 op mul __tmp181 FUEL_TOT_REQ __fn4_reactor_num
+  763 jump __label256 greaterThanEq __fn4_fuel_stored __tmp181
+  764 print "WAIT buffer fuel\n"
+  765 jump __label259 always
+  766 label __label256
+  767 jump __label257 greaterThanEq __fn4_cryo __fn4_cryo_req
+  768 print "WAIT cryo\n"
+  769 jump __label258 always
+  770 label __label257
+  771 print "STARTUP\n"
+  772 op add START_POWER_REQ START_POWER_REQ PWR_REQ
+  773 control enabled __fn4_reactor true
+  774 label __label258
+  775 label __label259
+  776 label __label260
+  777 label __label261
+  778 label __label262
+  779 label __label263
+  780 label __label264
+  781 sensor __tmp187 __fn4_reactor @enabled
+  782 jump __label265 equal __fn4_enabled __tmp187
+  783 set RET_T_STARTUP @tick
+  784 label __label265
+  785 label __label266
+  786 set __fn4retval __fn4_supply_fuel
+  787 jump __label267 always
+  788 set __fn4retval null
+  789 label __label267
   790 set fuel_3 __fn4retval
   791 set t_startup3 RET_T_STARTUP
   792 set __fn4_reactor reactor4

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-1 instructions):
 
   609 set __fn4_fuel_on fuel_3
   610 set __fn4_t_startup t_startup3
   611 label __label230
-    * set RET_T_STARTUP __fn4_t_startup
-    * op sub __tmp114 @tick __fn4_t_startup
+  612 set RET_T_STARTUP t_startup3
+  613 op sub __tmp114 @tick t_startup3
   614 op idiv __fn4_secs __tmp114 60
-    * sensor __fn4_fuel __fn4_reactor @blast-compound
+  615 sensor __fn4_fuel reactor3 @blast-compound
   616 set __fn4_supply_fuel true
   617 sensor __fn4_fuel_stored CONTAINER @blast-compound
-    * sensor __fn4_cryo __fn4_reactor @cryofluid
+  618 sensor __fn4_cryo reactor3 @cryofluid
   619 sensor __tmp119 NODE @powerNetStored
   620 op floor __fn4_charge __tmp119
   621 sensor __tmp121 NODE @powerNetIn
 
   625 op mul __tmp125 AVG_SURPLUS 0.8
   626 op mul __tmp126 __fn4_surplus 0.2
   627 op add AVG_SURPLUS __tmp125 __tmp126
-    * sensor __fn4_enabled __fn4_reactor @enabled
+  628 sensor __fn4_enabled reactor3 @enabled
   629 print "#"
-    * print __fn4_reactor_num
+  630 print 3
   631 print " - "
-    * jump __label231 equal __fn4_emerg_shutdown false
-    * control enabled __fn4_reactor false
+  632 jump __label231 equal emerg_shutdown false
+  633 control enabled reactor3 false
   634 print "emergency mode\n"
   635 set __fn4_supply_fuel false
   636 jump __label264 always
   637 label __label231
   638 jump __label250 equal __fn4_enabled false
-    * jump __label232 greaterThanEq REACTORS_DESIRED __fn4_reactor_num
-    * control enabled __fn4_reactor false
+  639 jump __label232 greaterThanEq REACTORS_DESIRED 3
+  640 control enabled reactor3 false
   641 print "STOP unwanted\n"
   642 jump __label249 always
   643 label __label232
-    * op greaterThan __tmp133 __fn4_reactor_num 1
-    * op mul __tmp134 FUEL_TOT_ABORT __fn4_reactor_num
+  644 op greaterThan __tmp133 3 1
+  645 op mul __tmp134 FUEL_TOT_ABORT 3
   646 op lessThan __tmp135 __fn4_fuel_stored __tmp134
-    * op land __tmp136 __tmp133 __tmp135
+  647 op land __tmp136 true __tmp135
   648 jump __label233 equal __tmp136 false
-    * control enabled __fn4_reactor false
+  649 control enabled reactor3 false
   650 print "STOP system fuel low\n"
   651 jump __label248 always
   652 label __label233
   653 jump __label234 greaterThan __fn4_fuel 1
-    * control enabled __fn4_reactor false
+  654 control enabled reactor3 false
   655 print "STOP fuel low\n"
   656 jump __label247 always
   657 label __label234
   658 jump __label235 greaterThan __fn4_cryo CRYO_ABORT
-    * control enabled __fn4_reactor false
+  659 control enabled reactor3 false
   660 print "STOP out of cryo\n"
   661 jump __label246 always
   662 label __label235
   663 jump __label242 greaterThanEq __fn4_secs 30
   664 label __label236
-    * op sub __tmp103 @tick __fn4_t_startup
+  665 op sub __tmp103 @tick t_startup3
   666 op idiv __fn3_secs __tmp103 60
   667 op greaterThan __tmp105 __fn3_secs 30
-    * sensor __tmp106 __fn4_reactor @enabled
+  668 sensor __tmp106 reactor3 @enabled
   669 op equal __tmp107 __tmp106 false
   670 op or __tmp108 __tmp105 __tmp107
   671 jump __label237 equal __tmp108 false
 
   684 op lessThan __tmp146 __fn4_surplus FLOW_ABORT
   685 op land __tmp147 __tmp145 __tmp146
   686 jump __label240 equal __tmp147 false
-    * control enabled __fn4_reactor false
+  687 control enabled reactor3 false
   688 print "START FAIL battery\n"
   689 set __fn4_supply_fuel false
   690 jump __label241 always
 
   702 op lessThan __tmp151 __fn4_surplus FLOW_ABORT
   703 op land __tmp152 __tmp150 __tmp151
   704 jump __label243 equal __tmp152 false
-    * control enabled __fn4_reactor false
+  705 control enabled reactor3 false
   706 print "ABANDON - battery crit\n"
   707 set __fn4_supply_fuel false
   708 jump __label244 always
 
   726 op mul __fn4_charge_units __tmp158 PWR_RESERVE
   727 op div __tmp160 __fn4_surplus FLOW_REQ
   728 op max __fn4_flow_units -0.1 __tmp160
-    * op mul __tmp162 CRYO_REQ_EA __fn4_reactor_num
+  729 op mul __tmp162 CRYO_REQ_EA 3
   730 op add __fn4_cryo_req CRYO_REQ __tmp162
-    * jump __label251 greaterThanEq REACTORS_DESIRED __fn4_reactor_num
+  731 jump __label251 greaterThanEq REACTORS_DESIRED 3
   732 print "IDLE\n"
   733 set __fn4_supply_fuel false
   734 jump __label262 always
 
   748 jump __label261 always
   749 label __label252
   750 op lessThan __tmp175 __fn4_fuel FUEL_REQ
-    * op land __tmp176 __fn4_fuel_on __tmp175
+  751 op land __tmp176 fuel_3 __tmp175
   752 jump __label255 equal __tmp176 false
   753 op add __tmp178 __fn4_fuel __fn4_fuel_stored
   754 jump __label253 lessThanEq __tmp178 FUEL_REQ
 
   759 label __label254
   760 jump __label260 always
   761 label __label255
-    * op mul __tmp181 FUEL_TOT_REQ __fn4_reactor_num
+  762 op mul __tmp181 FUEL_TOT_REQ 3
   763 jump __label256 greaterThanEq __fn4_fuel_stored __tmp181
   764 print "WAIT buffer fuel\n"
   765 jump __label259 always
 
   770 label __label257
   771 print "STARTUP\n"
   772 op add START_POWER_REQ START_POWER_REQ PWR_REQ
-    * control enabled __fn4_reactor true
+  773 control enabled reactor3 true
   774 label __label258
   775 label __label259
   776 label __label260
 
   778 label __label262
   779 label __label263
   780 label __label264
-    * sensor __tmp187 __fn4_reactor @enabled
+  781 sensor __tmp187 reactor3 @enabled
   782 jump __label265 equal __fn4_enabled __tmp187
   783 set RET_T_STARTUP @tick
   784 label __label265
   785 label __label266
   786 set __fn4retval __fn4_supply_fuel
   787 jump __label267 always
-    * set __fn4retval null
   788 label __label267
-    * set fuel_3 __fn4retval
+  789 set fuel_3 __fn4_supply_fuel
   790 set t_startup3 RET_T_STARTUP
   791 set __fn4_reactor reactor4
   792 set __fn4_reactor_num 4

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
   603 label __label128
   604 label __label129
   605 op or emerg_shutdown emerg_shutdown __fn2retval
-    * set __fn4_reactor reactor3
-    * set __fn4_reactor_num 3
-    * set __fn4_emerg_shutdown emerg_shutdown
-    * set __fn4_fuel_on fuel_3
-    * set __fn4_t_startup t_startup3
   606 label __label230
   607 set RET_T_STARTUP t_startup3
   608 op sub __tmp114 @tick t_startup3
 
   778 set RET_T_STARTUP @tick
   779 label __label265
   780 label __label266
-    * set __fn4retval __fn4_supply_fuel
   781 jump __label267 always
   782 label __label267
   783 set fuel_3 __fn4_supply_fuel

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-26 instructions):
 
    75 control enabled projector1 false
    76 control enabled projector2 false
    77 set __fn2retval false
-    * jump __label125 always
    78 label __label124
    79 label __label125
    80 label __label11
 
    90 label __label13
    91 label __label14
    92 set __tmp8 false
-    * jump __label12 always
    93 label __label12
    94 op or emerg_shutdown __fn2retval __tmp8
    95 label __label130
 
   108 op mul __tmp111 __fn3_time_left __fn3_time_left
   109 op idiv __fn3_charge_req __tmp111 0.04
   110 set __fn3retval __fn3_charge_req
-    * jump __label133 always
   111 label __label133
   112 set START_POWER_REQ __fn3retval
   113 label __label134
 
   126 op mul __tmp111 __fn3_time_left __fn3_time_left
   127 op idiv __fn3_charge_req __tmp111 0.04
   128 set __fn3retval __fn3_charge_req
-    * jump __label137 always
   129 label __label137
   130 op add START_POWER_REQ START_POWER_REQ __fn3retval
   131 label __label138
 
   144 op mul __tmp111 __fn3_time_left __fn3_time_left
   145 op idiv __fn3_charge_req __tmp111 0.04
   146 set __fn3retval __fn3_charge_req
-    * jump __label141 always
   147 label __label141
   148 op add START_POWER_REQ START_POWER_REQ __fn3retval
   149 label __label142
 
   162 op mul __tmp111 __fn3_time_left __fn3_time_left
   163 op idiv __fn3_charge_req __tmp111 0.04
   164 set __fn3retval __fn3_charge_req
-    * jump __label145 always
   165 label __label145
   166 op add START_POWER_REQ START_POWER_REQ __fn3retval
   167 label __label146
 
   180 op mul __tmp111 __fn3_time_left __fn3_time_left
   181 op idiv __fn3_charge_req __tmp111 0.04
   182 set __fn3retval __fn3_charge_req
-    * jump __label149 always
   183 label __label149
   184 op add START_POWER_REQ START_POWER_REQ __fn3retval
   185 label __label154
 
   251 op mul __tmp111 __fn3_time_left __fn3_time_left
   252 op idiv __fn3_charge_req __tmp111 0.04
   253 set __fn3retval __fn3_charge_req
-    * jump __label163 always
   254 label __label163
   255 op sub __tmp144 __fn4_charge __fn3retval
   256 op lessThan __tmp145 __tmp144 PWR_ABORT
 
   356 set RET_T_STARTUP @tick
   357 label __label189
   358 label __label190
-    * jump __label191 always
   359 label __label191
   360 set fuel_1 __fn4_supply_fuel
   361 set t_startup1 RET_T_STARTUP
 
   363 set __tmp97 FUEL_OFF
   364 jump __label111 equal __fn4_supply_fuel false
   365 set __tmp97 FUEL
-    * jump __label111 always
   366 label __label111
   367 control config ULD_IN_1 __tmp97
   368 set __tmp99 FUEL_OFF
   369 jump __label112 notEqual __fn4_supply_fuel false
   370 set __tmp99 FUEL
-    * jump __label112 always
   371 label __label112
   372 control config ULD_OUT_1 __tmp99
   373 label __label113
 
   440 op mul __tmp111 __fn3_time_left __fn3_time_left
   441 op idiv __fn3_charge_req __tmp111 0.04
   442 set __fn3retval __fn3_charge_req
-    * jump __label201 always
   443 label __label201
   444 op sub __tmp144 __fn4_charge __fn3retval
   445 op lessThan __tmp145 __tmp144 PWR_ABORT
 
   545 set RET_T_STARTUP @tick
   546 label __label227
   547 label __label228
-    * jump __label229 always
   548 label __label229
   549 set fuel_2 __fn4_supply_fuel
   550 set t_startup2 RET_T_STARTUP
 
   552 set __tmp97 FUEL_OFF
   553 jump __label115 equal __fn4_supply_fuel false
   554 set __tmp97 FUEL
-    * jump __label115 always
   555 label __label115
   556 control config ULD_IN_2 __tmp97
   557 set __tmp99 FUEL_OFF
   558 jump __label116 notEqual __fn4_supply_fuel false
   559 set __tmp99 FUEL
-    * jump __label116 always
   560 label __label116
   561 control config ULD_OUT_2 __tmp99
   562 label __label117
 
   584 control enabled projector1 false
   585 control enabled projector2 false
   586 set __fn2retval false
-    * jump __label129 always
   587 label __label128
   588 label __label129
   589 op or emerg_shutdown emerg_shutdown __fn2retval
 
   656 op mul __tmp111 __fn3_time_left __fn3_time_left
   657 op idiv __fn3_charge_req __tmp111 0.04
   658 set __fn3retval __fn3_charge_req
-    * jump __label239 always
   659 label __label239
   660 op sub __tmp144 __fn4_charge __fn3retval
   661 op lessThan __tmp145 __tmp144 PWR_ABORT
 
   761 set RET_T_STARTUP @tick
   762 label __label265
   763 label __label266
-    * jump __label267 always
   764 label __label267
   765 set fuel_3 __fn4_supply_fuel
   766 set t_startup3 RET_T_STARTUP
 
   790 set __tmp97 FUEL_OFF
   791 jump __label119 equal fuel_many false
   792 set __tmp97 FUEL
-    * jump __label119 always
   793 label __label119
   794 control config ULD_IN_MANY __tmp97
   795 set __tmp99 FUEL_OFF
   796 jump __label120 notEqual fuel_many false
   797 set __tmp99 FUEL
-    * jump __label120 always
   798 label __label120
   799 control config ULD_OUT_MANY __tmp99
   800 label __label121
 
   845 label __label36
   846 label __label32
   847 op lessThan __tmp38 __fn6_fuel_stored __fn6_limit
-    * jump __label30 always
   848 label __label30
   849 set __tmp55 FUEL_OFF
   850 jump __label38 equal __tmp38 false
   851 set __tmp55 MIXER_IN
-    * jump __label38 always
   852 label __label38
   853 control config ULD_MIXER __tmp55
   854 label __label39
 
   871 label __label104
   872 op idiv __tmp95 AVG_SURPLUS 100
   873 op div __fn0retval __tmp95 10
-    * jump __label105 always
   874 label __label105
   875 set surplus __fn0retval
   876 sensor __fn0_val NODE @powerNetStored
   877 label __label106
   878 op idiv __tmp95 __fn0_val 100
   879 op div __fn0retval __tmp95 10
-    * jump __label107 always
   880 label __label107
   881 set charge __fn0retval
   882 jump __label45 lessThanEq START_POWER_REQ 0
   883 label __label108
   884 op idiv __tmp95 START_POWER_REQ 100
   885 op div __fn0retval __tmp95 10
-    * jump __label109 always
   886 label __label109
   887 print "Req "
   888 print __fn0retval
 
  1008 op mul __tmp111 __fn3_time_left __fn3_time_left
  1009 op idiv __fn3_charge_req __tmp111 0.04
  1010 set __fn3retval __fn3_charge_req
-    * jump __label153 always
  1011 label __label153
  1012 op sub __tmp144 __fn4_charge __fn3retval
  1013 op lessThan __tmp145 __tmp144 PWR_ABORT

Modifications by Iterated phase, Expression Optimization, pass 2, iteration 1:
 
   216 jump __label173 always
   217 label __label156
   218 op greaterThan __tmp133 1 1
-    * op mul __tmp134 FUEL_TOT_ABORT 1
+  219 set __tmp134 FUEL_TOT_ABORT
   220 op lessThan __tmp135 __fn4_fuel_stored __tmp134
   221 op land __tmp136 false __tmp135
   222 jump __label157 equal __tmp136 false
 
   299 op mul __fn4_charge_units __tmp158 PWR_RESERVE
   300 op div __tmp160 __fn4_surplus FLOW_REQ
   301 op max __fn4_flow_units -0.1 __tmp160
-    * op mul __tmp162 CRYO_REQ_EA 1
+  302 set __tmp162 CRYO_REQ_EA
   303 op add __fn4_cryo_req CRYO_REQ __tmp162
   304 jump __label175 greaterThanEq REACTORS_DESIRED 1
   305 print "IDLE\n"
 
   332 label __label178
   333 jump __label184 always
   334 label __label179
-    * op mul __tmp181 FUEL_TOT_REQ 1
+  335 set __tmp181 FUEL_TOT_REQ
   336 jump __label180 greaterThanEq __fn4_fuel_stored __tmp181
   337 print "WAIT buffer fuel\n"
   338 jump __label183 always

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1:
 
   217 label __label156
   218 op greaterThan __tmp133 1 1
   219 set __tmp134 FUEL_TOT_ABORT
-    * op lessThan __tmp135 __fn4_fuel_stored __tmp134
+  220 op lessThan __tmp135 __fn4_fuel_stored FUEL_TOT_ABORT
   221 op land __tmp136 false __tmp135
   222 jump __label157 equal __tmp136 false
   223 control enabled reactor1 false
 
   300 op div __tmp160 __fn4_surplus FLOW_REQ
   301 op max __fn4_flow_units -0.1 __tmp160
   302 set __tmp162 CRYO_REQ_EA
-    * op add __fn4_cryo_req CRYO_REQ __tmp162
+  303 op add __fn4_cryo_req CRYO_REQ CRYO_REQ_EA
   304 jump __label175 greaterThanEq REACTORS_DESIRED 1
   305 print "IDLE\n"
   306 set __fn4_supply_fuel false
 
   333 jump __label184 always
   334 label __label179
   335 set __tmp181 FUEL_TOT_REQ
-    * jump __label180 greaterThanEq __fn4_fuel_stored __tmp181
+  336 jump __label180 greaterThanEq __fn4_fuel_stored FUEL_TOT_REQ
   337 print "WAIT buffer fuel\n"
   338 jump __label183 always
   339 label __label180

Modifications by Final phase, Jump Threading, iteration 1:
 
   213 jump __label156 greaterThanEq REACTORS_DESIRED 1
   214 control enabled reactor1 false
   215 print "STOP unwanted\n"
-    * jump __label173 always
+  216 jump __label187 always
   217 label __label156
   218 op greaterThan __tmp133 1 1
   219 set __tmp134 FUEL_TOT_ABORT
 
   222 jump __label157 equal __tmp136 false
   223 control enabled reactor1 false
   224 print "STOP system fuel low\n"
-    * jump __label172 always
+  225 jump __label187 always
   226 label __label157
   227 jump __label158 greaterThan __fn4_fuel 1
   228 control enabled reactor1 false
   229 print "STOP fuel low\n"
-    * jump __label171 always
+  230 jump __label187 always
   231 label __label158
   232 jump __label159 greaterThan __fn4_cryo CRYO_ABORT
   233 control enabled reactor1 false
   234 print "STOP out of cryo\n"
-    * jump __label170 always
+  235 jump __label187 always
   236 label __label159
   237 jump __label166 greaterThanEq __fn4_secs 30
   238 label __label160
 
   260 control enabled reactor1 false
   261 print "START FAIL battery\n"
   262 set __fn4_supply_fuel false
-    * jump __label165 always
+  263 jump __label187 always
   264 label __label164
   265 op sub __fn4_time_left 30 __fn4_secs
   266 print "Starting "
 
   269 print __fn3retval
   270 print "J\n"
   271 label __label165
-    * jump __label169 always
+  272 jump __label187 always
   273 label __label166
   274 op lessThan __tmp150 __fn4_charge PWR_ABANDON
   275 op lessThan __tmp151 __fn4_surplus FLOW_ABORT
 
   278 control enabled reactor1 false
   279 print "ABANDON - battery crit\n"
   280 set __fn4_supply_fuel false
-    * jump __label168 always
+  281 jump __label187 always
   282 label __label167
   283 op idiv __fn4_mins __fn4_secs 6
   284 op div __fn4_mins __fn4_mins 10
 
   326 op add __tmp178 __fn4_fuel __fn4_fuel_stored
   327 jump __label177 lessThanEq __tmp178 FUEL_REQ
   328 print "WAIT fuel\n"
-    * jump __label178 always
+  329 jump __label184 always
   330 label __label177
   331 print "WAIT system fuel\n"
   332 label __label178
 
   402 jump __label194 greaterThanEq REACTORS_DESIRED 2
   403 control enabled reactor2 false
   404 print "STOP unwanted\n"
-    * jump __label211 always
+  405 jump __label225 always
   406 label __label194
   407 op greaterThan __tmp133 2 1
   408 op mul __tmp134 FUEL_TOT_ABORT 2
 
   411 jump __label195 equal __tmp136 false
   412 control enabled reactor2 false
   413 print "STOP system fuel low\n"
-    * jump __label210 always
+  414 jump __label225 always
   415 label __label195
   416 jump __label196 greaterThan __fn4_fuel 1
   417 control enabled reactor2 false
   418 print "STOP fuel low\n"
-    * jump __label209 always
+  419 jump __label225 always
   420 label __label196
   421 jump __label197 greaterThan __fn4_cryo CRYO_ABORT
   422 control enabled reactor2 false
   423 print "STOP out of cryo\n"
-    * jump __label208 always
+  424 jump __label225 always
   425 label __label197
   426 jump __label204 greaterThanEq __fn4_secs 30
   427 label __label198
 
   449 control enabled reactor2 false
   450 print "START FAIL battery\n"
   451 set __fn4_supply_fuel false
-    * jump __label203 always
+  452 jump __label225 always
   453 label __label202
   454 op sub __fn4_time_left 30 __fn4_secs
   455 print "Starting "
 
   458 print __fn3retval
   459 print "J\n"
   460 label __label203
-    * jump __label207 always
+  461 jump __label225 always
   462 label __label204
   463 op lessThan __tmp150 __fn4_charge PWR_ABANDON
   464 op lessThan __tmp151 __fn4_surplus FLOW_ABORT
 
   467 control enabled reactor2 false
   468 print "ABANDON - battery crit\n"
   469 set __fn4_supply_fuel false
-    * jump __label206 always
+  470 jump __label225 always
   471 label __label205
   472 op idiv __fn4_mins __fn4_secs 6
   473 op div __fn4_mins __fn4_mins 10
 
   515 op add __tmp178 __fn4_fuel __fn4_fuel_stored
   516 jump __label215 lessThanEq __tmp178 FUEL_REQ
   517 print "WAIT fuel\n"
-    * jump __label216 always
+  518 jump __label222 always
   519 label __label215
   520 print "WAIT system fuel\n"
   521 label __label216
 
   618 jump __label232 greaterThanEq REACTORS_DESIRED 3
   619 control enabled reactor3 false
   620 print "STOP unwanted\n"
-    * jump __label249 always
+  621 jump __label263 always
   622 label __label232
   623 op greaterThan __tmp133 3 1
   624 op mul __tmp134 FUEL_TOT_ABORT 3
 
   627 jump __label233 equal __tmp136 false
   628 control enabled reactor3 false
   629 print "STOP system fuel low\n"
-    * jump __label248 always
+  630 jump __label263 always
   631 label __label233
   632 jump __label234 greaterThan __fn4_fuel 1
   633 control enabled reactor3 false
   634 print "STOP fuel low\n"
-    * jump __label247 always
+  635 jump __label263 always
   636 label __label234
   637 jump __label235 greaterThan __fn4_cryo CRYO_ABORT
   638 control enabled reactor3 false
   639 print "STOP out of cryo\n"
-    * jump __label246 always
+  640 jump __label263 always
   641 label __label235
   642 jump __label242 greaterThanEq __fn4_secs 30
   643 label __label236
 
   665 control enabled reactor3 false
   666 print "START FAIL battery\n"
   667 set __fn4_supply_fuel false
-    * jump __label241 always
+  668 jump __label263 always
   669 label __label240
   670 op sub __fn4_time_left 30 __fn4_secs
   671 print "Starting "
 
   674 print __fn3retval
   675 print "J\n"
   676 label __label241
-    * jump __label245 always
+  677 jump __label263 always
   678 label __label242
   679 op lessThan __tmp150 __fn4_charge PWR_ABANDON
   680 op lessThan __tmp151 __fn4_surplus FLOW_ABORT
 
   683 control enabled reactor3 false
   684 print "ABANDON - battery crit\n"
   685 set __fn4_supply_fuel false
-    * jump __label244 always
+  686 jump __label263 always
   687 label __label243
   688 op idiv __fn4_mins __fn4_secs 6
   689 op div __fn4_mins __fn4_mins 10
 
   731 op add __tmp178 __fn4_fuel __fn4_fuel_stored
   732 jump __label253 lessThanEq __tmp178 FUEL_REQ
   733 print "WAIT fuel\n"
-    * jump __label254 always
+  734 jump __label260 always
   735 label __label253
   736 print "WAIT system fuel\n"
   737 label __label254
 
   821 print " - "
   822 jump __label33 equal emerg_shutdown false
   823 print " Enemies detected.\n"
-    * jump __label34 always
+  824 jump __label32 always
   825 label __label33
   826 print " Critical power.\n"
   827 label __label34
 
   970 jump __label75 greaterThanEq REACTORS_DESIRED __fn4_reactor_num
   971 control enabled __fn4_reactor false
   972 print "STOP unwanted\n"
-    * jump __label76 always
+  973 jump __label74 always
   974 label __label75
   975 op greaterThan __tmp133 __fn4_reactor_num 1
   976 op mul __tmp134 FUEL_TOT_ABORT __fn4_reactor_num
 
   979 jump __label77 equal __tmp136 false
   980 control enabled __fn4_reactor false
   981 print "STOP system fuel low\n"
-    * jump __label78 always
+  982 jump __label74 always
   983 label __label77
   984 jump __label79 greaterThan __fn4_fuel 1
   985 control enabled __fn4_reactor false
   986 print "STOP fuel low\n"
-    * jump __label80 always
+  987 jump __label74 always
   988 label __label79
   989 jump __label81 greaterThan __fn4_cryo CRYO_ABORT
   990 control enabled __fn4_reactor false
   991 print "STOP out of cryo\n"
-    * jump __label82 always
+  992 jump __label74 always
   993 label __label81
   994 jump __label83 greaterThanEq __fn4_secs 30
   995 label __label150
 
  1017 control enabled __fn4_reactor false
  1018 print "START FAIL battery\n"
  1019 set __fn4_supply_fuel false
-    * jump __label87 always
+ 1020 jump __label74 always
  1021 label __label86
  1022 op sub __fn4_time_left 30 __fn4_secs
  1023 print "Starting "
 
  1026 print __fn3retval
  1027 print "J\n"
  1028 label __label87
-    * jump __label84 always
+ 1029 jump __label74 always
  1030 label __label83
  1031 op lessThan __tmp150 __fn4_charge PWR_ABANDON
  1032 op lessThan __tmp151 __fn4_surplus FLOW_ABORT
 
  1035 control enabled __fn4_reactor false
  1036 print "ABANDON - battery crit\n"
  1037 set __fn4_supply_fuel false
-    * jump __label89 always
+ 1038 jump __label74 always
  1039 label __label88
  1040 op idiv __fn4_mins __fn4_secs 6
  1041 op div __fn4_mins __fn4_mins 10
 
  1083 op add __tmp178 __fn4_fuel __fn4_fuel_stored
  1084 jump __label96 lessThanEq __tmp178 FUEL_REQ
  1085 print "WAIT fuel\n"
-    * jump __label97 always
+ 1086 jump __label95 always
  1087 label __label96
  1088 print "WAIT system fuel\n"
  1089 label __label97

Modifications by Final phase, Unreachable Code Elimination, iteration 1 (-5 instructions):
 
    70 control enabled reactor5 false
    71 set __fn2retval true
    72 jump __label125 always
-    * jump __label124 always
    73 label __label123
    74 control enabled projector1 false
    75 control enabled projector2 false
 
   578 control enabled reactor5 false
   579 set __fn2retval true
   580 jump __label129 always
-    * jump __label128 always
   581 label __label127
   582 control enabled projector1 false
   583 control enabled projector2 false
 
   935 printflush message1
   936 label __label8
   937 jump __label7 always
-    * label __label9
-    * end
   938 label __label4
   939 set RET_T_STARTUP __fn4_t_startup
   940 op sub __tmp114 @tick __fn4_t_startup
 
  1111 label __label103
  1112 set __fn4retval __fn4_supply_fuel
  1113 jump __label70 always
-    * set __fn4retval null
  1114 label __label70
  1115 goto __fn4retaddr __fn4
-    * end

Modifications by Final phase, Single Step Elimination, iteration 1 (-1 instructions):
 
  1110 label __label102
  1111 label __label103
  1112 set __fn4retval __fn4_supply_fuel
-    * jump __label70 always
  1113 label __label70
  1114 goto __fn4retaddr __fn4

Final code before resolving virtual instructions:

printflush message1
set FUEL @blast-compound
set FUEL_OFF @scrap
set MIXER_IN @pyratite
set PWR_REQ 23000
set FLOW_REQ 2000
set PWR_ABANDON 2000
set PWR_ABORT 5000
set PWR_RESERVE 0.6
set FLOW_ABORT -500
set FUEL_REQ 10
set FUEL_TOT_REQ 45
set FUEL_LIMIT_LOW 150
set FUEL_LIMIT 800
set FUEL_TOT_ABORT 15
set GENERATOR_OUTPUT 6500
set GOAL_BUFFER 10000
set CRYO_REQ 3
set CRYO_REQ_EA 2
set CRYO_ABORT 1
set fuel_1 false
set fuel_2 false
set fuel_3 false
set fuel_4 false
set fuel_5 false
sensor __tmp0 node1 @powerNetIn
sensor __tmp1 node1 @powerNetOut
op sub __tmp2 __tmp0 __tmp1
op floor surplus __tmp2 0
jump __label5 lessThanEq surplus 10000
op sub start_time @tick 3600
jump __label6 always 0 0
label __label5
set start_time @tick
label __label6
set t_startup1 start_time
set t_startup2 start_time
set t_startup3 start_time
set t_startup4 start_time
set t_startup5 start_time
set RET_T_STARTUP start_time
set REACTORS_DESIRED 5
set AVG_SURPLUS 500
label __label7
set ULD_IN_1 unloader1
set ULD_OUT_1 unloader2
set ULD_IN_2 unloader3
set ULD_OUT_2 unloader4
set ULD_IN_MANY unloader5
set ULD_OUT_MANY unloader6
set ULD_MIXER unloader7
set TOWER cyclone1
set CONTAINER vault1
set NODE node1
radar enemy any any health TOWER 1 __fn2_enemy_found
jump __label123 equal __fn2_enemy_found null
control enabled projector1 true 0 0 0
control enabled projector2 true 0 0 0
control config ULD_IN_1 FUEL_OFF 0 0 0
control config ULD_OUT_1 FUEL 0 0 0
control config ULD_IN_2 FUEL_OFF 0 0 0
control config ULD_OUT_2 FUEL 0 0 0
control config ULD_IN_MANY FUEL_OFF 0 0 0
control config ULD_OUT_MANY FUEL 0 0 0
control config ULD_MIXER FUEL_OFF 0 0 0
control enabled reactor1 false 0 0 0
control enabled reactor2 false 0 0 0
control enabled reactor3 false 0 0 0
control enabled reactor4 false 0 0 0
control enabled reactor5 false 0 0 0
set __fn2retval true
jump __label125 always 0 0
label __label123
control enabled projector1 false 0 0 0
control enabled projector2 false 0 0 0
set __fn2retval false
label __label125
op notEqual __tmp9 switch1 null
sensor __tmp10 switch1 @enabled
op equal __tmp11 __tmp10 false
op land __tmp12 __tmp9 __tmp11
jump __label13 equal __tmp12 false
print "User has disabled emergency switch"
print "\n"
set __tmp8 true
jump __label12 always 0 0
label __label13
set __tmp8 false
label __label12
op or emerg_shutdown __fn2retval __tmp8
op sub __tmp103 @tick t_startup1
op idiv __fn3_secs __tmp103 60
op greaterThan __tmp105 __fn3_secs 30
sensor __tmp106 reactor1 @enabled
op equal __tmp107 __tmp106 false
op or __tmp108 __tmp105 __tmp107
jump __label131 equal __tmp108 false
set __fn3retval 0
jump __label133 always 0 0
label __label131
op sub __fn3_time_left 30 __fn3_secs
op mul __tmp111 __fn3_time_left __fn3_time_left
op idiv __fn3_charge_req __tmp111 0.04
set __fn3retval __fn3_charge_req
label __label133
set START_POWER_REQ __fn3retval
op sub __tmp103 @tick t_startup2
op idiv __fn3_secs __tmp103 60
op greaterThan __tmp105 __fn3_secs 30
sensor __tmp106 reactor2 @enabled
op equal __tmp107 __tmp106 false
op or __tmp108 __tmp105 __tmp107
jump __label135 equal __tmp108 false
set __fn3retval 0
jump __label137 always 0 0
label __label135
op sub __fn3_time_left 30 __fn3_secs
op mul __tmp111 __fn3_time_left __fn3_time_left
op idiv __fn3_charge_req __tmp111 0.04
set __fn3retval __fn3_charge_req
label __label137
op add START_POWER_REQ START_POWER_REQ __fn3retval
op sub __tmp103 @tick t_startup3
op idiv __fn3_secs __tmp103 60
op greaterThan __tmp105 __fn3_secs 30
sensor __tmp106 reactor3 @enabled
op equal __tmp107 __tmp106 false
op or __tmp108 __tmp105 __tmp107
jump __label139 equal __tmp108 false
set __fn3retval 0
jump __label141 always 0 0
label __label139
op sub __fn3_time_left 30 __fn3_secs
op mul __tmp111 __fn3_time_left __fn3_time_left
op idiv __fn3_charge_req __tmp111 0.04
set __fn3retval __fn3_charge_req
label __label141
op add START_POWER_REQ START_POWER_REQ __fn3retval
op sub __tmp103 @tick t_startup4
op idiv __fn3_secs __tmp103 60
op greaterThan __tmp105 __fn3_secs 30
sensor __tmp106 reactor4 @enabled
op equal __tmp107 __tmp106 false
op or __tmp108 __tmp105 __tmp107
jump __label143 equal __tmp108 false
set __fn3retval 0
jump __label145 always 0 0
label __label143
op sub __fn3_time_left 30 __fn3_secs
op mul __tmp111 __fn3_time_left __fn3_time_left
op idiv __fn3_charge_req __tmp111 0.04
set __fn3retval __fn3_charge_req
label __label145
op add START_POWER_REQ START_POWER_REQ __fn3retval
op sub __tmp103 @tick t_startup5
op idiv __fn3_secs __tmp103 60
op greaterThan __tmp105 __fn3_secs 30
sensor __tmp106 reactor5 @enabled
op equal __tmp107 __tmp106 false
op or __tmp108 __tmp105 __tmp107
jump __label147 equal __tmp108 false
set __fn3retval 0
jump __label149 always 0 0
label __label147
op sub __fn3_time_left 30 __fn3_secs
op mul __tmp111 __fn3_time_left __fn3_time_left
op idiv __fn3_charge_req __tmp111 0.04
set __fn3retval __fn3_charge_req
label __label149
op add START_POWER_REQ START_POWER_REQ __fn3retval
set RET_T_STARTUP t_startup1
op sub __tmp114 @tick t_startup1
op idiv __fn4_secs __tmp114 60
sensor __fn4_fuel reactor1 @blast-compound
set __fn4_supply_fuel true
sensor __fn4_fuel_stored CONTAINER @blast-compound
sensor __fn4_cryo reactor1 @cryofluid
sensor __tmp119 NODE @powerNetStored
op floor __fn4_charge __tmp119 0
sensor __tmp121 NODE @powerNetIn
sensor __tmp122 NODE @powerNetOut
op sub __tmp123 __tmp121 __tmp122
op floor __fn4_surplus __tmp123 0
op mul __tmp125 AVG_SURPLUS 0.8
op mul __tmp126 __fn4_surplus 0.2
op add AVG_SURPLUS __tmp125 __tmp126
sensor __fn4_enabled reactor1 @enabled
print "#"
print 1
print " - "
jump __label155 equal emerg_shutdown false
control enabled reactor1 false 0 0 0
print "emergency mode\n"
set __fn4_supply_fuel false
jump __label188 always 0 0
label __label155
jump __label174 equal __fn4_enabled false
jump __label156 greaterThanEq REACTORS_DESIRED 1
control enabled reactor1 false 0 0 0
print "STOP unwanted\n"
jump __label187 always 0 0
label __label156
op greaterThan __tmp133 1 1
set __tmp134 FUEL_TOT_ABORT
op lessThan __tmp135 __fn4_fuel_stored FUEL_TOT_ABORT
op land __tmp136 false __tmp135
jump __label157 equal __tmp136 false
control enabled reactor1 false 0 0 0
print "STOP system fuel low\n"
jump __label187 always 0 0
label __label157
jump __label158 greaterThan __fn4_fuel 1
control enabled reactor1 false 0 0 0
print "STOP fuel low\n"
jump __label187 always 0 0
label __label158
jump __label159 greaterThan __fn4_cryo CRYO_ABORT
control enabled reactor1 false 0 0 0
print "STOP out of cryo\n"
jump __label187 always 0 0
label __label159
jump __label166 greaterThanEq __fn4_secs 30
op sub __tmp103 @tick t_startup1
op idiv __fn3_secs __tmp103 60
op greaterThan __tmp105 __fn3_secs 30
sensor __tmp106 reactor1 @enabled
op equal __tmp107 __tmp106 false
op or __tmp108 __tmp105 __tmp107
jump __label161 equal __tmp108 false
set __fn3retval 0
jump __label163 always 0 0
label __label161
op sub __fn3_time_left 30 __fn3_secs
op mul __tmp111 __fn3_time_left __fn3_time_left
op idiv __fn3_charge_req __tmp111 0.04
set __fn3retval __fn3_charge_req
label __label163
op sub __tmp144 __fn4_charge __fn3retval
op lessThan __tmp145 __tmp144 PWR_ABORT
op lessThan __tmp146 __fn4_surplus FLOW_ABORT
op land __tmp147 __tmp145 __tmp146
jump __label164 equal __tmp147 false
control enabled reactor1 false 0 0 0
print "START FAIL battery\n"
set __fn4_supply_fuel false
jump __label187 always 0 0
label __label164
op sub __fn4_time_left 30 __fn4_secs
print "Starting "
print __fn4_time_left
print " secs, req "
print __fn3retval
print "J\n"
jump __label187 always 0 0
label __label166
op lessThan __tmp150 __fn4_charge PWR_ABANDON
op lessThan __tmp151 __fn4_surplus FLOW_ABORT
op land __tmp152 __tmp150 __tmp151
jump __label167 equal __tmp152 false
control enabled reactor1 false 0 0 0
print "ABANDON - battery crit\n"
set __fn4_supply_fuel false
jump __label187 always 0 0
label __label167
op idiv __fn4_mins __fn4_secs 6
op div __fn4_mins __fn4_mins 10
print "RUN "
print __fn4_mins
print " mins\n"
jump __label187 always 0 0
label __label174
op sub __tmp156 __fn4_charge START_POWER_REQ
op sub __tmp157 __tmp156 PWR_ABORT
op div __tmp158 __tmp157 PWR_REQ
op mul __fn4_charge_units __tmp158 PWR_RESERVE
op div __tmp160 __fn4_surplus FLOW_REQ
op max __fn4_flow_units -0.1 __tmp160
set __tmp162 CRYO_REQ_EA
op add __fn4_cryo_req CRYO_REQ CRYO_REQ_EA
jump __label175 greaterThanEq REACTORS_DESIRED 1
print "IDLE\n"
set __fn4_supply_fuel false
jump __label186 always 0 0
label __label175
op add __tmp166 __fn4_flow_units __fn4_charge_units
jump __label176 greaterThanEq __tmp166 1
op idiv __tmp170 __fn4_flow_units 0.001
op div __fn4_flow __tmp170 10
op idiv __tmp173 __fn4_charge_units 0.001
op div __fn4_charge __tmp173 10
print "WAIT power. (%"
print __fn4_charge
print "J + %"
print __fn4_flow
print "W)\n"
set __fn4_supply_fuel false
jump __label185 always 0 0
label __label176
op lessThan __tmp175 __fn4_fuel FUEL_REQ
op land __tmp176 fuel_1 __tmp175
jump __label179 equal __tmp176 false
op add __tmp178 __fn4_fuel __fn4_fuel_stored
jump __label177 lessThanEq __tmp178 FUEL_REQ
print "WAIT fuel\n"
jump __label184 always 0 0
label __label177
print "WAIT system fuel\n"
jump __label184 always 0 0
label __label179
set __tmp181 FUEL_TOT_REQ
jump __label180 greaterThanEq __fn4_fuel_stored FUEL_TOT_REQ
print "WAIT buffer fuel\n"
jump __label183 always 0 0
label __label180
jump __label181 greaterThanEq __fn4_cryo __fn4_cryo_req
print "WAIT cryo\n"
jump __label182 always 0 0
label __label181
print "STARTUP\n"
op add START_POWER_REQ START_POWER_REQ PWR_REQ
control enabled reactor1 true 0 0 0
label __label182
label __label183
label __label184
label __label185
label __label186
label __label187
label __label188
sensor __tmp187 reactor1 @enabled
jump __label189 equal __fn4_enabled __tmp187
set RET_T_STARTUP @tick
label __label189
set fuel_1 __fn4_supply_fuel
set t_startup1 RET_T_STARTUP
set __tmp97 FUEL_OFF
jump __label111 equal __fn4_supply_fuel false
set __tmp97 FUEL
label __label111
control config ULD_IN_1 __tmp97 0 0 0
set __tmp99 FUEL_OFF
jump __label112 notEqual __fn4_supply_fuel false
set __tmp99 FUEL
label __label112
control config ULD_OUT_1 __tmp99 0 0 0
set RET_T_STARTUP t_startup2
op sub __tmp114 @tick t_startup2
op idiv __fn4_secs __tmp114 60
sensor __fn4_fuel reactor2 @blast-compound
set __fn4_supply_fuel true
sensor __fn4_fuel_stored CONTAINER @blast-compound
sensor __fn4_cryo reactor2 @cryofluid
sensor __tmp119 NODE @powerNetStored
op floor __fn4_charge __tmp119 0
sensor __tmp121 NODE @powerNetIn
sensor __tmp122 NODE @powerNetOut
op sub __tmp123 __tmp121 __tmp122
op floor __fn4_surplus __tmp123 0
op mul __tmp125 AVG_SURPLUS 0.8
op mul __tmp126 __fn4_surplus 0.2
op add AVG_SURPLUS __tmp125 __tmp126
sensor __fn4_enabled reactor2 @enabled
print "#"
print 2
print " - "
jump __label193 equal emerg_shutdown false
control enabled reactor2 false 0 0 0
print "emergency mode\n"
set __fn4_supply_fuel false
jump __label226 always 0 0
label __label193
jump __label212 equal __fn4_enabled false
jump __label194 greaterThanEq REACTORS_DESIRED 2
control enabled reactor2 false 0 0 0
print "STOP unwanted\n"
jump __label225 always 0 0
label __label194
op greaterThan __tmp133 2 1
op mul __tmp134 FUEL_TOT_ABORT 2
op lessThan __tmp135 __fn4_fuel_stored __tmp134
op land __tmp136 true __tmp135
jump __label195 equal __tmp136 false
control enabled reactor2 false 0 0 0
print "STOP system fuel low\n"
jump __label225 always 0 0
label __label195
jump __label196 greaterThan __fn4_fuel 1
control enabled reactor2 false 0 0 0
print "STOP fuel low\n"
jump __label225 always 0 0
label __label196
jump __label197 greaterThan __fn4_cryo CRYO_ABORT
control enabled reactor2 false 0 0 0
print "STOP out of cryo\n"
jump __label225 always 0 0
label __label197
jump __label204 greaterThanEq __fn4_secs 30
op sub __tmp103 @tick t_startup2
op idiv __fn3_secs __tmp103 60
op greaterThan __tmp105 __fn3_secs 30
sensor __tmp106 reactor2 @enabled
op equal __tmp107 __tmp106 false
op or __tmp108 __tmp105 __tmp107
jump __label199 equal __tmp108 false
set __fn3retval 0
jump __label201 always 0 0
label __label199
op sub __fn3_time_left 30 __fn3_secs
op mul __tmp111 __fn3_time_left __fn3_time_left
op idiv __fn3_charge_req __tmp111 0.04
set __fn3retval __fn3_charge_req
label __label201
op sub __tmp144 __fn4_charge __fn3retval
op lessThan __tmp145 __tmp144 PWR_ABORT
op lessThan __tmp146 __fn4_surplus FLOW_ABORT
op land __tmp147 __tmp145 __tmp146
jump __label202 equal __tmp147 false
control enabled reactor2 false 0 0 0
print "START FAIL battery\n"
set __fn4_supply_fuel false
jump __label225 always 0 0
label __label202
op sub __fn4_time_left 30 __fn4_secs
print "Starting "
print __fn4_time_left
print " secs, req "
print __fn3retval
print "J\n"
jump __label225 always 0 0
label __label204
op lessThan __tmp150 __fn4_charge PWR_ABANDON
op lessThan __tmp151 __fn4_surplus FLOW_ABORT
op land __tmp152 __tmp150 __tmp151
jump __label205 equal __tmp152 false
control enabled reactor2 false 0 0 0
print "ABANDON - battery crit\n"
set __fn4_supply_fuel false
jump __label225 always 0 0
label __label205
op idiv __fn4_mins __fn4_secs 6
op div __fn4_mins __fn4_mins 10
print "RUN "
print __fn4_mins
print " mins\n"
jump __label225 always 0 0
label __label212
op sub __tmp156 __fn4_charge START_POWER_REQ
op sub __tmp157 __tmp156 PWR_ABORT
op div __tmp158 __tmp157 PWR_REQ
op mul __fn4_charge_units __tmp158 PWR_RESERVE
op div __tmp160 __fn4_surplus FLOW_REQ
op max __fn4_flow_units -0.1 __tmp160
op mul __tmp162 CRYO_REQ_EA 2
op add __fn4_cryo_req CRYO_REQ __tmp162
jump __label213 greaterThanEq REACTORS_DESIRED 2
print "IDLE\n"
set __fn4_supply_fuel false
jump __label224 always 0 0
label __label213
op add __tmp166 __fn4_flow_units __fn4_charge_units
jump __label214 greaterThanEq __tmp166 1
op idiv __tmp170 __fn4_flow_units 0.001
op div __fn4_flow __tmp170 10
op idiv __tmp173 __fn4_charge_units 0.001
op div __fn4_charge __tmp173 10
print "WAIT power. (%"
print __fn4_charge
print "J + %"
print __fn4_flow
print "W)\n"
set __fn4_supply_fuel false
jump __label223 always 0 0
label __label214
op lessThan __tmp175 __fn4_fuel FUEL_REQ
op land __tmp176 fuel_2 __tmp175
jump __label217 equal __tmp176 false
op add __tmp178 __fn4_fuel __fn4_fuel_stored
jump __label215 lessThanEq __tmp178 FUEL_REQ
print "WAIT fuel\n"
jump __label222 always 0 0
label __label215
print "WAIT system fuel\n"
jump __label222 always 0 0
label __label217
op mul __tmp181 FUEL_TOT_REQ 2
jump __label218 greaterThanEq __fn4_fuel_stored __tmp181
print "WAIT buffer fuel\n"
jump __label221 always 0 0
label __label218
jump __label219 greaterThanEq __fn4_cryo __fn4_cryo_req
print "WAIT cryo\n"
jump __label220 always 0 0
label __label219
print "STARTUP\n"
op add START_POWER_REQ START_POWER_REQ PWR_REQ
control enabled reactor2 true 0 0 0
label __label220
label __label221
label __label222
label __label223
label __label224
label __label225
label __label226
sensor __tmp187 reactor2 @enabled
jump __label227 equal __fn4_enabled __tmp187
set RET_T_STARTUP @tick
label __label227
set fuel_2 __fn4_supply_fuel
set t_startup2 RET_T_STARTUP
set __tmp97 FUEL_OFF
jump __label115 equal __fn4_supply_fuel false
set __tmp97 FUEL
label __label115
control config ULD_IN_2 __tmp97 0 0 0
set __tmp99 FUEL_OFF
jump __label116 notEqual __fn4_supply_fuel false
set __tmp99 FUEL
label __label116
control config ULD_OUT_2 __tmp99 0 0 0
radar enemy any any health TOWER 1 __fn2_enemy_found
jump __label127 equal __fn2_enemy_found null
control enabled projector1 true 0 0 0
control enabled projector2 true 0 0 0
control config ULD_IN_1 FUEL_OFF 0 0 0
control config ULD_OUT_1 FUEL 0 0 0
control config ULD_IN_2 FUEL_OFF 0 0 0
control config ULD_OUT_2 FUEL 0 0 0
control config ULD_IN_MANY FUEL_OFF 0 0 0
control config ULD_OUT_MANY FUEL 0 0 0
control config ULD_MIXER FUEL_OFF 0 0 0
control enabled reactor1 false 0 0 0
control enabled reactor2 false 0 0 0
control enabled reactor3 false 0 0 0
control enabled reactor4 false 0 0 0
control enabled reactor5 false 0 0 0
set __fn2retval true
jump __label129 always 0 0
label __label127
control enabled projector1 false 0 0 0
control enabled projector2 false 0 0 0
set __fn2retval false
label __label129
op or emerg_shutdown emerg_shutdown __fn2retval
set RET_T_STARTUP t_startup3
op sub __tmp114 @tick t_startup3
op idiv __fn4_secs __tmp114 60
sensor __fn4_fuel reactor3 @blast-compound
set __fn4_supply_fuel true
sensor __fn4_fuel_stored CONTAINER @blast-compound
sensor __fn4_cryo reactor3 @cryofluid
sensor __tmp119 NODE @powerNetStored
op floor __fn4_charge __tmp119 0
sensor __tmp121 NODE @powerNetIn
sensor __tmp122 NODE @powerNetOut
op sub __tmp123 __tmp121 __tmp122
op floor __fn4_surplus __tmp123 0
op mul __tmp125 AVG_SURPLUS 0.8
op mul __tmp126 __fn4_surplus 0.2
op add AVG_SURPLUS __tmp125 __tmp126
sensor __fn4_enabled reactor3 @enabled
print "#"
print 3
print " - "
jump __label231 equal emerg_shutdown false
control enabled reactor3 false 0 0 0
print "emergency mode\n"
set __fn4_supply_fuel false
jump __label264 always 0 0
label __label231
jump __label250 equal __fn4_enabled false
jump __label232 greaterThanEq REACTORS_DESIRED 3
control enabled reactor3 false 0 0 0
print "STOP unwanted\n"
jump __label263 always 0 0
label __label232
op greaterThan __tmp133 3 1
op mul __tmp134 FUEL_TOT_ABORT 3
op lessThan __tmp135 __fn4_fuel_stored __tmp134
op land __tmp136 true __tmp135
jump __label233 equal __tmp136 false
control enabled reactor3 false 0 0 0
print "STOP system fuel low\n"
jump __label263 always 0 0
label __label233
jump __label234 greaterThan __fn4_fuel 1
control enabled reactor3 false 0 0 0
print "STOP fuel low\n"
jump __label263 always 0 0
label __label234
jump __label235 greaterThan __fn4_cryo CRYO_ABORT
control enabled reactor3 false 0 0 0
print "STOP out of cryo\n"
jump __label263 always 0 0
label __label235
jump __label242 greaterThanEq __fn4_secs 30
op sub __tmp103 @tick t_startup3
op idiv __fn3_secs __tmp103 60
op greaterThan __tmp105 __fn3_secs 30
sensor __tmp106 reactor3 @enabled
op equal __tmp107 __tmp106 false
op or __tmp108 __tmp105 __tmp107
jump __label237 equal __tmp108 false
set __fn3retval 0
jump __label239 always 0 0
label __label237
op sub __fn3_time_left 30 __fn3_secs
op mul __tmp111 __fn3_time_left __fn3_time_left
op idiv __fn3_charge_req __tmp111 0.04
set __fn3retval __fn3_charge_req
label __label239
op sub __tmp144 __fn4_charge __fn3retval
op lessThan __tmp145 __tmp144 PWR_ABORT
op lessThan __tmp146 __fn4_surplus FLOW_ABORT
op land __tmp147 __tmp145 __tmp146
jump __label240 equal __tmp147 false
control enabled reactor3 false 0 0 0
print "START FAIL battery\n"
set __fn4_supply_fuel false
jump __label263 always 0 0
label __label240
op sub __fn4_time_left 30 __fn4_secs
print "Starting "
print __fn4_time_left
print " secs, req "
print __fn3retval
print "J\n"
jump __label263 always 0 0
label __label242
op lessThan __tmp150 __fn4_charge PWR_ABANDON
op lessThan __tmp151 __fn4_surplus FLOW_ABORT
op land __tmp152 __tmp150 __tmp151
jump __label243 equal __tmp152 false
control enabled reactor3 false 0 0 0
print "ABANDON - battery crit\n"
set __fn4_supply_fuel false
jump __label263 always 0 0
label __label243
op idiv __fn4_mins __fn4_secs 6
op div __fn4_mins __fn4_mins 10
print "RUN "
print __fn4_mins
print " mins\n"
jump __label263 always 0 0
label __label250
op sub __tmp156 __fn4_charge START_POWER_REQ
op sub __tmp157 __tmp156 PWR_ABORT
op div __tmp158 __tmp157 PWR_REQ
op mul __fn4_charge_units __tmp158 PWR_RESERVE
op div __tmp160 __fn4_surplus FLOW_REQ
op max __fn4_flow_units -0.1 __tmp160
op mul __tmp162 CRYO_REQ_EA 3
op add __fn4_cryo_req CRYO_REQ __tmp162
jump __label251 greaterThanEq REACTORS_DESIRED 3
print "IDLE\n"
set __fn4_supply_fuel false
jump __label262 always 0 0
label __label251
op add __tmp166 __fn4_flow_units __fn4_charge_units
jump __label252 greaterThanEq __tmp166 1
op idiv __tmp170 __fn4_flow_units 0.001
op div __fn4_flow __tmp170 10
op idiv __tmp173 __fn4_charge_units 0.001
op div __fn4_charge __tmp173 10
print "WAIT power. (%"
print __fn4_charge
print "J + %"
print __fn4_flow
print "W)\n"
set __fn4_supply_fuel false
jump __label261 always 0 0
label __label252
op lessThan __tmp175 __fn4_fuel FUEL_REQ
op land __tmp176 fuel_3 __tmp175
jump __label255 equal __tmp176 false
op add __tmp178 __fn4_fuel __fn4_fuel_stored
jump __label253 lessThanEq __tmp178 FUEL_REQ
print "WAIT fuel\n"
jump __label260 always 0 0
label __label253
print "WAIT system fuel\n"
jump __label260 always 0 0
label __label255
op mul __tmp181 FUEL_TOT_REQ 3
jump __label256 greaterThanEq __fn4_fuel_stored __tmp181
print "WAIT buffer fuel\n"
jump __label259 always 0 0
label __label256
jump __label257 greaterThanEq __fn4_cryo __fn4_cryo_req
print "WAIT cryo\n"
jump __label258 always 0 0
label __label257
print "STARTUP\n"
op add START_POWER_REQ START_POWER_REQ PWR_REQ
control enabled reactor3 true 0 0 0
label __label258
label __label259
label __label260
label __label261
label __label262
label __label263
label __label264
sensor __tmp187 reactor3 @enabled
jump __label265 equal __fn4_enabled __tmp187
set RET_T_STARTUP @tick
label __label265
set fuel_3 __fn4_supply_fuel
set t_startup3 RET_T_STARTUP
set __fn4_reactor reactor4
set __fn4_reactor_num 4
set __fn4_emerg_shutdown emerg_shutdown
set __fn4_fuel_on fuel_4
set __fn4_t_startup t_startup4
setaddr __fn4retaddr __label26
call __label4 __fn4retval
gotolabel __label26 __fn4
set fuel_4 __fn4retval
set t_startup4 RET_T_STARTUP
set __fn4_reactor reactor5
set __fn4_reactor_num 5
set __fn4_emerg_shutdown emerg_shutdown
set __fn4_fuel_on fuel_5
set __fn4_t_startup t_startup5
setaddr __fn4retaddr __label27
call __label4 __fn4retval
gotolabel __label27 __fn4
set fuel_5 __fn4retval
set t_startup5 RET_T_STARTUP
op or __tmp33 fuel_3 fuel_4
op or fuel_many __tmp33 __fn4retval
set __tmp97 FUEL_OFF
jump __label119 equal fuel_many false
set __tmp97 FUEL
label __label119
control config ULD_IN_MANY __tmp97 0 0 0
set __tmp99 FUEL_OFF
jump __label120 notEqual fuel_many false
set __tmp99 FUEL
label __label120
control config ULD_OUT_MANY __tmp99 0 0 0
op or __tmp36 fuel_1 fuel_2
op or __tmp37 __tmp36 fuel_many
sensor __tmp39 NODE @powerNetStored
op floor __fn6_charge __tmp39 0
sensor __tmp41 NODE @powerNetIn
sensor __tmp42 NODE @powerNetOut
op sub __tmp43 __tmp41 __tmp42
op floor __fn6_surplus __tmp43 0
sensor __fn6_fuel_stored CONTAINER @blast-compound
op lessThan __tmp46 __fn6_charge PWR_ABORT
op lessThan __tmp47 __fn6_surplus FLOW_ABORT
op land __tmp48 __tmp46 __tmp47
op or __tmp49 __tmp48 emerg_shutdown
jump __label31 equal __tmp49 false
set __fn6_limit 0
print "Central Fuel at "
print __fn6_fuel_stored
print " / "
print 0
print " - "
jump __label33 equal emerg_shutdown false
print " Enemies detected.\n"
jump __label32 always 0 0
label __label33
print " Critical power.\n"
jump __label32 always 0 0
label __label31
jump __label35 notEqual __tmp37 false
set __fn6_limit FUEL_LIMIT_LOW
print "Fuel "
print __fn6_fuel_stored
print " / "
print FUEL_LIMIT_LOW
print " (due to emergency)\n"
jump __label36 always 0 0
label __label35
set __fn6_limit FUEL_LIMIT
print "Fuel "
print __fn6_fuel_stored
print " / "
print FUEL_LIMIT
print "\n"
label __label36
label __label32
op lessThan __tmp38 __fn6_fuel_stored __fn6_limit
set __tmp55 FUEL_OFF
jump __label38 equal __tmp38 false
set __tmp55 MIXER_IN
label __label38
control config ULD_MIXER __tmp55 0 0 0
sensor __tmp57 NODE @powerNetStored
sensor __tmp58 NODE @powerNetCapacity
op div __fn7_stored_pc __tmp57 __tmp58
op greaterThan __tmp60 __fn7_stored_pc 0.9
op lessThan __tmp61 START_POWER_REQ 10
op land __tmp62 __tmp60 __tmp61
jump __label41 equal __tmp62 false
print "Differential now idle.\n"
control enabled generator1 false 0 0 0
control enabled generator2 false 0 0 0
jump __label42 always 0 0
label __label41
control enabled generator1 true 0 0 0
control enabled generator2 true 0 0 0
label __label42
op idiv __tmp95 AVG_SURPLUS 100
op div __fn0retval __tmp95 10
set surplus __fn0retval
sensor __fn0_val NODE @powerNetStored
op idiv __tmp95 __fn0_val 100
op div __fn0retval __tmp95 10
set charge __fn0retval
jump __label45 lessThanEq START_POWER_REQ 0
op idiv __tmp95 START_POWER_REQ 100
op div __fn0retval __tmp95 10
print "Req "
print __fn0retval
print "kJ / "
print charge
print "kJ. "
print surplus
print "kW flow.\n"
jump __label46 always 0 0
label __label45
print "Power "
print surplus
print "kW, "
print __fn0retval
print "kJ\n"
sensor __tmp71 NODE @powerNetStored
sensor __tmp72 NODE @powerNetCapacity
op div __fn8_stored __tmp71 __tmp72
op greaterThan __tmp74 __fn8_stored 0.98
op add __tmp75 GENERATOR_OUTPUT GOAL_BUFFER
op greaterThan __tmp76 AVG_SURPLUS __tmp75
op land __tmp77 __tmp74 __tmp76
jump __label50 equal __tmp77 false
jump __label52 lessThanEq REACTORS_DESIRED 2
op sub REACTORS_DESIRED REACTORS_DESIRED 1
op sub AVG_SURPLUS AVG_SURPLUS GENERATOR_OUTPUT
label __label52
label __label50
op lessThan __tmp83 __fn8_stored 0.8
op mul __tmp84 GOAL_BUFFER 0.8
op lessThan __tmp85 AVG_SURPLUS __tmp84
op land __tmp86 __tmp83 __tmp85
jump __label54 equal __tmp86 false
op sub __tmp88 AVG_SURPLUS GOAL_BUFFER
op idiv __tmp89 __tmp88 GENERATOR_OUTPUT
op max __fn8_needed 1 __tmp89
op add __tmp91 __fn8_needed REACTORS_DESIRED
op min REACTORS_DESIRED 5 __tmp91
label __label54
label __label46
jump __label56 equal REACTORS_DESIRED 5
print "Require only "
print REACTORS_DESIRED
print "/5 reactors.\n"
label __label56
printflush message1
jump __label7 always 0 0
label __label4
set RET_T_STARTUP __fn4_t_startup
op sub __tmp114 @tick __fn4_t_startup
op idiv __fn4_secs __tmp114 60
sensor __fn4_fuel __fn4_reactor @blast-compound
set __fn4_supply_fuel true
sensor __fn4_fuel_stored CONTAINER @blast-compound
sensor __fn4_cryo __fn4_reactor @cryofluid
sensor __tmp119 NODE @powerNetStored
op floor __fn4_charge __tmp119 0
sensor __tmp121 NODE @powerNetIn
sensor __tmp122 NODE @powerNetOut
op sub __tmp123 __tmp121 __tmp122
op floor __fn4_surplus __tmp123 0
op mul __tmp125 AVG_SURPLUS 0.8
op mul __tmp126 __fn4_surplus 0.2
op add AVG_SURPLUS __tmp125 __tmp126
sensor __fn4_enabled __fn4_reactor @enabled
print "#"
print __fn4_reactor_num
print " - "
jump __label71 equal __fn4_emerg_shutdown false
control enabled __fn4_reactor false 0 0 0
print "emergency mode\n"
set __fn4_supply_fuel false
jump __label72 always 0 0
label __label71
jump __label73 equal __fn4_enabled false
jump __label75 greaterThanEq REACTORS_DESIRED __fn4_reactor_num
control enabled __fn4_reactor false 0 0 0
print "STOP unwanted\n"
jump __label74 always 0 0
label __label75
op greaterThan __tmp133 __fn4_reactor_num 1
op mul __tmp134 FUEL_TOT_ABORT __fn4_reactor_num
op lessThan __tmp135 __fn4_fuel_stored __tmp134
op land __tmp136 __tmp133 __tmp135
jump __label77 equal __tmp136 false
control enabled __fn4_reactor false 0 0 0
print "STOP system fuel low\n"
jump __label74 always 0 0
label __label77
jump __label79 greaterThan __fn4_fuel 1
control enabled __fn4_reactor false 0 0 0
print "STOP fuel low\n"
jump __label74 always 0 0
label __label79
jump __label81 greaterThan __fn4_cryo CRYO_ABORT
control enabled __fn4_reactor false 0 0 0
print "STOP out of cryo\n"
jump __label74 always 0 0
label __label81
jump __label83 greaterThanEq __fn4_secs 30
op sub __tmp103 @tick __fn4_t_startup
op idiv __fn3_secs __tmp103 60
op greaterThan __tmp105 __fn3_secs 30
sensor __tmp106 __fn4_reactor @enabled
op equal __tmp107 __tmp106 false
op or __tmp108 __tmp105 __tmp107
jump __label151 equal __tmp108 false
set __fn3retval 0
jump __label153 always 0 0
label __label151
op sub __fn3_time_left 30 __fn3_secs
op mul __tmp111 __fn3_time_left __fn3_time_left
op idiv __fn3_charge_req __tmp111 0.04
set __fn3retval __fn3_charge_req
label __label153
op sub __tmp144 __fn4_charge __fn3retval
op lessThan __tmp145 __tmp144 PWR_ABORT
op lessThan __tmp146 __fn4_surplus FLOW_ABORT
op land __tmp147 __tmp145 __tmp146
jump __label86 equal __tmp147 false
control enabled __fn4_reactor false 0 0 0
print "START FAIL battery\n"
set __fn4_supply_fuel false
jump __label74 always 0 0
label __label86
op sub __fn4_time_left 30 __fn4_secs
print "Starting "
print __fn4_time_left
print " secs, req "
print __fn3retval
print "J\n"
jump __label74 always 0 0
label __label83
op lessThan __tmp150 __fn4_charge PWR_ABANDON
op lessThan __tmp151 __fn4_surplus FLOW_ABORT
op land __tmp152 __tmp150 __tmp151
jump __label88 equal __tmp152 false
control enabled __fn4_reactor false 0 0 0
print "ABANDON - battery crit\n"
set __fn4_supply_fuel false
jump __label74 always 0 0
label __label88
op idiv __fn4_mins __fn4_secs 6
op div __fn4_mins __fn4_mins 10
print "RUN "
print __fn4_mins
print " mins\n"
jump __label74 always 0 0
label __label73
op sub __tmp156 __fn4_charge START_POWER_REQ
op sub __tmp157 __tmp156 PWR_ABORT
op div __tmp158 __tmp157 PWR_REQ
op mul __fn4_charge_units __tmp158 PWR_RESERVE
op div __tmp160 __fn4_surplus FLOW_REQ
op max __fn4_flow_units -0.1 __tmp160
op mul __tmp162 CRYO_REQ_EA __fn4_reactor_num
op add __fn4_cryo_req CRYO_REQ __tmp162
jump __label90 greaterThanEq REACTORS_DESIRED __fn4_reactor_num
print "IDLE\n"
set __fn4_supply_fuel false
jump __label91 always 0 0
label __label90
op add __tmp166 __fn4_flow_units __fn4_charge_units
jump __label92 greaterThanEq __tmp166 1
op idiv __tmp170 __fn4_flow_units 0.001
op div __fn4_flow __tmp170 10
op idiv __tmp173 __fn4_charge_units 0.001
op div __fn4_charge __tmp173 10
print "WAIT power. (%"
print __fn4_charge
print "J + %"
print __fn4_flow
print "W)\n"
set __fn4_supply_fuel false
jump __label93 always 0 0
label __label92
op lessThan __tmp175 __fn4_fuel FUEL_REQ
op land __tmp176 __fn4_fuel_on __tmp175
jump __label94 equal __tmp176 false
op add __tmp178 __fn4_fuel __fn4_fuel_stored
jump __label96 lessThanEq __tmp178 FUEL_REQ
print "WAIT fuel\n"
jump __label95 always 0 0
label __label96
print "WAIT system fuel\n"
jump __label95 always 0 0
label __label94
op mul __tmp181 FUEL_TOT_REQ __fn4_reactor_num
jump __label98 greaterThanEq __fn4_fuel_stored __tmp181
print "WAIT buffer fuel\n"
jump __label99 always 0 0
label __label98
jump __label100 greaterThanEq __fn4_cryo __fn4_cryo_req
print "WAIT cryo\n"
jump __label101 always 0 0
label __label100
print "STARTUP\n"
op add START_POWER_REQ START_POWER_REQ PWR_REQ
control enabled __fn4_reactor true 0 0 0
label __label101
label __label99
label __label95
label __label93
label __label91
label __label74
label __label72
sensor __tmp187 __fn4_reactor @enabled
jump __label102 equal __fn4_enabled __tmp187
set RET_T_STARTUP @tick
label __label102
set __fn4retval __fn4_supply_fuel
goto __fn4retaddr __fn4
