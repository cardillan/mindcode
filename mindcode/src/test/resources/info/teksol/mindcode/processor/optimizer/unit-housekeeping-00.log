   174 instructions before optimizations.
    12 instructions eliminated by Temp Variables Elimination.
     2 instructions eliminated by Case Expression Optimization.
    30 instructions eliminated by Dead Code Elimination (6 iterations).
     1 instructions eliminated by Jump Normalization (3 iterations).
     6 instructions eliminated by Jump Optimization (3 iterations).
    10 instructions eliminated by Single Step Elimination (4 iterations).
     7 instructions eliminated by Jump Straightening (3 iterations).
     2 instructions updated by PropagateJumpTargets.
     1 instructions eliminated by Unreachable Code Elimination.
   105 instructions after optimizations.

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-12 instructions):
     0 set UNIT @mega
-    * sensor __tmp0 @this @x
-    * set THIS_X __tmp0
-    * sensor __tmp1 @this @y
-    * set THIS_Y __tmp1
+    1 sensor THIS_X @this @x
+    2 noop
+    3 sensor THIS_Y @this @y
+    4 noop
     5 set first_unit null
     6 set index 1
     7 label __label0
 
    59 op or __tmp9 __tmp7 __tmp8
    60 jump __label16 equal __tmp9 false
    61 printflush message1
-    * set __tmp11 @unit
-    * set first_unit __tmp11
+   62 set first_unit @unit
+   63 noop
    64 set index 1
    65 print UNIT
    66 sensor __tmp12 switch1 @enabled
 
    76 label __label16
    77 set __tmp10 null
    78 label __label17
-    * sensor __tmp14 @unit @controlled
-    * set controlled __tmp14
-    * sensor __tmp15 @unit @flag
-    * set flag __tmp15
-    * sensor __tmp16 @unit @totalItems
-    * set items __tmp16
-    * sensor __tmp17 @unit @firstItem
-    * set item __tmp17
+   79 sensor controlled @unit @controlled
+   80 noop
+   81 sensor flag @unit @flag
+   82 noop
+   83 sensor items @unit @totalItems
+   84 noop
+   85 sensor item @unit @firstItem
+   86 noop
    87 sensor __tmp18 @unit @controller
    88 op equal __tmp19 __tmp18 @this
    89 jump __label20 equal __tmp19 false
 
   108 jump __label26 equal __ast1 @ctrlProcessor
   109 jump __label25 always
   110 label __label26
-    * sensor __tmp31 @unit @controller
-    * set controller __tmp31
+  111 sensor controller @unit @controller
+  112 noop
   113 sensor __tmp32 controller @x
-    * op floor __tmp33 __tmp32
-    * set x __tmp33
+  114 op floor x __tmp32
+  115 noop
   116 sensor __tmp34 controller @y
-    * op floor __tmp35 __tmp34
-    * set y __tmp35
+  117 op floor y __tmp34
+  118 noop
   119 print ", "
   120 print x
   121 print ";"
 
   171 op greaterThan __tmp44 items 0
   172 jump __label37 equal __tmp44 false
   173 ucontrol flag 1
-    * ulocate building core false @copper CORE_X CORE_Y __tmp47 __tmp46
-    * set CORE __tmp46
+  174 ulocate building core false @copper CORE_X CORE_Y __tmp47 CORE
+  175 noop
   176 ucontrol within CORE_X CORE_Y 8 __tmp48
   177 jump __label39 equal __tmp48 false
   178 ucontrol itemDrop CORE items
 
   208 label __label35
   209 set __tmp43 null
   210 label __label36
-    * op add __tmp54 index 1
-    * set index __tmp54
+  211 op add index index 1
+  212 noop
   213 set __tmp6 index
   214 label __label15
   215 label __label1

Modifications by Initial phase, Case Expression Optimization, iteration 1 (-2 instructions):
 
     8 jump __label2 equal true false
     9 sensor __tmp2 switch2 @enabled
    10 jump __label3 equal __tmp2 false
-    * set __ast0 UNIT
-    * jump __label7 equal __ast0 @flare
+   11 jump __label7 equal UNIT @flare
    12 jump __label6 always
    13 label __label7
    14 set __tmp4 @mono
    15 jump __label5 always
    16 label __label6
-    * jump __label9 equal __ast0 @mono
+   17 jump __label9 equal UNIT @mono
    18 jump __label8 always
    19 label __label9
    20 set __tmp4 @poly
    21 jump __label5 always
    22 label __label8
-    * jump __label11 equal __ast0 @poly
+   23 jump __label11 equal UNIT @poly
    24 jump __label10 always
    25 label __label11
    26 set __tmp4 @mega
    27 jump __label5 always
    28 label __label10
-    * jump __label13 equal __ast0 @mega
+   29 jump __label13 equal UNIT @mega
    30 jump __label12 always
    31 label __label13
    32 set __tmp4 @flare
 
   103 jump __label22 equal __tmp28 false
   104 print "\n"
   105 print index
-    * set __ast1 controlled
-    * jump __label26 equal __ast1 @ctrlProcessor
+  106 jump __label26 equal controlled @ctrlProcessor
   107 jump __label25 always
   108 label __label26
   109 sensor controller @unit @controller
 
   121 set __tmp30 y
   122 jump __label24 always
   123 label __label25
-    * jump __label28 equal __ast1 @ctrlPlayer
+  124 jump __label28 equal controlled @ctrlPlayer
   125 jump __label27 always
   126 label __label28
   127 print ", player"
   128 set __tmp30 ", player"
   129 jump __label24 always
   130 label __label27
-    * jump __label30 equal __ast1 @ctrlFormation
+  131 jump __label30 equal controlled @ctrlFormation
   132 jump __label29 always
   133 label __label30
   134 print ", group"

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-18 instructions):
 
    39 control enabled switch2 false
    40 print UNIT
    41 print ": gathering information..."
-    * set __tmp3 ": gathering information..."
+   42 noop
    43 jump __label4 always
    44 label __label3
-    * set __tmp3 null
+   45 noop
    46 label __label4
    47 ubind UNIT
    48 op equal __tmp5 @unit null
 
    50 print UNIT
    51 print ": no active unit found."
    52 printflush message1
-    * set __tmp6 null
+   53 noop
    54 jump __label15 always
    55 label __label14
    56 op strictEqual __tmp7 @unit first_unit
 
    70 label __label18
    71 set __tmp13 null
    72 label __label19
-    * set __tmp10 __tmp13
+   73 noop
    74 jump __label17 always
    75 label __label16
-    * set __tmp10 null
+   76 noop
    77 label __label17
    78 sensor controlled @unit @controlled
    79 noop
 
    87 op equal __tmp19 __tmp18 @this
    88 jump __label20 equal __tmp19 false
    89 set controlled 0
-    * set __tmp20 controlled
+   90 noop
    91 jump __label21 always
    92 label __label20
-    * set __tmp20 null
+   93 noop
    94 label __label21
    95 op notEqual __tmp21 flag 0
    96 op greaterThan __tmp22 items 0
 
   118 print x
   119 print ";"
   120 print y
-    * set __tmp30 y
+  121 noop
   122 jump __label24 always
   123 label __label25
   124 jump __label28 equal controlled @ctrlPlayer
   125 jump __label27 always
   126 label __label28
   127 print ", player"
-    * set __tmp30 ", player"
+  128 noop
   129 jump __label24 always
   130 label __label27
   131 jump __label30 equal controlled @ctrlFormation
   132 jump __label29 always
   133 label __label30
   134 print ", group"
-    * set __tmp30 ", group"
+  135 noop
   136 jump __label24 always
   137 label __label29
-    * set __tmp30 null
+  138 noop
   139 label __label24
   140 op notEqual __tmp36 flag 0
   141 jump __label31 equal __tmp36 false
   142 print ", F"
   143 print flag
-    * set __tmp37 flag
+  144 noop
   145 jump __label32 always
   146 label __label31
-    * set __tmp37 null
+  147 noop
   148 label __label32
   149 op greaterThan __tmp38 items 0
   150 jump __label33 equal __tmp38 false
 
   157 label __label33
   158 set __tmp39 null
   159 label __label34
-    * set __tmp29 __tmp39
+  160 noop
   161 jump __label23 always
   162 label __label22
-    * set __tmp29 null
+  163 noop
   164 label __label23
   165 op equal __tmp40 controlled 0
   166 sensor __tmp41 switch1 @enabled
 
   201 label __label42
   202 set __tmp45 __tmp51
   203 label __label38
-    * set __tmp43 __tmp45
+  204 noop
   205 jump __label36 always
   206 label __label35
-    * set __tmp43 null
+  207 noop
   208 label __label36
   209 op add index index 1
   210 noop
-    * set __tmp6 index
+  211 noop
   212 label __label15
   213 label __label1
   214 jump __label0 always

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-6 instructions):
 
    65 sensor __tmp12 switch1 @enabled
    66 jump __label18 equal __tmp12 false
    67 print " (cleanup active)"
-    * set __tmp13 " (cleanup active)"
+   68 noop
    69 jump __label19 always
    70 label __label18
-    * set __tmp13 null
+   71 noop
    72 label __label19
    73 noop
    74 jump __label17 always
 
   152 print items
   153 print " "
   154 print item
-    * set __tmp39 item
+  155 noop
   156 jump __label34 always
   157 label __label33
-    * set __tmp39 null
+  158 noop
   159 label __label34
   160 noop
   161 jump __label23 always
 
   180 ucontrol approach CORE_X CORE_Y 4
   181 set __tmp49 null
   182 label __label40
-    * set __tmp45 __tmp49
+  183 noop
   184 jump __label38 always
   185 label __label37
   186 op notEqual __tmp50 flag 0
 
   199 label __label41
   200 set __tmp51 null
   201 label __label42
-    * set __tmp45 __tmp51
+  202 noop
   203 label __label38
   204 noop
   205 jump __label36 always

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-4 instructions):
 
   174 ucontrol within CORE_X CORE_Y 8 __tmp48
   175 jump __label39 equal __tmp48 false
   176 ucontrol itemDrop CORE items
-    * set __tmp49 null
+  177 noop
   178 jump __label40 always
   179 label __label39
   180 ucontrol approach CORE_X CORE_Y 4
-    * set __tmp49 null
+  181 noop
   182 label __label40
   183 noop
   184 jump __label38 always
 
   194 ucontrol approach THIS_X THIS_Y 4
   195 set __tmp53 null
   196 label __label44
-    * set __tmp51 __tmp53
+  197 noop
   198 jump __label42 always
   199 label __label41
-    * set __tmp51 null
+  200 noop
   201 label __label42
   202 noop
   203 label __label38

Modifications by Initial phase, Dead Code Elimination, iteration 4 (-2 instructions):
 
   188 ucontrol within THIS_X THIS_Y 8 __tmp52
   189 jump __label43 equal __tmp52 false
   190 ucontrol flag 0
-    * set __tmp53 null
+  191 noop
   192 jump __label44 always
   193 label __label43
   194 ucontrol approach THIS_X THIS_Y 4
-    * set __tmp53 null
+  195 noop
   196 label __label44
   197 noop
   198 jump __label42 always

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-1 instructions):
 
     5 set first_unit null
     6 set index 1
     7 label __label0
-    * jump __label2 equal true false
+    8 noop
     9 sensor __tmp2 switch2 @enabled
    10 jump __label3 equal __tmp2 false
    11 jump __label7 equal UNIT @flare

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-7 instructions):
 
     8 noop
     9 sensor __tmp2 switch2 @enabled
    10 jump __label3 equal __tmp2 false
-    * jump __label7 equal UNIT @flare
-    * jump __label6 always
+   11 jump __label6 notEqual UNIT @flare
+   12 noop
    13 label __label7
    14 set __tmp4 @mono
    15 jump __label5 always
    16 label __label6
-    * jump __label9 equal UNIT @mono
-    * jump __label8 always
+   17 jump __label8 notEqual UNIT @mono
+   18 noop
    19 label __label9
    20 set __tmp4 @poly
    21 jump __label5 always
    22 label __label8
-    * jump __label11 equal UNIT @poly
-    * jump __label10 always
+   23 jump __label10 notEqual UNIT @poly
+   24 noop
    25 label __label11
    26 set __tmp4 @mega
    27 jump __label5 always
    28 label __label10
-    * jump __label13 equal UNIT @mega
-    * jump __label12 always
+   29 jump __label12 notEqual UNIT @mega
+   30 noop
    31 label __label13
    32 set __tmp4 @flare
    33 jump __label5 always
 
   103 jump __label22 equal __tmp28 false
   104 print "\n"
   105 print index
-    * jump __label26 equal controlled @ctrlProcessor
-    * jump __label25 always
+  106 jump __label25 notEqual controlled @ctrlProcessor
+  107 noop
   108 label __label26
   109 sensor controller @unit @controller
   110 noop
 
   121 noop
   122 jump __label24 always
   123 label __label25
-    * jump __label28 equal controlled @ctrlPlayer
-    * jump __label27 always
+  124 jump __label27 notEqual controlled @ctrlPlayer
+  125 noop
   126 label __label28
   127 print ", player"
   128 noop
   129 jump __label24 always
   130 label __label27
-    * jump __label30 equal controlled @ctrlFormation
-    * jump __label29 always
+  131 jump __label29 notEqual controlled @ctrlFormation
+  132 noop
   133 label __label30
   134 print ", group"
   135 noop

Modifications by Iterated phase, Jump Optimization, pass 1, iteration 1 (-6 instructions):
 
    45 noop
    46 label __label4
    47 ubind UNIT
-    * op equal __tmp5 @unit null
-    * jump __label14 equal __tmp5 false
+   48 jump __label14 notEqual @unit null
    49 print UNIT
    50 print ": no active unit found."
    51 printflush message1
 
    83 sensor item @unit @firstItem
    84 noop
    85 sensor __tmp18 @unit @controller
-    * op equal __tmp19 __tmp18 @this
-    * jump __label20 equal __tmp19 false
+   86 jump __label20 notEqual __tmp18 @this
    87 set controlled 0
    88 noop
    89 jump __label21 always
 
   135 label __label29
   136 noop
   137 label __label24
-    * op notEqual __tmp36 flag 0
-    * jump __label31 equal __tmp36 false
+  138 jump __label31 equal flag 0
   139 print ", F"
   140 print flag
   141 noop
 
   143 label __label31
   144 noop
   145 label __label32
-    * op greaterThan __tmp38 items 0
-    * jump __label33 equal __tmp38 false
+  146 jump __label33 lessThanEq items 0
   147 print ", "
   148 print items
   149 print " "
 
   162 sensor __tmp41 switch1 @enabled
   163 op land __tmp42 __tmp40 __tmp41
   164 jump __label35 equal __tmp42 false
-    * op greaterThan __tmp44 items 0
-    * jump __label37 equal __tmp44 false
+  165 jump __label37 lessThanEq items 0
   166 ucontrol flag 1
   167 ulocate building core false @copper CORE_X CORE_Y __tmp47 CORE
   168 noop
 
   178 noop
   179 jump __label38 always
   180 label __label37
-    * op notEqual __tmp50 flag 0
-    * jump __label41 equal __tmp50 false
+  181 jump __label41 equal flag 0
   182 ucontrol within THIS_X THIS_Y 8 __tmp52
   183 jump __label43 equal __tmp52 false
   184 ucontrol flag 0

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-10 instructions):
 
    40 print UNIT
    41 print ": gathering information..."
    42 noop
-    * jump __label4 always
+   43 noop
    44 label __label3
    45 noop
    46 label __label4
 
    65 jump __label18 equal __tmp12 false
    66 print " (cleanup active)"
    67 noop
-    * jump __label19 always
+   68 noop
    69 label __label18
    70 noop
    71 label __label19
    72 noop
-    * jump __label17 always
+   73 noop
    74 label __label16
    75 noop
    76 label __label17
 
    86 jump __label20 notEqual __tmp18 @this
    87 set controlled 0
    88 noop
-    * jump __label21 always
+   89 noop
    90 label __label20
    91 noop
    92 label __label21
 
   131 label __label30
   132 print ", group"
   133 noop
-    * jump __label24 always
+  134 noop
   135 label __label29
   136 noop
   137 label __label24
 
   139 print ", F"
   140 print flag
   141 noop
-    * jump __label32 always
+  142 noop
   143 label __label31
   144 noop
   145 label __label32
 
   149 print " "
   150 print item
   151 noop
-    * jump __label34 always
+  152 noop
   153 label __label33
   154 noop
   155 label __label34
   156 noop
-    * jump __label23 always
+  157 noop
   158 label __label22
   159 noop
   160 label __label23
 
   189 noop
   190 label __label44
   191 noop
-    * jump __label42 always
+  192 noop
   193 label __label41
   194 noop
   195 label __label42
   196 noop
   197 label __label38
   198 noop
-    * jump __label36 always
+  199 noop
   200 label __label35
   201 noop
   202 label __label36

Modifications by Final phase, Jump Threading, iteration 1:
 
    50 print ": no active unit found."
    51 printflush message1
    52 noop
-    * jump __label15 always
+   53 jump __label0 always
    54 label __label14
    55 op strictEqual __tmp7 @unit first_unit
    56 op strictEqual __tmp8 first_unit null
 
   170 jump __label39 equal __tmp48 false
   171 ucontrol itemDrop CORE items
   172 noop
-    * jump __label40 always
+  173 jump __label38 always
   174 label __label39
   175 ucontrol approach CORE_X CORE_Y 4
   176 noop

Modifications by Final phase, Unreachable Code Elimination, iteration 1 (-1 instructions):
 
   206 label __label15
   207 label __label1
   208 jump __label0 always
-    * label __label2
-    * end

Final code before resolving virtual instructions:

set UNIT @mega
sensor THIS_X @this @x
sensor THIS_Y @this @y
set first_unit null
set index 1
label __label0
sensor __tmp2 switch2 @enabled
jump __label3 equal __tmp2 false
jump __label6 notEqual UNIT @flare
set __tmp4 @mono
jump __label5 always 0 0
label __label6
jump __label8 notEqual UNIT @mono
set __tmp4 @poly
jump __label5 always 0 0
label __label8
jump __label10 notEqual UNIT @poly
set __tmp4 @mega
jump __label5 always 0 0
label __label10
jump __label12 notEqual UNIT @mega
set __tmp4 @flare
jump __label5 always 0 0
label __label12
set __tmp4 null
label __label5
set UNIT __tmp4
set first_unit null
control enabled switch2 false 0 0 0
print UNIT
print ": gathering information..."
label __label3
ubind UNIT
jump __label14 notEqual @unit null
print UNIT
print ": no active unit found."
printflush message1
jump __label0 always 0 0
label __label14
op strictEqual __tmp7 @unit first_unit
op strictEqual __tmp8 first_unit null
op or __tmp9 __tmp7 __tmp8
jump __label16 equal __tmp9 false
printflush message1
set first_unit @unit
set index 1
print UNIT
sensor __tmp12 switch1 @enabled
jump __label18 equal __tmp12 false
print " (cleanup active)"
label __label18
label __label16
sensor controlled @unit @controlled
sensor flag @unit @flag
sensor items @unit @totalItems
sensor item @unit @firstItem
sensor __tmp18 @unit @controller
jump __label20 notEqual __tmp18 @this
set controlled 0
label __label20
op notEqual __tmp21 flag 0
op greaterThan __tmp22 items 0
op or __tmp23 __tmp21 __tmp22
op notEqual __tmp24 controlled 0
sensor __tmp25 @unit @controller
op notEqual __tmp26 __tmp25 @this
op land __tmp27 __tmp24 __tmp26
op or __tmp28 __tmp23 __tmp27
jump __label22 equal __tmp28 false
print "\n"
print index
jump __label25 notEqual controlled @ctrlProcessor
sensor controller @unit @controller
sensor __tmp32 controller @x
op floor x __tmp32 0
sensor __tmp34 controller @y
op floor y __tmp34 0
print ", "
print x
print ";"
print y
jump __label24 always 0 0
label __label25
jump __label27 notEqual controlled @ctrlPlayer
print ", player"
jump __label24 always 0 0
label __label27
jump __label29 notEqual controlled @ctrlFormation
print ", group"
label __label29
label __label24
jump __label31 equal flag 0
print ", F"
print flag
label __label31
jump __label33 lessThanEq items 0
print ", "
print items
print " "
print item
label __label33
label __label22
op equal __tmp40 controlled 0
sensor __tmp41 switch1 @enabled
op land __tmp42 __tmp40 __tmp41
jump __label35 equal __tmp42 false
jump __label37 lessThanEq items 0
ucontrol flag 1 0 0 0 0
ulocate building core false @copper CORE_X CORE_Y __tmp47 CORE
ucontrol within CORE_X CORE_Y 8 __tmp48 0
jump __label39 equal __tmp48 false
ucontrol itemDrop CORE items 0 0 0
jump __label38 always 0 0
label __label39
ucontrol approach CORE_X CORE_Y 4 0 0
jump __label38 always 0 0
label __label37
jump __label41 equal flag 0
ucontrol within THIS_X THIS_Y 8 __tmp52 0
jump __label43 equal __tmp52 false
ucontrol flag 0 0 0 0 0
jump __label44 always 0 0
label __label43
ucontrol approach THIS_X THIS_Y 4 0 0
label __label44
label __label41
label __label38
label __label35
op add index index 1
jump __label0 always 0 0
