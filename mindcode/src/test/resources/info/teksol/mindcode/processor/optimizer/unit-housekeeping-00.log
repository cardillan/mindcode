   174 instructions before optimizations.
    12 instructions eliminated by Temp Variables Elimination.
     2 instructions eliminated by Case Expression Optimization.
    30 instructions eliminated by Dead Code Elimination (6 iterations).
     1 instructions eliminated by Jump Normalization (3 iterations).
     6 instructions eliminated by Jump Optimization (3 iterations).
    10 instructions eliminated by Single Step Elimination (4 iterations).
     2 instructions modified by Expression Optimization (2 iterations).
     2 instructions eliminated by Data Flow Optimization (4 iterations).
     7 instructions eliminated by Jump Straightening (3 iterations).
     2 instructions updated by PropagateJumpTargets.
     1 instructions eliminated by Unreachable Code Elimination.
   103 instructions after optimizations.

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-12 instructions):
     0 set UNIT @mega
-    * sensor __tmp0 @this @x
-    * set THIS_X __tmp0
-    * sensor __tmp1 @this @y
-    * set THIS_Y __tmp1
+    1 sensor THIS_X @this @x
+    2 sensor THIS_Y @this @y
     3 set first_unit null
     4 set index 1
     5 label __label0
 
    57 op or __tmp9 __tmp7 __tmp8
    58 jump __label16 equal __tmp9 false
    59 printflush message1
-    * set __tmp11 @unit
-    * set first_unit __tmp11
+   60 set first_unit @unit
    61 set index 1
    62 print UNIT
    63 sensor __tmp12 switch1 @enabled
 
    73 label __label16
    74 set __tmp10 null
    75 label __label17
-    * sensor __tmp14 @unit @controlled
-    * set controlled __tmp14
-    * sensor __tmp15 @unit @flag
-    * set flag __tmp15
-    * sensor __tmp16 @unit @totalItems
-    * set items __tmp16
-    * sensor __tmp17 @unit @firstItem
-    * set item __tmp17
+   76 sensor controlled @unit @controlled
+   77 sensor flag @unit @flag
+   78 sensor items @unit @totalItems
+   79 sensor item @unit @firstItem
    80 sensor __tmp18 @unit @controller
    81 op equal __tmp19 __tmp18 @this
    82 jump __label20 equal __tmp19 false
 
   101 jump __label26 equal __ast1 @ctrlProcessor
   102 jump __label25 always
   103 label __label26
-    * sensor __tmp31 @unit @controller
-    * set controller __tmp31
+  104 sensor controller @unit @controller
   105 sensor __tmp32 controller @x
-    * op floor __tmp33 __tmp32
-    * set x __tmp33
+  106 op floor x __tmp32
   107 sensor __tmp34 controller @y
-    * op floor __tmp35 __tmp34
-    * set y __tmp35
+  108 op floor y __tmp34
   109 print ", "
   110 print x
   111 print ";"
 
   161 op greaterThan __tmp44 items 0
   162 jump __label37 equal __tmp44 false
   163 ucontrol flag 1
-    * ulocate building core false @copper CORE_X CORE_Y __tmp47 __tmp46
-    * set CORE __tmp46
+  164 ulocate building core false @copper CORE_X CORE_Y __tmp47 CORE
   165 ucontrol within CORE_X CORE_Y 8 __tmp48
   166 jump __label39 equal __tmp48 false
   167 ucontrol itemDrop CORE items
 
   197 label __label35
   198 set __tmp43 null
   199 label __label36
-    * op add __tmp54 index 1
-    * set index __tmp54
+  200 op add index index 1
   201 set __tmp6 index
   202 label __label15
   203 label __label1

Modifications by Initial phase, Case Expression Optimization, iteration 1 (-2 instructions):
 
     6 jump __label2 equal true false
     7 sensor __tmp2 switch2 @enabled
     8 jump __label3 equal __tmp2 false
-    * set __ast0 UNIT
-    * jump __label7 equal __ast0 @flare
+    9 jump __label7 equal UNIT @flare
    10 jump __label6 always
    11 label __label7
    12 set __tmp4 @mono
    13 jump __label5 always
    14 label __label6
-    * jump __label9 equal __ast0 @mono
+   15 jump __label9 equal UNIT @mono
    16 jump __label8 always
    17 label __label9
    18 set __tmp4 @poly
    19 jump __label5 always
    20 label __label8
-    * jump __label11 equal __ast0 @poly
+   21 jump __label11 equal UNIT @poly
    22 jump __label10 always
    23 label __label11
    24 set __tmp4 @mega
    25 jump __label5 always
    26 label __label10
-    * jump __label13 equal __ast0 @mega
+   27 jump __label13 equal UNIT @mega
    28 jump __label12 always
    29 label __label13
    30 set __tmp4 @flare
 
    96 jump __label22 equal __tmp28 false
    97 print "\n"
    98 print index
-    * set __ast1 controlled
-    * jump __label26 equal __ast1 @ctrlProcessor
+   99 jump __label26 equal controlled @ctrlProcessor
   100 jump __label25 always
   101 label __label26
   102 sensor controller @unit @controller
 
   111 set __tmp30 y
   112 jump __label24 always
   113 label __label25
-    * jump __label28 equal __ast1 @ctrlPlayer
+  114 jump __label28 equal controlled @ctrlPlayer
   115 jump __label27 always
   116 label __label28
   117 print ", player"
   118 set __tmp30 ", player"
   119 jump __label24 always
   120 label __label27
-    * jump __label30 equal __ast1 @ctrlFormation
+  121 jump __label30 equal controlled @ctrlFormation
   122 jump __label29 always
   123 label __label30
   124 print ", group"

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-18 instructions):
 
    37 control enabled switch2 false
    38 print UNIT
    39 print ": gathering information..."
-    * set __tmp3 ": gathering information..."
    40 jump __label4 always
    41 label __label3
-    * set __tmp3 null
    42 label __label4
    43 ubind UNIT
    44 op equal __tmp5 @unit null
 
    46 print UNIT
    47 print ": no active unit found."
    48 printflush message1
-    * set __tmp6 null
    49 jump __label15 always
    50 label __label14
    51 op strictEqual __tmp7 @unit first_unit
 
    64 label __label18
    65 set __tmp13 null
    66 label __label19
-    * set __tmp10 __tmp13
    67 jump __label17 always
    68 label __label16
-    * set __tmp10 null
    69 label __label17
    70 sensor controlled @unit @controlled
    71 sensor flag @unit @flag
 
    75 op equal __tmp19 __tmp18 @this
    76 jump __label20 equal __tmp19 false
    77 set controlled 0
-    * set __tmp20 controlled
    78 jump __label21 always
    79 label __label20
-    * set __tmp20 null
    80 label __label21
    81 op notEqual __tmp21 flag 0
    82 op greaterThan __tmp22 items 0
 
   101 print x
   102 print ";"
   103 print y
-    * set __tmp30 y
   104 jump __label24 always
   105 label __label25
   106 jump __label28 equal controlled @ctrlPlayer
   107 jump __label27 always
   108 label __label28
   109 print ", player"
-    * set __tmp30 ", player"
   110 jump __label24 always
   111 label __label27
   112 jump __label30 equal controlled @ctrlFormation
   113 jump __label29 always
   114 label __label30
   115 print ", group"
-    * set __tmp30 ", group"
   116 jump __label24 always
   117 label __label29
-    * set __tmp30 null
   118 label __label24
   119 op notEqual __tmp36 flag 0
   120 jump __label31 equal __tmp36 false
   121 print ", F"
   122 print flag
-    * set __tmp37 flag
   123 jump __label32 always
   124 label __label31
-    * set __tmp37 null
   125 label __label32
   126 op greaterThan __tmp38 items 0
   127 jump __label33 equal __tmp38 false
 
   134 label __label33
   135 set __tmp39 null
   136 label __label34
-    * set __tmp29 __tmp39
   137 jump __label23 always
   138 label __label22
-    * set __tmp29 null
   139 label __label23
   140 op equal __tmp40 controlled 0
   141 sensor __tmp41 switch1 @enabled
 
   175 label __label42
   176 set __tmp45 __tmp51
   177 label __label38
-    * set __tmp43 __tmp45
   178 jump __label36 always
   179 label __label35
-    * set __tmp43 null
   180 label __label36
   181 op add index index 1
-    * set __tmp6 index
   182 label __label15
   183 label __label1
   184 jump __label0 always

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-6 instructions):
 
    59 sensor __tmp12 switch1 @enabled
    60 jump __label18 equal __tmp12 false
    61 print " (cleanup active)"
-    * set __tmp13 " (cleanup active)"
    62 jump __label19 always
    63 label __label18
-    * set __tmp13 null
    64 label __label19
    65 jump __label17 always
    66 label __label16
 
   127 print items
   128 print " "
   129 print item
-    * set __tmp39 item
   130 jump __label34 always
   131 label __label33
-    * set __tmp39 null
   132 label __label34
   133 jump __label23 always
   134 label __label22
 
   150 ucontrol approach CORE_X CORE_Y 4
   151 set __tmp49 null
   152 label __label40
-    * set __tmp45 __tmp49
   153 jump __label38 always
   154 label __label37
   155 op notEqual __tmp50 flag 0
 
   168 label __label41
   169 set __tmp51 null
   170 label __label42
-    * set __tmp45 __tmp51
   171 label __label38
   172 jump __label36 always
   173 label __label35

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-4 instructions):
 
   144 ucontrol within CORE_X CORE_Y 8 __tmp48
   145 jump __label39 equal __tmp48 false
   146 ucontrol itemDrop CORE items
-    * set __tmp49 null
   147 jump __label40 always
   148 label __label39
   149 ucontrol approach CORE_X CORE_Y 4
-    * set __tmp49 null
   150 label __label40
   151 jump __label38 always
   152 label __label37
 
   161 ucontrol approach THIS_X THIS_Y 4
   162 set __tmp53 null
   163 label __label44
-    * set __tmp51 __tmp53
   164 jump __label42 always
   165 label __label41
-    * set __tmp51 null
   166 label __label42
   167 label __label38
   168 jump __label36 always

Modifications by Initial phase, Dead Code Elimination, iteration 4 (-2 instructions):
 
   155 ucontrol within THIS_X THIS_Y 8 __tmp52
   156 jump __label43 equal __tmp52 false
   157 ucontrol flag 0
-    * set __tmp53 null
   158 jump __label44 always
   159 label __label43
   160 ucontrol approach THIS_X THIS_Y 4
-    * set __tmp53 null
   161 label __label44
   162 jump __label42 always
   163 label __label41

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-1 instructions):
 
     3 set first_unit null
     4 set index 1
     5 label __label0
-    * jump __label2 equal true false
     6 sensor __tmp2 switch2 @enabled
     7 jump __label3 equal __tmp2 false
     8 jump __label7 equal UNIT @flare

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-7 instructions):
 
     5 label __label0
     6 sensor __tmp2 switch2 @enabled
     7 jump __label3 equal __tmp2 false
-    * jump __label7 equal UNIT @flare
-    * jump __label6 always
+    8 jump __label6 notEqual UNIT @flare
     9 label __label7
    10 set __tmp4 @mono
    11 jump __label5 always
    12 label __label6
-    * jump __label9 equal UNIT @mono
-    * jump __label8 always
+   13 jump __label8 notEqual UNIT @mono
    14 label __label9
    15 set __tmp4 @poly
    16 jump __label5 always
    17 label __label8
-    * jump __label11 equal UNIT @poly
-    * jump __label10 always
+   18 jump __label10 notEqual UNIT @poly
    19 label __label11
    20 set __tmp4 @mega
    21 jump __label5 always
    22 label __label10
-    * jump __label13 equal UNIT @mega
-    * jump __label12 always
+   23 jump __label12 notEqual UNIT @mega
    24 label __label13
    25 set __tmp4 @flare
    26 jump __label5 always
 
    82 jump __label22 equal __tmp28 false
    83 print "\n"
    84 print index
-    * jump __label26 equal controlled @ctrlProcessor
-    * jump __label25 always
+   85 jump __label25 notEqual controlled @ctrlProcessor
    86 label __label26
    87 sensor controller @unit @controller
    88 sensor __tmp32 controller @x
 
    95 print y
    96 jump __label24 always
    97 label __label25
-    * jump __label28 equal controlled @ctrlPlayer
-    * jump __label27 always
+   98 jump __label27 notEqual controlled @ctrlPlayer
    99 label __label28
   100 print ", player"
   101 jump __label24 always
   102 label __label27
-    * jump __label30 equal controlled @ctrlFormation
-    * jump __label29 always
+  103 jump __label29 notEqual controlled @ctrlFormation
   104 label __label30
   105 print ", group"
   106 jump __label24 always

Modifications by Iterated phase, Jump Optimization, pass 1, iteration 1 (-6 instructions):
 
    36 label __label3
    37 label __label4
    38 ubind UNIT
-    * op equal __tmp5 @unit null
-    * jump __label14 equal __tmp5 false
+   39 jump __label14 notEqual @unit null
    40 print UNIT
    41 print ": no active unit found."
    42 printflush message1
 
    64 sensor items @unit @totalItems
    65 sensor item @unit @firstItem
    66 sensor __tmp18 @unit @controller
-    * op equal __tmp19 __tmp18 @this
-    * jump __label20 equal __tmp19 false
+   67 jump __label20 notEqual __tmp18 @this
    68 set controlled 0
    69 jump __label21 always
    70 label __label20
 
   104 jump __label24 always
   105 label __label29
   106 label __label24
-    * op notEqual __tmp36 flag 0
-    * jump __label31 equal __tmp36 false
+  107 jump __label31 equal flag 0
   108 print ", F"
   109 print flag
   110 jump __label32 always
   111 label __label31
   112 label __label32
-    * op greaterThan __tmp38 items 0
-    * jump __label33 equal __tmp38 false
+  113 jump __label33 lessThanEq items 0
   114 print ", "
   115 print items
   116 print " "
 
   125 sensor __tmp41 switch1 @enabled
   126 op land __tmp42 __tmp40 __tmp41
   127 jump __label35 equal __tmp42 false
-    * op greaterThan __tmp44 items 0
-    * jump __label37 equal __tmp44 false
+  128 jump __label37 lessThanEq items 0
   129 ucontrol flag 1
   130 ulocate building core false @copper CORE_X CORE_Y __tmp47 CORE
   131 ucontrol within CORE_X CORE_Y 8 __tmp48
 
   137 label __label40
   138 jump __label38 always
   139 label __label37
-    * op notEqual __tmp50 flag 0
-    * jump __label41 equal __tmp50 false
+  140 jump __label41 equal flag 0
   141 ucontrol within THIS_X THIS_Y 8 __tmp52
   142 jump __label43 equal __tmp52 false
   143 ucontrol flag 0

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-10 instructions):
 
    32 control enabled switch2 false
    33 print UNIT
    34 print ": gathering information..."
-    * jump __label4 always
    35 label __label3
    36 label __label4
    37 ubind UNIT
 
    52 sensor __tmp12 switch1 @enabled
    53 jump __label18 equal __tmp12 false
    54 print " (cleanup active)"
-    * jump __label19 always
    55 label __label18
    56 label __label19
-    * jump __label17 always
    57 label __label16
    58 label __label17
    59 sensor controlled @unit @controlled
 
    63 sensor __tmp18 @unit @controller
    64 jump __label20 notEqual __tmp18 @this
    65 set controlled 0
-    * jump __label21 always
    66 label __label20
    67 label __label21
    68 op notEqual __tmp21 flag 0
 
    97 jump __label29 notEqual controlled @ctrlFormation
    98 label __label30
    99 print ", group"
-    * jump __label24 always
   100 label __label29
   101 label __label24
   102 jump __label31 equal flag 0
   103 print ", F"
   104 print flag
-    * jump __label32 always
   105 label __label31
   106 label __label32
   107 jump __label33 lessThanEq items 0
 
   109 print items
   110 print " "
   111 print item
-    * jump __label34 always
   112 label __label33
   113 label __label34
-    * jump __label23 always
   114 label __label22
   115 label __label23
   116 op equal __tmp40 controlled 0
 
   137 label __label43
   138 ucontrol approach THIS_X THIS_Y 4
   139 label __label44
-    * jump __label42 always
   140 label __label41
   141 label __label42
   142 label __label38
-    * jump __label36 always
   143 label __label35
   144 label __label36
   145 op add index index 1

Modifications by Iterated phase, Expression Optimization, pass 1, iteration 1:
     0 set UNIT @mega
-    * sensor THIS_X @this @x
-    * sensor THIS_Y @this @y
+    1 set THIS_X @thisx
+    2 set THIS_Y @thisy
     3 set first_unit null
     4 set index 1
     5 label __label0

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    30 set UNIT __tmp4
    31 set first_unit null
    32 control enabled switch2 false
-    * print UNIT
+   33 print __tmp4
    34 print ": gathering information..."
    35 label __label3
    36 label __label4
 
   130 jump __label38 always
   131 label __label37
   132 jump __label41 equal flag 0
-    * ucontrol within THIS_X THIS_Y 8 __tmp52
+  133 ucontrol within @thisx @thisy 8 __tmp52
   134 jump __label43 equal __tmp52 false
   135 ucontrol flag 0
   136 jump __label44 always
   137 label __label43
-    * ucontrol approach THIS_X THIS_Y 4
+  138 ucontrol approach @thisx @thisy 4
   139 label __label44
   140 label __label41
   141 label __label42

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-2 instructions):
     0 set UNIT @mega
-    * set THIS_X @thisx
-    * set THIS_Y @thisy
     1 set first_unit null
     2 set index 1
     3 label __label0

Modifications by Final phase, Jump Threading, iteration 1:
 
    37 print UNIT
    38 print ": no active unit found."
    39 printflush message1
-    * jump __label15 always
+   40 jump __label0 always
    41 label __label14
    42 op strictEqual __tmp7 @unit first_unit
    43 op strictEqual __tmp8 first_unit null
 
   121 ucontrol within CORE_X CORE_Y 8 __tmp48
   122 jump __label39 equal __tmp48 false
   123 ucontrol itemDrop CORE items
-    * jump __label40 always
+  124 jump __label38 always
   125 label __label39
   126 ucontrol approach CORE_X CORE_Y 4
   127 label __label40

Modifications by Final phase, Unreachable Code Elimination, iteration 1 (-1 instructions):
 
   144 label __label15
   145 label __label1
   146 jump __label0 always
-    * label __label2
-    * end

Final code before resolving virtual instructions:

set UNIT @mega
set first_unit null
set index 1
label __label0
sensor __tmp2 switch2 @enabled
jump __label3 equal __tmp2 false
jump __label6 notEqual UNIT @flare
set __tmp4 @mono
jump __label5 always 0 0
label __label6
jump __label8 notEqual UNIT @mono
set __tmp4 @poly
jump __label5 always 0 0
label __label8
jump __label10 notEqual UNIT @poly
set __tmp4 @mega
jump __label5 always 0 0
label __label10
jump __label12 notEqual UNIT @mega
set __tmp4 @flare
jump __label5 always 0 0
label __label12
set __tmp4 null
label __label5
set UNIT __tmp4
set first_unit null
control enabled switch2 false 0 0 0
print __tmp4
print ": gathering information..."
label __label3
ubind UNIT
jump __label14 notEqual @unit null
print UNIT
print ": no active unit found."
printflush message1
jump __label0 always 0 0
label __label14
op strictEqual __tmp7 @unit first_unit
op strictEqual __tmp8 first_unit null
op or __tmp9 __tmp7 __tmp8
jump __label16 equal __tmp9 false
printflush message1
set first_unit @unit
set index 1
print UNIT
sensor __tmp12 switch1 @enabled
jump __label18 equal __tmp12 false
print " (cleanup active)"
label __label18
label __label16
sensor controlled @unit @controlled
sensor flag @unit @flag
sensor items @unit @totalItems
sensor item @unit @firstItem
sensor __tmp18 @unit @controller
jump __label20 notEqual __tmp18 @this
set controlled 0
label __label20
op notEqual __tmp21 flag 0
op greaterThan __tmp22 items 0
op or __tmp23 __tmp21 __tmp22
op notEqual __tmp24 controlled 0
sensor __tmp25 @unit @controller
op notEqual __tmp26 __tmp25 @this
op land __tmp27 __tmp24 __tmp26
op or __tmp28 __tmp23 __tmp27
jump __label22 equal __tmp28 false
print "\n"
print index
jump __label25 notEqual controlled @ctrlProcessor
sensor controller @unit @controller
sensor __tmp32 controller @x
op floor x __tmp32 0
sensor __tmp34 controller @y
op floor y __tmp34 0
print ", "
print x
print ";"
print y
jump __label24 always 0 0
label __label25
jump __label27 notEqual controlled @ctrlPlayer
print ", player"
jump __label24 always 0 0
label __label27
jump __label29 notEqual controlled @ctrlFormation
print ", group"
label __label29
label __label24
jump __label31 equal flag 0
print ", F"
print flag
label __label31
jump __label33 lessThanEq items 0
print ", "
print items
print " "
print item
label __label33
label __label22
op equal __tmp40 controlled 0
sensor __tmp41 switch1 @enabled
op land __tmp42 __tmp40 __tmp41
jump __label35 equal __tmp42 false
jump __label37 lessThanEq items 0
ucontrol flag 1 0 0 0 0
ulocate building core false @copper CORE_X CORE_Y __tmp47 CORE
ucontrol within CORE_X CORE_Y 8 __tmp48 0
jump __label39 equal __tmp48 false
ucontrol itemDrop CORE items 0 0 0
jump __label38 always 0 0
label __label39
ucontrol approach CORE_X CORE_Y 4 0 0
jump __label38 always 0 0
label __label37
jump __label41 equal flag 0
ucontrol within @thisx @thisy 8 __tmp52 0
jump __label43 equal __tmp52 false
ucontrol flag 0 0 0 0 0
jump __label44 always 0 0
label __label43
ucontrol approach @thisx @thisy 4 0 0
label __label44
label __label41
label __label38
label __label35
op add index index 1
jump __label0 always 0 0
