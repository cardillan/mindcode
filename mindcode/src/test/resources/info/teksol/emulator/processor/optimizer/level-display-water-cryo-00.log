   124 instructions before optimizations.
     8 instructions eliminated by Temp Variables Elimination.
     1 instructions eliminated by Case Expression Optimization.
     9 instructions eliminated by Dead Code Elimination (3 iterations).
     4 instructions eliminated by Jump Optimization (3 iterations).
     4 instructions eliminated by Single Step Elimination (2 passes, 5 iterations).
    10 instructions eliminated by Data Flow Optimization (2 passes, 7 iterations).
     5 instructions added by Loop Optimization (2 iterations).
     3 loops improved by Loop Optimization.
     4 instructions eliminated by Jump Straightening (3 iterations).
    89 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 906):
  * Loop Optimization: replicate condition at line 43            cost     1, benefit       25.0, efficiency       25.0 (-4 instructions)

Final code before resolving virtual instructions:

set TANK_WATER null
set TANK_CRYO null
set MESSAGE null
set SWITCH null
set DISPLAY null
label __label22
print "Water and Cryofluid Level Meter"
set n @links
jump __label5 lessThanEq n 0
label __label23
op sub n n 1
getlink block n
print "\nFound: "
print block
sensor __tmp9 block @type
jump __label7 notEqual __tmp9 @message
set MESSAGE block
jump __label6 always 0 0
label __label7
jump __label9 notEqual __tmp9 @switch
set SWITCH block
jump __label6 always 0 0
label __label9
jump __label11 notEqual __tmp9 @liquid-tank
set TANK_CRYO TANK_WATER
set TANK_WATER block
jump __label6 always 0 0
label __label11
jump __label13 notEqual __tmp9 @logic-display
set DISPLAY block
label __label13
label __label6
jump __label23 greaterThan n 0
label __label5
print "\nMessage: "
print MESSAGE
print "\nSwitch: "
print SWITCH
print "\nWater tank: "
print TANK_WATER
print "\nCryo tank: "
print TANK_CRYO
jump __label15 notEqual TANK_CRYO null
print "\nNo cryofluid or water tank."
label __label15
jump __label17 notEqual DISPLAY null
print "\nNo display."
label __label17
printflush MESSAGE
op equal __tmp0 TANK_CRYO null
op equal __tmp1 TANK_WATER null
op or __tmp2 __tmp0 __tmp1
op equal __tmp3 DISPLAY null
op or __tmp4 __tmp2 __tmp3
jump __label22 notEqual __tmp4 false
control enabled SWITCH 0 0 0 0
sensor __tmp15 SWITCH @enabled
jump __label21 notEqual __tmp15 0
label __label24
set start_time @time
draw clear 0 0 0 0 0 0
draw color 255 255 255 255 0 0
draw image 20 10 @water 16 0 0
draw image 60 10 @cryofluid 16 0 0
draw color 90 100 170 255 0 0
draw rect 14 20 12 55 0 0
draw color 255 255 16 255 0 0
sensor water TANK_WATER @totalLiquids
op mul __tmp19 water 0.03666666666666667
op add pos __tmp19 20
op add __tmp21 pos 7
op sub __tmp22 pos 7
draw triangle 6 __tmp21 14 pos 6 __tmp22
draw triangle 34 __tmp21 26 pos 34 __tmp22
draw color 110 200 230 255 0 0
draw rect 54 20 12 55 0 0
draw color 255 255 16 255 0 0
sensor cryo TANK_CRYO @totalLiquids
op mul __tmp26 cryo 0.03666666666666667
op add pos __tmp26 20
op add __tmp28 pos 7
op sub __tmp29 pos 7
draw triangle 46 __tmp28 54 pos 46 __tmp29
draw triangle 74 __tmp28 66 pos 74 __tmp29
drawflush DISPLAY
print "Water and Cryofluid Level Meter"
op mul __tmp32 100 water
op idiv __tmp33 __tmp32 100
print "\nWater level: "
print __tmp33
op mul __tmp34 100 cryo
op idiv __tmp35 __tmp34 100
print "\nCryofluid level: "
print __tmp35
op sub __tmp36 @time start_time
print "\nElapsed: "
print __tmp36
printflush MESSAGE
sensor __tmp15 SWITCH @enabled
jump __label24 equal __tmp15 0
label __label21
