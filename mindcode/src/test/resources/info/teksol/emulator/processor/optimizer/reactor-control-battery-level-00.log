   120 instructions before optimizations.
    23 instructions eliminated by Temp Variables Elimination.
     2 instructions eliminated by Dead Code Elimination (3 iterations).
     1 instructions eliminated by Jump Normalization (3 iterations).
     1 instructions eliminated by Jump Optimization (3 iterations).
     1 instructions eliminated by Single Step Elimination (4 iterations).
   526 instructions eliminated by Data Flow Optimization (2 passes, 8 iterations).
     2 instructions added by Loop Optimization (2 iterations).
     2 loops improved by Loop Optimization.
  1021 instructions added by Loop Unrolling (4 iterations).
     1 loops unrolled by Loop Unrolling.
     1 instructions eliminated by Unreachable Code Elimination.
     4 instructions eliminated by Print Merging.
   584 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 922):
  * Loop Optimization: replicate condition at line 74            cost     3, benefit      625.0, efficiency      208.3 (+3 instructions)
    Loop Unrolling: unroll loop at line 8                        cost   508, benefit    25600.0, efficiency       50.4

Pass 1: speed optimization selection (cost limit 919):
  * Loop Unrolling: unroll loop at line 8                        cost   508, benefit    25600.0, efficiency       50.4 (+508 instructions)

Final code before resolving virtual instructions:

printflush message1
print "Initializing..."
printflush message1
write 0 bank1 0
write 0 bank1 1
write 0 bank1 2
write 0 bank1 3
write 0 bank1 4
write 0 bank1 5
write 0 bank1 6
write 0 bank1 7
write 0 bank1 8
write 0 bank1 9
write 0 bank1 10
write 0 bank1 11
write 0 bank1 12
write 0 bank1 13
write 0 bank1 14
write 0 bank1 15
write 0 bank1 16
write 0 bank1 17
write 0 bank1 18
write 0 bank1 19
write 0 bank1 20
write 0 bank1 21
write 0 bank1 22
write 0 bank1 23
write 0 bank1 24
write 0 bank1 25
write 0 bank1 26
write 0 bank1 27
write 0 bank1 28
write 0 bank1 29
write 0 bank1 30
write 0 bank1 31
write 0 bank1 32
write 0 bank1 33
write 0 bank1 34
write 0 bank1 35
write 0 bank1 36
write 0 bank1 37
write 0 bank1 38
write 0 bank1 39
write 0 bank1 40
write 0 bank1 41
write 0 bank1 42
write 0 bank1 43
write 0 bank1 44
write 0 bank1 45
write 0 bank1 46
write 0 bank1 47
write 0 bank1 48
write 0 bank1 49
write 0 bank1 50
write 0 bank1 51
write 0 bank1 52
write 0 bank1 53
write 0 bank1 54
write 0 bank1 55
write 0 bank1 56
write 0 bank1 57
write 0 bank1 58
write 0 bank1 59
write 0 bank1 60
write 0 bank1 61
write 0 bank1 62
write 0 bank1 63
write 0 bank1 64
write 0 bank1 65
write 0 bank1 66
write 0 bank1 67
write 0 bank1 68
write 0 bank1 69
write 0 bank1 70
write 0 bank1 71
write 0 bank1 72
write 0 bank1 73
write 0 bank1 74
write 0 bank1 75
write 0 bank1 76
write 0 bank1 77
write 0 bank1 78
write 0 bank1 79
write 0 bank1 80
write 0 bank1 81
write 0 bank1 82
write 0 bank1 83
write 0 bank1 84
write 0 bank1 85
write 0 bank1 86
write 0 bank1 87
write 0 bank1 88
write 0 bank1 89
write 0 bank1 90
write 0 bank1 91
write 0 bank1 92
write 0 bank1 93
write 0 bank1 94
write 0 bank1 95
write 0 bank1 96
write 0 bank1 97
write 0 bank1 98
write 0 bank1 99
write 0 bank1 100
write 0 bank1 101
write 0 bank1 102
write 0 bank1 103
write 0 bank1 104
write 0 bank1 105
write 0 bank1 106
write 0 bank1 107
write 0 bank1 108
write 0 bank1 109
write 0 bank1 110
write 0 bank1 111
write 0 bank1 112
write 0 bank1 113
write 0 bank1 114
write 0 bank1 115
write 0 bank1 116
write 0 bank1 117
write 0 bank1 118
write 0 bank1 119
write 0 bank1 120
write 0 bank1 121
write 0 bank1 122
write 0 bank1 123
write 0 bank1 124
write 0 bank1 125
write 0 bank1 126
write 0 bank1 127
write 0 bank1 128
write 0 bank1 129
write 0 bank1 130
write 0 bank1 131
write 0 bank1 132
write 0 bank1 133
write 0 bank1 134
write 0 bank1 135
write 0 bank1 136
write 0 bank1 137
write 0 bank1 138
write 0 bank1 139
write 0 bank1 140
write 0 bank1 141
write 0 bank1 142
write 0 bank1 143
write 0 bank1 144
write 0 bank1 145
write 0 bank1 146
write 0 bank1 147
write 0 bank1 148
write 0 bank1 149
write 0 bank1 150
write 0 bank1 151
write 0 bank1 152
write 0 bank1 153
write 0 bank1 154
write 0 bank1 155
write 0 bank1 156
write 0 bank1 157
write 0 bank1 158
write 0 bank1 159
write 0 bank1 160
write 0 bank1 161
write 0 bank1 162
write 0 bank1 163
write 0 bank1 164
write 0 bank1 165
write 0 bank1 166
write 0 bank1 167
write 0 bank1 168
write 0 bank1 169
write 0 bank1 170
write 0 bank1 171
write 0 bank1 172
write 0 bank1 173
write 0 bank1 174
write 0 bank1 175
write 0 bank1 176
write 0 bank1 177
write 0 bank1 178
write 0 bank1 179
write 0 bank1 180
write 0 bank1 181
write 0 bank1 182
write 0 bank1 183
write 0 bank1 184
write 0 bank1 185
write 0 bank1 186
write 0 bank1 187
write 0 bank1 188
write 0 bank1 189
write 0 bank1 190
write 0 bank1 191
write 0 bank1 192
write 0 bank1 193
write 0 bank1 194
write 0 bank1 195
write 0 bank1 196
write 0 bank1 197
write 0 bank1 198
write 0 bank1 199
write 0 bank1 200
write 0 bank1 201
write 0 bank1 202
write 0 bank1 203
write 0 bank1 204
write 0 bank1 205
write 0 bank1 206
write 0 bank1 207
write 0 bank1 208
write 0 bank1 209
write 0 bank1 210
write 0 bank1 211
write 0 bank1 212
write 0 bank1 213
write 0 bank1 214
write 0 bank1 215
write 0 bank1 216
write 0 bank1 217
write 0 bank1 218
write 0 bank1 219
write 0 bank1 220
write 0 bank1 221
write 0 bank1 222
write 0 bank1 223
write 0 bank1 224
write 0 bank1 225
write 0 bank1 226
write 0 bank1 227
write 0 bank1 228
write 0 bank1 229
write 0 bank1 230
write 0 bank1 231
write 0 bank1 232
write 0 bank1 233
write 0 bank1 234
write 0 bank1 235
write 0 bank1 236
write 0 bank1 237
write 0 bank1 238
write 0 bank1 239
write 0 bank1 240
write 0 bank1 241
write 0 bank1 242
write 0 bank1 243
write 0 bank1 244
write 0 bank1 245
write 0 bank1 246
write 0 bank1 247
write 0 bank1 248
write 0 bank1 249
write 0 bank1 250
write 0 bank1 251
write 0 bank1 252
write 0 bank1 253
write 0 bank1 254
write 0 bank1 255
write 0 bank1 256
write 0 bank1 257
write 0 bank1 258
write 0 bank1 259
write 0 bank1 260
write 0 bank1 261
write 0 bank1 262
write 0 bank1 263
write 0 bank1 264
write 0 bank1 265
write 0 bank1 266
write 0 bank1 267
write 0 bank1 268
write 0 bank1 269
write 0 bank1 270
write 0 bank1 271
write 0 bank1 272
write 0 bank1 273
write 0 bank1 274
write 0 bank1 275
write 0 bank1 276
write 0 bank1 277
write 0 bank1 278
write 0 bank1 279
write 0 bank1 280
write 0 bank1 281
write 0 bank1 282
write 0 bank1 283
write 0 bank1 284
write 0 bank1 285
write 0 bank1 286
write 0 bank1 287
write 0 bank1 288
write 0 bank1 289
write 0 bank1 290
write 0 bank1 291
write 0 bank1 292
write 0 bank1 293
write 0 bank1 294
write 0 bank1 295
write 0 bank1 296
write 0 bank1 297
write 0 bank1 298
write 0 bank1 299
write 0 bank1 300
write 0 bank1 301
write 0 bank1 302
write 0 bank1 303
write 0 bank1 304
write 0 bank1 305
write 0 bank1 306
write 0 bank1 307
write 0 bank1 308
write 0 bank1 309
write 0 bank1 310
write 0 bank1 311
write 0 bank1 312
write 0 bank1 313
write 0 bank1 314
write 0 bank1 315
write 0 bank1 316
write 0 bank1 317
write 0 bank1 318
write 0 bank1 319
write 0 bank1 320
write 0 bank1 321
write 0 bank1 322
write 0 bank1 323
write 0 bank1 324
write 0 bank1 325
write 0 bank1 326
write 0 bank1 327
write 0 bank1 328
write 0 bank1 329
write 0 bank1 330
write 0 bank1 331
write 0 bank1 332
write 0 bank1 333
write 0 bank1 334
write 0 bank1 335
write 0 bank1 336
write 0 bank1 337
write 0 bank1 338
write 0 bank1 339
write 0 bank1 340
write 0 bank1 341
write 0 bank1 342
write 0 bank1 343
write 0 bank1 344
write 0 bank1 345
write 0 bank1 346
write 0 bank1 347
write 0 bank1 348
write 0 bank1 349
write 0 bank1 350
write 0 bank1 351
write 0 bank1 352
write 0 bank1 353
write 0 bank1 354
write 0 bank1 355
write 0 bank1 356
write 0 bank1 357
write 0 bank1 358
write 0 bank1 359
write 0 bank1 360
write 0 bank1 361
write 0 bank1 362
write 0 bank1 363
write 0 bank1 364
write 0 bank1 365
write 0 bank1 366
write 0 bank1 367
write 0 bank1 368
write 0 bank1 369
write 0 bank1 370
write 0 bank1 371
write 0 bank1 372
write 0 bank1 373
write 0 bank1 374
write 0 bank1 375
write 0 bank1 376
write 0 bank1 377
write 0 bank1 378
write 0 bank1 379
write 0 bank1 380
write 0 bank1 381
write 0 bank1 382
write 0 bank1 383
write 0 bank1 384
write 0 bank1 385
write 0 bank1 386
write 0 bank1 387
write 0 bank1 388
write 0 bank1 389
write 0 bank1 390
write 0 bank1 391
write 0 bank1 392
write 0 bank1 393
write 0 bank1 394
write 0 bank1 395
write 0 bank1 396
write 0 bank1 397
write 0 bank1 398
write 0 bank1 399
write 0 bank1 400
write 0 bank1 401
write 0 bank1 402
write 0 bank1 403
write 0 bank1 404
write 0 bank1 405
write 0 bank1 406
write 0 bank1 407
write 0 bank1 408
write 0 bank1 409
write 0 bank1 410
write 0 bank1 411
write 0 bank1 412
write 0 bank1 413
write 0 bank1 414
write 0 bank1 415
write 0 bank1 416
write 0 bank1 417
write 0 bank1 418
write 0 bank1 419
write 0 bank1 420
write 0 bank1 421
write 0 bank1 422
write 0 bank1 423
write 0 bank1 424
write 0 bank1 425
write 0 bank1 426
write 0 bank1 427
write 0 bank1 428
write 0 bank1 429
write 0 bank1 430
write 0 bank1 431
write 0 bank1 432
write 0 bank1 433
write 0 bank1 434
write 0 bank1 435
write 0 bank1 436
write 0 bank1 437
write 0 bank1 438
write 0 bank1 439
write 0 bank1 440
write 0 bank1 441
write 0 bank1 442
write 0 bank1 443
write 0 bank1 444
write 0 bank1 445
write 0 bank1 446
write 0 bank1 447
write 0 bank1 448
write 0 bank1 449
write 0 bank1 450
write 0 bank1 451
write 0 bank1 452
write 0 bank1 453
write 0 bank1 454
write 0 bank1 455
write 0 bank1 456
write 0 bank1 457
write 0 bank1 458
write 0 bank1 459
write 0 bank1 460
write 0 bank1 461
write 0 bank1 462
write 0 bank1 463
write 0 bank1 464
write 0 bank1 465
write 0 bank1 466
write 0 bank1 467
write 0 bank1 468
write 0 bank1 469
write 0 bank1 470
write 0 bank1 471
write 0 bank1 472
write 0 bank1 473
write 0 bank1 474
write 0 bank1 475
write 0 bank1 476
write 0 bank1 477
write 0 bank1 478
write 0 bank1 479
write 0 bank1 480
write 0 bank1 481
write 0 bank1 482
write 0 bank1 483
write 0 bank1 484
write 0 bank1 485
write 0 bank1 486
write 0 bank1 487
write 0 bank1 488
write 0 bank1 489
write 0 bank1 490
write 0 bank1 491
write 0 bank1 492
write 0 bank1 493
write 0 bank1 494
write 0 bank1 495
write 0 bank1 496
write 0 bank1 497
write 0 bank1 498
write 0 bank1 499
write 0 bank1 500
write 0 bank1 501
write 0 bank1 502
write 0 bank1 503
write 0 bank1 504
write 0 bank1 505
write 0 bank1 506
write 0 bank1 507
write 0 bank1 508
write 0 bank1 509
write 0 bank1 510
write 0 bank1 511
set ACCU_CONS 0
set ACCU_PROD 0
set index 0
set loops 0
set wait @time
label __label3
jump __label6 notEqual loops 0
set wait @time
label __label6
op add wait wait 150
sensor powerNetIn battery1 @powerNetIn
sensor powerNetOut battery1 @powerNetOut
sensor powerNetStored battery1 @powerNetStored
read __tmp11 bank1 index
op sub ACCU_CONS ACCU_CONS __tmp11
op add ACCU_CONS ACCU_CONS powerNetOut
write powerNetOut bank1 index
op div __tmp14 ACCU_CONS 40
op add __tmp15 __tmp14 0.5
op floor consumption __tmp15 0
write consumption bank1 508
op add tmp index 100
read __tmp18 bank1 tmp
op sub ACCU_PROD ACCU_PROD __tmp18
op add ACCU_PROD ACCU_PROD powerNetIn
write powerNetIn bank1 tmp
op div __tmp21 ACCU_PROD 40
op add __tmp22 __tmp21 0.5
op floor production __tmp22 0
write production bank1 509
op sub __tmp24 ACCU_PROD ACCU_CONS
op div __tmp25 __tmp24 40
op add __tmp26 __tmp25 0.5
op floor net_power __tmp26 0
write net_power bank1 510
op add tmp tmp 100
read last bank1 tmp
write powerNetStored bank1 tmp
op sub diff powerNetStored last
op div __tmp31 diff 6
op add __tmp32 __tmp31 0.5
op floor battery_change __tmp32 0
write battery_change bank1 511
op add __tmp34 index 1
op mod index __tmp34 40
print "Measured interval: [green]"
print 6
print "[] seconds\nConsumption: [green]"
print consumption
print "[]\nProduction: [green]"
print production
print "[]\nNet power: [green]"
print net_power
print "[]\nBattery change: [green]"
print battery_change
print "[]"
set loops 0
set start @time
op greaterThanEq __tmp37 @time start
op lessThan __tmp38 @time wait
op land __tmp39 __tmp37 __tmp38
jump __label10 equal __tmp39 false
label __label12
op add loops loops 1
op greaterThanEq __tmp37 @time start
op lessThan __tmp38 @time wait
op land __tmp39 __tmp37 __tmp38
jump __label12 notEqual __tmp39 false
label __label10
print "\n[lightgray]Loops: "
print loops
printflush message1
jump __label3 always 0 0
