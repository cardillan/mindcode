   198 instructions before optimizations.
    35 instructions eliminated by Temp Variables Elimination.
    16 instructions eliminated by Dead Code Elimination (3 iterations).
    12 instructions eliminated by Jump Optimization (4 iterations).
    11 instructions eliminated by Single Step Elimination (3 passes, 7 iterations).
   128 instructions eliminated by Data Flow Optimization (4 passes, 15 iterations).
     1 instructions eliminated by Loop Optimization (3 iterations).
     6 loops improved by Loop Optimization.
   670 instructions added by Loop Unrolling (6 iterations).
     2 loops unrolled by Loop Unrolling.
     3 instructions eliminated by Print Merging.
   662 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 879):
    Loop Optimization: replicate condition at line 32            cost     1, benefit       25.0, efficiency       25.0
    Loop Unrolling: unroll loop at line 24                       cost   137, benefit     1450.0, efficiency       10.6
  * Loop Unrolling: unroll loop at line 65                       cost   473, benefit    36250.0, efficiency       76.6 (+411 instructions)

Pass 1: speed optimization selection (cost limit 468):
  * Loop Optimization: replicate condition at line 32            cost     1, benefit       25.0, efficiency       25.0 (+1 instructions)
    Loop Unrolling: unroll loop at line 24                       cost   137, benefit     1450.0, efficiency       10.6

Pass 1: speed optimization selection (cost limit 467):
  * Loop Unrolling: unroll loop at line 24                       cost   137, benefit     1450.0, efficiency       10.6 (+137 instructions)

Final code before resolving virtual instructions:

set MEMORY bank1
set COORD cell1
set SMOOTH 3
set POSITION 0
set TOTAL 1
set FREQ 1000
printflush message1
print "Item Rate Display\n"
print "[gold]Initializing...[]\n"
printflush message1
draw stroke 1 0 0 0 0 0
op mul SHIFT POSITION 30
read __tmp3 MEMORY 256
op sub ptr __tmp3 SHIFT
jump __label0 greaterThanEq ptr 256
op add ptr ptr 254
label __label0
read maximum MEMORY ptr
op sub ptr ptr 1
jump __label217 greaterThan ptr 256
op sub ptr 511 1
label __label217
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label221 greaterThan ptr 256
op sub ptr 511 1
label __label221
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label225 greaterThan ptr 256
op sub ptr 511 1
label __label225
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label229 greaterThan ptr 256
op sub ptr 511 1
label __label229
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label233 greaterThan ptr 256
op sub ptr 511 1
label __label233
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label237 greaterThan ptr 256
op sub ptr 511 1
label __label237
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label241 greaterThan ptr 256
op sub ptr 511 1
label __label241
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label245 greaterThan ptr 256
op sub ptr 511 1
label __label245
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label249 greaterThan ptr 256
op sub ptr 511 1
label __label249
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label253 greaterThan ptr 256
op sub ptr 511 1
label __label253
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label257 greaterThan ptr 256
op sub ptr 511 1
label __label257
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label261 greaterThan ptr 256
op sub ptr 511 1
label __label261
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label265 greaterThan ptr 256
op sub ptr 511 1
label __label265
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label269 greaterThan ptr 256
op sub ptr 511 1
label __label269
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label273 greaterThan ptr 256
op sub ptr 511 1
label __label273
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label277 greaterThan ptr 256
op sub ptr 511 1
label __label277
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label281 greaterThan ptr 256
op sub ptr 511 1
label __label281
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label285 greaterThan ptr 256
op sub ptr 511 1
label __label285
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label289 greaterThan ptr 256
op sub ptr 511 1
label __label289
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label293 greaterThan ptr 256
op sub ptr 511 1
label __label293
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label297 greaterThan ptr 256
op sub ptr 511 1
label __label297
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label301 greaterThan ptr 256
op sub ptr 511 1
label __label301
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label305 greaterThan ptr 256
op sub ptr 511 1
label __label305
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label309 greaterThan ptr 256
op sub ptr 511 1
label __label309
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label313 greaterThan ptr 256
op sub ptr 511 1
label __label313
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label317 greaterThan ptr 256
op sub ptr 511 1
label __label317
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label321 greaterThan ptr 256
op sub ptr 511 1
label __label321
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label325 greaterThan ptr 256
op sub ptr 511 1
label __label325
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op sub ptr ptr 1
jump __label329 greaterThan ptr 256
op sub ptr 511 1
label __label329
read __tmp13 MEMORY ptr
op max maximum maximum __tmp13
op mul maximum maximum SMOOTH
sensor __tmp16 switch1 @enabled
jump __label9 notEqual __tmp16 0
label __label214
print "Item Rate Display"
set start @time
sensor __tmp19 COORD @dead
jump __label10 notEqual __tmp19 0
set n 0
jump __label14 greaterThanEq 0 TOTAL
label __label35
read m COORD n
print "\nCoord: [gold]"
print m
print "[]"
op max maximum maximum m
op add n n 1
jump __label35 lessThan n TOTAL
label __label14
label __label10
op div scale 150 maximum
op ceil __tmp27 maximum 0
print "\nMaximum: [green]"
print __tmp27
op floor __tmp28 scale 0
print "[]\nScale: [green]"
print __tmp28
print "[]"
draw clear 0 0 80 0 0 0
draw color 0 80 0 255 0 0
draw rect 10 10 156 156 0 0
read __tmp29 MEMORY 256
op sub head __tmp29 SHIFT
jump __label15 greaterThanEq head 256
op add head head 254
label __label15
set tail head
set value 0
set i 0
jump __label19 greaterThanEq 0 SMOOTH
label __label36
read __tmp35 MEMORY head
op add value value __tmp35
op sub head head 1
jump __label20 greaterThan head 256
op sub head 511 1
label __label20
op add i i 1
jump __label36 lessThan i SMOOTH
label __label19
op mul __tmp42 value scale
op add last 10 __tmp42
set newMax value
draw color 80 255 80 255 0 0
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label41 greaterThan head 256
op sub head 511 1
label __label41
op sub tail tail 1
jump __label43 greaterThan tail 256
op sub tail 511 1
label __label43
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 159 last 154 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label47 greaterThan head 256
op sub head 511 1
label __label47
op sub tail tail 1
jump __label49 greaterThan tail 256
op sub tail 511 1
label __label49
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 154 last 149 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label53 greaterThan head 256
op sub head 511 1
label __label53
op sub tail tail 1
jump __label55 greaterThan tail 256
op sub tail 511 1
label __label55
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 149 last 144 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label59 greaterThan head 256
op sub head 511 1
label __label59
op sub tail tail 1
jump __label61 greaterThan tail 256
op sub tail 511 1
label __label61
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 144 last 139 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label65 greaterThan head 256
op sub head 511 1
label __label65
op sub tail tail 1
jump __label67 greaterThan tail 256
op sub tail 511 1
label __label67
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 139 last 134 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label71 greaterThan head 256
op sub head 511 1
label __label71
op sub tail tail 1
jump __label73 greaterThan tail 256
op sub tail 511 1
label __label73
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 134 last 129 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label77 greaterThan head 256
op sub head 511 1
label __label77
op sub tail tail 1
jump __label79 greaterThan tail 256
op sub tail 511 1
label __label79
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 129 last 124 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label83 greaterThan head 256
op sub head 511 1
label __label83
op sub tail tail 1
jump __label85 greaterThan tail 256
op sub tail 511 1
label __label85
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 124 last 119 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label89 greaterThan head 256
op sub head 511 1
label __label89
op sub tail tail 1
jump __label91 greaterThan tail 256
op sub tail 511 1
label __label91
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 119 last 114 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label95 greaterThan head 256
op sub head 511 1
label __label95
op sub tail tail 1
jump __label97 greaterThan tail 256
op sub tail 511 1
label __label97
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 114 last 109 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label101 greaterThan head 256
op sub head 511 1
label __label101
op sub tail tail 1
jump __label103 greaterThan tail 256
op sub tail 511 1
label __label103
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 109 last 104 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label107 greaterThan head 256
op sub head 511 1
label __label107
op sub tail tail 1
jump __label109 greaterThan tail 256
op sub tail 511 1
label __label109
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 104 last 99 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label113 greaterThan head 256
op sub head 511 1
label __label113
op sub tail tail 1
jump __label115 greaterThan tail 256
op sub tail 511 1
label __label115
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 99 last 94 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label119 greaterThan head 256
op sub head 511 1
label __label119
op sub tail tail 1
jump __label121 greaterThan tail 256
op sub tail 511 1
label __label121
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 94 last 89 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label125 greaterThan head 256
op sub head 511 1
label __label125
op sub tail tail 1
jump __label127 greaterThan tail 256
op sub tail 511 1
label __label127
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 89 last 84 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label131 greaterThan head 256
op sub head 511 1
label __label131
op sub tail tail 1
jump __label133 greaterThan tail 256
op sub tail 511 1
label __label133
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 84 last 79 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label137 greaterThan head 256
op sub head 511 1
label __label137
op sub tail tail 1
jump __label139 greaterThan tail 256
op sub tail 511 1
label __label139
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 79 last 74 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label143 greaterThan head 256
op sub head 511 1
label __label143
op sub tail tail 1
jump __label145 greaterThan tail 256
op sub tail 511 1
label __label145
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 74 last 69 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label149 greaterThan head 256
op sub head 511 1
label __label149
op sub tail tail 1
jump __label151 greaterThan tail 256
op sub tail 511 1
label __label151
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 69 last 64 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label155 greaterThan head 256
op sub head 511 1
label __label155
op sub tail tail 1
jump __label157 greaterThan tail 256
op sub tail 511 1
label __label157
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 64 last 59 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label161 greaterThan head 256
op sub head 511 1
label __label161
op sub tail tail 1
jump __label163 greaterThan tail 256
op sub tail 511 1
label __label163
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 59 last 54 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label167 greaterThan head 256
op sub head 511 1
label __label167
op sub tail tail 1
jump __label169 greaterThan tail 256
op sub tail 511 1
label __label169
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 54 last 49 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label173 greaterThan head 256
op sub head 511 1
label __label173
op sub tail tail 1
jump __label175 greaterThan tail 256
op sub tail 511 1
label __label175
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 49 last 44 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label179 greaterThan head 256
op sub head 511 1
label __label179
op sub tail tail 1
jump __label181 greaterThan tail 256
op sub tail 511 1
label __label181
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 44 last 39 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label185 greaterThan head 256
op sub head 511 1
label __label185
op sub tail tail 1
jump __label187 greaterThan tail 256
op sub tail 511 1
label __label187
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 39 last 34 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label191 greaterThan head 256
op sub head 511 1
label __label191
op sub tail tail 1
jump __label193 greaterThan tail 256
op sub tail 511 1
label __label193
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 34 last 29 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label197 greaterThan head 256
op sub head 511 1
label __label197
op sub tail tail 1
jump __label199 greaterThan tail 256
op sub tail 511 1
label __label199
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 29 last 24 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op sub head head 1
jump __label203 greaterThan head 256
op sub head 511 1
label __label203
op sub tail tail 1
jump __label205 greaterThan tail 256
op sub tail 511 1
label __label205
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 24 last 19 y 0 0
set last y
op max newMax newMax value
read t MEMORY tail
read h MEMORY head
op sub __tmp46 value t
op add value __tmp46 h
op mul __tmp56 value scale
op add y 10 __tmp56
draw line 19 last 14 y 0 0
op max newMax newMax value
draw color 255 255 255 255 0 0
draw lineRect 10 10 156 156 0 0
op max maximum newMax maximum
op mul __tmp61 3 newMax
jump __label29 greaterThanEq __tmp61 maximum
op mul maximum 1.5 newMax
label __label29
write maximum COORD POSITION
op sub __tmp65 @time start
op floor __tmp66 __tmp65 0
print "\n[lightgray]Loop time: "
print __tmp66
print " ms"
op div __tmp67 @time FREQ
op ceil __tmp68 __tmp67 0
op mul wait FREQ __tmp68
set loops 0
jump __label33 greaterThanEq @time wait
label __label38
op add loops loops 1
jump __label38 lessThan @time wait
label __label33
drawflush display1
print "\nLoops: "
print loops
printflush message1
sensor __tmp16 switch1 @enabled
jump __label214 equal __tmp16 0
label __label9
control enabled switch1 0 0 0 0
